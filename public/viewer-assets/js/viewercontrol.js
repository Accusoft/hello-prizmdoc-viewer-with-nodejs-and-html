// See license at https://www.npmjs.com/package/@prizmdoc/viewer-core
// @prizmdoc/viewer-core@13.11.5
(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.viewerCore=f()}})(function(){var define,module,exports;return(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){'use strict';var styleElementsInsertedAtTop=[];var insertStyleElement=function(styleElement,options){var head=document.head||document.getElementsByTagName('head')[0];var lastStyleElementInsertedAtTop=styleElementsInsertedAtTop[styleElementsInsertedAtTop.length-1];options=options||{};options.insertAt=options.insertAt||'bottom';if(options.insertAt==='top'){if(!lastStyleElementInsertedAtTop){head.insertBefore(styleElement,head.firstChild);}else if(lastStyleElementInsertedAtTop.nextSibling){head.insertBefore(styleElement,lastStyleElementInsertedAtTop.nextSibling);}else{head.appendChild(styleElement);}styleElementsInsertedAtTop.push(styleElement);}else if(options.insertAt==='bottom'){head.appendChild(styleElement);}else{throw new Error('Invalid value for parameter \'insertAt\'. Must be \'top\' or \'bottom\'.');}};module.exports={createLink:function(href,attributes){var head=document.head||document.getElementsByTagName('head')[0];var link=document.createElement('link');link.href=href;link.rel='stylesheet';for(var key in attributes){if(!attributes.hasOwnProperty(key)){continue;}var value=attributes[key];link.setAttribute('data-'+key,value);}head.appendChild(link);},createStyle:function(cssText,attributes,extraOptions){extraOptions=extraOptions||{};var style=document.createElement('style');style.type='text/css';for(var key in attributes){if(!attributes.hasOwnProperty(key)){continue;}var value=attributes[key];style.setAttribute('data-'+key,value);}if(style.sheet){style.innerHTML=cssText;style.sheet.cssText=cssText;insertStyleElement(style,{insertAt:extraOptions.insertAt});}else if(style.styleSheet){insertStyleElement(style,{insertAt:extraOptions.insertAt});style.styleSheet.cssText=cssText;}else{style.appendChild(document.createTextNode(cssText));insertStyleElement(style,{insertAt:extraOptions.insertAt});}}};},{}],2:[function(require,module,exports){var cursor=require('./util/cursor.js');var mask=require('./util/mask.js');function InputMask(elem,options){var originalPlaceholder=elem.placeholder;var regexMask=mask.getRegex(options.value,options.translations);function onInput(){var cursorPos=cursor.get(elem);var oldVal=elem.value;var newVal=mask.getValue(oldVal,options.value,options.translations,cursorPos);elem.value=newVal.val;setTimeout(function(){cursor.set(elem,cursorPos+newVal.cursorAdjustment);},1);};function clearInvalidValue(){elem.value=mask.fill(elem.value,options.value,options.translations);if(!regexMask.test(elem.value)){elem.value='';}}(function init(){clearInvalidValue();elem.placeholder=mask.getPlaceholder(options.value,options.translations);elem.addEventListener('input',onInput);elem.addEventListener('focusout',clearInvalidValue);elem.addEventListener('blur',clearInvalidValue);}());this.destroy=function(){clearInvalidValue();elem.placeholder=originalPlaceholder;elem.removeEventListener('input',onInput);elem.removeEventListener('focusout',clearInvalidValue);elem.removeEventListener('blur',clearInvalidValue);};};module.exports=InputMask;},{"./util/cursor.js":3,"./util/mask.js":4}],3:[function(require,module,exports){function getCursor(elem){var position=0;if(elem.selectionEnd){position=elem.selectionEnd;}return Number(position);};function setCursor(elem,position){elem.setSelectionRange(position,position);};module.exports={get:getCursor,set:setCursor};},{}],4:[function(require,module,exports){var reRegExpChar=/[\\^$.*+?()[\]{}|]/g;var reHasRegExpChar=new RegExp(reRegExpChar.source);function getMaskRegex(mask,translations){var maskRegex='';var char,translation,i;for(i=0;i<mask.length;i++){char=mask.charAt(i);translation=translations[char];if(translation){maskRegex+=translation.toString().replace(/.{1}$|^.{1}/g,'');}else if(reHasRegExpChar.test(char)){maskRegex+=char.replace(reRegExpChar,'\\$&');}else{maskRegex+=char;}}return new RegExp(maskRegex);};function getMaskPlaceholder(mask,translations){var placeholder=mask;var key;for(key in translations){if(translations.hasOwnProperty(key)){if(reHasRegExpChar.test(key)){key=key.replace(reRegExpChar,'\\$&');}placeholder=placeholder.replace(new RegExp(key,'g'),'_');}}return placeholder;};function getMaskValue(value,mask,translations,cursorPos){var result={val:'',cursorAdjustment:0};var m=0;var v=0;var lastUntranslatedMaskChar,maskChar,valChar,translation;while(m<mask.length&&v<value.length){maskChar=mask.charAt(m);valChar=value.charAt(v);translation=translations[maskChar];if(translation){if(valChar.match(translation)){result.val+=valChar;m+=1;}else if(v<cursorPos){result.cursorAdjustment-=1;}else if(valChar===lastUntranslatedMaskChar){lastUntranslatedMaskChar=null;}v+=1;}else{result.val+=maskChar;if(valChar===maskChar){v+=1;}else{if(v<cursorPos){result.cursorAdjustment+=1;}lastUntranslatedMaskChar=maskChar;}m+=1;}}return result;};function fillMask(value,mask,translations){var newVal=value;var index=value.length;var maskChar;while(index<mask.length){maskChar=mask[index];if(translations[maskChar]){break;}newVal+=maskChar;index+=1;}return newVal;};module.exports={getRegex:getMaskRegex,getPlaceholder:getMaskPlaceholder,getValue:getMaskValue,fill:fillMask};},{}],5:[function(require,module,exports){var util=require('./util.js');var regexSearch=require('./regex-search.js');var proximitySearch=require('./proximity-search.js');function isSimpleSearchInput(input){return(typeof input.pattern==='string'&&(typeof input.caseSensitive==='boolean'||typeof input.caseSensitive==='undefined'));};function isProximitySearchInput(input){if(!util.isPositiveInteger(input.distance)|| !(input.subTerms instanceof Array)){return false;}return util.every(input.subTerms,isSimpleSearchInput);};function isSearchInput(input){if(util.isPlainObject(input)&&typeof input.type==='string'){if(input.type==='simple'){return isSimpleSearchInput(input);}if(input.type==='proximity'){return isProximitySearchInput(input);}}return false;};function isArrayOfSearchInputs(input){if(!(input instanceof Array)){return false;}return util.every(input,isSearchInput);};function getRegExp(searchInput){return(new RegExp(searchInput.pattern,searchInput.caseSensitive?'g':'gi'));};function cleanSearchResult(searchInput){return function(val){return{input:searchInput,text:val.text,startIndex:val.startIndex};};};function getRegexResults(text,searchInput){var regex=getRegExp(searchInput);var results=regexSearch.getResultsForTerm(text,regex);return results.map(cleanSearchResult(searchInput));};function getProximityResults(text,searchInput){var regexes=searchInput.subTerms.map(getRegExp);var results=proximitySearch.getResults(text,regexes,searchInput.distance);return results.map(cleanSearchResult(searchInput));};function getResults(text,searchInputs){if(typeof text!=='string'){throw util.inputError('text','string');}if(!isArrayOfSearchInputs(searchInputs)){throw util.inputError('searchInputs','array of search inputs');}var combinedResults=[];searchInputs.forEach(function(term,i){if(term.type==='simple'){combinedResults=combinedResults.concat(getRegexResults(text,term));}else if(term.type==='proximity'){combinedResults=combinedResults.concat(getProximityResults(text,term));}else{throw util.inputError('searchInputs['+i+'].type','string equal to "simple" or "proximity"');}});util.sortResults(combinedResults);return combinedResults;};module.exports={getResults:getResults};},{"./proximity-search.js":8,"./regex-search.js":9,"./util.js":10}],6:[function(require,module,exports){var util=require('./util.js');function validateGetContextOptions(options){var rules=[{property:'options',validator:function(){return util.isPlainObject(options);},error:'object'},{property:'options.text',validator:function(){return(typeof options.text==='string');},error:'string'},{property:'options.startIndex',validator:function(){return util.isMinInteger(options.startIndex,0);},error:'integer that is at least 0'},{property:'options.endIndex',validator:function(){return util.isMinInteger(options.endIndex,0);},error:'integer that is at least 0'},{property:'options.padding',validator:function(){return util.isMinInteger(options.padding,0);},error:'integer that is at least 0'},{property:'options.startIndex',validator:function(){return(options.startIndex<options.text.length);},error:'integer that is less than "options.text.length"'},{property:'options.endIndex',validator:function(){return(options.endIndex<options.text.length);},error:'integer that is less than "options.text.length"'},{property:'options.startIndex',validator:function(){return(options.startIndex<=options.endIndex);},error:'integer that is at most "options.endIndex"'}];util.validateInput(rules);};function validateRectangleOptions(options){var rules=[{property:'options',validator:function(){return util.isPlainObject(options);},error:'object'},{property:'options.rectangles',validator:function(){return(options.rectangles instanceof Array);},error:'array'},{property:'options.startIndex',validator:function(){return util.isMinInteger(options.startIndex,0);},error:'integer that is at least 0'},{property:'options.endIndex',validator:function(){return util.isMinInteger(options.endIndex,0);},error:'integer that is at least 0'},{property:'options.startIndex',validator:function(){return util.isMaxInteger(options.startIndex,options.endIndex);},error:'integer that is at most "options.endIndex"'}];util.validateInput(rules);};function getContext(options){validateGetContextOptions(options);var startIndex=Math.max(options.startIndex-options.padding,0);var endIndex=Math.min(options.endIndex+options.padding,options.text.length-1);return{startIndex:(startIndex===0)?options.startIndex:options.padding,context:options.text.substring(startIndex,endIndex+1)};};function getBoundingRectangle(options){validateRectangleOptions(options);var boundingRectangle={left:Number.MAX_VALUE,right:0,top:Number.MAX_VALUE,bottom:0};var rectangle;for(var i=options.startIndex;i<=options.endIndex;i++){rectangle=options.rectangles[i];boundingRectangle.left=Math.min(rectangle[0],boundingRectangle.left);boundingRectangle.right=Math.max(rectangle[0]+rectangle[2],boundingRectangle.right);boundingRectangle.top=Math.min(rectangle[1],boundingRectangle.top);boundingRectangle.bottom=Math.max(rectangle[1]+rectangle[3],boundingRectangle.bottom);}return{x:boundingRectangle.left,y:boundingRectangle.top,width:boundingRectangle.right-boundingRectangle.left,height:boundingRectangle.bottom-boundingRectangle.top};};function getLineRectangles(options){validateRectangleOptions(options);var lineRectangles=[];function processCharacter(rectangle){var character=util.getRectangleObject(rectangle);var line=lineRectangles[lineRectangles.length-1];if(util.isCharacterAtEndOfLine(character,line)){lineRectangles.splice(-1,1,util.joinRectangles(line,character));return;}lineRectangles.push(character);};for(var i=options.startIndex;i<=options.endIndex;i++){processCharacter(options.rectangles[i]);}return lineRectangles;};module.exports={getContext:getContext,getBoundingRectangle:getBoundingRectangle,getLineRectangles:getLineRectangles};},{"./util.js":10}],7:[function(require,module,exports){var formatter=require('./formatter.js');var regexSearch=require('./regex-search.js');var proximitySearch=require('./proximity-search.js');var combinedSearch=require('./combined-search.js');module.exports={formatter:formatter,regex:regexSearch,proximity:proximitySearch,combined:combinedSearch};},{"./combined-search.js":5,"./formatter.js":6,"./proximity-search.js":8,"./regex-search.js":9}],8:[function(require,module,exports){var regexSearch=require('./regex-search.js');var util=require('./util.js');function isAProximityResult(matching,searchTerms){return(Object.keys(matching).length===searchTerms.length);};function getStartIndex(wordIndex,searchResult){var startIndex= -1;for(var i=1;i<wordIndex.length;i++){if(wordIndex[i]>searchResult.startIndex){startIndex=i-1;break;}}if(startIndex=== -1&&searchResult.startIndex>wordIndex[wordIndex.length-1]){startIndex=wordIndex.length-1;}return startIndex;};function getEndIndex(wordIndex,searchResult,termsLength,distance){var startIndex=getStartIndex(wordIndex,searchResult);var endIndex=null;if(distance===0){endIndex=startIndex+termsLength-1;}else{endIndex=startIndex+((termsLength-1)*distance+termsLength)-1;}return wordIndex[endIndex<wordIndex.length?endIndex:wordIndex.length-1];};function getWordIndex(text){if(typeof text!=='string'){throw util.inputError('text','string');}var wordIndex=[];var regex=(/[^\s]+/gm);var regexResult;while((regexResult=regex.exec(text))!==null){wordIndex.push(regexResult.index);}return wordIndex;};function getResults(text,searchTerms,distance){if(!util.isPositiveInteger(distance)){throw util.inputError('distance','integer that is greater than 0');}var wordIndex=getWordIndex(text);var searchResults=regexSearch.getResults(text,searchTerms);var proximityResults=[];searchResults.forEach(function(searchResult,i){var opts={nextIndex: -1,currentIndex:i,matches:{},nextResult:null};opts.endIndex=getEndIndex(wordIndex,searchResult,searchTerms.length,distance);opts.matches[searchResult.term]=true;while(opts.nextIndex<opts.endIndex&& !isAProximityResult(opts.matches,searchTerms)&&opts.currentIndex+1<searchResults.length){opts.nextResult=searchResults[++opts.currentIndex];opts.nextIndex=opts.nextResult.startIndex;if(opts.nextIndex<=opts.endIndex){opts.matches[opts.nextResult.term]=true;}}if(isAProximityResult(opts.matches,searchTerms)){proximityResults.push({text:text.substring(searchResult.startIndex,opts.nextResult.startIndex+opts.nextResult.text.length),startIndex:searchResult.startIndex});}});return proximityResults;};module.exports={getWordIndex:getWordIndex,getResults:getResults};},{"./regex-search.js":9,"./util.js":10}],9:[function(require,module,exports){var util=require('./util.js');function isRegExp(input){return(input instanceof RegExp);};function isArrayOfRegExp(input){if(!(input instanceof Array)){return false;}return util.every(input,isRegExp);};function validateGetResultsForTerm(text,searchTerm){if(typeof text!=='string'){throw util.inputError('text','string');}if(!isRegExp(searchTerm)){throw util.inputError('searchTerm','regular expression');}};function getResultsForTerm(text,searchTerm){validateGetResultsForTerm(text,searchTerm);var searchResults=[];var regexResult;while((regexResult=searchTerm.exec(text))!==null){if(regexResult[0]){searchResults.push({term:searchTerm.toString(),text:regexResult[0],startIndex:regexResult.index});}else{searchTerm.lastIndex+=1;}}return searchResults;};function getResults(text,searchTerms){if(typeof text!=='string'){throw util.inputError('text','string');}if(!isArrayOfRegExp(searchTerms)){throw util.inputError('searchTerms','array of regular expressions');}var combinedResults=[];for(var i=0;i<searchTerms.length;i++){combinedResults=combinedResults.concat(getResultsForTerm(text,searchTerms[i]));}util.sortResults(combinedResults);return combinedResults;};module.exports={getResultsForTerm:getResultsForTerm,getResults:getResults};},{"./util.js":10}],10:[function(require,module,exports){function inputError(property,expected){var a=(['a','e','i','o','u'].indexOf(expected.charAt(0))> -1)?'an':'a';return new Error('Invalid argument. Argument "'+property+'" must be '+a+' '+expected+'.');};function isInteger(input){return(typeof input==='number'&&Math.round(input)===input);};function isMinInteger(input,min){if(typeof min!=='number'){throw inputError('min','number');}return(isInteger(input)&&input>=min);};function isMaxInteger(input,max){if(typeof max!=='number'){throw inputError('max','number');}return(isInteger(input)&&input<=max);};function isPositiveInteger(input){return isMinInteger(input,0);};function isPlainObject(input){return(typeof input==='object'&&input!==null&& !(input instanceof Array)&&input.constructor===Object);};function validateInput(rules){rules.forEach(function(rule){if(!rule.validator()){throw inputError(rule.property,rule.error);}});return true;};function every(obj,fn){for(var key in obj){if(obj.hasOwnProperty(key)){if(!fn(obj[key],key)){return false;}}}return true;};function sortResults(results){results.sort(function(a,b){return a.startIndex-b.startIndex;});};function joinRectangles(rectA,rectB){var left=Math.min(rectA.x,rectB.x);var top=Math.min(rectA.y,rectB.y);var right=Math.max(rectA.x+rectA.width,rectB.x+rectB.width);var bottom=Math.max(rectA.y+rectA.height,rectB.y+rectB.height);return{x:left,y:top,width:right-left,height:bottom-top};};function isCharacterAtEndOfLine(character,line){if(line&&Math.abs(character.y-line.y)<1&&Math.abs(character.height-line.height)<1&&(character.x+character.width)>=(line.x+line.width)){return true;}return false;};function getRectangleObject(rect){return{x:rect[0],y:rect[1],width:rect[2],height:rect[3]};};module.exports={inputError:inputError,isInteger:isInteger,isMinInteger:isMinInteger,isMaxInteger:isMaxInteger,isPositiveInteger:isPositiveInteger,isPlainObject:isPlainObject,validateInput:validateInput,every:every,sortResults:sortResults,joinRectangles:joinRectangles,isCharacterAtEndOfLine:isCharacterAtEndOfLine,getRectangleObject:getRectangleObject};},{}],11:[function(require,module,exports){var css="/* page list specific */\n.pccViewerControl {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  /* promote to a new layer */\n  -webkit-transform: translateZ(0);\n  transform: translateZ(0);\n  /* iOS momentum scrolling */\n  -webkit-overflow-scrolling: touch;\n  /* helps touch zoom not overlap any other element */\n  overflow: hidden;\n}\n/* normalize override */\nsvg:not(:root) {\n  overflow: visible!important;\n}\n.pccPageListContainer {\n  box-sizing: border-box;\n}\n.pccPageListContainerWrapper {\n  -ms-transform: scale(1,1) translate(0px,0px);\n  -moz-transform: scale(1,1) translate(0px,0px);\n  -webkit-transform: scale3d(1,1,1) translate3d(0px,0px,0px);\n  transform: scale3d(1,1,1) translate3d(0px,0px,0px);\n  -ms-transform-origin: 0% 0%;\n  -moz-transform-origin: 0% 0%;\n  -webkit-transform-origin: 0% 0%;\n  transform-origin: 0% 0%;\n  will-change: transform, -webkit-transform;\n}\n.pccPageListLoading {\n  height: 30px;\n  margin: -15px;\n  left: 50%;\n  position: absolute;\n  top: 50%;\n  width: 30px;\n}\n.pccPageListComments {\n  position: relative;\n  min-width: 300px;\n  height: auto;\n  vertical-align: top;\n  display: table-cell;\n  box-sizing: border-box;\n  z-index: 2;\n}\n.pccPageListComments > div {\n  position: absolute;\n}\n.pccHidden {\n  display: none;\n}\n.pccPageListItem {\n  background: #fff;\n  overflow: hidden;\n  margin: 13px;\n  vertical-align: middle;\n  border-bottom: 1px solid #d4d6db;\n}\n/* Single Page view mode */\n.pccSinglePageView .pccPageListItem {\n  -webkit-transform: translateZ(0);\n  transform: translateZ(0);\n  -webkit-animation-duration: 1s;\n  animation-duration: 1s;\n  -webkit-animation-timing-function: ease-out;\n  animation-timing-function: ease-out;\n}\n/* Next and previous page list items for single page view mode */\n.pccSinglePageView .pccNextPage {\n  opacity: 0;\n  z-index: 0;\n}\n.pccSinglePageView .pccPreviousPage {\n  opacity: 0;\n  z-index: 0;\n}\n.pccSinglePageView .pccCurrentPage {\n  opacity: 1;\n  z-index: 1;\n}\n/* Default animations for single page view mode */\n.pccSinglePageView .pccNextPageIn {\n  animation-name: moveInFromRight;\n  -webkit-animation-name: moveInFromRight;\n}\n.pccSinglePageView .pccPreviousPageIn {\n  animation-name: moveInFromLeft;\n  -webkit-animation-name: moveInFromLeft;\n}\n.pccSinglePageView .pccPageForward {\n  animation-name: moveLeft;\n  -webkit-animation-name: moveLeft;\n}\n.pccSinglePageView .pccPageBack {\n  animation-name: moveRight;\n  -webkit-animation-name: moveRight;\n}\n@keyframes moveRight {\n  0% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n\n  100% {\n    transform: translate3d(110%, 0, 0);\n    opacity: 0;\n  }\n}\n@-webkit-keyframes moveRight {\n  0% {\n    -webkit-transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n\n  100% {\n    -webkit-transform: translate3d(110%, 0, 0);\n    opacity: 0;\n  }\n}\n@keyframes moveLeft {\n  0% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n\n  100% {\n    transform: translate3d(-110%, 0, 0);\n    opacity: 0;\n  }\n}\n@-webkit-keyframes moveLeft {\n  0% {\n    -webkit-transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n\n  100% {\n    -webkit-transform: translate3d(-110%, 0, 0);\n    opacity: 0;\n  }\n}\n@keyframes moveInFromLeft {\n  0% {\n    transform: translate3d(-110%, 0, 0);\n    opacity: 0;\n  }\n\n  100% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n@-webkit-keyframes moveInFromLeft {\n  0% {\n    -webkit-transform: translate3d(-110%, 0, 0);\n    opacity: 0;\n  }\n\n  100% {\n    -webkit-transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n@keyframes moveInFromRight {\n  0% {\n    transform: translate3d(110%, 0, 0);\n    opacity: 0;\n  }\n\n  100% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n@-webkit-keyframes moveInFromRight {\n  0% {\n    -webkit-transform: translate3d(110%, 0, 0);\n    opacity: 0;\n  }\n\n  100% {\n    -webkit-transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n/*\n.pccPageListItem * {\n    -ms-touch-action: pinch-zoom pan-x pan-y;\n    touch-action: pinch-zoom pan-x pan-y;\n} */\n.pccPageListItem .pccPageListItemLoading {\n  margin: 30% auto;\n  display: block;\n  filter: Alpha(Opacity=50);\n  background-color: #fff;\n}\n.pccPageListItem .pccPageLoadFail {\n  margin: 35% auto;\n  text-align: center;\n  line-height: 2;\n  color: #777;\n}\n/* PageList container fix */\n.pccPageListItem .igAnchor,\n.pccPageListItem .igViewerScroller,\n.pccPageListItem .igViewerGraphics,\n.pccThumbnailView .igAnchor {\n  /* never recalculate these values */\n  width: 100% !important;\n  height: 100% !important;\n}\n.igAnchor > svg {\n  width: 100%;\n  height: 100%;\n}\n.igMagnifierFrame .igAnchor > svg {\n  width: auto;\n  height: auto;\n}\n.igViewerScroller,\n.igViewerGraphics,\n.igAnchor,\n.igAnchor > svg,\n.igAnchor svg svg {\n  -webkit-user-select: none !important;\n  -webkit-touch-callout: none !important;\n  -webkit-tap-highlight-color: rgba(0,0,0,0) !important;\n}\n.igAnchor svg svg use {\n  pointer-events: none;\n}\n/* do not show textarea outline on text marks */\n.pccViewerControl textarea {\n  outline: none;\n}\n/* copy text */\n.pccCopyText {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 0;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n  opacity: 0;\n  filter: alpha(opacity=0);\n  color: #000;\n}\n/* about modal */\n.pccPageListAboutModal {\n  background: #383a3f;\n  position: absolute;\n  top: -300px;\n  left: 0;\n  right: 0;\n  margin: 0 auto;\n  width: 280px;\n  padding: 10px;\n  visibility: hidden;\n  opacity: 0;\n  z-index: 5;\n  border-radius: 3px;\n  text-align: center;\n  -webkit-box-shadow: 0 2px 4px -1px rgba(0, 0, 0, .4);\n  box-shadow: 0 2px 4px -1px rgba(0, 0, 0, .4);\n  -webkit-transition: all 400ms;\n  transition: all 400ms;\n}\n.pccPageListAboutModal * {\n  text-align: left;\n  font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n  -webkit-text-size-adjust: 100%;\n  -ms-text-size-adjust: 100%;\n  text-size-adjust: 100%;\n}\n.pccPageListAboutModal h3 {\n  margin: 10px 0;\n  font-size: 18px;\n  color: #fff;\n  font-weight: bold;\n}\n.pccPageListAboutModal p {\n  font-size: 12px;\n  color: #c2c5ce;\n}\n.pccPageListAboutModal p:last-child {\n  color: #c2c5ce;\n}\n.pccPageListAboutModal a {\n  color: #afc3eb;\n}\nhtml .pccPageListAboutModal button {\n  position: absolute;\n  top: 0;\n  right: 0;\n  font-size: 20px;\n  color: #fff;\n  background: none;\n  border: none;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  height: auto;\n}\n.pccPageListAboutModal.open {\n  visibility: visible;\n  opacity: 1;\n  top: 122px;\n}\n/* nag modal */\n.pccPageListNagModal {\n  background: #e7e9ef;\n  position: absolute;\n  top: -300px;\n  left: 0;\n  right: 0;\n  margin: 0 auto;\n  width: 480px;\n  padding: 10px;\n  visibility: hidden;\n  opacity: 0;\n  z-index: 5;\n  border-radius: 3px;\n  text-align: center;\n  -webkit-box-shadow: 0 6px 6px -1px rgba(0, 0, 0, .5);\n  box-shadow: 0 6px 6px -1px rgba(0, 0, 0, .5);\n  -webkit-transition: all 400ms;\n  transition: all 400ms;\n}\n.pccPageListNagModal * {\n  text-align: left;\n  font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n  -webkit-text-size-adjust: 100%;\n  -ms-text-size-adjust: 100%;\n  text-size-adjust: 100%;\n}\n.pccPageListNagModal h3 {\n  margin: 10px 0;\n  font-size: 18px;\n  color: #000000;\n  font-weight: bold;\n}\n.pccPageListNagModal p {\n  font-size: 12px;\n  color: #000000;\n}\n.pccPageListNagModal p:last-child {\n  color: #000000;\n}\n.pccPageListNagModal a {\n  color: #263fea;\n}\nhtml .pccPageListNagModal button {\n  position: absolute;\n  top: 0;\n  right: 0;\n  font-size: 20px;\n  color: #000000;\n  background: none;\n  border: none;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  height: auto;\n}\n.pccPageListNagModal.open {\n  visibility: visible;\n  opacity: 1;\n  top: 20px;\n}\n.pccEditMarkButton {\n  display: inline-block;\n  background: no-repeat url(../../../../src/img/EditTextMark.png);\n  border: none;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  height: 26px;\n  width: 26px;\n  -webkit-background-size: 26px 26px;\n  background-size: 26px;\n  cursor: pointer !important;\n}\n/* svg elements can have body tags inside them, so we protect styling of them */\n/* viewer marks that do not look correct can likely be affected by conflicting styles */\n.pccViewerControl body {\n  background-color: initial;\n  min-height: initial;\n  position: static;\n  height: 100%;\n}\n/* style for thumbnail views */\n.pccThumbnailWrapper {\n  position: relative;\n  display: block;\n  width: 100px;\n  height: 100px;\n  margin: 5px 0 2em 0;\n}\n.pccThumbnail {\n  width: 100%;\n  height: 100%;\n}\n.pccThumbnailView {\n  /* it's important not to edit these width and height\n     * they are depended upon in the actual size calculation */\n  height: 100%;\n  width: 100%;\n  margin: auto !important;\n}\n.pccThumbnailLabel {\n  position: absolute;\n  top: 100%;\n  left: 0;\n  width: 100%;\n  text-align: center;\n}\n/* mark selection handles */\n.pccMarkHandleTopLeft,\n.pccMarkHandleTopCenter,\n.pccMarkHandleTopRight,\n.pccMarkHandleMidLeft,\n.pccMarkHandleMidRight,\n.pccMarkHandleBottomLeft,\n.pccMarkHandleBottomCenter,\n.pccMarkHandleBottomRight,\n.pccMarkHandlePoint,\n.pccMarkHandleTextSelectionStart,\n.pccMarkHandleTextSelectionEnd {\n  position: absolute;\n  width: 40px;\n  height: 40px;\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpkMmJhOTYxOS02NDJjLTQzOTUtYTI2Mi1iZTQ5NzM5MDEzYjEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDQ3M0M1RkFDMUM2MTFFNDlBMzZFODY3RUQwOTI4QjgiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDQ3M0M1RjlDMUM2MTFFNDlBMzZFODY3RUQwOTI4QjgiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowYzJmZjg5Ny1iMWRmLTQ4MGItOGRlNy01N2VkNGE0ZjJmZDgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6ZDJiYTk2MTktNjQyYy00Mzk1LWEyNjItYmU0OTczOTAxM2IxIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+SvzVDQAAAn9JREFUeNrsWMFr01AcTvvSNsnG1jQqOIeTTQ/z4EA9WFQQPYpn0epFL/4DiiBMFATRf0AvXtSJdwU9bHhY3UlBQQdThxVRUNN2wzVd26R+v/ILVA9r0iVQWR58zXuP9/3yNXnv9/tIrNlsSr3c4lKPt0hgJDASGAn8jwTKgAEMSAEHXU/TgRPAQWC0LV4dWADywDOg1O0NYn5K3ZEbc63riytZevKngTNAqgNtFXgATIHvMD+8J4jgGi7XgP3uXKVmi/xCMf3ll6XKIt4czihWdpe+pCWFzX/gPDAB7lWIrIT2BHnP3gb20qC0Uk/cnSmMTL8zh+q289d+Toi4c3S38e3CsZGC3peo8/Rr4CLghCXwLHCOOp9+VNRLj+YnzN81ZS2C0Z+s3jo1/mZsi2bx1D3gfhinOAPk+MnJlx/P7+kkjhqtobXE4akcxwpc4HH3QNyZLuz4uVxTvRJpLXF4mOJYgQs8RD/LVkOeeW8O+T1c4GxdWbUFDw8HLVDmPCfNfSyl/z0QXho44uWHYpqHo14ziNcbDboBv5qWInXZKA1xV3DMjVOLl4AGdYYNtdrtzbZvUt1UY3PMwASSuEXqHBjTy5SE/YoDx87u1Ms8XHT/cJCvON/ajJrcoArhVyA43/sV2ebhbBhp5gkXfonK1+aBpOWVSGvB+dxmHp6GIbAIPGx5LNTWmyfH31IZ60SiNbQWHPeVUgxzY5oF8oNst64D+9x5qhCzsFvIkRrslrMto1TpQPSlhN1GfwVMkt3y4we7NayCDWvOo2GdolcLvu3XsMbW+fHI4MK/luV/zvs3fMvvoV4PchIuBxU0Fn1+iwRGAiOBkcDebn8EGACEVf6TPnvOjAAAAABJRU5ErkJggg==);\n}\n@media screen and (-webkit-min-device-pixel-ratio: 2), \n       screen and (min-resolution: 2dppx),\n       screen and (min-resolution: 192dpi) {\n  .pccMarkHandleTopLeft,\n  .pccMarkHandleTopCenter,\n  .pccMarkHandleTopRight,\n  .pccMarkHandleMidLeft,\n  .pccMarkHandleMidRight,\n  .pccMarkHandleBottomLeft,\n  .pccMarkHandleBottomCenter,\n  .pccMarkHandleBottomRight,\n  .pccMarkHandlePoint,\n  .pccMarkHandleTextSelectionStart,\n  .pccMarkHandleTextSelectionEnd {\n    -webkit-background-size: 40px 40px;\n    background-size: 40px;\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGsAAABrCAYAAABwv3wMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpkMmJhOTYxOS02NDJjLTQzOTUtYTI2Mi1iZTQ5NzM5MDEzYjEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6N0QwNDg4NENDNDAzMTFFNDgxM0JDREZDMUY0RTFFODIiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6N0QwNDg4NEJDNDAzMTFFNDgxM0JDREZDMUY0RTFFODIiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2MjI3ZGMxZS0xNjg1LTQ2YTktOTI5Mi0wYzNkMTM4YjU3MWMiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo2YWNjOTM4MC0wYzZkLTExNzgtYmZjOS1jNTk5OGE2MjYzNGUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4Xpv3rAAAGnklEQVR42uycXUxbZRjHT1u++gHjoxTWjTLYxpTBytxUEE3IdiHzxo8tzvmRyIwXRC+cNyaiJk42k11si0a9ME4v/LyYmTeCF1tIJo6YMCgwVMJnmQzKR7cWWr7a+jxyMLjsnNMWes7b0+ef/APJe9r3Of31fc97Tp/n1YRCIY4UH9LSR0CwSASLYJEIFolgESwSwSIRLIJFIlgkgkWwSASLRLAIFolgkQgWwSIRLBLBIlgkgkUiWASLxJ6SVHAOFvA28GZwFjgVbALPghfAbvAt8DDYRbDklRH8CHg/+AGwOYLXToGvg9vBreC5eDpxTRzluu8GPw1+lB896xWOuqvgS+AbBGtjZAfX8X9jJQf4S/4vwYpCOeB68EEZ+8SR9hE/XdJqMEwdAH8lMyjUY/wIO0ALjHuo5tS1//5vaajCL89r4GcUDAlXku/y18hPIL7gmvhoNch/ECnw5x3+2x2R3HNLyf0Tc/rhSb/BtxjQzS8FdGnJuoAhRRfYlqv37cgz+rOMyUsRvi1+YXIhrkYAtkgj6/+gToP3hfua7lGvqcnhynM4PVlj7nmT2JVXA7Zmpc3abRnuQ3bLRHlB+mwE0+JpiK8BgC3QAmPluvkBf+8kKoy02eEyf982Vjgy5U+PtsNCs977XKV1pNZumdKE95Lf+KkxmOiw8Bp1JJyRdLZpsGRo0pexUR0X5Ro8b9QW9cGIC2ek/Qj+OJFh4TTzPj9TCY6mCy3Ord9eG9seCIY0Gx2ATqsJPV9lHTheY7sZxps3gi8nIqwcfnluEjpgcTmofe9i3662fnderIN5aHumq/HIrj9TkrRiUx2OwJfB04l2n1UvBerNb3rL5ACF+n3gtuXE171l2K/Esr4+0W6K7WI3vDjWcUT13PRmyxnUjb+92divxFxzkIvtoy/mYNWJNcI1qkCuEXW3sN8voH+Jw44nCqxysW8mrvpgMVGk5KrnO+gfRrVJ5JA9/HmoHtZTYtPf+ebBnbDqU/SZJfZ/rmlwZyjK81ALLAO4Wqjx505X7oDLt4mFpyoYB8Yjckg1fz6qhSX6w+EPbWM2jiFJxJPKRfEcM55g7RdqcDg9Jud09I+QYiGMB+MSOWSfmmHtFWpo7prM4xhUk8OVH835xDssMyeS3NIxfCebRVidI54siXOyqBGW4L0L/h41cWfByCKscYgL4xM5pCihYPWNzxlYTtvB+ESaN6sRluA0Nzrt1zPMSiq+TDXCEpzmZueXdSzDkojPoEZYgvP+/FKQaVgS8aWoEZZgwkpasjbAMiyJ+BbVCEswr9yQmsQ0LFOaaHw+NcKaEWooNOv9LMMqyBGN77YaYY0KNZTkG30sw5KI71ZCwcIEzPxNqUyW30BcPokE0SE1wpriRBL+Kwoz3CzCgrhmJM7JpUZYqA6hhkN2yziLsCTi6pAzFrlhtQs1YKKlLUfvZQkUxiORANquZlhY/ySYM3600upkCZZEPKuVk6qFhauqVqHGJyosk8UWg4cFUBgHxiNySKuc91hKwEJdEmrA9OUTtcV9Oq1G0QIA7B/j0ER5HmqC1Q3uEmrEcpxjVdYhJWFh/xJlQV38eageFuqCWOMrNbbRyh1ZE0oEhv1i/+uJX22wsCr+sth0ePJwyV9lW9Nn5Axq95b0GexXYvq7wilU1a9kMuVn3EpVxj2F1RxnXyjtkWuEPVic6Tr3YmlPGFUknyr1gSkJC8tmznAribiCwD48et8fL1Vv6cc6qhgtJkL4/meO3d8rAQp1nlOo3OffGYeBysfXwYclVyWjXhOmVm9kxi4uz3HVF2aNccJXPq6O7rBrijGlGTNl15MQijXFzz5sdeJ9FNUURyDcB6OloQpTkU9xEWS4do540n/pnrR0OT3ZY+55YxjV+nN7bBkzj5fnuioKMyJ5rIUbc72N1fpK74PBBCzUevfBwHQx55RfP7ewrFtYDupSk7QBY2pSwGbW+/H3qCj2wVh9SnFydR8MgsXeDjNrr1FM7TDD6kZbWG3yFidScxxDzfKr1KusfSisbrT1K7dSFX9F5n4RUB2LoFgeWWtVAX4VXBrDPnrBn+O6heUPIp528sTymie5lYrDjdhzaplfQPzEyfyLb7SKpz1yO3in88D28kv9nAifmlznjaC8cXT+cTWyhHT37tNp3EpePWZLzXO0+zRTcsU7hHhfDZIIFsEiESwSwSJYJIJFIlgEi0SwSASLYJEIFolgESwSwSIRLIJFIlgkgkWwSASLYJEIFolgJbT+EWAAqiM7sRyeWSQAAAAASUVORK5CYII=);\n  }\n}\n.pccv input.no-ms-clear::-ms-clear {\n  display: none;\n}\n.pcc-image-stamp-img {\n  height: auto;\n  max-height: available;\n  width: 100%;\n  max-width: 100%;\n  position: relative;\n}\n.pccv .pcc-load,\n.pccv .pccPageListLoading,\n.pccv .pccPageListItemLoading {\n  -webkit-animation-duration: 1s;\n  animation-duration: 1s;\n  -webkit-animation-iteration-count: infinite;\n  animation-iteration-count: infinite;\n  -webkit-animation-timing-function: linear;\n  animation-timing-function: linear;\n  -webkit-animation-name: pcc-anim-load;\n  animation-name: pcc-anim-load;\n}\n@-webkit-keyframes pcc-anim-load {\n  0% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n\n  100% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n}\n@keyframes pcc-anim-load {\n  0% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n\n  100% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n}\n.pccv .pccPageListLoading svg,\n.pccv .pccPageListItemLoading svg {\n  fill: #7d7f85;\n  height: 26px;\n  width: 26px;\n}\n.pccv .pccPageListLoading,\n.pccv .pccPageListItemLoading {\n  display: block;\n}\n@media print {\n  .no-clip-on-print {\n    clip-path: none !important;\n  }\n\n  .expand-on-print {\n    transform: scale(9999, 9999);\n  }\n}\n";(require("browserify-css").createStyle(css,{"href":"src\\css\\viewercontrol.css"},{"insertAt":"bottom"}));module.exports=css;},{"browserify-css":1}],12:[function(require,module,exports){var jS=function(){this.an=false;this.h=false;this.ae=IPCC.bB.AddFreehandMark;};jS.prototype.mJ=function(h){this.h=h;};jS.prototype.eH=function(){this.h=false;};jS.prototype.ao=function(){if(this.an){this.R=null;this.ps=null;this.h.op(null);this.an=false;this.h.cn();}};jS.prototype.qM=function(){this.ao();};jS.prototype.kw=function(K){this.ao();if(K.domEvent.button===0){this.an=true;this.R=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Polyline);this.R.get_points().addPoint(K.imagePoint);this.ps=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Freehand);this.h.op(this.R,this.ps);this.R.set_lineWidth(this.ps.dE);this.R.set_lineColor(this.ps.jQ);this.R.set_opacity(this.ps.cz);this.qr=K.imagePoint;this.rr=K.windowPoint;this.h.cn();}};jS.prototype.jZ=function(K){if(K.domEvent.button!==0){this.ao();}if(this.an){this.R.get_points().addPoint(K.imagePoint);this.h.cn();}};jS.prototype.xG=function(K){if(this.an){this.ao();}};jS.prototype.kC=function(K){if(this.an&&K.domEvent.button===0){this.R.get_points().addPoint(K.imagePoint);var ahV=this.R.get_points();var bo=[];var hJ=Number.MAX_VALUE,it=0,_top=Number.MAX_VALUE,jT=0;var C=0;for(C=0;C<ahV.get_length();C++){var sk=ahV.getPoint(C);if(sk.x<hJ){hJ=sk.x;}if(sk.x>it){it=sk.x;}if(sk.y<_top){_top=sk.y;}if(sk.y>jT){jT=sk.y;}bo.push({x:sk.x,y:sk.y});}var Ak=3;var tk;var qs=(bo.length<Ak)?bo:IPCC.V.filter(bo,function(aS){if(tk){var am=aS.x-tk.x,dv=aS.y-tk.y,eL=am*am+dv*dv;if(Math.sqrt(eL)<4){return false;}}aS.x=aS.x-hJ;aS.y=aS.y-_top;tk=aS;return true;});if(qs.length<Ak){qs=[bo[0],bo[bo.length-1]];}var cs='';tk=undefined;if(qs.length<Ak){cs+=this.RV(qs);}else{cs='M'+IPCC.V.bspline(qs);cs=cs.replace(/\d*\.?\d*/g,function(aH){var IR=aH.indexOf('.');if(aH.length&&IR>0){return aH.substr(0,IR+3);}else if(aH!==""){return aH;}else{return aH;}});}var be=it-hJ;var ba=jT-_top;if(ba===0&&be===0){this.ao();return;}var oR={clientX:K.domEvent.clientX,clientY:K.domEvent.clientY};this.ps.set_rectangle({x:hJ,y:_top,width:be,height:ba});this.ps.set_pathString(cs);this.ps.set_pathWidth(be);this.ps.set_pathHeight(ba);this.h.op(null);this.h.fM().addMark(this.ps,oR);this.h.cn();}this.ao();};jS.prototype.RV=function(gB,IL){var TJ=(IL&&IPCC.V.CG)?'m':'M';var Xn=(IL&&IPCC.V.CG)?'l':'L';return IPCC.V.map(gB,function(aS,C){if(C===0){return TJ+aS.x+','+aS.y;}else{return Xn+aS.x+','+aS.y;}}).join('');};jS.prototype.oM=function(K){var aP=this.h.eu();if(K.windowPoint.x<=0||K.windowPoint.x>=aP.width-2){this.ao();}if(K.windowPoint.y<=0||K.windowPoint.y>=aP.height-2){this.ao();}};jS.prototype.mo=function(){this.ao();};module.exports=jS;},{}],13:[function(require,module,exports){var pq=function(){this.an=false;this.h=false;this.ae=IPCC.bB.AddLineMark;};pq.prototype.mJ=function(h){this.h=h;};pq.prototype.eH=function(){this.h=false;};pq.prototype.ao=function(){if(this.an){this.R=null;this.h.op(null);this.an=false;this.h.cn();}};pq.prototype.qM=function(){this.ao();};pq.prototype.kw=function(K){this.ao();if(K.domEvent.button===0){this.an=true;this.R=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Line);this.R.get_points().setPoint(0,K.imagePoint);this.R.get_points().setPoint(1,K.imagePoint);this.h.op(this.R);this.qr=K.imagePoint;this.rr=K.windowPoint;}};pq.prototype.jZ=function(K){if(K.domEvent.button!==0){this.ao();}if(this.an){this.R.get_points().setPoint(1,K.imagePoint);this.h.cn();}};pq.prototype.kC=function(K){if(this.an&&K.domEvent.button===0){var eK=K.windowPoint.x-this.rr.x;var gH=eK*eK;eK=K.windowPoint.y-this.rr.y;gH+=eK*eK;if(gH>25){var h=this.h;var oR={clientX:K.domEvent.clientX,clientY:K.domEvent.clientY};this.R.get_points().setPoint(1,K.imagePoint);this.h.op(null);this.h.fM().addMark(this.R,oR);h.cn();}}this.ao();};pq.prototype.oM=function(K){var aP=this.h.eu();if(K.windowPoint.x<=0||K.windowPoint.x>=aP.width-2){this.ao();}if(K.windowPoint.y<=0||K.windowPoint.y>=aP.height-2){this.ao();}};pq.prototype.mo=function(){this.ao();};module.exports=pq;},{}],14:[function(require,module,exports){var lx=function(aD){this.an=false;this.h=false;this.aD=aD;switch(this.aD){case IPCC.Web.UI.MarkType.Polygon:this.ae=IPCC.bB.AddPolygonMark;break;case IPCC.Web.UI.MarkType.Polyline:this.ae=IPCC.bB.AddPolylineMark;this.Yj=false;break;}};lx.prototype.mJ=function(h){this.h=h;};lx.prototype.eH=function(){this.h=false;};lx.prototype.ao=function(){if(this.an){if(arguments[0]){if(arguments[0]===true){if(this.R&&this.Yj===false){this.h.fM().addMark(this.R);this.Yj=true;this.h.cn();}}}this.R=null;this.h.op(null);this.an=false;this.h.cn();}};lx.prototype.qM=function(){this.ao();};lx.prototype.kw=function(K){if(K.domEvent.button===0){if(!this.an){this.an=true;this.R=new IPCC.Web.UI.Mark(this.aD);this.R.get_points().addPoint(K.imagePoint);this.h.op(this.R);}var bo=this.R.get_points();if(bo.get_length()>0){bo.setPoint(bo.get_length()-1,K.imagePoint);}bo.addPoint(K.imagePoint);this.qr=K.imagePoint;this.rr=K.windowPoint;this.h.cn();}else{this.ao();}};lx.prototype.xG=function(K){if(this.an&&K.domEvent.button===0){var bo=this.R.get_points(),cI=bo.get_length(),Wt,XF;if(cI>2){var ahu=true;while(ahu){cI=bo.get_length();Wt=bo.getPoint(cI-1);XF=bo.getPoint(cI-2);if(Wt.x===XF.x&&Wt.y===XF.y){bo.removePoint(cI-1);}else{ahu=false;}}}if(bo.get_length()>0){bo.setPoint(bo.get_length()-1,K.imagePoint);}this.h.op(null);var oR={clientX:K.domEvent.clientX,clientY:K.domEvent.clientY};this.h.fM().addMark(this.R,oR);this.Yj=true;this.h.cn();}this.ao();};lx.prototype.jZ=function(K){if(K.domEvent.button!==0){this.ao();}if(this.an){var bo=this.R.get_points();if(bo.get_length()>0){bo.setPoint(bo.get_length()-1,K.imagePoint);}this.h.cn();}};lx.prototype.oM=function(K){var aP=this.h.eu();if(K.windowPoint.x<=0||K.windowPoint.x>=aP.width-2){this.ao();}if(K.windowPoint.y<=0||K.windowPoint.y>=aP.height-2){this.ao();}};lx.prototype.mo=function(){this.ao();};module.exports=lx;},{}],15:[function(require,module,exports){var fh=function(aD){this.an=false;this.h=false;this.aD=aD;switch(this.aD){case IPCC.Web.UI.MarkType.Rectangle:this.ae=IPCC.bB.AddRectangleMark;break;case IPCC.Web.UI.MarkType.Ellipse:this.ae=IPCC.bB.AddEllipseMark;break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:this.ae=IPCC.bB.AddTextMark;break;case IPCC.Web.UI.MarkType.Stamp:this.ae=IPCC.bB.AddStampMark;break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:this.ae=IPCC.bB.AddImageStampMark;break;case IPCC.Web.UI.MarkType.RectangleRedaction:this.ae=IPCC.bB.AddRectangleRedactionMark;break;case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:this.ae=IPCC.bB.AddRectangleMark;break;}};fh.prototype.mJ=function(h){this.h=h;};fh.prototype.eH=function(){this.h=false;};fh.prototype.ao=function(){if(this.an){this.R=null;this.h.op(null);this.an=false;this.h.cn();}};fh.prototype.qM=function(){this.ao();};fh.prototype.kw=function(K){this.ao();if(K.domEvent.button===0){this.an=true;this.R=new IPCC.Web.UI.Mark(this.aD);this.R.set_rectangle({x:K.imagePoint.x,y:K.imagePoint.y,width:0,height:0});this.h.op(this.R);this.qr=K.imagePoint;this.rr=K.windowPoint;}};fh.prototype.jZ=function(K){if(K.domEvent.button!==0){this.ao();}if(this.an){var kE={x:Math.min(K.imagePoint.x,this.qr.x),y:Math.min(K.imagePoint.y,this.qr.y)};kE.width=Math.max(K.imagePoint.x,this.qr.x)-kE.x;kE.height=Math.max(K.imagePoint.y,this.qr.y)-kE.y;this.R.set_rectangle(kE);this.h.cn();}};fh.prototype.kC=function(K){if(this.an&&K.domEvent.button===0){var eK=K.windowPoint.x-this.rr.x;var gH=eK*eK;eK=K.windowPoint.y-this.rr.y;gH+=eK*eK;if(gH>25){var kE={x:Math.min(K.imagePoint.x,this.qr.x),y:Math.min(K.imagePoint.y,this.qr.y)};kE.width=Math.max(K.imagePoint.x,this.qr.x)-kE.x;kE.height=Math.max(K.imagePoint.y,this.qr.y)-kE.y;this.h.op(null);this.R.set_rectangle(kE);var ax=this.R;var h=this.h;var oR={clientX:K.domEvent.clientX,clientY:K.domEvent.clientY};this.h.fM().addMark(this.R,oR);if(ax.iH()===IPCC.Web.UI.MarkType.Text||ax.iH()===IPCC.Web.UI.MarkType.TextLine||ax.iH()===IPCC.Web.UI.MarkType.TextAreaSignature){h.wq(ax);}h.cn();}}this.ao();};fh.prototype.oM=function(K){var aP=this.h.eu();if(K.windowPoint.x<=0||K.windowPoint.x>=aP.width-2){this.ao();}if(K.windowPoint.y<=0||K.windowPoint.y>=aP.height-2){this.ao();}};fh.prototype.mo=function(){this.ao();};module.exports=fh;},{}],16:[function(require,module,exports){var dj={};var axU=require('./ArtUIDirector');var OG=require('./ArtSVGUIDirector');dj.uY={JW:function(){var uf=IPCC.dj.uY;if(uf.tS===null){
/*@cc_on@if(@_jscript)uf.tS=document.documentMode>8;@else@*/ uf.tS=true;/*@end@*/}return uf.tS;},tS:null};dj.CN=1;dj.cV=axU;dj.OG=OG;module.exports=dj;},{"./ArtSVGUIDirector":17,"./ArtUIDirector":18}],17:[function(require,module,exports){var ana=function(){};ana.prototype={ash:function(h,bA,aB){this.h=h;this.aE=h.bp();this.bA=bA;this.er=aB.width;this.dV=aB.height;this.Fp=aB.hb;this.aFo=aB.gj;bA.Ei=this.dQ('g');this.cG(bA.Ei,{'fill-opacity':1});bA.yz.appendChild(bA.Ei);},asL:function(G){var iv='',H,T=this;switch(G.R.get_type()){case IPCC.Web.UI.MarkType.Rectangle:G.bN=this.dQ('rect');if(G.R.lu()&&G.R.get_opacity()===255){G.bN.addEventListener("mouseover",function(K){if(G.R.get_selected()===false&&G.bN&&(K.which===0||K.buttons===0)){G.bN.style.opacity=127/255;}},false);G.bN.addEventListener("mouseout",function(K){if(G.bN&&(K.which===0||K.buttons===0)){G.bN.style.opacity=G.R.get_opacity()/255;}},false);}break;case IPCC.Web.UI.MarkType.HighlightText:iv="highlighttextannotation-"+G.R.mF();G.bN=this.dQ('g');G.iP=this.dQ('g');G.bN.appendChild(G.iP);G.kx=this.dQ('g');G.kx.setAttribute('data-pcc-mark',iv);G.bN.appendChild(G.kx);break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:iv="texthyperlinkannotation-"+G.R.mF();G.bN=this.dQ('g');G.bN.style.cursor=IPCC.bB.eZ(IPCC.bB.Link);G.iP=this.dQ('g');G.bN.appendChild(G.iP);G.kx=this.dQ('g');G.kx.style.opacity=IPCC.dj.cV.aez();G.kx.style.fill="blue";G.kx.setAttribute('data-pcc-mark',iv);G.bN.appendChild(G.kx);G.kl=this.dQ('g');G.kl.style.stroke="blue";G.kl.style.opacity=IPCC.dj.cV.Fm(false);G.kl.setAttribute('data-pcc-mark',iv);G.bN.appendChild(G.kl);G.bN.addEventListener("mouseover",function(K){if(G.kl){G.kl.style.opacity=IPCC.dj.cV.Fm(true,G.R.get_selected());}},false);G.bN.addEventListener("mouseout",function(K){if(G.kl){G.kl.style.opacity=IPCC.dj.cV.Fm(false,G.R.get_selected());}},false);break;case IPCC.Web.UI.MarkType.DocumentHyperlink:iv="documenthyperlink-"+G.R.mF();G.bN=this.dQ('g');G.bN.style.cursor=IPCC.bB.eZ(IPCC.bB.Link);G.H=this.dQ('rect');G.H.style['fill-opacity']=IPCC.dj.cV.aez();if(G.R.NS!=='Underline'){G.H.style.stroke=G.R.jQ;G.H.style['stroke-width']=G.R.dE+'px';G.H.style['stroke-opacity']=(G.R.dE===0)?0:G.R.sl/255;if(G.R.NS==='Dashed'){G.H.style['stroke-dasharray']=G.R.BN.join(', ');}G.H.setAttribute('rx',G.R.HU);G.H.setAttribute('ry',G.R.Ky);}else{G.tJ=this.dQ('line');G.tJ.style.stroke=G.R.jQ;G.tJ.style['stroke-opacity']=G.R.sl/255;G.tJ.style['stroke-width']=G.R.dE+'px';G.bN.appendChild(G.tJ);}G.H.style.fill='transparent';G.H.setAttribute('data-pcc-mark',iv);G.bN.appendChild(G.H);break;case IPCC.Web.UI.MarkType.RectangleRedaction:iv="textmark-"+G.R.mF();G.bN=this.dQ('g');G.eB=this.dQ('rect');G.gT=this.dQ('g');G.gT.setAttribute('data-pcc-mark',iv);if(IPCC.V.vY.aFC){G.gT.style.cursor='pointer';}G.AF=document.createTextNode('');if(document.documentMode>8||IPCC.V.vY.zv){G.dK=this.dQ('text');G.dK.setAttribute('data-pcc-mark',iv);G.dK.appendChild(G.AF);G.AM=this.dQ('clipPath');G.CQ=this.dQ('rect');G.gT.appendChild(G.AM);G.AM.appendChild(G.CQ);G.gT.appendChild(G.dK);G.Jq="PCC"+IPCC.dj.CN;IPCC.dj.CN++;this.cG(G.AM,{id:G.Jq,clipPathUnits:"userSpaceOnUse"});H=G.R.get_rectangle();this.cG(G.CQ,{x:0,y:0,width:H.width,height:H.height,"data-pcc-mark":iv});var aly=function(K){if(G.R.get_selected()===false&&G.eB&&(K.which===0||K.buttons===0)){if(T.h.nj()===false){G.bN.style.opacity=0.5;G.dK.style.opacity=0;}}};G.bN.addEventListener("mouseover",function(K){aly(K);},false);G.gT.addEventListener("mouseover",function(K){aly(K);},false);G.gT.addEventListener("mouseout",function(K){if(G.eB&&(K.which===0||K.buttons===0)){if(T.h.nj()===false){G.bN.style.opacity=1;G.dK.style.opacity=1;}}},false);G.bN.addEventListener("mouseout",function(K){if(G.eB&&(K.which===0||K.buttons===0)){if(T.h.nj()===false){G.bN.style.opacity=1;G.dK.style.opacity=1;}}},false);}else{G.pg=document.createElement('div');this.cG(G.pg,{"data-pcc-mark":iv});G.pg.appendChild(G.AF);G.Ow=document.createElement('div');this.cG(G.Ow,{"data-pcc-mark":iv});G.Ow.appendChild(G.pg);G.vs=document.createElement('body');this.cG(G.vs,{xmlns:'http://www.w3.org/1999/xhtml',style:'margin:0;overflow:hidden;background-color:transparent;white-space:pre-wrap;',"data-pcc-mark":iv});G.vs.appendChild(G.Ow);G.AZ=this.dQ('foreignObject');G.AZ.appendChild(G.vs);G.gT.appendChild(G.AZ);G.vs.addEventListener("mouseover",function(K){if(G.R.get_selected()===false&&G.eB&&(K.which===0||K.buttons===0)){G.eB.style.opacity=0.5;G.pg.style.opacity=0;}},false);G.vs.addEventListener("mouseout",function(K){if(G.eB&&(K.which===0||K.buttons===0)){if(T.h.nj()===false){G.eB.style.opacity=1;G.pg.style.opacity=1;}}},false);}G.bN.appendChild(G.eB);break;case IPCC.Web.UI.MarkType.Ellipse:G.bN=this.dQ('ellipse');break;case IPCC.Web.UI.MarkType.Highlight:G.bN=this.dQ('rect');break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:G.bN=this.dQ('g');G.iP=G.bN;break;case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:G.bN=this.dQ('g');G.so=this.dQ('polyline');G.Zq=this.dQ('path');G.YT=this.dQ('path');G.bN.appendChild(G.so);G.bN.appendChild(G.Zq);G.bN.appendChild(G.YT);G.so.setAttribute('stroke-linejoin','miter');G.so.setAttribute('stroke-linecap','butt');G.so.setAttribute('stroke-miterlimit','4');break;case IPCC.Web.UI.MarkType.Polygon:G.bN=this.dQ('polygon');break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.TextAreaSignature:iv="textmark-"+G.R.mF();G.bN=this.dQ('g');G.GY=this.dQ('polygon');G.so=this.dQ('path');G.Rc=this.dQ('path');G.gT=this.dQ('g');G.bN.appendChild(G.GY);G.bN.appendChild(G.so);G.bN.appendChild(G.Rc);this.cG(G.GY,{style:'stroke:none;'});G.gT.setAttribute('data-pcc-mark',iv);G.AF=document.createTextNode('');if(document.documentMode>8||IPCC.V.vY.zv){G.dK=this.dQ('text');G.dK.setAttribute('data-pcc-mark',iv);G.dK.appendChild(G.AF);G.AM=this.dQ('clipPath');G.CQ=this.dQ('rect');G.gT.appendChild(G.AM);G.AM.appendChild(G.CQ);G.akl=this.dQ('g');G.gT.appendChild(G.akl);G.gT.appendChild(G.dK);G.Jq="PCC"+IPCC.dj.CN;IPCC.dj.CN++;this.cG(G.AM,{id:G.Jq,clipPathUnits:"userSpaceOnUse"});H=G.R.get_rectangle();this.cG(G.CQ,{x:0,y:0,width:H.width,height:H.height,"data-pcc-mark":iv});}else{G.pg=document.createElement('div');G.pg.appendChild(G.AF);G.vs=document.createElement('body');this.cG(G.vs,{xmlns:'http://www.w3.org/1999/xhtml',style:'margin:0;overflow:hidden;background-color:transparent;white-space:pre-wrap;',"data-pcc-mark":iv});G.vs.appendChild(G.pg);G.AZ=this.dQ('foreignObject');G.AZ.appendChild(G.vs);G.gT.appendChild(G.AZ);}G.GY.setAttribute('data-pcc-mark',iv);break;case IPCC.Web.UI.MarkType.Stamp:G.bN=this.dQ('g');G.wZ=this.dQ('rect');G.wZ.style='fill:rgba(255, 255, 255, 0);stroke:none;';G.eB=this.dQ('rect');G.JM=this.Sm(G);G.bN.appendChild(G.wZ);G.bN.appendChild(G.eB);G.bN.appendChild(G.JM);break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:G.bN=this.dQ('g');G.wZ=this.dQ('rect');G.wZ.style='fill:rgba(255, 255, 255, 0);stroke:none;';G.eB=this.dQ('rect');G.afo=this.arU(G);G.afo.setAttribute('data-pcc-mark',"mark-"+G.R.mF());G.bN.appendChild(G.wZ);G.bN.appendChild(G.eB);G.bN.appendChild(G.afo);break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Freehand:var R=G.R;var agX=R.fs();var be=agX.width;var ba=agX.height;var JV=R.get_pathWidth();var JN=R.get_pathHeight();var we=R.get_pathString();var gh=IPCC.V.xO.Path(we,{width:be,height:ba,multiplier:100,thickness:R.get_lineWidth(),color:R.get_lineColor()});var eG=IPCC.V.xO.SVG('0 0 '+JV+' '+JN,100);var bF=IPCC.V.xO.Rect(JV,JN,'fill:rgba(255, 255, 255, 0);stroke:none;');eG.appendChild(bF);eG.appendChild(gh);G.bN=eG;G.aCi=gh;G.aho=bF;this.alf(G.bN,R.jt);break;case IPCC.Web.UI.MarkType.SignatureText:G.bN=this.dQ('g');G.eB=this.dQ('rect');G.eB.style='fill:rgba(255, 255, 255, 0);stroke:none;';G.JM=this.Sm(G);G.bN.appendChild(G.eB);G.bN.appendChild(G.JM);G.R.im=false;break;case IPCC.Web.UI.MarkType.TextLine:G.bN=this.dQ('g');G.eB=this.dQ('rect');G.eB.style='fill:rgba(255, 255, 255, 0);stroke:none;';G.JM=this.Sm(G);G.bN.appendChild(G.eB);G.bN.appendChild(G.JM);break;case IPCC.Web.UI.MarkType.Strikethrough:iv="strikethroughannotation-"+G.R.mF();G.bN=this.dQ('g');G.iP=this.dQ('g');G.bN.appendChild(G.iP);G.kx=this.dQ('g');G.kx.setAttribute('data-pcc-mark',iv);G.bN.appendChild(G.kx);G.vr=this.dQ('g');G.vr.setAttribute('data-pcc-mark',iv);G.bN.appendChild(G.vr);break;}G.bN.ImGearMarkRelation=G;G.bN.setAttribute('data-pcc-mark',"mark-"+G.R.mF());this.bA.Ei.appendChild(G.bN);if(G.gT){G.gT.ImGearMarkRelation=G;this.bA.Ei.appendChild(G.gT);}this.amq(G);},Sm:function(G){var R=G.R;var CW=R.aO;if(!CW){CW=R.dM[0];if(!CW){if(R.get_type()===IPCC.Web.UI.MarkType.Stamp){CW="APPROVED";}else{CW="";}}}var H=R.fs();G.dK=this.dQ('text');G.Jq="PCC"+IPCC.dj.CN;IPCC.dj.CN++;var lX=document.createTextNode(CW);G.dK.setAttribute("font-size","22px");if(R.get_type()===IPCC.Web.UI.MarkType.TextLine){G.dK.setAttribute("style",'white-space:pre;');}switch(G.R.jt){case IPCC.Web.UI.HorizontalAlignment.Left:G.dK.setAttribute('text-anchor','start');G.dK.setAttribute('x',H.x);break;case IPCC.Web.UI.HorizontalAlignment.Right:G.dK.setAttribute('text-anchor','end');G.dK.setAttribute("x",H.x+H.width);break;default:G.dK.setAttribute('text-anchor','middle');G.dK.setAttribute("x",H.x+(H.width/2));break;}G.dK.setAttribute('y',H.y+(H.height/2));G.dK.appendChild(lX);return G.dK;},arU:function(G){var R=G.R;G.adT=document.createElementNS('http://www.w3.org/2000/svg','svg');G.yG=document.createElementNS('http://www.w3.org/2000/svg','image');G.yG.setAttribute('id','childimg');G.yG.setAttributeNS('http://www.w3.org/1999/xlink','href',R.get_image());G.adT.appendChild(G.yG);return G.adT;},aqj:function(G,jt){var R=G.R;var H=R.fs();var aO=R.aO;var IG=aO.split('\n');var dK=G.dK;var Ue=0;var TX=0;var Zv=0;var xr=0;var akH=0;var ahf=this.Fp/72;var agb=R.co*ahf;var yx=[];var aDW=/(.*\s)(.*)/;var lX,iT,Kp,Gw,_parent,alx,JR,HC,acM,zi,ajS,DG;alx=dK.childNodes.length;if(alx>=1){_parent=dK.parentNode;JR=this.dQ('text');JR.setAttribute('data-pcc-mark',G.gT.getAttribute('data-pcc-mark'));JR.setAttribute('width',G.gT.getAttribute('width')-G.R.dE);_parent.replaceChild(JR,dK);G.dK=JR;G.dK.appendChild(G.AF);G.gT.appendChild(G.dK);dK={};dK=G.dK;}dK.style.fontSize=R.co*this.Fp/72+'px';dK.style.fontFamily=R.gl;dK.width-=4;HC=(R.dE/2);if(jt){switch(jt){case IPCC.Web.UI.HorizontalAlignment.Center:HC=(H.width/2)-(R.dE/2);break;case IPCC.Web.UI.HorizontalAlignment.Right:HC=H.width-R.dE;break;}}for(var C=0;C<IG.length;C++){zi='';ajS=1;if(IG[C].length>0){Kp=IG[C].split('');iT=this.dQ('tspan');iT.setAttributeNS(null,"x",HC);if(C>0){iT.setAttributeNS(null,"dy",agb*(Zv+1));}lX=window.document.createTextNode(Kp[0]);iT.appendChild(lX);dK.appendChild(iT);for(var aR=1;aR<Kp.length;aR++){akH=iT.firstChild.data.length;Gw=Kp[aR];iT.firstChild.data+=Kp[aR];zi+=Gw;acM=zi.length*(R.co*ahf);Ue=iT.getComputedTextLength();if(Ue===0){TX=acM;}else{TX=Ue;}if(TX>=(H.width-R.dE-2)){ajS++;zi='';DG=iT.firstChild.data.match(aDW);if(DG){Gw=DG[2];}if(DG&&DG[1].length>0){iT.firstChild.data=DG[1];zi+=Gw;}else{iT.firstChild.data=iT.firstChild.data.slice(0,akH);zi+=Gw;}if(zi.length>=1){yx.push({ak:xr,akX:iT});iT=this.dQ('tspan');iT.setAttributeNS(null,"x",HC);iT.setAttributeNS(null,"dy",agb);lX=window.document.createTextNode(Gw);iT.appendChild(lX);dK.appendChild(iT);}}}if(iT.firstChild.data.length>0){yx.push({ak:xr,akX:iT});}xr+=iT.firstChild.data.length+1;Zv=0;}else{Zv++;}}return yx;},aBN:function(kW,alm,iP,xr){if(kW.length>0){var aje=alm.getNumberOfChars();if(kW[0].ak>xr+aje){return;}for(var C=Math.max(kW[0].ak-xr,0);C<aje;C++){var H=alm.getExtentOfChar(C);var bF=this.dQ('rect');this.cG(bF,{x:H.x,y:H.y,width:H.width,height:H.height,fill:kW[0].Cs});iP.appendChild(bF);if(kW[0].cv===C+xr){kW.shift();if(kW.length===0){return;}C=kW[0].ak-xr-1;}}}},CE:function(dO,tI,sr){var gh='M',C;for(C=0;C<tI.length;C++){if(C>0){gh+=' L';}gh+=tI[C].x+','+tI[C].y;}if(sr){gh+='Z';}this.cG(dO,{d:gh});},SQ:function(dO,tI,sr){var Lj='',C;for(C=0;C<tI.length;C++){if(C>0){Lj+=' ';}Lj+=tI[C].x+','+tI[C].y;}if(sr&&tI.length>2){Lj+=' '+tI[0].x+','+tI[0].y;}this.cG(dO,{points:Lj});},alO:function(ht,jU,BJ,sO,AO,YA,FQ){var dq=this.atb(ht,jU,BJ,sO,AO);var ei='';ei+='stroke:'+YA+';';switch(AO){case IPCC.Web.UI.LineHeadType.None:ei='display:none;';break;case IPCC.Web.UI.LineHeadType.Pointer:this.CE(FQ,[dq.EI,ht,dq.DJ],false);break;case IPCC.Web.UI.LineHeadType.Solid:this.CE(FQ,[dq.EI,ht,dq.DJ],true);ei+='fill:'+YA+';';break;case IPCC.Web.UI.LineHeadType.Open:this.CE(FQ,[dq.EI,ht,dq.DJ],true);break;case IPCC.Web.UI.LineHeadType.PointerSolid:this.CE(FQ,[dq.EI,ht,dq.DJ,dq.Hf],true);ei+='fill:'+YA+';';break;}this.cG(FQ,{style:ei});return dq;},anQ:function(G){var R=G.R;var bo,gc,C,aeU,ajc,ij='',DH;bo=R.get_points();gc=[];for(C=0;C<bo.get_length();C++){gc.push(bo.getPoint(C));}if(gc.length<2||R.sr){this.cG(G.Zq,{style:'display:none;'});this.cG(G.YT,{style:'display:none;'});}else{R.Be=R.jQ;DH=this.aaL(gc,true);aeU=this.alO(DH.ht,DH.jU,R.Fk,R.EU,R.Fr,R.Be,G.Zq);DH=this.aaL(gc,false);ajc=this.alO(DH.ht,DH.jU,R.HD,R.Hb,R.pj,R.Be,G.YT);gc[0]=aeU.Hf;gc[gc.length-1]=ajc.Hf;}this.SQ(G.so,gc,R.sr);var vu=this.abb(R.ij);if(vu!==''){ij+='stroke-dasharray:'+vu+';';}this.cG(G.so,{style:ij});},ame:function(G){var Es=this.arr(G);this.SQ(G.GY,Es.ajj,false);var aik='',ij='fill:none;',pZ='fill:none;';if(Es.YP){aik='stroke:none;';}if(Es.RM){this.CE(G.so,Es.RM,false);}else{ij+='display:none;';}if(Es.Pq){this.CE(G.Rc,Es.Pq,false);}else{pZ+='display:none;';}var R=G.R;if(R.zx){pZ+='stroke:'+R.Dp+';stroke-width:'+R.DW+';';var vu=this.abb(R.pZ);if(vu!==''){pZ+='stroke-dasharray:'+vu+';';}}this.cG(G.so,{style:ij});this.cG(G.Rc,{style:pZ});this.cG(G.GY,{style:aik});},Xf:function(G){var R=G.R,Dk;if(!R){return;}var H=R.fs();var GD=R.co*this.Fp/72;R.GD=GD;var pU=H.width,qI=H.height,GE=false,eK;var gO,et=0,fN=0;var uN=1;if(R.im){uN+=R.dE/2;}switch(R.yn){case IPCC.Web.UI.Orientation.TopLeft:gO='1,0,0,1';break;case IPCC.Web.UI.Orientation.TopRight:gO='-1,0,0,1';et=pU-uN;break;case IPCC.Web.UI.Orientation.BottomRight:gO='-1,0,0,-1';et=pU-uN;fN=qI-uN;break;case IPCC.Web.UI.Orientation.BottomLeft:gO='1,0,0,-1';fN=qI-uN;break;case IPCC.Web.UI.Orientation.LeftTop:gO='0,1,1,0';GE=true;break;case IPCC.Web.UI.Orientation.RightTop:gO='0,1,-1,0';et=pU-uN;GE=true;break;case IPCC.Web.UI.Orientation.RightBottom:gO='0,-1,-1,0';et=pU-uN;fN=qI-uN;GE=true;break;case IPCC.Web.UI.Orientation.LeftBottom:gO='0,-1,1,0';fN=qI-uN;GE=true;break;}if(R.dP==="#c0c0c0"){R.dP='#ffffff';}if(R.get_type()===IPCC.Web.UI.MarkType.Text){if(R.lu()===true){R.dP='#ffffff';}else{R.set_opacity(R.cz);}}if(GE){eK=pU;pU=qI;qI=eK;}if(pU<0){pU=0;}if(qI<0){qI=0;}var Yv='normal';var du='normal';var mv='';var sS;mv+='word-wrap:break-word;background-color:transparent;line-height:1;';var AV=0;if(R.qA.length===7&&R.qA.charAt(0)==='#'){AV=parseInt(R.qA.slice(1),16);}var cz=Math.min(1,Math.max(0,R.yu/255));if(document.documentMode>8||IPCC.V.vY.zv){du='normal';if(R.du&IPCC.Web.UI.FontStyle.Italic){du='italic';}Yv='normal';if(R.du&IPCC.Web.UI.FontStyle.Bold){Yv='bold';}sS='none';if((R.du&IPCC.Web.UI.FontStyle.Underline)&&(R.du&IPCC.Web.UI.FontStyle.Strikeout)){sS='underline line-through';}else if(R.du&IPCC.Web.UI.FontStyle.Underline){sS='underline';}else if(R.du&IPCC.Web.UI.FontStyle.Strikeout){sS='line-through';}}else{mv+='color:rgba('+(AV>>16)+','+((AV>>8)&255)+','+(AV&255)+','+cz+');';mv+='font-family:'+R.gl+';';mv+='font-size:'+GD+'px;';if(R.du&IPCC.Web.UI.FontStyle.Italic){mv+='font-style:italic;';}if(R.du&IPCC.Web.UI.FontStyle.Bold){mv+='font-weight:bold;';}if((R.du&IPCC.Web.UI.FontStyle.Underline)&&(R.du&IPCC.Web.UI.FontStyle.Strikeout)){mv+='text-decoration:underline line-through;';}else if(R.du&IPCC.Web.UI.FontStyle.Underline){mv+='text-decoration:underline;';}else if(R.du&IPCC.Web.UI.FontStyle.Strikeout){mv+='text-decoration:line-through;';}}var Bn={x:2,anchor:'start'};switch(R.jt){case IPCC.Web.UI.HorizontalAlignment.Left:mv+='text-align:left;';break;case IPCC.Web.UI.HorizontalAlignment.Center:mv+='text-align:center;';Bn.x=(H.width/2)-3;Bn.anchor='middle';break;case IPCC.Web.UI.HorizontalAlignment.Right:mv+='text-align:right;';Bn.x=H.width-8;Bn.anchor='end';break;default:break;}if(typeof document.documentMode==='undefined'&& !IPCC.V.vY.zv){switch(R.vA){case IPCC.Web.UI.VerticalAlignment.Center:if(R.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){this.cG(G.Ow,{style:'display:table; width: 100%;'});mv+='display: table-cell; white-space: normal; vertical-align: middle; height:'+qI+'px;';}break;case IPCC.Web.UI.VerticalAlignment.Bottom:break;default:break;}this.cG(G.pg,{style:mv+'padding:2px;'});this.cG(G.gT,{transform:'matrix('+gO+','+(et+H.x+(R.dE/2))+','+(fN+H.y+(R.dE/2))+')',});this.cG(G.AZ,{x:0,y:0,width:pU>R.dE?pU-R.dE:pU,height:qI>R.dE?qI-R.dE:qI,});this.aos(G);}else{var yx=this.aqj(G,R.jt);var air=yx.length;switch(R.vA){case IPCC.Web.UI.VerticalAlignment.Center:if(R.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){Dk=(H.height/2)+(R.co/4);if(air>1){Dk-=(air-1)*(R.co/2);}if(Dk<0){Dk=R.co;}}break;case IPCC.Web.UI.VerticalAlignment.Bottom:break;default:break;}this.cG(G.CQ,{x:0,y:0,width:H.width-R.dE,height:H.height-R.dE});var asF="url(#"+G.Jq+")";var YQ={x:Bn.x,y:(this.Fp/72)*R.co,width:H.width-R.dE,height:H.height-R.dE,'font-family':R.gl,'font-size':GD,fill:'rgba('+(AV>>16)+', '+((AV>>8)&255)+', '+(AV&255)+', '+cz+')','font-weight':Yv,'font-style':du,'text-decoration':sS,'text-anchor':Bn.anchor};if(typeof Dk!=='undefined'){delete YQ.y;YQ.dy=Dk;}this.cG(G.dK,YQ);G.dK.style.opacity=cz;this.cG(G.gT,{transform:'matrix('+gO+','+(et+H.x+(R.dE/2))+','+(fN+H.y+(R.dE/2))+')','clip-path':asF});var iP=G.akl;while(iP&&iP.firstChild){iP.removeChild(iP.firstChild);}if(R.fD){var kW=this.amK(R.fD);for(var C=0;C<yx.length;C++){this.aBN(kW,yx[C].akX,iP,yx[C].ak);}}}},WH:function(G){var R=G.R;if(R.aI===null||R.aI===undefined){return;}if(R.aI.length===0&&R.ck>0&&this.h.dp().oa()){R.aI=IPCC.V.ST(this.h.dp().hn(),R.ak,R.ak+R.ck-1);}if(!G.ak|| !G.ck||G.ak!==R.ak||G.ck!==R.ck||R.de===false||R.de===true){while(G.kx.firstChild){G.kx.removeChild(G.kx.firstChild);}if(G.kl){while(G.kl.firstChild){G.kl.removeChild(G.kl.firstChild);}}if(G.vr){while(G.vr.firstChild){G.vr.removeChild(G.vr.firstChild);}}if(R.de===false){return;}IPCC.V.forEach(G.R.aI,function(gX){var aaK=this.dQ('rect');G.kx.appendChild(aaK);this.cG(aaK,{x:gX.x,y:gX.y,width:gX.width,height:gX.height});if(G.kl){var tJ=this.dQ('line');this.cG(tJ,{x1:gX.x,y1:gX.y+gX.height-1,x2:gX.x+gX.width,y2:gX.y+gX.height-1,"stroke-width":2});G.kl.appendChild(tJ);}if(G.vr){aaK.setAttribute('fill','transparent');var agi=this.dQ('line');var strikethroughY=gX.y+(gX.height/2);this.cG(agi,{x1:gX.x,y1:strikethroughY,x2:gX.x+gX.width,y2:strikethroughY,stroke:G.R.jQ,"stroke-width":G.R.dE});G.vr.appendChild(agi);}},this);G.ak=R.ak;G.ck=R.ck;}},amq:function(G){var R=G.R;if(!R){return;}var bN=G.bN;var H,ei='',bo,im=true,oT,yS,xU,YW,uW,Bw;var jK=false;switch(R.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:jK=true;this.anQ(G);break;case IPCC.Web.UI.MarkType.Rectangle:H=R.get_rectangle();this.cG(bN,{x:H.x,y:H.y,width:H.width,height:H.height});break;case IPCC.Web.UI.MarkType.HighlightText:this.WH(G);G.kx.style.fill=R.dP;G.kx.style.opacity=(R.cz/255);this.NT(G);break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:this.WH(G);G.kx.style.fill=R.dP;G.kl.style.stroke=R.dP;if(G.R.get_selected()){G.kl.style.opacity=IPCC.dj.cV.Fm(false,G.R.get_selected());}else{G.kl.style.opacity=IPCC.dj.cV.Fm(false,G.R.get_selected());}this.NT(G);break;case IPCC.Web.UI.MarkType.DocumentHyperlink:H=R.get_rectangle();this.cG(G.H,{x:H.x,y:H.y,width:H.width,height:H.height});if(G.tJ){this.cG(G.tJ,{x1:H.x,y1:H.y+H.height,x2:H.x+H.width,y2:H.y+H.height});}break;case IPCC.Web.UI.MarkType.RectangleRedaction:if(typeof G.eB!=='undefined'){if(this.h.nj()===true){G.eB.style.opacity=0.5;if(typeof G.pg!=='undefined'){G.pg.style.opacity=0;}else{G.dK.style.opacity=0;}}else{G.eB.style.opacity=1;if(typeof G.pg!=='undefined'){G.pg.style.opacity=1;}}}H=R.get_rectangle();this.cG(bN,{x:H.x,y:H.y,width:H.width,height:H.height});this.cG(G.eB,{x:H.x,y:H.y,width:H.width,height:H.height});if(this.h.nj()===false){this.Xf(G);}break;case IPCC.Web.UI.MarkType.Ellipse:H=R.get_rectangle();this.cG(bN,{cx:H.x+H.width/2,cy:H.y+H.height/2,rx:H.width/2,ry:H.height/2});break;case IPCC.Web.UI.MarkType.Polygon:bo=this.ZZ(R);this.SQ(bN,bo,false);ei+='fill-rule:evenodd;';break;case IPCC.Web.UI.MarkType.Text:this.ame(G);this.Xf(G);break;case IPCC.Web.UI.MarkType.TextAreaSignature:var dh=IPCC.V.abX();var pO=IPCC.V.ado();pO.nodeValue=R.get_text();var hX=R.hX;var aq=this.h.np().ia();H=R.get_rectangle();dh.style.width=(H.width-R.dE/2)+'px';dh.style.height=(H.height-R.dE/2)+'px';dh.style.fontFamily=R.gl;dh.style.padding='2px';dh.style.fontStyle=R.du;R.co=IPCC.V.Yr(dh,hX,aq)*72/this.Fp;this.ame(G);this.Xf(G);break;case IPCC.Web.UI.MarkType.Stamp:H=R.get_rectangle();this.cG(bN,{x:H.x,y:H.y,width:H.width,height:H.height});this.cG(G.wZ,{x:H.x,y:H.y,width:H.width,height:H.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});G.wZ.style.opacity=1;this.cG(G.eB,{x:H.x,y:H.y,width:H.width,height:H.height,'stroke':R.dP,'stroke-width':'5','fill':'none','rx':10,'ry':10});var textFontSize=(H.width/6);if(textFontSize>H.height){textFontSize=(H.height-(H.height/6));}oT=G.R.get_text();if(!oT){oT='APPROVED';}G.dK.childNodes[0].data=oT;var rF=oT.length*textFontSize;if(rF>H.width){textFontSize=((H.width/oT.length));}Bw=Math.round(textFontSize);R.stampSize=Bw.toString();this.cG(G.dK,{x:H.x+(H.width/2),y:H.y+(H.height/2+(textFontSize/3)),'font-size':textFontSize,'stroke':R.dP,'font-family':"Arial"});break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:H=R.get_rectangle();this.cG(bN,{x:H.x,y:H.y,width:H.width,height:H.height});this.cG(G.wZ,{x:H.x,y:H.y,width:H.width,height:H.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});G.wZ.style.opacity=1;this.cG(G.eB,{x:H.x,y:H.y,width:H.width,height:H.height,'stroke':R.dP,'stroke-width':'0','fill':'none'});G.yG.setAttribute('height',H.height);G.yG.setAttribute('width',H.width);G.yG.setAttribute('x',H.x);G.yG.setAttribute('y',H.y);G.yG.setAttributeNS('http://www.w3.org/1999/xlink','href',R.get_image());break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:this.NT(G);break;case IPCC.Web.UI.MarkType.Highlight:H=R.get_rectangle();if(H.x===0&&H.y===0){var gY=this.h.dp().hn();if(gY.fC()>0){var dX=gY.jO(R.ak);H=dX.av;}R.jm='y';}this.cG(bN,{x:H.x,y:H.y,width:H.width,height:H.height});break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Freehand:H=R.get_rectangle();this.cG(bN,{x:H.x,y:H.y,width:H.width,height:H.height});var LK=G.aCi;if(R.afH===true){R.afH=false;LK.setAttribute("d",R.get_pathString());var JV=R.get_pathWidth();var JN=R.get_pathHeight();bN.setAttribute('viewBox','0 0 '+JV+' '+JN);G.aho.setAttribute('width',JV);G.aho.setAttribute('height',JN);}if(R.get_visible()){G.bN.style.display='block';}else{G.bN.style.display='none';}this.alf(G.bN,R.jt);LK.style.stroke=R.get_lineColor();LK.style.strokeWidth=R.get_lineWidth()+'px';LK.style.opacity=R.get_opacity()/255;break;case IPCC.Web.UI.MarkType.SignatureText:H=R.get_rectangle();this.cG(bN,{x:H.x,y:H.y,width:H.width,height:H.height});this.cG(G.eB,{x:H.x,y:H.y,width:H.width,height:H.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});G.eB.style.opacity=1;var anV=G.R.get_text()||"";G.dK.childNodes[0].data=anV;yS=12*H.width/(R.Ao||1);xU=12*H.height/(R.Ax||1);uW=Math.min(yS,xU);var apO=Math.floor(uW);R.stampSize=apO.toString();switch(R.jt){case IPCC.Web.UI.HorizontalAlignment.Left:G.dK.setAttribute('text-anchor','start');G.dK.setAttribute('x',H.x);break;case IPCC.Web.UI.HorizontalAlignment.Right:G.dK.setAttribute('text-anchor','end');G.dK.setAttribute("x",H.x+H.width);break;default:G.dK.setAttribute('text-anchor','middle');G.dK.setAttribute("x",H.x+(H.width/2));break;}this.cG(G.dK,{y:H.y+(H.height/2+(uW/3)),'font-size':uW,'stroke':"none",'fill':R.get_fillColor(),'font-family':R.get_fontName()});if(R.get_visible()){G.bN.style.display='block';}else{G.bN.style.display='none';}break;case IPCC.Web.UI.MarkType.TextLine:this.cG(bN,{style:'fill:none;opacity:1;'+R.de?'display:block;':'display:none;'});H=R.get_rectangle();this.cG(bN,{x:H.x,y:H.y,width:H.width,height:H.height});ei='stroke:'+(R.im?'black':'none')+';stroke-width:1;';this.cG(G.eB,{x:H.x,y:H.y,width:H.width,height:H.height,'stroke':R.im?'black':'none','fill':'rgba(255, 255, 255, 0)','style':ei});G.dK.style.opacity=1;oT=G.R.get_text()||"";G.dK.childNodes[0].data=oT;YW=IPCC.V.ani(oT,R.get_fontName(),H.width,H.height,{uG:"pre",eG:G.bN});uW=YW.fontSize;R.GD=uW;R.stampSize=uW;R.Fj=true;R.oS=YW;switch(R.jt){case IPCC.Web.UI.HorizontalAlignment.Center:G.dK.setAttribute('text-anchor','middle');G.dK.setAttribute("x",H.x+(H.width/2));break;case IPCC.Web.UI.HorizontalAlignment.Right:G.dK.setAttribute('text-anchor','end');G.dK.setAttribute("x",H.x+H.width);break;default:G.dK.setAttribute('text-anchor','start');G.dK.setAttribute('x',H.x);break;}this.cG(G.dK,{y:H.y+(H.height/2+(uW/3)),'font-size':uW,'stroke':"none",'fill':R.get_textColor(),'font-family':R.get_fontName(),'white-space':'pre'});break;case IPCC.Web.UI.MarkType.Strikethrough:this.WH(G);this.NT(G);break;default:throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('type',R.get_type());}if(R.get_type()!==IPCC.Web.UI.MarkType.SignaturePath&&R.get_type()!==IPCC.Web.UI.MarkType.Freehand&&R.get_type()!==IPCC.Web.UI.MarkType.SignatureText&&R.get_type()!==IPCC.Web.UI.MarkType.HighlightText&&R.get_type()!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation&&R.get_type()!==IPCC.Web.UI.MarkType.DocumentHyperlink&&R.get_type()!==IPCC.Web.UI.MarkType.Strikethrough&&R.get_type()!==IPCC.Web.UI.MarkType.TextSelectionRedaction){if(jK){ei+='fill:none;';}else{if(R.Is){ei+='fill:'+R.dP+';';}else{ei+='fill:none;';}im=R.im;var vu=this.abb(R.ij);if(vu!==''){ei+='stroke-dasharray:'+vu+';';}}if(im){ei+='stroke:'+R.get_lineColor()+';';ei+='stroke-width:'+R.dE+';';}else{ei+='stroke:none;';}if(R.get_type()===IPCC.Web.UI.MarkType.SignatureText){ei+='opacity:'+1+';';}else{ei+='opacity:'+(R.cz/255)+';';}if(!R.de){ei+='display:none;';if(G.gT){G.gT.style.display='none';}}else{if(G.gT){G.gT.style.display='block';}}this.cG(bN,{style:ei});}if(R.get_type()===IPCC.Web.UI.MarkType.Freehand){if(!R.de){ei+='display:none;';}else{ei+='display:block;';}this.cG(bN,{style:ei});}var ae;if(!this.h.get_areMarksEditable()){ae=this.h.get_cursor();}else if(R.lP===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled&&R.get_type()!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation&&R.get_type()!==IPCC.Web.UI.MarkType.DocumentHyperlink){ae='default';}else if(R.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||R.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink){ae=IPCC.bB.Link;}else if(R.get_type()!==IPCC.Web.UI.MarkType.Highlight&&R.get_type()!==IPCC.Web.UI.MarkType.HighlightText&&R.get_type()!==IPCC.Web.UI.MarkType.Strikethrough&&R.get_type()!==IPCC.Web.UI.MarkType.TextSelectionRedaction&& !(R.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&R.bn)){ae=IPCC.bB.Move;}else{ae=IPCC.bB.Arrow;}bN.style.cursor=IPCC.bB.eZ(ae);if(G.gT){G.gT.style.cursor=IPCC.bB.eZ(ae);}},alf:function(bN,GU){switch(GU){case IPCC.Web.UI.HorizontalAlignment.Left:bN.setAttribute('preserveAspectRatio','xMinYMid');break;case IPCC.Web.UI.HorizontalAlignment.Center:bN.setAttribute('preserveAspectRatio','xMidYMid');break;case IPCC.Web.UI.HorizontalAlignment.Right:bN.setAttribute('preserveAspectRatio','xMaxYMid');break;}},NT:function(G){var R=G.R,aDH=R.get_visible();var H=R.get_rectangle();if(H.x===0&&H.y===0){return;}var iP=G.iP;while(iP.firstChild){iP.removeChild(iP.firstChild);}var hZ;for(var C=0;C<R.fD.length;C++){for(var aR=0;aR<R.fD[C].length;aR++){var aiR=this.h.dp().hn();if(aiR.fC()>0){var ast=aiR.jO(R.fD[C].startIndex+aR);hZ=ast.av;}var bF=this.dQ('rect');this.cG(bF,{x:hZ.x,y:hZ.y,width:hZ.width,height:hZ.height,fill:R.fD[C].color,display:(aDH)?'block':'none'});bF.style.opacity=(R.fD[C].opacity)?(R.fD[C].opacity)/255.0:0.5;iP.appendChild(bF);}}},abb:function(ij){switch(ij){case IPCC.Web.UI.LineStyle.Dash:return '7,7';case IPCC.Web.UI.LineStyle.Dot:return '1,7';case IPCC.Web.UI.LineStyle.DashDot:return '7,7,1,7';case IPCC.Web.UI.LineStyle.DashDotDot:return '7,7,1,7,1,7';default:break;}return '';},Qx:function(G){if(G.bN){this.bA.Ei.removeChild(G.bN);}if(G.gT){this.bA.Ei.removeChild(G.gT);}delete G.bN;},aHQ:function(){},arF:function(){this.bA=undefined;},dQ:function(bG){return document.createElementNS('http://www.w3.org/2000/svg',bG);},cG:function(bN,aV){var C;for(C in aV){if(aV.hasOwnProperty(C)){var attr=aV[C];bN.setAttribute(C,attr!==undefined&&attr!==null?attr.toString():'');}}}};module.exports=ana;},{}],18:[function(require,module,exports){var OG=require('./ArtSVGUIDirector');var cV=OG;cV.Fm=function(isMouseOver,isSelected){return(isSelected?127:(isMouseOver?127:63))/255;};cV.aez=function(){return 39/255;};cV.aGW=function(isSelected){return isSelected?"purple":"blue";};cV.prototype.atb=function(ht,jU,BJ,sO,AO){var dq={ht:ht,jU:jU,BJ:BJ,sO:sO,AO:AO};if(ht.x===jU.x&&ht.y===jU.y){dq.AO=IPCC.Web.UI.LineHeadType.None;}var Lb=Math.atan2(ht.x-jU.x,-(ht.y-jU.y))+Math.PI/2;BJ*=Math.PI/180;var iB=Lb+BJ;dq.EI={x:ht.x+Math.cos(iB)*sO,y:ht.y+Math.sin(iB)*sO};iB=Lb-BJ;dq.DJ={x:ht.x+Math.cos(iB)*sO,y:ht.y+Math.sin(iB)*sO};switch(dq.AO){case IPCC.Web.UI.LineHeadType.Solid:case IPCC.Web.UI.LineHeadType.Open:dq.Hf={x:(dq.EI.x+dq.DJ.x)/2,y:(dq.EI.y+dq.DJ.y)/2};break;case IPCC.Web.UI.LineHeadType.PointerSolid:dq.Hf={x:ht.x+Math.cos(Lb)*sO/2,y:ht.y+Math.sin(Lb)*sO/2};break;default:dq.Hf=ht;break;}return dq;};cV.prototype.arr=function(G){var R=G.R;var H=R.get_rectangle();var Kt={x:R.mx.x+H.x+0.00001,y:R.mx.y+H.y+0.00001};var ad={};var fY=[{x:H.x,y:H.y},{x:H.x+H.width,y:H.y},{x:H.x+H.width,y:H.y+H.height},{x:H.x,y:H.y+H.height}];if(!R.xw){ad.ajj=fY;ad.YP= !R.im;return ad;}var C,aff=[];for(C=0;C<4;C++){aff.push({x:(fY[C].x+fY[(C+3)%4].x)/2,y:(fY[C].y+fY[(C+3)%4].y)/2,aCO:true});}for(C=3;C>=0;C--){fY.splice(C,0,aff[C]);}function acN(Rd){var wK,ajL;wK=(Kt.x-(fY[Rd].x+fY[(Rd+1)%8].x)/2)*H.height;ajL=wK*wK;wK=(Kt.y-(fY[Rd].y+fY[(Rd+1)%8].y)/2)*H.width;return ajL+wK*wK;};var SP=0,adj=acN(0),gH;for(C=1;C<8;C++){gH=acN(C);if(gH<adj){adj=gH;SP=C;}}fY=fY.slice(SP+1).concat(fY.slice(0,SP+1));var FS=fY[0],Fz=fY[7];for(C=fY.length-1;C>=0;C--){if(fY[C].aCO){fY.splice(C,1);}}switch(R.EL){case IPCC.Web.UI.CalloutType.Triangle:fY.splice(0,0,{x:(FS.x*3+Fz.x)/4,y:(FS.y*3+Fz.y)/4});fY.push({x:(FS.x+Fz.x*3)/4,y:(FS.y+Fz.y*3)/4});if(R.zx){ad.YP=true;ad.RM=[].concat(fY);ad.Pq=[fY[0],Kt,fY[fY.length-1]];}fY.push(Kt);break;default:case IPCC.Web.UI.CalloutType.Line:ad.Pq=[{x:(FS.x+Fz.x)/2,y:(FS.y+Fz.y)/2},Kt];break;}ad.ajj=fY;if(!R.im){ad.YP=true;delete ad.RM;delete ad.Pq;}return ad;};cV.prototype.ZZ=function(R){var bo=R.get_points();var gc=[],C;for(C=0;C<bo.get_length();C++){gc.push(bo.getPoint(C));}return gc;};cV.prototype.aaL=function(gc,aCd){var bv=0,KI=1,afC=gc.length-2,ht,jU;if(!aCd){bv=gc.length-1;KI= -1;}ht=gc[bv];bv+=KI;jU=gc[bv];bv+=KI;while(ht.x===jU.x&&ht.y===jU.y&&afC>0){jU=gc[bv];bv+=KI;afC--;}return{ht:ht,jU:jU};};cV.prototype.alE=function(h,bA,aT,la){if(IPCC.V.abn){return;}if(!bA.lU){bA.lU=[];}var lU=bA.lU;if(aT.length<1&&lU.length<1){if(bA.Aw.firstChild){bA.Aw.innerHTML='';}return;}var aG=h.fM();var ef=aG.zq();if(this.ho===undefined){this.ho=40;var zE=document.createElement("div");zE.className='pccMarkHandleTopLeft';zE.visibility='hidden';document.body.appendChild(zE);if(zE.currentStyle){this.ho=parseInt(zE.currentStyle.width,10)||0;}else if(document.defaultView&&document.defaultView.getComputedStyle){var aBO=document.defaultView.getComputedStyle(zE);this.ho=parseInt(aBO.width,10)||0;}document.body.removeChild(zE);}var C,Jt=[];for(C=0;C<aT.length;C++){if(aT[C].get_visible()===true){if(ef.GQ(aT[C])>=0||(aT[C].get_selected()===true&&(aT[C].kZ===true||aT[C].lj===true))||aT[C].xf===true){Jt.push(aT[C]);}}}for(C=0;C<lU.length;C++){while(C<lU.length&&(C>=Jt.length||lU[C].R!==Jt[C])){bA.Aw.removeChild(lU[C].gx);lU.splice(C,1);}if(C<lU.length){this.ang(lU[C],la);}}for(C=lU.length;C<Jt.length;C++){lU[C]={R:Jt[C]};this.asZ(bA.Aw,lU[C]);this.ang(lU[C],la);}};cV.prototype.tP=function(gx,ask,DA,vd,atK,ae,dr){var cD=[],C,bE;if(dr===undefined){dr='handle';}for(C=0;C<ask;C++){bE={bN:document.createElement('div')};bE.bN.ImGearMarkHandle=bE;bE.ae=ae;bE.bG=vd;bE.bv=atK+C;gx.appendChild(bE.bN);bE.bN.setAttribute('data-pcc-mark',dr+'-'+gx.ImGearMarkRelation.R.mF());cD.push(bE);}return cD;};cV.prototype.anF=function(cL){if(cL.cD===undefined||this.h.get_areMarksEditable()===false){return;}var C;for(C=0;C<cL.cD.length;C++){var bE=cL.cD[C];bE.bN.style.cursor=IPCC.bB.eZ(bE.ae);}};cV.prototype.asZ=function(Aw,cL){cL.gx=document.createElement('div');cL.gx.style.width='0px';cL.gx.style.height='0px';cL.gx.style.left='0px';cL.gx.style.top='0px';cL.gx.style.zIndex='1';var C,R=cL.R,bE;cL.gx.ImGearMarkRelation=cL;switch(R.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:cL.cD=this.tP(cL.gx,2,this.ho,this.GK,0,IPCC.bB.Move);cL.cD=cL.cD.concat(this.tP(cL.gx,2,this.ho,this.Ks,0,IPCC.bB.Move));break;case IPCC.Web.UI.MarkType.Polygon:cL.cD=[];break;case IPCC.Web.UI.MarkType.Freehand:cL.cD=[];cL.iV=document.createElement('div');cL.iV.style.border='1px solid gray';cL.iV.style.position='absolute';cL.gx.appendChild(cL.iV);break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:if(R.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&R.bn!==undefined){break;}cL.iV=document.createElement('div');cL.iV.style.border='1px solid gray';cL.iV.style.position='absolute';cL.gx.appendChild(cL.iV);cL.cD=this.tP(cL.gx,4,this.ho,this.Vh,0,-1);cL.cD=cL.cD.concat(this.tP(cL.gx,4,this.ho,this.UJ,0,-1));for(C=4;C<8;C++){bE=cL.cD[C];bE.arO=cL.cD[C-4];bE.asB=cL.cD[(C+1)%4];}if(R.get_type()===IPCC.Web.UI.MarkType.Text){cL.cD=cL.cD.concat(this.tP(cL.gx,1,this.ho,this.RZ,0,IPCC.bB.Move));}break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:cL.cD=this.tP(cL.gx,1,this.ho,this.GK,0,IPCC.bB.Move,'texthandlestart');cL.cD=cL.cD.concat(this.tP(cL.gx,1,this.ho,this.GK,1,IPCC.bB.Move,'texthandleend'));break;}if(R.iH()===IPCC.Web.UI.MarkType.Text||R.iH()===IPCC.Web.UI.MarkType.TextLine||R.iH()===IPCC.Web.UI.MarkType.TextAreaSignature){var nU=document.createElement('div');nU.className='pccEditMarkButton';nU.setAttribute('data-pcc-mark','edit-'+R.mF());nU.onclick=function(aa){aa=aa||{};aa.stopPropagation?aa.stopPropagation():aa.cancelBubble=true;aa.preventDefault?aa.preventDefault():aa.returnValue=false;var pr;var uM=cL.gx;while(uM&&(uM.parentNode||uM.ownerSVGElement)){if(uM.parentNode.id&&uM.parentNode.id.indexOf("__pViewId")!== -1){pr=uM.parentNode;}uM=uM.ownerSVGElement||uM.parentNode;}pr&&pr.bD.aBf(aa,R);};cL.gx.appendChild(nU);var atv={bN:nU};cL.cD.push(atv);}Aw.appendChild(cL.gx);};cV.kM={TopLeft:0,TopRight:1,BottomLeft:2,BottomRight:3,TopCenter:4,MidRight:5,BottomCenter:6,MidLeft:7,Point:8,TextSelectionStart:9,TextSelectionEnd:10,Callout:11};cV.prototype.Vh=0;cV.prototype.UJ=1;cV.prototype.Ks=2;cV.prototype.GK=3;cV.prototype.RZ=4;cV.prototype.ajx=function(bE,aBC){switch(aBC){case IPCC.dj.cV.kM.TopLeft:bE.bN.className='pccMarkHandleTopLeft';break;case IPCC.dj.cV.kM.TopCenter:bE.bN.className='pccMarkHandleTopCenter';break;case IPCC.dj.cV.kM.TopRight:bE.bN.className='pccMarkHandleTopRight';break;case IPCC.dj.cV.kM.MidLeft:bE.bN.className='pccMarkHandleMidLeft';break;case IPCC.dj.cV.kM.MidRight:bE.bN.className='pccMarkHandleMidRight';break;case IPCC.dj.cV.kM.BottomLeft:bE.bN.className='pccMarkHandleBottomLeft';break;case IPCC.dj.cV.kM.BottomCenter:bE.bN.className='pccMarkHandleBottomCenter';break;case IPCC.dj.cV.kM.BottomRight:bE.bN.className='pccMarkHandleBottomRight';break;case IPCC.dj.cV.kM.Point:bE.bN.className='pccMarkHandlePoint';break;case IPCC.dj.cV.kM.TextSelectionStart:bE.bN.className='pccMarkHandleTextSelectionStart';break;case IPCC.dj.cV.kM.TextSelectionEnd:bE.bN.className='pccMarkHandleTextSelectionEnd';break;default:bE.bN.className='pccMarkHandlePoint';break;}};cV.prototype.yj=function(bE,aBU,la,DA,ml){bE.ay=la.transform(aBU);bE.bN.style.left=(bE.ay.x-DA/2)+'px';bE.bN.style.top=(bE.ay.y-DA/2)+'px';bE.bN.style.display='block';bE.bN.style.zIndex='1';this.ajx(bE,ml);};cV.prototype.adw=function(bE,DA,ml){bE.bN.style.left=(bE.ay.x-DA/2)+'px';bE.bN.style.top=(bE.ay.y-DA/2)+'px';bE.bN.style.display='block';bE.bN.style.zIndex='1';this.ajx(bE,ml);};cV.prototype.sj=function(bE){bE.bN.style.display='none';};cV.prototype.ang=function(cL,la){if(this.h.get_areMarksEditable()===true){cL.gx.style.cursor='move';}var C,R=cL.R,cD=cL.cD,bE;var gc,H,qe,kn,vd,eb;var gH,Dj,et,fN,Pp;switch(R.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:gc=this.ZZ(R);Dj=gc.length+2-cD.length;if(Dj>0){cL.cD=cL.cD.concat(this.tP(cL.gx,Dj,this.ho,this.Ks,cD.length-2,IPCC.bB.Move));cD=cL.cD;}for(C=0;C<gc.length;C++){this.yj(cD[C+2],gc[C],la,this.ho,IPCC.dj.cV.kM.Point);}for(C=gc.length+2;C<cD.length;C++){this.sj(cD[C+2]);}break;case IPCC.Web.UI.MarkType.Polygon:gc=this.ZZ(R);Dj=gc.length-cD.length;if(Dj>0){cL.cD=cL.cD.concat(this.tP(cL.gx,Dj,this.ho,this.Ks,cD.length,IPCC.bB.Move));cD=cL.cD;}for(C=0;C<gc.length;C++){this.yj(cD[C],gc[C],la,this.ho,IPCC.dj.cV.kM.Point);}for(C=gc.length;C<cD.length;C++){this.sj(cD[C]);}break;case IPCC.Web.UI.MarkType.Freehand:H=R.fs();qe=la.transform({x:H.x,y:H.y});kn=la.transform({x:H.x+H.width,y:H.y+H.height});eb={x:Math.min(qe.x,kn.x),y:Math.min(qe.y,kn.y)};eb.width=Math.max(qe.x,kn.x)-eb.x;eb.height=Math.max(qe.y,kn.y)-eb.y;cL.iV.style.left=eb.x+'px';cL.iV.style.top=eb.y+'px';cL.iV.style.width=eb.width+'px';cL.iV.style.height=eb.height+'px';cL.iV.setAttribute('data-pcc-mark','outline-'+R.mF());break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:if(R.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&R.bn!==undefined){break;}H=R.fs();cD[0].ay=la.transform({x:H.x,y:H.y});cD[1].ay=la.transform({x:H.x+H.width,y:H.y});cD[2].ay=la.transform({x:H.x+H.width,y:H.y+H.height});cD[3].ay=la.transform({x:H.x,y:H.y+H.height});eb={x:Math.min(cD[0].ay.x,cD[2].ay.x),y:Math.min(cD[0].ay.y,cD[2].ay.y)};eb.width=Math.max(cD[0].ay.x,cD[2].ay.x)-eb.x;eb.height=Math.max(cD[0].ay.y,cD[2].ay.y)-eb.y;Pp={x:eb.x+eb.width/2,y:eb.y+eb.height/2};for(C=0;C<4;C++){bE=cD[C];vd=(bE.ay.x<Pp.x)?((bE.ay.y<Pp.y)?0:2):((bE.ay.y<Pp.y)?1:3);this.adw(bE,this.ho,vd);switch(vd){case 0:bE.ae=IPCC.bB.ResizeNW;break;case 1:bE.ae=IPCC.bB.ResizeNE;break;case 2:bE.ae=IPCC.bB.ResizeSW;break;case 3:bE.ae=IPCC.bB.ResizeSE;break;}}cL.iV.style.left=eb.x+'px';cL.iV.style.top=eb.y+'px';cL.iV.style.width=eb.width+'px';cL.iV.style.height=eb.height+'px';cL.iV.setAttribute('data-pcc-mark','outline-'+R.mF());var azx=eb.x+eb.width/4;var aoE=eb.x+eb.width*3/4;var aAn=eb.y+eb.height/4;var apc=eb.y+eb.height*3/4;if(this.aE.As()===IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose){qe=cD[0].ay;kn=cD[1].ay;var aBy=cD[2].ay;et=qe.x-kn.x;fN=kn.y-aBy.y;var arb=et*et;var apM=fN*fN;if(Math.min(arb,apM)<this.ho*this.ho*5){this.sj(cD[0]);this.sj(cD[1]);this.sj(cD[2]);this.sj(cD[3]);}}for(C=4;C<8;C++){bE=cD[C];qe=bE.arO.ay;kn=bE.asB.ay;et=qe.x-kn.x;fN=qe.y-kn.y;gH=et*et+fN*fN;if(this.aE.As()===IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose&&gH<this.ho*this.ho*5){this.sj(bE);}else{bE.ay={x:(qe.x+kn.x)/2,y:(qe.y+kn.y)/2};this.adw(bE,this.ho,C);if(bE.ay.x<azx){bE.ae=IPCC.bB.ResizeW;}else if(bE.ay.x>aoE){bE.ae=IPCC.bB.ResizeE;}else if(bE.ay.y<aAn){bE.ae=IPCC.bB.ResizeN;}else if(bE.ay.y>apc){bE.ae=IPCC.bB.ResizeS;}}}if(R.get_type()===IPCC.Web.UI.MarkType.Text){if(R.xw){this.yj(cD[8],{x:H.x+R.mx.x,y:H.y+R.mx.y},la,this.ho,IPCC.dj.cV.kM.Callout);}else{this.sj(cD[8]);}}break;case IPCC.Web.UI.MarkType.DocumentHyperlink:return;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:cL.gx.style.cursor='move';var dX,hZ,zM;var Ki=this.h.dp();var gY=Ki.hn();if(R.kZ===true){zM=R.ak;if(zM>=gY.fC()){dX=gY.jO(gY.fC()-1);hZ=dX.vR();this.yj(cD[0],new IPCC.Web.UI.Point(hZ.x+hZ.width,hZ.y),la,this.ho,IPCC.dj.cV.kM.TextSelectionStart);break;}dX=gY.jO(R.ak);hZ=dX.vR();this.yj(cD[0],new IPCC.Web.UI.Point(hZ.x,hZ.y),la,this.ho,IPCC.dj.cV.kM.TextSelectionStart);}else{this.sj(cD[0]);}if(R.lj===true){zM=R.ak+R.ck-1;if(zM<0){dX=gY.jO(0);hZ=dX.vR();this.yj(cD[1],new IPCC.Web.UI.Point(hZ.x,hZ.y+hZ.height),la,this.ho,IPCC.dj.cV.kM.TextSelectionEnd);break;}dX=gY.jO(zM);hZ=dX.vR();this.yj(cD[1],new IPCC.Web.UI.Point(hZ.x+hZ.width,hZ.y+hZ.height),la,this.ho,IPCC.dj.cV.kM.TextSelectionEnd);}else{this.sj(cD[1]);}break;}if(R.get_type()===IPCC.Web.UI.MarkType.Text||R.get_type()===IPCC.Web.UI.MarkType.TextLine||R.get_type()===IPCC.Web.UI.MarkType.TextAreaSignature){var uI=cD[cD.length-1];if(uI.bN.className.match(/pcc/)){var Rg=cL.iV.clientHeight;var Ra=cL.iV.clientWidth;var aix=cL.iV.offsetTop;var aju=cL.iV.offsetLeft;var agM=uI.bN.clientHeight;var Qs=uI.bN.clientWidth;uI.bN.style.position='absolute';uI.bN.style.zIndex='2';if(Rg>agM+10&&Ra>Qs+10){uI.bN.style.top=(Rg-agM)/2+aix+'px';uI.bN.style.left=(Ra-Qs)/2+aju+'px';}else{uI.bN.style.top=Rg+aix+10+'px';uI.bN.style.left=(Ra-Qs)/2+aju+'px';}}}this.anF(cL);};cV.prototype.amK=function(fP,tM){var aAP=IPCC.V.alD(fP,tM||'#ffffff'),aFZ=IPCC.V.map(aAP,function(aS){return{ak:aS.startIndex,cv:aS.endIndex,Cs:aS.color};});return aFZ;};cV.prototype.aos=function(G){var R=G.R;if(R.fD){var kW=this.amK(R.fD);var Ds=R.aO;var zr='';for(var C=kW.length-1;C>=0;C--){var TQ=kW[C];var ak=TQ.ak;var cv=TQ.cv;var cW=TQ.Cs;var cf=IPCC.V.Fc(Ds.substr(ak,cv-ak+1));var anM=IPCC.V.Fc(Ds.substr(cv+1,Ds.length-cv+1));Ds=Ds.substr(0,ak);zr="<span style='background-color:"+cW+";'>"+cf+'</span>'+anM+zr;}zr=IPCC.V.Fc(Ds)+zr;zr=zr.replace(/\n/g,'<br/>');G.pg.innerHTML=zr;}else{G.AF.data=R.aO;}};module.exports=cV;},{"./ArtSVGUIDirector":17}],19:[function(require,module,exports){var hv={};hv.InternetExplorer={};hv.Firefox={};hv.Safari={};hv.Opera={};hv.agent=null;hv.hasDebuggerStatement=false;hv.name=navigator.appName;hv.version=parseFloat(navigator.appVersion);hv.documentMode=0;hv.getBrowserInfo=function getBrowserInfo(){if(navigator.userAgent.indexOf(' MSIE ')> -1){IPCC.hv.agent=IPCC.hv.InternetExplorer;IPCC.hv.version=parseFloat(navigator.userAgent.match(/MSIE (\d+\.\d+)/)[1]);if(IPCC.hv.version>=8){if(document.documentMode>=7){IPCC.hv.documentMode=document.documentMode;}}IPCC.hv.hasDebuggerStatement=true;}else if(navigator.userAgent.indexOf(' Firefox/')> -1){IPCC.hv.agent=IPCC.hv.Firefox;IPCC.hv.version=parseFloat(navigator.userAgent.match(/ Firefox\/(\d+\.\d+)/)[1]);IPCC.hv.name='Firefox';IPCC.hv.hasDebuggerStatement=true;}else if(navigator.userAgent.indexOf(' AppleWebKit/')> -1){IPCC.hv.agent=IPCC.hv.Safari;IPCC.hv.version=parseFloat(navigator.userAgent.match(/ AppleWebKit\/(\d+(\.\d+)?)/)[1]);IPCC.hv.name='Safari';}else if(navigator.userAgent.indexOf('Opera/')> -1){IPCC.hv.agent=IPCC.hv.Opera;}};module.exports=hv;},{}],20:[function(require,module,exports){var uY={JW:function(){var uf=IPCC.uY;if(uf.tS===null){
/*@cc_on@if(@_jscript)uf.tS=document.documentMode>8;@else@*/ uf.tS=true;/*@end@*/}return uf.tS;},tS:null};module.exports=uY;},{}],21:[function(require,module,exports){var en=function(WW,azp){this.h=false;this.WW=WW;var kS=IPCC.Web.UI;var al=azp;if(!al||al===null){al=IPCC.akA;}this.al=al;var apa={aO:al.zoomInMenuItem,fb:IPCC.eI.aeZ,J:1.25};var aoS={aO:al.zoomOutMenuItem,fb:IPCC.eI.afs,J:1.25};var atq={aO:al.fullImageMenuItem,J:kS.FitType.FullImage};var aut={aO:al.fullWidthMenuItem,J:kS.FitType.FullWidth};var auu={aO:al.fullHeightMenuItem,J:kS.FitType.FullHeight};var azD={aO:al.oneToOneRatioMenuItem,J:kS.FitType.OneToOne};var axv={aO:al.actualSizeMenuItem,J:kS.FitType.ActualSize};var aEo={aO:al.rotateRightMenuItem,fb:IPCC.eI.Zm,J:90};var aEa={aO:al.rotateLeftMenuItem,fb:IPCC.eI.Zm,J: -90};var azt={aO:al.mirrorHorizontalMenuItem,fb:IPCC.eI.afS};var aAN={aO:al.mirrorVerticalMenuItem,fb:IPCC.eI.ahp};var WZ={aO:al.panToolMenuItem,J:kS.MouseTool.HandPan};var XO={aO:al.areaSelectionToolMenuItem,J:kS.MouseTool.Select};var VB={aO:al.zoomRectangleToolMenuItem,J:kS.MouseTool.RectangleZoom};var Zx={aO:al.flyingMagnifierToolMenuItem,J:kS.MouseTool.Magnifier};var aqg={aO:al.createTextMarkToolMenuItem,J:kS.MouseTool.CreateTextMark};var asM={aO:al.createLineMarkToolMenuItem,J:kS.MouseTool.CreateLineMark};var aqS={aO:al.createRectangleMarkToolMenuItem,J:kS.MouseTool.CreateRectangleMark};var asb={aO:al.createEllipseMarkToolMenuItem,J:kS.MouseTool.CreateEllipseMark};var auK={aO:al.editMarksToolMenuItem,J:kS.MouseTool.EditMarks};var apw={aO:al.createStampMarkToolMenuItem,J:kS.MouseTool.CreateStampMark};var arD={aO:al.createHighlightMarkToolMenuItem,J:kS.MouseTool.CreateHighlightTextMark};var aeR={be:55,cd:[{aO:al.thicknessMenu.item1,J:1},{aO:al.thicknessMenu.item2,J:2},{aO:al.thicknessMenu.item3,J:3},{aO:al.thicknessMenu.item4,J:4},{aO:al.thicknessMenu.item5,J:5},{aO:al.thicknessMenu.item6,J:6},{aO:al.thicknessMenu.item7,J:7},{aO:al.thicknessMenu.item8,J:8}]};var axO={be:145,cd:[{aO:al.opacityMenu.translucent,J:127},{aO:al.opacityMenu.opaque,J:255}]};var Ns={aO:al.borderThicknessMenuItem,fb:IPCC.eI.HN,ap:'lineWidth',mB:aeR};var Oj={aO:al.borderColorMenuItem,fb:IPCC.eI.MA,ap:'lineColor'};var Hk={aO:al.fillColorMenuItem,fb:IPCC.eI.MA,ap:'fillColor'};var amu={aO:al.lineThicknessMenuItem,fb:IPCC.eI.HN,ap:'lineWidth',mB:aeR};var anv={aO:al.lineColorMenuItem,fb:IPCC.eI.MA,ap:'lineColor'};var atD={aO:al.fontMenuItem,fb:IPCC.eI.ajh};var Me={aO:al.opacityMenuItem,fb:IPCC.eI.HN,ap:'opacity',mB:axO};var aAs={aO:al.moveToBackMenuItem,fb:IPCC.eI.aah};var aAl={aO:al.moveBackwardMenuItem,fb:IPCC.eI.aci};var aAr={aO:al.moveForwardMenuItem,fb:IPCC.eI.aaX};var aAH={aO:al.moveToFrontMenuItem,fb:IPCC.eI.aai};var tn={aO:al.deleteMarkMenuItem,fb:IPCC.eI.adX};var aog={be:180,cd:[atq,aut,auu,azD,axv]};var aoo={aO:al.zoomToFitMenuItem,fb:IPCC.eI.aeV,mB:aog};var azd={be:200,cd:[aEo,aEa,azt,aAN]};var aAO={aO:al.orientationMenuItem,mB:azd};var Lt;if(IPCC.dj){if(IPCC.fZ===false){Lt={be:180,cd:[WZ,VB,Zx,XO,null]};}else{Lt={be:180,cd:[WZ,VB,Zx,XO,null,auK,aqg,asM,aqS,asb,apw,arD]};}}else{Lt={be:180,cd:[WZ,VB,Zx,XO]};}var azn={aO:al.mouseToolsMenuItem,fb:IPCC.eI.ajb,mB:Lt};var aCw={be:150,cd:[Hk,Ns,Oj,null,Me]};var ato={be:150,cd:[Hk,Ns,Oj,null,null]};var aBz={be:150,aO:al.rectangleMarkPropertiesMenuItem,mB:aCw};var att={be:150,aO:al.rectangleMarkPropertiesMenuItem,mB:ato};var aoy={be:150,cd:[atD,Hk,Ns,Oj,null,null,null,Me]};var apl={aO:al.textMarkPropertiesMenuItem,mB:aoy};var azW={be:150,cd:[Hk,Ns,Oj,null,Me]};var aAu={aO:al.polygonMarkPropertiesMenuItem,mB:azW};var aAQ={be:140,cd:[amu,anv,null,Me]};var aBB={aO:al.polylineMarkPropertiesMenuItem,mB:aAQ};var aFS={be:140,cd:[amu,anv,null,null]};var aFz={aO:al.lineMarkPropertiesMenuItem,mB:aFS};var aEc={be:140,cd:[aAH,aAr,aAl,aAs]};var wG={aO:al.markOrderingMenuItem,mB:aEc};var apE={be:150,cd:[Hk]};var adD={aO:al.stampMarkPropertiesMenuItem,mB:apE};this.anN={be:180,cd:[apa,aoS,aoo,aAO,azn]};this.apd={be:140,cd:[apl,wG,tn]};this.azH={be:140,cd:[aBz,wG,tn]};this.apu={be:140,cd:[adD,wG,tn]};this.apC={be:140,cd:[null,wG,tn]};this.atE={be:140,cd:[att,wG,tn]};this.aAX={be:140,cd:[aAu,wG,tn]};this.azj={be:140,cd:[aBB,wG,tn]};this.aGj={be:140,cd:[aFz,wG,tn]};this.aCs={be:140,cd:[adD,null,tn]};};en.prototype.mJ=function(h){this.h=h;};en.prototype.eH=function(){this.h=false;};en.prototype.ao=function(){};en.prototype.SU=function(K){var gi;if(K.mark&&this.WW){var Le=K.mark.lu();switch(K.mark.get_type()){case IPCC.Web.UI.MarkType.Line:gi=this.aGj;break;case IPCC.Web.UI.MarkType.Polyline:gi=this.azj;break;case IPCC.Web.UI.MarkType.Rectangle:gi=this.azH;break;case IPCC.Web.UI.MarkType.Ellipse:gi=this.atE;break;case IPCC.Web.UI.MarkType.Polygon:gi=this.aAX;break;case IPCC.Web.UI.MarkType.Text:gi=this.apd;break;case IPCC.Web.UI.MarkType.Stamp:if(Le===true){gi=this.apC;}else{gi=this.apu;}break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.Highlight:if(K.mark.jm==='y'){gi=this.aCs;}break;}}if(!gi){gi=this.anN;}var tz=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var um=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var acz=new IPCC.Web.UI.Point(K.domEvent.clientX+tz,K.domEvent.clientY+um);var T=this;function vX(bx){if(tg){var bO=bx.target;if(bO&&bO===null){return;}var EE,aii;while(bO&&bO!==document.body&&bO.parentNode!==null){if(bO&&bO!==null){if(bO===tg){aii=true;}if(!EE&&bO.ImGearCommand){EE=bO.ImGearCommand;}bO=bO.parentNode;}}if(!aii||EE){IPCC.Web.UI.bS.removeHandler(document.body,'mousedown',vX);IPCC.Web.UI.bS.removeHandler(document.body,'mousemove',abL);document.body.removeChild(tg);tg=null;if(EE){EE.Rk=K;T.avg(EE);}}}};function Ve(IE,zu,AD,EP){var de=false,C,bO;for(C=0;C<zu.length;C++){if(IE===zu[C]){de=true;}}if(!de&&IE.ImGearType==='menu'){IE.style.display='none';}else{IE.style.display='block';}bO=IE.firstChild;while(bO){if(bO.ImGearType==='menuItemHighlight'){if(bO===EP){bO.style.display='block';}else{bO.style.display='none';}}if(bO.firstChild){Ve(bO,zu,AD,EP);}bO=bO.nextSibling;}};function abL(bx){if(tg){var bO=bx.target;if(bO&&bO===null){return;}var zu=[tg],AD,EP;while(bO&&bO!==document.body&&bO.parentNode!==null){if(!AD&&bO.ImGearType==='menuItem'){AD=bO;}if(bO.ImGearType==='menu'){zu.push(bO);}bO=bO.parentNode;}if(AD){bO=AD.firstChild;while(bO){if(bO.ImGearType==='menuItemHighlight'){EP=bO;}else if(bO.ImGearType==='menu'){zu.push(bO);}bO=bO.nextSibling;}}Ve(tg,zu,AD,EP);}};var av;if(window.innerWidth){av={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){av={x:tz,y:um,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{av={x:tz,y:um,width:document.body.clientWidth,height:document.body.clientHeight};}var tg=this.akG(gi,false,false,acz,acz,true,av,document.body,K.mark);Ve(tg,[tg],null,null);document.body.appendChild(tg);IPCC.Web.UI.bS.addHandler(document.body,'mousedown',vX);IPCC.Web.UI.bS.addHandler(document.body,'mousemove',abL);};en.prototype.akG=function(gi,fb,ap,YN,Zd,CV,av,aCk,R){var acn=24,afM=1;var C,aby=0;for(C=0;C<gi.cd.length;C++){var aAe=gi.cd[C];if(aAe){aby+=acn;}else{aby+=afM;}}var PV;if(CV){PV=Zd.x+gi.be;if(PV>av.x+av.width){CV=false;}}if(!CV){PV=YN.x-gi.be;if(PV<av.x){CV=true;}}var qZ={x:Zd.x,y:Zd.y};if(!CV){qZ={x:YN.x-gi.be-2,y:YN.y-2};}var aiU=av.y+av.height-aby-8;if(qZ.y>aiU){qZ.y=aiU;}if(qZ.y<av.y+2){qZ.y=av.y+2;}function hy(qf){var ys=document.createElement('div');var C;for(C in qf){if(qf.hasOwnProperty(C)){ys.style[C]=qf[C];}}return ys;};var MC=hy({zIndex:2,width:gi.be+'px',left:qZ.x+'px',top:qZ.y+'px',margin:'0px',padding:'0px',border:'1px solid #C0C0C0',position:'absolute',backgroundColor:'#F0F0F0',color:'Black',fontSize:'11px',fontFamily:'Arial, Helvetica, sans-serif',fontWeight:'bold',boxShadow:'0 2px 3px rgba(0,0,0,.2)'});MC.ImGearType='menu';for(C=0;C<gi.cd.length;C++){var wS=gi.cd[C];var vJ;if(wS){vJ=hy({position:'relative',height:'24px'});vJ.ImGearType='menuItem';var yC=hy({position:'absolute',width:'24px',overflow:'hidden',borderRight:'1px solid #E0E0E0',height:'24px',textAlign:'center'});vJ.appendChild(yC);var adq=hy({textOverflow:'ellipsis',whiteSpace:'nowrap',width:gi.be-44+'px',position:'absolute',left:'25px',padding:'0 0 0 4px',overflow:'hidden',borderLeft:'1px solid #FFFFFF',height:'24px',lineHeight:'24px'});vJ.appendChild(adq);var aky=hy({display:'none',position:'absolute',height:'24px',width:gi.be+'px',backgroundColor:'#00C0E0',filter:'progid:DXImageTransform.Microsoft.Alpha(opacity=30)',opacity:'.3'});aky.ImGearType='menuItemHighlight';vJ.appendChild(aky);adq.appendChild(document.createTextNode(wS.aO));var KU=wS.fb||fb;var GB=wS.ap||ap;if(GB){if(KU===IPCC.eI.HN){var ayP=R['get_'+GB]();if(ayP===wS.J){if(this.h.uB()){yC.style.backgroundImage='url(\''+this.h.uB()+'/MenuIcons.png'+'\')';}else{yC.style.backgroundImage='url(\''+'<%=WebResource("IPCC.Web.UI.MenuIcons.png")%>'+'\')';}yC.style.backgroundPosition='0px';}}else if(KU===IPCC.eI.aji){var aye=R['get_'+GB]();if(aye){if(this.h.uB()){yC.style.backgroundImage='url(\''+this.h.uB()+'/MenuIcons.png'+'\')';}else{yC.style.backgroundImage='url(\''+'<%=WebResource("IPCC.Web.UI.MenuIcons.png")%>'+'\')';}yC.style.backgroundPosition='24px 0px';}}}if(!wS.mB){vJ.ImGearCommand={fb:KU,ap:GB,J:wS.J};}else{var aAt={x:av.x-qZ.x,y:av.y-qZ.y,width:av.width,height:av.height};this.akG(wS.mB,KU,GB,{x:0,y: -1},{x:gi.be,y: -1},CV,aAt,vJ,R);}qZ.y+=acn;}else{vJ=hy({height:'1px',overflow:'hidden',backgroundColor:'#E0E0E0'});qZ.y+=afM;}MC.appendChild(vJ);}aCk.appendChild(MC);return MC;};en.prototype.atQ=function(R,cr,h){var tz=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var um=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var av;if(window.innerWidth){av={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){av={x:tz,y:um,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{av={x:tz,y:um,width:document.body.clientWidth,height:document.body.clientHeight};}var nt=av.x+av.width/2;var mk=av.y+av.height/2;var io=document.createElement('div');io.innerHTML='	<div style="z-index:2;border:1px solid #000000;font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:normal;font-variant:normal;'+'background-color:#F0F0F0;position:absolute;top:'+(mk-85)+'px;left:'+(nt-80)+'px;width:160px;height:170px;">'+'<div style="padding:4px;background-color:#666666;color:#FFFFFF;font-size:14px;">'+this.al.selectColor+'</div>'+'<div style="position:relative;">'+'<div style="position:absolute;left:8px;top:10px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.al.red+':</div>'+'<input id="ImGearColorRed" type="text" style="position:absolute;left:80px;top:8px;width:52px;" />'+'<div style="position:absolute;left:8px;top:40px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.al.green+':</div>'+'<input id="ImGearColorGreen" style="position:absolute;left:80px;top:38px;width:52px" type="text" />'+'<div style="position:absolute;left:8px;top:70px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.al.blue+':</div>'+'<input id="ImGearColorBlue" style="position:absolute;left:80px;top:68px;width:52px" type="text" />'+'<button id="ImGearColorOKButton" style="font-size:12px;position:absolute;left:9px;top:108px;width:65px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.al.ok+'</button>'+'<button id="ImGearColorCancelButton" style="font-size:12px;position:absolute;left:81px;top:108px;width:71px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.al.cancel+'</button>'+'</div>'+'</div>';document.body.appendChild(io);var Uw=document.getElementById('ImGearColorRed');var aaz=document.getElementById('ImGearColorGreen');var ahN=document.getElementById('ImGearColorBlue');var Io=document.getElementById('ImGearColorOKButton');var Jj=document.getElementById('ImGearColorCancelButton');var QV=R['get_'+cr]();var Nl;if(QV.length===7&&QV.charAt(0)==='#'){Nl=parseInt(QV.slice(1),16);}Uw.value=(Nl>>16);aaz.value=((Nl>>8)&255);ahN.value=(Nl&255);function Xo(Zg){var J=Math.floor(+(Zg.value));if(!isFinite(J)){J=0;}if(J<0){J=0;}if(J>255){J=255;}return J;};function zn(){IPCC.Web.UI.bS.removeHandler(Io,'click',ER);IPCC.Web.UI.bS.removeHandler(Jj,'click',Fl);IPCC.Web.UI.bS.removeHandler(document.body,'mousedown',vX);};function ER(){var cW=Xo(Uw)*65536+Xo(aaz)*256+Xo(ahN);R['set_'+cr]('#'+(0x1000000+cW).toString(16).slice(1));zn();document.body.removeChild(io);io=null;h.cn();};function Fl(){zn();document.body.removeChild(io);io=null;};function vX(bx){if(io){var bO=bx.target;var Hv;while(bO!==document.body){if(bO===io){Hv=true;}bO=bO.parentNode;}if(!Hv){zn();document.body.removeChild(io);io=null;}}};IPCC.Web.UI.bS.addHandler(Io,'click',ER);IPCC.Web.UI.bS.addHandler(Jj,'click',Fl);IPCC.Web.UI.bS.addHandler(document.body,'mousedown',vX);Uw.focus();};en.prototype.ave=function(R,h){var tz=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var um=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var av;if(window.innerWidth){av={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){av={x:tz,y:um,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{av={x:tz,y:um,width:document.body.clientWidth,height:document.body.clientHeight};}var nt=av.x+av.width/2;var mk=av.y+av.height/2;var io=document.createElement('div');io.innerHTML='<div style="z-index:2;border:1px solid #000000;font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:normal;font-variant:normal;'+'background-color:#F0F0F0;position:absolute;top:'+(mk-85)+'px;left:'+(nt-200)+'px;width:400px;height:170px;z-index:2">'+'<div style="padding:4px;background-color:#666666;color:#FFFFFF;font-size:14px;">'+this.al.selectFont+'</div>'+'<div style="position:relative;">'+'<div style="position:absolute;left:8px;top:10px;width:90px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.al.font+':</div>'+'<input id="ImGearFontFamily" style="position:absolute;left:100px;top:8px;width:280px" type="text" />'+'<div style="position:absolute;left:8px;top:40px;width:90px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.al.size+':</div>'+'<input id="ImGearFontSize" style="position:absolute;left:100px;top:38px;width:54px" type="text" />'+'<div style="position:absolute;left:8px;top:70px;"><input id="ImGearFontItalic" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.al.italic+'</div></div>'+'<div style="position:absolute;left:100px;top:70px;"><input id="ImGearFontBold" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.al.bold+'</div></div>'+'<div style="position:absolute;left:200px;top:70px;"><input id="ImGearFontUnderline" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.al.underline+'</div></div>'+'<div style="position:absolute;left:300px;top:70px;"><input id="ImGearFontStrikeout" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.al.strikeout+'</div></div>'+'<button id="ImGearFontOKButton" style="font-size:12px;position:absolute;left:240px;top:108px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.al.ok+'</button>'+'<button id="ImGearFontCancelButton" style="font-size:12px;position:absolute;left:315px;top:108px;width:71px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.al.cancel+'</button>'+'</div>'+'</div>';document.body.appendChild(io);var Zc=document.getElementById('ImGearFontFamily');var afT=document.getElementById('ImGearFontSize');var agR=document.getElementById('ImGearFontItalic');var ahx=document.getElementById('ImGearFontBold');var ahq=document.getElementById('ImGearFontUnderline');var agG=document.getElementById('ImGearFontStrikeout');var Io=document.getElementById('ImGearFontOKButton');var Jj=document.getElementById('ImGearFontCancelButton');var aAF=R.get_fontName();var aAm=R.get_fontSize();var rG=R.get_fontStyle();Zc.value=aAF;afT.value=aAm;agR.checked=rG&IPCC.Web.UI.FontStyle.Italic;ahx.checked=rG&IPCC.Web.UI.FontStyle.Bold;ahq.checked=rG&IPCC.Web.UI.FontStyle.Underline;agG.checked=rG&IPCC.Web.UI.FontStyle.Strikeout;function axD(Zg){var J=Math.floor(+(Zg.value));if(!isFinite(J)){J=12;}if(J<0.1){J=0.1;}if(J>288){J=288;}return J;};function zn(){IPCC.Web.UI.bS.removeHandler(Io,'click',ER);IPCC.Web.UI.bS.removeHandler(Jj,'click',Fl);IPCC.Web.UI.bS.removeHandler(document.body,'mousedown',vX);};function ER(){R.set_fontName(Zc.value);var co=axD(afT);R.set_fontSize(co);var ei=0;if(agR.checked){ei|=IPCC.Web.UI.FontStyle.Italic;}if(ahx.checked){ei|=IPCC.Web.UI.FontStyle.Bold;}if(ahq.checked){ei|=IPCC.Web.UI.FontStyle.Underline;}if(agG.checked){ei|=IPCC.Web.UI.FontStyle.Strikeout;}R.set_fontStyle(ei);zn();document.body.removeChild(io);io=null;h.cn();};function Fl(){zn();document.body.removeChild(io);io=null;};function vX(bx){if(io){var bO=bx.target;var Hv;while(bO!==document.body){if(bO===io){Hv=true;}bO=bO.parentNode;}if(!Hv){zn();document.body.removeChild(io);io=null;}}};IPCC.Web.UI.bS.addHandler(Io,'click',ER);IPCC.Web.UI.bS.addHandler(Jj,'click',Fl);IPCC.Web.UI.bS.addHandler(document.body,'mousedown',vX);Zc.focus();};en.prototype.avg=function(K){var R=K.Rk.mark;switch(K.fb){case IPCC.eI.HN:R['set_'+K.ap](K.J);this.h.cn();break;case IPCC.eI.MA:this.atQ(R,K.ap,this.h);break;case IPCC.eI.ajh:this.ave(R,this.h);break;case IPCC.eI.aji:R['set_'+K.ap](!R['get_'+K.ap]());this.h.cn();break;case IPCC.eI.aah:R.moveToBack();this.h.cn();break;case IPCC.eI.aci:R.moveBackward();this.h.cn();break;case IPCC.eI.aaX:R.moveForward();this.h.cn();break;case IPCC.eI.aai:R.moveToFront();this.h.cn();break;case IPCC.eI.adX:R.removeFromPage();this.h.cn();break;default:this.h.aCa(K);break;}};module.exports=en;},{}],22:[function(require,module,exports){var bB={Default:0,Arrow:1,Crosshair:2,Link:3,HandOpen:4,HandClosed:5,Magnifier:6,None:7,RectangleZoom:8,AddRectangleMark:9,AddEllipseMark:10,AddLineMark:11,AddFreehandLineMark:12,AddPolygonMark:13,AddPolylineMark:14,AddTextMark:15,Move:16,ResizeN:17,ResizeE:18,ResizeS:19,ResizeW:20,ResizeNW:21,ResizeNE:22,ResizeSE:23,ResizeSW:24,EditMarks:25,RunMarks:26,Text:27,AddStampMark:28,AddRectangleRedactionMark:29,AddImageStampMark:30,eZ:function(ae){if(typeof ae==='string'){return ae;}switch(ae){case IPCC.bB.Default:case IPCC.bB.Magnifier:case IPCC.bB.None:case IPCC.bB.RunMarks:return 'auto';case IPCC.bB.Arrow:case IPCC.bB.EditMarks:return 'default';case IPCC.bB.Crosshair:case IPCC.bB.RectangleZoom:case IPCC.bB.AddRectangleMark:case IPCC.bB.AddEllipseMark:case IPCC.bB.AddLineMark:case IPCC.bB.AddFreehandLineMark:case IPCC.bB.AddPolygonMark:case IPCC.bB.AddPolylineMark:case IPCC.bB.AddTextMark:case IPCC.bB.AddRectangleRedactionMark:case IPCC.bB.AddImageStampMark:case IPCC.bB.AddStampMark:return 'crosshair';case IPCC.bB.Link:return 'pointer';case IPCC.bB.HandOpen:case IPCC.bB.HandClosed:case IPCC.bB.Move:return 'move';case IPCC.bB.ResizeN:return 'n-resize';case IPCC.bB.ResizeE:return 'e-resize';case IPCC.bB.ResizeS:return 's-resize';case IPCC.bB.ResizeW:return 'w-resize';case IPCC.bB.ResizeNW:return 'nw-resize';case IPCC.bB.ResizeNE:return 'ne-resize';case IPCC.bB.ResizeSE:return 'se-resize';case IPCC.bB.ResizeSW:return 'sw-resize';case IPCC.bB.Text:return 'text';}return 'auto';}};module.exports=bB;},{}],23:[function(require,module,exports){var ih={qd:function(jw,Mn){var bG,cs,fg;if(jw===null){return 'null';}if(!Mn){Mn=0;}bG=typeof(jw);if(bG==='undefined'){return 'undefined';}else if(bG==='number'||bG==='boolean'){return jw.toString();}else if(bG==='string'){return '\''+jw+'\'';}else if(bG==='function'){return 'function';}else{if(Mn<0){return 'jw';}cs='{';for(fg in jw){if(jw.hasOwnProperty(fg)){if(cs.length>2){cs+=', ';}cs+=fg;cs+=': ';cs+=IPCC.ih.qd(jw[fg],Mn-1);}}cs+='}';return cs;}},Rw:function(aO){var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value+=aO+'\n';}},aHV:function(){var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value='';}},mt:function(kQ,IK,bq,ED,CC){var aO="PCC Controls - ";aO+=(ED)?ED:" ";aO+=" parent Div id = ";aO+=(CC)?CC:" ";if(IK){switch(IK){case 0:aO+=" FunctionCall ";break;case 1:aO+=" Exception ";break;case 2:aO+=" Custom ";break;case 3:aO+=" UserAction ";break;case 4:aO+=" Warning ";break;default:aO+=" unknown ";}}aO+=" - "+kQ;if((typeof(Debug)!=='undefined')&&Debug.writeln){Debug.writeln(aO);}if(window.console&&window.console.log){window.console.log(aO);}if(window.opera){window.opera.postError(aO);}if(window.debugService){window.debugService.trace(aO);}var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value+=aO+'\n';}var Nu;try{Nu=onPCCItemLogged;}catch(ex){}if(Nu&&(typeof(Nu)).toLowerCase()==='function'){var dn=new IPCC.Web.UI.LogItemEventArgs();dn.message=kQ;dn.cause=IK;dn.level=bq;dn.id=CC;Nu(dn);}}};module.exports=ih;},{}],24:[function(require,module,exports){var le=function(){this.an=false;this.h=false;};le.prototype.mJ=function(h){this.h=h;this.h.aaG(true);this.aE=h.bp();};le.prototype.eH=function(){if(arguments[0]){if(arguments[0]===true){this.h=false;return;}}this.h.aaG(false);this.h=false;};le.prototype.ao=function(){if(this.an){this.h.CD(true);this.aE.pb();this.an=false;this.h.cn();}};le.prototype.xG=function(K){this.ao();var R=K.mark;if(R&&R.iH()===IPCC.Web.UI.MarkType.Text){this.h.wq(R);this.h.cn();}};le.prototype.kw=function(K){this.ao();var jj=K.domEvent;if(jj.button===0){var ds=jj.target;this.bE=ds.ImGearMarkHandle;if(this.bE){this.vd=this.bE.bG;this.ml=this.bE.bv;}else{this.vd=null;this.ml=null;}while(!(ds.ImGearMarkRelation)&&ds.parentNode&&ds!==document.body){ds=ds.parentNode;}this.G=ds.ImGearMarkRelation;if(this.G){this.R=this.G.R;}else{this.R=null;}this.an=true;this.KN=K.imagePoint;this.Eb=K.imagePoint;var R=this.R;if(!R||R.get_interactionMode()===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){if(!jj.shiftKey){this.h.fM().zq().removeAllMarks();}this.aE.BB(K.imagePoint);}else{var hE,H;switch(this.vd){case IPCC.dj.cV.prototype.Vh:this.iw=R.fs();this.ZU=Math.abs(this.iw.width);this.Gg=Math.abs(this.iw.height);hE={x:this.iw.x,y:this.iw.y};this.Ln={x:this.iw.x+this.iw.width,y:this.iw.y+this.iw.height};if(this.ml>0&&this.ml<3){hE.x+=this.iw.width;this.Ln.x-=this.iw.width;}if(this.ml>1){hE.y+=this.iw.height;this.Ln.y-=this.iw.height;}this.aEV=hE;break;case IPCC.dj.cV.prototype.UJ:H=R.fs();this.iw=H;hE={x:H.x+H.width/2,y:H.y+H.height/2};switch(this.ml){case 0:this.yV=H.y+H.height;hE.y=H.y;break;case 1:this.yV=H.x;hE.x=H.x+H.width;break;case 2:this.yV=H.y;hE.y=H.y+H.height;break;case 3:this.yV=H.x+H.width;hE.x=H.x;break;}break;case IPCC.dj.cV.prototype.Ks:this.bo=R.qP();if(this.ml<0||this.ml>this.bo.fC()){this.ao();}hE=this.bo.getPoint(this.ml);break;case IPCC.dj.cV.prototype.GK:break;case IPCC.dj.cV.prototype.RZ:H=R.fs();hE={x:H.x+R.mx.x,y:H.y+R.mx.y};break;default:var wf=R.get_selected();if(jj.ctrlKey||jj.shiftKey){wf= !wf;R.set_selected(wf);}else{if(!wf){wf=true;this.h.fM().zq().removeAllMarks();if(R.get_type()===IPCC.Web.UI.MarkType.Highlight){for(var C=0;C<this.h.fM().get_markCount();C++){var XB=this.h.fM().getMark(C);if(XB.iH()===608&&XB.bn===R.bn){XB.set_selected(wf);}}}else{R.set_selected(wf);}}}if(!wf){this.ao();}break;}if(this.an&&hE){this.atj=hE.x-this.KN.x;this.arB=hE.y-this.KN.y;if(this.bE){this.aE.anS(this.bE.ae);}}}if(this.an){this.h.CD(false);}}this.h.cn();};le.prototype.jZ=function(K){var jj=K.domEvent;var Eb;function avG(amC){amC.JY(K.imagePoint.x-Eb.x,K.imagePoint.y-Eb.y);};if(jj.button!==0){this.ao();}if(this.an){var R=this.R;if(!R||R.get_interactionMode()===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){this.aE.yR(K.imagePoint);}else{var hE={x:K.imagePoint.x+this.atj,y:K.imagePoint.y+this.arB};var H;switch(this.vd){case IPCC.dj.cV.prototype.Vh:var nN={x:hE.x,y:hE.y};var lw={x:this.Ln.x,y:this.Ln.y};if(jj.ctrlKey){lw.x=this.iw.x+this.iw.width/2;lw.y=this.iw.y+this.iw.height/2;}if(jj.shiftKey){var sg=Math.abs(nN.x-lw.x);var tf=Math.abs(nN.y-lw.y);if(sg*this.Gg<tf*this.ZU){if(this.Gg>0.001){sg=tf*this.ZU/this.Gg;}}else{if(this.Gg>0.001){tf=sg*this.Gg/this.ZU;}}if(nN.x<lw.x){sg= -sg;}if(nN.y<lw.y){tf= -tf;}nN.x=lw.x+sg;nN.y=lw.y+tf;}if(jj.ctrlKey){lw={x:lw.x-(nN.x-lw.x),y:lw.y-(nN.y-lw.y)};}H={};H.x=Math.min(lw.x,nN.x);H.width=Math.max(lw.x,nN.x)-H.x;H.y=Math.min(lw.y,nN.y);H.height=Math.max(lw.y,nN.y)-H.y;R.set_rectangle(H);break;case IPCC.dj.cV.prototype.UJ:H=R.fs();var Fb;if(this.ml&1){if(jj.ctrlKey){Fb=this.iw.x+this.iw.width/2;H.width=Math.abs(hE.x-Fb)*2;H.x=Fb-H.width/2;}else{H.x=Math.min(hE.x,this.yV);H.width=Math.max(hE.x,this.yV)-H.x;}}else{if(jj.ctrlKey){Fb=this.iw.y+this.iw.height/2;H.height=Math.abs(hE.y-Fb)*2;H.y=Fb-H.height/2;}else{H.y=Math.min(hE.y,this.yV);H.height=Math.max(hE.y,this.yV)-H.y;}}R.set_rectangle(H);break;case IPCC.dj.cV.prototype.Ks:this.bo=R.qP();hE=this.bo.setPoint(this.ml,hE);break;case IPCC.dj.cV.prototype.GK:break;case IPCC.dj.cV.prototype.RZ:H=R.fs();R.set_calloutPoint({x:hE.x-H.x,y:hE.y-H.y});break;default:Eb=this.Eb;this.Eb=K.imagePoint;this.h.fM().zq().na(avG);break;}}this.h.cn();}};le.prototype.kC=function(){function axQ(R){var Jf=R.ahQ();if(ahG.contains(Jf)&&ahG.contains({x:Jf.x+Jf.width,y:Jf.y+Jf.height})){R.set_selected(true);}};if(this.an){if(!this.R){var ahG=this.aE.wn();this.h.fM().Bj(axQ);this.aE.pb();}this.ao();}};le.prototype.oM=function(K){var aP=this.h.eu();if(K.windowPoint.x<=0||K.windowPoint.x>=aP.width-2){this.ao();}if(K.windowPoint.y<=0||K.windowPoint.y>=aP.height-2){this.ao();}};le.prototype.mo=function(){this.ao();};module.exports=le;},{}],25:[function(require,module,exports){var cR=require('./IPCC.Util').regClass;var Pe=function(){return this;};Pe.registerClass=cR;Pe.prototype={};Pe.registerClass('IPCC.ExceptionEventArgs');module.exports=Pe;},{"./IPCC.Util":29}],26:[function(require,module,exports){var dW=require('./IPCC.Util').regEnum;var nK=function(){};nK.registerEnum=dW;nK.prototype={FitToWidth:0,ShrinkToWidth:1,ActualSize:2,FitToHeight:3,BestFit:4};nK.registerEnum('IPCC.FitType',false);module.exports=nK;},{"./IPCC.Util":29}],27:[function(require,module,exports){var wE=function(){function Fa(){return Math.floor((Math.random()*10)).toString();};var hz=new Date();return Fa()+Fa()+'_'+hz.getTime()+"_"+Fa()+Fa()+Fa()+Fa();};module.exports=wE;},{}],28:[function(require,module,exports){var oY=function(){this.an=false;this.h=false;};oY.prototype.mJ=function(h){this.h=h;};oY.prototype.eH=function(){this.h=false;};oY.prototype.ao=function(){if(this.an){this.an=false;}};oY.prototype.qM=function(){this.ao();};oY.prototype.kw=function(K){this.ao();if(K.domEvent.button===0){this.an=true;this.KN=K.imagePoint;}};oY.prototype.jZ=function(K){if(K.domEvent.button!==0){this.ao();}if(this.an){var h=this.h;var aE=h.bp();var bk=aE.ep();var aP=h.eu();bk.VD(this.KN,K.windowPoint);bk.hW(h.cU(),aP);h.bU('userModifiedViewState',{});aE.jF(bk);h.cn();}};oY.prototype.kC=function(){this.ao();};oY.prototype.oM=function(K){var aP=this.h.eu();if(K.windowPoint.x<=0||K.windowPoint.x>=aP.width-2){this.ao();}if(K.windowPoint.y<=0||K.windowPoint.y>=aP.height-2){this.ao();}};oY.prototype.mo=function(){this.ao();};module.exports=oY;},{}],29:[function(require,module,exports){var V={};V.Wg=(function(){var kc={};var zG=[];kc.get=function aFh(qQ){if(zG.length===0){return;}for(var i=0;i<qQ.length;i++){if(zG[i]&&zG[i].qQ===qQ){return zG[i].ix;}}};kc.set=function aIt(qQ,ix){zG.push({qQ:qQ,ix:ix});if(zG.length>10){zG.shift();}};kc.contains=function hM(qQ){return kc.get(qQ)!==undefined;};kc.cacheReponse=function aFK(qQ,ix){if(ix.readyState===4){kc.set(qQ,ix);}else{var aDc=ix.onreadystatechange;ix.onreadystatechange=function(){if(ix.readyState===XMLHttpRequest.DONE&&ix.status===200){kc.set(qQ,ix);}aDc();};}};return kc;})();V.abn=false;V.aqp=(function supportsSVG(){return! !('createElementNS'in document&&document.createElementNS('http://www.w3.org/2000/svg','svg').createSVGRect);})();V.RH=(function(){var RH=false;var sH=navigator.userAgent,YZ=((sH.indexOf('Mozilla/5.0')> -1&&sH.indexOf('Android ')> -1&&sH.indexOf('AppleWebKit')> -1)&& !(sH.indexOf('Chrome')> -1)),aei=new RegExp(/AppleWebKit\/([\d.]+)/),aDt=aei.exec(sH),amz=(aDt===null?null:parseFloat(aei.exec(sH)[1]));RH=YZ&&amz!==null&&amz<537;return RH;})();V.aDq=(function(){var acS=false;var sH=navigator.userAgent,YZ=/Android/i.test(sH),aFE=/iPhone|iPad|iPod/i.test(sH),aFX=/IEMobile/i.test(sH);acS=(YZ||aFE||aFX);return acS;})();V.Dm=(function(){var Dm=false;if(document.documentMode===8||document.documentMode===9||document.documentMode===10){Dm=true;}return Dm;})();V.yA=(function(){var aox=navigator.userAgent;if(document.documentMode===10||V.RH){return 'svg';}else if(document.documentMode===9){return 'svga';}else if(/Apple Computer/.test(navigator.vendor||'')&&/Mac OS X.*?Version\/9\..*?Safari/i.test(aox)&& !V.aDq){return 'svga';}else{return 'svgb';}})();V.CG=(function(){if(document.documentMode===8){document.namespaces.add('v','urn:schemas-microsoft-com:vml');document.createStyleSheet().addRule("v\\: *","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:roundrect","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:oval","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:roundrect","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:fill","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:line","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:shape","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:polyline","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:stroke","behavior:url(#default#VML); position:absolute");return true;}return false;})();V.Bx=(function(){return window.navigator.pointerEnabled||window.navigator.msPointerEnabled;})();V.HL=V.Bx||(function(){return('ontouchstart'in document.documentElement);})();V.aGx=(function(){return(navigator.platform)? ! !navigator.platform.match(/iPad|iPhone|iPod/g):false;})();V.adH=function(){return V.ayn.btoa((Math.random().toString(36).slice(-4))+'_'+V.wJ(new Date())+'_'+(Math.random().toString(36).slice(-6)));};V.inArray=function(dJ,db){for(var i=0,l=dJ.length;i<l;i++){if(dJ[i]===db){return true;}}return false;};V.forEach=function(aY,aL,df){var nP=[].forEach,aCN=Object.prototype.hasOwnProperty;if(nP&&aY.forEach===nP){aL&&aY.forEach(aL,df);}else if(aY.length=== +aY.length){for(var i=0,length=aY.length;i<length;i++){aL&&aL.call(df,aY[i],i,aY);}}else{for(var ap in aY){if(aCN.call(aY,ap)){aL&&aL.call(df,aY[ap],ap,aY);}}}};V.map=function(dJ,aL,df){var nP=[].map,tY=[];if(nP&&dJ.map===nP){tY=dJ.map(aL,df);}else{V.forEach(dJ,function(el,i){tY.push(aL.call(df,el,i,dJ));});}return tY;};V.filter=function(dJ,aL,df){var nP=[].filter,tY=[],akd=false;if(nP&&dJ.filter===nP){tY=dJ.filter(aL,df);}else{V.forEach(dJ,function(aS,i){akd=aL.call(df,aS,i,dJ);if(akd){tY.push(aS);}});}return tY;};V.find=function(obj,cb,context){var hasProp=Object.prototype.hasOwnProperty;cb=(typeof cb==='function')?cb:function(){};if(obj.length=== +obj.length){for(var i=0,length=obj.length;i<length;i++){if(! !cb.call(context,obj[i],i,obj)){return obj[i];}}}else{for(var name in obj){if(hasProp.call(obj,name)){if(! !cb.call(context,obj[name],name,obj)){return obj[name];}}}}return undefined;};V.remove=function(dJ,aL,df){var UY=[];var anI=V.filter(dJ,aL,df);V.forEach(anI,function(db){var bv=V.indexOf(dJ,db);if(bv=== -1){return;}UY=UY.concat(dJ.splice(bv,1));});return UY;};V.keys=function(aY){if(Object&&Object.keys){return Object.keys(aY);}else{var lE=[];for(var C in aY){if(aY.hasOwnProperty&&aY.hasOwnProperty(C)){lE.push(C);}}return lE;}};V.indexOf=function(dJ,afR,ahY){if(Array.prototype.indexOf){return dJ.indexOf(afR,ahY);}var k;if(dJ==null){throw new TypeError('"dJ" is null or not defined');}var O=Object(dJ);var len=O.length>>>0;if(len===0){return-1;}var n= +ahY||0;if(Math.abs(n)===Infinity){n=0;}if(n>=len){return-1;}k=Math.max(n>=0?n:len-Math.abs(n),0);while(k<len){if(k in O&&O[k]===afR){return k;}k++;}return-1;};V.reduce=function(dJ,aL,ft,df){var nP=[].reduce;var Fd=(arguments.length===2)?undefined:ft;if(nP&&typeof nP==='function'&&dJ.reduce===nP&&df===undefined){if(ft!==undefined){return dJ.reduce(aL,ft,df);}return dJ.reduce(aL);}IPCC.V.forEach(dJ,function(aH,bV){if(Fd===undefined){Fd=aH;return;}Fd=aL.call(df,Fd,aH,bV,dJ);});return Fd;};V.reduceLeft=function(dJ,aL,ft,df){var tY=dJ.reverse();return V.reduce.call(undefined,tY,aL,ft,df);};V.contains=function(dJ,aH){var da=dJ.length;while(da--){if(dJ[da]===aH){return true;}}return false;};V.ayH=function(WA,anj){if(WA.length!==anj.length){return false;}for(var i=0,l=WA.length;i<l;i++){if(WA[i]!==anj[i]){return false;}}return true;};V.extend=function(target){"use strict";var source;if(!target){throw new IPCC.Web.UI.ImGearArgumentException("target","target must be defined.");}else if(typeof target!=='object'){throw new IPCC.Web.UI.ImGearArgumentException("target","typeof target must be 'object'");}else{for(var i=1;i<arguments.length;i++){source=arguments[i];for(var property in source){if(source.hasOwnProperty(property)){target[property]=source[property];}}}}return target;};V.trim=function(cs){if(String.prototype.trim){return cs.trim();}return cs.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,'');};V.getPageFromPoint=function(am,dv,df){var atw=function(fS){return fS.left<=am&&am<=fS.right&&fS.top<=dv&&dv<=fS.bottom;};var atB=function(){return V.filter(df.querySelectorAll('[id*=__pViewId]:not(.pccPreviousPage):not(.pccNextPage)'),function(iK){return atw(iK.getBoundingClientRect());});};if(!df){df=document;}return atB(am,dv)[0];};V.regEnum=function(name,flags){for(var i in this.prototype){if(this.prototype.hasOwnProperty(i)){this[i]=this.prototype[i];}}this.__typeName=name;this.__flags=flags;this.__enum=true;};V.regClass=function(typeName,baseType,interfaceTypes){this.prototype.constructor=this;this.__typeName=typeName;this.__class=true;if(baseType){this.__baseType=baseType;for(var Nq in baseType.prototype){if(baseType.prototype.hasOwnProperty(Nq)){var aAq=baseType.prototype[Nq];if(!this.prototype[Nq]){this.prototype[Nq]=aAq;}}}}return this;};V.afj=function(ZH,Ru,aiq){if(Ru){if(!aiq){Ru.apply(ZH);}else{Ru.apply(ZH,aiq);}}return ZH;};V.ahF=function ahF(wv,aoR,afa){var oA;return function(){var df=this,dn=arguments;var aDP=function(){oA=undefined;if(!afa){wv.apply(df,dn);}};var arK=afa&& !oA;clearTimeout(oA);oA=setTimeout(aDP,aoR);if(arK){wv.apply(df,dn);}};};V.afr=function afr(bK,rv){if(bK.classList){bK.classList.add(rv);}else{bK.className+=' '+rv;}};V.adv=function adv(bK,rv){if(bK.classList){bK.classList.remove(rv);}else{bK.className=bK.className.replace(rv,'');}};V.Za=function(iU){return{width:iU.width||(iU.right-iU.left),height:iU.height||(iU.bottom-iU.top),top:iU.top,bottom:iU.bottom,left:iU.left,right:iU.right};};V.aib=function(alphabet,size){var rM='';for(var C=0;C<size;C++){rM+=alphabet[Math.floor(Math.random()*1000)%alphabet.length];}return rM;};V.aur=function(){var axR='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';var aEB='AQgw';return V.aib(axR,21)+V.aib(aEB,1);};V.ajX=function(){var gk={'Accusoft-Gid':V.aur(),'Accusoft-Parent-Name':'ViewerControl','Accusoft-Parent-Pid':0,'Accusoft-Parent-Taskid':0};return gk;};V.pN=function(aM){if(aM instanceof V.pN){return aM;}this.gk=V.reduce(aM.headers||{},function(pF,aH,au){au=au.toLowerCase();if(pF[au]){pF[au]+=', '+aH;}else{pF[au]=aH;}return pF;},{});this.status=aM.status;this.statusText=aM.statusText;this.responseText=aM.responseText;if(typeof aM.responseBody!=='undefined'){this.responseBody=aM.responseBody;}return this;};V.pN.prototype.getResponseHeader=function(Dg){var aM=this.gk[Dg.toLowerCase()];return aM!==undefined?aM:null;};V.nB=(function(){var xn={};xn.gk={};xn.KY=undefined;function adc(ahy){var gk={};if(!ahy){return gk;}var ahl=ahy.split('\u000d\u000a');for(var C=0,cI=ahl.length;C<cI;C++){var YS=ahl[C];var bv=YS.indexOf('\u003a\u0020');if(bv>0){var au=YS.substring(0,bv);var aH=YS.substring(bv+2);if(gk[au]){gk[au]+=', '+aH;}else{gk[au]=aH;}}}return gk;};xn.fq=function(aCy){var AB={method:'GET',url:null,headers:{},body:null,timeout:null,mimeType:null,cache:false},kB=PCCViewer.Deferred(),bY=kB.getPromise(),rN;var aF=V.extend({},AB,aCy);aF.headers=V.extend({},xn.gk,aF.headers);if(typeof xn.KY==='function'){rN=xn.KY(aF);if(typeof rN==='object'&&typeof rN.then==='function'){rN.then(function(ad){kB.resolve(ad);},function(ad){kB.reject(ad);});return bY;}}if(aF.cache&&V.Wg.contains(aF.url)){var ix=V.Wg.get(aF.url);var aM,wP={};wP={status:ix.status,headers:adc(ix.getAllResponseHeaders())};try{wP.responseText=ix.responseText;}catch(e){}if(typeof ix.responseBody!=='undefined'){wP.responseBody=ix.responseBody;}aM=new V.pN(wP);if(ix.status>=200&&ix.status<300||status===304){kB.resolve(aM);}else{kB.reject({response:aM,error:new PCCViewer.Error("Error","An AJAX problem occurred: "+ix.status+" "+ix.statusText)});}return bY;}var iQ,oA;try{iQ=new XMLHttpRequest();}catch(e){kB.reject(new PCCViewer.Error("Error",e.message));}if(iQ){iQ.open(aF.method,aF.url,true);if(aF.timeout){oA=window.setTimeout(function(){iQ.abort();kB.reject({error:new PCCViewer.Error("Error","Request timed out")});},aF.timeout);}iQ.onreadystatechange=function(){var aM,wP={};if(iQ.readyState===4){if(oA){window.clearTimeout(oA);}wP={status:iQ.status,headers:adc(iQ.getAllResponseHeaders())};try{wP.responseText=iQ.responseText;}catch(e){}if(typeof iQ.responseBody!=='undefined'){wP.responseBody=iQ.responseBody;}aM=new V.pN(wP);if(iQ.status>=200&&iQ.status<300||status===304){kB.resolve(aM);}else{kB.reject({response:aM,error:new PCCViewer.Error("Error","An AJAX problem occurred: "+iQ.status+" "+iQ.statusText)});}}};var Xq=V.extend({},aF.headers,V.ajX());for(var au in Xq){if(Xq.hasOwnProperty(au)){iQ.setRequestHeader(au,Xq[au]);}}if(typeof aF.mimeType==='string'&&typeof iQ.overrideMimeType==='function'){iQ.overrideMimeType(aF.mimeType);}if(aF.cache){V.Wg.cacheReponse(aF.url,iQ);}iQ.send(aF.body);}return bY;};return xn;})();V.ST=function(gY,ik,eH){var gy=[],rC=null,tp=null,aR;var aEX=function(tp,rC){if(!rC){return false;}else{return Math.abs(tp.y-rC.y)<1&&Math.abs(tp.height-rC.height)<1&&tp.x+tp.width>=rC.x+rC.width;}};for(aR=ik;aR<eH+1;aR++){tp=gY.jO(aR).av;if(aEX(tp,rC)){rC.union(tp);}else{rC=tp.clone();gy.push(rC);}}return gy;};V.addEvent=function addEvent(obj,event,handler){if(obj.addEventListener){obj.addEventListener(event,handler,false);}else if(obj.attachEvent){obj.attachEvent('on'+event,handler);}};V.removeEvent=function(obj,event,handler){if(obj.removeEventListener){obj.removeEventListener(event,handler,false);}else if(obj.detachEvent){obj.detachEvent('on'+event,handler);}};V.bspline=(function(){var d3_svg_lineBasisBezier1=[0,2/3,1/3,0],d3_svg_lineBasisBezier2=[0,1/3,2/3,0],d3_svg_lineBasisBezier3=[0,1/6,2/3,1/6];function d3_svg_lineLinear(points){return points.join("L");};function d3_svg_lineDot4(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3];};function d3_svg_lineBasisBezier(path,x,y){path.push("C",d3_svg_lineDot4(d3_svg_lineBasisBezier1,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier1,y),",",d3_svg_lineDot4(d3_svg_lineBasisBezier2,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier2,y),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,y));};function d3_svg_lineBasis(points){if(points.length<3){return d3_svg_lineLinear(points);}var i=1,n=points.length,pi=points[0],x0=pi[0],y0=pi[1],px=[x0,x0,x0,(pi=points[1])[0]],py=[y0,y0,y0,pi[1]],path=[x0,",",y0,"L",d3_svg_lineDot4(d3_svg_lineBasisBezier3,px),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,py)];points.push(points[n-1]);while(++i<=n){pi=points[i];px.shift();px.push(pi[0]);py.shift();py.push(pi[1]);d3_svg_lineBasisBezier(path,px,py);}points.pop();path.push("L",pi);return path.join("");};return function(bo){var arS=V.map(bo,function(aS){return[aS.x,aS.y];});return d3_svg_lineBasis(arS);};})();V.aHx=function(cs){if(cs.match(/[^a-zA-Z0-9\s\,\.]/)){throw new Error('The path data attribute is not valid. It cannot be parsed.');}var aDE=V.filter(cs.replace(/[Mm]/g,'|').split('|'),function(g){return! !g.length;});var asS=V.map(aDE,function(el){var asT=el.replace(/[a-zA-Z]/g,'|').split('|');return V.map(asT,function(fb){var ahZ=fb.split(',');return{x: +ahZ[0],y: +ahZ[1]};});});return asS;};V.ani=function(cs,jf,kR,kG,aF){aF.co="12px";var iE=V.tw(cs,jf,aF),yS=12*kR/(iE.width||1),xU=12*kG/(iE.height||1),ard=Math.min(yS,xU);aF.co=ard;return V.alg(cs,jf,kR,kG,aF);};V.alg=function(cs,jf,kR,kG,aF,Qp){Qp=Qp||1;var nf={},iE=V.tw(cs,jf,aF),co=aF.co;nf.width=iE.width;nf.height=iE.height;nf.fontSize=co;if(Qp>3){return nf;}if((iE.width<kR+1)&&(iE.height<kG+1)){return nf;}else{var yS=co*kR/(iE.width||1),xU=co*kG/(iE.height||1),yJ=Math.min(yS,xU);if(yJ>=aF.co){return nf;}else{aF.co=yJ;return V.alg(cs,jf,kR,kG,aF,Qp+1);}}};V.tw=function(cs,jf,aF){aF=aF||{};if(document.createElementNS){return V.aCX(cs,jf,aF);}else{return V.aac(cs,jf,aF);}};V.aCX=function(cs,jf,aF){var svg,aeq=false;if(aF.eG){svg=aF.eG;}else{svg=document.createElementNS("http://www.w3.org/2000/svg","svg");svg.setAttribute('style','border: 1px solid black');svg.setAttribute('width','600');svg.setAttribute('height','600');aeq=true;document.body.appendChild(svg);}var co=aF.co||"12px";if(typeof co==="number"){co=co+"px";}var dK=document.createElementNS("http://www.w3.org/2000/svg","text");V.forEach({x:0,y:0,'font-size':co,'stroke':"none",'fill':"#000000",'font-family':jf},function(value,name){dK.setAttribute(name,value);});if(aF.uG){dK.setAttribute('style','white-space:'+aF.uG);}var lX=document.createTextNode(cs);dK.appendChild(lX);svg.appendChild(dK);var tE=dK.getBBox(),Ij=tE.width,Hy=tE.height;svg.removeChild(dK);if(aeq){document.body.removeChild(svg);}if(Ij===0&&Hy===0&&cs!=="M"){return V.tw("M",jf,aF);}else{return{width:Ij,height:Hy};}};V.aac=function(cs,jf,aF){var lX=document.createTextNode(cs),Eo=document.createElement('div');var co=aF.co||"12px";if(typeof co==="number"){co=co+"px";}V.forEach({position:'absolute',display:'inline-block',top:0,left:0,visibility:'hidden',fontSize:co,fontFamily:jf},function(value,name){Eo.style[name]=value;});if(aF.uG){Eo.style.whiteSpace=aF.uG;}Eo.appendChild(lX);document.body.appendChild(Eo);var tE=Eo.getBoundingClientRect(),Ij=tE.width||tE.right-tE.left,Hy=tE.height||tE.bottom-tE.top;document.body.removeChild(Eo);if(Ij===0&&Hy===0&&cs!=="M"){return V.aac("M",jf,co);}else{return{width:Ij,height:Hy};}};V.abe=function(svgPath){var regexp=/[\s,]*(M)[\s,]*([\d\.]+)[\s,]+([\d\.]+)|[\s,]*(C)[\s,]?([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)|[\s,]*(L)[\s,]*([\d\.]+)[\s,]+([\d\.]+)/g;var match=regexp.exec(svgPath);var xArr=[],yArr=[];function updateBounds(x,y){xArr.push(Number(x));yArr.push(Number(y));};while(match!==null){if(match[1]){updateBounds(match[2],match[3]);}else if(match[4]){updateBounds(match[5],match[6]);updateBounds(match[7],match[8]);updateBounds(match[9],match[10]);}else if(match[11]){updateBounds(match[12],match[13]);}match=regexp.exec(svgPath);}return{width:Math.max.apply(Math,xArr),height:Math.max.apply(Math,yArr)};};V.xO=(V.aqp)?{SVG:function SVG(WC){var eG=document.createElementNS("http://www.w3.org/2000/svg","svg");eG.setAttribute('viewBox',WC);return eG;},Path:function Path(qv,gV){var gh=document.createElementNS("http://www.w3.org/2000/svg","path");gh.style.fill='none';gh.style.stroke=gV.color||'#000000';gh.style.strokeWidth=gV.thickness||4;if(qv){gh.setAttribute('d',qv.toString().trim());}return gh;},Rect:function Rect(be,ba,ei){var bF=document.createElementNS("http://www.w3.org/2000/svg","rect");bF.setAttribute('width',be||0);bF.setAttribute('height',ba||0);if(ei){bF.setAttribute('style',ei);}return bF;}}:{SVG:function(WC,Lp){var bK=document.createElement("div");bK.style.left="0px";bK.style.top="0px";bK.style.position="relative";bK.baseInit=false;bK.baseX=0;bK.baseY=0;var aAA=bK.setAttribute;bK.setAttribute=function(au,J){if(au==="width"){this.style.width=J*(+Lp||1);}else if(au==="height"){this.style.height=J*(+Lp||1);}else if(au==="x"){this.style.left=J;}else if(au==="y"){this.style.top=J;}else if(au==="viewBox"){var ri=J.split(" ");this.style.height= +ri.pop()*(+Lp||1)+'px';this.style.width= +ri.pop()*(+Lp||1)+'px';}else{aAA(au,J);}};bK.setAttribute('viewBox',WC);bK.setAttribute('data-pcc-mark','signature');return bK;},Path:function(qv,gV){var bK=document.createElement("v:shape");bK.style.width=gV.width*(+gV.multiplier||1);bK.style.height=gV.height*(+gV.multiplier||1);bK.coordsize=[gV.width,gV.height].join(', ');bK.style.position="absolute";bK.setAttribute=function(au,J){if(au==="d"){var EV=0;var FV=0;J=J.replace(/(\d*)((\.*\d*)(e ?-?\d*))/g,"$1");var Mk=J.match(/([MLHVCSQTAZ].*?)(?=[MLHVCSQTAZ]|$)/gi);var amf="",gB=[];for(var i=0;i<Mk.length;i++){var fb=Mk[i].substring(0,1);var nx=Mk[i].substring(1,Mk[i].length);nx=nx.split(/[, ]/);for(var j=0;j<nx.length;j++){nx[j]=Math.round(nx[j]);}nx=nx.join();switch(fb){case "M":fb="m";gB=nx.split(/[, ]/);EV=parseInt(gB[0],10);FV=parseInt(gB[1],10);break;case "m":fb="t";gB=nx.split(/[, ]/);gB[0]=parseInt(gB[0],10)+parseInt(EV,10);gB[1]=parseInt(gB[1],10)+parseInt(FV,10);EV=parseInt(gB[0],10);FV=parseInt(gB[1],10);break;case "A":fb="ae";var dn=nx.split(/[, ]+/);dn[0]=parseInt(dn[0],10);dn[1]=parseInt(dn[1],10);dn[2]=parseInt(dn[2],10);dn[3]=parseInt(dn[3],10);dn[4]=parseInt(dn[4],10);dn[5]=parseInt(dn[5],10);nx=dn[4]+" "+dn[5]+" "+dn[2]*2+" "+dn[3]*2+" 0 360";break;case "L":fb="l";gB=nx.split(/[, ]+/);EV=parseInt(gB[0],10);FV=parseInt(gB[1],10);break;case "l":fb="r";gB=nx.split(/[, ]+/);gB[0]=parseInt(gB[0],10)+parseInt(EV,10);gB[1]=parseInt(gB[1],10)+parseInt(FV,10);EV=parseInt(gB[0],10);FV=parseInt(gB[1],10);break;case "c":fb="v";break;case "z":fb="xe";nx="";break;default:fb=fb.toLowerCase();}amf+=fb+nx;}this.path=amf;return;}else if(au==="stroke"){this.stroked=(J==="none"?0:1);this.strokecolor=J;return;}else if(au==="stroke-width"){this.strokeweight=parseFloat(J)/1.2+"pt";return;}else if(au==="fill"){this.filled=(J==="none"?0:1);this.fillcolor=J;return;}};if(qv){bK.setAttribute('d',qv);}bK.setAttribute('stroke-width',gV.thickness||4);bK.setAttribute('stroke',gV.color||'#000000');bK.filled=0;bK.fillcolor='none';return bK;},Rect:function(be,ba){var bK=document.createElement("v:roundrect");bK.rxy=0;bK.svg2vmlStyle={fill:{value:"#000000",valueSource:"default"},stroke:{value:"none",valueSource:"default"},"stroke-width":{value:"1",valueSource:"default"}};bK.setAttribute=function(au,J,asD){if(this.svg2vmlStyle[au]){this.svg2vmlStyle[au]["value"]=J;this.svg2vmlStyle[au]["valueSource"]=(asD||"user");}if(au==="x"){this.style.left=parseInt(J,10)+'px';return;}else if(au==="y"){this.style.top=parseInt(J,10)+'px';return;}else if(au==="stroke"){this.stroked=(J==="none"?0:1);this.strokecolor=J;return;}else if(au==="stroke-width"){this.strokeweight=parseFloat(J)/1.2+"pt";return;}else if(au==="fill"){this.filled=(J==="none"?0:1);this.fillcolor=J;return;}else if(au==="width"||au==="height"||au==="rx"||au==="ry"){if(au==="width"){this.style.width=parseInt(J,10)+'px';}else if(au==="height"){this.style.height=parseInt(J,10)+'px';}else if(au==="rx"||au==="ry"){if(parseInt(J,10)){this.rxy=parseInt(J,10);}}if(this.rxy!==0){var Jr=parseInt(this.style.width,10);var RE=parseInt(this.style.height,10);if(!Jr){Jr=0;}if(!RE){RE=0;}if(RE<Jr){Jr=RE;}var Mr=this.rxy/Jr;this.arcsize=Mr;}else{this.arcsize=0;}return;}};if(be){bK.setAttribute('width',be);}if(ba){bK.setAttribute('height',ba);}for(var au in bK.svg2vmlStyle){if((bK.svg2vmlStyle[au]["value"])&&(bK.svg2vmlStyle[au]["valueSource"]==="default")){bK.setAttribute(au,bK.svg2vmlStyle[au]["value"],"default");}}return bK;}};V.JP=function JP(lW){var regexIso8601=/^(\d{4}|\+\d{6})(?:-(\d{2})(?:-(\d{2})(?:T(\d{2}):(\d{2}):(\d{2})\.(\d{1,3})(?:Z|([\-+])(\d{2}):(\d{2}))?)?)?)?$/;var m=regexIso8601.exec(lW);if(m){return Date.UTC(m[1],(m[2]||1)-1,m[3]||1,m[4]-(m[8]?m[8]+m[9]:0)||0,m[5]-(m[8]?m[8]+m[10]:0)||0,m[6]||0,((m[7]||0)+'00').substr(0,3));}else{return new Error(lW+' cannot be parsed as an ISO 8601 date.');}};V.wJ=function aFi(hz){if(hz.toISOString&&typeof hz.toISOString==='function'){return hz.toISOString();}else if(hz instanceof Date){var pad=function pad(number){if(number<10){return '0'+number;}return number;};return hz.getUTCFullYear()+'-'+pad(hz.getUTCMonth()+1)+'-'+pad(hz.getUTCDate())+'T'+pad(hz.getUTCHours())+':'+pad(hz.getUTCMinutes())+':'+pad(hz.getUTCSeconds())+'.'+(hz.getUTCMilliseconds()/1000).toFixed(3).slice(2,5)+'Z';}else{return new Error(hz+' is not a Date object.');}};V.uO=function uO(o){return(!o?false:typeof Node==="object"?o instanceof Node:o&&typeof o==="object"&&typeof o.nodeType==="number"&&typeof o.nodeName==="string");};V.Sj=function Sj(o){if(V.uO(o)){while(o.firstChild){o.removeChild(o.firstChild);}}};V.ZY=function sync(funcs,done){var counter=funcs.length;var idx=0;var next=function(err){if(err){done(err);}else if(--counter===0){done();}else{funcs[idx++](next);}};funcs[idx++](next);};V.ahw=function(aH){aH=String(aH).replace(/[^0-9a-f]/gi,"");if(aH.length<6){aH=aH[0]+aH[0]+aH[1]+aH[1]+aH[2]+aH[2];}var SK=function(cs){return parseInt(cs,16);};var r=SK(aH.substring(0,2));var g=SK(aH.substring(2,4));var b=SK(aH.substring(4,6));return{r:r,g:g,b:b};};V.aEk=function(aH){var RC="";var LT=function(n){while(n.length<2){n='0'+n;}return n;};var SF=function(n){return LT(n.toString(16));};RC+=SF(Math.floor(aH.r));RC+=SF(Math.floor(aH.g));RC+=SF(Math.floor(aH.b));return '#'+RC;};V.apN=function(auW,arP,auR){var DE=auR,_E=V.ahw(auW),nz=V.ahw(arP);nz.r=(1-DE)*nz.r+(_E.r*DE);nz.g=(1-DE)*nz.g+(_E.g*DE);nz.b=(1-DE)*nz.b+(_E.b*DE);nz.r=Math.floor(nz.r);nz.g=Math.floor(nz.g);nz.b=Math.floor(nz.b);return V.aEk(nz);};V.akq=function(asP,tM){var auV=V.reduceLeft(asP,function(ft,cW){if(cW.opacity===undefined){cW.opacity=127;}var ayh=cW.opacity/255;return V.apN(cW.color,ft,ayh);},tM);return auV;};V.alD=function(fP){if(fP.length===0){return fP;}var fD=fP.slice(0);fD.sort(function(a,b){return a.startIndex-b.startIndex;});var Wn=null;var kW=[];var Ub=0,NH=[];var C=fD[0].startIndex;while(fD.length>0){Ub=0;NH=null;NH=[];var aR=0;while(aR<fD.length&&fD[aR].startIndex<=C){if(C<=fD[aR].startIndex+fD[aR].length-1){Ub++;NH.push(fD[aR]);aR++;}else{fD.splice(aR,1);}}if(Ub>0){var Cs=V.akq(NH,'#ffffff');if(Cs===Wn){kW[kW.length-1].endIndex=C;}else{kW.push({startIndex:C,endIndex:C,color:Cs});}Wn=Cs;C++;}else{if(fD.length>0){C=fD[0].startIndex;}Wn=null;}}return kW;};V.Fc=function(QD){return QD.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");};V.aaE=function(aQ){var blackListPattern=/^\s*(file|data|javascript|[a-z]):.*$/i;return blackListPattern.test(aQ);};V.LT=function(gr,da){var cs=""+gr;while(cs.length<da){cs='0'+cs;}return cs;};V.aHz=function(eL){var gu=eL.getTimezoneOffset();gu=((gu<0?'+':'-')+V.LT(parseInt(Math.abs(gu/60),10),2)+V.LT(Math.abs(gu%60),2));return gu;};V.ahn=['Sun','Mon','Tue','Wed','Thurs','Fri','Sat'];V.TP=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];V.alc=function(Sz){var aCn=/^\s*\w+\s+(\w+)\s+(\d+)\s+(\d+):(\d+):(\d+)\s+GMT[+-]?\d+\s+(\d+)\s*$/i,ad=aCn.exec(Sz),afg,Eu,afW,afD,ahb,yN,agJ;if(!ad){return null;}else{afg=ad[1].toLowerCase();afW=ad[2];afD=ad[3];ahb=ad[4];yN=ad[5];agJ=ad[6];for(Eu=0;Eu<12;Eu++){if(V.TP[Eu].toLowerCase()===afg){break;}}if(Eu>=12){return null;}return new Date(Date.UTC(agJ,Eu,afW,afD,ahb,yN));}};V.acO=function(eL){return(V.ahn[eL.getUTCDay()]+" "+V.TP[eL.getUTCMonth()]+" "+eL.getUTCDate()+" "+eL.getUTCHours()+':'+eL.getUTCMinutes()+':'+eL.getUTCSeconds()+" "+"GMT+0000 "+eL.getUTCFullYear());};V.aCS=function(eL){return(V.ahn[eL.getUTCDay()]+" "+V.TP[eL.getUTCMonth()]+" "+eL.getUTCDate()+" "+eL.getUTCFullYear());};V.aEF=function(eL){return(eL.getUTCHours()+':'+eL.getUTCMinutes()+':'+eL.getUTCSeconds()+" "+"GMT+0000");};V.qO=function(text){return text.replace(/[&<>\"\']/g,function(char){switch(char){case "&":return "&amp;";case "<":return "&lt;";case ">":return "&gt;";case "\"":return "&quot;";case "'":return "&apos;";default:throw new Error("Did not find a replacement character.");}});};V.vB=function(text){return text.replace(/&amp;/g,'&').replace(/&gt;/g,'>').replace(/&lt;/g,'<').replace(/&quot;/g,'"').replace(/&apos;/g,'\'');};V.ayn=(function(chars){chars='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';function InvalidCharacterError(message){this.message=message;};InvalidCharacterError.prototype=new Error;InvalidCharacterError.prototype.name='InvalidCharacterError';function btoa(input){var str=String(input);for(var block,charCode,idx=0,map=chars,output='';str.charAt(idx|0)||(map='=',idx%1);output+=map.charAt(63&block>>8-idx%1*8)){charCode=str.charCodeAt(idx+=3/4);if(charCode>0xFF){throw new InvalidCharacterError("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");}block=block<<8|charCode;}return output;};function atob(input){var str=String(input).replace(/=+$/,'');if(str.length%4==1){throw new InvalidCharacterError("'atob' failed: The string to be decoded is not correctly encoded.");}for(var bc=0,bs,buffer,idx=0,output='';buffer=str.charAt(idx++);~buffer&&(bs=bc%4?bs*64+buffer:buffer,bc++ %4)?output+=String.fromCharCode(255&bs>>(-2*bc&6)):0){buffer=chars.indexOf(buffer);}return output;};return{btoa:btoa,atob:atob};})();V.ox=(function(){var ox=['down','enter','leave','move','out','over','up'];if(window.navigator.pointerEnabled){var aeb={};ox.forEach(function(afL){aeb[afL]='pointer'+afL;});return aeb;}if(window.navigator.msPointerEnabled){var adO={};for(var C=0;C<ox.length;C++){var WB=ox[C];var azR='MSPointer'+WB.charAt(0).toUpperCase()+WB.slice(1);adO[WB]=azR;}return adO;}return{};})();V.vY=(function(){return{zv: ! !navigator.userAgent.match('Edge'),aGA:document.documentMode!==undefined,aGz:document.documentMode===8,aFQ:document.documentMode===9,aEP:document.documentMode===10,aGk:document.documentMode===11,aFC:(navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i))};})();V.Oo=(function(oX){if(!oX|| !IPCC.V.trim(oX)){return 'regular';}return IPCC.V.trim(oX).toLowerCase();});V.aFG=function(arg,value){return typeof arg!=='undefined'?arg:value;};V.LH=function(value){return Number(value.replace(/[a-z]+$/,''));};V.NC=function(elem,propertyName){if(elem.currentStyle){return elem.currentStyle[propertyName];}else{return window.getComputedStyle(elem,null).getPropertyValue(propertyName);}};V.ado=function(){if(this.pO===undefined){this.pO=document.createTextNode('');}return this.pO;};V.abX=function(){if(this.dh===undefined){this.dh=document.createElement('textarea');this.pO=document.createTextNode('');this.dh.appendChild(V.pO);this.dh.style.position='absolute';this.dh.style.overflow='hidden';this.dh.style.width='80px';this.dh.style.height='80px';this.dh.style.resize='none';this.dh.style.top='-9999px';this.dh.style.left='-9999px';this.dh.style.whiteSpace='pre-wrap';this.dh.style.border=0;this.dh.style.padding='2px';document.body.appendChild(this.dh);}return this.dh;};V.Yr=function(dh,DX,aq){var Zb=0.1;var JQ;if(DX===0||DX>aq){DX=aq;}while(Zb<=DX){JQ=(Zb+DX)/2;dh.style.fontSize=JQ+'px';if(dh.scrollHeight<=dh.offsetHeight){Zb=JQ+0.1;}else{DX=JQ-0.1;}}var ajH=(JQ-0.5)*0.95;dh.style.fontSize=ajH+'px';return ajH;};V.OY=function(wv,pf,TG,rN){if(wv(pf,TG)!==TG){return typeof(rN)==='number'?rN:TG;}return pf;};V.Os=function(pf,azS,rN){return V.OY(Math.min,pf,azS,rN);};V.LX=function(pf,aDd,rN){return V.OY(Math.max,pf,aDd,rN);};V.apk=(function(){var HW;return function(anA,lk,asH){if(HW!==undefined&& !asH){setTimeout(lk.bind(null,HW),0);return;}axb(anA,function(rM){HW=rM;lk(rM);});};function axb(NA,lk){var jf='jctqxvjmncyjagibfltptfzhknc';var iY='@font-face {font-family:'+jf+';src:url(data:application/x-font-woff;charset=utf-8;base64,d09GRk9UVE8AAAQoAAkAAAAAA+QAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABDRkYgAAAC+AAAARkAAAEZ9R5YPk9TLzIAAAFEAAAAYAAAAGBKDUcOY21hcAAAAqwAAAAsAAAALAAMAFZoZWFkAAAA4AAAADYAAAA2+UdJt2hoZWEAAAEYAAAAJAAAACQIOgMbaG10eAAABBQAAAAUAAAAFAhtAW5tYXhwAAABPAAAAAYAAAAGAAVQAG5hbWUAAAGkAAABBQAAAQVCmPyecG9zdAAAAtgAAAAgAAAAIAADAAAAAQAAAAEAAM9NZw1fDzz1AAAD6AAAAADLUgMfAAAAAMtSAx8Ac//5AxwCmwAAAAgAAgAAAAAAAAABAAACm//5Ag4DHABzAAADHAABAAAAAAAAAAAAAAAAAAAABQAAUAAABQAAAAQCzwGQAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAEFDQ1UAQAAfACMCm//5AkACmwAHAAAAAQAAAAAAAAAAAAAAIAAAAAAABgBOAAEAAAAAAAEAGwAAAAEAAAAAAAIABwBRAAEAAAAAAAYAGwBmAAMAAQQJAAEANgAbAAMAAQQJAAIADgBYAAMAAQQJAAYANgCBamN0cXh2am1uY3lqYWdpYmZsdHB0Znpoa25jAGoAYwB0AHEAeAB2AGoAbQBuAGMAeQBqAGEAZwBpAGIAZgBsAHQAcAB0AGYAegBoAGsAbgBjUmVndWxhcgBSAGUAZwB1AGwAYQByamN0cXh2am1uY3lqYWdpYmZsdHB0Znpoa25jAGoAYwB0AHEAeAB2AGoAbQBuAGMAeQBqAGEAZwBpAGIAZgBsAHQAcAB0AGYAegBoAGsAbgBjAAAAAAAAAQADAAEAAAAMAAQAIAAAAAQABAABAAAAI///AAAAIP///+EAAQAAAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEABAQAAQEBHGpjdHF4dmptbmN5amFnaWJmbHRwdGZ6aGtuYwABAQEq+Bv4HIsMHvgdAvgdA/cHhPmw+S8FiwwfkAwi95sMJPc5DCX3NA/3QREABAEBBg8qRUFkb2JlSWRlbnRpdHkwamN0cXh2am1uY3lqYWdpYmZsdHB0Znpoa25jamN0cXh2am1uY3lqYWdpYmZsdHB0Znpoa25jAAACAAEAAwMAAQAAAAAFAAUBAQIDFDNSDg7Q9xX5JxX5J4uL/Sf9J4sFDtj3LvkOFYv89fj1i4v49QWs/RUV/TaLi/k2+TaLBQ77JvcHixWL+NH4XouL/NEF/FCZFfhCi4v4tfxCiwUOAAEBAQn4HgwmkPeoEosU+WMVAAAAAAAAAAAAAAADFACBAxwAegI9AHM=)}';var ei;var ny;var agO;var anu,anc;ayJ();awC(function(rM){awS();lk(rM);});function ayJ(){ei=document.createElement('style');ei.innerText=iY;NA.appendChild(ei);ny=document.createElement('div');ny.style.cssText='position: absolute;width: 100%;top:-9999px;left: -9999px;visibility: hidden;pointer-events: none;';anu=adU(ny,'monospace');anc=adU(ny,'arial');NA.appendChild(ny);};function awS(){clearInterval(agO);NA.removeChild(ny);NA.removeChild(ei);};function awC(aL){var amJ=Date.now();var oA=500;var aFr=25;agO=setInterval(function(){var agv=anu.offsetWidth===anc.offsetWidth;if(agv||Date.now()-amJ>oA){aL(agv);}},aFr);};function adU(ny,iY){var arq='!!';var amt=document.createElement('div');var Kh=document.createElement('span');Kh.style.cssText='font-size: 30px; font-weight: normal; font-style: normal; letter-spacing: 0px; white-space: nowrap;';Kh.innerText=arq;Kh.style.fontFamily=jf+', '+iY;amt.appendChild(Kh);ny.appendChild(amt);return Kh;}}})();module.exports=V;},{}],30:[function(require,module,exports){var zQ=require('./Type');zQ.registerNamespace('IPCC');module.exports={Pagecounter:1,fZ:true,akA:null,initializePageViewPlugin:require('./initializePageViewPlugin'),initializePageListPlugin:require('./initializePageListPlugin'),qN:require('./predefinedContextMenu'),ZR:require('./indexOf'),Ld:require('./setProperties'),bz:require('./PageItem'),wE:require('./GetUniqueID'),XD:require('./ViewerState'),uY:require('./Configuration'),bB:require('./Cursor'),kH:require('./Res'),bw:require('./Validate'),ih:require('./Debug'),eI:require('./MenuCommand'),PageLayout:require('./PageLayout'),ViewMode:require('./ViewMode'),FitType:require('./FitType'),ScaleTrigger:require('./ScaleTrigger'),PageEventArgs:require('./PageEventArgs'),ExceptionEventArgs:require('./ExceptionEventArgs'),OpenPageEventArgs:require('./OpenPageEventArgs'),PageList:require('./PageList'),Web:require('./Web/Web'),Type:zQ,V:require('./IPCC.Util'),dj:require('./Art'),lc:require('./SelectTextController'),eo:require('./Matrix'),WG:require('./ViewerModel'),en:require('./ContextMenuController'),eV:require('./SvgUIDirector'),nG:require('./PropertyChangedEventArgs'),hv:require('./Browser'),Ah:require('./StringBuilder'),cF:require('./MultiTouchController'),re:require('./ImagePyramid'),dB:require('./SingleTouchController'),lx:require('./AddPolyMarkController'),nL:require('./SelectController'),fh:require('./AddRectangularMarkController'),jS:require('./AddFreehandMarkController'),pq:require('./AddLineMarkController'),cY:require('./MouseWheelController'),oY:require('./HandPanController'),mA:require('./RectangleZoomController'),ot:require('./MagnifierController'),le:require('./EditMarksController'),zV:require('./RunMarksController'),Bi:require('./Space'),gJ:require('./Image'),PS:require('./ImagePool'),Gz:require('./PyramidLevel'),yE:require('./PyramidTile'),};},{"./AddFreehandMarkController":12,"./AddLineMarkController":13,"./AddPolyMarkController":14,"./AddRectangularMarkController":15,"./Art":16,"./Browser":19,"./Configuration":20,"./ContextMenuController":21,"./Cursor":22,"./Debug":23,"./EditMarksController":24,"./ExceptionEventArgs":25,"./FitType":26,"./GetUniqueID":27,"./HandPanController":28,"./IPCC.Util":29,"./Image":31,"./ImagePool":32,"./ImagePyramid":33,"./MagnifierController":34,"./Matrix":35,"./MenuCommand":36,"./MouseWheelController":37,"./MultiTouchController":38,"./OpenPageEventArgs":39,"./PageEventArgs":40,"./PageItem":41,"./PageLayout":42,"./PageList":43,"./PropertyChangedEventArgs":44,"./PyramidLevel":45,"./PyramidTile":46,"./RectangleZoomController":47,"./Res":48,"./RunMarksController":49,"./ScaleTrigger":50,"./SelectController":51,"./SelectTextController":52,"./SingleTouchController":53,"./Space":54,"./StringBuilder":55,"./SvgUIDirector":56,"./Type":57,"./Validate":58,"./ViewMode":59,"./ViewerModel":60,"./ViewerState":61,"./Web/Web":125,"./indexOf":126,"./initializePageListPlugin":127,"./initializePageViewPlugin":128,"./predefinedContextMenu":129,"./setProperties":130}],31:[function(require,module,exports){var gJ=function(mc,aU,be,ba,hb,gj){IPCC.Bi.call(this,0,0,0,0);this.width=be;this.height=ba;this.hb=hb;this.gj=gj;this.aU=aU||0;this.dY=0;this.rD=true;this.axG={};this.zY=false;var T=this;this.aU=aU;this.get_url=function(fX,fB,bm){fB=fB||'Image';bm=bm||'';var DY=gJ.Jw(mc);var Bf=false;if(/^[\x00-\x7F]*$/.test(DY)){Bf=true;}if(bm===null||bm===''){if(fB==='Attributes'){var uZ='';if(!IPCC.uY.JW()){uZ='&ContentType=png';}if(!Bf){return fX+'/Page/q/'+aU.toString()+'/'+fB+'?DocumentID=e'+mc+uZ;}else{return fX+'/Page/q/'+aU.toString()+'/'+fB+'?DocumentID=u'+encodeURIComponent(DY)+uZ;}}else{if(fB==='SvgImage'){if(!Bf){return fX+'/Page/q/'+aU.toString()+'?DocumentID=e'+mc+'&'+bm;}else{return fX+'/Page/q/'+aU.toString()+'?DocumentID=u'+encodeURIComponent(DY)+'&'+bm;}}if(!Bf){return fX+'/Page/q/'+aU.toString()+'/'+fB+'?DocumentID=e'+mc+'&'+bm;}else{return fX+'/Page/q/'+aU.toString()+'/'+fB+'?DocumentID=u'+encodeURIComponent(DY)+'&'+bm;}}}else{if(fB==='SvgImage'){if(!Bf){return fX+'/Page/q/'+aU.toString()+'?DocumentID=e'+mc+'&'+bm;}else{return fX+'/Page/q/'+aU.toString()+'?DocumentID=u'+encodeURIComponent(DY)+'&'+bm;}}if(!Bf){return fX+'/Page/q/'+aU.toString()+'/'+fB+'?DocumentID=e'+mc+'&'+bm;}else{return fX+'/Page/q/'+aU.toString()+'/'+fB+'?DocumentID=u'+encodeURIComponent(DY)+'&'+bm;}}};this.get_urlArt=function(fX,fB,bm){fB=fB||'Art';bm=bm||'';if(bm===null||bm===''){if(fB==='Art'){return fX+'/Page/q/'+aU.toString()+'/'+fB+'?DocumentID=e'+mc;}}else{return fX+'/Page/q/'+aU.toString()+'/'+fB+'?DocumentID=e'+mc+'&'+bm;}};this.get_identifier=function(){return IPCC.gJ.Jw(mc);};this.get_encodedIdentifier=function(){return mc;};this.toString=function(){return 'Image("'+mc+'", '+this.aU+', '+this.width+' x '+this.height+', '+this.hb+', '+this.gj+')';};function agZ(apb,h){if(h.Ya()){T.rD=true;T.zY=false;return;}var aaH=apb.split(',');var nh=false;for(var bC=0;bC<aaH.length;bC++){if(aaH[bC]==="SVG"||aaH[bC]==="svg"){if(IPCC.uY.JW()){T.zY=true;T.rD=false;}else{T.zY=false;}nh=true;break;}}if(!nh){T.zY=false;T.rD=true;}if(h){if(h.LJ){h.LJ(T.zY);}}};this.SI=function(fX,h,xR){h.aU=this.aU;var mz=0;var mT=h.yf();if(mT){if(document.documentMode<9){mT=false;}}var sZ=true;if(h.jJ()===0){sZ=false;}var nC=function(eJ,aM){try{if(eJ===null){throw new IPCC.Web.UI.ImGearArgumentException(null,'Unable to load the specified image. Failed to obtain Image attributes. Returned JSON from the server is null');}if(eJ.errorCode){if(eJ.errorCode==='SvgNotAvailable'){mT=false;T.width= +(eJ.pageAttributes.imageWidth);T.height= +(eJ.pageAttributes.imageHeight);T.hb= +(eJ.pageAttributes.imageXResolution);if(T.hb<=0){T.hb=72;}T.gj= +(eJ.pageAttributes.imageYResolution);if(T.gj<=0){T.gj=72;}T.dY= +(eJ.pageAttributes.pageCount);T.rD=eJ.pageAttributes.isRaster!=='false';agZ(eJ.pageAttributes.contentType,h);}}else{T.width= +(eJ.imageWidth);T.height= +(eJ.imageHeight);T.hb= +(eJ.imageXResolution);if(T.hb<=0){T.hb=72;}T.gj= +(eJ.imageYResolution);if(T.gj<=0){T.gj=72;}T.dY= +(eJ.pageCount);T.rD=eJ.isRaster!=='false';agZ(eJ.contentType,h);}var pp=aM.getResponseHeader("Accusoft-Data-Encrypted");var Fh=false;if(pp==="true"){Fh=true;}h.adh(Fh);if(xR){xR();}}catch(e){h.af('openPage',e);if(typeof(h.bU)==='function'){var cK=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cK.exception=e;cK.pageNumber=h.aU;h.bU('pageOpenFailed',cK);}}};function OR(){mT=false;if(mz<1){var hs={method:'GET',url:T.get_url(fX,'Attributes'),headers:{'Content-Type':'application/json'}};if(sZ===true){hs.timeout=h.jJ();}IPCC.V.nB.fq(hs).then(ez,fz);mz++;}};var aCt=function(hk,aM){var be;var ba;function avE(){var Wy;try{Wy=JSON.parse(hk);}catch(bx){Wy=undefined;mT=true;}return Wy;};try{be=hk.match(/width=\"([0-9.]+)\"/);ba=hk.match(/height=\"([0-9.]+)\"/);if(be&&ba){be=Number(be[1]);ba=Number(ba[1]);}else{throw "error";}if(isNaN(be)||isNaN(ba)){throw "error";}T.width=be;T.height=ba;T.hb=72;T.gj=72;T.zY=true;T.rD=false;if(h){if(typeof(h.LJ==='function')){h.LJ(T.zY);}}if(xR){xR();}}catch(e){var ad=avE();if(ad){nC(ad,aM);return;}if(mT){if(mz<1){mT=false;setTimeout(OR,10);return;}}h.af('openPage',e);if(typeof(h.bU)==='function'){var cK=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cK.exception=e;cK.pageNumber=h.aU;h.bU('pageOpenFailed',cK);}}};function ez(aM){var ad=null,dG;try{if(!mT){ad=JSON.parse(aM.responseText);nC(ad,aM);}else{var nd;var pp=aM.getResponseHeader("Accusoft-Data-Encrypted");if(pp==='true'&&h.jx()===true){var ub=IPCC.Web.gI.sK.vx(aM.getResponseHeader("Accusoft-Data-SK"));var au=IPCC.Web.IX(ub,jC);var fu=IPCC.Web.GP(aM);var ts=IPCC.Web.Df(fu,au,jC);nd=IPCC.Web.gI.Kf.pd(ts);}else{nd=aM.responseText;}var Yd;if(nd.length>=1000){Yd=nd.substring(0,1000);}else{Yd=nd.substring(0,nd.length);}aCt(Yd,aM);}}catch(ex){if(mT){mT=false;if(mz<1){setTimeout(OR,10);return;}}dG="Attributes parsing error, Error message = "+ex.message;throw new IPCC.Web.UI.ImGearArgumentException(null,dG);}};function fz(ad){try{var dG,lG,mE;if(!ad.response){throw new IPCC.Web.UI.ImGearHttpException(ad.response.status,"Client timed out on load");}if(ad.response.status===403){mz++;if(ad.response.statusText&&ad.response.statusText!==""){dG="Expired viewer session ID, error message from the server: "+ad.response.statusText;}else{dG="Expired viewer session ID. Np error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(ad.response.status,dG);}if(mT){mT=false;if(mz<1){setTimeout(OR,10);return;}}mE=ad.response.getResponseHeader('Accusoft-Status-Message');if(mE){var pH;lG=ad.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.xQ(lG)){pH=parseInt(lG,10);}throw new IPCC.Web.UI.ImGearHttpException(ad.response.status,mE,pH);}else{if(ad.response.statusText&&ad.response.statusText!==""){dG="Error message from the service: "+ad.response.statusText;}else{dG="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(ad.response.status,dG);}}catch(e){if(mT){mT=false;if(mz<1){setTimeout(OR,10);return;}}h.af('openPage',e);if(typeof(h.bU)==='function'){var cK=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cK.exception=e;cK.pageNumber=h.aU;h.bU('pageOpenFailed',cK);}}};var jC=IPCC.Web.EQ.ada(4,IPCC.Web.PA());var ro=IPCC.Web.gI.GS.pd(jC);var hs={method:'GET',cache:true};if(!mT){hs.url=this.get_url(fX,'Attributes');hs.headers={'Content-Type':'application/json'};}else{var aQ;if(h.jx()===true){jC=IPCC.Web.EQ.aaN(4,IPCC.Web.PA());ro=IPCC.Web.gI.GS.pd(jC);aQ=this.get_url(fX,'SvgImage','Scale=1&ContentType='+IPCC.V.yA+'&iv='+ro);}else{aQ=this.get_url(fX,'SvgImage','Scale=1&ContentType='+IPCC.V.yA);}hs.url=aQ;}IPCC.V.nB.fq(hs).then(ez,fz);};this.aAU=function(fX,h,xR){h.aU=this.aU;var mz=0;var sZ=true;if(h.jJ()===0){sZ=false;}var nC=function(eJ,aM){try{if(eJ===null){throw new IPCC.Web.UI.ImGearArgumentException(null,'Unable to load the specified image. Failed to obtain Image attributes. Returned JSON from the server is null');}T.width= +(eJ.imageWidth);T.height= +(eJ.imageHeight);T.hb= +(eJ.imageXResolution);if(T.hb<=0){T.hb=72;}T.gj= +(eJ.imageYResolution);if(T.gj<=0){T.gj=72;}T.dY= +(eJ.pageCount);T.rD=true;var pp=aM.getResponseHeader("Accusoft-Data-Encrypted");var Fh=false;if(pp==="true"){Fh=true;}h.adh(Fh);if(xR){xR();}}catch(e){h.af('openPage',e);if(typeof(h.bU)==='function'){var cK=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cK.exception=e;cK.pageNumber=h.aU;h.bU('pageOpenFailed',cK);}}};function ez(aM){try{var gP=aM.status,ad,dG;if(gP===200){ad=null;try{ad=JSON.parse(aM.responseText);nC(ad,aM);}catch(ex){dG="Attributes parsing error, Error meesage = "+ex.message;throw new IPCC.Web.UI.ImGearArgumentException(null,dG);}}}catch(e){h.af('openPageForRaster',e);if(typeof(h.bU)==='function'){var cK=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cK.exception=e;cK.pageNumber=h.aU;h.bU('pageOpenFailed',cK);}}};function fz(ad){try{var gP=ad.response.status,dG,mE,lG;if(!ad.response){throw new IPCC.Web.UI.ImGearHttpException(gP,"Client timed out on load");}if(gP===403){mz++;if(ad.response.statusText&&ad.response.statusText!==""){dG="Expired viewer session ID, error message from the server: "+ad.response.statusText;}else{dG="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(gP,dG);}mE=ad.response.getResponseHeader('Accusoft-Status-Message');if(mE){var pH;lG=ad.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.xQ(lG)){pH=parseInt(lG,10);}throw new IPCC.Web.UI.ImGearHttpException(gP,mE,pH);}else{if(ad.response.statusText&&ad.response.statusText!==""){dG="Error message from the service: "+ad.response.statusText;}else{dG="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(gP,dG);}}catch(e){h.af('openPageForRaster',e);if(typeof(h.bU)==='function'){var cK=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cK.exception=e;cK.pageNumber=h.aU;h.bU('pageOpenFailed',cK);}}};var acL={method:'GET',url:this.get_url(fX,'Attributes'),headers:{'Content-Type':'application/json'}};if(sZ===true){acL.timeout=h.jJ();}IPCC.V.nB.fq(acL).then(ez,fz);};return this;};gJ.prototype.clone=function(){var Tw=new gJ(this.get_encodedIdentifier(),this.aU,this.width,this.height,this.hb,this.gj);Tw.dY=this.dY;Tw.rD=this.rD;return Tw;};gJ.prototype.equals=function(J){if(this.get_encodedIdentifier()!==J.get_encodedIdentifier()){return false;}if(this.aU!==J.aU){return false;}return true;};gJ.prototype.pz=8;gJ.prototype.sM=0.000001;gJ.aja=function(bm){var GJ=bm.referenceDocumentIdentifier;var aet=gJ.rA(GJ);var gM=bm.encodedDocumentIdentifier;var lA=bm.documentIdentifier;var eK;if(gM===''){gM=undefined;}if(lA===''){lA=undefined;}if(GJ&&GJ!==''){if(gM===aet){gM=undefined;}if(lA===GJ){lA=undefined;}}if(lA){eK=IPCC.gJ.rA(lA);if(gM){if(gM!==eK){throw new IPCC.Web.UI.ImGearArgumentException('documentIdentifier','When both are specified, documentIdentifier and encodedDocumentIdentifier must reference the same document (and encodedDocumentIdentifier must be base64-encoded).');}}else{gM=eK;}}else{if(gM){lA=IPCC.gJ.Jw(gM);}}if(!gM){lA=GJ;gM=aet;}var ah=bm.pageNumber;var adW=bm.referencePageNumber;if(ah===adW){ah=undefined;}if(ah!==0&& !ah){ah=adW;}bm.encodedDocumentIdentifier=gM;bm.documentIdentifier=lA;bm.pageNumber=ah;};gJ.rA=function(il){if(!il||il===''){return '';}var mh=[];var C;for(C=0;C<il.length;C++){mh.push(il.charCodeAt(C)%256);mh.push(Math.floor(il.charCodeAt(C)/256));}mh.push(0);mh.push(0);var RY='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_';var nJ=[],rO;for(C=0;C<mh.length-1;C+=3){rO=mh[C]*0x10000+mh[C+1]*0x100+mh[C+2];nJ.push(RY.charAt(Math.floor(rO/0x40000)));nJ.push(RY.charAt(Math.floor(rO/0x1000)%0x40));nJ.push(RY.charAt(Math.floor(rO/0x40)%0x40));nJ.push(RY.charAt(rO%0x40));}var YY=Math.ceil(il.length*16/6);while(nJ.length>YY){nJ.pop();}if((nJ.length%4)===3){nJ.push('1');}else if((nJ.length%4)===2){nJ.push('2');}else if((nJ.length%4)===0){nJ.push('0');}return nJ.join('');};gJ.Jw=function(mc){if(!mc||mc===''){return '';}var aiL=mc.length-1;var Pd=[],rO;var pK,mh=[],oI=[];var C;for(C=0;C<aiL;C++){pK=mc.charCodeAt(C);if(pK>64&&pK<91){oI.push(pK-65);}else if(pK>96&&pK<123){oI.push(pK-97+26);}else if(pK>47&&pK<58){oI.push(pK-48+52);}else if(pK===45){oI.push(62);}else if(pK===95){oI.push(63);}else{return '';}}oI.push(0);oI.push(0);oI.push(0);for(C=0;C<oI.length-3;C+=4){rO=oI[C]*0x40000+oI[C+1]*0x1000+oI[C+2]*0x40+oI[C+3];mh.push(Math.floor(rO/0x10000));mh.push(Math.floor(rO/0x100)%256);mh.push(rO%256);}for(C=0;C<mh.length-1;C+=2){Pd.push(String.fromCharCode(mh[C]+mh[C+1]*0x100));}var YY=Math.floor(aiL*6/16);while(Pd.length>YY){Pd.pop();}return Pd.join('');};module.exports=gJ;},{}],32:[function(require,module,exports){var PS=function(){this.cd=[];this.parentElementID='';this.lockTile=function(fL){var db,C,SY,Yw;if(this.Vw(fL)){return;}SY=0;for(C=this.cd.length-1;C>=0;C--){if(!(this.cd[C].locked)){SY++;Yw=C;}}if(SY>4){db=this.cd[Yw];this.uiDirector.agT(db);this.cd.splice(Yw,1);}db=new aEn();db.pool=this;this.uiDirector.axK(db);this.cd.push(db);db.locked=true;db.tile=fL;fL.poolItem=db;return;};this.Vw=function(fL){var db,C;if(this.locked){return true;}for(C=0;C<this.cd.length;C++){if(this.cd[C].tile===fL){db=this.cd[C];db.locked=true;fL.poolItem=db;return true;}}return false;};this.ahX=function(fL){var ju,C;ju=fL.poolItem;if(ju!==undefined&&ju.locked){this.uiDirector.aCx(ju);ju.locked=false;fL.poolItem=undefined;for(C=0;C<this.cd.length;C++){if(this.cd[C]===ju){this.cd.splice(C,1);this.cd.push(ju);return;}}}};return this;};PS.prototype.asd=function(){var C;for(C=0;C<this.cd.length;C++){if(!this.cd[C].locked){this.uiDirector.agT(this.cd[C]);}}};var aEn=function(){this.locked=false;this.loaded=false;this.tile=undefined;this.pool=undefined;this.elementID='';return this;};module.exports=PS;},{}],33:[function(require,module,exports){var re=function(){this.fK=[];return this;};re.prototype.apZ=function(cS,cl){var ct=cS.pE();var C,mQ,ov;var cz=1;var Mr;var xl=[];var vz=[];var wk=[];var BL,MJ;ov=this.fK.length;for(C=0;C<this.fK.length;C++){if(this.fK[C].ct>ct){ov=C;break;}}mQ=ov-1;if(mQ<0){mQ=0;}if(ov>=this.fK.length){ov=this.fK.length-1;}if(mQ!==ov){Mr=(ct-this.fK[mQ].ct)/(this.fK[ov].ct-this.fK[mQ].ct);cz=Mr*1.0;if(cz>=0.15){cz=1;mQ=ov;}if(cz<=0.15){cz=1;ov=mQ;}}vz=this.fK[mQ].PH(cl);wk=this.fK[ov].PH(cl);var NX=function(ma){var C;for(C=0;C<ma.length;C++){ma[C].level.pool.Vw(ma[C]);}};var ZF=function(ma){var aeu=[];var C;for(C=0;C<ma.length;C++){if(!ma[C].get_isLockedAndLoaded()){aeu.push(ma[C]);}}return aeu;};var adf=function(ma){var ank=[];var C;for(C=0;C<ma.length;C++){if(ma[C].get_isLockedAndLoaded()){ank.push(ma[C]);}}return ank;};if(mQ>0&&mQ===ov&&this.fK[ov].tiles.length>1){mQ=ov-1;vz=this.fK[mQ].PH(cl);}NX(vz);xl=ZF(vz);if(xl.length>0){for(BL=mQ-1;BL>=0;BL--){MJ=this.fK[BL].PH(cl);NX(MJ);if(ZF(MJ).length<1){break;}}if(BL<0){vz=adf(vz);}else{mQ=BL;vz=MJ;cz=1;}}else{NX(wk);xl=ZF(wk);}NX(wk);wk=adf(wk);if(xl.length>3){xl.splice(3,xl.length-3);}function avM(){var ad;function VO(Eh){var ad='',C,bq;if(Eh.length<1){return '';}bq=Eh[0].level;ad+='level '+bq.id.toString()+' - ';for(C=0;C<Eh.length;C++){if(C>0){ad+=', ';}ad+='('+(Eh[C].x/bq.lD).toString()+','+(Eh[C].y/bq.yW).toString()+')';if(Eh[C].get_isLockedAndLoaded()){ad+='*';}}return ad;};ad='tilesToRequest: '+VO(xl)+'<br/>';ad+='opaqueTiles: '+VO(vz)+'<br/>';ad+='translucentTiles: '+VO(wk)+'<br/>';ad+='opacity: '+cz.toString()+'<br/>';ad+='aoJ: '+ct.toString()+'<br/>';ad+='cS: '+cS.toString()+'<br/>';return ad;};return{opaqueTiles:vz,translucentTiles:wk,opacity:cz,tilesToRequest:xl,toString:avM,aoJ:ct,cS:cS.toString()};};re.prototype.aEQ=function(qu){var FA=[];var rZ=[];var C,j;var bq,tile;for(C=0;C<this.fK.length;C++){bq=this.fK[C];for(j=0;j<bq.tiles.length;j++){tile=bq.tiles[j];if(tile.poolItem!==undefined){FA.push(tile);}}}var alW=function(Uc,aln){var C,j,SA,SJ;for(C=0;C<aln.length;C++){SA=aln[C];SJ=true;for(j=0;j<Uc.length;j++){if(SA===Uc[j]){SJ=false;break;}}if(SJ){Uc.push(SA);}}};rZ=qu.tilesToRequest.concat();alW(rZ,qu.opaqueTiles);alW(rZ,qu.translucentTiles);for(C=FA.length-1;C>=0;C--){var arA=FA[C];for(j=0;j<rZ.length;j++){if(rZ[j]===arA){FA.splice(C,1);break;}}}for(C=0;C<FA.length;C++){FA[C].unlock();}for(C=0;C<rZ.length;C++){rZ[C].relock();}for(C=0;C<rZ.length;C++){if(rZ[C].poolItem===undefined){rZ[C].lock();}}};re.prototype.unlockAllItems=function(){var C,j,bq;for(C=0;C<this.fK.length;C++){bq=this.fK[C];for(j=0;j<bq.tiles.length;j++){if(bq.tiles[j].poolItem!==undefined){bq.pool.ahX(bq.tiles[j]);}}}};re.prototype.aFD=function(){var C;for(C=0;C<this.fK.length;C++){this.fK[C].pool.asd();}};re.prototype.toString=function(){var ad='',C,j,bq;for(C=0;C<this.fK.length;C++){bq=this.fK[C];ad+='Level '+C.toString()+':   scaleFactor='+bq.ct.toString()+'  image='+bq.width.toString()+'x'+bq.height.toString()+'  tile='+bq.lD.toString()+'x'+bq.yW.toString()+'\n';for(j=0;j<bq.tiles.length;j++){if(j>0){ad+=', ';}ad+='('+bq.tiles[j].x.toString()+', '+bq.tiles[j].y.toString()+')';}ad+='\n';}return ad;};re.prototype.expandTile=function(fL,ZV,Yb,aed,afF,bq){fL.x=IPCC.V.Os(ZV-fL.vE,0,ZV,ZV-fL.vE);fL.y=IPCC.V.Os(Yb-fL.wb,0,Yb,Yb-fL.wb);fL.be=IPCC.V.LX(aed+(2*fL.vE),bq.width,aed);fL.ba=IPCC.V.LX(afF+(2*fL.wb),bq.height,afF);if(fL.x+fL.be>bq.width){fL.x=fL.x-fL.vE;fL.be=bq.width-fL.x;fL.vE=0;}if(fL.y+fL.ba>bq.height){fL.y=fL.y-fL.wb;fL.wb=0;fL.ba=bq.height-fL.y;}return fL;};re.prototype.createPyramid=function(iz,h){var aEC=6000000;var aay=5000;var lD=1024;var aDF=lD*lD*3*150;var agL=0.5;var aAb=2;var bu=h.cU();var Au=bu.width*bu.height*3;var vZ;var bq;var ct;var C;var am,dv;var tile;var Dc,Do;this.fK=[];if(bu.rD){ct=1.0;vZ=Au*ct*ct;while(this.fK.length<aAb||vZ>aay){bq=new IPCC.Gz();bq.ct=ct;this.fK.unshift(bq);ct*=agL;vZ=Au*ct*ct;}}else{if(h.pV()===true){Au=bu.width*bu.height;}ct=Math.sqrt(aay/Au);var aDn=ct*bu.hb;ct=Math.ceil(aDn)/bu.hb;vZ=Au*ct*ct;if(h.pV()===false){while(vZ<aDF){bq=new IPCC.Gz();bq.ct=ct;this.fK.push(bq);ct/=agL;vZ=Au*ct*ct;}}else{bq=new IPCC.Gz();bq.ct=1;this.fK.push(bq);}}bu.pz=this.fK[this.fK.length-1].ct*8;for(C=0;C<this.fK.length;C++){bq=this.fK[C];bq.Mo=85;if(C===this.fK.length-1){bq.Mo=100;}bq.pyramid=this;bq.id=C;bq.pool=new IPCC.PS();bq.pool.uiDirector=iz;vZ=Au*bq.ct*bq.ct;bq.width=Math.round(bu.width*bq.ct);bq.height=Math.round(bu.height*bq.ct);bq.lD=bq.width;bq.yW=bq.height;if(C>2&&C>this.fK.length-2){bq.lD=Math.min(lD/2,bq.width);bq.yW=Math.min(lD/2,bq.height);}if(vZ>aEC){bq.lD=Math.min(lD,bq.width);bq.yW=Math.min(lD,bq.height);}bq.tiles=[];Dc=bq.lD;for(am=0;am<bq.width;am+=Dc){Dc=bq.lD;if(am+Dc*1.25>bq.width){Dc=bq.width-am;}Do=bq.yW;for(dv=0;dv<bq.height;dv+=Do){Do=bq.yW;if(dv+Do*1.25>bq.height){Do=bq.height-dv;}tile=new IPCC.yE();tile.level=bq;if(h.pV()===false){var OQ='jpeg';if(bq.Mo>=100){OQ='png';}tile.contentType=OQ;tile.wb=2;tile.vE=2;tile=this.expandTile(tile,am,dv,Dc,Do,bq);if(tile.be!==bq.width||tile.ba!==bq.height){tile.url=h.Wf('Tile/'+tile.x.toString()+'/'+tile.y.toString()+'/'+tile.be.toString()+'/'+tile.ba.toString(),'Scale='+bq.ct.toString()+'&Quality='+bq.Mo+'&ContentType='+OQ);}else{tile.url=h.Wf('','Scale='+bq.ct.toString()+'&Quality='+bq.Mo+'&ContentType='+OQ);}}else{tile.url=h.Wf('','Scale='+bq.ct.toString()+'&ContentType='+IPCC.V.yA);tile.aHY=iz.ajN();}tile.right=tile.x+tile.be;tile.bottom=tile.y+tile.ba;bq.tiles.push(tile);}}}};module.exports=re;},{}],34:[function(require,module,exports){var ot=function(){this.an=false;this.h=false;};ot.prototype.mJ=function(h){this.h=h;};ot.prototype.eH=function(){this.h=false;};ot.prototype.ao=function(){if(this.an){this.h.bp().hideMagnifier();this.an=false;}};ot.prototype.qM=function(){this.ao();};ot.prototype.kw=function(K){this.ao();if(K.domEvent.button===0){this.an=true;this.h.bp().showMagnifier(K.windowPoint);this.h.cn();}};ot.prototype.jZ=function(K){if(K.domEvent.button!==0){this.ao();}if(this.an){this.h.bp().showMagnifier(K.windowPoint);this.h.cn();}};ot.prototype.kC=function(){this.ao();this.h.cn();};ot.prototype.oM=function(K){var aP=this.h.eu();if(K.windowPoint.x<=0||K.windowPoint.x>=aP.width-2){this.ao();}if(K.windowPoint.y<=0||K.windowPoint.y>=aP.height-2){this.ao();}};module.exports=ot;},{}],35:[function(require,module,exports){var eo=function(hl,jy,ib,gL,eU,ec){if(arguments.length===0){hl=gL=1;jy=ib=eU=ec=0;}this.amP=function(){return hl*gL-jy*ib;};this.aIF=function(){return hl===1&&jy===0&&ib===0&&gL===1&&eU===0&&ec===0;};this.qW=function(){return hl;};this.ql=function(){return jy;};this.rX=function(){return ib;};this.su=function(){return gL;};this.wI=function(){return eU;};this.wr=function(){return ec;};this.append=function(cS){var HH=hl*cS.qW()+jy*cS.rX();var HF=hl*cS.ql()+jy*cS.su();var HY=ib*cS.qW()+gL*cS.rX();var Hz=ib*cS.ql()+gL*cS.su();var Ig=eU*cS.qW()+ec*cS.rX()+cS.wI();var Hi=eU*cS.ql()+ec*cS.su()+cS.wr();hl=HH;jy=HF;ib=HY;gL=Hz;eU=Ig;ec=Hi;};this.equals=function(J){if(hl!==J.qW()){return false;}if(jy!==J.ql()){return false;}if(ib!==J.rX()){return false;}if(gL!==J.su()){return false;}if(eU!==J.wI()){return false;}if(ec!==J.wr()){return false;}return true;};this.ww=function(){if(!this.alP()){throw new IPCC.Web.UI.ImGearArgumentException(null,'Matrix has no inverse');}var CX=this.amP();var HH=gL/CX;var HF= -jy/CX;var HY= -ib/CX;var Hz=hl/CX;var Ig=(ib*ec-gL*eU)/CX;var Hi=(jy*eU-hl*ec)/CX;hl=HH;jy=HF;ib=HY;gL=Hz;eU=Ig;ec=Hi;};this.Jl=function(cS){var HH=cS.qW()*hl+cS.ql()*ib;var HF=cS.qW()*jy+cS.ql()*gL;var HY=cS.rX()*hl+cS.su()*ib;var Hz=cS.rX()*jy+cS.su()*gL;var Ig=cS.wI()*hl+cS.wr()*ib+eU;var Hi=cS.wI()*jy+cS.wr()*gL+ec;hl=HH;jy=HF;ib=HY;gL=Hz;eU=Ig;ec=Hi;};this.xS=function(jz,rs,nt,mk){eU-=nt;ec-=mk;this.scale(jz,rs);eU+=nt;ec+=mk;};this.aqC=function(){hl=gL=1;jy=ib=eU=ec=0;};this.transform=function(ay){var am=ay.x*hl+ay.y*ib+eU;var dv=ay.y*gL+ay.x*jy+ec;return new IPCC.Web.UI.Point(am,dv);};this.nu=function(Wq,Xw){eU+=Wq;ec+=Xw;};this.aAK=function(J){if(Math.abs(hl-J.qW())>1e-8){return false;}if(Math.abs(jy-J.ql())>1e-8){return false;}if(Math.abs(ib-J.rX())>1e-8){return false;}if(Math.abs(gL-J.su())>1e-8){return false;}if(Math.abs(eU-J.wI())>1e-8){return false;}if(Math.abs(ec-J.wr())>1e-8){return false;}return true;};this.toString=function(){return '{'+hl.toFixed(6)+', '+jy.toFixed(6)+', '+ib.toFixed(6)+', '+gL.toFixed(6)+', '+eU.toFixed(3)+', '+ec.toFixed(3)+'}';};this.parse=function(){};this.clone=function(){return new IPCC.eo(hl,jy,ib,gL,eU,ec);};this.QW=function(hI){hl=hI.qW();jy=hI.ql();ib=hI.rX();gL=hI.su();eU=hI.wI();ec=hI.wr();};this.aqN=function(aB,aP){hl=1;gL=aP.gj*aB.hb/(aB.gj*aP.hb);jy=ib=eU=ec=0;};this.XS=function(bG,aB,aP){switch(bG){case IPCC.Web.UI.FitType.FullImage:this.aol(aB,aP);break;case IPCC.Web.UI.FitType.FullWidth:this.akt(aB,aP);break;case IPCC.Web.UI.FitType.FullHeight:this.alp(aB,aP);break;case IPCC.Web.UI.FitType.ActualSize:this.akg(aB,aP);break;case IPCC.Web.UI.FitType.OneToOne:if(!(aB.rD)){this.akg(aB,aP);}else{this.aoF(aB,aP);}break;}};this.akt=function(aB,aP){var mV=this.qU(aB);var xW=aP.width-2;if(xW<1){xW=1;}var ab=xW/mV.width;this.scale(ab,ab);mV=this.qU(aB);if(mV.y<0){this.nu(0,-mV.y);}};this.alp=function(aB,aP){var mV=this.qU(aB);var xW=aP.height-2;if(xW<1){xW=1;}var ab=xW/mV.height;this.scale(ab,ab);mV=this.qU(aB);if(mV.x<0){this.nu(-mV.x,0);}};this.aol=function(aB,aP){var ka=this.clone();ka.akt(aB,aP);this.alp(aB,aP);if(Math.max(Math.abs(hl),Math.abs(jy))>Math.max(Math.abs(ka.qW()),Math.abs(ka.ql()))){this.QW(ka);}};this.akg=function(aB,aP){var mV=this.qU({x:0,y:0,width:aB.hb,height:aB.gj});var ab=aP.hb/mV.width;this.scale(ab,ab);};this.aoF=function(aB,aP){var mV=this.qU({x:0,y:0,width:1,height:1});var ab=1/Math.min(mV.width,mV.height);this.scale(ab,ab);if(Math.abs(hl-1)<0.0001){hl=1;}if(Math.abs(gL-1)<0.0001){gL=1;}};return this;};eo.prototype.alP=function(){return Math.abs(this.amP())>1e-14;};eo.prototype.rotate=function(xL){this.afl(xL,0,0);};eo.prototype.afl=function(xL,nt,mk){var HG=xL*Math.PI*2/360;var gZ=Math.sin(HG);var fE=Math.cos(HG);var cS=new IPCC.eo(fE,gZ,-gZ,fE,nt*(1-fE)+mk*gZ,mk*(1-fE)-nt*gZ);this.append(cS);};eo.prototype.aEe=function(xL,nt,mk){var HG=xL*Math.PI*2/360;var gZ=Math.sin(HG);var fE=Math.cos(HG);var cS=new IPCC.eo(fE,gZ,-gZ,fE,nt*(1-fE)+mk*gZ,mk*(1-fE)-nt*gZ);this.Jl(cS);};eo.prototype.aGt=function(xL){this.aEe(xL,0,0);};eo.prototype.scale=function(jz,rs){var cS=new IPCC.eo(jz,0,0,rs,0,0);this.append(cS);};eo.prototype.aGF=function(jz,rs,nt,mk){var cS=new IPCC.eo(jz,0,0,rs,nt*(1-jz),mk*(1-rs));this.Jl(cS);};eo.prototype.aFP=function(jz,rs){var cS=new IPCC.eo(jz,0,0,rs,0,0);this.Jl(cS);};eo.prototype.skew=function(om,rm){var cS=new IPCC.eo(1,Math.tan(rm*Math.PI*2/360),Math.tan(om*Math.PI*2/360),1,0,0);this.append(cS);};eo.prototype.aIn=function(om,rm){var cS=new IPCC.eo(1,Math.tan(rm*Math.PI*2/360),Math.tan(om*Math.PI*2/360),1,0,0);this.Jl(cS);};eo.prototype.aHy=function(Wq,Xw){var cS=new IPCC.eo(1,0,0,1,Wq,Xw);this.Jl(cS);};eo.prototype.ya=function(H){var fg=this.transform({x:H.x,y:H.y});var mp=fg.x;var nm=fg.x;var mI=fg.y;var nb=fg.y;fg=this.transform({x:H.x+H.width,y:H.y});mp=Math.min(mp,fg.x);nm=Math.max(nm,fg.x);mI=Math.min(mI,fg.y);nb=Math.max(nb,fg.y);fg=this.transform({x:H.x+H.width,y:H.y+H.height});mp=Math.min(mp,fg.x);nm=Math.max(nm,fg.x);mI=Math.min(mI,fg.y);nb=Math.max(nb,fg.y);fg=this.transform({x:H.x,y:H.y+H.height});mp=Math.min(mp,fg.x);nm=Math.max(nm,fg.x);mI=Math.min(mI,fg.y);nb=Math.max(nb,fg.y);return new IPCC.Web.UI.Rectangle(mp,mI,nm-mp,nb-mI);};eo.prototype.anP=function(aB,aP,eb){var agl=this.clone();agl.ww();var aBd=agl.transform({x:eb.x+eb.width/2,y:eb.y+eb.height/2});var ab=Math.min(aP.width/eb.width,aP.height/eb.height);ab-=1e-10;var ks=this.pE();if(ks*ab>aB.pz){ab=aB.pz/ks;}if(ks*ab<aB.sM){ab=aB.sM/ks;}this.scale(ab,ab);this.aka(aP,aBd);};eo.prototype.PJ=function(aB,aP,cl){this.anP(aB,aP,this.ya(cl));};eo.prototype.aHD=function(aP){this.xS(1,-1,aP.width/2,aP.height/2);};eo.prototype.aoV=function(aP){this.xS(-1,1,aP.width/2,aP.height/2);};eo.prototype.VD=function(axr,ama){var acj=this.transform(axr);this.nu(ama.x-acj.x,ama.y-acj.y);};eo.prototype.aka=function(aP,dz){var aer=this.transform(dz);this.nu(aP.width/2-aer.x,aP.height/2-aer.y);};eo.prototype.hW=function(bu,aP){var am=0,dv=0,end;var mb=this.qU(bu);if(mb.width<aP.width){am=(aP.width-mb.width)/2-mb.x;}else{end=mb.x+mb.width;if(end<aP.width){am=aP.width-end;}if(mb.x>0){am= -mb.x;}}if(mb.height<aP.height){dv=(aP.height-mb.height)/2-mb.y;}else{end=mb.y+mb.height;if(end<aP.height){dv=aP.height-end;}if(mb.y>0){dv= -mb.y;}}this.nu(am,dv);};eo.prototype.qU=function(bu){return this.ya({x:0,y:0,width:bu.width,height:bu.height});};eo.prototype.asf=function(){var fQ,Ag,it,xg,aca,iB;fQ=this.transform({x:0,y:0});Ag=this.transform({x:0,y:1});it=this.transform({x:1,y:0});xg=Math.atan2(Ag.y-fQ.y,Ag.x-fQ.x);aca=Math.atan2(it.y-fQ.y,it.x-fQ.x);iB=xg-aca;if(iB>Math.PI){iB=iB-2*Math.PI;}if(iB< -Math.PI){iB=iB+2*Math.PI;}return iB<0;};eo.prototype.ale=function(){var fQ,Ag,xg;fQ=this.transform({x:0,y:0});Ag=this.transform({x:0,y:1});xg=Math.atan2(Ag.y-fQ.y,Ag.x-fQ.x)-Math.PI/2;if(xg<0){xg=xg+2*Math.PI;}return xg*360/(Math.PI*2);};eo.prototype.pE=function(){var gH;var fQ,qg;var et,fN,ct;fQ=this.transform({x:0,y:0});qg=this.transform({x:1,y:0});et=qg.x-fQ.x;fN=qg.y-fQ.y;gH=et*et+fN*fN;qg=this.transform({x:0,y:1});et=qg.x-fQ.x;fN=qg.y-fQ.y;ct=Math.min(gH,et*et+fN*fN);qg=this.transform({x:1,y:1});et=qg.x-fQ.x;fN=qg.y-fQ.y;ct=Math.min(gH,et*et+fN*fN);qg=this.transform({x:1,y: -1});et=qg.x-fQ.x;fN=qg.y-fQ.y;ct=Math.min(gH,et*et+fN*fN);return Math.sqrt(gH);};eo.aGM=function(){return new IPCC.eo(1,0,0,1,0,0);};module.exports=eo;},{}],36:[function(require,module,exports){var eI={aeZ:1,afs:2,Zm:3,afS:4,ahp:5,HN:6,MA:7,ajh:8,aji:9,aah:10,aci:11,aaX:12,aai:13,adX:14,aeV:15,ajb:16};module.exports=eI;},{}],37:[function(require,module,exports){var cY=function(){this.h=false;this.asU=1.5;};cY.prototype.mJ=function(h){this.h=h;};cY.prototype.eH=function(){this.h=false;};cY.prototype.ao=function(){};cY.prototype.mo=function(K){var aE=this.h.bp();var aB=this.h.cU();var aP=this.h.eu();var bk=aE.ep();var Oy=K.wheelDelta/120;if(K.domEvent.ctrlKey){K.domEvent.preventDefault();var ab=((this.asU-1)/2)+1;if(Oy<0){ab=1/ab;}var ks=bk.pE();if(ks*ab>aB.pz){ab=aB.pz/ks;}if(ks*ab<aB.sM){ab=aB.sM/ks;}bk.xS(ab,ab,K.windowPoint.x,K.windowPoint.y);bk.hW(aB,aP);this.h.bU('userModifiedViewState',{});aE.jF(bk);}else{var adB=bk.transform({x:0,y:0});bk.nu(0,Oy*aP.gj);bk.hW(aB,aP);var acX=bk.transform({x:0,y:0});if(Math.abs(adB.x-acX.x)>0.001||Math.abs(adB.y-acX.y)>0.001){K.domEvent.preventDefault();this.h.bU('userModifiedViewState',{});aE.jF(bk);}}this.h.cn();};module.exports=cY;},{}],38:[function(require,module,exports){var cF=function(amN){this.amN=amN;this.SS=0;this.Mb=1;this.KZ=2;this.Uf=3;this.SN=4;this.cB=this.SS;this.h=false;this.wp=0;};cF.prototype.mJ=function(h){this.h=h;this.aE=h.bp();};cF.prototype.eH=function(){this.h=false;};cF.prototype.ao=function(){if(this.cB===this.KZ){this.h.bp().hideMagnifier();}this.cB=this.SS;};cF.prototype.IH=function(K){var bx=K.domEvent.rawEvent;switch(this.cB){case this.SS:if(bx.touches.length===1){this.avd(K);}else if(bx.touches.length===2){this.ail(K);}else if(bx.touches.length===3){this.YI(K);}else{this.ao();}break;case this.Mb:if(bx.touches.length===2){this.ail(K);}else if(bx.touches.length===3){this.YI(K);}else{this.ao();}break;case this.SN:if(bx.touches.length!==3){this.ao();}break;case this.KZ:this.ao();break;case this.Uf:if(bx.touches.length===3){this.YI(K);}else if(bx.touches.length!==2){this.ao();}break;}};cF.prototype.KC=function(K){switch(this.cB){case this.Mb:this.wp++;break;case this.KZ:this.abU(K);break;case this.Uf:this.aBx(K);break;case this.SN:this.asI(K);break;}};cF.prototype.LQ=function(){this.ao();};cF.prototype.Ix=function(){this.ao();};cF.prototype.avd=function(K){this.cB=this.Mb;this.wp++;var azK=this.wp;var T=this;function ayE(){if(T.cB===this.Mb&&azK===T.wp){T.atT(K);}};setTimeout(ayE,1000);};cF.prototype.atT=function(K){this.h.fR('qM',K);this.abU(K);this.cB=this.KZ;};cF.prototype.YI=function(K){var bx=K.domEvent.rawEvent;if(bx.touches.length!==3){this.ao();return;}var gU=bx.touches[0];var ce={x:gU.screenX,y:gU.screenY};var cS=this.aE.ep();cS.ww();this.Mj=ce;this.azy=ce;this.Zr=cS.transform(ce);this.cB=this.SN;this.aGh=this.aE.ep();this.agP=true;this.aij=true;};cF.prototype.asI=function(K){var bx=K.domEvent.rawEvent;if(bx.touches.length!==3){this.ao();return;}var gU=bx.touches[0];var ce={x:gU.screenX,y:gU.screenY};var ayY=Math.abs(ce.x-this.Mj.x);var ayy=Math.abs(ce.y-this.Mj.y);if(ayY>35){this.aij=false;}if(ayy>35){this.agP=false;}if(this.agP){ce.y=this.Mj.y;}if(this.aij){ce.x=this.Mj.x;}this.azy=ce;var bk=this.aE.ep();var aP=this.h.eu();var aB=this.h.cU();bk.VD(this.Zr,ce);bk.hW(aB,aP);this.aE.jF(bk);};cF.prototype.aGB=function(){};cF.prototype.adb=function(K){var bx=K.domEvent.rawEvent;if(bx.touches.length!==2){this.ao();return{};}var QP=bx.touches[0];var RA=bx.touches[1];var et=QP.screenX-RA.screenX;var fN=QP.screenY-RA.screenY;var wF=Math.sqrt(et*et+fN*fN);var iB=Math.atan2(et,fN)*180/Math.PI;var ay={x:(QP.screenX+RA.screenX)/2,y:(QP.screenY+RA.screenY)/2};return{wF:wF,iB:iB,aaV:ay};};cF.prototype.ail=function(K){this.cB=this.Uf;this.aFq=this.adb(K);this.KQ=this.aFq;var cS=this.aE.ep();cS.ww();this.Zr=cS.transform(this.KQ.aaV);this.GI=this.KQ.iB;};cF.prototype.abU=function(K){var bx=K.domEvent.rawEvent;var gU=bx.touches[0];var ce={x:gU.screenX,y:gU.screenY};this.aE.showMagnifier(ce);};cF.prototype.aBx=function(K){var xE=this.adb(K);var ct=xE.wF/this.KQ.wF;var bk=this.aE.ep();var aP=this.h.eu();var aB=this.h.cU();bk.scale(ct,ct);var Eg=this.GI-xE.iB;var afn=this.GI-xE.iB-360;var aeQ=this.GI-xE.iB+360;if(Math.abs(Eg)>Math.abs(afn)){Eg=afn;}if(Math.abs(Eg)>Math.abs(aeQ)){Eg=aeQ;}if(Eg< -40){bk.rotate(-90);this.GI=xE.iB;}else if(Eg>40){bk.rotate(90);this.GI=xE.iB;}bk.VD(this.Zr,xE.aaV);bk.hW(aB,aP);this.aE.jF(bk);this.KQ=xE;};cF.prototype.aHW=function(K){var bk=this.aE.ep();var aP=this.h.eu();var aB=this.h.cU();bk.XS(IPCC.Web.UI.FitType.FullImage,aB,aP);bk.hW(aB,aP);this.aE.jF(bk);};cF.prototype.mo=function(){this.ao();};module.exports=cF;},{}],39:[function(require,module,exports){var cR=require('./IPCC.Util').regClass;var Lv=function(){return this;};Lv.registerClass=cR;Lv.prototype={};Lv.registerClass('IPCC.OpenPageEventArgs');module.exports=Lv;},{"./IPCC.Util":29}],40:[function(require,module,exports){var cR=require('./IPCC.Util').regClass;var Mz=function(){return this;};Mz.registerClass=cR;Mz.prototype={};Mz.registerClass('IPCC.PageEventArgs');module.exports=Mz;},{"./IPCC.Util":29}],41:[function(require,module,exports){var bz=function(bm){this.fH=bm.page;this.bi=0;this.aq=0;this.hu=0;this.hf=0;var ai=new IPCC.Web.UI.je();this.amY=undefined;this.gD=false;this.ayf=false;this.Ju=0;this.aGf=undefined;this.zZ=false;this.yM=false;this.En=false;this.gE=0;this.Eq=0;this.Bk=false;this.Gs=false;this.aG=new IPCC.Web.UI.ArtPage();this.fj=new IPCC.Web.UI.ArtPage();this.dA=this.fH.get_pageNumber();this.bJ=this.fH.ac.QX+'_'+this.dA+'__pViewId';this.ac=this.fH.ac;this.cN=function(cr){var F=ai.getHandler('propertyChanged');if(F){F(this,new IPCC.nG(cr));}};return this;};bz.prototype.kK=function(){if(this.fH){return this.fH.kJ()||this.bi;}return this.bi;};bz.prototype.qm=function(){if(this.fH){return this.fH.ia()||this.aq;}return this.aq;};bz.prototype.TN=function(bool){bool= ! !bool;if(this.fH){this.fH.Bk=bool;}this.Bk=bool;};bz.prototype.aeG=function(){if(this.fH){return this.fH.Bk||this.Bk;}return this.Bk;};module.exports=bz;},{}],42:[function(require,module,exports){var dW=require('./IPCC.Util').regEnum;var Du=function(){};Du.registerEnum=dW;Du.prototype={VerticalScrollDirection:0,HorizontalScrollDirection:1};Du.registerEnum('IPCC.PageLayout',false);module.exports=Du;},{"./IPCC.Util":29}],43:[function(require,module,exports){var cR=require('./IPCC.Util').regClass;var arQ=function(){this.cg=undefined;return this;};var NU=function(element){var T=this;var Ia=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(func){return setTimeout(func,16);};var atl=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||function(id){return clearTimeout(id);};var ai=new IPCC.Web.UI.je();var bL=[];var aoQ;var bh='';var EG='';var aj='';var lb='';var Kx='';var Ho=0;this.Ae=new IPCC.Web.UI.ImGearDocumentCollection();var HZ=[];this.aIB=0;this.aIw={x:0,y:0};var mD=0;var oJ=IPCC.Web.UI.DebugErrorLevel.Production;var _debug=false;var lQ=false;var cu=0;var tX=false;var Qj=[];var JI='';var ca=1;var qw=0;var jX=1;var sy=1;var az=IPCC.Web.UI.MouseTool.None;var xI=false;var sp=true;var ae=IPCC.bB.None;var iJ;var hd=0;var jp=0;var aiO=0;var ee=0;var gb=15;var iZ=0;var gK=15;var oh=0;var nv=0;var pI=0;var oZ=0;var auq=0;var fU=0;var hD=0;var oO=1;var fa=IPCC.PageLayout.VerticalScrollDirection;var ci=IPCC.ViewMode.Document;var nc=null;var TL=null;var KL=0;var Un=0;var yv=0;var Al=false;var kT=null;var Hn=0;var HJ='';var BM='';var qy=[];var Ed=0;var vy=3;var Pu=0.5;var JA=true;var Rv=false;var KE=false;var XL;var rY=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;var wo=true;var jP;var cc={};var te=false;var lC=function(){return null;};var iG=null;var ain="font-size:11px;color:#888;text-align:center;cursor:pointer;";var auN=ain+"padding:18px 0 20px;display:table-caption;caption-side:bottom;";var auf=ain+"white-space:nowrap;line-height:50px;display:table-cell;vertical-align:middle;padding-right:10px;";var bW=96;var aZ;function oW(Jg){if(!_debug){return false;}return oJ>=Jg;};this.af=function(iO,iC){if(!oW(IPCC.Web.UI.DebugErrorLevel.Production)){return;}var cQ=iO+'() threw an exception ('+iC.name+'), "'+iC.message+'"';cQ=cQ.replace(/\n/g," ");IPCC.ih.mt(cQ,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production,'PageList',this.nq().id);var mL=new IPCC.ExceptionEventArgs();mL.functionName=iO;mL.exception=iC;this.bU('exceptionThrown',mL);};this.ar=function(iO,km,qa){if(!oW(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var cQ=iO+'(';var C;for(C=0;C<km.length;C++){if(C>0){cQ+=', ';}cQ+=IPCC.ih.qd(km[C],(qa?qa:0));}cQ+=')';this.wz(cQ,IPCC.Web.UI.DebugErrorLevel.Development);};this.Cd=function(iO,km,nf,qa){if(!oW(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var cQ=iO+'(';var C;for(C=0;C<km.length;C++){if(C>0){cQ+=', ';}cQ+=IPCC.ih.qd(km[C],(qa?qa:0));}cQ+=') = ';cQ+=IPCC.ih.qd(nf,1);this.wz(cQ,IPCC.Web.UI.DebugErrorLevel.Development);};this.dm=function(iO,km,nf){if(!oW(IPCC.Web.UI.DebugErrorLevel.Detailed)){return;}var cQ=iO+'(';var C;for(C=0;C<km.length;C++){if(C>0){cQ+=', ';}cQ+=IPCC.ih.qd(km[C],0);}cQ+=') = ';cQ+=IPCC.ih.qd(nf,1);this.wz(cQ,IPCC.Web.UI.DebugErrorLevel.Detailed);};this.wz=function(kQ,bq){IPCC.ih.mt(kQ,IPCC.Web.UI.DebugItemCause.FunctionCall,bq,'PageList',this.nq().id);};this.mt=function(kQ){IPCC.ih.mt(kQ,IPCC.Web.UI.DebugItemCause.Custom,IPCC.Web.UI.DebugErrorLevel.Production,'PageList',this.nq().id);};this.JC=function(){return _debug;};this.VP=function(J){var Ih= ! !J;if(_debug===Ih){return;}_debug=Ih;var dR=js();var cX=[];if(dR){cX=rg(dR);}var C=0;for(C=0;C<cX.length;C++){var aN;if(bL[cX[C]].bJ){aN=document.getElementById(bL[cX[C]].bJ).bD;}if(aN){aN.set_debug(_debug);}}this.cN('debug');};this.xu=function(){return oJ;};this.EZ=function(J){IPCC.bw.kj(J,'value',IPCC.Web.UI.DebugErrorLevel);if(oJ===J){return;}oJ=J;var dR=js();var cX=[];if(dR){cX=rg(dR);}var C=0;for(C=0;C<cX.length;C++){var aN;if(bL[cX[C]].bJ){aN=document.getElementById(bL[cX[C]].bJ).bD;}if(aN){aN.set_debugErrorLevel(oJ);}}this.cN('debugErrorLevel');};function dH(cE,F){ai.addHandler(cE,F);};function cJ(cE,F){ai.removeHandler(cE,F);};this.OB=function(F){dH('mouseDown',F);};this.Uq=function(F){cJ('mouseDown',F);};this.PL=function(F){dH('mouseMove',F);};this.Uv=function(F){cJ('mouseMove',F);};this.Pw=function(F){dH('mouseUp',F);};this.UT=function(F){cJ('mouseUp',F);};this.UH=function(F){dH('selectTextMouseToolCompleted',F);};this.Vf=function(F){cJ('selectTextMouseToolCompleted',F);};this.AP=function(F){dH('textPageReady',F);};this.CL=function(F){cJ('textPageReady',F);};this.WK=function(F){dH('hyperlinkPageReady',F);};this.afu=function(F){cJ('hyperlinkPageReady',F);};this.ayM=function(F){dH('allPagesAdded',F);};this.aBj=function(F){cJ('allPagesAdded',F);};this.WN=function(F){dH('pageOpening',F);};this.Vz=function(F){cJ('pageOpening',F);};this.Xj=function(F){dH('pageOpened',F);};this.Ut=function(F){cJ('pageOpened',F);};this.GO=function(F){dH('pageOpenFailed',F);};this.Gm=function(F){cJ('pageOpenFailed',F);};this.WU=function(F){dH('pageDisplayed',F);};this.UM=function(F){cJ('pageDisplayed',F);};this.ln=function(F){dH('propertyChanged',F);};this.mZ=function(F){cJ('propertyChanged',F);};this.Wu=function(F){dH('exceptionThrown',F);};this.Vj=function(F){cJ('exceptionThrown',F);};this.Ar=function(F){dH('textExtractionFailed',F);};this.AX=function(F){cJ('textExtractionFailed',F);};this.zy=function(F){dH('markAdded',F);};this.zK=function(F){cJ('markAdded',F);};this.XV=function(F){dH('markCreating',F);};this.Wd=function(F){cJ('markCreating',F);};this.Jm=function(F){dH('markChanged',F);};this.FI=function(F){cJ('markChanged',F);};this.Js=function(F){dH('markReordered',F);};this.Gn=function(F){cJ('markReordered',F);};this.Kb=function(F){dH('markSelectionChanged',F);};this.FE=function(F){cJ('markSelectionChanged',F);};this.Kz=function(F){dH('markTextSelectionChanged',F);};this.Fu=function(F){cJ('markTextSelectionChanged',F);};this.zT=function(F){dH('markRemoved',F);};this.zk=function(F){cJ('markRemoved',F);};this.axF=function(F){dH('commentAdding',F);};this.aBc=function(F){cJ('commentAdding',F);};this.vt=function(F){dH('commentAdded',F);};this.Di=function(F){cJ('commentAdded',F);};this.xN=function(F){dH('commentRemoved',F);};this.Dz=function(F){cJ('commentRemoved',F);};this.sA=function(F){dH('commentChanged',F);};this.uc=function(F){cJ('commentChanged',F);};this.Uu=function(F){dH('scaleChanged',F);};this.UC=function(F){cJ('scaleChanged',F);};this.PQ=function(){var bD=document.getElementById(bL[cu].bJ).bD;if(bD){return bD.get_currentState();}else{return null;}};this.alA=function(){var aK=IPCC.V.find(bL,function(fg){return fg.dA===cu;});if(!aK){return;}return aK.fH;};this.auk=function(aU){var aK=IPCC.V.find(bL,function(fg){return fg.dA===cu;});if(!aK){return;}return aK.bJ;};this.pE=function(){return ca;};this.aqs=function(ct){jM(ct,undefined,undefined,undefined,undefined,undefined,IPCC.ScaleTrigger.Zoom);};this.RJ=function(ab,qB,QM,eQ){eQ=eQ||IPCC.ScaleTrigger.Zoom;jM(ca*ab,QM,undefined,undefined,undefined,qB,eQ);};this.anX=function(ab,am,dv,Ec,eQ){eQ=eQ||IPCC.ScaleTrigger.Zoom;if(ca*ab<8){jM(ca*ab,false,am,dv,Ec,undefined,eQ);}else{jM(8,false,am,dv,Ec);}};this.UN=function(ab,eQ){eQ=eQ||IPCC.ScaleTrigger.Zoom;jM(ca/ab,false,undefined,undefined,undefined,undefined,eQ);};this.aEf=function(){return SV();};this.acT=function(eQ,eO,RF){var IP,Jd,bi,aq;var abO=0;var C=0;for(C=0;C<bL.length;C++){bi=bL[C].kK();aq=bL[C].qm();if(jo(bL[C].gE)===true){var Ko=bi;bi=aq;aq=Ko;}if(bi>0&&aq>0){var Ka=bi/aq;if(Ka>abO){abO=Ka;IP=aq;Jd=bi;}}}if(abO>0){var anK=(bh.offsetWidth-IPCC.Web.od()-tQ()-(gb+gK+nv+oZ));var aoO=anK/(Jd*bW/bL[0].hu);var ey=hd;var dU=jp;if(jo(bL[0].gE)===true){ey=jp;dU=hd;}var anr=IP/dU*aoO;var kk=(bh.clientHeight-(ee+iZ+oh+pI))/(dU*bW/bL[0].hf);var Hg=anr;if(RF===true&&anr>kk){Hg=kk;}jM(Hg,true,undefined,undefined,undefined,undefined,eQ,eO);}};this.ake=function(eQ,eO,RF){var IP,Jd,bi,aq;var abV=0;var C=0;for(C=0;C<bL.length;C++){bi=bL[C].kK();aq=bL[C].qm();if(jo(bL[C].gE)===true){var Ko=bi;bi=aq;aq=Ko;}if(bi>0&&aq>0){var Ka=aq/bi;if(Ka>abV){abV=Ka;IP=aq;Jd=bi;}}}if(abV>0){var aps=(bh.offsetHeight-IPCC.Web.od()-(ee+iZ+oh+pI));var anT=aps/(IP*bW/bL[0].hf);var ey=hd;var dU=jp;if(jo(bL[0].gE)===true){ey=jp;dU=hd;}var amr=Jd/ey*anT;var kk=(bh.clientWidth-tQ()-(gb+gK+nv+oZ))/(ey*bW/bL[0].hu);var Hg=amr;if(RF===true&&amr>kk){Hg=kk;}jM(Hg,true,undefined,undefined,undefined,undefined,eQ,eO);}};this.avh=function(eO,eQ){if(T.ws&&typeof T.ws==='function'){T.ws();}var bi;var aq;var fA;var lv=1;eQ=eQ||IPCC.ScaleTrigger.Fit;if(eO===IPCC.FitType.FitToWidth){if(ci===IPCC.ViewMode.Document){lv=(bh.offsetWidth-IPCC.Web.od()-tQ()-(gb+gK+nv+oZ))/(fU/ca);jM(lv,true,undefined,undefined,undefined,undefined,eQ,eO);}else if(ci===IPCC.ViewMode.SinglePage){if(jo(bL[cu].gE)===true){bi=bL[cu].qm();fA=bW/bL[cu].hf;}else{bi=bL[cu].kK();fA=bW/bL[cu].hu;}lv=(bh.offsetWidth-IPCC.Web.od()-tQ()-(gb+gK+nv+oZ))/(bi*fA);jM(lv,true,undefined,undefined,undefined,undefined,eQ,eO);}else{if(fa===IPCC.PageLayout.VerticalScrollDirection){Wc(eQ,eO);}else{T.acT(eQ,eO);}}}else if(eO===IPCC.FitType.ShrinkToWidth){var aot=bh.clientWidth-tQ();var anH=20;var SL=aot-anH;if(ci===IPCC.ViewMode.SinglePage){if(jo(bL[cu].gE)===true){bi=bL[cu].qm();fA=bW/bL[cu].hf;}else{bi=bL[cu].kK();fA=bW/bL[cu].hu;}if(SL<ca*bi*fA){lv=(bh.offsetWidth-IPCC.Web.od()-tQ()-(gb+gK+nv+oZ))/(bi*fA);jM(lv,true,undefined,undefined,undefined,undefined,eQ,eO);}}else{if(SL<fU){jM(ca*SL/fU,true,undefined,undefined,undefined,undefined,eQ,eO);}}}else if(eO===IPCC.FitType.ActualSize){if(ci===IPCC.ViewMode.Document||ci===IPCC.ViewMode.SinglePage){jM(1,true,undefined,undefined,undefined,undefined,eQ,eO);}}else if(eO===IPCC.FitType.FitToHeight){if(ci===IPCC.ViewMode.Document){lv=(bh.offsetHeight-IPCC.Web.od()-(ee+iZ+oh+pI))/(hD/ca);jM(lv,true,undefined,undefined,undefined,undefined,eQ,eO);}else if(ci===IPCC.ViewMode.SinglePage){if(jo(bL[cu].gE)===true){aq=bL[cu].kK();fA=bW/bL[cu].hu;}else{aq=bL[cu].qm();fA=bW/bL[cu].hf;}lv=(bh.offsetHeight-IPCC.Web.od()-(ee+iZ+oh+pI))/(aq*fA);jM(lv,true,undefined,undefined,undefined,undefined,eQ,eO);}else{if(fa===IPCC.PageLayout.HorizontalScrollDirection){Wc(eQ,eO);}else{T.ake(eQ,eO);}}}else if(eO===IPCC.FitType.BestFit){var Bh;if(ci===IPCC.ViewMode.Document){lv=(bh.offsetWidth-IPCC.Web.od()-(gb+gK+nv+oZ))/(fU/ca);Bh=(bh.offsetHeight-IPCC.Web.od()-(ee+iZ+oh+pI))/(hD/ca);if(Bh<lv){lv=Bh;}jM(lv,true,undefined,undefined,undefined,undefined,eQ,eO);}else if(ci===IPCC.ViewMode.SinglePage){if(jo(bL[cu].gE)===true){bi=bL[cu].qm();aq=bL[cu].kK();fA=bW/bL[cu].hu;}else{bi=bL[cu].kK();aq=bL[cu].qm();fA=bW/bL[cu].hf;}lv=(bh.offsetWidth-IPCC.Web.od()-tQ()-(gb+gK+nv+oZ))/(bi*fA);Bh=(bh.offsetHeight-IPCC.Web.od()-(ee+iZ+oh+pI))/(aq*fA);if(Bh<lv){lv=Bh;}jM(lv,true,undefined,undefined,undefined,undefined,eQ,eO);}else{if(fa===IPCC.PageLayout.HorizontalScrollDirection){T.acT(eQ,eO,true);}else{T.ake(eQ,eO,true);}}}};this.aDw=function(ah,bo){var aK=bL[ah-1];var bP=document.getElementById(aK.bJ);var CB=[];if(bP){var ea,Fn,ay;try{ea=Uk(bP);}catch(e){return null;}CB=IPCC.V.map(bo,function(fg){Fn=bP.bD.transformPagePointToWindow(new IPCC.Web.UI.Point(fg.x,fg.y),true);ay=aaW(bP,Fn.x,Fn.y,ea);return{clientX:ay.x,clientY:ay.y};});return CB;}else{return null;}};this.art=function(){var C=0;for(C=0;C<bL.length;C++){T.cn(C);}js();nH();};this.cn=function(aU){var bI;if(bL[aU].bJ){bI=document.getElementById(bL[aU].bJ);}T.wj(bI,aU);};this.JX=function(aU){var bI;if(bL[aU].bJ){bI=document.getElementById(bL[aU].bJ);}if(bI){var aN=bI.bD;aN.JX();}};this.wj=function(bI,aU){if(bI&&bI.bD&&bI.bD.eE()===true){var aN=bI.bD;aN.display();bL[aU].gD=true;if(ci===IPCC.ViewMode.SinglePage){var or= -1;if(Array.prototype.indexOf){or=qy.indexOf(aU);}else{or=IPCC.Web.jk(qy,aU);}if(or!== -1){qy.splice(or,1);}}}};function aaR(cX){var bI;for(var C=0;C<cX.get_length();C++){var aK=cX.getPage(C);var aU=aK.get_pageNumber();if(bL[aU].bJ){bI=document.getElementById(bL[aU].bJ);}if(bI&&bI.bD&&bI.bD.Bo()!==null){return bI.bD;}}return null;};this.Kn=function(){var cX=this.get_displayedPages();var Pn=aaR(cX);Pn.Kn();};this.Ep=function(ab){var gW=0;var hC=bL.length-1;for(var bC=gW;bC<=hC;bC++){var aN;var bI=document.getElementById(bL[bC].bJ);if(bI){aN=bI.bD;}else{continue;}aN.set_sharpening(ab);if(aN&&bL[bC].gD===true&&aN.eE()===true){aN.display();}}qw=ab;};this.aDb=function(){return qw;};this.Cy=function(ab){var gW=0;var hC=bL.length-1;for(var bC=gW;bC<=hC;bC++){var aN;var bI=document.getElementById(bL[bC].bJ);if(bI){aN=bI.bD;}else{continue;}aN.set_gamma(ab);if(aN&&bL[bC].gD===true&&aN.eE()===true){aN.display();}}sy=ab;};this.aEH=function(){return sy;};this.DQ=function(ab){var gW=0;var hC=bL.length-1;for(var bC=gW;bC<=hC;bC++){var aN;var bI=document.getElementById(bL[bC].bJ);if(bI){aN=bI.bD;}else{continue;}aN.set_svgLineWidthMultiplier(ab);if(aN&&bL[bC].gD===true&&aN.eE()===true){aN.display();}}jX=ab;};this.aDC=function(){return jX;};this.Bo=function(){var cX=this.get_displayedPages();var Pn=aaR(cX);if(Pn){return Pn.Bo();}return null;};this.wq=function(aU,R){var bI;if(bL[aU].bJ){bI=document.getElementById(bL[aU].bJ);}if(bI&&bI.bD){bI.bD.wq(R);}};this.pY=function(aU){var bI;if(bL[aU].bJ){bI=document.getElementById(bL[aU].bJ);}if(bI&&bI.bD){bI.bD.pY();}};var uk='';this.wO=function(J){uk=J;};this.nq=function(){return uk;};this.bU=function(cE,K){try{var F=ai.getHandler(cE);if(F!==null){F(T,K);}}catch(e){T.af(cE+'Event',e);}};this.cN=function(cr){var F=ai.getHandler('propertyChanged');if(F){F(this,new IPCC.nG(cr));}};this.ayu=function(F){ai.addHandler('currentPageChanged',F);};this.azC=function(F){ai.removeHandler('currentPageChanged',F);};this.Ad=function(dO,J){dO.style.cursor='move';dO.style.cursor='-webkit-'+J;dO.style.cursor='-moz-'+J;dO.style.cursor=J;};this.akk=function(){return aj.style.cursor||'auto';};this.apf=function(J){aj.style.cursor=J||'auto';var C=0;for(C=0;C<bL.length;C++){if(bL[C].bJ){var bI=document.getElementById(bL[C].bJ);if(bI){var aN=bI.bD;bI.style.cursor=J;if(aN){aN.set_cursor(J);if(bL[C].gD===true&&aN.eE()===true){aN.display();}}}}}};this.Zj=function(){return az;};this.JS=function(J){IPCC.bw.kj(J,'value',IPCC.Web.UI.MouseTool);var mu=false;if(az!==J){iJ=null;az=J;switch(az){case IPCC.Web.UI.MouseTool.HandPan:ae='grab';T.Ad(aj,'grab');break;case IPCC.Web.UI.MouseTool.SelectText:T.uy();ae=IPCC.bB.Text;aj.style.cursor=IPCC.bB.eZ(ae);break;case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:T.uy();ae=IPCC.bB.Text;aj.style.cursor=IPCC.bB.eZ(ae);break;case IPCC.Web.UI.MouseTool.None:ae=IPCC.bB.None;aj.style.cursor=IPCC.bB.eZ(ae);break;case IPCC.Web.UI.MouseTool.Magnifier:ae=IPCC.bB.Magnifier;aj.style.cursor=IPCC.bB.eZ(ae);break;case IPCC.Web.UI.MouseTool.RectangleZoom:ae=IPCC.bB.RectangleZoom;aj.style.cursor=IPCC.bB.eZ(ae);break;case IPCC.Web.UI.MouseTool.CreateRectangleMark:ae=IPCC.bB.AddRectangleMark;aj.style.cursor=IPCC.bB.eZ(ae);mu=true;iJ=function(){return[new IPCC.fh(IPCC.Web.UI.MarkType.Rectangle)];};break;case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:ae=IPCC.bB.AddRectangleRedactionMark;aj.style.cursor=IPCC.bB.eZ(ae);mu=true;iJ=function(){return[new IPCC.fh(IPCC.Web.UI.MarkType.RectangleRedaction)];};break;case IPCC.Web.UI.MouseTool.CreateEllipseMark:ae=IPCC.bB.AddEllipseMark;aj.style.cursor=IPCC.bB.eZ(ae);mu=true;iJ=function(){return[new IPCC.fh(IPCC.Web.UI.MarkType.Ellipse)];};break;case IPCC.Web.UI.MouseTool.CreateLineMark:ae=IPCC.bB.AddLineMark;aj.style.cursor=IPCC.bB.eZ(ae);mu=true;iJ=function(){return[new IPCC.pq()];};break;case IPCC.Web.UI.MouseTool.CreateStampMark:ae=IPCC.bB.AddStampMark;aj.style.cursor=IPCC.bB.eZ(ae);mu=true;iJ=function(){return[new IPCC.fh(IPCC.Web.UI.MarkType.Stamp)];};break;case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:ae=IPCC.bB.AddImageStampMark;aj.style.cursor=IPCC.bB.eZ(ae);mu=true;iJ=function(){return[new IPCC.fh(IPCC.Web.UI.MarkType.ImageStampAnnotation)];};break;case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:ae=IPCC.bB.AddImageStampMark;aj.style.cursor=IPCC.bB.eZ(ae);mu=true;iJ=function(){return[new IPCC.fh(IPCC.Web.UI.MarkType.ImageStampRedaction)];};break;case IPCC.Web.UI.MouseTool.CreateTextMark:ae=IPCC.bB.AddTextMark;aj.style.cursor=IPCC.bB.eZ(ae);mu=true;iJ=function(){return[new IPCC.fh(IPCC.Web.UI.MarkType.Text)];};break;case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:ae=IPCC.bB.AddTextMark;aj.style.cursor=IPCC.bB.eZ(ae);mu=true;iJ=function(){return[new IPCC.fh(IPCC.Web.UI.MarkType.TextLine)];};break;case IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark:ae=IPCC.bB.AddTextMark;aj.style.cursor=IPCC.bB.eZ(ae);mu=true;iJ=function(){return[new IPCC.fh(IPCC.Web.UI.MarkType.TextAreaSignature)];};break;case IPCC.Web.UI.MouseTool.CreateFreehandMark:ae=IPCC.bB.AddFreehandLineMark;aj.style.cursor=IPCC.bB.eZ(ae);mu=true;iJ=function(){return[new IPCC.jS()];};break;case IPCC.Web.UI.MouseTool.CreatePolylineMark:ae=IPCC.bB.AddPolylineMark;aj.style.cursor=IPCC.bB.eZ(ae);mu=true;iJ=function(){return[new IPCC.lx(IPCC.Web.UI.MarkType.Polyline)];};break;case IPCC.Web.UI.MouseTool.EditMarks:ae=IPCC.bB.EditMarks;aj.style.cursor=IPCC.bB.eZ(ae);mu=true;iJ=function(){return[new IPCC.le(IPCC.Web.UI.MarkType.Text)];};break;default:ae=IPCC.bB.None;aj.style.cursor=IPCC.bB.eZ(ae);break;}var C=0;for(C=0;C<bL.length;C++){if(bL[C].bJ){var bI=document.getElementById(bL[C].bJ);if(bI){var aN=bI.bD;if(ae==='grab'){T.Ad(bI,'grab');}else{bI.style.cursor=IPCC.bB.eZ(ae);}if(aN){aN.set_cursor(ae);aN.Nd(az===IPCC.Web.UI.MouseTool.HandPan||az===IPCC.Web.UI.MouseTool.EditMarks);if(mu===true){aN.Jn(iJ());}else{aN.set_mouseTool(IPCC.Web.UI.MouseTool.None);}if(bL[C].gD===true&&aN.eE()===true){aN.display();}}}}}this.cN('mouseTool');}};this.auv=function(){return xI;};this.aqA=function(bool){xI= ! !bool;};this.As=function(){return rY;};this.Ku=function(J){if(rY!==J){rY=J;var dR=js();var cX=[];if(dR){cX=rg(dR);}var C=0;for(C=0;C<cX.length;C++){var bI;var aN;bI=document.getElementById(bL[cX[C]].bJ);aN=bI.bD;if(aN){aN.set_markHandleMode(rY);this.wj(bI,C);}}this.cN('markHandleMode');}};this.ly=function(){return sp;};this.GR=function(J){if(sp!==J){sp=J;var dR=js();var cX=[];if(dR){cX=rg(dR);}var C=0;for(C=0;C<cX.length;C++){var aN;if(bL[cX[C]].bJ){aN=document.getElementById(bL[cX[C]].bJ).bD;}if(aN){aN.set_textRequired(sp);}}this.cN('textRequired');}};this.auU=function(){return vy;};this.aoz=function(J){if(J<0){J=0;}if(vy!==J){vy=J;this.cN('maxPrefetch');}};this.arE=function(){return JA;};this.aqG=function(J){if(JA!==J){JA=J;this.cN('displayPagesWhenScrolling');}};this.auX=function(){return Ed;};this.aoY=function(J){if(J<0){J=0;}if(Ed!==J){Ed=J;this.cN('maxOutOfViewDisplay');}};this.atx=function(){return Rv;};this.arm=function(J){if(Rv!==J){Rv= ! !J;this.cN('discardOutOfViewText');}};this.atF=function(){return KE;};this.aqQ=function(J){if(KE!==J){KE= ! !J;this.cN('retainPageText');}};this.auO=function(){return Pu;};this.apT=function(J){if(J<0){J=0;}if(Pu!==J){Pu=J;this.cN('scrollDisplayThreshold');}};this.auQ=function(){return fa;};this.aoc=function(J){if(fa===J){return;}fa=J;if(bh===''||bh.clientHeight<=0||ci===IPCC.ViewMode.SinglePage){this.cN('pageLayout');return;}var va=cu;var JH=ci;if(ci===IPCC.ViewMode.EqualWidthPages||ci===IPCC.ViewMode.EqualFitPages){T.Nc(IPCC.ViewMode.Document);}bh.scrollLeft=0;bh.scrollTop=0;var C=0;var bI;if(fa===IPCC.PageLayout.VerticalScrollDirection){if(Kx){Kx.setAttribute('style',auN);}EG.insertBefore(lb,Kx);for(C=0;C<bL.length;C++){bI=document.getElementById(bL[C].bJ);bI.style.display='block';if(hd>0){bI.style.margin=ee+'px auto '+iZ+'px auto';}}aj.style.margin='0px '+gb+'px 0px '+gK+'px';bh.scrollLeft=(fU-bh.clientWidth)/2+gb+nv;}else{if(Kx){Kx.setAttribute('style',auf);}EG.removeChild(lb);for(C=0;C<bL.length;C++){bI=document.getElementById(bL[C].bJ);if(bI){bI.style.display='inline-block';if(hd>0){bI.style.margin=ee+'px '+gb+'px '+iZ+'px '+gK+'px';}}}aj.style.margin='0px';bh.scrollTop=(hD-bh.clientHeight)/2+ee+oh;}if(JH===IPCC.ViewMode.EqualWidthPages){T.Nc(IPCC.ViewMode.EqualWidthPages);}else if(JH===IPCC.ViewMode.EqualFitPages){T.Nc(IPCC.ViewMode.EqualFitPages);}this.pQ(va);nH();this.cN('layout');};this.aEy=function(){return ci;};this.Nc=function(J,eQ){eQ=eQ||IPCC.ScaleTrigger.ViewMode;if(ci===J){return;}ci=J;if(bh===''||bh.clientHeight<=0){this.cN('viewMode');return;}var va=cu;this.pQ(va);if(ci===IPCC.ViewMode.Document){var kk=1;var bi=hd;var aq=jp;if(jo(qR)===true){bi=jp;aq=hd;}if(fa===IPCC.PageLayout.VerticalScrollDirection){kk=(bh.clientWidth-(gb+gK+nv+oZ))/bi;}else{kk=(bh.clientHeight-(ee+iZ+oh+pI))/aq;}jM(kk,true,undefined,undefined,undefined,undefined,eQ);}else{Wc(eQ);}this.pQ(va);this.cN('viewMode');xp(cc,true);kh(cc,true);};var qR=0;this.ats=function(){return qR;};this.arl=function(J){if(qR!==J){qR=J;var C=0;for(C=0;C<bL.length;C++){if(bL[C].Eq===0){bL[C].gE=qR;}}this.cN('pageRotation');}};this.abC=function(ah){var dA;if(arguments.length>0){if(!isNaN(ah)){dA=ah;}else{dA=cu;}}else{dA=cu;}for(var C=0;C<bL.length;C++){if(dA===C){return bL[C].gE;}}return 0;};var nA=false;this.jx=function(){return nA;};this.mG=function(J){if(typeof J!=="boolean"){return;}if(J===nA){return;}nA=J;};this.atu=function(){return XL;};this.aqI=function(J,qY,yK,vU){if(XL!==J){XL=J;for(var C=0;C<bL.length;C++){bL[C].aG.aFO(J,C,bL[C].kK(),bL[C].qm(),bL[C].fH,qY,yK,vU);var aCh= !bL[C].kK();bL[C].TN(aCh);}this.cN('annotationXmlDom');}};var pB;this.It=function(J){pB=J;};this.uB=function(){return pB;};var qo=false;this.nj=function(){return qo;};this.qE=function(J){if(typeof J!=="boolean"){return;}if(J===qo){return;}qo=J;IPCC.V.forEach(bL,function(bz,C){var aN;if(bL[C].bJ){var bI=document.getElementById(bL[C].bJ);if(bI){aN=bI.bD;}}if(aN){aN.qE(qo);aN=undefined;}});};this.anz=function(J){if(JI!==J){JI=J;this.cN('loadingContent');}};this.auB=function(){return JI;};this.auG=function(){var dR=js();var cX=[];if(dR){cX=rg(dR);}var aeS=new IPCC.Web.UI.ImGearPageCollection();var C=0;for(C=0;C<cX.length;C++){aeS.alX(bL[cX[C]].fH);}return aeS;};this.aDl=function(aU){if(bL[aU]){return bL[aU].bJ;}};this.yf=function(){return wo;};this.Iv=function(J){wo=J;};this.jJ=function(){return jP;};this.vD=function(J){jP=J;};this.LL=function(aK,zI,AK){var T=this;if(aK.kJ()>0||aK.ia()>0){zI(aK.kJ(),aK.ia());return;}aK.requestPageAttributes(function(be,ba){if(bL[aK.get_pageNumber()].aeG()===true){var hU=be/aK.akn();if(hU!==1){var aG=T.hA(aK);if(aG){alj(aG,hU);}}}bL[aK.get_pageNumber()].TN(false);zI(be,ba);},function(fk){AK(fk);});};this.axt=function(){if(te===true){return;}te=true;this.fw(lb,'pccHidden');xp(cc,true);kh(cc,true);};this.ate=function(){if(te===false){return;}te=false;this.lp(lb,'pccHidden');};this.arT=function(){return te;};this.lp=function(dO,rv){var Gr=new RegExp('(?:^|\\s)'+rv+'(?!\\S)','g');if(dO.className.match(Gr)===null){dO.className=dO.className+' '+rv;}};this.fw=function(dO,rv){var Gr=new RegExp('(?:^|\\s)'+rv+'(?!\\S)','g');dO.className=dO.className.replace(Gr,'');};this.auZ=function(){return lC;};this.apx=function(J){lC=J;};this.atM=function(){return iG;};this.aqT=function(J){if(iG===J){return;}var R,cg,ue;if(iG){R=iG.get_mark();ue=cc[R.get_markID()];cg=lC(R,{isSelected:true},(ue)?ue.cg:undefined);if(ue){BD(R,cc,cg);}}R=cg=ue=undefined;iG=J;if(iG){R=iG.get_mark();ue=cc[R.get_markID()];cg=lC(R,{isSelected:true},(ue)?ue.cg:undefined);if(ue){BD(R,cc,cg);}}kh(cc,true);};this.aBV=function(YC){var ke=vS();IPCC.V.forEach(YC,function(LA){var db=cc[LA];if(db){var kO=lC(db.R,{isSelected:(db.R.get_conversation()===iG)},db.cg);if(!IPCC.V.uO(kO)){throw new Error(kO+' is not a valid HTMLElement');}if(kO!==db.cg){BD(db.R,cc,kO);}}});kh(cc,false,ke);};this.initialize=function(){var di=this.nq();var C;for(C=di.childNodes.length-1;C>=0;C--){if(di.childNodes[C].tagName!=='INPUT'){di.removeChild(di.childNodes[C]);}}this.Ae.add_documentAdded(aws);this.Ae.add_pageAdded(VS);this.Ae.add_pageRemoved(VC);this.abN(true);di.bD=this;ahk();var aav='webkit moz o'.split(' '),BO='';if(aj.style.animationName!==undefined){HJ='animationend';BM='transitionend';return;}for(C=0;C<aav.length;C++){if(aj.style[aav[C]+'Animation']!==undefined){BO=aav[C];HJ=BO+'AnimationEnd';BM=BO+'TransitionEnd';break;}}};this.ath=function(){return lQ;};this.abN=function(J){lQ=J;this.cN('enabled');};this.aDa=function(){if(cu+1<bL.length){T.pQ(cu+1);}};this.aEg=function(){var WI=cu-1;if(WI<0){WI=0;}T.pQ(WI);};function Bp(K){IPCC.Web.UI.bS.removeHandler(K.target,HJ,Bp);IPCC.Web.UI.bS.removeHandler(K.target,BM,Bp);if(Hn>cu){T.fw(K.target,'pccNextPageIn');T.fw(K.target,'pccPreviousPageIn');T.fw(K.target,'pccCurrentPage');T.fw(K.target,'pccPageBack');T.fw(K.target,'pccPageForward');T.lp(K.target,'pccNextPage');}else if(Hn<cu){T.fw(K.target,'pccNextPageIn');T.fw(K.target,'pccPreviousPageIn');T.fw(K.target,'pccCurrentPage');T.fw(K.target,'pccPageBack');T.fw(K.target,'pccPageForward');T.lp(K.target,'pccPreviousPage');}T.fw(aj,'pccPageListContainerPageChanging');bh.style.overflow='auto';kT=null;aj.style.overflow='hidden';var lo=IPCC.V.filter(cc,function(aS){return aS.ah===cu+1;});Qi(lo);setTimeout(function(){nH();},60);};this.pQ=function aHX(aU){var Fg=cu;var lo;if(ci===IPCC.ViewMode.SinglePage){lo=IPCC.V.filter(cc,function(aS){return aS.ah!==aU+1;});Gv(lo);}else{tX=true;var adn=aeT(aU);if(fa===IPCC.PageLayout.VerticalScrollDirection){bh.scrollTop=adn;}else{bh.scrollLeft=adn;}}var Cu=[];if(cu!==aU){cu=aU;var bz=bL[cu];var K=new IPCC.PageEventArgs();K.imGearPage=T.get_currentPage();K.pageIndex=cu;K.pageNodeID=bz.bJ;T.bU('currentPageChanged',K);if(ci===IPCC.ViewMode.SinglePage){var hw=document.getElementById(bL[cu].bJ);var sX=document.getElementById(bL[Fg].bJ);if(hw===null){hw=FW(bL[cu].fH);Cu.push(bL[cu]);hw.className='pccPageListItem pccCurrentPage';qy.push(cu);if(hd>0){var gV=Ui(bL[cu]);hw.style.width=gV.be+'px';hw.style.height=gV.ba+'px';}else{hw.style.width=aj.clientWidth-gb-gK+'px';hw.style.height=aj.clientWidth*0.8+'px';}hw.style.display='block';hw.setAttribute('id',bL[cu].bJ);aj.appendChild(hw);}if(BM.length>0){bh.style.overflow='hidden';aj.style.width=hw.style.width;aj.style.height=hw.style.height;aj.style.overflow='visible';if(kT!==null){IPCC.Web.UI.bS.removeHandler(kT,HJ,Bp);IPCC.Web.UI.bS.removeHandler(kT,BM,Bp);if(Hn>cu){this.fw(kT,'pccNextPageIn');this.fw(kT,'pccPreviousPageIn');this.fw(kT,'pccCurrentPage');this.fw(kT,'pccPageForward');this.fw(kT,'pccPageBack');this.lp(kT,'pccNextPage');}else if(Hn<cu){this.fw(kT,'pccNextPageIn');this.fw(kT,'pccPreviousPageIn');this.fw(kT,'pccCurrentPage');this.fw(kT,'pccPageForward');this.fw(kT,'pccPageBack');this.lp(kT,'pccPreviousPage');}}IPCC.Web.UI.bS.addHandler(sX,HJ,Bp);IPCC.Web.UI.bS.addHandler(sX,BM,Bp);kT=sX;Hn=Fg;this.lp(aj,'pccPageListContainerPageChanging');if(cu>Fg){this.lp(sX,'pccPageForward');this.fw(hw,'pccPageBack');this.fw(hw,'pccPreviousPage');this.fw(hw,'pccPreviousPageIn');this.fw(hw,'pccNextPage');this.lp(hw,'pccCurrentPage');this.lp(hw,'pccNextPageIn');}else{this.lp(sX,'pccPageBack');this.fw(hw,'pccPageForward');this.fw(hw,'pccPreviousPage');this.fw(hw,'pccNextPage');this.fw(hw,'pccNextPageIn');this.lp(hw,'pccCurrentPage');this.lp(hw,'pccPreviousPageIn');}}else{aj.style.width=hw.style.width;aj.style.height=hw.style.height;if(cu>Fg){this.fw(sX,'pccNextPage');this.fw(sX,'pccCurrentPage');this.lp(sX,'pccPreviousPage');}else{this.fw(sX,'pccPreviousPage');this.fw(sX,'pccCurrentPage');this.lp(sX,'pccNextPage');}this.fw(hw,'pccPreviousPage');this.fw(hw,'pccNextPage');this.lp(hw,'pccCurrentPage');lo=IPCC.V.filter(cc,function(el){return el.ah===aU+1;});Qi(lo);setTimeout(function(){nH();},60);}IPCC.V.forEach(Cu,agf);}}};this.aCU=function(){if(bL.length>0){T.pQ(0);}};this.aEb=function(){if(cu<bL.length-1){T.pQ(bL.length-1);}};this.aEp=function(dC){if(te===false){return "CommentsPanelClosed";}var eW=cc[dC.get_mark().get_markID()];if(!eW){return "ConversationDivDoesNotExist";}if(ci===IPCC.ViewMode.SinglePage&&eW.ah-1!==cu){return "SinglePageModePageNotShown";}var aK=document.getElementById(bL[eW.ah-1].bJ);if(bL[eW.ah-1].gD===false||aK===undefined||aK.bD===undefined||aK.bD===null||aK.bD.eE()===false){return "PageOutOfView";}var H=dC.get_mark().get_boundingRectangle();var qC=aK.bD.transformPagePointToWindow(new IPCC.Web.UI.Point(H.x,H.y),true);var zO=aK.bD.transformPagePointToWindow(new IPCC.Web.UI.Point(H.x+H.width,H.y),true);qC.x=aj.offsetWidth;zO.x=aj.offsetWidth+tQ();T.afQ(aK.offsetTop,aK.offsetLeft,qC,zO);return "Success";};this.aDU=function(aU,H){if(ci===IPCC.ViewMode.SinglePage&&aU!==cu){return true;}var aK=document.getElementById(bL[aU].bJ);if(bL[aU].gD===false||aK===undefined||aK.bD===undefined||aK.bD===null||aK.bD.eE()===false){return false;}var qC=aK.bD.transformPagePointToWindow(new IPCC.Web.UI.Point(H.x,H.y),true);var zO=aK.bD.transformPagePointToWindow(new IPCC.Web.UI.Point(H.x+H.width,H.y+H.height),true);T.afQ(aK.offsetTop,aK.offsetLeft,qC,zO);return true;};this.aEE=function(aoX,aoh){bh.scrollTop+=Math.round(aoh);bh.scrollLeft+=Math.round(aoX);};this.afQ=function(aBt,aBh,qC,zO){var abm=zO.x-qC.x;var adK=zO.y-qC.y;var ce=new IPCC.Web.UI.Point(0,0);if(abm>bh.clientWidth){ce.x=qC.x;}else{ce.x=qC.x+(abm/2);}if(adK>bh.clientHeight){ce.y=qC.y;}else{ce.y=qC.y+(adK/2);}if(fa===IPCC.PageLayout.VerticalScrollDirection){bh.scrollTop=aBt+ce.y-bh.clientHeight/2;bh.scrollLeft=ce.x-bh.clientWidth/2;}else{bh.scrollLeft=aBh+ce.x-bh.clientWidth/2;bh.scrollTop=ce.y-bh.clientHeight/2;}};this.arL=function(){var C=0;for(C=0;C<bL.length;C++){El(C,true);}};this.arz=function(){var dR=js();var cX=[];if(dR){cX=rg(dR);}var C=0;for(C=0;C<cX.length;C++){El(cX[C]);}if(T.Ae.get_length()>0){T.Ae.removeAllDocuments();}};this.UB=function(aU,ak,cv,cW){if(bL[aU]&&bL[aU].gD===true){var bI=document.getElementById(bL[aU].bJ);if(bI&&bI.bD&&bI.bD.eE()===true){if(cW){IPCC.bw.cW(cW,"selectText");var hc=bI.bD.DV();var aAo=hc.jQ;var aAR=hc.dP;hc.jQ=cW;hc.dP=cW;bI.bD.showTextSelection(ak,cv);hc.jQ=aAo;hc.dP=aAR;}else{bI.bD.showTextSelection(ak,cv);}}}};this.asp=function(){var dR=js();var cX=[];if(dR){cX=rg(dR);}var C;for(C=0;C<cX.length;C++){if(bL[cX[C]].gD===true){var ej=document.getElementById(bL[cX[C]].bJ),bD=ej?ej.bD:undefined;if(bD&&bD.eE()===true){bD.showEmptyTextSelection(0);bD.extendTextSelection(undefined);bD.display();}}}};this.arZ=function(aU){if(bL[aU]&&bL[aU].gD===true){var ej=document.getElementById(bL[aU].bJ),bD=ej?ej.bD:undefined;if(bD&&bD.eE()===true){bD.showEmptyTextSelection(0);bD.extendTextSelection(undefined);bD.display();}}};this.uy=function(){var aK,bK,bD;aZ=null;IPCC.V.forEach(Qj,function(C){aK=bL[C];bK=document.getElementById(aK.bJ);if(bK){bD=bK.bD;}if(bD){if(bD.eE()&&bD.CJ()){bD.showEmptyTextSelection(0);bD.extendTextSelection(undefined);if(aK.gD){bD.display();}}}aK=bK=bD=undefined;});};this.xv=function(aU,rR){var bI;var aN;var alV=function(asV,aAw){return(asV+aAw)%360;};bL[aU].gE=alV(bL[aU].gE,rR);if(bL[aU].bJ){bI=document.getElementById(bL[aU].bJ);}if(bI===undefined||bI===null){return;}aN=bI.bD;if(aN&&aN.eE()===false){bL[aU].Eq=alV(bL[aU].Eq,rR);return;}tX=true;if(aN&&aN.eE()===true){aN.rotate(rR);}var bi=0;var aq=0;var ey=hd;var dU=jp;if(jo(qR)===true){ey=jp;dU=hd;}if(jo(bL[aU].gE)===true){if(aN&&aN.eE()===true){bi=aN.get_pageHeight();aq=aN.get_pageWidth();}else{bi=jp;aq=hd;}}else{if(aN&&aN.eE()===true){bi=aN.get_pageWidth();aq=aN.get_pageHeight();}else{bi=hd;aq=jp;}}tX=true;if(ci===IPCC.ViewMode.SinglePage){bI.style.width=bi*ca*bW/bL[aU].hu+'px';bI.style.height=aq*ca*bW/bL[aU].hf+'px';if(aU===cu){aj.style.width=bi*ca*bW/bL[aU].hu+'px';aj.style.height=aq*ca*bW/bL[aU].hf+'px';}}else if(ci===IPCC.ViewMode.Document){bI.style.width=bi*ca*bW/bL[aU].hu+'px';bI.style.height=aq*ca*bW/bL[aU].hf+'px';var C=0;if(fa===IPCC.PageLayout.VerticalScrollDirection){if(bi*ca*bW/bL[aU].hu>fU){fU=bi*ca*bW/bL[aU].hu;}else if(bI.clientHeight>=fU-10){fU=0;for(C=0;C<bL.length;C++){bI=document.getElementById(bL[C].bJ);if(bI&&bI.clientWidth>fU){fU=bI.clientWidth;}}}if(aq*ca*bW/bL[aU].hf>hD){hD=aq*ca*bW/bL[aU].hf;}}else{if(aq*ca*bW/bL[aU].hf>hD){hD=aq*ca*bW/bL[aU].hf;}else if(bI.clientWidth>=hD-10){hD=0;for(C=0;C<bL.length;C++){bI=document.getElementById(bL[C].bJ);if(bI&&bI.clientHeight>hD){hD=bI.clientHeight;}}}if(bi*ca*bW/bL[aU].hu>fU){fU=bi*ca*bW/bL[aU].hu;}}}else{var gs;if(fa===IPCC.PageLayout.VerticalScrollDirection){gs=ey/bi*ca*bW/bL[aU].hf;if(aN&&aN.eE()===true){aN.zoom(gs);}tX=true;bI.style.width=ey*ca*bW/bL[aU].hu+'px';bI.style.height=gs*aq+'px';}else{gs=dU/aq*ca*bW/bL[aU].hf;if(aN&&aN.eE()===true){aN.zoom(gs);}tX=true;bI.style.height=dU*ca*bW/bL[aU].hf+'px';bI.style.width=gs*bi+'px';}if(ey*ca*bW/bL[aU].hu>fU){fU=ey*ca*bW/bL[aU].hu;}if(dU*ca*bW/bL[aU].hf>hD){hD=dU*ca*bW/bL[aU].hf;}}if(aN&&aN.eE()===true){tX=true;this.wj(bI,aU);setTimeout(function(){if(te===false){return;}var ke=vS();var lo=IPCC.V.filter(cc,function(el){return aU===el.ah-1;});xp(lo);kh(lo,true,ke);},0);}};this.aDY=function(rR){var va=cu;this.xv(cu,rR);if(ci!==IPCC.ViewMode.SinglePage){var T=this;setTimeout(function(){T.pQ(va);},10);}};this.aey=function(rR){var va=cu;var dR=js();if(ci!==IPCC.ViewMode.SinglePage){this.pQ(va);}var gW=0;var hC=bL.length-1;var C;for(C=gW;C<=hC;C++){this.xv(C,rR);}if(ci!==IPCC.ViewMode.SinglePage){var T=this;setTimeout(function(){aeh(dR);T.pQ(va);},10);}};function aaD(yY,mn){var mK=0;var qH=0;var DS=false;tX=true;var dR=js();if(dR){IPCC.V.forEach(dR.Ha,function(aH){var gu=fa===IPCC.PageLayout.VerticalScrollDirection?aH.ba+ee:aH.be+gb+gK;var aAG=yY.Ha[aH.bV];if(aAG.vM){DS=true;return;}if(mn&&aH.bV>=mn.kY&&aH.bV<=mn.jl){var bI=document.getElementById(bL[aH.bV].bJ);if(bI){return;}}if(DS){qH+=gu;}else{mK+=gu;}});}return{qH:qH,mK:mK};};function aeh(yY){if(ci===IPCC.ViewMode.SinglePage){return;}var mn=PU(yY);var qx=aaD(yY,mn);if(fa===IPCC.PageLayout.VerticalScrollDirection){aj.style.paddingTop=qx.mK+'px';aj.style.paddingBottom=qx.qH+'px';}else{aj.style.paddingLeft=qx.mK+'px';aj.style.paddingRight=qx.qH+'px';}};function axN(yY){if(ci===IPCC.ViewMode.SinglePage){return;}var LY;var mn;if(fa===IPCC.PageLayout.VerticalScrollDirection){LY=parseInt(window.getComputedStyle(aj,null).getPropertyValue('padding-top'),10);}else{LY=parseInt(window.getComputedStyle(aj,null).getPropertyValue('padding-left'),10);}mn=PU(yY);var qx=aaD(yY,mn);if(fa===IPCC.PageLayout.VerticalScrollDirection){aj.style.paddingTop=qx.mK+'px';aj.style.paddingBottom=qx.qH+'px';bh.scrollTop=bh.scrollTop+qx.mK-LY;}else{aj.style.paddingLeft=qx.mK+'px';aj.style.paddingRight=qx.qH+'px';bh.scrollLeft=bh.scrollLeft+qx.mK-LY;}};this.KM=function(aU){IPCC.bw.kz(aU,'pageIndex',0,bL.length-1);var aK=bL[aU];if(aK&&aK.bJ&&(aK.En===true||aK.yM===false)){var as;var bI=document.getElementById(aK.bJ);if(bI.bD){bI.bD.dispose();}acr(bI);as=new IPCC.Web.UI.PageView(bI,false,bh);if(as){as.set_autoUpdate(false);as.wO(bI);as.initialize();as.set_imageHandlerUrl(aK.ac.rc);as.set_requireRequestsOptimize(wo);if(jP!==undefined){as.set_serviceResponseTimeout(jP);}as.set_scrollBars(IPCC.Web.UI.ScrollBars.None);as.Nd(az===IPCC.Web.UI.MouseTool.HandPan||az===IPCC.Web.UI.MouseTool.EditMarks);VY(as,aK);Vy(as);VV(as);VE(as);VW(as);}as.set_textRequired(sp);as.set_markHandleMode(rY);as.set_debug(_debug);as.set_gamma(sy);as.set_sharpening(qw);as.set_svgLineWidthMultiplier(jX);as.set_debugErrorLevel(oJ);as.mG(T.jx());if(pB){as.set_resourcePath(pB);}if(iJ){as.Jn(iJ());}else{as.set_mouseTool(IPCC.Web.UI.MouseTool.None);}as.qE(T.nj());aK.En=false;aK.zZ=false;var xm={encodedDocumentIdentifier:aK.ac.get_encodedDocumentIdentifier(),pageNumber:aU,artServiceOption:0,documentArtPage:aK.fj,viewRotationDegreesClockwise:aK.gE};if(aK.aG){xm.artPage=aK.aG;}if(aK.fj){xm.documentArtPage=aK.fj;}as.openPage(xm);aK.yM=true;mD++;}};function Wc(eQ,eO){if(hd<=0){return;}var ey=hd;var dU=jp;var fA=bW/bL[0].hu;if(jo(qR)===true){ey=jp;dU=hd;fA=bW/bL[0].hf;}var kk=1;if(fa===IPCC.PageLayout.VerticalScrollDirection){kk=(bh.clientWidth-tQ()-(gb+gK+nv+oZ))/(ey*fA);}else{kk=(bh.clientHeight-(ee+iZ+oh+pI))/(dU*fA);}var uC;if(ca<=kk){uC=false;}else if(ca>kk){uC=true;}if(isNaN(kk)||kk<=0||Math.abs(kk)===Infinity){return;}ca=kk;fU=0;hD=0;var gW=0;var hC=bL.length-1;var bC=0;var aN;for(bC=gW;bC<=hC;bC++,aN=undefined){var bI=document.getElementById(bL[bC].bJ);if(bI){aN=bI.bD;}if(aN===undefined){continue;}var bi=ey;var aq=dU;if(bL[bC].kK()>0){if(jo(bL[bC].gE)===true){bi=bL[bC].qm();aq=bL[bC].kK();}else{bi=bL[bC].kK();aq=bL[bC].qm();}}var gs=1;if(fa===IPCC.PageLayout.VerticalScrollDirection){gs=ey/bi*ca*fA;bI.style.width=ey*ca*fA+'px';bI.style.height=aq*gs+'px';if(ey*ca*fA>fU){fU=ey*ca*fA;}if(aq*gs*bW/bL[bC].hf>hD){hD=aq*gs*fA;}}else{gs=dU/aq*ca;bI.style.height=dU*ca*fA+'px';bI.style.width=bi*gs*fA+'px';if(bi*ca*bW/bL[bC].hu>fU){fU=bi*ca*fA;}if(dU*gs*fA>hD){hD=dU*gs*fA;}}if(aN&&bL[bC].gD===true&&aN.eE()===true){aN.zoom(gs);}if(aN&&bL[bC].gD===true&&aN.eE()===true){aN.display();}aN=undefined;}js();nH();setTimeout(function(){xp(cc);kh(cc);},0);T.bU('scaleChanged',{scaleType:(uC)?"scaledDown":"scaledUp",scaleTrigger:eQ,fitType:eO,scaleFactor:ca});};function jo(hg){switch(hg){case 90:case 270:case-90:case-270:return true;default:return false;}};function hy(qf){var ys=document.createElement('div');var C;for(C in qf){if(qf.hasOwnProperty(C)){ys.style[C]=qf[C];}}return ys;};this.atf=function(){if(Ho===undefined||Ho===null){Ho=1;}var dr=this.nq().id.toString()+'_'+Ho.toString();Ho++;return dr;};this.XN=function(){return this.Ae;};this.hA=function(aEj){for(var pJ=0;pJ<bL.length;pJ++){var anB=bL[pJ];if(aEj===anB.fH){return bL[pJ].aG;}}return null;};this.aGV=function(ie){var bI=document.getElementById(bL[ie.get_pageNumber()].bJ);if(bI){return bI.bD.lJ();}return null;};function aws(bM,K){VH(K);};function VH(bm){var fO=bm.imGearDocument;var arx=T.atf();fO.QX=arx;var dI=fO.get_pages();var cI=dI.get_length();if(cI>0){var RG=document.createDocumentFragment();for(var bC=0;bC<cI;bC++){var aK=dI.getPage(bC);if(!aK.ac){aK.ac=fO;}FW(aK,aK.get_pageNumber()===0?null:RG);}aj.appendChild(RG);}};var arw=IPCC.V.ahF(function(){if(HZ.length>0&&lQ){var dA;var Iu;var Im=0;IPCC.V.forEach(HZ,aeD);var akC=js();if(!akC){return;}var gV=akC.Ha;IPCC.V.forEach(HZ,function(aK,bV){dA=aK.nS();Iu=gV[dA];if(fa===IPCC.PageLayout.VerticalScrollDirection){Im+=Iu.ba+ee;}else{Im+=Iu.be+gb;}});if(Im&&ci!==IPCC.ViewMode.SinglePage){if(fa===IPCC.PageLayout.VerticalScrollDirection){aj.style.paddingBottom=Im+'px';}else{aj.style.paddingRight=Im+'px';}}xp(cc,true);kh(cc,true);if(T.Ae.PR(0).dY===bL.length){T.bU('allPagesAdded');}nH();}HZ=[];},10);function VS(bM,K){if(K.imGearPage.get_pageNumber()===0){FW(K.imGearPage);return;}HZ.push(K.imGearPage);arw();};function VC(bM,K){var dA=K.imGearPage.get_pageNumber();var aad=K.imGearPage.ac.get_documentIdentifier();for(var bC=0;bC<bL.length;bC++){if(bL[bC].fH.get_pageNumber()===dA&&bL[bC].fH.ac.get_documentIdentifier()===aad){var bI=document.getElementById(bL[bC].bJ);if(bI){aj.removeChild(bI);if(bI.bD){bI.bD.dispose();var lo=IPCC.V.filter(cc,function(el){return el.ah===bL[bC].dA+1;});Gv(lo);}}bL.splice(bC,1);}}};function aeD(ie){if(!IPCC.V.contains(bL,ie)){var bz=new IPCC.bz({page:ie});if(qR){bz.gE=qR;}if(!bz.ac){bz.ac=ie.ac;}bL.push(bz);IPCC.Pagecounter++;bL=bL.sort(function(dk,fp){return dk.dA-fp.dA;});avS(ie);avv(ie);awB(ie);bz.ayf=false;bz.zZ=false;avw(bz);awQ(bz);VA(bz);axd(bz);avi(bz);awx(bz);avK(bz);awN(bz);awd(bz);avB(bz);return bz;}};function FW(aK,RG){var Sa=aK.get_pageNumber();var di=T.nq();var fO=null;var Vc;var cI=T.get_documents().get_length();for(var aR=0;aR<cI;aR++){fO=T.get_documents().getDocument(aR);if(fO!==null){Vc=fO.QX;if(Vc===aK.ac.QX){break;}}}var gG=IPCC.V.find(bL,function(bz){return bz.fH&&bz.fH===aK;});if(!gG){gG=aeD(aK);}gG.Gs=true;var aam=gG.bJ;if(gG.Ju===1){return document.getElementById(aam);}gG.Ju=1;if(aj===''){ahk();}var lZ=(function(){var bO;if(ci!==IPCC.ViewMode.SinglePage){bO=hy({overflow:'hidden',position:'relative'});}else{bO=hy({overflow:'hidden',position:'absolute',margin:'0px'});if(gG.dA>cu){T.lp(bO,'pccNextPage');}else if(gG.dA<cu){T.lp(bO,'pccPreviousPage');}else{T.lp(bO,'pccCurrentPage');}}qy.push(aK.dA);T.lp(bO,'pccPageListItem');acr(bO);var Gf=Ui(gG);bO.style.width=Gf.be+'px';bO.style.height=Gf.ba+'px';var dR=js();var Ps;if(fa===IPCC.PageLayout.VerticalScrollDirection||ci===IPCC.ViewMode.SinglePage){bO.style.display='block';if(hd>0){bO.style.margin=ee+'px auto '+iZ+'px auto';}if(dR.de.length>0&&ci!==IPCC.ViewMode.SinglePage){Ps=dR.de[0];if(Sa<Ps.bV){var ari=IPCC.V.NC(aj,'padding-top');var apQ=IPCC.V.LH(ari);var QL=apQ-Gf.ba-ee;if(QL<0){QL=0;}aj.style.paddingTop=QL+'px';}else{var aqJ=IPCC.V.NC(aj,'padding-bottom');var apG=IPCC.V.LH(aqJ);var QT=apG-Gf.ba-ee;if(QT<0){QT=0;}aj.style.paddingBottom=QT+'px';}}}else{bO.style.display='inline-block';if(hd>0){bO.style.margin=ee+'px '+gb+'px '+iZ+'px '+gK+'px';}if(dR.de.length>0&&ci!==IPCC.ViewMode.SinglePage){Ps=dR.de[0];if(Sa<Ps.bV){var arp=IPCC.V.NC(aj,'padding-left');var arh=IPCC.V.LH(arp);var QF=arh-Gf.be-gb;if(QF<0){QF=0;}aj.style.paddingLeft=QF+'px';}else{var apP=IPCC.V.NC(aj,'padding-right');var aqk=IPCC.V.LH(apP);var Rh=aqk-Gf.be-gb;if(Rh<0){Rh=0;}aj.style.paddingRight=Rh+'px';}}}bO.setAttribute('id',aam);return bO;}());gG.fH=gG.fH||aK;gG.amY=gG.amY||Vc;gG.gE=gG.gE!==undefined?gG.gE:qR;gG.gD=false;function auJ(ej){var SR=ej.childNodes;var aGD=IPCC.V.find(bL,function(bz){if(bz.dA<=Sa){return;}var iK=IPCC.V.find(SR,function(iK){return iK.id&&iK.id===bz.bJ;});if(!iK){return;}if(bz.dA>Sa){iK.parentElement.insertBefore(lZ,iK);return true;}});if(!aGD){ej.appendChild(lZ);}}(function aFj(){if(bL.length===1){aj.appendChild(lZ);}else{return auJ(RG||aj);}}());var axy=false;if(lZ&&di.clientWidth>0){var asR=di.clientWidth/(lZ.clientWidth+(lZ.clientLeft*2));var aDD=di.clientHeight/(lZ.clientHeight+(lZ.clientTop*2));if(bL.length<(asR*aDD)){axy=true;}}if(bL.length<2){var as=new IPCC.Web.UI.PageView(lZ,false,bh);if(as){as.set_autoUpdate(false);as.wO(lZ);as.initialize();as.set_imageHandlerUrl(aK.ac.rc);as.set_imGearPage(gG.fH);as.set_artPage(gG.aG);as.set_documentArtPage(gG.fj);as.set_requireRequestsOptimize(wo);if(jP!==undefined){as.set_serviceResponseTimeout(jP);}as.set_scrollBars(IPCC.Web.UI.ScrollBars.None);as.set_textRequired(sp);as.set_markHandleMode(rY);as.set_debug(_debug);as.set_gamma(sy);as.set_sharpening(qw);as.set_svgLineWidthMultiplier(jX);as.set_debugErrorLevel(oJ);as.mG(T.jx());if(pB){as.set_resourcePath(pB);}if(iJ){as.Jn(iJ());}else{as.set_mouseTool(IPCC.Web.UI.MouseTool.None);}as.qE(T.nj());as.Nd(az===IPCC.Web.UI.MouseTool.HandPan||az===IPCC.Web.UI.MouseTool.EditMarks);}VY(as,gG);VV(as);VE(as);Vy(as);VW(as);as.openPage({encodedDocumentIdentifier:aK.ac.get_encodedDocumentIdentifier(),pageNumber:aK.get_pageNumber(),artServiceOption:0,imGearPage:gG.fH,artPage:gG.aG,documentArtPage:gG.fj,viewRotationDegreesClockwise:gG.gE});gG.yM=true;mD++;}return lZ;};function aaU(bz){return bz.Gs;};function nH(){if(mD>0||lQ===false||kT!==null){return;}if(Al){return;}var dR=js();if(!dR){return;}bL.forEach(function(aK,bV){if(!aK.gD){return;}T.JX(bV);});var Cu=avY(dR);IPCC.V.forEach(Cu||[],function(bV){var aK=bL[bV];if(aK){agf(aK);}});IPCC.V.forEach(dR.de,function(Iu){var bz=bL[Iu.bV];if(aaU(bz)&& !bz.gD&&bz.Ju){Qm(bz);}});var mn=PU(dR);for(var bV=mn.kY;bV<=mn.jl;bV++){var bz=bL[bV];if(!aaU(bz)){bz.Gs=true;var aaF=T.XN();var fO=aaF.PR(0);var ie=fO.dI.jD(bV);FW(ie);agY(bz,false);}}awF();};function avY(dR){var aGl=rg(dR);var Cu=[];IPCC.V.forEach(aGl,function(bV){var aK=bL[bV];if(aK&&aK.Ju===0){var aaF=T.XN();var fO=aaF.PR(0);var ie=fO.dI.jD(bV);FW(ie);Cu.push(bV);}});return Cu;};function awF(){var vP=bh.scrollTop;var tm=bh.scrollLeft;var uj=bh.clientHeight;var wU=bh.clientWidth;var tU=bh.scrollWidth;var ud=bh.scrollHeight;var dR=UK({vP:vP,tm:tm,uj:uj,wU:wU,tU:tU,ud:ud});var mn=PU(dR);var acG=avq(dR);var mK=0;var qH=0;var DS=false;IPCC.V.forEach(dR.Ha,function(aH){var gu=fa===IPCC.PageLayout.VerticalScrollDirection?aH.ba+ee:aH.be+gb+gK;var bV= +aH.bV;if(aH.vM||(ci===IPCC.ViewMode.SinglePage&&bV===cu)){DS=true;return;}if(bV>=mn.kY&&bV<=mn.jl){if(bV>=acG.kY&&bV<=acG.jl){return;}if(DS){if(El(bV,true)> -1){qH+=gu;}}else{if(El(bV,true)> -1){mK+=gu;}}return;}if(DS){qH+=gu;El(bV);}else{mK+=gu;El(bV);}});if(ci===IPCC.ViewMode.SinglePage){return;}if(fa===IPCC.PageLayout.VerticalScrollDirection){aj.style.paddingTop=mK+'px';aj.style.paddingBottom=qH+'px';}else{aj.style.paddingLeft=mK+'px';aj.style.paddingRight=qH+'px';}};function El(bC,azT){var aK=bL[bC];if(!aK){return-1;}var dA=aK.dA;if(azT===true&& !aK.gD){return-1;}aK.zZ=false;aK.yM=false;aK.gD=false;aK.Ju=0;aK.Gs=false;if(Rv&& !aK.fH.dp().atk()&&KE!==true){aK.fH.aku();}var Ac=document.getElementById(aK.bJ);if(!Ac){return-1;}if(Ac.bD){Ac.bD.dispose();var lo=IPCC.V.filter(cc,function(el){return el.ah===dA+1;});Gv(lo);Ac.parentElement.removeChild(Ac);return bC;}else{Ac.parentElement.removeChild(Ac);}return-1;};function Qm(bz){var bO=document.getElementById(bz.bJ);T.wj(bO,bz.dA);};function agf(bz){agY(bz,true);Qm(bz);};function agY(aK,ayk){var bO=document.getElementById(aK.bJ);if(bO===null){return;}var as=new IPCC.Web.UI.PageView(bO,false,bh);as.set_autoUpdate(false);as.wO(document.getElementById(aK.bJ));as.initialize();as.set_imageHandlerUrl(aK.ac.rc);as.set_imGearPage(aK.fH);as.set_artPage(aK.aG);as.set_requireRequestsOptimize(wo);if(jP!==undefined){as.set_serviceResponseTimeout(jP);}as.set_scrollBars(IPCC.Web.UI.ScrollBars.None);as.set_textRequired(sp);as.set_markHandleMode(rY);as.set_debug(_debug);as.set_gamma(sy);as.set_sharpening(qw);as.set_svgLineWidthMultiplier(jX);as.set_debugErrorLevel(oJ);as.mG(T.jx());if(pB){as.set_resourcePath(pB);}if(iJ){as.Jn(iJ());}else{as.set_mouseTool(IPCC.Web.UI.MouseTool.None);}as.qE(T.nj());as.Nd(az===IPCC.Web.UI.MouseTool.HandPan||az===IPCC.Web.UI.MouseTool.EditMarks);VY(as,aK);VV(as);VE(as);Vy(as);VW(as);if(ayk===true){as.add_pageOpened(function aFm(aa){T.wj(bO,aK.dA);});}if(aK.zZ===false&&aK.fH){aK.Gs=true;var xm={encodedDocumentIdentifier:aK.fH.ac.get_encodedDocumentIdentifier(),pageNumber:aK.fH.get_pageNumber(),imGearPage:aK.fH,viewRotationDegreesClockwise:aK.gE};if(aK.aG){xm.artPage=aK.aG;}if(aK.fj){xm.documentArtPage=aK.fj;}as.openPage(xm);aK.yM=true;mD++;}};function alj(aG,hU){var bF;aG.forEachMark(function(R){switch(R.get_type()){case IPCC.Web.UI.MarkType.Line:var bo=R.get_points();var ay=bo.zd(0);var kn=bo.zd(1);bo.setPoint(0,new IPCC.Web.UI.Point(ay.x*hU,ay.y*hU));bo.setPoint(1,new IPCC.Web.UI.Point(kn.x*hU,kn.y*hU));break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.TextSelectionRedaction:bF=R.get_rectangle();R.set_rectangle({x:bF.x*hU,y:bF.y*hU,width:bF.width*hU,height:bF.height*hU});break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.Strikethrough:bF=R.get_rectangle();R.set_rectangle({x:bF.x*hU,y:bF.y*hU,width:bF.width*hU,height:bF.height*hU});var aI=R.aI,gX;for(var i=0;i<aI.length;i++){gX=aI[i];gX.x=gX.x*hU;gX.y=gX.y*hU;gX.width=gX.width*hU;gX.height=gX.height*hU;}break;default:break;}});};function VY(as,aK){function avA(sender,evnt){var afd=function(be,ba,ah){var XP={'width':be,'height':ba,'pageNumber':ah};T.bU('pageOpening',XP);};var dA=evnt.pageNumber;var aad=evnt.documentIdentifier;aK.bi=as.get_pageWidth();aK.aq=as.get_pageHeight();var hb=as.get_pageXResolution();var gj=as.get_pageYResolution();if(!isNaN(parseFloat(hb))&&isFinite(hb)){aK.hu=hb;}if(!isNaN(parseFloat(gj))&&isFinite(gj)){aK.hf=gj;}as=null;for(var bC=0;bC<bL.length;bC++){if(lQ&&bL[bC].fH.get_pageNumber()===dA&&bL[bC].fH.ac.get_documentIdentifier()===aad){bL[bC].yM=false;bL[bC].zZ=true;bL[bC].En=false;if(ci===IPCC.ViewMode.SinglePage){var or= -1;if(Array.prototype.indexOf){or=qy.indexOf(bC);}else{or=IPCC.Web.jk(qy,bC);}if(or!== -1){qy.splice(or,1);}}var anp=false;for(var aR=0;aR<Qj.length;aR++){if(Qj[aR]===bC){anp=true;}}if(anp===false){Qj.push(bC);}var kD=0;var jW=0;var bI=document.getElementById(bL[bC].bJ);var aN=bI.bD;var ey;var dU;var XT;if(hd===0&&(bC===0||bL[0].En===true)){if(bI.currentStyle){oh=parseInt(bI.currentStyle.borderTopWidth,10)||0;ee=parseInt(bI.currentStyle.marginTop,10)||0;nv=parseInt(bI.currentStyle.borderLeftWidth,10)||0;gb=parseInt(bI.currentStyle.marginLeft,10)||0;pI=parseInt(bI.currentStyle.borderBottomWidth,10)||0;iZ=parseInt(bI.currentStyle.marginBottom,10)||0;oZ=parseInt(bI.currentStyle.borderRightWidth,10)||0;gK=parseInt(bI.currentStyle.marginRight,10)||0;}else if(document.defaultView&&document.defaultView.getComputedStyle){var yi=document.defaultView.getComputedStyle(bI);oh=parseInt(yi.borderTopWidth,10)||0;ee=parseInt(yi.marginTop,10)||0;nv=parseInt(yi.borderLeftWidth,10)||0;gb=parseInt(yi.marginLeft,10)||0;pI=parseInt(yi.borderBottomWidth,10)||0;iZ=parseInt(yi.marginBottom,10)||0;oZ=parseInt(yi.borderRightWidth,10)||0;gK=parseInt(yi.marginRight,10)||0;}if(ci===IPCC.ViewMode.SinglePage){bI.style.margin=ee+'px 0px '+iZ+'px 0px';aj.style.margin="0px auto";}else{if(fa===IPCC.PageLayout.VerticalScrollDirection){bI.style.margin=ee+'px auto '+iZ+'px auto';}else{bI.style.margin=ee+'px '+gK+'px '+iZ+'px '+gb+'px';aj.style.margin='0px '+gK+'px 0px '+gb+'px';}}hd=aN.get_pageWidth();jp=aN.get_pageHeight();aiO=hb;ey=hd;dU=jp;var fA=bW/bL[bC].hu;if(jo(bL[bC].gE)===true){dU=hd;ey=jp;fA=bW/bL[bC].hf;}if(ci===IPCC.ViewMode.SinglePage){var aoA=(bh.offsetWidth-(gb+gK+nv+oZ));var aop=(bh.offsetHeight-(ee+iZ+oh+pI+auq));oO=aoA/(ey*fA);XT=aop/(dU*fA);if(XT<oO){oO=XT;}aN.zoom(oO*fA);}else if(fa===IPCC.PageLayout.VerticalScrollDirection){oO=(bh.offsetWidth-IPCC.Web.od()-(gb+gK+nv+oZ))/(ey*fA);aN.zoom(oO*fA);}else{oO=(bh.offsetHeight-IPCC.Web.od()-(ee+iZ+oh+pI))/(dU*fA);aN.zoom(oO*fA);}kD=ey*oO*fA;jW=dU*oO*fA;bI.style.width=kD+'px';bI.style.height=jW+'px';if(ci===IPCC.ViewMode.SinglePage){aj.style.width=kD+'px';aj.style.height=jW+'px';}if(ci!==IPCC.ViewMode.SinglePage){for(var pJ=0;pJ<bL.length;pJ++){if(bL[pJ].gD===false&&pJ!==bC){if(bL[pJ].bJ){bI=document.getElementById(bL[pJ].bJ);bI.style.width=ey*oO+'px';bI.style.height=dU*oO+'px';if(fa===IPCC.PageLayout.VerticalScrollDirection){bI.style.margin=ee+'px auto '+iZ+'px auto';}else{bI.style.margin=ee+'px '+gK+'px '+iZ+'px '+gb+'px';}}}}}ca=oO;afd(aK.bi,aK.aq,dA+1);bI.bD.display();}else{if(ci===IPCC.ViewMode.Document||ci===IPCC.ViewMode.SinglePage){if(jo(bL[bC].gE)===true){kD=aN.get_pageHeight()*ca*bW/bL[bC].hu;jW=aN.get_pageWidth()*ca*bW/bL[bC].hf;}else{kD=aN.get_pageWidth()*ca*bW/bL[bC].hu;jW=aN.get_pageHeight()*ca*bW/bL[bC].hf;}}else{var gs;var bi=aN.get_pageWidth();var aq=aN.get_pageHeight();ey=hd;dU=jp;if(jo(qR)===true){ey=jp;dU=hd;}if(jo(bL[bC].gE)===true){bi=aN.get_pageHeight();aq=aN.get_pageWidth();}if(fa===IPCC.PageLayout.VerticalScrollDirection){gs=ey/bi*ca*bW/bL[0].hf;kD=ey*ca*bW/bL[0].hu;jW=aq*gs;}else{gs=dU/aq*ca*bW/bL[0].hu;jW=dU*ca*bW/bL[0].hf;kD=bi*gs;}}if(kD!==Math.round(kD)){kD=Math.floor(kD*100)/100;}if(jW!==Math.round(jW)){jW=Math.floor(jW*100)/100;}if(bI.style.width!==kD+'px'||bI.style.height!==jW+'px'){if(fa===IPCC.PageLayout.VerticalScrollDirection){bI.style.width=kD+'px';bI.style.height=jW+'px';}else{bI.style.width=kD+'px';bI.style.height=jW+'px';}xp(cc,true);kh(cc,true);}afd(aK.bi,aK.aq,dA+1);}if(kD>fU){fU=kD;if(fa===IPCC.PageLayout.VerticalScrollDirection){bh.scrollLeft=(fU-bh.clientWidth)/2;}}if(jW>hD){hD=jW;if(fa===IPCC.PageLayout.HorizontalScrollDirection){bh.scrollTop=(hD-bh.clientHeight)/2;}}if(bL[bC].Eq>0){var Tc=document.getElementById(bL[bC].bJ).bD;if(Tc){Tc.rotate(bL[bC].Eq);Tc.display();bL[bC].Eq=0;}}if(mD>0){mD=mD-1;}if(bL[bC].aeG()===true){var ie=bL[bC].fH;var hU=bL[bC].kK()/ie.akn();if(hU!==1){var aG=T.hA(ie);if(aG){alj(aG,hU);}}}bL[bC].TN(false);js();var Kq=new IPCC.OpenPageEventArgs();Kq.pageIndex=evnt.pageNumber;Kq.imGearPage=evnt.imGearPage;Kq.viewRotationDegreesClockwise=evnt.viewRotationDegreesClockwise;Kq.pageNodeID=bL[bC].bJ;T.bU('pageOpened',Kq);break;}}if(mD===0&&nc===null&&kT===null){setTimeout(function(){nH();},60);}};as.add_pageOpened(avA);};function VV(as){function awU(bM,bd){if(lQ===false){return;}var xH;if(bd.pageNumber>=0){if(bL[bd.pageNumber].bJ){xH=bL[bd.pageNumber].bJ;}}bL[bd.pageNumber].En=true;bL[bd.pageNumber].yM=false;bL[bd.pageNumber].zZ=false;bL[bd.pageNumber].gD=false;var mL=new IPCC.ExceptionEventArgs();mL.exception=bd.exception;mL.pageIndex=bd.pageNumber;mL.pageNodeID=xH;T.bU('pageOpenFailed',mL);if(mD>0){mD=mD-1;if(mD===0){setTimeout(function(){nH();},60);}}};as.add_pageOpenFailed(awU);};function VE(as){function awE(bM,bd){if(lQ===false){return;}var K=new IPCC.PageEventArgs();K.pageIndex=bd.ah;K.imGearPage=bL[bd.ah].fH;K.pageNodeID=bL[bd.ah].bJ;bL[bd.ah].gD=true;if(ci===IPCC.ViewMode.SinglePage){var or= -1;if(Array.prototype.indexOf){or=qy.indexOf(bd.ah);}else{or=IPCC.Web.jk(qy,bd.ah);}if(or!== -1){qy.splice(or,1);}}T.bU('pageDisplayed',K);setTimeout(function(){var lo=IPCC.V.filter(cc,function(el){if(ci===IPCC.ViewMode.SinglePage){return bd.ah===el.ah-1&&el.ah-1===cu;}else{return bd.ah===el.ah-1;}});xp(lo);kh(lo);},0);};as.add_pageDisplayed(awE);};function avv(aK){function IV(bM,bd){if(lQ===false){return;}T.bU('textPageReady',{pageIndex:bd.pageNumber,containsText:bd.containsText});var dR=js();var cX=[];if(dR){cX=rg(dR);}if(bd.containsText===true&&bd.pageNumber>=cX[0]&&bd.pageNumber<=cX[cX.length-1]){if(bL[bd.pageNumber].aG&&bL[bd.pageNumber].aG.get_markCount()>0){var bI=document.getElementById(bL[bd.pageNumber].bJ);T.wj(bI,bd.pageNumber);}}};aK.AP(IV);};function awB(aK){function avJ(bM,bd){if(lQ===false){return;}var fj=bL[bd.pageNumber].fj;aK.amI().Kl().na(function(gp){var R=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.DocumentHyperlink),bF=gp.fs();R.set_rectangle(new IPCC.Web.UI.Rectangle(bF.x,bF.y,bF.width,bF.height));R.set_href(gp.alI());R.set_lineColor(gp.atC());R.set_lineWidth(gp.asN());R.set_borderPattern(gp.aud());R.set_borderType(gp.auY());R.set_borderHorizontalRadius(gp.atN());R.set_borderVerticalRadius(gp.arY());R.set_borderOpacity(gp.atS());fj.addMark(R);gp.aom(R);});T.bU('hyperlinkPageReady',{pageIndex:bd.pageNumber});var dR=js();var cX=[];if(dR){cX=rg(dR);}if(bd.pageNumber>=cX[0]&&bd.pageNumber<=cX[cX.length-1]){var bI=document.getElementById(bL[bd.pageNumber].bJ);T.wj(bI,bd.pageNumber);}};aK.WK(avJ);};function avS(aK){function II(bM,bd){if(lQ===false){return;}var xH;if(bd.pageNumber>=0){if(bL[bd.pageNumber].bJ){xH=bL[bd.pageNumber].bJ;}}T.bU('textExtractionFailed',{'exception':bd.exception,'pageIndex':bd.pageNumber,'pageNodeID':xH});};aK.Ar(II);};function Vy(as){function avI(bM,bd){if(lQ===false){return;}var xH;if(isNaN(bd.pageNumber)===false){if(bd.pageNumber>=0){if(bL[bd.pageNumber].bJ){xH=bL[bd.pageNumber].bJ;}}bL[bd.pageNumber].En=true;bL[bd.pageNumber].yM=false;bL[bd.pageNumber].zZ=false;bL[bd.pageNumber].gD=false;}var mL=new IPCC.ExceptionEventArgs();mL.functionName=bd.function_name;mL.exception=bd.exception;mL.pageIndex=bd.pageNumber;mL.pageNodeID=xH;T.bU('exceptionThrown',mL);if(mD>0){mD=mD-1;if(mD===0){setTimeout(function(){nH();},60);}}};as.add_exceptionThrown(avI);};function VW(as){function FP(bM,bd){T.bU('markCreating',bd);};as.add_markCreating(FP);};function avw(bz){function abw(){if(lQ===false){return;}var dR=js();var cX=[];if(dR){cX=rg(dR);}if(bz.dA>=cX[0]&&bz.dA<=cX[cX.length-1]){var bI=document.getElementById(bz.bJ);T.wj(bI,bz.dA);}var K=new IPCC.Web.UI.MarkEventArgs();K.pageIndex=bz.dA;T.bU('marksLoaded',K);};bz.aG.add_marksLoaded(abw);};function awQ(bz){function hT(bM,bd){var K=new IPCC.Web.UI.MarkEventArgs();K.pageIndex=bz.dA;K.mark=bd.mark;K.zIndex=bd.zIndex;K.clientX=bd.clientX;K.clientY=bd.clientY;T.bU('markAdded',K);};bz.aG.add_markAdded(hT);};function VA(bz){var YK,rj=false,Zz,aaI;function Jc(L,eW){if(te===false){return;}var ke=vS();alo(L,eW,ke);kh(cc,true,ke);};function ayQ(L,eW){Zz=L;aaI=eW;if(rj&& !YK){YK=Ia(function(){rj=false;YK=undefined;if(Zz&&aaI){Jc(Zz,aaI);}else{Jc(L,eW);}});}};function nn(bM,bd){if(bd.mark.xf===true){return;}var K=new IPCC.Web.UI.MarkEventArgs();K.pageIndex=bz.dA;K.mark=bd.mark;K.zIndex=bd.zIndex;K.propertyName=bd.propertyName;T.bU('markChanged',K);var eW=cc[bd.mark.get_markID()];if(eW&&(bd.propertyName==='rectangle'||bd.propertyName==='points'||bd.propertyName==='startPoint'||bd.propertyName==='endPoint')){rj=true;ayQ(bd.mark,eW);}else if(eW&&bd.propertyName==='visible'){var aDk=bd.mark.get_visible();var VI=(function(db){return IPCC.V.inArray(QA(),db.ah-1);})(eW);if(aDk&&VI){Qi([eW]);kh(cc,true,vS());}else{Gv([eW]);}}};bz.aG.add_markChanged(nn);};function axd(bz){function aaO(bM,bd){var K=new IPCC.Web.UI.MarkEventArgs();K.pageIndex=bz.dA;K.mark=bd.mark;K.zIndex=bd.zIndex;K.oldZIndex=bd.oldZIndex;T.bU('markReordered',K);};bz.aG.add_markReordered(aaO);};function avi(bz){function BK(bM,bd){if(bd.mark.xf===true){return;}var K=new IPCC.Web.UI.MarkEventArgs();K.pageIndex=bz.dA;K.mark=bd.mark;K.zIndex=bd.zIndex;T.bU('markSelectionChanged',K);};bz.aG.add_markSelectionChanged(BK);};function avK(bz){function CK(bM,bd){if(bd.mark){var K=new IPCC.Web.UI.MarkEventArgs();K.pageIndex=bz.dA;K.mark=bd.mark;K.zIndex=bd.zIndex;T.bU('markRemoved',K);var eW=cc[bd.mark.get_markID()];if(eW){if(bd.mark.get_conversation()===iG){iG=null;}eW.cg.parentElement.removeChild(eW.cg);delete cc[bd.mark.get_markID()];kh(cc,true);}}};bz.aG.add_markRemoved(CK);};function awx(bz){function Aj(bM,bd){var K=new IPCC.Web.UI.MarkEventArgs();K.pageIndex=bz.dA;K.mark=bd.mark;K.zIndex=bd.zIndex;T.bU('markTextSelectionChanged',K);};bz.aG.add_markTextSelectionChanged(Aj);};function alo(L,eW,Qh){var bz=bL[eW.ah-1],aK=document.getElementById(bz.bJ),FR=Uz(L,bz.dA+1);if(aK.bD){var ce=aK.bD.transformPagePointToWindow(new IPCC.Web.UI.Point(FR.x,FR.y),true);var pk=(ee*bz.dA);var Je=(aK.offsetTop-pk+ce.y)/(Qh-(ee*bL.length));eW.bF=FR;eW.abz=Je;}};function Gv(ir,ah){var aBE=typeof ah==='undefined';IPCC.V.forEach(ir,function(aS){if(aS&&(aBE||aS.pageNumber===ah)){aS.cg.style.display='none';aS.vM=false;}});};function tQ(){if(lb.currentStyle&&lb.currentStyle.display==='none'){return 0;}return lb.clientWidth;};function vS(){if(lb.currentStyle&&lb.currentStyle.display==='none'){return 0;}return lb.offsetHeight;};function Qi(ir,ah){var apU=typeof ah==='undefined';IPCC.V.forEach(ir,function(el){if(apU||el.pageNumber===ah){el.cg.style.display='';el.vM=true;if(el&&el.R&&el.R.get_visible()===false){el.cg.style.display='none';el.vM=false;}}});};function xp(ir,ZQ){if(te===false){return;}var PZ=(! !ZQ)?IPCC.V.filter(cc,function(db){return IPCC.V.contains(QA(),db.ah-1);}):ir;var ke=vS();IPCC.V.forEach(PZ,function(el){alo(el.R,el,ke);});};function ayd(a,b){return(a.bF.y!==b.bF.y)?(a.bF.y-b.bF.y):(a.bF.x!==b.bF.x)?(a.bF.x-b.bF.x):(a.yd-b.yd);};function axM(a,b){return(a.bF.x!==b.bF.x)?(a.bF.x-b.bF.x):(a.bF.y!==b.bF.y)?(b.bF.y-a.bF.y):(a.yd-b.yd);};function axV(a,b){return(a.bF.y!==b.bF.y)?(b.bF.y-a.bF.y):(a.bF.x!==b.bF.x)?(b.bF.x-a.bF.x):(a.yd-b.yd);};function aya(a,b){return(a.bF.x!==b.bF.x)?(b.bF.x-a.bF.x):(a.bF.y!==b.bF.y)?(a.bF.y-b.bF.y):(a.yd-b.yd);};function ayZ(Ze,ke,zl){zl=zl||0;var _top,ael,Hh,SX=(ee*bL.length),To=ke-SX;IPCC.V.forEach(Ze,function(db){Hh=(ee*(db.ah-1));ael=(db.abz*To)+Hh;_top=Math.max(zl+5,ael);if(db.cg.style.top!==_top+'px'){db.cg.style.top=_top+'px';}zl=_top+db.ZA;});};function axf(Ze,ke){var Lz,_top,Oi,Hh,adG,SX=(ee*bL.length),To=ke-SX;IPCC.V.forEach(Ze,function(db){Hh=(ee*(db.ah-1));Oi=(db.abz*To)+Hh;if(Lz===undefined){Lz=Oi;}if(db.R.get_conversation()===iG){_top=Oi;adG=_top+db.ZA;}else{_top=Math.min(Lz-5-db.ZA,Oi);}if(db.cg.style.top!==_top+'px'){db.cg.style.top=_top+'px';}Lz=_top;});return adG;};function kh(ir,ZQ,ke){if(te===false){return;}if(!ke){ke=vS();}var aqf=function(a,b){if(a.ah!==b.ah){return(a.ah-b.ah);}var aK=bL[a.ah-1],hg=aK.gE;switch(hg){case 90:return axM(a,b);case 180:return axV(a,b);case 270:return aya(a,b);default:return ayd(a,b);}};var PZ=(! !ZQ)?IPCC.V.filter(cc,function(db){return IPCC.V.inArray(QA(),db.ah-1);}):ir;Qi(PZ);var aoP=IPCC.V.map(PZ,function(db,au){db.ZA=db.cg.offsetHeight;return db;});var Zk=aoP.sort(aqf);var OS=[],Ty=[],Zi=false;if(iG){var alM=cc[iG.get_mark().get_markID()];if(!IPCC.V.inArray(Zk,alM)){Zi=true;}IPCC.V.forEach(Zk,function(db){if(Zi){Ty.push(db);}else if(db.R.get_conversation()===iG){OS.unshift(db);Zi=true;}else{OS.unshift(db);}});}else{Ty=Zk;}var zl=0;if(OS.length){zl=axf(OS,ke);}ayZ(Ty,ke,zl);};function ayA(ir,L,dA){var db=ir[L.mF()];db.ah=dA;db.R=L;db.bF=Uz(L,dA);db.yd=L.fM().nV(L);};function BD(L,ir,kO){var eW=ir[L.get_markID()];if(eW){eW.cg.parentElement.replaceChild(kO,eW.cg);eW.cg=kO;}return eW;};function avz(L,ir,kO,aBk,aFd,Je,dA){var eW=new arQ();eW.cg=kO;cc[L.get_markID()]=eW;ayA(cc,L,dA);eW.abz=Je;aBk.appendChild(kO);return eW;};function Uz(L,ah){var bF=(L.get_boundingRectangle)?L.get_boundingRectangle():{},hg=bL[ah-1].gE;switch(hg){case 90:return{x:bF.x,y:bF.y+(bF.height||0)};case 180:return{x:bF.x+(bF.width||0),y:bF.y+(bF.height||0)};case 270:return{x:bF.x+(bF.width||0),y:bF.y};default:return{x:bF.x,y:bF.y};}};function awN(bz){function MU(bM,bd){var K=new IPCC.Web.UI.CommentEventArgs();K.pageIndex=bz.dA;K.mark=bd.mark;K.index=bd.index;K.comment=bd.comment;var aK=document.getElementById(bz.bJ);T.bU('commentAdding',K);setTimeout(function(){var Qh=vS(),eW,cg;if(bd.index===0){cg=lC(bd.mark,{isSelected:false},null);if(!cg){return;}else if(!IPCC.V.uO(cg)){throw new Error(cg+' is not a valid HTMLElement');}var FR=Uz(bd.mark,bz.dA+1),aBT=FR.x,aCr=FR.y;var ce;if(aK&&aK.bD){ce=aK.bD.transformPagePointToWindow(new IPCC.Web.UI.Point(aBT,aCr),true);}else{ce=new IPCC.Web.UI.Point(0,0);}var pk=(ee*(bz.dA));var Je=(aeT(bz.dA)-pk+ce.y)/(Qh-(ee*bL.length));eW=avz(bd.mark,cc,cg,lb,ce,Je,bz.dA+1);}else{var Gl=bd.mark.get_conversation()===iG;var currentConversationDiv=cc[bd.mark.get_markID()];if(!currentConversationDiv){return;}cg=lC(bd.mark,{isSelected:Gl},currentConversationDiv.cg);if(!cg){return;}else if(!IPCC.V.uO(cg)){throw new Error(cg+' is not a valid HTMLElement');}eW=BD(bd.mark,cc,cg);}if(IPCC.V.contains(QA(),bz.dA)){kh(cc,true,Qh);}else{Gv([eW]);}T.bU('commentAdded',K);},0);};bz.aG.add_commentAdded(MU);};function awd(bz){function Nk(bM,bd){var cg=null;if(cc[bd.mark.get_markID()]){cg=cc[bd.mark.get_markID()].cg;var Gl=bd.mark.get_conversation()===iG;cg=lC(bd.mark,{isSelected:Gl},cg);}if(!cg){T.bU('commentChanged',bd);return;}else if(!IPCC.V.uO(cg)){throw new Error(cg+' is not a valid HTMLElement');}if(cg){var ke=vS();BD(bd.mark,cc,cg);kh(cc,true,ke);}T.bU('commentChanged',bd);};bz.aG.add_commentChanged(Nk);};function avB(bz){function Or(bM,bd){var cg=null;if(cc[bd.mark.get_markID()]){cg=cc[bd.mark.get_markID()].cg;}var Gl=bd.mark.get_conversation()===iG;cg=lC(bd.mark,{isSelected:Gl},cg);if(IPCC.V.uO(cg)){BD(bd.mark,cc,cg);}else{var eW=cc[bd.mark.get_markID()];if(eW){if(bd.mark.get_conversation()===iG){iG=null;}eW.cg.parentElement.removeChild(eW.cg);delete cc[bd.mark.get_markID()];}}kh(cc,true);T.bU('commentRemoved',bd);};bz.aG.add_commentRemoved(Or);};function SV(){var ba=jp;var be=hd;var apW=function(iU){return{width:iU.width||(iU.right-iU.left),height:iU.height||(iU.bottom-iU.top),top:iU.top,bottom:iU.bottom,left:iU.left,right:iU.right};};var acx=apW(bh.getBoundingClientRect());var ng={height:acx.height/2};ng.width=ng.height*be/ba;if(ng.width>be/2){ng.width=be/2;}if(ng.height>ba/2){ng.height=ba/2;}var abx=8;var anh={height:ba*abx,width:be*abx};var ayD=be*ca<ng.width+5;var axz=be*ca>anh.width-5;return{min:ng,max:anh,page:{width:be,height:ba},viewport:acx,atMin:ayD,atMax:axz,maxFactor:abx,minFactor:ng.width/be};};function jM(ab,QM){if(QM){adC.apply(this,arguments);return;}var uC=(ab<ca)?true:false;var ob=SV();if((ob.atMin&&uC)||(ob.atMax&& !uC)){return;}if(ab>ob.maxFactor){ab=ob.maxFactor;}else if(ab<ob.minFactor){ab=ob.minFactor;}if(!ob.atMax|| !ob.atMin){adC.apply(this,arguments);}};function adC(ab,aEU,am,dv,Ec,qB,eQ,eO){if(isNaN(ab)||ab<=0||Math.abs(ab)===Infinity){return;}var Sb=cu;var dR=js();var uC=(ab<ca)?true:false;var gW=0;var hC=bL.length-1;if(ci===IPCC.ViewMode.SinglePage){if(cu-vy>=0){gW=cu-vy;}if(cu+vy<bL.length-1){hC=cu+vy;}}var RU=ab/ca;ca=ab;var DR=bh.getBoundingClientRect();var afe=(qB&&qB.x!==undefined)?qB.x:bh.scrollLeft+(DR.width/2);var agd=(qB&&qB.y!==undefined)?qB.y:bh.scrollTop+(DR.height/2);var aDJ=qB&&qB.x!==undefined&&qB.y!==undefined;fU=0;hD=0;for(var bC=gW;bC<=hC;bC++){var aN;var bI=document.getElementById(bL[bC].bJ);if(bI){aN=bI.bD;}else{continue;}if(bC===Sb){var Rf=bI.getBoundingClientRect();if(!aDJ){if(fa===IPCC.PageLayout.HorizontalScrollDirection&&DR.height>Rf.height){agd-=((DR.height-Rf.height)/2);}else if(fa===IPCC.PageLayout.VerticalScrollDirection&&DR.width>Rf.width){afe-=((DR.width-Rf.width)/2);}}}var gw=ab*bW/bL[bC].hu;var bi=hd;var aq=jp;var ey=hd;var dU=jp;if(jo(qR)===true){ey=jp;dU=hd;}if(bL[bC].kK()>0){if(jo(bL[bC].gE)===true){bi=bL[bC].qm();aq=bL[bC].kK();}else{bi=bL[bC].kK();aq=bL[bC].qm();}}else{gw=ab*bW/bL[0].hu;if(jo(bL[bC].gE)===true){var Ko=bi;bi=aq;aq=Ko;gw=ab*bW/bL[0].hf;}}var FG,Gp,gs;if(ci===IPCC.ViewMode.SinglePage){Gp=bi*gw;FG=aq*gw;bI.style.width=Gp+'px';bI.style.height=FG+'px';if(bC===cu){aj.style.width=Gp+'px';aj.style.height=FG+'px';}if(aN&&bL[bC].gD===true&&aN.eE()===true){aN.zoom(gw);}}else if(ci===IPCC.ViewMode.Document){Gp=bi*gw;FG=aq*gw;bI.style.width=Gp+'px';bI.style.height=FG+'px';if(aN&&bL[bC].gD===true&&aN.eE()===true){aN.zoom(gw);}if(bi*gw>fU){fU=bi*gw;}if(aq*gw>hD){hD=aq*gw;}}else{gw=ab*bW/bL[0].hu;if(fa===IPCC.PageLayout.VerticalScrollDirection){gs=ey/bi*gw;bI.style.width=ey*gw+'px';bI.style.height=aq*gs+'px';if(ey*gw>fU){fU=ey*gw;}if(aq*gw>hD){hD=aq*gw;}}else{gs=dU/aq*gw;bI.style.height=dU*gw+'px';bI.style.width=bi*gs+'px';if(bi*gw>fU){fU=bi*gw;}if(dU*gw>hD){hD=dU*gw;}}if(aN&&bL[bC].gD===true&&aN.eE()===true){aN.zoom(gs);}}if(aN&&bL[bC].gD===true&&aN.eE()===true){aN.display();if(IPCC.V.vY.zv){var aAv=bh.style.display;bh.style.display='none';bh.style.display=aAv;avQ();}}}if(fa===IPCC.PageLayout.VerticalScrollDirection){KL=bh.scrollTop;}else{KL=bh.scrollLeft;}var My,Rj,MQ=0,MZ=0;if(Ec){My=Ec.offsetLeft+RU*am;Rj=Ec.offsetTop+RU*dv;bh.scrollLeft=My-(bh.clientWidth/2)+MQ;bh.scrollTop=Rj-(bh.clientHeight/2)+MZ;axN(dR);}else{if(fa===IPCC.PageLayout.VerticalScrollDirection){MZ=ee*(Sb+1);}else{MQ=gK+((gb+gK)*(Sb+1));}My=RU*(afe-MQ);Rj=RU*(agd-MZ);aeh(dR);bh.scrollLeft=My-(bh.clientWidth/2)+MQ;bh.scrollTop=Rj-(bh.clientHeight/2)+MZ;}if(ci!==IPCC.ViewMode.SinglePage&&(eQ===IPCC.ScaleTrigger.Pinch||uC===true)){nH();}kh(cc,true);T.bU('scaleChanged',{scaleType:(uC)?"scaledDown":"scaledUp",scaleTrigger:eQ,fitType:eO,scaleFactor:ca});};function avQ(){var dummy=document.createElement('div');setTimeout(function(){bh.appendChild(dummy);bh.removeChild(dummy);},0);};function aaW(bP,fF,fm,ea){var hB=bP.igElements;ea=ea||Uk(bP);if(ea&&(ea.right-ea.left)>0&&(ea.bottom-ea.top)>0){return new IPCC.Web.UI.Point(fF+ea.left+hB.oi.scrollLeft,fm+ea.top+hB.oi.scrollTop);}else{return;}};function Uk(bP){var hB=bP.igElements;var ea=null;if(!bP|| !hB|| !hB.mj){return null;}if(hB.mj.getBoundingClientRect){try{ea=hB.mj.getBoundingClientRect();}catch(bx){return;}}else{var ej=hB.mj;var tq=document.documentElement;ea={left:tq.clientLeft-tq.scrollLeft,top:tq.clientTop-tq.scrollTop};ej=ej.offsetParent;while(ej){ea.top+=ej.offsetTop-ej.scrollTop;ea.left+=ej.offsetLeft-ej.scrollLeft;ej=ej.offsetParent;}}return ea;};function ahk(){var di=T.nq();var KP=di.id;var yF;var xF;var lO;var Xa;var Xr;var an=false;var bP;var oC=[];var vV= -1;var ga=0;var oG;var FC;var Av;var kL=0;var cP=0;var st=null;var vW=null;if(aj===''){bh=hy({width:'100%',height:'100%',position:'relative',margin:'0px',overflow:'auto',textAlign:'center'});bh.className='pccPageListContainerWrapper';bh.tabIndex=2;var YG=function(fF,fm){return IPCC.V.getPageFromPoint(fF,fm,bh)||false;};var abQ=function(bP,fF,fm){var hB=bP.igElements;var ea=Uk(bP);if(ea&&(ea.right-ea.left)>0&&(ea.bottom-ea.top)>0){return new IPCC.Web.UI.Point(fF-ea.left-hB.oi.scrollLeft,fm-ea.top-hB.oi.scrollTop);}else{return;}};var aqU=function(pr){pr.Jn([new IPCC.le(IPCC.Web.UI.MarkType.Text)]);};var aqx=function(pr){pr.set_mouseTool(IPCC.Web.UI.MouseTool.None);};var Lc=false,aDB="";var akU=function aGm(bx,iS,aK){if(iS.match(/edit/)){Lc=true;return;}aqU(aK.bD);Lc=true;aDB=iS;aK.bD.Fy("touchstart",bx);};var alz=function(aK){Lc=false;aqx(aK.bD);};var Zp=function(bx){if(bx.target&&bx.target.attributes&&bx.target.getAttribute('data-pcc-mark')){return bx.target;}else if(bx.target.parentElement&&bx.target.parentElement.attributes&&bx.target.parentElement.getAttribute('data-pcc-mark')){return bx.target.parentElement;}else if(bx.target.parentNode&&bx.target.parentNode.attributes&&bx.target.parentNode.getAttribute('data-pcc-mark')){return bx.target.parentNode;}else{return undefined;}};var Zh=function(bx){var dO=Zp(bx);if(dO){return dO.getAttribute('data-pcc-mark');}return undefined;};var aeJ=function(pr){if(pr&&pr.fM()){pr.fM().Bj(function(R){R.set_selected(false);});pr.display();}};var Nj,abl=false;var Ou=function(bx,K){var mw={ds:undefined,R:undefined,aU:null};var jI=Zp(bx);if(jI){if(typeof bP!=='undefined'&&bP!==false&&bP.bD&&bP.igElements&&bP.bD.eE()===true){mw.aU=bP.bD.nS();}if(jI.ImGearMarkRelation){mw.ds='mark';mw.R=jI.ImGearMarkRelation.R;mw.XA=mw.R.get_selected();return mw;}else{while(!(jI.ImGearMarkRelation)&&jI.parentNode&&jI!==document.body){jI=jI.parentNode;if(jI.ImGearMarkRelation){mw.ds='mark';mw.R=jI.ImGearMarkRelation.R;mw.XA=mw.R.get_selected();return mw;}}}}if(typeof bP!=='undefined'&&bP!==false&&bP.bD&&bP.igElements&&bP.bD.eE()===true){mw.aU=bP.bD.nS();var aU=0;for(aU=0;aU<bL.length;aU++){if(bL[aU].bJ===bP.id){if(typeof K.targetType==='undefined'||K.targetType===null){mw.ds='page';return mw;}break;}}}return mw;};var ML=function(aU,rQ,kX,aDM){if(aZ===null||aZ===undefined){return;}var Xh=false;if(rQ===undefined){rQ=aZ.rQ;Xh=true;}if(kX===undefined){kX=aZ.kX;Xh=true;}var R;var aK=document.getElementById(bL[aU].bJ);if(aDM===true){R=aZ.xC;}else{R=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);R.set_rectangle({x:0,y:0,width:0,height:0});R.cz=127;R.dP='#3366CC';R.aI=null;aK.bD.lJ().addMark(R);}R.set_selected(true);if(Xh===true){if(aZ.gW===aZ.hC){R.ak=ga;R.ck=kX-ga+1;R.kZ=true;R.lj=true;aK.bD.display();}else if(aU===aZ.gW){R.ak=ga;R.ck=aK.bD.dp().hn().fC()-1-rQ;R.kZ=true;R.lj=false;aK.bD.display();}else if(aU===aZ.hC){R.ak=0;R.ck=kX+1;R.kZ=false;R.lj=true;aK.bD.display();}else{R.ak=0;R.ck=aK.bD.dp().hn().fC()-1-ga;R.kZ=false;R.lj=false;}}else{if(aZ.gW===aZ.hC){R.kZ=true;R.lj=true;}else if(aU===aZ.gW){R.kZ=true;R.lj=false;}else if(aU===aZ.hC){R.kZ=false;R.lj=true;}else{R.kZ=false;R.lj=false;}}aZ.ff[aU]=R;};var aiW=function(dO,am,dv,Lg){if(dO){var OZ=dO.getBoundingClientRect();am=IPCC.V.Os(am,OZ.left+Lg);am=IPCC.V.LX(am,OZ.right-Lg);dv=IPCC.V.Os(dv,OZ.top+Lg);dv=IPCC.V.LX(dv,OZ.bottom-Lg);}return{x:am,y:dv};};var kw=function(bx){if(Av){if(Av.clientX===bx.clientX&&Av.clientY===bx.clientY){if(bx.rawEvent.preventDefault){bx.rawEvent.preventDefault();}else if(bx.preventDefault){bx.preventDefault();}if(bx.rawEvent.stopPropagation){bx.rawEvent.stopPropagation();}else if(bx.stopPropagation){bx.stopPropagation();}abl=true;Av=undefined;return false;}}Nj=bx;acV(bx,bx.clientX,bx.clientY,bx.button);};var aaY=function(bx,K){lO=Ou(bx,K);};var acV=function(bx,fF,fm,nU){var K=new IPCC.Web.UI.MouseEventArgs();bP=YG(fF,fm);aaY(bx,K);var iS;var jI=Zp(bx);if(jI){iS=jI.getAttribute('data-pcc-mark');}var Tu=false;var JK=iS&&iS.substring(0,10);if(iS&&JK==='texthandle'){FC=true;Tu=true;JK=iS.substring(10,13);var R=jI.parentNode.ImGearMarkRelation.R;if(aZ&&R.aI===null){oC=aZ.qt.slice();oC[K.pageIndex]=undefined;}else{aZ=null;oC=[];T.uy();}var akL=function(aGu){ga=aZ.rQ;var C;for(C=aZ.hC;C>=aZ.gW;C--){var aK=document.getElementById(bL[C].bJ);if(aK.bD===undefined||aK.bD===null){continue;}var zN=ga;if(C!==aZ.gW){zN=0;}var qS;if(C===aZ.hC){qS=aZ.kX;}else{qS=aK.bD.get_textPage().hn().fC()-1;}aGu(aK,zN,qS);if(C!==aZ.qG){ML(C);}}st=az;az=IPCC.Web.UI.MouseTool.SelectText;an=true;};var C,aU,aG,LB,ed,sN,cf;if(JK==='sta'){if(aZ===null||aZ===undefined){aU=R.aU;aZ={};aZ.ff=[];aZ.gW=aU;aZ.rQ=R.ak;ga=R.ak;while(aU<bL.length){aG=bL[aU].aG;LB=aG.get_markCount();for(C=0;C<LB;C++){ed=aG.getMark(C);if(R.bn===ed.bn&&ed.get_type()===R.get_type()){aZ.ff[aU]=ed;for(sN=ed.aI.length-1;sN>=0;sN--){if(ed.aI[sN].set_visible){ed.aI[sN].set_visible(false);}else{ed.set_visible(false);break;}}if(aU===R.aU){vW=ed;}else{oC[aU]=cf.substring(ed.ak,ed.ck);ed.set_selected(false);}cf=ed.cf.substring(ed.ck);if(ed.lj===true){aZ.kX=ed.ak+ed.ck-1;aZ.hC=aU;break;}}}aU++;}}oG=aZ.kX+1;kL=aZ.hC;var aqo=function(aK,zN,qS){aK.bD.showEmptyTextSelection(qS+1);aK.bD.extendTextSelection(undefined);aK.bD.extendTextSelection(qS);aK.bD.extendTextSelection(zN);};aZ.ff[aZ.gW].xf=true;aZ.qG=aZ.gW;aZ.xC=aZ.ff[aZ.gW];akL(aqo);}else if(JK==='end'){if(aZ===null||aZ===undefined){aU=R.aU;aZ={};aZ.ff=[];aZ.hC=aU;aZ.kX=R.ak+R.ck-1;while(aU>=0){aG=bL[aU].aG;LB=aG.get_markCount();for(C=0;C<LB;C++){ed=aG.getMark(C);if(R.bn===ed.bn&&ed.get_type()===R.get_type()){aZ.ff[aU]=ed;for(sN=ed.aI.length-1;sN>=0;sN--){if(ed.aI[sN].set_visible){ed.aI[sN].set_visible(false);}else{ed.set_visible(false);break;}}if(aU===R.aU){cf=ed.cf;}else{oC[aU]=cf.substring(cf.length-ed.ck);ed.set_selected(false);}cf=ed.cf.substring(0,cf.length-ed.ck);if(ed.kZ===true){aZ.rQ=ed.ak;ga=ed.ak;aZ.gW=aU;vW=ed;break;}}}aU--;}}oG=aZ.rQ;kL=aZ.gW;var aro=function(aK,zN,qS){aK.bD.showEmptyTextSelection(zN);aK.bD.extendTextSelection(undefined);aK.bD.extendTextSelection(zN);aK.bD.extendTextSelection(qS);};aZ.ff[aZ.hC].xf=true;aZ.qG=aZ.hC;aZ.xC=aZ.ff[aZ.hC];akL(aro);}if(vW){bP.bD.display();}}var zt=bx.target.tagName&&bx.target.tagName.toLowerCase()==='textarea';if(zt){return;}var AE=bx.target.tagName&&bx.target.tagName.toLowerCase()==='input'&&bx.target.type&&bx.target.type.toLowerCase()==='text';if(AE){return;}if(az===IPCC.Web.UI.MouseTool.HandPan&&xI&&iS&&Tu===false){if(!lO||lO.R.get_interactionMode()!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){akU(bx,iS,bP);return;}}var dz;var fd;if(bP!==false&&bP.bD&&bP.igElements&&bP.bD.eE()===true){var bv=0;for(bv=0;bv<bL.length;bv++){if(bL[bv].bJ===bP.id){K.pageIndex=bv;break;}}K.pointLiesWithinImage=true;fd=abQ(bP,fF,fm);if(fd){dz=bP.bD.OT(fd,false);K.imagePoint=dz;K.constrainedImagePoint=dz;}else{K.pointLiesWithinImage=false;}}else{K.pointLiesWithinImage=false;}K.domEvent=bx;K.windowPoint=new IPCC.Web.UI.Point(fF,fm);if(Tu===true){vV= -1;cP=K.pageIndex;bx.preventDefault();T.bU('mouseDown',K);return;}switch(az){case IPCC.Web.UI.MouseTool.None:bx.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:bx.preventDefault();yF=fm;xF=fF;Xa=bh.scrollTop;Xr=bh.scrollLeft;an=true;T.Ad(aj,'grabbing');if(bP&&bP.bD){T.Ad(bP,'grabbing');bP.bD.set_cursor('grabbing');bP.bD.display();}break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:bx.preventDefault();if(nU===0&&bP&&bP.bD&&dz){T.uy();oC=[];vV= -1;FC=undefined;var dg=bP.bD.transformPagePointToTextIndex(dz);ga=dg;oG=dg;an=true;if(dg===undefined){T.bU('mouseDown',K);return;}bP.bD.showEmptyTextSelection(dg);bP.bD.extendTextSelection(undefined);bP.bD.extendTextSelection(dg);bP.bD.display();kL=K.pageIndex;cP=K.pageIndex;}break;case IPCC.Web.UI.MouseTool.Magnifier:bx.preventDefault();if(nU===0&&bP&&bP.bD&&fd){var kA=IPCC.bB.eZ(IPCC.bB.None);aj.style.cursor=kA;bP.bD.showMagnifier(fd);bP.bD.display();}an=true;break;case IPCC.Web.UI.MouseTool.RectangleZoom:bx.preventDefault();if(nU===0&&bP&&bP.bD&&dz){an=true;yF=fd.y;xF=fd.x;bP.bD.showEmptySelection(dz);bP.bD.display();}break;}T.bU('mouseDown',K);};var jZ=function(bx){abF(bx,bx.clientX,bx.clientY,bx.button);};var acp=function(K,fF,fm,cZ){K.windowPoint=new IPCC.Web.UI.Point(fF,fm);cZ=YG(fF,fm);var dz,fd;if(cZ!==false&&cZ.bD&&cZ.igElements&&cZ.bD.eE()===true){K.pointLiesWithinImage=true;fd=abQ(cZ,fF,fm);if(fd){dz=cZ.bD.OT(fd,false);K.imagePoint=dz;K.constrainedImagePoint=dz;}else{K.pointLiesWithinImage=false;}}else{K.pointLiesWithinImage=false;}return{K:K,fF:fF,fm:fm,cZ:cZ,dz:dz,fd:fd};};var abF=function(bx,fF,fm,nU){var zt=bx.target.tagName&&bx.target.tagName.toLowerCase()==='textarea';if(zt){return;}var AE=bx.target.tagName&&bx.target.tagName.toLowerCase()==='input'&&bx.target.type&&bx.target.type.toLowerCase()==='text';if(AE){return;}var K=new IPCC.Web.UI.MouseEventArgs();var dz,fd,cZ;var JF=function(fF,fm){var oK=acp(K,fF,fm,cZ);K=oK.K;K.domEvent=bx;fF=oK.fF;fm=oK.fm;cZ=oK.cZ;dz=oK.dz;fd=oK.fd;};JF(fF,fm);var jI=Ou(bx,K);if(jI&&jI.R){K.mark=jI.R;}var kA;switch(az){case IPCC.Web.UI.MouseTool.None:bx.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:bx.preventDefault();if(an){var ark=fm;var aqW=fF;var aBp=yF-ark;var aBL=xF-aqW;bh.scrollTop=Xa+aBp;bh.scrollLeft=Xr+aBL;}break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:bx.preventDefault();if(an){if(nU!==0){EK();}var he;if(!cZ){T.bU('mouseMove',K);return;}if(ga===undefined){bP=cZ;}else if(cZ!==bP&&cZ.bD&&fd){vV= -1;var iR=0;var C=0;for(C=0;C<bL.length;C++){if(bL[C].bJ===cZ.id){iR=C;break;}}if(iR>cP){if(iR>kL){he=bP.bD.get_textPage().hn().fC()-1;if(he<0){EK();T.bU('mouseMove',K);return;}bP.bD.extendTextSelection(he);if(aZ){he=bP.bD.get_textPage().hn().fC()-1;aZ.ff[cP].set_startIndex(bP.bD.Qg());aZ.ff[cP].set_textLength(bP.bD.Bq());aZ.hC=iR;ga=bP.bD.Qg();}oC[cP]=bP.bD.getSelectedText();cZ.bD.showEmptyTextSelection(0);cZ.bD.extendTextSelection(undefined);vV=0;bP.bD.display();bP=cZ;}else{ga=0;oC[cP]=undefined;oC[iR]=undefined;bP.bD.showEmptyTextSelection(0);bP.bD.extendTextSelection(undefined);if(aZ&&aZ.ff[cP]){aZ.ff[cP].kZ=false;}bP.bD.display();bP=cZ;if(aZ&&aZ.ff[cP]){aZ.ff[cP]=undefined;aZ.gW=iR;aZ.ff[iR].set_startIndex(0);aZ.ff[iR].set_textLength(aZ.ff[iR].get_startIndex()+aZ.ff[iR].get_textLength());aZ.ff[iR].kZ=true;bP.bD.display();}}}else if(iR<cP){if(iR<kL){he=bP.bD.get_currentTextIndex();if(he!==0){bP.bD.extendTextSelection(0);}if(aZ){aZ.ff[cP].set_startIndex(bP.bD.Qg());aZ.ff[cP].set_textLength(bP.bD.Bq());aZ.gW=iR;}oC[cP]=bP.bD.getSelectedText();bP.bD.display();he=cZ.bD.dp().hn().fC()-1;vV=he;ga=0;cZ.bD.showEmptyTextSelection(he+1);cZ.bD.extendTextSelection(undefined);bP=cZ;bP.bD.display();}else{oC[cP]=undefined;oC[iR]=undefined;bP.bD.showEmptyTextSelection(0);bP.bD.extendTextSelection(undefined);if(aZ&&aZ.ff[cP]){aZ.ff[cP].lj=false;}bP.bD.display();bP=cZ;if(aZ&&aZ.ff[cP]){aZ.ff[cP]=undefined;aZ.hC=iR;he=bP.bD.dp().hn().fC()-1;aZ.ff[iR].set_textLength(cZ.bD.Bq());aZ.ff[iR].lj=true;bP.bD.display();}}}cP=iR;}var ati=(cP<kL),asr=(cP>kL);if(bP&&bP.bD&&bP.bD.eE()===true&&fd){fd=abQ(bP,fF,fm);dz=bP.bD.OT(fd,false);var dg=bP.bD.transformPagePointToTextIndex(dz);if(ga===undefined){ga=dg;oG=dg;if(dg===undefined){T.bU('mouseMove',K);return;}bP.bD.showEmptyTextSelection(dg);bP.bD.extendTextSelection(undefined);bP.bD.extendTextSelection(dg);bP.bD.display();var aR=0;for(aR=0;aR<bL.length;aR++){if(bL[aR].bJ===bP.id){kL=aR;cP=aR;break;}}}else{if(ga=== +ga&&dg=== +dg){if(ati){ga=dg;}else if(!asr){ga=Math.min(oG,dg);}}}he=bP.bD.get_currentTextIndex();if(he===dg||dg===undefined){T.bU('mouseMove',K);return;}if(vV!== -1){if(dg!==vV){bP.bD.extendTextSelection(vV);}vV= -1;}if((dg>oG&&cP===kL)||cP>kL){if(aZ){if(aZ.ff[cP]===undefined||aZ.ff[cP]===null){ML(cP,0,0,cP===aZ.qG);if(cP-1>=0&&aZ.ff[cP-1]){aZ.ff[cP-1].lj=false;document.getElementById(bL[cP-1].bJ).bD.display();}}aZ.ff[cP].lj=true;}if(FC===undefined){FC=false;}}else if(dg<oG||cP<kL){if(aZ){if(aZ.ff[cP]===undefined||aZ.ff[cP]===null){ML(cP,bP.bD.dp().hn().fC()-1,0,cP===aZ.qG);if(aZ.ff[cP+1]){aZ.ff[cP+1].kZ=false;document.getElementById(bL[cP+1].bJ).bD.display();}}aZ.ff[cP].kZ=true;}if(FC===undefined){FC=true;oG++;bP.bD.showEmptyTextSelection(oG);bP.bD.extendTextSelection(undefined);var qS=bP.bD.dp().hn().fC();if(oG>=qS){bP.bD.extendTextSelection(qS-1);}else{bP.bD.extendTextSelection(oG);}}}bP.bD.extendTextSelection(dg);if(aZ&&aZ.ff[cP]){aZ.ff[cP].set_startIndex(bP.bD.Qg());aZ.ff[cP].set_textLength(bP.bD.Bq());}bP.bD.display();}}break;case IPCC.Web.UI.MouseTool.Magnifier:bx.preventDefault();if(an){if(nU!==0||(bP&&bP.bD&&bP!==cZ)){bP.bD.hideMagnifier();kA=IPCC.bB.eZ(IPCC.bB.Magnifier);aj.style.cursor=kA;bP.bD.display();}if(cZ&&cZ.bD&&fd){bP=cZ;kA=IPCC.bB.eZ(IPCC.bB.None);aj.style.cursor=kA;cZ.bD.showMagnifier(fd);cZ.bD.display();}}break;case IPCC.Web.UI.MouseTool.RectangleZoom:bx.preventDefault();if(an){var Ht=aiW(bP,fF,fm,1);JF(Ht.x,Ht.y);if(cZ&&cZ.bD&&dz&&cZ===bP){if(nU!==0){cZ.bD.hideSelection();cZ.bD.display();an=false;}else{cZ.bD.extendSelection(dz);cZ.bD.display();}}}break;}T.bU('mouseMove',K);};var kC=function(bx){if(abl!==true){ZT(bx,bx.clientX,bx.clientY);}else{abl=false;}};var ahe=function(bx,K){K.upTargetType=null;var Ez=Ou(bx,K);K.originalEvent=bx.rawEvent;K.clientX=bx.clientX;K.clientY=bx.clientY;K.downTarget={type:undefined,pageIndex:undefined};if(typeof lO!=='undefined'&&typeof lO.ds!=='undefined'){K.downTarget.type=lO.ds;}if(typeof lO!=='undefined'&&typeof lO.aU!=='undefined'){K.downTarget.pageIndex=lO.aU;}if(typeof lO!=='undefined'&&typeof lO.XA!=='undefined'){K.downTarget.alreadySelected=lO.XA;}K.downMark=(typeof lO!=='undefined')?lO.R:undefined;K.upMark=Ez.R;switch(Ez.ds){case 'page':case 'mark':K.upTarget={type:Ez.ds,pageIndex:Ez.aU};break;}if(K.pointLiesWithinImage===false&&Ez.ds==='page'){Ez.aU= -1;}};var ZT=function(bx,fF,fm){var K=new IPCC.Web.UI.MouseEventArgs();var cZ;var dz;var fd;var JF=function(fF,fm){var oK=acp(K,fF,fm,cZ);K=oK.K;K.domEvent=bx;fF=oK.fF;fm=oK.fm;cZ=oK.cZ;dz=oK.dz;fd=oK.fd;};JF(fF,fm);if(bx){ahe(bx,K);T.bU('mouseUp',K);}lO=undefined;var kA;switch(az){case IPCC.Web.UI.MouseTool.None:bx.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:bx.preventDefault();if(an){xF=undefined;yF=undefined;Xa=undefined;Xr=undefined;an=false;kA='move';T.Ad(aj,'grab');if(bP&&bP.bD){T.Ad(bP,'grab');bP.bD.set_cursor('grab');bP.bD.display();}}break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:if(bx){bx.preventDefault();}if(an){var ra=new IPCC.Web.UI.TextSelectedEventArgs(),ji=[],C,xZ,AU;var kX;var GT=bP.bD.getSelectedText();var qt=oC.slice();if(GT.length>0){qt[cP]=bP.bD.getSelectedText();}else{if(cP>kL){cP--;bP=document.getElementById(bL[cP].bJ);if(qt[cP]){GT=qt[cP];}}else if(cP<kL){cP++;bP=document.getElementById(bL[cP].bJ);if(qt[cP]){GT=qt[cP];}}}ra.text=qt.join('');var Ug=true;if(cP>=kL){if(cP===kL){if(bP.bD.get_currentTextIndex()>=oG){Ug=false;}kX=ga+GT.length-1;}else{kX=GT.length-1;}if(kX<0){kX=0;}xZ=kL;AU=cP;}else{Ug=false;kX=oG-1;xZ=cP;AU=kL;}for(C=xZ;C<=AU;C++){ji.push(C);}if(ra.text.length===0){EK();ji=[];}ra.pageNumbers=ji;ra.clientX=fF;ra.clientY=fm;if(ga!==undefined){if(az===IPCC.Web.UI.MouseTool.SelectText){var aDf=function(aK,zM){var Ki=aK.bD.dp();var gY=Ki.hn();var dX=gY.jO(zM);return dX.vR();};var he=bP.bD.get_currentTextIndex();var PY=aDf(bP,he);var eU=0,ec=0;if(Ug===false){eU=PY.width;ec=PY.height;}var Fn=bP.bD.transformPagePointToWindow(new IPCC.Web.UI.Point(PY.x+eU,PY.y+ec),true);var ce=aaW(bP,Fn.x,Fn.y);ra.handleClientX=ce.x;ra.handleClientY=ce.y;}var awP=aZ===undefined||aZ===null;if(vW){ra.previousFirstMark=vW;ra.firstMark=aZ.ff[xZ];if(aZ.qG<xZ||aZ.qG>AU){var EW=document.getElementById(bL[aZ.qG].bJ);if(EW.bD){EW.bD.lJ().removeMark(aZ.xC);}}aZ.xC.xf=false;T.uy();if(st!==null){az=st;}st=null;}else if(awP===true){if(az===IPCC.Web.UI.MouseTool.SelectText){aZ={gW:xZ,rQ:ga,hC:AU,kX:kX,qt:qt.slice(),ff:[]};for(C=0;C<ji.length;C++){ML(ji[C]);}}else{T.uy();}}else{if(aZ.qG<xZ||aZ.qG>AU){var adZ=document.getElementById(bL[aZ.qG].bJ);if(adZ.bD){adZ.bD.lJ().removeMark(aZ.xC);}}aZ.xC.xf=false;aZ.gW=xZ;aZ.rQ=ga;aZ.hC=AU;aZ.kX=kX;aZ.qt=qt.slice();if(st!==null){az=st;}st=null;}ra.mouseTool=az;ra.startIndex=ga;T.bU('selectTextMouseToolCompleted',ra);if(vW){vW=null;aZ=null;}}an=false;}break;case IPCC.Web.UI.MouseTool.Magnifier:bx.preventDefault();if(cZ&&cZ.bD){cZ.bD.hideMagnifier();kA=IPCC.bB.eZ(IPCC.bB.Magnifier);aj.style.cursor=kA;cZ.bD.display();}an=false;break;case IPCC.Web.UI.MouseTool.RectangleZoom:bx.preventDefault();var Ht=aiW(bP,fF,fm,1);JF(Ht.x,Ht.y);if(an&&fd){var BH=0;var DF=0;var Sq=0;var TA=0;if(fd.x<xF){BH=xF-fd.x;Sq=fd.x+BH/2;}else{BH=fd.x-xF;Sq=xF+BH/2;}if(fd.y<yF){DF=yF-fd.y;TA=fd.y+DF/2;}else{DF=fd.y-yF;TA=yF+DF/2;}var acg=bh.clientWidth/BH;var adx=bh.clientHeight/DF;var rh=acg;if(acg>adx){rh=adx;}if(cZ&&cZ.bD){cZ.bD.pb();cZ.bD.display();}an=false;if(BH*2+DF*2>25){T.anX(rh,Sq,TA,cZ);}}break;}var zt=false;var AE=false;if(bx){zt=bx.target.tagName&&bx.target.tagName.toLowerCase()==='textarea';AE=bx.target.tagName&&bx.target.tagName.toLowerCase()==='input'&&bx.target.type&&bx.target.type.toLowerCase()==='text';}if(Lc&& !zt&& !AE){alz(bP);}else if(az===IPCC.Web.UI.MouseTool.HandPan&&Nj&& !zt&& !AE&&bx&&Nj.clientX===bx.clientX&&Nj.clientY===bx.clientY&&bx.shiftKey!==true&&bx.ctrlKey!==true){aeJ(bP.bD);}};var aCo=function(){var kA;switch(az){case IPCC.Web.UI.MouseTool.None:break;case IPCC.Web.UI.MouseTool.HandPan:T.Ad(aj,'grab');an=false;break;case IPCC.Web.UI.MouseTool.SelectText:EK();break;case IPCC.Web.UI.MouseTool.Magnifier:if(bP&&bP.bD){bP.bD.hideMagnifier();kA=IPCC.bB.eZ(IPCC.bB.Magnifier);aj.style.cursor=kA;bP.bD.display();}an=false;break;case IPCC.Web.UI.MouseTool.RectangleZoom:if(bP&&bP.bD){bP.bD.hideSelection();bP.bD.display();an=false;}break;}};var azV=function(){aCo();};var aAg=function(){if(az===IPCC.Web.UI.MouseTool.Magnifier){if(bP&&bP.bD){bP.bD.hideMagnifier();var kA=IPCC.bB.eZ(IPCC.bB.Magnifier);aj.style.cursor=kA;bP.bD.display();}an=false;}else if(az===IPCC.Web.UI.MouseTool.RectangleZoom){if(bP&&bP.bD){bP.bD.hideSelection();bP.bD.display();an=false;}}else if(az===IPCC.Web.UI.MouseTool.SelectText){EK();}};var mo=function(bx){if(bx.ctrlKey){switch(az){case IPCC.Web.UI.MouseTool.None:break;case IPCC.Web.UI.MouseTool.SelectText:break;default:break;case IPCC.Web.UI.MouseTool.HandPan:var Oy=bx.rawEvent.wheelDelta;bx.preventDefault();if(Oy<0){T.zoomOut(1.5);}else{T.zoomIn(1.5);}break;}}else{bx.preventDefault();bh.scrollTop-=bx.rawEvent.wheelDelta*0.72;}if(az===IPCC.Web.UI.MouseTool.Magnifier){if(bP&&bP.bD){bP.bD.hideMagnifier();var kA=IPCC.bB.eZ(IPCC.bB.Magnifier);aj.style.cursor=kA;bP.bD.display();}an=false;}else if(az===IPCC.Web.UI.MouseTool.RectangleZoom){if(bP&&bP.bD){bP.bD.hideSelection();bP.bD.display();an=false;}}else if(az===IPCC.Web.UI.MouseTool.SelectText){EK();}};var aDu=function(aa){var K=new IPCC.Web.UI.MouseEventArgs();K.upTarget={type:'comments',element:aa.target};K.downTarget={type:'comments',element:aa.target};K.originalEvent=aa.rawEvent;K.clientX=aa.clientX;K.clientY=aa.clientY;K.pageIndex=undefined;T.bU('mouseUp',K);};var EK=function(){if(an===true){if(aZ&&aZ.qG!==undefined){if(vW){ZT(null,0,0);return;}else{var EW=document.getElementById(bL[aZ.qG].bJ);if(EW.bD){EW.bD.lJ().removeMark(aZ.xC);}aZ.xC.xf=false;}}T.uy();vW=null;an=false;if(st!==null){az=st;}st=null;}};EG=hy({position:'relative',width:'auto',height:'auto',display:'table',tableLayout:'fixed',borderSpacing:'0px',margin:'0px auto',clear:'both',boxSizing:'border-box'});if(ci===IPCC.ViewMode.SinglePage){aj=hy({position:'relative',whiteSpace:'nowrap',width:'auto',height:'auto',overflow:'hidden'});aj.className='pccPageListContainer pccSinglePageView';}else{aj=hy({position:'relative',whiteSpace:'nowrap',width:'auto',height:'auto',display:'table-cell',verticalAlign:'top'});aj.className='pccPageListContainer';}IPCC.Web.UI.bS.addHandler(bh,"mousedown",kw);IPCC.Web.UI.bS.addHandler(bh,"mouseup",kC);IPCC.Web.UI.bS.addHandler(bh,"mousemove",jZ);IPCC.Web.UI.bS.addHandler(bh,"mouseleave",azV);IPCC.Web.UI.bS.addHandler(bh,"mousewheel",mo);IPCC.Web.UI.bS.addHandler(bh,"DOMMouseScroll",aAg);bh.onscroll=(! !Ia)?avU:awm;aj.setAttribute('id',KP+'_ListContainer');bh.setAttribute('id',KP+'_ListWrapper');aoQ=KP+'_ListWrapper';lb=hy();lb.className='pccPageListComments pccHidden';lb.setAttribute('id',KP+'_CommentsPanel');var Wh=[];if(IPCC.V.aGx){Wh.push('touchend');}else{Wh.push('click');}IPCC.V.forEach(Wh,function(evName){IPCC.Web.UI.bS.addHandler(lb,evName,aDu);});EG.appendChild(aj);EG.appendChild(lb);bh.appendChild(EG);di.appendChild(bh);if(navigator.userAgent.match('MSIE 10')&&document.documentMode===10){var be='',ba='',sg='',tf='',po;var ws=function(){po=getComputedStyle(di);sg=po.getPropertyValue('width');tf=po.getPropertyValue('height');if(sg!==be||tf!==ba){be=sg;ba=tf;bh.style.width=be;bh.style.height=ba;}};setInterval(ws,1000);window.addEventListener('resize',ws);ws();T.ws=ws;}var aCm=IPCC.V.HL;if(document.documentElement.getBoundingClientRect&&Array.prototype.forEach&&aCm&&window.addEventListener&&document.querySelector){atG(bh);}var aBe=function(aj,aGP){var kF;var Yl=function(aa){var cE=aa.rawEvent,gU=cE.touches[0]||cE.changedTouches[0];aa.clientX=gU.clientX;aa.clientY=gU.clientY;aa.preventDefault=function(){cE.preventDefault();};aa.stopPropagation=function(){cE.stopPropagation();};return aa;};var FL=function(hY,aa){var K=new IPCC.Web.UI.MouseEventArgs(),FY=(hY==='touchstart')?'mouseDown':(hY==='touchend')?'mouseUp':null;var EH=(hY==='touchstart')?acV:(hY==='touchmove')?abF:(hY==='touchend')?ZT:null;kF=YG(aa.clientX,aa.clientY);if(hY==='doubleTap'){kF&&kF.bD&&kF.bD.Fy(hY,aa);}var iS;iS=Zh(aa);if(iS){if(iS.substring(0,5)==='texth'){aa.preventDefault();aa.stopPropagation();if(hY==='touchstart'){Av=aa;}EH&&EH(aa,aa.clientX,aa.clientY,0);return;}}switch(az){case IPCC.Web.UI.MouseTool.CreateLineMark:case IPCC.Web.UI.MouseTool.CreatePolylineMark:case IPCC.Web.UI.MouseTool.CreateRectangleMark:case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:case IPCC.Web.UI.MouseTool.CreateEllipseMark:case IPCC.Web.UI.MouseTool.CreateTextMark:case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:case IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark:case IPCC.Web.UI.MouseTool.CreateStampMark:case IPCC.Web.UI.MouseTool.CreateFreehandMark:case IPCC.Web.UI.MouseTool.EditMarks:case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:kF&&kF.bD&&kF.bD.Fy(hY,aa);if(FY==='mouseUp'){ahe(aa,K);}else if(FY==='mouseDown'){aaY(aa,K);}T.bU(hY,K);break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:aa.preventDefault();aa.stopPropagation();if(hY==='touchstart'){Av=aa;if(iS){T.uy();break;}}EH&&EH(aa,aa.clientX,aa.clientY,0);break;case IPCC.Web.UI.MouseTool.Magnifier:case IPCC.Web.UI.MouseTool.RectangleZoom:aa.preventDefault();aa.stopPropagation();if(hY==='touchstart'){Av=aa;}EH&&EH(aa,aa.clientX,aa.clientY,0);break;case IPCC.Web.UI.MouseTool.HandPan:if(iS===undefined){iS=Zh(aa);}var G=Ou(aa,{});if(iS&&xI){if(!G||G.R.get_interactionMode()!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){if(hY==='touchstart'){akU(aa,iS,kF);}else if(hY==='touchmove'){kF&&kF.bD&&kF.bD.Fy(hY,aa);}else if(hY==='touchend'){kF&&kF.bD&&kF.bD.Fy(hY,aa);alz(kF);}}}break;}};var EA,Ab,tA;var aBS=function(aa){if(aa.rawEvent.touches.length>1){clearTimeout(tA);tA=Ab=EA=undefined;return;}aa=Yl(aa);EA=aa;if(az===IPCC.Web.UI.MouseTool.CreatePolylineMark){aa.preventDefault();}Ab=function(){FL('touchstart',aa);tA=Ab=EA=undefined;};tA=setTimeout(function(){Ab();},200);};var IO,CR;var aCP=function(aa){aa=Yl(aa);rj=false;var arW=function(){if(!CR){return false;}var et=CR.clientX-aa.clientX;var fN=CR.clientY-aa.clientY;var gH=et*et+fN*fN;return gH<2500;};var ade=function(){IO=CR=undefined;var iS=Zh(aa);if(!iS&&az===IPCC.Web.UI.MouseTool.HandPan&&xI&&kF){aeJ(kF.bD);}};var aok=function(){var afX=Ab;if(IO&&arW()){clearTimeout(IO);CR=IO=undefined;afX();FL('touchend',aa);FL('doubleTap',aa);}else{IO=setTimeout(function(){afX();FL('touchend',aa);ade();},300);CR=aa;}};if(EA&&tA){clearTimeout(tA);if(az===IPCC.Web.UI.MouseTool.CreatePolylineMark){aok();}else{ade();}tA=Ab=EA=undefined;return;}FL('touchend',aa);};var akK,rj=false;var aBg=function(aa){if(aa.rawEvent.touches.length>1){return;}akK=aa;if(EA&&tA){clearTimeout(tA);Ab();}awv();};function awv(){var aa=Yl(akK);FL('touchmove',aa);};IPCC.Web.UI.bS.addHandler(aj,"touchstart",aBS);IPCC.Web.UI.bS.addHandler(aj,"touchmove",aBg);IPCC.Web.UI.bS.addHandler(aj,"touchend",aCP);};aBe(aj,lb);}};function atG(fT){var aea=function(){},ct=1;function acy(aeo,adz,fQ,aCp){fT.style['-ms-transform']=aeo;fT.style['-moz-transform']=aeo;fT.style['-webkit-transform']=adz;fT.style['transform']=adz;fT.style['-ms-transform-origin']=fQ;fT.style['-moz-transform-origin']=fQ;fT.style['-webkit-transform-origin']=fQ;fT.style['transform-origin']=fQ;fT.style.overflow=aCp||'';};function acR(){acy('scale(1,1) translate(0px,0px)','scale3d(1,1,1) translate3d(0px,0px,0px)','0% 0%','auto');};acR();function avk(rh,gu,OM,tu,afA){var eU=(-gu.x/rh)-OM.x,ec=(-gu.y/rh)-OM.y,aDS="scale3d("+rh+","+rh+",1) translate3d("+eU+"px,"+ec+"px,0px)",aEN="scale("+rh+", "+rh+") translate("+eU+"px,"+ec+"px)";var aou=afA.x+'px '+afA.y+'px';acy(aEN,aDS,aou,'visible');aea=function(){var av=fT.getBoundingClientRect();var SG={x:(fT.clientWidth/2+ -av.left+tu.left)/rh,y:(fT.clientHeight/2+ -av.top+tu.top)/rh};if(fa===IPCC.PageLayout.VerticalScrollDirection&&tu.aar){SG.x=SG.x-(tu.aar/2);}acR();T.RJ(rh,SG,undefined,IPCC.ScaleTrigger.Pinch);Al=false;};return fT;};function aeE(x,y,x0,y0){return Math.sqrt((x-=x0)*x+(y-=y0)*y);};function afB(x,y,x0,y0){return{x:(x+x0)/2,y:(y+y0)/2};};function awH(agg,JY){return{x:agg.x-JY.x,y:agg.y-JY.y};};var WS=false;fT.addEventListener('touchstart',function(ev){if(Al){return;}if(!WS&&ev.touches.length===2){adm(ev);}});var standardizeMSTouch=function(ev){var event={};event.identifier=ev.pointerId;event.x=event.clientX=ev.clientX;event.y=event.clientY=ev.clientY;event.preventDefault=ev.preventDefault;event.stopPropagation=ev.stopPropagation;event.rawEvent=ev;event.touches=[event];event.changedTouches=[event];return event;};var zJ,abE=false,Ai={};PCCViewer.EventEmitter.extend(Ai);fT.addEventListener(IPCC.V.ox['down'],function(aa){abE=true;aa=standardizeMSTouch(aa);if(zJ){var cE={};cE.touches=[zJ,aa];cE.changedTouches=[zJ,aa];cE.preventDefault=function(){zJ.rawEvent.preventDefault();aa.rawEvent.preventDefault();};cE.stopPropagation=function(){zJ.rawEvent.stopPropagation();aa.rawEvent.stopPropagation();};adm(cE);}else{zJ=aa;}});fT.addEventListener(IPCC.V.ox['move'],function(aa){Ai.trigger('touchmove',{rawEvent:aa});});fT.addEventListener(IPCC.V.ox['up'],function(aa){Ai.trigger('touchend',{rawEvent:aa});zJ=undefined;});function adm(ev){Al=true;var OM={x:fT.scrollLeft,y:fT.scrollTop};var tu=fT.getBoundingClientRect();var ob=SV();var Iy=fT.querySelector('.pccPageListItem');if(fa===IPCC.PageLayout.VerticalScrollDirection&&Iy.clientWidth<tu.width-30){tu.aar=tu.width-Iy.clientWidth;}var gu={x:0,y:0,set:function(alF){this.x=alF.x;this.y=alF.y;return this;}};var rj=false;WS=true;ev.preventDefault();ev.stopPropagation();function Qc(gU){gU.x=gU.clientX||gU.pageX||gU.screenX;gU.y=gU.clientY||gU.pageY||gU.screenY;return gU;};var kY=Qc(ev.touches[0]);var yN=Qc(ev.touches[1]);var wF=aeE(kY.x,kY.y,yN.x,yN.y);var ady=afB(kY.x,kY.y,yN.x,yN.y);var zW,za;function Wm(aa){aa.preventDefault();[].forEach.call(aa.changedTouches,function(t){if(t.identifier===kY.identifier){zW=Qc(t);}else if(t.identifier===yN.identifier){za=Qc(t);}});if(!zW|| !za){return;}var aze=aeE(zW.x,zW.y,za.x,za.y);var aAd=afB(zW.x,zW.y,za.x,za.y);ct=aze/wF;if((ca*ct)<ob.minFactor){ct=ob.minFactor/ca;}else if((ca*ct)>ob.maxFactor){ct=ob.maxFactor/ca;}gu.set(awH(ady,aAd));if(!rj){rj=true;Jc();}};function XK(){WS=false;rj=false;fT.removeEventListener('touchmove',Wm);fT.removeEventListener('touchend',XK);if(abE){Ai.off('touchmove',acH);Ai.off('touchend',acY);}if(!zW|| !za){Al=false;return;}Ia(aea);};var acH=function(aa){var acs=standardizeMSTouch(aa.rawEvent);acs.preventDefault=function(){};Wm(acs);};var acY=function(aa){XK(standardizeMSTouch(aa.rawEvent));};fT.addEventListener('touchmove',Wm);fT.addEventListener('touchend',XK);if(abE){Ai.on('touchmove',acH);Ai.on('touchend',acY);}function Jc(){if(rj){Ia(function(){if(!rj){return;}avk(ct,gu,OM,tu,ady);Jc();});}}}};function avU(){if(ci===IPCC.ViewMode.SinglePage){return;}if(Al){return;}if(nc){clearTimeout(nc);}if(TL){atl(TL);}ayR();nc=setTimeout(function(){nc=null;TL=Ia(function aHa(){if(Al){return;}nH();});},40);};function awm(){if(lQ===false||ci===IPCC.ViewMode.SinglePage){return;}js(true);if(nc!==null){clearTimeout(nc);}var ayr=bh.scrollHeight/bL.length;var OE=0;if(fa===IPCC.PageLayout.VerticalScrollDirection){OE=bh.scrollTop;}else{OE=bh.scrollLeft;}var aDZ=OE-KL;KL=OE;var asW=new Date().getTime();var TC=asW-yv;if(TC>1000){TC=1000;}Un=aDZ/ayr*1000/TC;nc=setTimeout(function(){nc=null;yv=0;yv=new Date().getTime();nH();},1000);yv=new Date().getTime();if(Un!==0&&Math.abs(Un)<Pu){if(JA&&nc!==null){clearTimeout(nc);nc=null;}yv=0;yv=new Date().getTime();setTimeout(function(){if(JA&&nc!==null){clearTimeout(nc);nc=null;}yv=0;yv=new Date().getTime();nH();},40);}};function avH(){function AS(asl,atd,aW,cz){var IA=document.createElementNS('http://www.w3.org/2000/svg','circle');IA.setAttribute('cx',asl);IA.setAttribute('cy',atd);IA.setAttribute('r',aW);IA.setAttribute('opacity',cz);return IA;};var rf=document.createElementNS('http://www.w3.org/2000/svg','svg');rf.setAttribute('viewBox','0 0 52 52');rf.appendChild(AS(26,13.813,2.813,1));rf.appendChild(AS(24,38.188,2.813,0.4));rf.appendChild(AS(13.813,26,2.813,0.1));rf.appendChild(AS(38.188,26,2.813,0.7));rf.appendChild(AS(34.618,34.618,2.813,0.55));rf.appendChild(AS(17.382,34.618,2.813,0.25));rf.appendChild(AS(34.618,17.382,2.813,0.85));return rf;};function acr(lZ){var aR=0;var afx=false;var MT;var IQ;var rf;for(aR=0;aR<lZ.childNodes.length;aR++){if(lZ.childNodes[aR].className==="pccPageListItemLoading"){afx=true;}}if(afx===false){IQ=document.createElement('div');IQ.className='pccPageListItemLoading';rf=avH();lZ.innerHTML="";lZ.appendChild(IQ);IQ.appendChild(rf);if(JI.length>0){MT=document.createElement('div');MT.className='pccPageListItemLoadingContent';MT.innerHTML=JI;IQ.appendChild(MT);}}};function ayR(){var vP=bh.scrollTop;var tm=bh.scrollLeft;var uj=bh.clientHeight;var wU=bh.clientWidth;var tU=bh.scrollWidth;var ud=bh.scrollHeight;var dR=UK({vP:vP,tm:tm,uj:uj,wU:wU,tU:tU,ud:ud});var C=dR.acP;if(lQ&&tX===false&&cu!==C&&C>=0){cu=C;var K=new IPCC.PageEventArgs();K.imGearPage=T.get_currentPage();K.pageIndex=cu;K.pageNodeID=bL[cu].bJ;T.bU('currentPageChanged',K);}};function Ui(bz){var be=bz.bi||hd;var ba=bz.aq||jp;if(bz.gE%180){var rI=be;be=ba;ba=rI;}var rM=bz.hu||aiO;return{be:be*(ca*bW/rM),ba:ba*(ca*bW/rM),aEO:rM,bV:bz.dA};};function Vd(aBv){return IPCC.V.reduce(aBv,function(ft,aH,bV){ft[bV]=Ui(aH);return ft;},{});};function aeT(aU){var uH,DC,AH,yI,pk;if(fa===IPCC.PageLayout.VerticalScrollDirection){uH=bh.scrollTop;DC=bh.scrollHeight;AH=bh.clientHeight;yI='ba';pk=ee;}else{uH=bh.scrollLeft;DC=bh.scrollWidth;AH=bh.clientWidth;yI='be';pk=gb+gK;}var gV=Vd(bL);var Hw=fa===IPCC.PageLayout.VerticalScrollDirection?ee:gb;var amo=false;IPCC.V.forEach(gV,function(aH,bV){if(aH.bV===aU){amo=true;}if(amo){return;}Hw+=aH[yI]+pk;});return Hw-(pk/2);};function rg(dR){var BC=IPCC.V.map(dR.de,function(aH){return+aH.bV;}).sort();var kY=BC[0];var jl=BC[BC.length-1];var dY=bL.length;for(var C=Ed;C;C--){kY-=1;jl+=1;if(kY>=0){BC.unshift(kY);}if(jl<dY){BC.push(jl);}}return BC.sort();};function PU(dR){var kY=Math.max(dR.de[0].bV-vy,0);var jl=Math.min(dR.de[dR.de.length-1].bV+vy,bL.length-1);return{kY:kY,jl:jl};};function avq(dR){var kY=Math.max(dR.de[0].bV-Ed,0);var jl=Math.min(dR.de[dR.de.length-1].bV+Ed,bL.length-1);return{kY:kY,jl:jl};};function UK(bb){if(ci===IPCC.ViewMode.SinglePage){return aeX();}var uH,DC,AH,yI,pk;if(fa===IPCC.PageLayout.VerticalScrollDirection){uH=bb.vP;DC=bb.ud;AH=bb.uj;yI='ba';pk=ee;}else{uH=bb.tm;DC=bb.tU;AH=bb.wU;yI='be';pk=gb+gK;}var aor=uH;var aoI=uH+AH;var gV=Vd(bL);var Hw=fa===IPCC.PageLayout.VerticalScrollDirection?ee:gb;var aDe=uH/DC;var PE=(aDe*AH)+uH;var Sp=Number.MAX_VALUE;var ta= -1;var de=[];IPCC.V.forEach(gV,function(aH,bV){var ik=Hw;var eH=ik+aH[yI];if(ik<aoI&&eH>aor){aH.vM=true;de.push(aH);}var afq=Math.min(Math.abs(ik-PE),Math.abs(eH-PE));if(ik<PE&&eH>PE){Sp=0;ta=bV;}else if(afq<Sp){ta=bV;Sp=afq;}Hw+=aH[yI]+pk;});if(de.length===0&&gV[ta]!==undefined){de.push(gV[ta]);}return{de:de,acP:Number(ta)||0,Ha:gV};};function aeX(){var gV=Vd(bL);var anW=[cu];var de=IPCC.V.filter(gV,function(aH){return IPCC.V.contains(anW,+aH.bV);});return{de:de,acP:cu,Ha:gV};};function QA(){var dR=js();if(!dR){return[];}return IPCC.V.map(dR.de,function(aH){return aH.bV;});};function js(){if(ci===IPCC.ViewMode.SinglePage){return aeX();}if(bh===''||bh.clientHeight<=0){return;}var vP=bh.scrollTop;var tm=bh.scrollLeft;var uj=bh.clientHeight;var wU=bh.clientWidth;var tU=bh.scrollWidth;var ud=bh.scrollHeight;var api=UK({vP:vP,tm:tm,uj:uj,wU:wU,tU:tU,ud:ud});tX=false;return api;}};NU.prototype={dispose:function(){this.ar('dispose',arguments);this.abN(false);this.arz();},disposeDisplayedPages:function(){this.arL();},get_debug:function(){try{var aW=this.JC();this.dm('get_debug',arguments,aW);return aW;}catch(e){this.af('get_debug',e);throw e;}},set_debug:function(value){try{this.ar('set_debug',arguments);var zh=this.JC();this.VP(value);if(!zh){this.ar('set_debug',arguments);}}catch(e){this.af('set_debug',e);throw e;}},get_debugErrorLevel:function(){try{var aW=this.xu();this.dm('get_debugErrorLevel',arguments,aW);return aW;}catch(e){this.af('get_debugErrorLevel',e);throw e;}},set_debugErrorLevel:function(value){try{this.ar('set_debugErrorLevel',arguments);var zh=this.xu();this.EZ(value);if(zh<IPCC.Web.UI.DebugErrorLevel.Development){this.ar('set_debugErrorLevel',arguments);}}catch(e){this.af('set_debugErrorLevel',e);throw e;}},add_mouseDown:function(handler){try{this.OB(handler);}catch(e){this.af('add_mouseDown',e);throw e;}},remove_mouseDown:function(handler){try{this.Uq(handler);}catch(e){this.af('remove_mouseDown',e);throw e;}},add_mouseMove:function(handler){try{this.PL(handler);}catch(e){this.af('add_mouseMove',e);throw e;}},remove_mouseMove:function(handler){try{this.Uv(handler);}catch(e){this.af('remove_mouseMove',e);throw e;}},add_mouseUp:function(handler){try{this.Pw(handler);}catch(e){this.af('add_mouseUp',e);throw e;}},remove_mouseUp:function(handler){try{this.UT(handler);}catch(e){this.af('remove_mouseUp',e);throw e;}},add_selectTextMouseToolCompleted:function(handler){try{this.UH(handler);}catch(e){this.af('add_selectTextMouseToolCompleted',e);throw e;}},remove_selectTextMouseToolCompleted:function(handler){try{this.Vf(handler);}catch(e){this.af('remove_selectTextMouseToolCompleted',e);throw e;}},add_currentPageChanged:function(handler){try{this.ayu(handler);}catch(e){this.af('add_currentPageChanged',e);throw e;}},remove_currentPageChanged:function(handler){try{this.azC(handler);}catch(e){this.af('remove_currentPageChanged',e);throw e;}},add_textPageReady:function(handler){try{this.AP(handler);}catch(e){this.af('add_textPageReady',e);throw e;}},remove_textPageReady:function(handler){try{this.CL(handler);}catch(e){this.af('remove_textPageReady',e);throw e;}},add_hyperlinkPageReady:function(handler){try{this.WK(handler);}catch(e){this.af('add_hyperlinkPageReady',e);throw e;}},remove_hyperlinkPageReady:function(handler){try{this.afu(handler);}catch(e){this.af('remove_hyperlinkPageReady',e);throw e;}},add_textExtractionFailed:function(handler){this.Ar(handler);},remove_textExtractionFailed:function(handler){this.AX(handler);},add_allPagesAdded:function(handler){try{this.ayM(handler);}catch(e){this.af('add_allPagesAdded',e);throw e;}},remove_allPagesAdded:function(handler){try{this.aBj(handler);}catch(e){this.af('remove_allPagesAdded',e);throw e;}},add_pageOpening:function(handler){try{this.WN(handler);}catch(e){this.af('add_pageOpening',e);throw e;}},remove_pageOpening:function(handler){try{this.Vz(handler);}catch(e){this.af('remove_pageOpening',e);throw e;}},add_pageOpened:function(handler){try{this.Xj(handler);}catch(e){this.af('add_pageOpened',e);throw e;}},remove_pageOpened:function(handler){try{this.Ut(handler);}catch(e){this.af('remove_pageOpened',e);throw e;}},add_pageOpenFailed:function(handler){try{this.GO(handler);}catch(e){this.af('add_pageOpenFailed',e);throw e;}},remove_pageOpenFailed:function(handler){try{this.Gm(handler);}catch(e){this.af('remove_pageOpenFailed',e);throw e;}},add_pageDisplayed:function(handler){try{this.WU(handler);}catch(e){this.af('add_pageDisplayed',e);throw e;}},remove_pageDisplayed:function(handler){try{this.UM(handler);}catch(e){this.af('remove_pageDisplayed',e);throw e;}},add_propertyChanged:function(handler){try{this.ln(handler);}catch(e){this.af('add_propertyChanged',e);throw e;}},remove_propertyChanged:function(handler){try{this.mZ(handler);}catch(e){this.af('remove_propertyChanged',e);throw e;}},add_markAdded:function(handler){try{this.zy(handler);}catch(e){this.af('add_markAdded',e);throw e;}},remove_markAdded:function(handler){try{this.zK(handler);}catch(e){this.af('remove_markAdded',e);throw e;}},add_markCreating:function(handler){try{this.XV(handler);}catch(e){this.af('add_markCreating',e);throw e;}},remove_markCreating:function(handler){try{this.Wd(handler);}catch(e){this.af('remove_markCreating',e);throw e;}},add_markChanged:function(handler){try{this.Jm(handler);}catch(e){this.af('add_markChanged',e);throw e;}},remove_markChanged:function(handler){try{this.FI(handler);}catch(e){this.af('remove_markChanged',e);throw e;}},add_markReordered:function(handler){try{this.Js(handler);}catch(e){this.af('add_markReordered',e);throw e;}},remove_markReordered:function(handler){try{this.Gn(handler);}catch(e){this.af('remove_markReordered',e);throw e;}},add_markSelectionChanged:function(handler){try{this.Kb(handler);}catch(e){this.af('add_markSelectionChanged',e);throw e;}},remove_markSelectionChanged:function(handler){try{this.FE(handler);}catch(e){this.af('remove_markSelectionChanged',e);throw e;}},add_markTextSelectionChanged:function(handler){try{this.Kz(handler);}catch(e){this.af('add_markTextSelectionChanged',e);throw e;}},remove_markTextSelectionChanged:function(handler){try{this.Fu(handler);}catch(e){this.af('remove_markTextSelectionChanged',e);throw e;}},add_markRemoved:function(handler){try{this.zT(handler);}catch(e){this.af('add_markRemoved',e);throw e;}},remove_markRemoved:function(handler){try{this.zk(handler);}catch(e){this.af('remove_markRemoved',e);throw e;}},add_commentAdding:function(handler){try{this.axF(handler);}catch(e){this.af('add_commentAdding',e);throw e;}},remove_commentAdding:function(handler){try{this.aBc(handler);}catch(e){this.af('remove_commentAdding',e);throw e;}},add_commentAdded:function(handler){try{this.vt(handler);}catch(e){this.af('add_commentAdded',e);throw e;}},remove_commentAdded:function(handler){try{this.Di(handler);}catch(e){this.af('remove_commentAdded',e);throw e;}},add_commentRemoved:function(handler){try{this.xN(handler);}catch(e){this.af('add_commentRemoved',e);throw e;}},remove_commentRemoved:function(handler){try{this.Dz(handler);}catch(e){this.af('remove_commentRemoved',e);throw e;}},add_commentChanged:function(handler){try{this.sA(handler);}catch(e){this.af('add_commentChanged',e);throw e;}},remove_commentChanged:function(handler){try{this.uc(handler);}catch(e){this.af('remove_commentChanged',e);throw e;}},add_scaleChanged:function(handler){try{this.Uu(handler);}catch(e){this.af('add_scaleChanged',e);throw e;}},remove_scaleChanged:function(handler){try{this.UC(handler);}catch(e){this.af('remove_scaleChanged',e);throw e;}},add_exceptionThrown:function(handler){this.Wu(handler);},remove_exceptionThrown:function(handler){this.Vj(handler);},writeToLog:function(message){try{this.mt(message);}catch(e){this.af('writeToLog',e);throw e;}},get_currentState:function(){try{var aW=this.PQ();this.dm('get_currentState',arguments,aW);return aW;}catch(e){this.af('get_currentState',e);throw e;}},get_scaleFactor:function(){try{var aW=this.pE();this.dm('get_scaleFactor',arguments,aW);return aW;}catch(e){this.af('get_scaleFactor',e);throw e;}},set_scaleFactor:function(scaleFactor){try{this.ar('set_scaleFactor',arguments);this.aqs(scaleFactor);}catch(e){this.af('set_scaleFactor',e);throw e;}},zoomIn:function(factor){try{this.ar('zoomIn',arguments);this.RJ(factor);}catch(e){this.af('zoomIn',e);throw e;}},zoomOut:function(factor){try{this.ar('zoomOut',arguments);this.UN(factor);}catch(e){this.af('zoomOut',e);throw e;}},getMinMaxZoom:function(){return this.aEf();},displayAll:function(){try{this.ar('displayAll',arguments,1);this.art();}catch(e){this.af('displayAll',e);throw e;}},display:function(pageIndex){try{this.ar('display',arguments);this.cn(pageIndex);}catch(e){this.af('display',e);throw e;}},get_textRequired:function(){try{var aW=this.ly();this.dm('get_textRequired',arguments,aW);return aW;}catch(e){this.af('get_textRequired',e);throw e;}},set_textRequired:function(value){try{this.ar('set_textRequired',arguments);this.GR(value);}catch(e){this.af('set_textRequired',e);throw e;}},selectText:function(pageIndex,startIndex,endIndex,color){try{this.ar('selectText',arguments,1);this.UB(pageIndex,startIndex,endIndex,color);}catch(e){this.af('selectText',e);throw e;}},clearSelectedText:function(pageIndex){try{this.ar('clearSelectedText',arguments,1);this.arZ(pageIndex);}catch(e){this.af('clearSelectedText',e);throw e;}},clearAllSelectedText:function(){try{this.ar('clearAllSelectedText',arguments);this.asp();}catch(e){this.af('clearAllSelectedText',e);throw e;}},get_maxPrefetch:function(){try{var aW=this.auU();this.dm('get_maxPrefetch',arguments,aW);return aW;}catch(e){this.af('get_maxPrefetch',e);throw e;}},set_maxPrefetch:function(value){try{this.ar('set_maxPrefetch',arguments);this.aoz(value);}catch(e){this.af('set_maxPrefetch',e);throw e;}},get_displayPagesWhenScrolling:function(){try{var aW=this.arE();this.dm('get_displayPagesWhenScrolling',arguments,aW);return aW;}catch(e){this.af('get_displayPagesWhenScrolling',e);throw e;}},set_displayPagesWhenScrolling:function(value){try{this.ar('set_displayPagesWhenScrolling',arguments);this.aqG(value);}catch(e){this.af('set_displayPagesWhenScrolling',e);throw e;}},get_maxOutOfViewDisplay:function(){try{var aW=this.auX();this.dm('get_maxOutOfViewDisplay',arguments,aW);return aW;}catch(e){this.af('get_maxOutOfViewDisplay',e);throw e;}},set_maxOutOfViewDisplay:function(value){try{this.ar('set_maxOutOfViewDisplay',arguments);this.aoY(value);}catch(e){this.af('set_maxOutOfViewDisplay',e);throw e;}},get_discardOutOfViewText:function(){try{var aW=this.atx();this.dm('get_discardOutOfViewText',arguments,aW);return aW;}catch(e){this.af('get_discardOutOfViewText',e);throw e;}},set_discardOutOfViewText:function(value){try{this.ar('set_discardOutOfViewText',arguments);this.arm(value);}catch(e){this.af('set_discardOutOfViewText',e);throw e;}},get_scrollDisplayThreshold:function(){try{var aW=this.auO();this.dm('get_scrollDisplayThreshold',arguments,aW);return aW;}catch(e){this.af('get_scrollDisplayThreshold',e);throw e;}},set_scrollDisplayThreshold:function(value){try{this.ar('set_scrollDisplayThreshold',arguments);this.apT(value);}catch(e){this.af('set_scrollDisplayThreshold',e);throw e;}},get_mouseCursor:function(){try{var aW=this.akk();this.dm('get_mouseCursor',arguments,aW);return aW;}catch(e){this.af('akk',e);throw e;}},set_mouseCursor:function(value){try{this.ar('set_mouseCursor',arguments);this.apf(value);}catch(e){this.af('set_mouseCursor',e);throw e;}},get_mouseTool:function(){try{var aW=this.Zj();this.dm('get_mouseTool',arguments,aW);return aW;}catch(e){this.af('get_mouseTool',e);throw e;}},set_mouseTool:function(value){try{this.ar('set_mouseTool',arguments);this.JS(value);}catch(e){this.af('set_mouseTool',e);throw e;}},get_markHandleMode:function(){try{var aW=this.As();this.ar('get_markHandleMode',arguments);return aW;}catch(e){this.af('get_markHandleMode',e);throw e;}},set_markHandleMode:function(J){try{this.ar('set_markHandleMode',arguments);this.Ku(J);}catch(e){this.af('set_markHandleMode',e);throw e;}},get_retainPageText:function(){try{var aW=this.atF();this.ar('get_retainPageText',arguments);return aW;}catch(e){this.af('get_retainPageText',e);throw e;}},set_retainPageText:function(J){try{this.ar('set_retainPageText',arguments);this.aqQ(J);}catch(e){this.af('set_retainPageText',e);throw e;}},get_allowMarkEdits:function(){try{var aW=this.auv();this.ar('get_allowMarkEdits',arguments);return aW;}catch(e){this.af('get_allowMarkEdits',e);throw e;}},set_allowMarkEdits:function(bool){try{this.ar('set_allowMarkEdits',arguments);this.aqA(! !bool);}catch(e){this.af('set_allowMarkEdits',e);throw e;}},get_currentPage:function(){try{var aW=this.alA();this.dm('get_currentPage',arguments,aW);return aW;}catch(e){this.af('get_currentPage',e);throw e;}},get_pageNodeId:function(pageIndex){try{var amO=this.auk(pageIndex);this.dm('get_pageNodeId',arguments,amO);return amO;}catch(e){this.af('get_pageNodeId',e);throw e;}},scrollToNextPage:function(){try{this.ar('scrollToNextPage',arguments);this.aDa();}catch(e){this.af('scrollToNextPage',e);throw e;}},scrollToPreviousPage:function(){try{this.ar('scrollToPreviousPage',arguments);this.aEg();}catch(e){this.af('scrollToPreviousPage',e);throw e;}},scrollToFirstPage:function(){try{this.ar('scrollToFirstPage',arguments);this.aCU();}catch(e){this.af('scrollToFirstPage',e);throw e;}},scrollToLastPage:function(){try{this.ar('scrollToLastPage',arguments);this.aEb();}catch(e){this.af('scrollToLastPage',e);throw e;}},scrollToPage:function(pageIndex){try{this.ar('scrollToPage',arguments,1);this.pQ(pageIndex);}catch(e){this.af('scrollToPage',e);throw e;}},rotate:function(degreesClockwise){try{this.ar('rotate',arguments,1);this.aDY(degreesClockwise);}catch(e){this.af('rotate',e);throw e;}},rotateAll:function(degreesClockwise){try{this.ar('rotateAll',arguments,1);this.aey(degreesClockwise,true);}catch(e){this.af('rotateAll',e);throw e;}},get_enabled:function(){try{var aW=this.ath();this.dm('get_enabled',arguments,aW);return aW;}catch(e){this.af('get_enabled',e);throw e;}},get_pageLayout:function(){try{var aW=this.auQ();this.dm('get_pageLayout',arguments,aW);return aW;}catch(e){this.af('get_pageLayout',e);throw e;}},set_pageLayout:function(value){try{this.ar('set_pageLayout',arguments);this.aoc(value);}catch(e){this.af('set_pageLayout',e);throw e;}},get_viewMode:function(){try{var aW=this.aEy();this.dm('get_viewMode',arguments,aW);return aW;}catch(e){this.af('get_viewMode',e);throw e;}},set_viewMode:function(value){try{this.ar('set_viewMode',arguments);this.Nc(value);}catch(e){this.af('set_viewMode',e);throw e;}},get_loadingContent:function(){try{var aW=this.auB();this.dm('get_loadingContent',arguments,aW);return aW;}catch(e){this.af('get_loadingContent',e);throw e;}},set_loadingContent:function(value){try{this.ar('set_loadingContent',arguments);this.anz(value);}catch(e){this.af('set_loadingContent',e);throw e;}},fitPages:function(fitType){try{this.ar('fitPages',arguments,1);this.avh(fitType);}catch(e){this.af('fitPages',e);throw e;}},openPage:function(pageIndex){try{this.ar('openPage',arguments,1);this.KM(pageIndex);}catch(e){this.af('openPage',e);throw e;}},requestPageAttributes:function(page,attributesRetrievedCallback,attributesRetrievalFailedCallback){try{this.ar('requestPageAttributes',arguments,1);this.LL(page,attributesRetrievedCallback,attributesRetrievalFailedCallback);}catch(e){this.af('requestPageAttributes',e);throw e;}},scrollRegionIntoView:function(pageIndex,rectangle){try{this.ar('scrollRegionIntoView',arguments,1);return this.aDU(pageIndex,rectangle);}catch(e){this.af('scrollRegionIntoView',e);throw e;}},scrollBy:function(xVal,yVal){try{this.ar('scrollBy',arguments,1);return this.aEE(xVal,yVal);}catch(e){this.af('scrollBy',e);throw e;}},scrollConversationIntoView:function(conversation){try{this.ar('scrollConversationIntoView',arguments,1);return this.aEp(conversation);}catch(e){this.af('scrollConversationIntoView',e);throw e;}},get_documents:function(){return this.XN();},get_encryption:function(){try{var aW=this.jx();this.dm('get_encryption',arguments,aW);return aW;}catch(e){this.af('get_encryption',e);throw e;}},set_encryption:function(value){try{this.ar('set_encryption',arguments);this.mG(value);}catch(e){this.af('set_encryption',e);throw e;}},get_annotationXmlDom:function(){try{var aW=this.atu();return aW;}catch(e){this.af('get_annotationXmlDom',e);throw e;}},set_annotationXmlDom:function(value,stampImages,retainExistingMarks,loadAsHidden){try{this.aqI(value,stampImages,retainExistingMarks,loadAsHidden);}catch(e){this.af('set_annotationXmlDom',e);throw e;}},get_resourcePath:function(){try{var aW=this.uB();this.dm('get_resourcePath',arguments,aW);return aW;}catch(e){this.af('get_resourcePath',e);throw e;}},set_resourcePath:function(J){try{this.ar('set_resourcePath',arguments);this.It(J);}catch(e){this.af('set_resourcePath',e);throw e;}},get_redactionDraftMode:function(){try{var aW=this.nj();this.dm('get_redactionDraftMode',arguments,aW);return aW;}catch(e){this.af('get_redactionDraftMode',e);throw e;}},set_redactionDraftMode:function(value){try{this.ar('set_redactionDraftMode',arguments);this.qE(value);}catch(e){this.af('set_redactionDraftMode',e);throw e;}},get_displayedPages:function(){try{var aW=this.auG();this.dm('get_displayedPages',arguments,aW);return aW;}catch(e){this.af('get_displayedPages',e);throw e;}},get_requireRequestsOptimize:function(){try{var aW=this.yf();this.dm('get_requireRequestsOptimize',arguments,aW);return aW;}catch(e){this.af('yf',e);throw e;}},set_requireRequestsOptimize:function(value){try{this.ar('set_requireRequestsOptimize',arguments);this.Iv(value);}catch(e){this.af('set_requireRequestsOptimize',e);throw e;}},get_serviceResponseTimeout:function(){try{var aW=this.jJ();this.dm('get_serviceResponseTimeout',arguments,aW);return aW;}catch(e){this.af('get_serviceResponseTimeout',e);throw e;}},set_serviceResponseTimeout:function(value){try{this.ar('set_serviceResponseTimeout',arguments);this.vD(value);}catch(e){this.af('set_serviceResponseTimeout',e);throw e;}},get_pageRotation:function(){try{var aW=this.ats();this.dm('get_pageRotation',arguments,aW);return aW;}catch(e){this.af('get_pageRotation',e);throw e;}},set_pageRotation:function(value){try{this.ar('set_pageRotation',arguments);this.arl(value);}catch(e){this.af('set_pageRotation',e);throw e;}},getNodeID:function(pageIndex){try{this.ar('getNodeID',arguments,1);return this.aDl(pageIndex);}catch(e){this.af('getNodeID',e);throw e;}},get_isCommentsPanelOpen:function(){try{var aW=this.arT();this.dm('get_isCommentsPanelOpen',arguments,aW);return aW;}catch(e){this.af('get_isCommentsPanelOpen',e);throw e;}},openCommentsPanel:function(){try{this.ar('openCommentsPanel',arguments);this.axt();}catch(e){this.af('openCommentsPanel',e);throw e;}},closeCommentsPanel:function(){try{this.ar('closeCommentsPanel',arguments);this.ate();}catch(e){this.af('closeCommentsPanel',e);throw e;}},get_conversationDOMFactory:function(){try{var aW=this.auZ();this.dm('get_conversationDOMFactory',arguments,aW);return aW;}catch(e){this.af('get_conversationDOMFactory',e);throw e;}},set_conversationDOMFactory:function(value){try{this.ar('set_conversationDOMFactory',arguments);this.apx(value);}catch(e){this.af('set_conversationDOMFactory',e);throw e;}},get_selectedConversation:function(){try{var aW=this.atM();this.dm('get_selectedConversation',arguments,aW);return aW;}catch(e){this.af('get_selectedConversation',e);throw e;}},set_selectedConversation:function(value){try{this.ar('set_selectedConversation',arguments);this.aqT(value);}catch(e){this.af('set_selectedConversation',e);throw e;}},refreshConversations:function(markIDs){try{this.ar('refreshConversations',arguments);this.aBV(markIDs);}catch(e){this.af('refreshConversations',e);throw e;}}};NU.registerClass=cR;NU.registerClass('IPCC.PageList',{});module.exports=NU;},{"./IPCC.Util":29}],44:[function(require,module,exports){var nG=function(cr,xo){var T=this;this.cr=cr;this.xo=xo;this.atO=function(){return T.cr;};this.aHK=function(){return T.xo;};};nG.prototype.get_propertyName=function(){return this.cr;};nG.prototype.get_propertyInfo=function(){return this.xo;};module.exports=nG;},{}],45:[function(require,module,exports){var Gz=function(){this.ct=1;this.width=0;this.height=0;this.lD=0;this.yW=0;this.pool=undefined;return this;};Gz.prototype.PH=function(cl){if(cl.width<1||cl.height<1){return[];}var mp=Math.floor(cl.x*this.ct);var mI=Math.floor(cl.y*this.ct);var nm=Math.ceil((cl.x+cl.width)*this.ct);var nb=Math.ceil((cl.y+cl.height)*this.ct);var ma=[];var C,fL;var cI=this.tiles.length;for(C=0;C<cI;C++){fL=this.tiles[C];if(fL.x<=nm&&fL.right>=mp&&fL.y<=nb&&fL.bottom>=mI){ma.push(fL);}}return ma;};module.exports=Gz;},{}],46:[function(require,module,exports){var yE=function(){this.x=0;this.y=0;this.right=0;this.bottom=0;this.be=0;this.ba=0;this.vE=0;this.wb=0;this.url='';this.poolItem=undefined;this.level=undefined;return this;};yE.prototype.unlock=function(){this.level.pool.ahX(this);};yE.prototype.lock=function(){this.level.pool.lockTile(this);};yE.prototype.relock=function(){return this.level.pool.Vw(this);};yE.prototype.get_isLockedAndLoaded=function(){if(this.poolItem===undefined|| !this.poolItem.loaded){return false;}return true;};yE.prototype.toString=function(){var ad='x:'+this.x.toString()+', y:'+this.y.toString()+', right:'+this.right.toString()+', bottom:'+this.bottom.toString();if(this.level){ad='scale:'+this.level.ct.toString()+', '+ad;}return ad;};module.exports=yE;},{}],47:[function(require,module,exports){var mA=function(){this.an=false;this.h=false;};mA.prototype.mJ=function(h){this.h=h;};mA.prototype.eH=function(){this.h=false;};mA.prototype.ao=function(){if(this.an){this.h.bp().pb();this.an=false;this.h.cn();}};mA.prototype.qM=function(){this.ao();this.h.cn();};mA.prototype.kw=function(K){this.ao();if(K.domEvent.button===0){var aE=this.h.bp();this.an=true;aE.BB(K.constrainedImagePoint);this.rr=K.windowPoint;this.h.cn();}};mA.prototype.jZ=function(K){if(K.domEvent.button!==0){this.ao();}if(this.an){var aE=this.h.bp();aE.yR(K.constrainedImagePoint);this.h.cn();}};mA.prototype.kC=function(K){if(this.an&&K.domEvent.button===0){var eK=K.windowPoint.x-this.rr.x;var gH=eK*eK;eK=K.windowPoint.y-this.rr.y;gH+=eK*eK;if(gH>25){var h=this.h;var aE=h.bp();var bk=aE.ep();var aP=h.eu();var azY=aP.width;var azL=aP.height;var aB=h.cU();aE.yR(K.constrainedImagePoint);var jE=aE.wn();aE.pb();h.bU('userModifiedViewState',{});bk.PJ(aB,aP,jE);bk.hW(aB,aP);aE.jF(bk);h.cn();if(azY!==aP.width||azL!==aP.height){bk=aE.ep();bk.PJ(aB,aP,jE);bk.hW(aB,aP);aE.jF(bk);}}}this.ao();};mA.prototype.oM=function(K){var aP=this.h.eu();if(K.windowPoint.x<=0||K.windowPoint.x>=aP.width-2){this.ao();}if(K.windowPoint.y<=0||K.windowPoint.y>=aP.height-2){this.ao();}};mA.prototype.mo=function(){this.ao();};module.exports=mA;},{}],48:[function(require,module,exports){var kH={'paramName':'Parameter name: {0}','svctype':'License','argumentNull':'Value cannot be null.','spc':' ','actualValue':'Actual value was {0}.','fwdslash':'/','prodInfo':'prodInfoPass','argumentOutOfRange':'Specified argument was out of the range of valid values.','argumentTypeWithTypes':'Object of type \'{0}\' cannot be converted to type \'{1}\'.','argumentType':'Object cannot be converted to the required type.','invalidOperation':'Operation is not valid due to the current state of the object.','notImplemented':'The method or operation is not implemented.','argument':'Value does not fall within the expected range.','prodFailInfo':'prodInfoFail','svcReqStr':'','viewer':'ClientViewer','querySymb':'?','version':'v=','iv':'iv=','param':'p='};module.exports=kH;},{}],49:[function(require,module,exports){var zV=function(){};zV.prototype.mJ=function(h){this.h=h;this.aE=h.bp();};zV.prototype.eH=function(){this.h=false;};zV.prototype.ao=function(){};module.exports=zV;},{}],50:[function(require,module,exports){var dW=require('./IPCC.Util').regEnum;var Cw=function(){};Cw.registerEnum=dW;Cw.prototype={Pinch:"Pinch",Zoom:"Zoom",Fit:"Fit",ViewMode:"ViewMode"};Cw.registerEnum('IPCC.ScaleTrigger',false);module.exports=Cw;},{"./IPCC.Util":29}],51:[function(require,module,exports){var nL=function(){this.an=false;this.h=false;};nL.prototype.mJ=function(h){this.h=h;};nL.prototype.eH=function(){this.h=false;};nL.prototype.ao=function(){if(this.an){this.h.pb();this.an=false;this.h.cn();}};nL.prototype.qM=function(){this.ao();};nL.prototype.kw=function(K){this.ao();if(K.domEvent.button===0){var aE=this.h.bp();this.an=true;aE.BB(K.constrainedImagePoint);this.h.cn();}};nL.prototype.jZ=function(K){if(K.domEvent.button!==0){this.ao();}if(this.an){var aE=this.h.bp();aE.yR(K.constrainedImagePoint);this.h.cn();}};nL.prototype.kC=function(K){if(K.domEvent.button===0){this.an=false;}this.ao();};nL.prototype.oM=function(K){var aP=this.h.eu();if(K.windowPoint.x<=0||K.windowPoint.x>=aP.width-2){this.ao();}if(K.windowPoint.y<=0||K.windowPoint.y>=aP.height-2){this.ao();}};nL.prototype.mo=function(){this.ao();};module.exports=nL;},{}],52:[function(require,module,exports){var lc=function(){this.an=false;this.h=false;};lc.prototype.mJ=function(h){this.h=h;};lc.prototype.eH=function(){this.h=false;};lc.prototype.ao=function(){if(this.an){this.h.bp().ZN();this.an=false;}};lc.prototype.qM=function(){this.ao();};lc.prototype.kw=function(K){if(K.domEvent.button===0){var aE=this.h.bp();this.an=true;var dg=this.h.Go(K.constrainedImagePoint);this.h.ga=dg;if(!dg){return;}this.h.zo(dg);aE.zo(dg);aE.tW(undefined);this.h.cn();}};lc.prototype.jZ=function(K){var h=this.h;h.aDG=true;if(K.domEvent.button!==0){this.ao();}if(this.an){var aE=h.bp();var dg=h.Go(K.constrainedImagePoint);var he=aE.BV();if(he===dg){return;}h.tW(dg);h.cn();}};lc.prototype.kC=function(K){if(K.domEvent.button===0){this.an=false;}var h=this.h;var aE=this.h.bp();var da=aE.ii.length;if(da===0){this.ao();return;}var ak=aE.ii[0].dg;var cv=aE.ii[da-1].dg;if(h.FB===true){if(ak>cv){ak=cv;}var C;var ko=IPCC.wE();this.R=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);this.R.ak=ak;this.R.cf=h.CJ();this.R.ck=da;this.R.set_fillColor(h.pM);this.R.jm='y';this.R.bn=ko;for(C=0;C<aE.ii.length;C++){var aY=aE.ii[C];var Dn=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);var zm=aY.R.fs();Dn.set_fillColor(h.pM);Dn.set_opacity(aY.R.get_opacity());Dn.set_rectangle(zm);Dn.bn=ko;Dn.jm='y';this.h.fM().addMark(Dn);}aE.ii=[];if(da>0){this.h.fM().addMark(this.R);}h.lJ().removeAllMarks();}da=aE.ii.length;var aiC=new IPCC.Web.UI.TextSelectedEventArgs();aiC.text=h.CJ();h.bU('selectTextMouseToolCompleted',aiC);h.cn();this.ao();};lc.prototype.oM=function(K){var aP=this.h.eu();if(K.windowPoint.x<=0||K.windowPoint.x>=aP.width-2){this.ao();}if(K.windowPoint.y<=0||K.windowPoint.y>=aP.height-2){this.ao();}};lc.prototype.mo=function(){this.ao();};module.exports=lc;},{}],53:[function(require,module,exports){var dB=function(){this.h=false;this.FO=0;this.aAI=1;this.akw=2;this.akF=3;};dB.prototype.mJ=function(h){this.h=h;this.cB=this.FO;};dB.prototype.eH=function(){this.h=false;};dB.prototype.ao=function(){this.cB=this.FO;};dB.prototype.ais=function(K){var atY=new Date()-this.aon;if(atY<750){var et=this.aiK.x-K.windowPoint.x;var fN=this.aiK.y-K.windowPoint.y;var gH=et*et+fN*fN;if(gH<2500){return true;}}return false;};dB.prototype.ajF=function(K){this.aon=new Date();this.aiK=new IPCC.Web.UI.Point(K.windowPoint.x,K.windowPoint.y);};dB.prototype.IH=function(K){var bx=K.domEvent.rawEvent;if(bx.touches.length===1){if(this.cB===this.akw&&this.ais(K)){this.cB=this.akF;}else{this.cB=this.aAI;}this.ajF(K);this.h.fR('kw',K);}else{this.cB=this.FO;this.h.fR('qM',K);}};dB.prototype.KC=function(K){var bx=K.domEvent.rawEvent;if(bx.touches.length===1){this.h.fR('jZ',K);}};dB.prototype.LQ=function(K){var bx=K.domEvent.rawEvent;if(bx.touches.length===0){if(this.ais(K)){if(this.cB===this.akF){this.cB=this.FO;this.h.fR('kC',K);this.h.fR('xG',K);}else{this.ajF(K);this.cB=this.akw;this.h.fR('kC',K);}}else{this.cB=this.FO;this.h.fR('kC',K);}}};dB.prototype.Ix=function(K){this.h.fR('qM',K);};module.exports=dB;},{}],54:[function(require,module,exports){var Bi=function(be,ba,hb,gj){IPCC.Web.UI.Rectangle.call(this,0,0,0,0);this.width=be;this.height=ba;this.hb=hb;this.gj=gj;return this;};Bi.prototype.toString=function(){return 'Space('+this.width+' x '+this.height+', '+this.hb+', '+this.gj+')';};module.exports=Bi;},{}],55:[function(require,module,exports){var Ah=function(Ny){this.ri=(typeof(Ny)!=='undefined'&&Ny!==null&&Ny!=='')?[Ny.toString()]:[];this.J={};this.cI=0;};Ah.prototype.aHs=function(aO){this.ri[this.ri.length]=aO;};Ah.prototype.aIs=function(aO){this.ri[this.ri.length]=((typeof(aO)==='undefined')||(aO===null)||(aO===''))?'\r\n':aO+'\r\n';};Ah.prototype.aHo=function(){this.ri=[];this.J={};this.cI=0;};Ah.prototype.aFs=function(){if(this.ri.length===0){return true;}return this.toString()==='';};Ah.prototype.aHR=function(zC){zC=zC||'';var parts=this.ri;if(this.cI!==parts.length){this.J={};this.cI=parts.length;}var val=this.J;if(typeof(val[zC])==='undefined'){if(zC!==''){for(var i=0;i<parts.length;){if((typeof(parts[i])==='undefined')||(parts[i]==='')||(parts[i]===null)){parts.splice(i,1);}else{i++;}}}val[zC]=this.ri.join(zC);}return val[zC];};module.exports=Ah;},{}],56:[function(require,module,exports){var eV=function(h,oE){this.PM=false;this.WY=false;this.BS=true;this.abc=false;this.RK=false;this.wW=0;this.vL=0;var aA=this;this.ayL='opacity';this.ays=function(cz){return cz.toString();};var alw=function alw(bA,ew,pe,aB,nl,md){var gO;if(this.h.pV()===true){bA.wC.setAttribute('width',pe.width);bA.wC.setAttribute('height',pe.height);bA.tM.setAttribute('width',pe.width);bA.tM.setAttribute('height',pe.height);gO=ew.qW().toString()+','+ew.ql().toString()+','+ew.rX().toString()+','+ew.su().toString()+','+(ew.wI()+nl).toString()+','+(ew.wr()+md).toString();this.fW(bA.yz,'transform','matrix('+gO+')');}else{bA.wC.setAttribute('width',pe.width);bA.wC.setAttribute('height',pe.height);bA.tM.setAttribute('width',pe.width);bA.tM.setAttribute('height',pe.height);gO=ew.qW().toString()+','+ew.ql().toString()+','+ew.rX().toString()+','+ew.su().toString()+','+(ew.wI()+nl).toString()+','+(ew.wr()+md).toString();this.fW(bA.yz,'transform','matrix('+gO+')');}};function axi(bA){var pathList=bA.wC.getElementsByTagName('path');var gList=bA.wC.getElementsByTagName('g');bA.OX=[];function acq(pathItem,index){if(!pathItem.hasAttribute('data-pcc-mark')){if(pathItem.hasAttribute('stroke-width')||pathItem.style.strokeWidth){pathItem.originalStrokeWidth=pathItem.getAttribute('stroke-width')||pathItem.style.strokeWidth;bA.OX.push(pathItem);}}};IPCC.V.forEach(pathList,acq);IPCC.V.forEach(gList,acq);};this.alZ=function(bA){var aE=h.bp();var arG=1;var jX=aE.aEi();function setStrokeWidthToOriginalValue(pathItem,index){if(pathItem.hasAttribute('stroke-width')){pathItem.setAttribute('stroke-width',parseFloat(pathItem.originalStrokeWidth));}else{var strokeWidth=parseFloat(pathItem.originalStrokeWidth);pathItem.style.strokeWidth=strokeWidth;}};function updateStrokeWidthByLineWidthMultiplier(pathItem,index){if(pathItem.hasAttribute('stroke-width')){pathItem.setAttribute('stroke-width',parseFloat(pathItem.originalStrokeWidth*jX));}else{var strokeWidth=parseFloat(pathItem.originalStrokeWidth);pathItem.style.strokeWidth=strokeWidth*jX;}};if(bA.OX===undefined){axi(bA);}if(jX===arG){IPCC.V.forEach(bA.OX,setStrokeWidthToOriginalValue);}else{IPCC.V.forEach(bA.OX,updateStrokeWidthByLineWidthMultiplier);}aE.aqE(false);};function axL(bA,ab){bA.sV.setAttribute('exponent',ab);bA.sB.setAttribute('exponent',ab);bA.rW.setAttribute('exponent',ab);};function axI(bA,ab){var asz=841;var mY=(ab/asz)* -1;var gO;if(IPCC.V.Dm){gO='{00} {01} {02} '+'{10} {11} {12} '+'{20} {21} {22}';gO=gO.replace('{00}',mY).replace('{01}',mY).replace('{02}',mY).replace('{10}',mY).replace('{11}',1).replace('{12}',mY).replace('{20}',mY).replace('{21}',mY).replace('{22}',mY);}else{gO='{00} {01} {02} {03} {04} '+'{10} {11} {12} {13} {14} '+'{20} {21} {22} {23} {24} '+'{30} {31} {32} {33} {34} '+'{40} {41} {42} {43} {44}';gO=gO.replace('{00}',0).replace('{01}',0).replace('{02}',0).replace('{03}',0).replace('{04}',0).replace('{10}',0).replace('{11}',mY).replace('{12}',mY).replace('{13}',mY).replace('{14}',0).replace('{20}',0).replace('{21}',mY).replace('{22}',1).replace('{23}',mY).replace('{24}',0).replace('{30}',0).replace('{31}',mY).replace('{32}',mY).replace('{33}',mY).replace('{34}',0).replace('{40}',0).replace('{41}',0).replace('{42}',0).replace('{43}',0).replace('{44}',0);}bA.lT.setAttribute('kernelMatrix',gO);};this.anJ=function(bA){var aE=h.bp();var sy=aE.aso();var qw=aE.aEG();if(qw===0&&sy===1){bA.yz.removeAttribute('filter','url(#'+bA.Ie+')');}else{bA.yz.setAttribute('filter','url(#'+bA.Ie+')');}axL(bA,sy);axI(bA,qw);};var ZS,YD;this.amX=function(bA,ew,pe,aB,nl,md){if(bA.Zs.match('maglevel')){alw.apply(this,arguments);return;}var av=bA.gS.parentElement.getBoundingClientRect();var jz=av.width/aB.width;var adi=function(val){return Math.abs(val)<1.0e-14;};var eU=0,ec=0;var aDy=function(){var om=ew.ql();if(adi(om)){om=0;}var rm=ew.rX();if(adi(rm)){rm=0;}var aCc=ew.qW();var hg=(om>=0&&rm<0)?90:(om<0&&rm>=0)?270:(aCc<0)?180:(om>=0&&rm>=0)?0:0;switch(hg){case 90:eU=av.width;break;case 180:eU=av.width;ec=av.height;break;case 270:ec=av.height;break;}return hg*(Math.PI/180);};var hg=aDy();if(parseInt(hg,10)===1||parseInt(hg,10)===4){jz=av.height/aB.width;}if(jz===ZS&&hg===YD){return;}else{ZS=jz;YD=hg;}var fE=1,gZ=0;if(hg!==0){fE=Math.cos(hg);gZ=Math.sin(hg);}var bk={jz:fE*jz,rs:fE*jz,om:gZ*jz,rm:gZ* -1*jz,eU:eU,ec:ec};var aDI=new IPCC.eo(bk.jz,bk.om,bk.rm,bk.rs,bk.eU,bk.ec);ew.QW(aDI);h.bp().jF(ew);var gO='matrix({scaleX},{skewX},{skewY},{scaleY},{moveX},{moveY})';gO=gO.replace('{scaleX}',bk.jz).replace('{scaleY}',bk.rs).replace('{skewX}',bk.om).replace('{skewY}',bk.rm).replace('{moveX}',bk.eU).replace('{moveY}',bk.ec);this.fW(bA.yz,'transform',gO);};this.ass=function(){ZS=undefined;YD=undefined;};this.aFI(h);this.asY=function(dO){var aP=new IPCC.Bi(dO.clientWidth,dO.clientHeight,96,96);return aP;};this.ahR=function(bx){bx.preventDefault();aA.kw(bx);};this.ajv=function(bx){bx.preventDefault();aA.jZ(bx);};this.aiQ=function(bx){bx.preventDefault();aA.kC(bx);};this.aeI=function(bx){aA.kw(bx);};this.amM=function(bx){aA.xG(bx);};this.ahA=function(bx){aA.jZ(bx);};this.Sy=function(bx){aA.mo(bx);};this.ahg=function(bx){aA.kC(bx);};this.aiB=function(bx){aA.xG(bx);};this.ajq=function(bx){aA.SU(bx);};this.Ql=function(bx){if(bx.target!==document.activeElement){aA.ayv(bx);}};this.ahT=function(bx){if(bx.target!==document.activeElement){aA.ayS(bx);}};this.oM=function(bx){try{bx.preventDefault();var K=new IPCC.Web.UI.MouseEventArgs();K.domEvent=bx;aA.tj(K);h.aCI(K);}catch(ex){h.af('mouseOut',ex);}};this.IH=function(bx){try{bx.preventDefault();var K=new IPCC.Web.UI.MouseEventArgs();K.domEvent=bx;aA.tj(K);h.aAV(K);}catch(ex){h.af('touchStart',ex);}};this.KC=function(bx){try{bx.preventDefault();var K=new IPCC.Web.UI.MouseEventArgs();K.domEvent=bx;aA.tj(K);h.aAa(K);}catch(ex){h.af('touchMove',ex);}};this.LQ=function(bx){try{bx.preventDefault();var K=new IPCC.Web.UI.MouseEventArgs();K.domEvent=bx;aA.tj(K);h.azJ(K);}catch(ex){h.af('touchEnd',ex);}};this.Ix=function(bx){try{bx.preventDefault();var K=new IPCC.Web.UI.MouseEventArgs();K.domEvent=bx;aA.tj(K);h.azi(K);}catch(ex){h.af('touchCancel',ex);}};this.aiI=function(bx){try{bx.preventDefault();}catch(ex){h.af('dragStart',ex);}};this.ayq=function(){var eN=h.mq().igElements.mj;IPCC.Web.UI.bS.addHandler(eN,"mousewheel",this.Sy);IPCC.Web.UI.bS.addHandler(eN,"DOMMouseScroll",this.Sy);if(oE){IPCC.Web.UI.bS.addHandler(eN,"touchstart",this.IH);IPCC.Web.UI.bS.addHandler(eN,"touchmove",this.KC);IPCC.Web.UI.bS.addHandler(eN,"touchend",this.LQ);IPCC.Web.UI.bS.addHandler(eN,"touchcancel",this.Ix);}IPCC.Web.UI.bS.addHandler(eN,"mouseout",this.oM);IPCC.Web.UI.bS.addHandler(eN,"dragstart",this.aiI);};this.asn=function(){var eN=h.mq().igElements.mj;IPCC.Web.UI.bS.removeHandler(eN,"DOMMouseScroll",this.Sy);IPCC.Web.UI.bS.removeHandler(eN,"mouseout",this.oM);if(oE){IPCC.Web.UI.bS.removeHandler(eN,"touchstart",this.IH);IPCC.Web.UI.bS.removeHandler(eN,"touchmove",this.KC);IPCC.Web.UI.bS.removeHandler(eN,"touchend",this.LQ);IPCC.Web.UI.bS.removeHandler(eN,"touchcancel",this.Ix);}IPCC.Web.UI.bS.removeHandler(eN,"dragstart",this.aiI);};function awA(bA,hK){var qq=document.createElementNS('http://www.w3.org/2000/svg','filter');var Ie='filter'+hK;bA.Ie=Ie;qq.setAttribute('id',Ie);qq.setAttribute('x','0');qq.setAttribute('y','0');qq.setAttribute('filterUnits','objectBoundingBox');qq.setAttribute('color-interpolation-filters','sRGB');return qq;};function avo(hK){var lT=document.createElementNS('http://www.w3.org/2000/svg','feConvolveMatrix');lT.setAttribute('in','SourceGraphic');lT.setAttribute('result',hK+'lT');lT.setAttribute('preserveAlpha','true');if(IPCC.V.Dm){lT.setAttribute('order','3 3');lT.setAttribute('kernelMatrix','0 0 0 0 1 0 0 0 0');}else{lT.setAttribute('order','5 5');lT.setAttribute('kernelMatrix','0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0');}return lT;};function awV(hK){var rd=document.createElementNS('http://www.w3.org/2000/svg','feComponentTransfer');rd.setAttribute('in',hK+'lT');rd.setAttribute('result',hK+'rd');return rd;};function awK(hK){var sV=document.createElementNS('http://www.w3.org/2000/svg','feFuncR');sV.setAttribute('type','gamma');sV.setAttribute('amplitude','1');sV.setAttribute('exponent','1');sV.setAttribute('offset','0');var sB=document.createElementNS('http://www.w3.org/2000/svg','feFuncG');sB.setAttribute('type','gamma');sB.setAttribute('amplitude','1');sB.setAttribute('exponent','1');sB.setAttribute('offset','0');var rW=document.createElementNS('http://www.w3.org/2000/svg','feFuncB');rW.setAttribute('type','gamma');rW.setAttribute('amplitude','1');rW.setAttribute('exponent','1');rW.setAttribute('offset','0');return{sV:sV,sB:sB,rW:rW};};function awO(bA,hK){var Hj=document.createElementNS('http://www.w3.org/2000/svg','feMerge');var akb=document.createElementNS('http://www.w3.org/2000/svg','feMergeNode');var akY=document.createElementNS('http://www.w3.org/2000/svg','feMergeNode');akb.setAttribute('in',hK+'lT');akY.setAttribute('in',hK+'rd');Hj.appendChild(akb);Hj.appendChild(akY);return Hj;};this.asy=function(bA,gS,sx,hK){var C,bq,dO,Yq;var Rq=function(bG,dr,aV){var dO=document.createElementNS('http://www.w3.org/2000/svg',bG);var C;if(dr){dO.setAttribute('id',dr);}for(C in aV){if(aV.hasOwnProperty(C)){dO.setAttribute(C,aV[C]);}}return dO;};var eG=Rq('svg',null,{xmlns:'http://www.w3.org/2000/svg',version:'1.1',xlink:'http://www.w3.org/1999/xlink','image-rendering':'optimizeQuality'});var qq=awA(bA,hK);bA.aIq=qq;var lT=avo(hK);bA.lT=lT;qq.appendChild(lT);var rd=awV(hK);bA.rd=rd;qq.appendChild(rd);var Ew=awK();rd.appendChild(Ew.sV);rd.appendChild(Ew.sB);rd.appendChild(Ew.rW);bA.sV=Ew.sV;bA.sB=Ew.sB;bA.rW=Ew.rW;var Hj=awO(bA,hK);qq.appendChild(Hj);eG.appendChild(qq);bA.tM=Rq('rect',null,{x:0,y:0,'fill-opacity':'0.005',fill:'#808080'});eG.appendChild(bA.tM);var Sx=Rq('g',null,{});bA.yz=Sx;eG.appendChild(Sx);var cI;if(h.pV()===false){cI=sx.fK.length;}else{cI=1;}for(C=0;C<cI;C++){bq=sx.fK[C];bq.pool.parentElementID=hK+C.toString();Yq=1/bq.ct;dO=Rq('g',bq.pool.parentElementID,{transform:'matrix('+Yq.toString()+',0,0,'+Yq.toString()+',0,0)'});Sx.appendChild(dO);}bA.wC=eG;gS.appendChild(eG);};this.axK=function(ju){var aoC=this.ajN();ju.elementID=aoC;};this.aCx=function(ju){var dO=document.getElementById(ju.elementID);this.fW(dO,'display','none');};this.agT=function(ju){var dO=document.getElementById(ju.elementID);if(dO===null){ju.elementID='';return;}dO.setAttributeNS('http://www.w3.org/1999/xlink','href','');dO.parentNode.removeChild(dO);ju.elementID='';};var aAB=function(bx){try{bx.target.onload=undefined;bx.target.onerror=undefined;bx.target.onabort=undefined;var ju=bx.target.poolItem;ju.loaded=true;aA.Az();}catch(ex){h.af('downloadImage',ex);}};var alu=function(bx){try{bx.target.onload=undefined;bx.target.onerror=undefined;bx.target.onabort=undefined;bx.target.setAttributeNS('http://www.w3.org/1999/xlink','href','');bx.target.setAttribute('display','none');throw new IPCC.Web.UI.ImGearException('An image failed to download or the user cancelled it',{name:'IPCC.Web.UI.ImGearHttpException'});}catch(ex){h.af('downloadImage',ex);var cK=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cK.exception=ex;cK.pageNumber=h.aU;h.bU('pageOpenFailed',cK);}};this.aFc=function(zp){var C;var cI=zp.length;if(h.pV()===false){cI=zp.length;}else{cI=1;}for(C=0;C<cI;C++){var ek=zp[C];var dO=document.getElementById(ek.poolItem.elementID);if(dO===null){var ju=ek.poolItem;var KD=ju.pool;var gS=document.getElementById(KD.parentElementID);dO=document.createElementNS('http://www.w3.org/2000/svg','image');this.fW(dO,'id',ju.elementID);this.fW(dO,'externalResourcesRequired','true');dO.poolItem=ju;dO.onload=aAB;dO.onerror=alu;dO.onabort=alu;if(document.documentMode>8||IPCC.V.vY.zv){ju.loaded=true;}dO.setAttributeNS('http://www.w3.org/1999/xlink','href','data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7');this.azA(dO,ek.url,'image/'+ek.contentType);gS.appendChild(dO);this.fW(dO,'display','block');var be=ek.right-ek.x;var ba=ek.bottom-ek.y;this.fW(dO,'x',ek.x);this.fW(dO,'y',ek.y);this.fW(dO,'width',be);this.fW(dO,'height',ba);if(cI>1){var aru=be-ek.vE;var asu=ba-ek.wb;var OC=document.createElementNS('http://www.w3.org/2000/svg','clipPath');OC.id=dO.id+'_clip';var eB=document.createElementNS('http://www.w3.org/2000/svg','rect');this.fW(eB,'x',ek.x-ek.vE);this.fW(eB,'y',ek.y-ek.wb);this.fW(eB,'width',aru);this.fW(eB,'height',asu);this.fW(eB,'class','expand-on-print');OC.appendChild(eB);var insertBeforeElement=null;for(var i=0;i<gS.childNodes.length;i++){if(gS.childNodes.item(i).getAttribute('x')<ek.x||gS.childNodes.item(i).getAttribute('y')<ek.y){insertBeforeElement=gS.childNodes.item(i);break;}}gS.insertBefore(dO,insertBeforeElement);gS.appendChild(OC);this.fW(dO,'style','clip-path: url(#'+OC.id+')');this.fW(dO,'class','no-clip-on-print');}}this.fW(dO,'display','block');}if((document.documentMode>8||IPCC.V.vY.zv)&&zp.length>0){aA.Az();}};this.azA=function(dO,aQ,uZ){var sZ=true;var mz=0;if(h.jJ()===0){sZ=false;}function ez(aM){var dG,cK;try{var fu=IPCC.Web.GP(aM),Sl;var pp=aM.getResponseHeader("Accusoft-Data-Encrypted");if(pp==='true'&&h.jx()===true){var ub=IPCC.Web.gI.sK.vx(aM.getResponseHeader("Accusoft-Data-SK"));var au=IPCC.Web.IX(ub,jC);var ts=IPCC.Web.Df(fu,au,jC);Sl=IPCC.Web.gI.sK.pd(ts,0,0);}else{Sl=IPCC.Web.gI.sK.pd(fu,0,0);}dO.setAttributeNS('http://www.w3.org/1999/xlink','href','data:'+uZ+';base64,'+Sl);}catch(ex){dG="Image error, Error message = "+ex.message;cK=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cK.exception=ex;cK.pageNumber=h.aU;h.bU('pageOpenFailed',cK);throw new IPCC.Web.UI.ImGearArgumentException(null,dG);}};function fz(ad){var gP=ad.response.status,dG,mE,lG;if(!ad.response){throw new IPCC.Web.UI.ImGearHttpException(gP,"Client Image load timeout");}if(gP===403){mz++;if(ad.response.statusText&&ad.response.statusText!==""){dG="Expired viewer session ID, error message from the server: "+ad.response.statusText;}else{dG="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(gP,dG);}mE=ad.response.getResponseHeader('Accusoft-Status-Message');if(mE){var pH;lG=ad.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.xQ(lG)){pH=parseInt(lG,10);}throw new IPCC.Web.UI.ImGearHttpException(gP,mE,pH);}else{if(ad.response.statusText&&ad.response.statusText!==""){dG=ad.response.statusText;}else{dG="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(gP,dG);}};var hs={method:'GET'};if(sZ===true){hs.timeout=h.jJ();}if(h.asG()&&h.jx()===true){var jC=IPCC.Web.EQ.ada(4);var ro=IPCC.Web.gI.GS.pd(jC);var avc=aQ+'&iv='+ro;hs.url=avc;}else{hs.mimeType='text/plain; charset=x-user-defined';hs.url=aQ;}IPCC.V.nB.fq(hs).then(ez,fz);};this.aGi=function(bA){var T=this;if(bA.XI){return;}var mz=0;var ek=bA.sx.fK[0].tiles[0];if(!ek){return;}var KD=ek.level.pool;var gS=document.getElementById(KD.parentElementID);var sZ=true;if(h.jJ()===0){sZ=false;}var vK=h.XE();if(bA.Gb){if(vK===2){delete bA.Gb;if(gS.childNodes.length>0){gS.removeChild(gS.childNodes[0]);}}else if(vK===1){if(gS.childNodes.length>0){gS.removeChild(gS.childNodes[0]);}}else{if(gS.childNodes.length===0){gS.appendChild(bA.aoe);}}h.vI=true;return;}if(vK>0){return;}function ez(aM){var cK,dG;bA.XI=false;try{try{var nd;var pp=aM.getResponseHeader("Accusoft-Data-Encrypted");if(pp==='true'&&h.jx()===true){var ub=IPCC.Web.gI.sK.vx(aM.getResponseHeader("Accusoft-Data-SK"));var au=IPCC.Web.IX(ub,jC);var fu=IPCC.Web.GP(aM);var ts=IPCC.Web.Df(fu,au,jC);nd=IPCC.Web.gI.Kf.pd(ts);}else{nd=aM.responseText;}aFw(nd);}catch(ex){dG="SVG image error, Error message = "+ex.message;cK=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cK.exception=ex;cK.pageNumber=h.aU;h.bU('pageOpenFailed',cK);throw new IPCC.Web.UI.ImGearArgumentException(null,dG);}}catch(e){h.af('openPage',e);if(typeof(h.bU)==='function'){cK=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cK.exception=e;cK.pageNumber=h.aU;h.bU('pageOpenFailed',cK);}}};function fz(ad){var cK,dG,mE,lG;bA.XI=false;try{if(!ad.response){throw new IPCC.Web.UI.ImGearHttpException(0,"Client SVG load timeout");}var gP=ad.response.status;if(gP===480){mz++;if(ad.response.statusText&&ad.response.statusText!==""){dG=dG="PDF file password required, error message from the server: "+ad.response.statusText;}else{dG="PDF file password required.";}throw new IPCC.Web.UI.ImGearHttpException(gP,dG);}if(gP===403){mz++;if(ad.response.statusText&&ad.response.statusText!==""){dG="Expired viewer session ID, error message from the server: "+ad.response.statusText;}else{dG="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(gP,dG);}mE=ad.response.getResponseHeader('Accusoft-Status-Message');if(mE){var pH;lG=ad.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.xQ(lG)){pH=parseInt(lG,10);}throw new IPCC.Web.UI.ImGearHttpException(gP,mE,pH);}else{if(ad.response.statusText&&ad.response.statusText!==""){dG=ad.response.statusText;}else{dG="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(gP,dG);}}catch(e){h.af('openPage',e);if(typeof(h.bU)==='function'){cK=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cK.exception=e;cK.pageNumber=h.aU;h.bU('pageOpenFailed',cK);}}};var aoj=function(){var aE=h.bp();var xk=aE.ant();h.vI=true;h.bU('pageDisplayed',{ah:h.aU});if(xk){T.alZ(bA);}};var aFw=function(hk){var wp=KD.parentElementID.toString();var KA=(IPCC.V.Dm||IPCC.V.abn)?'':window.location.href.replace(window.location.hash,'').replace(/#$/,'');var aEJ=KA.replace(/"/g,'\\$&');var amm=KA.replace(/[()]/g,'\\$&');hk=hk.replace(/href="#/g,'href="'+aEJ+'#'+wp);hk=hk.replace(/="url\(#/g,'="url('+amm+'#'+wp);hk=hk.replace(/fill:url\(#/g,'fill:url('+amm+'#'+wp);hk=hk.replace(/ id="/g,' id="'+wp);hk=hk.replace(/<use([^>]+)\/>/g,' <use$1></use>');var WQ=document.createElement('div');WQ.innerHTML=hk;var po=WQ.querySelectorAll('style');IPCC.V.forEach(po,function(aS){var ajP=(aS.styleSheet)?aS.styleSheet.cssText:aS.textContent;if(aS.styleSheet){aS.styleSheet.cssText=ajP;}else{aS.appendChild(document.createTextNode(ajP));}});var kP=null;var JB=WQ.firstChild;while(JB!==null){if(JB.nodeName==='svg'){kP=JB;break;}JB=JB.nextSibling;}if(kP===null){throw new IPCC.Web.UI.ImGearInvalidOperationException('Unable to process SVG image data.');}if(!bA.Gb){bA.aoe=kP;gS.appendChild(kP);bA.Gb=true;if(!h.vI&&bA.Gb){setTimeout(aoj,1);}}};var aQ;var jC,ro;h.vI=false;if(h.jx()===true){jC=IPCC.Web.EQ.aaN(4,IPCC.Web.PA());ro=IPCC.Web.gI.GS.pd(jC);aQ=ek.url+'&iv='+ro;}else{aQ=ek.url;}var hs={method:'GET',url:aQ,cache:true};if(sZ===true){hs.timeout=h.jJ();}bA.XI=true;IPCC.V.nB.fq(hs).then(ez,fz);};this.aqv=function(ek,cz){if(!ek){return;}var BA=document.getElementById(ek.poolItem.elementID);this.fW(BA,'x',ek.x);this.fW(BA,'y',ek.y);this.fW(BA,'width',ek.right-ek.x);this.fW(BA,'height',ek.bottom-ek.y);this.fW(BA,'opacity',cz);this.fW(BA,'display','block');};this.abM=function(zp,cz,ew){var C;if(h.pV()===false){for(C=0;C<zp.length;C++){this.aqv(zp[C],cz);}}};return this;};eV.viewerCounter=0;eV.tileCounter=0;eV.imageIDCounter=0;eV.prototype.aFI=function(h){this.hK=IPCC.eV.viewerCounter.toString();IPCC.eV.viewerCounter++;this.h=h;if(IPCC.dj){this.nQ=new IPCC.Web.UI.MarkCollection();}var T=this;function axX(bM,K){T.aAM(K);};function yH(bM,K){T.azg(K);};h.ln(axX);h.add_markAdded(yH);h.add_markChanged(yH);h.add_inProgressMarkChanged(yH);h.add_markRemoved(yH);h.add_markReordered(yH);h.add_marksLoaded(yH);h.add_markSelectionChanged(yH);h.add_markTextSelectionChanged(yH);};eV.prototype.ajN=function(){var dr='igtile'+IPCC.eV.tileCounter.toString();IPCC.eV.tileCounter++;return dr;};eV.prototype.Az=function(){this.PM=true;this.BS=this.BS&&this.WY;var T=this;var aBK=function(){if(!T.PM){return;}T.cn(T.h.cU(),T.h.bp(),T.h.eu());T.BS=true;};window.setTimeout(aBK,0);};eV.prototype.aAM=function(K){var tL=K.get_propertyName();switch(tL){case 'magnifierWindowSize':case 'magnifierWindowPosition':case 'magnifierMagnification':if(!this.h.bp().get_magnifierIsVisible()){return;}break;case 'cursor':case 'markCursor':this.HE=true;if(this.h.yt()===true){this.Az();}return;case 'displayedPageRectangle':if(this.h.vI===true){this.Az();return;}break;case 'redactionDraftMode':this.HE=true;this.Az();return;}if(this.h.yt()===true){this.Az();}};eV.prototype.azg=function(K){if(K.mark&& !this.HE){this.nQ.addMark(K.mark);}else{this.HE=true;}if(this.h.yt()===true){this.Az();}};eV.prototype.XG=function(){this.lf=this.ew.clone();this.lf.nu(this.aaA,this.aaC);this.lf.hW(this.h.cU(),this.h.eu());this.qb=this.lf.clone();this.qb.ww();};eV.prototype.cn=function(bu,aE,aP){try{this.PM=false;if(this.Qe===true){return;}var di=this.h.mq();if(di===null){return;}var cj=di.igElements;try{this.Qe=true;if(this.Fw===undefined||bu===undefined|| !(this.Fw.equals(bu))){if(this.abc){if(this.jr){this.asn(this.jr);var eN=cj.mj;IPCC.Web.UI.bS.removeHandler(eN,"mousedown",this.aeI);IPCC.Web.UI.bS.removeHandler(eN,"mousemove",this.ahA);IPCC.Web.UI.bS.removeHandler(eN,"mouseup",this.ahg);IPCC.Web.UI.bS.removeHandler(eN,"dblclick",this.aiB);IPCC.Web.UI.bS.removeHandler(eN,"contextmenu",this.ajq);IPCC.Web.UI.bS.removeHandler(cj.fr,"blur",this.Ql);IPCC.Web.UI.bS.removeHandler(cj.gg,"blur",this.ahT);IPCC.Web.UI.bS.removeHandler(cj.dh,"blur",this.Ql);}delete this.jr;this.aep(cj.rk);this.aep(cj.BI);this.abc=false;if(this.FD!==undefined){this.FD.unlockAllItems();}if(this.Kr!==undefined){this.Kr.unlockAllItems();}this.FD=undefined;this.Kr=undefined;di.igElements.oi.onscroll=null;di.igElements.oi.onresize=null;}if(di.querySelectorAll){if(di.querySelectorAll(".pccPageLoadFail").length===0){di.innerHTML='';}}this.h.pY(true);if(bu===undefined){this.Qe=false;this.Fw=undefined;this.ass();return;}this.Fw=bu.clone();this.FD=new IPCC.re();this.FD.createPyramid(this,this.h);this.Kr=new IPCC.re();this.Kr.createPyramid(this,this.h);this.abc=true;this.asm(this.hK);}this.ew=aE.ep();var Rr=this.ew.qU(bu);this.ew.nu(-Rr.x,-Rr.y);this.axT=this.ew.clone();this.axT.ww();this.aaA=Math.round(Rr.x);this.aaC=Math.round(Rr.y);this.XG();this.anR(bu,aE,aP);if(bu.aU===0){this.XG();}}finally{this.Qe=false;this.HE=false;if(this.nQ){this.nQ.removeAllMarks();}}this.afi(true);}catch(e){this.h.af('display',e);throw e;}};eV.prototype.aqb=function(vQ,vw,xt){if(vQ[vw]===xt){return;}vQ[vw]=xt;};eV.prototype.fW=function(vQ,vw,xt){if(vQ.getAttribute(vw)===xt){return;}vQ.setAttribute(vw,xt);};eV.prototype.yc=function(vQ,vw,xt){if(vQ.style[vw]===xt){return;}vQ.style[vw]=xt;};eV.prototype.afi=function(ata){if(this.Qe){return;}if(this.PM&& !this.BS){return;}if(!ata){try{this.WY=true;var di=this.h.mq();if(di){this.wW=di.igElements.oi.scrollLeft;this.vL=di.igElements.oi.scrollTop;}this.anL();this.XG();this.h.bp().jF(this.lf);this.h.bU('userModifiedViewState',{});this.h.pY(false);}finally{this.WY=false;}}};eV.prototype.anb=function(bA,ew,asi){var sx=bA.sx;var qu=sx.apZ(ew,asi);if(!this.h.vI&&qu.tilesToRequest.length===0&&(qu.opaqueTiles.length+qu.translucentTiles.length)>0){this.h.vI=true;this.h.bU('pageDisplayed',{ah:this.h.aU});}sx.aEQ(qu);if(this.h.pV()===false){this.aFc(qu.tilesToRequest);this.abM(qu.opaqueTiles,1,ew);this.abM(qu.translucentTiles,qu.opacity,ew);}};eV.prototype.asm=function(hK){var h=this.h;var di=h.mq();var aE=h.bp();var aA=this;function hy(qf){var ys=document.createElement('div');var C;for(C in qf){if(qf.hasOwnProperty(C)){ys.style[C]=qf[C];}}return ys;};var cj={};di.igElements=cj;var iu=hy({width:'100%',height:'100%',position:'relative',overflow:aE.get_overflow(),margin:'0px',borderWidth:'0px','-moz-user-select':'text','-webkit-user-select':'text'});cj.oi=iu;iu.setAttribute('class','igViewerScroller');iu.onscroll=function(){aA.afi(false);};iu.onresize=function(){var aP=h.eu();aP.width=iu.clientWidth;aP.height=iu.clientHeight;h.bU('resize',{});};var eN=hy({width:'2px',height:'2px',position:'relative',overflow:'hidden',margin:'0px',left:'0',top:'0','-ms-touch-action':'none'});iu.appendChild(eN);cj.mj=eN;eN.setAttribute('class','igViewerGraphics');this.zF=2;this.zA=2;this.wW=0;this.vL=0;var bA={};bA.sx=this.FD;bA.Zs='ig'+hK+'level';cj.rk=bA;this.akh(bA,eN,hy);bA.qi=this.qi;var kp;if(h.pV()===false){kp=hy({position:'absolute',display:'none',width:(aE.vT().width+4)+'px',height:(aE.vT().height+4)+'px',backgroundColor:'#000000'});}else{kp=hy({position:'absolute',display:'none',width:(aE.vT().width+4)+'px',height:(aE.vT().height+4)+'px',backgroundColor:'#cccccc'});}eN.appendChild(kp);cj.kp=kp;kp.setAttribute('class','igMagnifierFrame');var sb=hy({width:'0px',height:'0px',position:'absolute',overflow:'hidden',margin:'0px',left:'0',top:'0'});cj.sb=sb;kp.appendChild(sb);bA={};bA.sx=this.Kr;bA.Zs='ig'+hK+'maglevel';cj.BI=bA;this.akh(bA,sb,hy);bA.qi=this.axj;var QR=document.createTextNode('');cj.QR=QR;var fr=document.createElement('textarea');fr.appendChild(QR);fr.style.position='absolute';fr.style.overflow='auto';fr.style.width='80px';fr.style.height='80px';fr.style.resize='none';fr.style.display='none';iu.appendChild(fr);cj.fr=fr;var Zu=document.createTextNode('');cj.Zu=Zu;var gg=document.createElement('input');gg.type="text";gg.style.position='absolute';gg.style.overflow='hidden';gg.style.width='80px';gg.style.height='80px';gg.style.resize='none';gg.style.display='none';gg.style.padding='0px';gg.style.margin='0px';gg.style.lineHeight='normal';gg.className="no-ms-clear";var ajI=function(ev){var vG=gg,be=parseFloat(vG.style['width']),ba=parseFloat(vG.style['height']),jf=vG.style['fontFamily'];var azs=vG.value.length>vG.placeholder.length?vG.value:vG.placeholder;var iE=IPCC.V.tw(azs,jf,{uG:'pre',eG:cj.rk.wC}),yS=12*be/(iE.width||1),xU=12*ba/(iE.height||1),yJ=Math.floor(Math.min(yS,xU))*0.9;vG.style.fontSize=yJ+'px';};gg.onkeyup=ajI;gg.onfocus=function(ev){ajI(ev);if(gg.setSelectionRange){var fS=gg.value.length*2;gg.setSelectionRange(fS,fS);}};iu.appendChild(gg);cj.gg=gg;var pO=document.createTextNode('');cj.pO=pO;var dh=document.createElement('textarea');dh.appendChild(pO);dh.style.position='absolute';dh.style.overflow='hidden';dh.style.width='80px';dh.style.height='80px';dh.style.resize='none';dh.style.display='none';dh.style.whiteSpace='pre-wrap';dh.style.border=0;dh.style.padding='2px';dh.style.fontStyle='normal';var ayF=function(aa){var aoZ=h.Gy();var ct=h.bp().ep().pE();var hX=aoZ.hX*ct;var aq=h.np().ia()*ct;IPCC.V.Yr(dh,hX,aq);};dh.onkeyup=ayF;iu.appendChild(dh);cj.dh=dh;this.jr={};this.ayq(this.jr);IPCC.Web.UI.bS.addHandler(eN,"mousedown",this.aeI);IPCC.Web.UI.bS.addHandler(eN,"mousemove",this.ahA);IPCC.Web.UI.bS.addHandler(eN,"mouseup",this.ahg);IPCC.Web.UI.bS.addHandler(eN,"dblclick",this.aiB);IPCC.Web.UI.bS.addHandler(eN,"contextmenu",this.ajq);IPCC.Web.UI.bS.addHandler(fr,"blur",this.Ql);IPCC.Web.UI.bS.addHandler(gg,"blur",this.ahT);IPCC.Web.UI.bS.addHandler(dh,"blur",this.Ql);di.appendChild(iu);};eV.prototype.akh=function(bA,gS,hy){var tK=hy({width:'2px',height:'2px',position:'absolute'});bA.gS=gS;gS.appendChild(tK);bA.anw=tK;tK.setAttribute('class','igAnchor');this.asy(bA,tK,bA.sx,bA.Zs);bA.Aw=hy({position:'absolute',width:'10px',height:'10px',left:'0px',top:'0px',overflow:'visible'});tK.appendChild(bA.Aw);var jE=hy({overflow:'hidden',display:'none',position:'absolute',backgroundColor:'#00C0E0',border:'#006070 2px solid'});jE.style[this.ayL]=this.ays(0.5);tK.appendChild(jE);bA.jE=jE;};eV.prototype.aep=function(bA){if(bA&&bA.RK){bA.qi.arF();bA.RK=false;}bA.gS=null;};eV.prototype.anR=function(bu,aE,aP){var h=this.h;var lL=this.lf.qU(bu);var di=h.mq();var asX=h.arJ();var Aa=h.asK();var cj=di.igElements;var rk=cj.rk;var BI=cj.BI;var iu=cj.oi;var eN=cj.mj;var tK=rk.anw;var kp=cj.kp;var sb=cj.sb;var ajw=BI.anw;var JJ=Math.max(0,-lL.x);var Jx=Math.max(0,-lL.y);var aDr=Math.max(lL.width,aP.width);var aEx=Math.max(lL.height,aP.height);var nl=Math.max(0,lL.x);var md=Math.max(0,lL.y);var ach=false;var By=false;if(aE.xY()){By=aE.wn();}var aAf=this.zF;this.zF=Math.floor(aDr-1);if(this.zF<0){this.zF=0;}var azO=this.zA;this.zA=Math.floor(aEx-1);if(this.zA<0){this.zA=0;}if(h.pV()===true){if(this.zA===0){this.zA=2;}if(this.zF===0){this.zF=2;}}var aAS=this.wW;var aCF=this.vL;if(!this.BS){this.wW=Math.floor(JJ);this.vL=Math.floor(Jx);}if(this.aiv){this.yc(tK,'left',nl+'px');this.yc(tK,'top',md+'px');}var ew=aE.ep();ew.nu(JJ-nl,Jx-md);this.amn(rk,aE.ep(),ew,bu,aP,By,nl,md);this.yc(iu,'overflow',aE.get_overflow());if(aP.width!==iu.clientWidth||aP.height!==iu.clientHeight){aP.width=iu.clientWidth;aP.height=iu.clientHeight;ach=true;}this.aqb(tK.style,'visibility','visible');if(aE.get_magnifierIsVisible()){var uv=aE.get_magnifierWindowPosition();var At=aE.vT();var NR=aE.MK();var Nm=aE.NY();var WD=aE.atz();var aDp=Math.round(uv.x-At.width/2+JJ+NR);var aDX=Math.round(uv.y-At.height/2+Jx+Nm);var NN=WD.qU(bu);var aFJ=Math.max(0,-NN.x);var aDj=Math.max(0,-NN.y);this.yc(ajw,'left',NN.x+'px');this.yc(ajw,'top',NN.y+'px');var Nv=2;kp.style.width=(At.width+Nv*2)+'px';kp.style.height=(At.height+Nv*2)+'px';sb.style.width=At.width+'px';sb.style.height=At.height+'px';sb.style.left=Nv+'px';sb.style.top=Nv+'px';kp.style.left=aDp+'px';kp.style.top=aDX+'px';var ajW=WD.clone();ajW.nu(aFJ,aDj);this.amn(BI,WD,ajW,bu,At,By,0,0);kp.style.display='block';}else{kp.style.display='none';}if(h.amW()){var hS=h.Gy();var apt=hS.fs();var iA=this.lf.ya(apt);var ng=(hS.get_type()===IPCC.Web.UI.MarkType.Text)?64:0;var abH=hS.dE* -1,ags=hS.dE* -1;if(iA.width<ng){iA.width=ng;}if(iA.height<ng){iA.height=ng;}if(iA.width>aP.width){iA.width=aP.width;}if(iA.height>aP.height){iA.height=aP.height;}if(iA.x<0){iA.x=0;}if(iA.y<0){iA.y=0;}if(iA.x+iA.width+1>=aP.width){iA.x=aP.width-iA.width;abH= -8;}if(iA.y+iA.height+1>=aP.height){iA.y=aP.height-iA.height;ags= -8;}var iq=this.FU(hS);iq.style.left=this.wW+iA.x+1+(hS.dE/2)+'px';iq.style.top=this.vL+iA.y+1+(hS.dE/2)+'px';iq.style.width=iA.width+abH-1+'px';iq.style.height=iA.height+ags-1+'px';if(iq.style.display!=='block'){iq.style.display='block';iq.style.whiteSpace='pre-wrap';var rG=hS.du;var sS='';if(rG&IPCC.Web.UI.FontStyle.Italic){iq.style.fontStyle="italic";}if(rG&IPCC.Web.UI.FontStyle.Bold){iq.style.fontWeight="bold";}if(rG&IPCC.Web.UI.FontStyle.Underline){sS+="underline";}if(rG&IPCC.Web.UI.FontStyle.Strikeout){if(rG&IPCC.Web.UI.FontStyle.Underline){sS+=" line-through";}else{sS="line-through";}}iq.style.textDecoration=sS;iq.style.color=hS.qA;iq.style.backgroundColor=hS.dP;iq.style.fontFamily=hS.gl;iq.style['z-index']=100;var yJ=hS.GD*this.lf.pE();if(yJ){iq.style.fontSize=yJ+"px";}switch(hS.jt){case IPCC.Web.UI.HorizontalAlignment.Center:iq.style.textAlign='center';break;case IPCC.Web.UI.HorizontalAlignment.Right:iq.style.textAlign='right';break;default:iq.style.textAlign='left';break;}if(hS.gN){setTimeout(function(){cj.fr.maxLength=hS.gN;cj.gg.maxLength=hS.gN;cj.dh.maxLength=hS.gN;},0);}if(hS.jv){if(Aa){Aa.destroy();h.Vi(null);}h.Vi(new PCCViewer.aGy(iq,hS.jv));}if(hS.iH()===IPCC.Web.UI.MarkType.TextAreaSignature){var dh=IPCC.V.abX();dh.style.width=cj.dh.style.width;dh.style.height=cj.dh.style.height;dh.style.fontFamily=cj.dh.style.fontFamily;dh.style.fontStyle=cj.dh.style.fontStyle;dh.style.fontWeight=cj.dh.style.fontWeight;var ct=h.bp().ep().pE();var hX=hS.hX*ct;var aq=h.np().ia()*ct;IPCC.V.ado().nodeValue=hS.aO||'m';cj.dh.style.fontSize=IPCC.V.Yr(dh,hX,aq)+'px';}iq.focus();}}else{cj.fr.style.display='none';cj.gg.style.display='none';cj.dh.style.display='none';cj.fr.removeAttribute('maxlength');cj.gg.removeAttribute('maxlength');cj.dh.removeAttribute('maxlength');if(Aa){Aa.destroy();h.Vi(null);}if(document.activeElement===cj.fr){cj.fr.blur();}if(document.activeElement===cj.gg){cj.gg.blur();}if(document.activeElement===cj.dh){cj.dh.blur();}}if(ach){h.bU('resize',{});}if(this.zF!==aAf){this.yc(eN,'width','100%');}if(this.zA!==azO){this.yc(eN,'height','100%');}if(this.wW!==aAS){iu.scrollLeft=this.wW;}if(this.vL!==aCF){iu.scrollTop=this.vL;}if(asX==="PageView"&& !this.BS){aE=h.bp();var bk=aE.ep();var yp=(+bk.pE().toFixed(6));if(h.Ot!==yp){h.Ot=yp;setTimeout(function(){h.bU('scaleChanged',{scaleFactor:yp,pageNumber:h.aU});},1);h.bU('scaleChanged',{scaleFactor:yp,pageNumber:h.aU});}}};eV.prototype.amn=function(bA,lf,ew,aB,aP,By,nl,md){var lL=lf.qU(aB);var pe={};pe.width=Math.max(lL.width,aP.width);pe.height=Math.max(lL.height,aP.height);this.aoD(bA,lf,ew,aB,aP,nl,md);this.amX(bA,ew,pe,aB,nl,md);if(this.h.pV()===false){this.amh(bA,aP,lf,ew);}else{this.aGi(bA);var aE=this.h.bp();var xk=aE.ant();if(this.h.vI&&xk){this.alZ(bA);}}this.anJ(bA);if(By){var Ee=ew.ya(By);if(this.aiv){bA.jE.style.left=(Ee.x-2)+'px';bA.jE.style.top=(Ee.y-2)+'px';}else{bA.jE.style.left=(Ee.x-2+nl)+'px';bA.jE.style.top=(Ee.y-2+md)+'px';}bA.jE.style.width=Ee.width+'px';bA.jE.style.height=Ee.height+'px';bA.jE.style.display='block';}else{bA.jE.style.display='none';}};eV.prototype.amh=function(bA,aP,lf,ew){var alC=this.h.aEI();var Fs={x:0,y:0,width:aP.width,height:aP.height};if(alC){var vv=alC.getBoundingClientRect();var hq=bA.gS.getBoundingClientRect();var RW;if(hq.left<vv.left){RW=vv.left-hq.left;Fs.x=(RW/hq.width)*aP.width;}if(hq.right>vv.right){Fs.width=vv.width;}if(hq.top<vv.top){RW=vv.top-hq.top;Fs.y=(RW/hq.height)*aP.height;}if(hq.bottom>vv.bottom){Fs.height=vv.height;}}var qb=lf.clone();qb.ww();var anO=qb.ya(Fs);this.anb(bA,ew,anO);};eV.prototype.aoD=function(bA,lf,ew,aB,aP,nl,md){var aG=this.h.fM();var eF=this.h.lJ();var fj=this.h.QI();var aia=0;var T=this;if(bA.kI){aia=bA.kI.length;}if(!bA.qi|| !aG){return;}var nM=this.h.ars();if(aG.get_markCount()<=0&&eF.get_markCount()<=0&&fj.get_markCount()<=0&&aia<=0&& !nM){return;}if(!bA.RK){bA.qi.ash(this.h,bA,aB);bA.kI=[];bA.RK=true;}eF=this.h.lJ();var aT=[];function awa(R){if((T.h.ly()&&T.h.dp().oa()===true)||R.get_type()!==IPCC.Web.UI.MarkType.Highlight){aT.push(R);}};function adg(R){aT.push(R);};fj.forEachMark(adg);eF.forEachMark(adg);aG.forEachMark(awa);if(nM){aT.push(nM);}var C,kI=bA.kI;for(C=0;C<kI.length;C++){while(C<kI.length&&(C>=aT.length||kI[C].R!==aT[C])){bA.qi.Qx(kI[C]);kI.splice(C,1);}if(C<kI.length&&(this.HE||this.nQ.contains(kI[C].R))){bA.qi.amq(kI[C]);}}for(C=kI.length;C<aT.length;C++){kI[C]={R:aT[C]};var G=kI[C];if(!G){continue;}bA.qi.asL(kI[C]);}if(this.aiv){bA.qi.alE(this.h,bA,aT,ew,this.h.alJ());}else{var akm=ew.clone();akm.nu(nl,md);bA.qi.alE(this.h,bA,aT,akm,this.h.alJ());}};eV.prototype.amX=function(){};eV.prototype.anL=function(){var di=this.h.mq();if(di){this.aaA=di.igElements.mj.offsetLeft-this.wW;this.aaC=di.igElements.mj.offsetTop-this.vL;}};eV.prototype.tj=function(K,cn){var hB=this.h.mq().igElements;var jj=K.domEvent;var ea;if(hB.mj.getBoundingClientRect){ea=hB.mj.getBoundingClientRect();}else{var ej=hB.mj;var tq=document.documentElement;ea={left:tq.clientLeft-tq.scrollLeft,top:tq.clientTop-tq.scrollTop};ej=ej.offsetParent;while(ej){ea.top+=ej.offsetTop-ej.scrollTop;ea.left+=ej.offsetLeft-ej.scrollLeft;ej=ej.offsetParent;}}if(jj.rawEvent.touches){if(jj.rawEvent.touches.length>0){this.Lu=new IPCC.Web.UI.Point(jj.rawEvent.touches[0].clientX-hB.oi.scrollLeft-ea.left,jj.rawEvent.touches[0].clientY-hB.oi.scrollTop-ea.top);}if(!this.Lu){this.Lu=new IPCC.Web.UI.Point(0,0);}K.windowPoint=new IPCC.Web.UI.Point(this.Lu.x,this.Lu.y);jj.button=0;}else{K.windowPoint=new IPCC.Web.UI.Point(jj.clientX-ea.left-hB.oi.scrollLeft,jj.clientY-ea.top-hB.oi.scrollTop);}var OO=this.qb.transform(K.windowPoint);K.imagePoint=new IPCC.Web.UI.Point(OO.x,OO.y);K.constrainedImagePoint=new IPCC.Web.UI.Point(OO.x,OO.y);K.constrainedImagePoint.x=Math.min(Math.max(K.constrainedImagePoint.x,0),this.Fw.width);K.constrainedImagePoint.y=Math.min(Math.max(K.constrainedImagePoint.y,0),this.Fw.height);K.pointLiesWithinImage=(K.constrainedImagePoint.x===K.imagePoint.x&&K.constrainedImagePoint.y===K.imagePoint.y);K.mark=null;try{var ds=jj.target;while(!(ds.ImGearMarkRelation)&&ds.parentNode&&ds!==document.body){ds=ds.parentNode;}if(ds.ImGearMarkRelation){K.mark=ds.ImGearMarkRelation.R;}}catch(bx){}};eV.prototype.kw=function(bx){try{bx.preventDefault();var K=new IPCC.Web.UI.MouseEventArgs();K.domEvent=bx;this.tj(K);this.h.aBZ(K);}catch(ex){this.h.af('mouseDown',ex);}};eV.prototype.jZ=function(bx){try{bx.preventDefault();var K=new IPCC.Web.UI.MouseEventArgs();K.domEvent=bx;this.tj(K);this.h.aBH(K);}catch(ex){this.h.af('mouseMove',ex);}};eV.prototype.mo=function(bx){try{var K=new IPCC.Web.UI.MouseEventArgs();K.domEvent=bx;this.tj(K);if(!bx.rawEvent.wheelDelta){K.wheelDelta= -bx.rawEvent.detail*120;}else{K.wheelDelta=bx.rawEvent.wheelDelta;}this.h.aCe(K);}catch(ex){this.h.af('mouseWheel',ex);}};eV.prototype.xG=function(bx){try{bx.preventDefault();var K=new IPCC.Web.UI.MouseEventArgs();K.domEvent=bx;this.tj(K);this.h.aCq(K);}catch(ex){this.h.af('mouseDoubleClick',ex);}};eV.prototype.kC=function(bx){try{bx.preventDefault();var K=new IPCC.Web.UI.MouseEventArgs();K.domEvent=bx;this.tj(K);this.h.aCv(K);}catch(ex){this.h.af('mouseUp',ex);}};eV.prototype.SU=function(bx){try{bx.preventDefault();var K=new IPCC.Web.UI.MouseEventArgs();K.domEvent=bx;this.tj(K);this.h.aBq(K);}catch(ex){this.h.af('contextMenu',ex);}};eV.prototype.ayv=function(bx){try{this.h.pY(true);}catch(ex){this.h.af('textAreaBlur',ex);}};eV.prototype.ayS=function(bx){try{this.h.pY(true);}catch(ex){this.h.af('textInputBlur',ex);}};eV.prototype.aFM=function(R){var fr=this.FU(R);fr.value=R.aO||"";};eV.prototype.aCf=function(){var h=this.h;var R=h.Gy();if(!R|| !h.amW()){return;}var aab=this.FU(R);if(document.activeElement===aab){aab.blur();}var aO=aab.value;aO=aO.replace(/(\n|\n\r|\r\n|\r)/g,'\n');R.set_text(aO);};eV.prototype.FU=function(R){var hB=this.h.mq().igElements,fr=null;if(R.get_type()===IPCC.Web.UI.MarkType.TextLine){fr=hB.gg;}else if(R.get_type()===IPCC.Web.UI.MarkType.TextAreaSignature){fr=hB.dh;}else if(R.get_type()===IPCC.Web.UI.MarkType.Text){fr=hB.fr;}return fr;};module.exports=eV;},{}],57:[function(require,module,exports){var zQ={};zQ.registerNamespace=function(namespacePath){var rootObject=window;var namespaceParts=namespacePath.split('.');var getTypeName=function(){return this.__typeName;};for(var i=0;i<namespaceParts.length;i++){var currentPart=namespaceParts[i];var ns=rootObject[currentPart];var nsType=typeof(ns);if((nsType!=="undefined")&&(ns!==null)){if(nsType==="function"){throw new Error("namespace error: "+namespacePath);}if((typeof(ns)!=="object")||(ns instanceof Array)){throw new Error("Name space error: "+ns);}}if(!ns){ns=rootObject[currentPart]={};}if(!ns.__namespace){ns.__namespace=true;ns.__typeName=namespaceParts.slice(0,i+1).join('.');ns.getName=getTypeName;}rootObject=ns;}};module.exports=zQ;},{}],58:[function(require,module,exports){var ImGearExceptions=require('./Web/UI/ImGearExceptions');var bw={bG:function(J,ap,bG){if(typeof(J)!==bG){throw new ImGearExceptions.Cl(ap,typeof(J),bG);}},lW:function(J,ap){bw.bG(J,ap,'string');},hz:function(J,ap){if(!(J instanceof Date)){throw new ImGearExceptions.Cl(ap,typeof(J),"Date");}},gr:function(J,ap){bw.bG(J,ap,'number');if(!isFinite(J)){throw new ImGearExceptions.qF(ap,J,'The value must be a number.');}},kz:function(J,ap,yh,xb){bw.bG(J,ap,'number');if(J<yh||J>xb|| !isFinite(J)){throw new ImGearExceptions.qF(ap,J,'The value must be a number between '+yh+' and '+xb+' inclusive.');}},TI:function(J,ap,Kj){bw.bG(J,ap,'number');var C;for(C=0;C<Kj.length;C++){if(J===Kj[C]){return;}}var Ro='';for(C=0;C<Kj.length;C++){if(C>0){if(C===Kj.length-1){Ro+=' or ';}else{Ro+=', ';}}Ro+=Kj[C];}throw new ImGearExceptions.qF(ap,J,'The value must be '+Ro+'.');},lN:function(J,ap,yh,xb){bw.kz(J,ap,yh,xb);if(J!==Math.floor(J)){throw new ImGearExceptions.wh(ap,'The value must be an integer.');}},cW:function(J,ap){bw.bG(J,ap,'string');if(!J.match(/#[0-9A-Fa-f]{6}/)){throw new ImGearExceptions.wh(ap,'Colors must be strings that begin with a # symbol, followed by 6 hexadecimal digits.');}},Tn:function(J,ap){bw.bG(J,ap,'string');if(!J.match(/#[0-9A-Fa-f]{6}|transparent/)){throw new ImGearExceptions.wh(ap,'Colors must be strings that begin with a # symbol, followed by 6 hexadecimal digits or comply with other W3C accepted color values like "transparent".');}},kj:function(J,ap,kj,agN){bw.bG(J,ap,'number');var cr;var YE=0;for(cr in kj){if(kj.hasOwnProperty(cr)){if(agN){YE|=kj[cr];}else{if(J===kj[cr]){return;}}}}var cs="";if(agN){if((J|YE)===YE){return;}else{throw new ImGearExceptions.qF(ap,J,'The value must be zero or more members of the '+cs+' enumeration.');}}throw new ImGearExceptions.qF(ap,J,'The value must be a member of the '+cs+' enumeration.');},ay:function(J,ap){bw.gr(J.x,ap+'.x');bw.gr(J.y,ap+'.y');},H:function(J,ap){bw.gr(J.x,ap+'.x');bw.gr(J.y,ap+'.y');bw.gr(J.width,ap+'.width');bw.gr(J.height,ap+'.height');}};module.exports=bw;},{"./Web/UI/ImGearExceptions":86}],59:[function(require,module,exports){var dW=require('./IPCC.Util').regEnum;var CP=function(){};CP.registerEnum=dW;CP.prototype={Document:0,EqualWidthPages:1,SinglePage:2,EqualFitPages:3};CP.registerEnum('IPCC.ViewMode',false);module.exports=CP;},{"./IPCC.Util":29}],60:[function(require,module,exports){var WG=function(oE){var aE;var bu;var iz;var aP;var aA=this;var CC;var ED='';var _debug=false;var oJ=IPCC.Web.UI.DebugErrorLevel.Production;var lF=[];var ai=new IPCC.Web.UI.je();var aG;var fj;var nM=null;var Hc=false;var wa=false;var yb;var anf=IPCC.Web.UI.ImGearArtDataServices.None;var GL=false;var uk='';var pB;var abv=false;var adr=false;var vK=0;var sp=true;var ie;var eF;var wo=false;var ajf=true,nA=false;var abK=false;var Aa=null;var Oa;var Ww=false;var ae=null;this.Ot=0.0;this.oW=function(Jg){if(!_debug){return false;}return oJ>=Jg;};this.mt=function(kQ,IK,bq){IPCC.ih.mt(kQ,IK,bq,ED,CC);};this.af=function(iO,iC){if(!this.oW(IPCC.Web.UI.DebugErrorLevel.Production)){return;}var cQ=iO+'() threw an exception ('+iC.name+'), "'+iC.message+'"';cQ=cQ.replace(/\n/g," ");this.mt(cQ,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production);aA.bU('exceptionThrown',{"function_name":iO,"exception":iC,"pageNumber":aA.aU});};this.FU=function(R){var hB=this.mq().igElements,fr=null;if(R.get_type()===IPCC.Web.UI.MarkType.TextLine){fr=hB.gg;}else if(R.get_type()===IPCC.Web.UI.MarkType.TextAreaSignature){fr=hB.dh;}else if(R.get_type()===IPCC.Web.UI.MarkType.Text){fr=hB.fr;}return fr;};this.get_debug=function(){return _debug;};this.set_debug=function(J){var Ih= ! !J;if(_debug===Ih){return;}_debug=Ih;this.cN('debug');};this.xu=function(){return oJ;};this.EZ=function(J){if(oJ===J){return;}oJ=J;this.cN('debugErrorLevel');};this.get_areMarksEditable=function(){return Ww;};this.set_areMarksEditable=function(J){if(Ww===J){return;}Ww=J;this.cN('areMarksEditable');};this.get_cursor=function(){return ae;};this.set_cursor=function(J){if(ae===J){return;}ae=J;this.cN('cursor');};this.apA=function(J){ED=J;};this.arJ=function(){return ED;};this.apV=function(J){CC=J;};this.aqD=function(J){Oa=J;};this.aEI=function(){return Oa;};this.eY=function(azl){this.pY(false);var C;for(C=lF.length-1;C>=0;C--){if(lF[C]instanceof IPCC.lx){lF[C].ao(true);}else{lF[C].ao();}if(lF[C]instanceof IPCC.le){lF[C].eH(true);}else{lF[C].eH();}}lF=azl;for(C=0;C<lF.length;C++){lF[C].mJ(this);}};this.aHm=function(){var C;for(C=0;C<lF.length;C++){lF[C].ao();}};this.fR=function(ajd,K){var C;for(C=0;C<lF.length;C++){if(K&&K.agD&&K.agD()){return;}if(lF[C][ajd]){lF[C][ajd](K);}}};this.aCb=function(hY,dn){switch(hY){case 'touchstart':iz.ahR&&iz.ahR(dn);break;case 'touchmove':iz.ajv&&iz.ajv(dn);break;case 'touchend':iz.aiQ&&iz.aiQ(dn);break;case 'doubleTap':iz.amM&&iz.amM(dn);break;}};this.ln=function(F){ai.addHandler('propertyChanged',F);};this.mZ=function(F){ai.removeHandler('propertyChanged',F);};this.add_mouseDown=function(F){ai.addHandler('mouseDown',F);};this.remove_mouseDown=function(F){ai.removeHandler('mouseDown',F);};this.add_mouseMove=function(F){ai.addHandler('mouseMove',F);};this.remove_mouseMove=function(F){ai.removeHandler('mouseMove',F);};this.add_mouseUp=function(F){ai.addHandler('mouseUp',F);};this.remove_mouseUp=function(F){ai.removeHandler('mouseUp',F);};this.add_contextMenu=function(F){ai.addHandler('contextMenu',F);};this.remove_contextMenu=function(F){ai.removeHandler('contextMenu',F);};this.ayX=function(F){ai.addHandler('contextMenuCommand',F);};this.aER=function(F){ai.removeHandler('contextMenuCommand',F);};this.add_mouseWheel=function(F){ai.addHandler('mouseWheel',F);};this.remove_mouseWheel=function(F){ai.removeHandler('mouseWheel',F);};this.add_mouseOut=function(F){ai.addHandler('mouseOut',F);};this.remove_mouseOut=function(F){ai.removeHandler('mouseOut',F);};this.awM=function(F){ai.addHandler('resize',F);};this.aFk=function(F){ai.removeHandler('resize',F);};this.awI=function(F){ai.addHandler('userModifiedViewState',F);};this.aGn=function(F){ai.removeHandler('userModifiedViewState',F);};this.add_scaleChanged=function(F){ai.addHandler('scaleChanged',F);};this.remove_scaleChanged=function(F){ai.removeHandler('scaleChanged',F);};this.add_markAdded=function(F){ai.addHandler('markAdded',F);};this.remove_markAdded=function(F){ai.removeHandler('markAdded',F);};this.add_markCreating=function(F){ai.addHandler('markCreating',F);};this.remove_markCreating=function(F){ai.removeHandler('markCreating',F);};this.add_markChanged=function(F){ai.addHandler('markChanged',F);};this.remove_markChanged=function(F){ai.removeHandler('markChanged',F);};this.add_inProgressMarkChanged=function(F){ai.addHandler('inProgressMarkChanged',F);};this.remove_inProgressMarkChanged=function(F){ai.removeHandler('inProgressMarkChanged',F);};this.add_markRemoved=function(F){ai.addHandler('markRemoved',F);};this.remove_markRemoved=function(F){ai.removeHandler('markRemoved',F);};this.add_markReordered=function(F){ai.addHandler('markReordered',F);};this.remove_markReordered=function(F){ai.removeHandler('markReordered',F);};this.add_marksLoaded=function(F){ai.addHandler('marksLoaded',F);};this.remove_marksLoaded=function(F){ai.removeHandler('marksLoaded',F);};this.add_marksSaved=function(F){ai.addHandler('marksSaved',F);};this.remove_marksSaved=function(F){ai.removeHandler('marksSaved',F);};this.add_markSelectionChanged=function(F){ai.addHandler('markSelectionChanged',F);};this.remove_markSelectionChanged=function(F){ai.removeHandler('markSelectionChanged',F);};this.add_markTextSelectionChanged=function(F){ai.addHandler('markTextSelectionChanged',F);};this.remove_markTextSelectionChanged=function(F){ai.removeHandler('markTextSelectionChanged',F);};this.add_pageOpenFailed=function(F){ai.addHandler('pageOpenFailed',F);};this.add_pageDisplayed=function(F){ai.addHandler('pageDisplayed',F);};this.remove_pageOpenFailed=function(F){ai.removeHandler('pageOpenFailed',F);};this.add_textPageReady=function(F){ai.addHandler('textPageReady',F);};this.remove_textPageReady=function(F){ai.removeHandler('textPageReady',F);};this.add_selectTextMouseToolCompleted=function(F){ai.addHandler('selectTextMouseToolCompleted',F);};this.remove_selectTextMouseToolCompleted=function(F){ai.removeHandler('selectTextMouseToolCompleted',F);};this.add_exceptionThrown=function(F){ai.dH('exceptionThrown',F);};this.remove_exceptionThrown=function(F){ai.cJ('exceptionThrown',F);};this.add_textExtractionFailed=function(F){ai.dH('textExtractionFailed',F);};this.remove_textExtractionFailed=function(F){ai.cJ('textExtractionFailed',F);};this.cN=function(cr,xo){var F=ai.getHandler("propertyChanged");if(F){F(this,new IPCC.nG(cr,xo));}};this.mq=function(){var _parent=document.getElementById(CC);return _parent;};this.bp=function(){return aE;};this.aIC=function(){return ai;};function BP(bM,K){GL=true;K.pageIndex=aA.aU;aA.bU('markAdded',K);aA.fR('hT',K);};function Cc(bM,K){GL=true;K.pageIndex=aA.aU;aA.bU('markChanged',K);aA.fR('nn',K);};function acZ(bM,K){K=new IPCC.Web.UI.MarkEventArgs();K.mark=nM;K.pageIndex=aA.aU;aA.bU('inProgressMarkChanged',K);aA.fR('_onInProgressMarkChanged',K);};function CI(bM,K){GL=true;K.pageIndex=aA.aU;aA.bU('markRemoved',K);aA.fR('CK',K);};function axS(bM,K){aA.bU('textPageReady',K);};function axg(bM,K){aA.bU('textExtractionFailed',K);};function Cv(bM,K){GL=true;K.pageIndex=aA.aU;aA.bU('markReordered',K);aA.fR('aaO',K);};function Cp(bM,K){K.pageIndex=aA.aU;aA.bU('marksLoaded',K);aA.fR('abw',K);};function CA(bM,K){K.pageIndex=aA.aU;aA.bU('markSelectionChanged',K);aA.fR('BK',K);};function abk(bM,K){K.pageIndex=aA.aU;aA.bU('markTextSelectionChanged',K);};this.aCA=function(bM,K){this.fR('_onTextMarkEditCompleted',K);};function Ek(bM,K){K.pageIndex=aA.aU;aA.bU('propertyChanged',K);};this.mC=function(J){if(J===aG){return;}if(aG){aG.remove_markAdded(BP);aG.remove_markChanged(Cc);aG.remove_markRemoved(CI);aG.remove_markReordered(Cv);aG.remove_marksLoaded(Cp);aG.remove_markSelectionChanged(CA);aG.mZ(Ek);aG.CD(true);}aG=J;if(aG){aG.add_markAdded(BP);aG.add_markChanged(Cc);aG.add_markRemoved(CI);aG.add_markReordered(Cv);aG.add_marksLoaded(Cp);aG.add_markSelectionChanged(CA);aG.add_markTextSelectionChanged(abk);aG.ln(Ek);}this.cN('artPage');};this.fM=function(){return aG;};this.HX=function(J){if(J===fj){return;}if(fj){fj.remove_markAdded(BP);fj.remove_markChanged(Cc);fj.remove_markRemoved(CI);fj.remove_markReordered(Cv);fj.remove_marksLoaded(Cp);fj.remove_markSelectionChanged(CA);fj.mZ(Ek);fj.CD(true);}fj=J;if(fj){fj.add_markAdded(BP);fj.add_markChanged(Cc);fj.add_markRemoved(CI);fj.add_markReordered(Cv);fj.add_marksLoaded(Cp);fj.add_markSelectionChanged(CA);fj.add_markTextSelectionChanged(abk);fj.ln(Ek);}this.cN('documentArtPage');};this.QI=function(){return fj;};this.lJ=function(){return eF;};this.CT=function(J){if(J===eF){return;}if(eF){eF.remove_markAdded(BP);eF.remove_markChanged(Cc);eF.remove_markRemoved(CI);eF.remove_markReordered(Cv);eF.remove_marksLoaded(Cp);eF.remove_markSelectionChanged(CA);eF.mZ(Ek);}eF=J;if(eF){eF.add_markAdded(BP);eF.add_markChanged(Cc);eF.add_markRemoved(CI);eF.add_markReordered(Cv);eF.add_marksLoaded(Cp);eF.add_markSelectionChanged(CA);eF.ln(Ek);}this.cN('transientArtPage');};var hc;this.DV=function(){if(!hc){if(IPCC.Web.UI.Mark){hc=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);hc.set_opacity(100);hc.set_fillColor('#3366CC');hc.set_fillVisible(true);}}return hc;};this.SD=function(J){anf=J;this.cN('artServiceOption');};this.Yk=function(){return anf;};this.op=function(R,ps){if(nM===R){return;}if(nM){nM.remove_propertyChanged(acZ);}if(R&& !nM){var K=new IPCC.Web.UI.MarkEventArgs();K.mark=ps?ps:R;K.pageIndex=this.aU;this.bU('markCreating',K);}nM=R;if(nM){nM.add_propertyChanged(acZ);}this.cN('inProgressMark');};this.ars=function(){return nM;};this.AG=function(J){if(J===bu){return;}bu=J;this.vI=false;aE.pb();this.cN('image');};this.cU=function(){return bu;};this.aaG=function(J){if(J===Hc){return;}Hc=J;this.cN('Hc');};this.alJ=function(){return Hc;};this.Kn=function(){var yb=this.Gy();var ajC=this.FU(yb);var aoN=ajC.value;setTimeout(function(){ajC.setSelectionRange(0,aoN.length);},1);};this.wq=function(R){this.pY(false);iz.aFM(R);wa=true;yb=R;this.cN('wa');};this.aiH=function(ak,da){if(this.ly()&&this.dp().oa()===true){var gY=this.dp().hn();var C=ak;for(;C<ak+da;C++){var dX=gY.jO(C);var ty='#3366CC';var JO='#3366CC';eF.aap(dX.av,JO,ty,false,C);}}};this.aES=function(bF){var C;try{var ax=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);if(!hc){hc=aA.DV();}for(C in hc){if(hc.hasOwnProperty(C)){ax[C]=hc[C];}}ax.set_rectangle({x:bF.x,y:bF.y,width:bF.width,height:bF.height});aA.op(ax);eF.addMark(ax);return ax;}catch(auP){var azP=auP.message;window.console.log(azP);}};this.Go=function(dz){var Ki;var gY;var WJ;Ki=aA.dp();gY=aA.dp().hn();function awh(Tx){var si=Tx.vR();if((dz.x>=si.x-10&&dz.x<=si.x+si.width+1)&&(dz.y>=si.y-1&&dz.y<=si.y+si.height+1)){return true;}si=undefined;};if(!WJ){for(var C=0;C<gY.fC();C++){if(awh(gY.jO(C))){WJ=C;break;}}}return WJ;};this.aDG=false;this.zo=function(dg){if(dg===undefined){return;}if(aA.ly()&&aA.dp().oa()===true){var Kk=aA.dp().hn().fC();IPCC.bw.lN(dg,'textIndex',0,Kk);aA.bp().zo(dg);aA.lJ().Bj(function(R){if(R.xf!==true&&R.get_type()!==IPCC.Web.UI.MarkType.ImageStampAnnotation){aA.lJ().ug(R);}});if(aA.yt()===true){aA.cn();}}};this.US=function(){var Er=aA.bp().get_transientHighlightMarks();while(Er.length>0){aA.lJ().removeMark(Er.pop());}};this.Ja=function(uu,da){if(aA.ly()&&aA.dp().oa()===true){var C=uu;var gY=this.dp().hn();var cv=uu+da;if(!hc){hc=aA.DV();}var Er=aA.bp().get_transientHighlightMarks();for(;C<cv;C++){var dX=gY.jO(C);Er.push(eF.asc(dX.av,hc,C));}}};this.aFR=function(aEY,da){var aE=aA.bp();for(var aR=da-1;aR>da;aR--){var aY=aE.ii[aR];eF.removeMark(aY.R);}};this.tW=function(dg){if(dg===undefined){return;}var dX;var aE=aA.bp();var he=aE.BV();var ty='#3366CC';var JO='#3366CC';var cz=100;if(!hc){hc=aA.DV();}cz=hc.get_opacity();if(!cz){cz=100;}ty=hc.get_fillColor();if(ty===undefined){ty='#3366CC';}var gY=aA.dp().hn();if(he===undefined){dX=gY.jO(dg);var R=eF.aap(dX.av,JO,ty,false,cz,dg);aE.tW(dg,R,dX.lm);return;}var aR;function abZ(bv,aqq){for(aR=aE.ii.length-1;aR>=0;aR--){var aY=aE.ii[aR];if(aY.dg===bv){aE.ii.splice(aR,1);eF.removeMark(aY.R);aE.aqm(aqq);aE.aof(bv);return aR;}}return-1;};function Qt(bv){dX=gY.jO(bv);var ahh=eF.aap(dX.av,JO,ty,false,cz,bv);if(aE.tW(bv,ahh,dX.lm)===false){eF.removeMark(ahh);}};var Nr=aE.amR();var C;if(dg>he){for(C=he;C<=dg;C++){if(C===dg){if(C<Nr){continue;}Qt(C);}else if(C>=Nr){if(C===he){continue;}Qt(C);}else{abZ(C,dg);}}}else if(dg<he){for(C=he;C>=dg;C--){if(C===dg){if(C>=Nr){continue;}Qt(C);}else if(C<Nr){if(C===he){continue;}Qt(C);}else{abZ(C,dg);}}}};this.CJ=function(){var acc="";try{var aE=aA.bp();if(aA.bp().FT()){var aph=aA.dp().hn();if(aE.ii.length>0){var Ba=[];for(var C=0;C<aE.ii.length;C++){Ba.push(aE.ii[C].dg);}if(Ba[0]>Ba[1]){Ba.reverse();}for(C=0;C<Ba.length;C++){acc+=aph.jO(Ba[C]).arI();}}}return acc;}catch(e){window.console.log(e.message);}};this.pY=function(aBl){if(wa){if(aBl){iz.aCf();}wa=false;yb=null;this.aCA();this.cN('wa');aA.cn();}};this.amW=function(){return wa;};this.Gy=function(){return yb;};this.Bo=function(){var yb=this.Gy();if(!yb){return null;}var YH=yb.iH();if(YH===IPCC.Web.UI.MarkType.TextLine){return 'singleline';}else if(YH===IPCC.Web.UI.MarkType.TextAreaSignature){return 'multiline';}else if(YH===IPCC.Web.UI.MarkType.Text){return 'multiline';}};this.aig=function(J){adr=J;};this.Ya=function(){return adr;};this.Vi=function(J){Aa=J;};this.asK=function(){return Aa;};this.aaQ=function(J){if(J===vK){return;}vK=J;this.cN('vK');};this.XE=function(){return vK;};this.CD=function(J){if(aG){aG.CD(J);}};this.OV=function(){if(aG){return aG.OV();}return true;};this.aFL=function(aIe){var aP=iz.asY(this.mq());this.aqM(aP);};this.aqM=function(J){if(J===aP){return;}aP=J;this.cN('windowSpace');};this.eu=function(){return aP;};this.cn=function(){iz.cn(bu,aE,aP);};this.JX=function(){if(this.pV()===false){var lf=aE.ep();var h=this;var lL=lf.qU(bu);var di=h.mq();var cj=di.igElements;var bA=cj.rk;var JJ=Math.max(0,-lL.x);var Jx=Math.max(0,-lL.y);var nl=Math.max(0,lL.x);var md=Math.max(0,lL.y);var ew=aE.ep();ew.nu(JJ-nl,Jx-md);iz.amh(bA,aP,lf,ew);}};this.It=function(J){pB=J;};this.uB=function(){return pB;};this.dp=function(){return ie.dp();};var jP=0;this.np=function(){return ie;};this.Cj=function(J){if(J===this.np()){return;}ie=J;if(ie){ie.AP(axS);ie.Ar(axg);}};this.ly=function(){return sp;};this.GR=function(J){sp=J;this.cN('textRequired');};this.yf=function(){return wo;};this.Iv=function(J){if(wo===J){return;}wo=J;this.cN('requireRequestsOptimize');};this.yt=function(){return ajf;};this.Sv=function(J){ajf=J;this.cN('autoUpdate');};var qo=false;this.nj=function(){return qo;};this.qE=function(J){if(typeof J!=="boolean"){return;}if(J===qo){return;}qo=J;if(aG){var ahr=false;aG.forEachMark(function(R){if(R.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){ahr=true;}});if(ahr===true){aG.qE(qo);}}};this.jJ=function(){return jP;};this.vD=function(J){if(jP===J){return;}if(isNaN(J)){return;}jP=J;this.cN('serviceResponseTimeout');};var rn='';this.Wf=function(fB,bm){if(fB!==''){fB='/'+fB;}bm=bm||'';if(bm===null||bm===''){if(fB==='/Attributes'){if(/^[\x00-\x7F]*$/.test(bu.get_identifier())){return rn+'/Page/q/'+bu.aU.toString()+fB+'?DocumentID=u'+encodeURIComponent(bu.get_identifier());}else{return rn+'/Page/q/'+bu.aU.toString()+fB+'?DocumentID=e'+bu.get_encodedIdentifier();}}else{if(/^[\x00-\x7F]*$/.test(bu.get_identifier())){return rn+'/Page/q/'+bu.aU.toString()+fB+'?DocumentID=u'+encodeURIComponent(bu.get_identifier())+'&Quality=85&ContentType=jpeg';}else{return rn+'/Page/q/'+bu.aU.toString()+fB+'?DocumentID=e'+bu.get_encodedIdentifier()+'&Quality=85&ContentType=jpeg';}}}else{if(/^[\x00-\x7F]*$/.test(bu.get_identifier())){return rn+'/Page/q/'+bu.aU.toString()+fB+'?DocumentID=u'+encodeURIComponent(bu.get_identifier())+'&'+bm;}else{return rn+'/Page/q/'+bu.aU.toString()+fB+'?DocumentID=e'+bu.get_encodedIdentifier()+'&'+bm;}}};this.atR=function(fB,bm){fB=fB||'Art';bm=bm||'';if(bm===null||bm===''){if(fB==='Art'){return rn+'/Page/q/'+bu.aU.toString()+'/'+fB+'?DocumentID=e'+bu.get_encodedIdentifier();}}else{return rn+'/Page/q/'+bu.aU.toString()+'/'+fB+'?DocumentID=e'+bu.get_encodedIdentifier()+'&'+bm;}};this.Zn=function(Bd){if(GL===false){if(Bd){Bd();}return;}IPCC.V.nB.fq({method:'POST',url:this.atR('Art'),headers:{'Content-Type':'application/json'},body:aG.saveToJson()}).then(function(){if(Bd){Bd();}});};this.uU=function(){return rn;};this.Vg=function(J){rn=J;this.cN('imageHandlerUrl');};this.pV=function(){return abv;};this.LJ=function(J){abv=J;};this.asG=function(){return abK;};this.adh=function(J){abK=J;};this.nq=function(){return uk;};this.wO=function(J){uk=J;uk.tabIndex= -1;};this.jx=function(){return nA;};this.mG=function(J){if(typeof J!=="boolean"){return;}if(J===nA){return;}nA=J;};this.aBZ=function(K){if(wa){this.pY(true);}else{this.bU('mouseDown',K);this.fR('kw',K);}};this.aBH=function(K){this.bU('mouseMove',K);this.fR('jZ',K);};this.aCv=function(K){this.bU('mouseUp',K);this.fR('kC',K);};this.aCe=function(K){this.bU('mouseWheel',K);this.fR('mo',K);};this.aCq=function(K){this.bU('mouseDoubleClick',K);this.fR('xG',K);};this.aBq=function(K){this.bU('contextMenu',K);this.fR('SU',K);};this.aCa=function(K){this.bU('contextMenuCommand',K);};this.aCI=function(K){this.bU('mouseOut',K);this.fR('oM',K);};this.aAV=function(K){this.bU('touchStart',K);this.fR('kw',K);};this.aAa=function(K){this.bU('touchMove',K);this.fR('jZ',K);};this.azJ=function(K){this.bU('touchEnd',K);this.fR('kC',K);};this.azi=function(K){this.bU('touchCancel',K);this.fR('Ix',K);};this.bU=function(cE,K){var F=ai.getHandler(cE);if(F!==null){F(aA,K);}};var aft=function(h,oE){aE=new IPCC.XD();function ym(bM,K){aA.bU('propertyChanged',K);};aE.ln(ym);iz=new IPCC.eV(h,oE);if(IPCC.dj){iz.qi=new IPCC.dj.cV(h);iz.axj=new IPCC.dj.cV(h);}};if(oE===false){aft(this,false);}else{aft(this,true);}return this;};module.exports=WG;},{}],61:[function(require,module,exports){var XD=function(){var qw=0;var sy=1;var jX=1;var xk=false;var cS=new IPCC.eo();var Bv=false;var ut;var sd;var Ma=false;var Cr=new IPCC.Bi(200,150,96,96);var uv={x:0,y:0};var MH=3;var NR=0,Nm=0;var ho=0.2;var rY=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;var Cq=new IPCC.eo();var GX=0;var HB=0;var BE=false;var Sn;this.ii=[];var Xs=IPCC.Web.UI.ScrollBars.Auto;var Er=[];this.get_transientHighlightMarks=function(){return Er;};this.get_scrollBars=function(){return Xs;};this.get_overflow=function(){switch(Xs){case IPCC.Web.UI.ScrollBars.None:return 'hidden';case IPCC.Web.UI.ScrollBars.Both:return 'scroll';}return 'auto';};this.set_scrollBars=function(J){Xs=J;this.cN('scrollBars');};var ai=new IPCC.Web.UI.je();this.ln=function(F){ai.addHandler('propertyChanged',F);};this.mZ=function(F){ai.removeHandler('propertyChanged',F);};this.cN=function(cr){var F=ai.getHandler('propertyChanged');if(F){F(this,new IPCC.nG(cr));}};var onSelectionChanged=function(aE){var K={};K.selectionIsVisible=Bv;K.selectionRectangle=aE.wn();aE.cN('selection');};this.pb=function(){ut={x:0,y:0};sd={x:0,y:0};if(!Bv){return;}Bv=false;onSelectionChanged(this);};this.showSelection=function(cl){ut.x=cl.x;ut.y=cl.y;sd.x=cl.x+cl.width;sd.y=cl.y+cl.height;Bv=true;onSelectionChanged(this);};this.BB=function(dz){ut.x=dz.x;ut.y=dz.y;sd.x=dz.x;sd.y=dz.y;Bv=true;onSelectionChanged(this);};this.yR=function(dz){sd.x=dz.x;sd.y=dz.y;onSelectionChanged(this);};this.xY=function(){return Bv;};this.wn=function(){var H=new IPCC.Web.UI.Rectangle(Math.min(ut.x,sd.x),Math.min(ut.y,sd.y),0,0);H.width=Math.max(ut.x,sd.x)-H.x;H.height=Math.max(ut.y,sd.y)-H.y;return H;};var Hd=function(){if(!Ma){Cq.aqC();return;}Cq.QW(cS);Cq.nu(-uv.x,-uv.y);Cq.scale(MH,MH);Cq.nu(Cr.width/2,Cr.height/2);};this.hideMagnifier=function(){Ma=false;Hd();this.cN('magnifierIsVisible');};this.showMagnifier=function(ce){uv.x=ce.x;uv.y=ce.y;Ma=true;Hd();this.cN('magnifierWindowPosition');this.cN('magnifierIsVisible');};this.get_magnifierIsVisible=function(){return Ma;};this.get_magnifierWindowPosition=function(){return{x:uv.x,y:uv.y};};this.get_magnifierMagnification=function(){return MH;};this.set_magnifierMagnification=function(J){MH=J;Hd();this.cN('magnifierMagnification');};this.MK=function(){return NR;};this.XM=function(J){NR=J;this.cN('magnifierXOffset');};this.NY=function(){return Nm;};this.Wv=function(J){Nm=J;this.cN('magnifierYOffset');};this.vT=function(){return{width:Cr.width,height:Cr.height};};this.set_magnifierWindowSize=function(newMagnifierSize){Cr.width=newMagnifierSize.width;Cr.height=newMagnifierSize.height;Hd();this.cN('magnifierWindowSize');};this.atz=function(){return Cq.clone();};this.ep=function(){return cS.clone();};this.Yn=function(){return ho;};this.WO=function(J){ho=J;this.cN('markHandleSize');};this.As=function(){return rY;};this.Ku=function(J){rY=J;this.cN('markHandleMode');};this.jF=function(J){if(J===cS||J.aAK(cS)){return;}if(!J.alP()){throw new IPCC.Web.UI.ImGearInvalidOperationException('The viewing state of the control is invalid.');}cS.QW(J);Hd();this.cN('displayedPageRectangle');};var ads='0';this.get_presentationQuality=function(){return ads;};this.set_presentationQuality=function(J){ads=J;this.cN('presentationQuality');};this.aso=function(){return sy;};this.Cy=function(J){sy=J;};this.aEG=function(){return qw;};this.Ep=function(J){qw=J;};this.aEi=function(){return jX;};this.DQ=function(J){if(J!==jX){xk=true;}jX=J;};this.aqE=function(J){xk=J;};this.ant=function(){return xk;};var YR=IPCC.bB.Default;this.aIh=function(){return YR;};this.anS=function(J){if(YR!==J){YR=J;this.cN('markCursor');}};this.zo=function(dg){GX=dg;BE=false;HB=0;};this.Ja=function(uu,da){if(uu!==GX){GX=uu;}HB=da;BE=true;};this.ZN=function(){if(BE===true){for(var C=0;C<this.ii.length;C++){this.ii[C].R.set_visible(false);}BE=false;}};this.FT=function(){return BE;};this.tW=function(dg,R,lm){Sn=dg;if(dg!==undefined){if(this.ii.length>0&&this.ii[this.ii.length-1].dg===dg){return false;}this.ii.push({dg:dg,R:R,lm:lm});BE=true;HB++;}else{this.ii=[];HB=0;}return true;};this.BV=function(){return Sn;};this.aqm=function(J){if(J===undefined){return;}Sn=J;};var ajJ;this.aHb=function(){return ajJ;};this.aof=function(J){if(J===undefined){return;}ajJ=J;};this.amR=function(){return GX;};this.aGs=function(){return GX+HB;};this.Bq=function(){return this.ii.length;};this.pb();this.hideMagnifier();return this;};module.exports=XD;},{}],62:[function(require,module,exports){var Ap={};Ap.amS=function(au){if(!this.Ct[0][0][0]){this.Wo();}var C,aR,dZ,Ik,TY,kt=this.Ct[0][4],uh=this.Ct[1],sn=au.length,Om=1;if(sn!==4&&sn!==6&&sn!==8){throw new IPCC.Web.UI.ImGearArgumentException('none',"invalid aes key size");}this.au=[Ik=au.slice(0),TY=[]];for(C=sn;C<4*sn+28;C++){dZ=Ik[C-1];if(C%sn===0||(sn===8&&C%sn===4)){dZ=kt[dZ>>>24]<<24^kt[dZ>>16&255]<<16^kt[dZ>>8&255]<<8^kt[dZ&255];if(C%sn===0){dZ=dZ<<8^dZ>>>24^Om<<24;Om=Om<<1^(Om>>7)*283;}}Ik[C]=Ik[C-sn]^dZ;}for(aR=0;C;aR++,C--){dZ=Ik[aR&3?C:C-4];if(C<=4||aR<4){TY[aR]=dZ;}else{TY[aR]=uh[0][kt[dZ>>>24]]^uh[1][kt[dZ>>16&255]]^uh[2][kt[dZ>>8&255]]^uh[3][kt[dZ&255]];}}};Ap.amS.prototype={Ts:function(cT){return this.asw(cT,1);},Ct:[[[],[],[],[],[]],[[],[],[],[],[]]],Wo:function(){var Pv=this.Ct[0],uh=this.Ct[1],kt=Pv[4],aDT=uh[4],C,am,vo,eL=[],adl=[],VQ,afV,agp,gZ,Qz,Pr;for(C=0;C<256;C++){adl[(eL[C]=C<<1^(C>>7)*283)^C]=C;}for(am=vo=0;!kt[am];am^=VQ||1,vo=adl[vo]||1){gZ=vo^vo<<1^vo<<2^vo<<3^vo<<4;gZ=gZ>>8^gZ&255^99;kt[am]=gZ;aDT[gZ]=am;agp=eL[afV=eL[VQ=eL[am]]];Pr=agp*0x1010101^afV*0x10001^VQ*0x101^am*0x1010100;Qz=eL[gZ]*0x101^gZ*0x1010100;for(C=0;C<4;C++){Pv[C][am]=Qz=Qz<<24^Qz>>>8;uh[C][gZ]=Pr=Pr<<24^Pr>>>8;}}for(C=0;C<5;C++){Pv[C]=Pv[C].slice(0);uh[C]=uh[C].slice(0);}},asw:function(pf,Ke){if(pf.length!==4){throw new IPCC.Web.UI.ImGearArgumentException('blocksize','Invalid block size');}var au=this.au[Ke],dk=pf[0]^au[0],fp=pf[Ke?3:1]^au[1],fE=pf[2]^au[2],eL=pf[Ke?1:3]^au[3],tC,ajs,ahH,aAj=au.length/4-2,C,Bl=4,fG=[0,0,0,0],Gk=this.Ct[Ke],Po=Gk[0],Oz=Gk[1],Pz=Gk[2],OP=Gk[3],kt=Gk[4];for(C=0;C<aAj;C++){tC=Po[dk>>>24]^Oz[fp>>16&255]^Pz[fE>>8&255]^OP[eL&255]^au[Bl];ajs=Po[fp>>>24]^Oz[fE>>16&255]^Pz[eL>>8&255]^OP[dk&255]^au[Bl+1];ahH=Po[fE>>>24]^Oz[eL>>16&255]^Pz[dk>>8&255]^OP[fp&255]^au[Bl+2];eL=Po[eL>>>24]^Oz[dk>>16&255]^Pz[fp>>8&255]^OP[fE&255]^au[Bl+3];Bl+=4;dk=tC;fp=ajs;fE=ahH;}for(C=0;C<4;C++){fG[Ke?3& -C:C]=kt[dk>>>24]<<24^kt[fp>>16&255]<<16^kt[fE>>8&255]<<8^kt[eL&255]^au[Bl++];tC=dk;dk=fp;fp=fE;fE=eL;eL=tC;}return fG;}};module.exports=Ap;},{}],63:[function(require,module,exports){var gI={};gI.Kf={pd:function(dJ){var fG="",pS=IPCC.Web.gz.wR(dJ),C,dZ;for(C=0;C<pS/8;C++){if((C&3)===0){dZ=dJ[C/4];}fG+=String.fromCharCode(dZ>>>24);dZ<<=8;}return decodeURIComponent(escape(fG));},vx:function(cs){cs=unescape(encodeURIComponent(cs));var fG=[],C,dZ=0;for(C=0;C<cs.length;C++){dZ=dZ<<8|cs.charCodeAt(C);if((C&3)===3){fG.push(dZ);dZ=0;}}if(C&3){fG.push(IPCC.Web.gz.Km(8*(C&3),dZ));}return fG;}};gI.sK={xy:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pd:function(dJ,azQ,aQ){var fG="",C,fu=0,fE=IPCC.Web.gI.sK.xy,wt=0,pS=IPCC.Web.gz.wR(dJ);if(aQ){fE=fE.substr(0,62)+'-_';}for(C=0;fG.length*6<pS;){fG+=fE.charAt((wt^dJ[C]>>>fu)>>>26);if(fu<6){wt=dJ[C]<<(6-fu);fu+=26;C++;}else{wt<<=6;fu-=6;}}while((fG.length&3)&& !azQ){fG+="=";}return fG;},vx:function(cs,aQ){cs=cs.replace(/\s|=/g,'');var fG=[],C,fu=0,fE=IPCC.Web.gI.sK.xy,wt=0,am;if(aQ){fE=fE.substr(0,62)+'-_';}for(C=0;C<cs.length;C++){am=fE.indexOf(cs.charAt(C));if(am<0){throw new IPCC.Web.UI.ImGearArgumentException('base64','Invalid base64');}if(fu>26){fu-=26;fG.push(wt^am>>>fu);wt=am<<(32-fu);}else{fu+=6;wt^=am<<(32-fu);}}if(fu&56){fG.push(IPCC.Web.gz.Km(fu&56,wt,1));}return fG;}};gI.GS={pd:function(dJ){return IPCC.Web.gI.sK.pd(dJ,1,1);},vx:function(cs){return IPCC.Web.gI.sK.vx(cs,1);}};module.exports=gI;},{}],64:[function(require,module,exports){var nF={};nF.SO=function(nF){if(!this.au[0]){this.Wo();}if(nF){this.eg=nF.eg.slice(0);this.AR=nF.AR.slice(0);this.da=nF.da;}else{this.akx();}};nF.SO.nF=function(cT){return(new IPCC.Web.nF.SO()).apn(cT).atI();};nF.SO.prototype={aHg:512,akx:function(){this.eg=this.aeL.slice(0);this.AR=[];this.da=0;return this;},apn:function(cT){if(typeof cT==="string"){cT=IPCC.Web.Codec.Kf.vx(cT);}var C,fp=this.AR=IPCC.Web.gz.Ud(this.AR,cT),aiE=this.da,azM=this.da=aiE+IPCC.Web.gz.wR(cT);for(C=512+aiE& -512;C<=azM;C+=512){this.ny(fp.splice(0,16));}return this;},atI:function(){var C,fp=this.AR,eg=this.eg;fp=IPCC.Web.gz.Ud(fp,[IPCC.Web.gz.Km(1,1)]);for(C=fp.length+2;C&15;C++){fp.push(0);}fp.push(Math.floor(this.da/0x100000000));fp.push(this.da|0);while(fp.length){this.ny(fp.splice(0,16));}this.akx();return eg;},aeL:[],au:[],Wo:function(){var C=0,Gx=2,ab;function aew(am){return(am-Math.floor(am))*0x100000000|0;};aAY:for(;C<64;Gx++){for(ab=2;ab*ab<=Gx;ab++){if(Gx%ab===0){continue aAY;}}if(C<8){this.aeL[C]=aew(Math.pow(Gx,1/2));}this.au[C]=aew(Math.pow(Gx,1/3));C++;}},ny:function(aoM){var C,dZ,dk,fp,kd=aoM.slice(0),eg=this.eg,cO=this.au,aaw=eg[0],qk=eg[1],FX=eg[2],Ok=eg[3],sz=eg[4],NM=eg[5],Ge=eg[6],abt=eg[7];for(C=0;C<64;C++){if(C<16){dZ=kd[C];}else{dk=kd[(C+1)&15];fp=kd[(C+14)&15];dZ=kd[C&15]=((dk>>>7^dk>>>18^dk>>>3^dk<<25^dk<<14)+(fp>>>17^fp>>>19^fp>>>10^fp<<15^fp<<13)+kd[C&15]+kd[(C+9)&15])|0;}dZ=(dZ+abt+(sz>>>6^sz>>>11^sz>>>25^sz<<26^sz<<21^sz<<7)+(Ge^sz&(NM^Ge))+cO[C]);abt=Ge;Ge=NM;NM=sz;sz=Ok+dZ|0;Ok=FX;FX=qk;qk=aaw;aaw=(dZ+((qk&FX)^(Ok&(qk^FX)))+(qk>>>2^qk>>>13^qk>>>22^qk<<30^qk<<19^qk<<10))|0;}eg[0]=eg[0]+aaw|0;eg[1]=eg[1]+qk|0;eg[2]=eg[2]+FX|0;eg[3]=eg[3]+Ok|0;eg[4]=eg[4]+sz|0;eg[5]=eg[5]+NM|0;eg[6]=eg[6]+Ge|0;eg[7]=eg[7]+abt|0;}};module.exports=nF;},{}],65:[function(require,module,exports){var Dr={};Dr.arN={ap:"cbc",aiw:function(KJ,Xi,jq,vl){if(vl&&vl.length){throw new IPCC.Web.UI.ImGearArgumentException('data','cannot authenticate data');}if(IPCC.Web.gz.wR(jq)!==128){throw new IPCC.Web.UI.ImGearArgumentException('iv','invalid data');}var C,kd=IPCC.Web.gz,QH=kd.agw,pS=kd.wR(Xi),agA=0,pL=[];if(pS&7){throw new IPCC.Web.UI.ImGearInvalidOperationException('padding works only for multiple bytes');}for(C=0;agA+128<=pS;C+=4,agA+=128){jq=KJ.aiw(QH(jq,Xi.slice(C,C+4)));pL.splice(C,0,jq[0],jq[1],jq[2],jq[3]);}pS=(16-((pS>>3)&15))*0x1010101;jq=KJ.aiw(QH(jq,kd.Ud(Xi,[pS,pS,pS,pS]).slice(C,C+4)));pL.splice(C,0,jq[0],jq[1],jq[2],jq[3]);return pL;},Ts:function(KJ,Qf,jq,vl){if(vl&&vl.length){throw new IPCC.Web.UI.ImGearArgumentException(vl,"cbc can't authenticate data");}if(IPCC.Web.gz.wR(jq)!==128){throw new IPCC.Web.UI.ImGearArgumentException('iv',"cbc iv must be 128 bits");}if((IPCC.Web.gz.wR(Qf)&127)|| !Qf.length){throw new IPCC.Web.UI.ImGearInvalidOperationException("cbc ciphertext must be a positive multiple of the block size");}var C,kd=IPCC.Web.gz,QH=kd.agw,ti,sC,pL=[];vl=vl||[];for(C=0;C<Qf.length;C+=4){ti=Qf.slice(C,C+4);sC=QH(jq,KJ.Ts(ti));pL.splice(C,0,sC[0],sC[1],sC[2],sC[3]);jq=ti;}ti=pL[C-1]&255;if(ti===0||ti>16){throw new IPCC.Web.UI.ImGearInvalidOperationException('pkcs#5 padding corrupt');}sC=ti*0x1010101;if(!kd.auh(kd.Sd([sC,sC,sC,sC],0,ti*8),kd.Sd(pL,pL.length*32-ti*8,pL.length*32))){throw new IPCC.Web.UI.ImGearInvalidOperationException('2pkcs#5 padding corrupt');}return kd.Sd(pL,0,pL.length*32-ti*8);}};module.exports=Dr;},{}],66:[function(require,module,exports){var cR=require('../../IPCC.Util').regClass;var Qo=function(){var aT=[];var ai=new IPCC.Web.UI.je();var ef=new IPCC.Web.UI.MarkCollection();var T=this;var Hs=true;this.aBI=[];function onMarkSelectionChanged(bM,K){var R=K.mark;if(R.aI&&R.aI[0]&&R.aI[0].de===false){return;}var dF;var amv=K.mark.get_selected();if(R.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&R.bn!==undefined){ef.remove_markAdded(onMarkSelectionChanged);ef.remove_markRemoved(onMarkSelectionChanged);for(var C=0;C<aT.length;C++){if(aT[C].bn===R.bn){if(aT[C].get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){dF=aT[C];}else{aT[C].set_selected(K.mark.get_selected());}}}ef.add_markAdded(onMarkSelectionChanged);ef.add_markRemoved(onMarkSelectionChanged);if(dF){dF.set_selected(amv);}return;}else if(R.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){ef.remove_markAdded(onMarkSelectionChanged);ef.remove_markRemoved(onMarkSelectionChanged);for(var bC=0;bC<R.aI.length;bC++){R.aI[bC].set_selected(K.mark.get_selected());}ef.add_markAdded(onMarkSelectionChanged);ef.add_markRemoved(onMarkSelectionChanged);}var eC=new IPCC.Web.UI.MarkEventArgs();eC.mark=R;eC.zIndex=T.nV(R);eC.length=1;T.bU('markSelectionChanged',eC);};ef.add_markAdded(onMarkSelectionChanged);ef.add_markRemoved(onMarkSelectionChanged);var aAJ=ef.addMark;ef.addMark=function(R){if(T.nV(R)<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot select a Mark that is not associated with the ArtPage.');}if(!ef.contains(R)){aAJ.call(ef,R);R.cN('selected');}};var aAi=ef.addMarks;ef.addMarks=function(zL){var nQ=[];function UV(R){if(T.nV(R)<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot select a Mark that is not associated with the ArtPage.');}if(!ef.contains(R)){nQ.push(R);}};zL.forEach(UV,{});aAi.call(ef,zL);var C;for(C=0;C<nQ.length;C++){nQ[C].cN('selected');}};var azz=ef.removeMark;ef.removeMark=function(R){if(ef.contains(R)){azz.call(ef,R);R.cN('selected');}};var aAh=ef.removeAllMarks;ef.removeAllMarks=function(){var nQ=[];function UV(R){if(ef.contains(R)){nQ.push(R);}};ef.forEach(UV,{});aAh.call(ef);var C;for(C=0;C<nQ.length;C++){nQ[C].cN('selected');}};function alQ(jH){IPCC.bw.lN(jH,'zIndex',0,aT.length-1);};this.ZM=function(){return aT.length;};this.alY=function(){var C=0;for(;C<aT.length;C++){if(aT[C].get_type()!==IPCC.Web.UI.MarkType.HighlightText&&aT[C].get_type()!==IPCC.Web.UI.MarkType.Highlight&& !(aT[C].get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&aT[C].bn!==undefined)){break;}}return C;};this.zq=function(){return ef;};this.CD=function(J){if(J===Hs){return;}Hs=J;this.cN('Hs');};this.OV=function(){return Hs;};var qo=false;this.nj=function(){return qo;};this.qE=function(J){if(typeof J!=="boolean"){return;}qo=J;this.cN('redactionDraftMode');};function nn(bM,K){if(K.get_propertyName()==='selected'){return;}var eC=new IPCC.Web.UI.MarkEventArgs();eC.mark=bM;eC.zIndex=T.nV(bM);eC.propertyName=K.cr;eC.length=1;if(eC.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||(eC.mark.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&eC.mark.bn!=='undefined')){T.apq(bM);}T.bU('markChanged',eC);};function Aj(bM){var eC=new IPCC.Web.UI.MarkEventArgs();eC.mark=bM;eC.zIndex=T.nV(bM);eC.length=1;T.bU('markTextSelectionChanged',eC);};function MU(bM,K){var eC=new IPCC.Web.UI.CommentEventArgs();eC.mark=bM;eC.comment=K.comment;eC.index=K.index;T.bU('commentAdded',eC);};function Or(bM,K){var eC=new IPCC.Web.UI.CommentEventArgs();eC.mark=bM;eC.comment=K.comment;eC.index=K.index;T.bU('commentRemoved',eC);};function Nk(bM,K){var eC=new IPCC.Web.UI.CommentEventArgs();eC.mark=bM;eC.comment=K.comment;eC.index=K.index;T.bU('commentChanged',eC);};this.NL=function(R,oR){oR=oR||{};var jH=this.nV(R);if(jH>=0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot add a Mark to an ArtPage if the mark is already associated with the ArtPage.');}if(R.fM()){throw new IPCC.Web.UI.ImGearInvalidOperationExceptionException('You cannot add a Mark to an ArtPage if the mark is already associated with a different ArtPage.');}aT.push(R);R.mC(this);R.add_propertyChanged(nn);R.add_markTextSelectionChanged(Aj);R.vt(MU);R.xN(Or);R.sA(Nk);var K=new IPCC.Web.UI.MarkEventArgs();K.mark=R;if(R.get_type()===IPCC.Web.UI.MarkType.Highlight||R.get_type()===IPCC.Web.UI.MarkType.HighlightText||R.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||R.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink||R.get_type()===IPCC.Web.UI.MarkType.Strikethrough||(R.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&R.bn!==undefined)){this.abY(R,0);}else{K.zIndex=aT.length-1;}K.clientX=oR.clientX;K.clientY=oR.clientY;K.length=1;T.bU('markAdded',K);};this.Bj=function(hN,df){var JE=[].concat(aT);var C;for(C=0;C<JE.length;C++){hN.call(df,JE[C],C,this);}};this.NV=function(jH){alQ(jH);return aT[jH];};this.nV=function(R){var C;for(C=0;C<aT.length;C++){if(aT[C]===R){return C;}}return-1;};this.aGa=function(eJ){var eT=JSON.parse(eJ);this.UU();var Ib=[];var C;var Np=eT.m;if(Np){for(C=0;C<Np.length;C++){var ax=new IPCC.Web.UI.Mark(Np[C].t);ax.aGg(Np[C]);ax.mC(this);ax.add_propertyChanged(nn);ax.add_markTextSelectionChanged(Aj);Ib.push(ax);}}aT=Ib;T.bU('marksLoaded',{});};var ALPHA_CHAR_CODES=[48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70];this.aqP=function(){var ld=new Array(36);var bv=0;var C;var aR;for(C=0;C<8;C++){ld[bv++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}for(C=0;C<3;C++){ld[bv++]=45;for(aR=0;aR<4;aR++){ld[bv++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}}ld[bv++]=45;var aow=new Date().getTime();var aoT=("0000000"+aow.toString(16).toUpperCase()).substr(-8);for(C=0;C<8;C++){ld[bv++]=aoT.charCodeAt(C);}for(C=0;C<4;C++){ld[bv++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}return String.fromCharCode.apply(null,ld);};function Vp(kP){var am=kP.firstChild;while(am.nodeType!==1){am=am.nextSibling;}return am;};function Qu(tx,ajr,apX){var aCM=parseFloat(tx.getAttribute(ajr));var aBQ=parseFloat(tx.getAttribute(ajr+'Xv'));return apX/(aCM/aBQ);};function avm(Mp,bi,aq){if(bi<=0&&aq<=0){return 1;}var agW=Mp.getAttribute('pageWidth');var agr=Mp.getAttribute('pageHeight');var Ni,QB,ab,tx,C;if(agW&&agr){Ni=parseFloat(agW);QB=parseFloat(agr);if(isFinite(Ni)&&isFinite(QB)&&Ni>0&&QB>0){return bi/Ni;}}for(C=0;C<Mp.childNodes.length;C++){tx=Mp.childNodes[C];if(tx.nodeName!=='annotation'){continue;}ab=Qu(tx,'width',bi);if(isFinite(ab)&&ab>0){return ab;}ab=Qu(tx,'height',aq);if(isFinite(ab)&&ab>0){return ab;}ab=Qu(tx,'x',bi);if(isFinite(ab)&&ab>0){return ab;}ab=Qu(tx,'y',aq);if(isFinite(ab)&&ab>0){return ab;}}return 1;};this.aFO=function(jY,ah,bi,aq,YF,stampImages,yK,vU){var T=this;if(yK!==true){this.UU();}if(jY){var ku;if(IPCC.uY.JW()){ku=jY.firstChild;}else{var Tg=jY.firstChild.nodeName;if(Tg.toLowerCase()==='xml'){ku=jY.firstChild.nextSibling;}else{ku=jY.firstChild;}}var dI=Vp(ku);if(dI.nodeName!=='pages'){throw 'ERROR: pages';}if(dI.hasChildNodes()){var C;for(C=0;C<dI.childNodes.length;C++){var aK=dI.childNodes[C];if(aK.nodeName!=='page'){continue;}var Am=aK.getAttribute('id');var nh=false;var wM;var sD='';var IM=[];var iY;var oc,bC=0;var ck,cf,ak;if(YF){var ahC=aK.getAttribute('pageWidth'),agH=aK.getAttribute('pageHeight');if(ahC){YF.ajQ(ahC);}if(agH){YF.akr(agH);}}var oy=[],QG={},aI;if((Am&&parseInt(Am,10))===(ah+1)){nh=true;var Ib=[];var aR;var ax;var ip,ha,ph,sL,sU,gN;var ni=1;var aie=avm(aK,bi,aq);if(aie>0){ni=aie;}for(aR=0;aR<aK.childNodes.length;aR++){var ag=aK.childNodes[aR];if(ag.nodeName!=='annotation'){continue;}var iW=parseFloat(ag.getAttribute('width'))*ni;var jB=parseFloat(ag.getAttribute('height'))*ni;var gC=parseFloat(ag.getAttribute('x'))*ni;var gF=parseFloat(ag.getAttribute('y'))*ni;var Vt=ag.getAttribute('fillColor'),XZ,pm,UO=ag.getAttribute('lineColor'),alN,jh,aeO=ag.getAttribute('fontColor'),amc,yl;if(Vt==='transparent'){XZ=pm=Vt;}else{XZ=parseInt(Vt||0,10);pm=parseInt(XZ,10).toString(16);while(pm.length<6){pm='0'+pm;}pm='#'+pm;}if(UO==='transparent'){jh=UO;}else{alN=parseInt(UO||0,10);jh=parseInt(alN,10).toString(16);while(jh.length<6){jh='0'+jh;}jh='#'+jh;}if(aeO){amc=parseInt(aeO||0,10);yl=parseInt(amc,10).toString(16);while(yl.length<6){yl='0'+yl;}yl='#'+yl;}var ayB=ag.getAttribute('stampSize');var Qk=ag.getAttribute('dragDirection');var IB=parseInt(ag.getAttribute('opacity'),10);if(isNaN(IB)){IB=255;}if(ag.nodeName==='annotation'){var ann=ag.getAttribute('label');if(!ann){ann='';}var lq=ag.getAttribute('drawType');var kg;switch(lq){case 'imagestamp':case 'imagestamp_redact':var pD=ag.getAttribute('imageStampId');var aD=(lq==='imagestamp')?IPCC.Web.UI.MarkType.ImageStampAnnotation:IPCC.Web.UI.MarkType.ImageStampRedaction;ax=new IPCC.Web.UI.Mark(aD);ax.set_rectangle({x:gC,y:gF,width:iW,height:jB});ax.set_image(stampImages[pD].base64format);ax.pD=pD;ip=true;if(lq==='imagestamp_redact'){ax.kU(true);}break;case 'circle':ax=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Ellipse);ax.set_rectangle({x:gC,y:gF,width:iW,height:jB});ip=true;ax.set_lineColor(jh);ax.set_fillVisible(false);ax.set_lineWidth(parseFloat(ag.getAttribute('lineWidth')));break;case 'circle_filled':case 'circle_trans':ax=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Ellipse);ax.set_rectangle({x:gC,y:gF,width:iW,height:jB});ip=true;ax.set_fillColor(pm);ax.set_lineColor(jh);ax.set_fillVisible(true);ax.set_lineWidth(parseFloat(ag.getAttribute('lineWidth')));break;case 'text':case 'text_redact':ax=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Text);ax.set_rectangle({x:gC,y:gF,width:iW,height:jB});ax.set_fontName('verdana');ax.set_fontSize(10);ax.set_opacity(0);wM=undefined;ax.set_fillColor('#000000');if(lq==='text_redact'){ax.kU(true);}if(lq==='text'){ax.set_fillColor(pm);ax.set_lineColor(jh);ax.set_lineWidth(parseFloat(ag.getAttribute('lineWidth')));ax.set_fillVisible(true);ax.set_opacity(IB);}gN=parseInt(ag.getAttribute('maxLength'));if(!isNaN(gN)){ax.set_maxLength(gN);}oy=[];ha=ag.firstChild;while((ha)&&(ha.nodeType!==4)){ha=ha.nextSibling;}if((ha)&&(ha.nodeType===4)){kg=ha.innerText||ha.textContent||ha.data;ax.aV.aO=kg;oc=kg.split("</TEXTFORMAT>");sD='';IM=[];for(bC=0;bC<oc.length;bC++){if(oc[bC].match(/<TEXTFORMAT/)){oc[bC]=oc[bC]+"</TEXTFORMAT>";oy.push(oc[bC]);}}for(bC=0;bC<oy.length;bC++){if(oy[bC].match(/<P/)){wM=this.acv(oy[bC]);IM.push(wM);sD+=wM+" ";if(bC===0){iY=this.adA(oy[bC]);acU(iY,ax);}}sD=sD.replace(/\s+$/g,"");ax.set_text(sD);var GU=this.acf(oy[bC]);switch(GU){case 'CENTER':ax.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);break;case 'RIGHT':ax.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Right);break;default:ax.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Left);break;}}}break;case 'line':case 'arrow':ax=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Line);var bo=ax.qP();if(Qk==='br'){bo.setPoint(1,new IPCC.Web.UI.Point(gC+iW,gF+jB));bo.setPoint(0,new IPCC.Web.UI.Point(gC,gF));}else if(Qk==='bl'){bo.setPoint(1,new IPCC.Web.UI.Point(gC,gF+jB));bo.setPoint(0,new IPCC.Web.UI.Point(gC+iW,gF));}else if(Qk==='tr'){bo.setPoint(1,new IPCC.Web.UI.Point(gC+iW,gF));bo.setPoint(0,new IPCC.Web.UI.Point(gC,gF+jB));}else if(Qk==='tl'){bo.setPoint(1,new IPCC.Web.UI.Point(gC,gF));bo.setPoint(0,new IPCC.Web.UI.Point(gC+iW,gF+jB));}ax.set_lineColor(jh);ax.set_lineWidth(parseFloat(ag.getAttribute('lineWidth')));if(lq==='arrow'){ax.set_headFillColor(jh);ax.set_endHeadType(IPCC.Web.UI.LineHeadType.Solid);ax.set_startHeadAngle(30);ax.set_startHeadLength(35);ax.set_lineWidth(parseFloat(ag.getAttribute('lineWidth')));}break;case 'stamp':case 'stamp_redact':ax=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Stamp);ax.set_rectangle({x:gC,y:gF,width:iW,height:jB});ax.set_fillColor(jh);if(lq==='stamp_redact'){ax.kU(true);ax.set_fillColor('#000000');}ha=ag.firstChild;while((ha)&&(ha.nodeType!==4)){ha=ha.nextSibling;}if((ha)&&(ha.nodeType===4)){kg=ha.innerText||ha.textContent||ha.data;ax.aV.aO=kg;ax.set_text(kg);}break;case 'highlightText':ax=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);ax.set_rectangle({x:gC,y:gF,width:iW,height:jB});ax.set_fillColor(jh);ax.bn=ag.getAttribute('highlightGroupID');if(ag.getAttribute('textLength')){ax.ck=parseInt(ag.getAttribute('textLength'),10);}ax.cf=ag.getAttribute('selectedText');if(ag.getAttribute('startIndex')){ax.ak=parseInt(ag.getAttribute('startIndex'),10);}ax.jm=ag.getAttribute('isHighlight');ax.set_opacity(127);aI=Ur(ag,ni);if(aI){ax.aI=aI;}break;case 'rectangle_filled_redact':ax=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);ax.set_rectangle({x:gC,y:gF,width:iW,height:jB});ax.set_fillColor(pm||'#000000');ax.set_lineColor(jh);ax.set_lineWidth(parseFloat(ag.getAttribute('lineWidth')));ax.set_textColor(yl||'#ffffff');ax.set_fillVisible(true);ax.kU(true);ph=ag.getAttribute('highlightGroupID');ax.set_text(IPCC.V.vB(ag.getAttribute('meta')));if(ph){ax.set_lineWidth(0);ax.bn=ph;var dF=QG[ph];if(!dF){dF=QG[ph]=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);dF.bn=ph;dF.set_rectangle(ax.get_rectangle());dF.kU(true);dF.set_text(IPCC.V.vB(ag.getAttribute('meta')));}else{var HO=false;var oH=dF.get_rectangle();var hJ=oH.x,it=oH.x+oH.width,_top=oH.y,jT=oH.y+oH.height;if(oH.x>gC){HO=true;hJ=gC;}if(oH.y>gF){HO=true;_top=gF;}if(oH.x+oH.width<gC+iW){HO=true;it=gC+iW;}if(oH.y+oH.height<gF+jB){HO=true;jT=gF+jB;}if(HO===true){dF.set_rectangle({x:hJ,y:_top,width:it-hJ,height:jT-_top});}}}break;case 'text_selection_redaction':ph=ag.getAttribute('highlightGroupID');ax=QG[ph];if(!ax){ax=QG[ph]=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);ax.bn=ph;ax.set_rectangle({x:0,y:0,width:0,height:0});ax.kU(true);ax.set_text(ag.getAttribute('meta'));}ck=ag.getAttribute('textLength');if(ck){ax.ck=parseInt(ck,10);}cf=ag.getAttribute('selectedText');if(cf){ax.cf=cf;}ak=ag.getAttribute('startIndex');if(ak){ax.ak=parseInt(ak,10);}break;case 'text_hyperlink_annotation':ax=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextHyperlinkAnnotation);ax.set_fillColor(jh);ph=ag.getAttribute('highlightGroupID');ax.bn=ph;var mg=ag.getAttribute('href');if(mg){ax.set_href(IPCC.V.vB(mg));}ck=ag.getAttribute('textLength');if(ck){ax.ck=parseInt(ck,10);}cf=ag.getAttribute('selectedText');if(cf){ax.cf=cf;}ak=ag.getAttribute('startIndex');if(ak){ax.ak=parseInt(ak,10);}var jm=ag.getAttribute('isHighlight');ax.jm=jm?jm:'n';ax.aI=Ur(ag,ni);ax.set_rectangle({x:gC,y:gF,width:iW,height:jB});break;case 'rectangle':ax=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);ax.set_rectangle({x:gC,y:gF,width:iW,height:jB});ax.set_lineVisible(true);ax.set_lineColor(jh);ax.set_fillVisible(false);ax.set_lineWidth(parseFloat(ag.getAttribute('lineWidth')));break;case 'rectangle_filled':ax=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);ax.set_rectangle({x:gC,y:gF,width:iW,height:jB});ax.set_fillColor(pm);ax.set_lineColor(jh);ax.set_fillVisible(true);ax.set_lineWidth(parseFloat(ag.getAttribute('lineWidth')));break;case 'rectangle_trans':case 'rectangle_trans_redact':ax=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);ax.set_rectangle({x:gC,y:gF,width:iW,height:jB});ax.set_fillColor(pm);ax.set_lineColor(jh);ax.set_fillVisible(true);if(lq==='rectangle_trans_redact'){ax.kU(true);}ax.set_lineWidth(parseFloat(ag.getAttribute('lineWidth')));break;case 'freehand':case 'signature_path':if(lq==='freehand'){ax=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Freehand);}else{ax=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.SignaturePath);switch(ag.getAttribute('align').toUpperCase()){case 'LEFT':ax.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Left);break;case 'RIGHT':ax.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Right);break;default:ax.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);break;}}ax.set_rectangle({x:gC,y:gF,width:iW,height:jB});ax.set_pathWidth(parseFloat(ag.getAttribute('pathWidth')));ax.set_pathHeight(parseFloat(ag.getAttribute('pathHeight')));ax.set_lineWidth(parseFloat(ag.getAttribute('lineWidth')));ax.set_lineColor(jh);var wT=ag.firstChild;while((wT)&&(wT.nodeType!==4)){wT=wT.nextSibling;}if((wT)&&(wT.nodeType===4)){kg=wT.innerText||wT.textContent||wT.data;ax.aV.aO=kg;ax.set_pathString(kg);}break;case 'signature_text':ax=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.SignatureText);ax.set_rectangle({x:gC,y:gF,width:iW,height:jB});ax.set_fontSize(10);ax.set_lineWidth=0;ax.set_fillVisible(true);ax.set_opacity(1);ha=ag.firstChild;this.Wp(ha,ax);ax.Ao=parseFloat(ag.getAttribute('fontWidth'));ax.Ax=parseFloat(ag.getAttribute('fontHeight'));break;case 'text_area_signature':ax=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextAreaSignature);ax.set_rectangle({x:gC,y:gF,width:iW,height:jB});ax.set_fontName('verdana');wM=undefined;gN=parseInt(ag.getAttribute('maxLength'));if(!isNaN(gN)){ax.set_maxLength(gN);}var hX=parseInt(ag.getAttribute('maxFontSize'));if(!isNaN(hX)){ax.set_maxFontSize(hX);}ha=ag.firstChild;this.Wp(ha,ax);break;case 'text_input_signature':ax=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextLine);ax.set_rectangle({x:gC,y:gF,width:iW,height:jB});ha=ag.firstChild;this.Wp(ha,ax);ax.Ao=parseFloat(ag.getAttribute('fontWidth'));ax.Ax=parseFloat(ag.getAttribute('fontHeight'));ax.set_lineVisible(false);gN=parseInt(ag.getAttribute('maxLength'));if(!isNaN(gN)){ax.set_maxLength(gN);}ava(ag,ax);break;case 'polyline':ax=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Polyline);ax.set_lineWidth(parseFloat(ag.getAttribute('lineWidth')));ax.set_lineColor(jh);var uw=ag.firstChild;while((uw)&&(uw.nodeType!==4)){uw=uw.nextSibling;}var Ji;if((uw)&&(uw.nodeType===4)){kg=uw.innerText||uw.textContent||uw.data;if(kg&&kg!=='undefined'){Ji=JSON.parse(kg);bo=ax.qP();if(Ji){for(C=0;C<Ji.length;C++){bo.addPoint(new IPCC.Web.UI.Point(Ji[C].x*ni,Ji[C].y*ni));}}}}break;case 'strikethrough':ax=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Strikethrough);ax.set_rectangle({x:gC,y:gF,width:iW,height:jB});ax.set_lineWidth(parseFloat(ag.getAttribute('lineWidth')));ax.set_lineColor(jh);ax.bn=ag.getAttribute('highlightGroupID');var textLength=ag.getAttribute('textLength');if(textLength){ax.ck=parseInt(textLength,10);}ax.cf=ag.getAttribute('selectedText');var startIndex=ag.getAttribute('startIndex');if(startIndex){ax.ak=parseInt(startIndex,10);}ax.jm=ag.getAttribute('isHighlight');aI=Ur(ag,ni);if(aI){ax.aI=aI;}break;default:}if(ax){ax.aV.iF=ag.getAttribute('nodeId');if(IB>=0&&(lq==='rectangle_trans_redact'|| !ax.lu())&&lq!=='stamp'&&lq!=='imagestamp'&&lq!=='imagestamp_redact'&&lq!=='text_hyperlink_annotation'&&lq!=='text_input_signature'&&lq!=='text_area_signature'&&lq!=='strikethrough'){ax.set_opacity(IB);}ax.aV.Bw=ayB;ax.aV.aFl=lq;ax.aV.dE=ag.getAttribute('lineWidth');ax.aV.dP=ag.getAttribute('fillColor');ax.aV.jQ=ag.getAttribute('lineColor');ax.aV.aGd=ag.getAttribute('dragDirection');ax.aV.Am=Am;ax.aV.am=ag.getAttribute('x');ax.aV.dv=ag.getAttribute('y');ax.aV.ba=ag.getAttribute('height');ax.aV.be=ag.getAttribute('width');ax.aV.aFb=ag.getAttribute('x_percent');ax.aV.aFY=ag.getAttribute('y_percent');ax.aV.aHr=ag.getAttribute('height_percent');ax.aV.aFW=ag.getAttribute('width_percent');ax.aV.aGq=ag.getAttribute('formUser');ax.aV.aIm=ag.getAttribute('created');ax.aV.aHM=ag.getAttribute('modified');ax.aV.aFf=ag.getAttribute('saveDate');ax.aV.aFV=ag.getAttribute('saveTime');ax.aV.gV=ag.getAttribute('meta');var yD=ag.firstChild;while((yD)&&(yD.nodeType!==4)){yD=yD.nextSibling;}if((yD)&&(yD.nodeType===4)){ax.dM.push(yD.data);}else{ax.dM.push('');}var lP=parseInt(ag.getAttribute('interactionMode'))||IPCC.Web.UI.MarkInteractionMode.Full;ax.set_interactionMode(lP);ax.mC(this);ax.add_propertyChanged(nn);ax.add_markTextSelectionChanged(Aj);ax.vt(MU);ax.xN(Or);ax.sA(Nk);Ib.push(ax);avb(ag,ax);sL=IPCC.V.alc(ag.getAttribute('created'));sU=IPCC.V.alc(ag.getAttribute('modified'));sL=sL||new Date();sU=sU||new Date();ax.initializeDates(sL,sU);if(vU){ax.set_visible(false);}}}}aT=aT.concat(Ib);T.bU('marksLoaded',{});}if(nh){avV(jY,ah);break;}}}}};this.Wp=function(tG,ax){var C,kg,oc,sD,IM,wM,oy=[],AN=ax.get_type()===IPCC.Web.UI.MarkType.SignatureText,asg=AN?IPCC.Web.UI.HorizontalAlignment.Center:IPCC.Web.UI.HorizontalAlignment.Left,iY;while((tG)&&(tG.nodeType!==4)){tG=tG.nextSibling;}if((tG)&&(tG.nodeType===4)){kg=tG.innerText||tG.textContent||tG.data;ax.aV.aO=kg;oc=kg.split("</TEXTFORMAT>");for(C=0;C<oc.length;C++){if(oc[C].match(/<TEXTFORMAT/)){oc[C]=oc[C]+"</TEXTFORMAT>";oy.push(oc[C]);}}sD='';IM=[];for(C=0;C<oy.length;C++){if(oy[C].match(/<P/)){wM=this.acv(oy[C]);IM.push(wM);sD+=wM+" ";if(C===0){iY=this.adA(oy[C]);acU(iY,ax);}}sD=sD.replace(/\s+$/g,"");ax.set_text(sD);var GU=this.acf(oy[C]);switch(GU){case 'LEFT':ax.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Left);break;case 'CENTER':ax.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);break;case 'RIGHT':ax.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Right);break;default:ax.set_textHorizontalAlignment(asg);break;}}}};function VR(ahj,cT){for(var i=0;i<ahj.childNodes.length;i++){var abq=ahj.childNodes[i];if(abq.nodeName==='kvp'){var au=abq.getAttribute("key");var J=abq.getAttribute("value");cT.set_data(au,J);}}};function aun(Oh,dC){var bZ=new IPCC.Web.UI.Comment(IPCC.V.vB(Oh.getAttribute("text")));bZ.set_creationTime(Oh.getAttribute("created"));dC.addComment(bZ);for(var i=0;i<Oh.childNodes.length;i++){var aiz=Oh.childNodes[i];if(aiz.nodeName==='data'){VR(aiz,bZ.get_data());}}};function auA(aiY,dC){for(var i=0;i<aiY.childNodes.length;i++){var Oq=aiY.childNodes[i];if(Oq.nodeName==='comments'){var hH=Oq;for(var j=0;j<hH.childNodes.length;j++){var aiA=hH.childNodes[j];if(aiA.nodeName==='comment'){aun(aiA,dC);}}}else if(Oq.nodeName==='data'){VR(Oq,dC.get_data());}}};function avb(GM,R){for(var i=0;i<GM.childNodes.length;i++){var uD=GM.childNodes[i];if(uD.nodeName==='conversation'){auA(uD,R.get_conversation());}else if(uD.nodeName==='data'){VR(uD,R.get_data());}}};function ava(GM,R){var J=null,HI={};for(var i=0;i<GM.childNodes.length;i++){var uD=GM.childNodes[i];if(uD.nodeName==='inputMask'){J=IPCC.V.vB(uD.getAttribute('value'));for(var j=0;j<uD.childNodes.length;j++){var Ym=uD.childNodes[j];if(Ym.nodeName==='translation'){HI[IPCC.V.vB(Ym.getAttribute('key'))]=new RegExp(IPCC.V.vB(Ym.getAttribute('value').replace(/(^\/|\/$)/g,'')));}}break;}}if(J!==null){R.set_mask({value:J,translations:HI});}};function Ur(sP,wD){var gy=null,iK;for(var i=0;i<sP.childNodes.length;i++){iK=sP.childNodes[i];if(iK.nodeName==='line-rectangles'){if(!gy){gy=avR(iK,wD);}else{throw new Error("An XML annotation node cannot have more than one line-rectangles child node.");}}}return gy;};function avR(sP,wD){var gy=[],iK;for(var i=0;i<sP.childNodes.length;i++){iK=sP.childNodes[i];if(iK.nodeName==='rectangle'){gy.push(awJ(iK,wD));}}return gy;};function awJ(sP,wD){var am=parseFloat(sP.getAttribute("x"))*wD;var dv=parseFloat(sP.getAttribute("y"))*wD;var be=parseFloat(sP.getAttribute("width"))*wD;var ba=parseFloat(sP.getAttribute("height"))*wD;return new IPCC.Web.UI.Rectangle(am,dv,be,ba);};this.aap=function(bF,JO,ty,im,cz,bv){var ax=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);ax.set_rectangle({x:bF.x,y:bF.y,width:bF.width,height:bF.height});ax.set_fillColor(ty);ax.set_fillVisible(true);ax.ak=bv;ax.ck=1;if(cz){ax.set_opacity(cz);}else{ax.set_opacity(127);}T.addMark(ax);return ax;};this.asc=function(bF,Rx,bv){var ax=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);ax.set_rectangle({x:bF.x,y:bF.y,width:bF.width,height:bF.height});ax.set_fillColor(Rx.get_fillColor());ax.set_fillVisible(true);ax.ak=bv;ax.ck=1;if(Rx.get_opacity()){ax.set_opacity(Rx.get_opacity());}else{ax.set_opacity(127);}T.addMark(ax);return ax;};function acU(iY,ax){for(var cO=0;cO<iY.length;cO++){var cd=iY[cO].attribs;var nh=false;if(iY[cO].attribs.length>1&& !nh&&iY[cO].Fq==='font'){nh=true;for(var aR=0;aR<cd.length;aR++){if(cd[aR].ap==="FACE"){ax.set_fontName(cd[aR].J);}else if(cd[aR].ap==="SIZE"&&ax.get_type()!==IPCC.Web.UI.MarkType.TextLine&&ax.get_type()!==IPCC.Web.UI.MarkType.TextAreaSignature){var sa=parseFloat(cd[aR].J);ax.set_fontSize(sa);}else if(cd[aR].ap==="COLOR"){var aif=cd[aR].J;if(ax.get_type()===IPCC.Web.UI.MarkType.SignatureText){ax.set_fillColor(aif);}else{ax.set_textColor(aif);}}}var jR=false;if(iY[cO+1]&&ax.get_type()!==IPCC.Web.UI.MarkType.TextLine){if(iY[cO+1].tagName==='font'){break;}else{var vi=iY[cO+1].Fq;if(vi==='b'||vi==='i'||vi==='u'||vi==='s'){if(vi==='b'){ax.set_fontStyle(IPCC.Web.UI.FontStyle.Bold);}else if(vi==='i'){ax.set_fontStyle(IPCC.Web.UI.FontStyle.Italic);}else if(vi==='u'){ax.set_fontStyle(IPCC.Web.UI.FontStyle.Underline);}else if(vi==='s'){ax.set_fontStyle(IPCC.Web.UI.FontStyle.Strikeout);}jR=true;}}if(iY[cO+2]){var ara=iY[cO+2].Fq;jR=We(ax,jR,ara);}if(iY[cO+3]){var aqa=iY[cO+3].Fq;jR=We(ax,jR,aqa);}if(iY[cO+4]){var apI=iY[cO+4].Fq;jR=We(ax,jR,apI);}if(nh){break;}}}}};function We(R,ahm,wV){var jR=ahm;var ax=R;if(ahm){if(wV==='b'){ax.set_fontStyle(ax.get_fontStyle()|IPCC.Web.UI.FontStyle.Bold);jR=true;}else if(wV==='i'){ax.set_fontStyle(ax.get_fontStyle()|IPCC.Web.UI.FontStyle.Italic);jR=true;}else if(wV==='u'){ax.set_fontStyle(ax.get_fontStyle()|IPCC.Web.UI.FontStyle.Underline);jR=true;}else if(wV==='s'){ax.set_fontStyle(ax.get_fontStyle()|IPCC.Web.UI.FontStyle.Strikeout);jR=true;}}else{if(wV==='b'){ax.set_fontStyle(IPCC.Web.UI.FontStyle.Bold);jR=true;}else if(wV==='i'){ax.set_fontStyle(IPCC.Web.UI.FontStyle.Italic);jR=true;}else if(wV==='u'){ax.set_fontStyle(IPCC.Web.UI.FontStyle.Underline);jR=true;}else if(wV==='s'){ax.set_fontStyle(IPCC.Web.UI.FontStyle.Strikeout);jR=true;}}return jR;};function Ce(str){var obj={},items=str.split(",");for(var i=0;i<items.length;i++){obj[items[i]]=true;}return obj;};var aee=/^<([\-A-Za-z0-9_]+)((?:\s+\w+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,aiN=/^<\/([\-A-Za\-z0-9_]+)[^>]*>/,axA=/([\-A-Za\-z0-9_]+)(?:\s*=\s*(?:(?:"((?:\\[\w\W]|[^"])*)")|(?:'((?:\\[\w\W]|[^'])*)')|([^>\s]+)))?/g;var aty=Ce("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed");var ny=Ce("address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul");var aGb=Ce("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var");var arH=Ce("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr");var aui=Ce("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected");var arn=Ce("script,style");this.afw=function(html,handler){var bv,xy,uq,lY=[],jl=html;function parseEndTag(tag,tagName){var fS;if(!tagName){fS=0;}else{for(fS=lY.length-1;fS>=0;fS--){if(lY[fS]===tagName){break;}}}if(fS>=0){for(var i=lY.length-1;i>=fS;i--){if(handler.end){handler.end(lY[i]);}}lY.length=fS;}};function parseStartTag(tag,tagName,rest,unary){tagName=tagName.toLowerCase();if(ny[tagName]){while(lY.last()&&aGb[lY.last()]){parseEndTag("",lY.last());}}if(arH[tagName]&&lY.last()===tagName){parseEndTag("",tagName);}unary=aty[tagName]|| ! !unary;if(!unary){lY.push(tagName);}if(handler.start){var attrs=[];rest.replace(axA,function(uq,name){var value=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:aui[name]?name:"";attrs.push({name:name,value:value,escaped:value.replace(/(^|[^\\])"/g,'$1\\\"')});});if(handler.start){handler.start(tagName,attrs,unary);}}};lY.last=function(){return this[this.length-1];};function axp(all,text){text=text.replace(/<!--([\w\W]*?)-->/g,"$1").replace(/<!\[CDATA\[([\w\W]*?)\]\]\]>/g,"$1");if(handler.chars){handler.chars(text);}return "";};while(html){xy=true;if(!lY.last()|| !arn[lY.last()]){if(html.indexOf("<!--")===0){bv=html.indexOf("-->");if(bv>=0){if(handler.comment){handler.comment(html.substring(4,bv));}html=html.substring(bv+3);xy=false;}}else if(html.indexOf("</")===0){uq=html.match(aiN);if(uq){html=html.substring(uq[0].length);uq[0].replace(aiN,parseEndTag);xy=false;}}else if(html.indexOf("<")===0){uq=html.match(aee);if(uq){html=html.substring(uq[0].length);uq[0].replace(aee,parseStartTag);xy=false;}}if(xy){bv=html.indexOf("<");var text=bv<0?html:html.substring(0,bv);text=IPCC.V.vB(text);html=bv<0?"":html.substring(bv);if(handler.chars){handler.chars(text);}}}else{html=html.replace(new RegExp("(.*)<\/"+lY.last()+"[^>]*>"),axp);parseEndTag("",lY.last());}if(html===jl){throw " Parse Error in annotation Html Text: "+html;}jl=html;}parseEndTag();};this.acv=function(html){var results="";this.afw(html,{start:function(){},end:function(){},chars:function(text){results+=text;},comment:function(){}});return results;};this.adA=function(html){var eS=[];this.afw(html,{start:function(tag,attrs){var eK;eK=tag;if(tag==='font'||tag==='b'||tag==='i'||tag==='u'||tag==='s'){var vq={};vq.Fq=tag;vq.attribs=[];if(tag==='b'){vq.aIk=true;}else if(tag==='i'){vq.aHn=true;}else if(tag==='u'){vq.aIx=true;}else if(tag==='s'){vq.aIr=true;}else{for(var i=0;i<attrs.length;i++){var AQ={};AQ.ap=attrs[i].name;AQ.J=attrs[i].value;vq.attribs.push(AQ);}}eS.push(vq);}},end:function(){},chars:function(){},comment:function(){}});return eS;};this.acf=function(html){var parts=html.toUpperCase().split('ALIGN="');var alignment=parts[1].split('"')[0];return alignment;};function avV(jY,aCK){var jL=jY.getElementsByTagName("highlights")[0];if(jL.hasChildNodes()){var lg;var dA;for(var C=0;C<jL.childNodes.length;C++){lg=jL.childNodes[C];if(lg.nodeType===1){dA=lg.getAttribute('page');if(dA&&parseInt(dA,10)===aCK+1){var ja=new IPCC.Web.UI.Yo();ja.aCl=lg.nodeName;switch(ja.aCl){case 'tag':ja.EO=IPCC.Web.UI.HighLightType.Tag;break;case 'highlight':ja.EO=IPCC.Web.UI.HighLightType.InlineHighLight;break;case 'link':ja.EO=IPCC.Web.UI.HighLightType.Link;break;case 'redaction':ja.EO=IPCC.Web.UI.HighLightType.Redaction;break;case 'strikethrough':ja.EO=IPCC.Web.UI.HighLightType.Strikethrough;break;default:ja.EO=undefined;}if(lg.childNodes[0].data){ja.dM.push(lg.childNodes[0].data);}ja.aV.dr=lg.getAttribute('id');ja.aV.aGY=lg.getAttribute('userid');ja.aV.aHH=lg.getAttribute('mode');ja.aV.cW=lg.getAttribute('color');ja.aV.aIv=lg.getAttribute('occurence');ja.aV.ag=lg.getAttribute('annotation');ja.aV.aK=lg.getAttribute('page');ja.aV.aFg=lg.getAttribute('documentname');ja.aV.aGT=lg.getAttribute('tooltip');ja.aV.aGX=lg.getAttribute('allowdelete');ja.aV.ik=lg.getAttribute('start');ja.aV.aHt=lg.getAttribute('end');T.aBI.push(ja);}}}}};this.UU=function(){var K;if(aT.length<1){return;}ef.removeAllMarks();var C;for(C=aT.length-1;C>=0;C--){aT[C].remove_propertyChanged(nn);aT[C].remove_markTextSelectionChanged(Aj);aT[C].mC(null);K=new IPCC.Web.UI.MarkEventArgs();K.length=aT.length;K.zIndex=0;K.mark=aT.pop();T.bU('markRemoved',K);}K=new IPCC.Web.UI.MarkEventArgs();K.length=aT.length;K.zIndex=0;T.bU('markRemoved',K);};this.ug=function(R){var jH=this.nV(R);var uo=R.bn;if(jH>=0){R.remove_propertyChanged(nn);R.remove_markTextSelectionChanged(Aj);R.mC(null);aT.splice(jH,1);ef.removeMark(R);var K=new IPCC.Web.UI.MarkEventArgs();K.mark=R;K.zIndex=jH;K.length=1;T.bU('markRemoved',K);if(uo){this.atg(uo);}}};this.aGU=function(ou){var uS=aT.length;var uo=ou.bn;while(uS--){var R=aT[uS];if(R.bn===uo){R.set_fillColor(ou.get_fillColor());}}};this.apq=function(ou){var uS=aT.length;var uo=ou.bn;if(!uo){ou.set_text(ou.get_text());return;}while(uS--){var R=aT[uS];if(R.bn===uo){if(R.get_text()!==ou.get_text()){R.set_text(ou.get_text());}if(R.get_fontName()!==ou.get_fontName()){R.set_fontName(ou.get_fontName());}if(R.get_fontSize()!==ou.get_fontSize()){R.set_fontSize(ou.get_fontSize());}}}};this.atg=function(uo){var uS=aT.length;while(uS--){var R=aT[uS];if(R.bn===uo){var jH=this.nV(R);ef.removeMark(R);aT.splice(uS,1);var K=new IPCC.Web.UI.MarkEventArgs();K.mark=R;K.zIndex=jH;K.length=1;}}};this.abY=function(R,jH){var Lf=this.nV(R);if(Lf<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot reorder a Mark unless it is currently associated with the ArtPage.');}if(Lf===jH){return;}alQ(jH);aT.splice(Lf,1);aT.splice(jH,0,R);if(R.get_type()===IPCC.Web.UI.MarkType.Highlight||R.get_type()===IPCC.Web.UI.MarkType.HighlightText||R.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||R.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink||R.get_type()===IPCC.Web.UI.MarkType.Strikethrough||(R.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&R.bn!==undefined)){return;}var K=new IPCC.Web.UI.MarkEventArgs();K.mark=R;K.zIndex=jH;K.oldZIndex=Lf;K.length=1;T.bU('markReordered',K);};function Wl(gy,er,dV){if(!gy){return undefined;}var jg={fl:'line-rectangles',dM:[],aV:{}};IPCC.V.forEach(gy,function(H){jg.dM.push({fl:'rectangle',dM:[],aV:{x:H.x,y:H.y,height:H.height,width:H.width}});});return jg;};function awq(jv){if(!jv){return undefined;}var jg={fl:'inputMask',dM:[],aV:{value:IPCC.V.qO(jv.value)}};IPCC.V.forEach(jv.translations,function(J,au){jg.dM.push({fl:'translation',dM:[],aV:{key:IPCC.V.qO(au),value:IPCC.V.qO(J.toString())}});});return jg;};function Wb(cT){if(!cT){return undefined;}var lE=cT.get_dataKeys();if(lE.length===0){return undefined;}var jg={fl:'data',dM:[],aV:{}};IPCC.V.forEach(lE,function(au){var J=cT.get_data(au);jg.dM.push({fl:'kvp',dM:[],aV:{key:au,value:J}});});return jg;};function avL(bZ){if(!bZ){return undefined;}var yT={fl:'comment',dM:[],aV:{}};yT.aV.text=IPCC.V.qO(bZ.get_text());yT.aV.created=bZ.get_creationTime();var jg=Wb(bZ.get_data());if(jg){yT.dM.push(jg);}return yT;};function awr(dC){if(!dC||dC.get_length()===0){return undefined;}var Va={fl:'conversation',dM:[],aV:{}};var afv={fl:'comments',dM:[],aV:{}};Va.dM.push(afv);dC.forEach(function(bZ){var yT=avL(bZ);if(yT){afv.dM.push(yT);}});var jg=Wb(dC.get_data());if(jg){Va.dM.push(jg);}return Va;};this.asE=function(R,er,dV,vg){var aD=R.get_type();var jK=false;var jb;var fV;var ajA;var Ys;var gn,rH,pP,aO;var aJ={fl:'annotation',dM:[],aV:{}};if(!R.aV.iF){aJ.aV.nodeId=T.aqP();}else{aJ.aV.nodeId=R.aV.iF;}var Jh,Ca="",oe="";if(R.get_lineColor()){var UE=R.get_lineColor();if(UE==='transparent'){aJ.aV.lineColor=UE;}else{Jh=UE.replace(/#/,"");Ca=parseInt(Jh,16);oe=Ca.toString();aJ.aV.lineColor=oe;}}aJ.aV.interactionMode=R.get_interactionMode();aJ.aV.stampSize='122';var KR={};KR[IPCC.Web.UI.MarkType.Stamp]=true;KR[IPCC.Web.UI.MarkType.ImageStampAnnotation]=true;KR[IPCC.Web.UI.MarkType.ImageStampRedaction]=true;if((aD===IPCC.Web.UI.MarkType.Rectangle&&R.get_opacity()<255|| !R.lu())&&KR[aD]!==true){aJ.aV.opacity=R.get_opacity();}if(R.get_conversation().get_length()>0){aJ.dM.push(awr(R.get_conversation()));}var jg=Wb(R.get_data());if(jg){aJ.dM.push(jg);}jK=false;switch(aD){case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.Ellipse:fV=R.get_fillColor();if(fV==='transparent'){aJ.aV.fillColor=fV;}else if(fV){jb=fV.replace(/#/,"");aJ.aV.fillColor=parseInt(jb,16).toString();}else{aJ.aV.fillColor=oe;}if(R.get_fillVisible()){if(R.get_type()===IPCC.Web.UI.MarkType.Rectangle){if(R.get_opacity()===255){if(R.lu()===true){aJ.aV.drawType='rectangle_filled_redact';if(R.bn){aJ.aV.highlightGroupID=R.bn;}}else{aJ.aV.drawType='rectangle_filled';}}else{if(R.lu()===true){aJ.aV.drawType='rectangle_trans_redact';}else{aJ.aV.drawType='rectangle_trans';}}}else{if(R.get_opacity()===255){aJ.aV.drawType='circle_filled';if(R.lu()){aJ.aV.drawType='circle_filled_redact';}}else{aJ.aV.drawType='circle_trans';if(R.lu()){aJ.aV.drawType='circle_trans_redact';}}}}else{if(R.get_type()===IPCC.Web.UI.MarkType.Rectangle){aJ.aV.drawType='rectangle';aJ.aV.fillColor=oe;}else{aJ.aV.drawType='circle';aJ.aV.fillColor=oe;}}aJ.aV.dragDirection='br';var H=R.get_rectangle();aJ.aV.x=H.x;aJ.aV.y=H.y;aJ.aV.x_percent=H.x/er;aJ.aV.y_percent=H.y/dV;aJ.aV.height_percent=H.height/dV;aJ.aV.width_percent=H.width/er;aJ.aV.height=H.height;aJ.aV.width=H.width;break;case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:aJ.aV.lineWidth=R.get_lineWidth();jK=true;break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:aJ.aV.highlightGroupID=R.bn;aJ.aV.drawType='text_selection_redaction';if(R.cf&&R.cf.length>0){aJ.aV.startIndex=R.ak;aJ.aV.selectedText=R.cf;aJ.aV.textLength=R.ck;}break;case IPCC.Web.UI.MarkType.Text:var lz=R.get_rectangle();aJ.aV.x=lz.x;aJ.aV.y=lz.y;aJ.aV.x_percent=lz.x/er;aJ.aV.y_percent=lz.y/dV;aJ.aV.height_percent=lz.height/dV;aJ.aV.width_percent=lz.width/er;aJ.aV.height=lz.height;aJ.aV.width=lz.width;aJ.aV.maxLength=R.get_maxLength();fV=R.get_fillColor();if(R.lu()===true){aJ.aV.drawType='text_redact';}else{aJ.aV.drawType='text';aJ.aV.opacity=R.get_opacity();}if(fV==='transparent'){aJ.aV.fillColor=fV;}else if(fV){jb=fV.replace(/#/,"");aJ.aV.fillColor=parseInt(jb,16).toString();}else{aJ.aV.fillColor='16776960';}var bj='';bj="<TEXTFORMAT LEADING=\"2\">";switch(R.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:bj+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:bj+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:bj+="<P ALIGN=\"right\" ";break;}bj+=">";bj+="<FONT ";rH=R.get_fontName();bj+="FACE="+"\""+rH+"\" ";pP=R.get_fontSize().toString();bj+="SIZE= \""+pP+"\" ";gn="\""+R.get_textColor()+"\" ";bj+="COLOR="+gn+" ";bj+="LETTERSPACING=\"0\" ";bj+="KERNING=\"0\" ";bj+=">";var du=R.get_fontStyle();if(du&IPCC.Web.UI.FontStyle.Bold){bj+="<B>";}if(du&IPCC.Web.UI.FontStyle.Italic){bj+="<I>";}if(du&IPCC.Web.UI.FontStyle.Underline){bj+="<U>";}if(du&IPCC.Web.UI.FontStyle.Strikeout){bj+="<S>";}aO=R.get_text();aO=IPCC.V.qO(aO);bj+=aO;if(du&IPCC.Web.UI.FontStyle.Strikeout){bj+="</S>";}if(du&IPCC.Web.UI.FontStyle.Underline){bj+="</U>";}if(du&IPCC.Web.UI.FontStyle.Italic){bj+="</I>";}if(du&IPCC.Web.UI.FontStyle.Bold){bj+="</B>";}bj+="</FONT>";bj+="</P>";bj+="</TEXTFORMAT>";break;case IPCC.Web.UI.MarkType.Highlight:H=R.get_rectangle();aJ.aV.x=H.x;aJ.aV.y=H.y;aJ.aV.x_percent=H.x/er;aJ.aV.y_percent=H.y/dV;aJ.aV.height_percent=H.height/dV;aJ.aV.width_percent=H.width/er;aJ.aV.height=H.height;aJ.aV.width=H.width;aJ.aV.drawType='highlight';aJ.aV.highlightGroupID=R.bn;aJ.aV.isHighlight=R.jm;fV=R.get_fillColor();if(fV){jb=fV.replace(/#/,"");aJ.aV.fillColor=parseInt(jb,16).toString();aJ.aV.lineColor=parseInt(jb,16).toString();}else{aJ.aV.fillColor=oe;}break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:H=R.get_rectangle();aJ.aV.x=H.x;aJ.aV.y=H.y;aJ.aV.height=H.height;aJ.aV.width=H.width;aJ.aV.drawType='text_hyperlink_annotation';aJ.aV.href=IPCC.V.qO(R.mg);aJ.aV.startIndex=R.ak;aJ.aV.selectedText=R.cf;aJ.aV.textLength=R.ck;aJ.aV.highlightGroupID=R.bn;aJ.aV.isHighlight=R.jm;fV=R.get_fillColor();if(fV){jb=fV.replace(/#/,"");aJ.aV.fillColor=parseInt(jb,16).toString();aJ.aV.lineColor=parseInt(jb,16).toString();}else{aJ.aV.fillColor=oe;}aJ.dM.push(Wl(R.aI,er,dV));break;case IPCC.Web.UI.MarkType.HighlightText:H=R.get_rectangle();aJ.aV.x=H.x;aJ.aV.y=H.y;aJ.aV.x_percent=H.x/er;aJ.aV.y_percent=H.y/dV;aJ.aV.height_percent=H.height/dV;aJ.aV.width_percent=H.width/er;aJ.aV.height=H.height;aJ.aV.width=H.width;aJ.aV.drawType='highlightText';aJ.aV.startIndex=R.ak;aJ.aV.selectedText=R.cf;aJ.aV.textLength=R.ck;aJ.aV.highlightGroupID=R.bn;aJ.aV.isHighlight=R.jm;fV=R.get_fillColor();if(fV){jb=fV.replace(/#/,"");aJ.aV.fillColor=parseInt(jb,16).toString();aJ.aV.lineColor=parseInt(jb,16).toString();}else{aJ.aV.fillColor=oe;}aJ.dM.push(Wl(R.aI,er,dV));break;case IPCC.Web.UI.MarkType.RectangleRedaction:H=R.get_rectangle();aJ.aV.drawType='rectangle_filled_redact';aJ.aV.x=H.x;aJ.aV.y=H.y;aJ.aV.x_percent=H.x/er;aJ.aV.y_percent=H.y/dV;aJ.aV.height_percent=H.height/dV;aJ.aV.width_percent=H.width/er;aJ.aV.height=H.height;aJ.aV.width=H.width;aJ.aV.meta=IPCC.V.qO(R.get_text());aJ.aV.stampSize=R.get_fontSize();aJ.aV.lineWidth=R.get_lineWidth();fV=R.get_fillColor();if(fV){jb=fV.replace(/#/,"");aJ.aV.fillColor=parseInt(jb,16).toString();}else{aJ.aV.fillColor=oe;}Jh=R.get_lineColor();if(Jh){Ca=Jh.replace(/#/,"");aJ.aV.lineColor=parseInt(Ca,16).toString();}else{aJ.aV.lineColor=oe;}Ys=R.get_textColor();if(Ys){ajA=Ys.replace(/#/,"");aJ.aV.fontColor=parseInt(ajA,16).toString();}else{aJ.aV.fontColor=oe;}if(R.bn){aJ.aV.highlightGroupID=R.bn;}break;case IPCC.Web.UI.MarkType.Stamp:fV=R.get_fillColor();if(fV){jb=fV.replace(/#/,"");aJ.aV.fillColor=parseInt(jb,16).toString();aJ.aV.lineColor=parseInt(jb,16).toString();}else{aJ.aV.fillColor=oe;}H=R.get_rectangle();aJ.aV.x=H.x;aJ.aV.y=H.y;aJ.aV.x_percent=H.x/er;aJ.aV.y_percent=H.y/dV;aJ.aV.height_percent=H.height/dV;aJ.aV.width_percent=H.width/er;aJ.aV.height=H.height;aJ.aV.width=H.width;if(R.lu()===true){aJ.aV.drawType='stamp_redact';}else{aJ.aV.drawType='stamp';}aO=R.get_text();aJ.aV.stampSize=R.stampSize;aJ.dM.push('<![CDATA['+aO+']]>');break;case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.SignaturePath:if(R.get_type()===IPCC.Web.UI.MarkType.Freehand){aJ.aV.drawType='freehand';}else{aJ.aV.drawType='signature_path';switch(R.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:aJ.aV.align='center';break;case IPCC.Web.UI.HorizontalAlignment.Left:aJ.aV.align='left';break;case IPCC.Web.UI.HorizontalAlignment.Right:aJ.aV.align='right';break;}}bj=R.get_pathString();aJ.aV.pathWidth=R.get_pathWidth();aJ.aV.pathHeight=R.get_pathHeight();H=R.get_rectangle();aJ.aV.x=H.x;aJ.aV.y=H.y;aJ.aV.x_percent=H.x/er;aJ.aV.y_percent=H.y/dV;aJ.aV.height_percent=H.height/dV;aJ.aV.width_percent=H.width/er;aJ.aV.height=H.height;aJ.aV.width=H.width;break;case IPCC.Web.UI.MarkType.SignatureText:fV=R.get_fillColor();var dP;if(fV){jb=fV.replace(/#/,"");aJ.aV.fillColor="";aJ.aV.lineColor="";dP=parseInt(jb,16).toString();}else{aJ.aV.fillColor="";dP=oe;}H=R.get_rectangle();aJ.aV.x=H.x;aJ.aV.y=H.y;aJ.aV.x_percent=H.x/er;aJ.aV.y_percent=H.y/dV;aJ.aV.height_percent=H.height/dV;aJ.aV.width_percent=H.width/er;aJ.aV.height=H.height;aJ.aV.width=H.width;aJ.aV.opacity=0;aJ.aV.drawType='signature_text';aJ.aV.stampSize=R.stampSize;aJ.aV.fontWidth=R.Ao;aJ.aV.fontHeight=R.Ax;bj='';bj="<TEXTFORMAT LEADING=\"2\">";switch(R.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:bj+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:bj+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:bj+="<P ALIGN=\"right\" ";break;}bj+=">";bj+="<FONT ";rH=R.get_fontName();bj+="FACE="+"\""+rH+"\" ";pP=R.stampSize.toString();bj+="SIZE= \""+pP+"\" ";gn="\""+R.get_fillColor()+"\" ";bj+="COLOR="+gn+" ";bj+="LETTERSPACING=\"0\" ";bj+="KERNING=\"0\" ";bj+=">";aO=IPCC.V.qO(R.get_text());bj+=aO;bj+="</FONT>";bj+="</P>";bj+="</TEXTFORMAT>";break;case IPCC.Web.UI.MarkType.TextAreaSignature:lz=R.get_rectangle();aJ.aV.x=lz.x;aJ.aV.y=lz.y;aJ.aV.x_percent=lz.x/er;aJ.aV.y_percent=lz.y/dV;aJ.aV.height_percent=lz.height/dV;aJ.aV.width_percent=lz.width/er;aJ.aV.height=lz.height;aJ.aV.width=lz.width;aJ.aV.maxLength=R.gN;aJ.aV.maxFontSize=R.hX;if(vg){aJ.aV.drawType='text';}else{aJ.aV.drawType='text_area_signature';}aJ.aV.fillColor='transparent';bj='';bj="<TEXTFORMAT LEADING=\"2\">";switch(R.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:bj+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:bj+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:bj+="<P ALIGN=\"right\" ";break;}bj+=">";bj+="<FONT ";rH=R.get_fontName();bj+="FACE="+"\""+rH+"\" ";pP=R.co.toString();bj+="SIZE= \""+pP+"\" ";gn="\""+R.get_textColor()+"\" ";bj+="COLOR="+gn+" ";bj+="LETTERSPACING=\"0\" ";bj+="KERNING=\"0\" ";bj+=">";du=R.get_fontStyle();if(du&IPCC.Web.UI.FontStyle.Bold){bj+="<B>";}if(du&IPCC.Web.UI.FontStyle.Italic){bj+="<I>";}if(du&IPCC.Web.UI.FontStyle.Underline){bj+="<U>";}if(du&IPCC.Web.UI.FontStyle.Strikeout){bj+="<S>";}aO=R.get_text();aO=IPCC.V.qO(aO);bj+=aO;if(du&IPCC.Web.UI.FontStyle.Strikeout){bj+="</S>";}if(du&IPCC.Web.UI.FontStyle.Underline){bj+="</U>";}if(du&IPCC.Web.UI.FontStyle.Italic){bj+="</I>";}if(du&IPCC.Web.UI.FontStyle.Bold){bj+="</B>";}bj+="</FONT>";bj+="</P>";bj+="</TEXTFORMAT>";break;case IPCC.Web.UI.MarkType.TextLine:if(!vg){H=R.get_rectangle();aJ.aV.x=H.x;aJ.aV.y=H.y;aJ.aV.x_percent=H.x/er;aJ.aV.y_percent=H.y/dV;aJ.aV.height_percent=H.height/dV;aJ.aV.maxLength=R.get_maxLength();aJ.aV.width_percent=H.width/er;aJ.aV.height=H.height;aJ.aV.width=H.width;aJ.aV.opacity=0;aJ.aV.drawType='text_input_signature';aJ.aV.stampSize=R.stampSize;aJ.aV.fontWidth=R.Ao;aJ.aV.fontHeight=R.Ax;bj='';bj="<TEXTFORMAT LEADING=\"2\">";switch(R.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:bj+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:bj+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:bj+="<P ALIGN=\"right\" ";break;}bj+=">";bj+="<FONT ";rH=R.get_fontName();bj+="FACE="+"\""+rH+"\" ";pP=R.stampSize.toString();bj+="SIZE= \""+pP+"\" ";gn="\""+R.get_textColor()+"\" ";bj+="COLOR="+gn+" ";bj+="LETTERSPACING=\"0\" ";bj+="KERNING=\"0\" ";bj+=">";aO=IPCC.V.qO(R.get_text());bj+=aO;bj+="</FONT>";bj+="</P>";bj+="</TEXTFORMAT>";var aht=awq(R.get_mask());if(aht){aJ.dM.push(aht);}}else{H=R.get_rectangle();var DM=R.stampSize;var oS;if(!R.Fj|| !R.oS){var app=IPCC.V.ani(R.get_text(),R.get_fontName(),H.width,H.height,{uG:"pre",co:DM+"px"});oS=app;R.Fj=true;R.oS=oS;}else{oS=R.oS;}DM=oS.fontSize;var hU=oS.width/H.width,ct=1.0,MIN_BUFFER=0.85;if(/mono/i.test(R.get_fontName())){MIN_BUFFER=0.75;}if(hU>MIN_BUFFER){ct=MIN_BUFFER*H.width/oS.width;DM=DM*ct;}var ahd=H.width,auz=oS.height*ct,agS=H.height-(H.height-auz)/2,ahc=H.x,agV=H.y+(H.height-oS.height)/2+(oS.height*(1-ct));aJ.aV.x=ahc;aJ.aV.y=agV;aJ.aV.x_percent=ahc/er;aJ.aV.y_percent=agV/dV;aJ.aV.height_percent=agS/dV;aJ.aV.width_percent=ahd/er;aJ.aV.height=agS;aJ.aV.width=ahd;aJ.aV.opacity=0;aJ.aV.drawType='text_redact';bj='';bj="<TEXTFORMAT>";switch(R.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:bj+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:bj+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:bj+="<P ALIGN=\"right\" ";break;}bj+=">";bj+="<FONT ";rH=R.get_fontName();bj+="FACE="+"\""+rH+"\" ";if(R.auH){pP=(DM/R.auH).toString();}else{pP=DM.toString();}bj+="SIZE= \""+pP+"\" ";gn="\""+R.get_textColor()+"\" ";bj+="COLOR="+gn+" ";bj+="LETTERSPACING=\"0\" ";bj+="KERNING=\"0\" ";bj+=">";aO=IPCC.V.qO(R.get_text());bj+=aO;bj+="</FONT>";bj+="</P>";bj+="</TEXTFORMAT>";}break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:aJ.aV.drawType=(aD===IPCC.Web.UI.MarkType.ImageStampRedaction)?'imagestamp_redact':'imagestamp';H=R.get_rectangle();aJ.aV.x=H.x;aJ.aV.y=H.y;aJ.aV.height=H.height;aJ.aV.width=H.width;aJ.aV.lineWidth=R.get_lineWidth();aJ.aV.x_percent=H.x/er;aJ.aV.y_percent=H.y/dV;aJ.aV.height_percent=H.height/dV;aJ.aV.width_percent=H.width/er;aJ.aV.imageStampId=R.pD;break;case IPCC.Web.UI.MarkType.Strikethrough:H=R.get_rectangle();aJ.aV.x=H.x;aJ.aV.y=H.y;aJ.aV.height=H.height;aJ.aV.width=H.width;aJ.aV.drawType='strikethrough';aJ.aV.startIndex=R.ak;aJ.aV.selectedText=R.cf;aJ.aV.textLength=R.ck;aJ.aV.highlightGroupID=R.bn;aJ.aV.isHighlight=R.jm;aJ.dM.push(Wl(R.aI,er,dV));break;}if(jK){aJ.aV.lineWidth=R.get_lineWidth();var bF=R.get_boundingRectangle();aJ.aV.x=bF.x;aJ.aV.y=bF.y;aJ.aV.x_percent=bF.x/er;aJ.aV.y_percent=bF.y/dV;aJ.aV.height_percent=bF.height/dV;aJ.aV.width_percent=bF.width/er;aJ.aV.height=bF.height;aJ.aV.width=bF.width;if(aD===IPCC.Web.UI.MarkType.Line){if(R.get_endHeadType()===IPCC.Web.UI.LineHeadType.None){aJ.aV.drawType='line';}else{aJ.aV.drawType='arrow';}}else{aJ.aV.drawType='polyline';}aJ.aV.lineWidth=R.get_lineWidth();var bo=R.get_points();if(aD===IPCC.Web.UI.MarkType.Line){if((bo.getPoint(0).x<bo.getPoint(1).x)&&(bo.getPoint(0).y>bo.getPoint(1).y)){aJ.aV.dragDirection='tr';}else if((bo.getPoint(0).x>bo.getPoint(1).x)&&(bo.getPoint(0).y>bo.getPoint(1).y)){aJ.aV.dragDirection='tl';}else if((bo.getPoint(0).x>bo.getPoint(1).x)&&(bo.getPoint(0).y<bo.getPoint(1).y)){aJ.aV.dragDirection='bl';}else if((bo.getPoint(0).x<bo.getPoint(1).x)&&(bo.getPoint(0).y<bo.getPoint(1).y)){aJ.aV.dragDirection='br';}else{aJ.aV.dragDirection='br';}}else{var vH=[];var cI=bo.get_length(),ay;if(cI>1){for(var aR=0;aR<bo.get_length();aR++){ay=bo.getPoint(aR);vH.push({x:ay.x,y:ay.y});}bj=JSON.stringify(vH);}}if(Ca){aJ.aV.fillColor=Ca;}else{aJ.aV.fillColor="";}}else{aJ.aV.lineWidth=R.get_lineWidth();aJ.aV.dragDirection='br';}if(R.get_type()!==IPCC.Web.UI.MarkType.RectangleRedaction){aJ.aV.meta='';}aJ.aV.label='';var eL=new Date();aJ.aV.saveDate=IPCC.V.aCS(eL);aJ.aV.saveTime=IPCC.V.aEF(eL);aJ.aV.uuid='';aJ.aV.formUser='';aJ.aV.created=IPCC.V.acO(R.get_dateCreated());aJ.aV.modified=IPCC.V.acO(R.get_dateModified());if(R.get_type()===IPCC.Web.UI.MarkType.Text||R.get_type()===IPCC.Web.UI.MarkType.Freehand||R.get_type()===IPCC.Web.UI.MarkType.SignaturePath||R.get_type()===IPCC.Web.UI.MarkType.SignatureText||R.get_type()===IPCC.Web.UI.MarkType.Polyline||R.get_type()===IPCC.Web.UI.MarkType.TextAreaSignature||R.get_type()===IPCC.Web.UI.MarkType.TextLine){aJ.dM.push('<![CDATA['+bj+']]>');}else{aJ.dM.push('');}return aJ;};this.aEh=function(ah,er,dV,aF){var ku={fl:'documentAnnotations',dM:[],aV:{}};var dI={fl:'pages',dM:[],aV:{}};ku.dM.push(dI);var jL={fl:'highlights',dM:[],aV:{}};ku.dM.push(jL);var vO={},qY=[];var aK={fl:'page',dM:[],aV:{id:(ah+1).toString(),pageWidth:er,pageHeight:dV}};dI.dM.push(aK);aF=aF||{};var afI=(aF.includeAnnotations!==undefined)? ! !aF.includeAnnotations:true,afc=(aF.includeRedactions!==undefined)? ! !aF.includeRedactions:true,adV=(aF.includeSignatures!==undefined)? ! !aF.includeSignatures:false,vg=(aF.vg!==undefined)? ! !aF.vg:false,Yz=(aF.Fo!==undefined)?aF.Fo:false,auo= ! !vg,ajB=Yz?Yz:aT;for(var C=0;C<ajB.length;C++){var R=ajB[C];var aD=R.get_type();if(R.get_type()===IPCC.Web.UI.MarkType.Highlight){continue;}if(auo&& !R.get_visible()){continue;}if(!Yz){if(afI===false&&afc===false&&adV===false){break;}if(afI===false){if(aD===IPCC.Web.UI.MarkType.Rectangle||aD===IPCC.Web.UI.MarkType.Ellipse||aD===IPCC.Web.UI.MarkType.Line||aD===IPCC.Web.UI.MarkType.Text||aD===IPCC.Web.UI.MarkType.Stamp||aD===IPCC.Web.UI.MarkType.Highlight||aD===IPCC.Web.UI.MarkType.Strikethrough||aD===IPCC.Web.UI.MarkType.HighlightText||aD===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||aD===IPCC.Web.UI.MarkType.Freehand||aD===IPCC.Web.UI.MarkType.ImageStampAnnotation||aD===IPCC.Web.UI.MarkType.Polyline){if(R.lu()===false){continue;}}}if(afc===false){if(R.lu()===true){continue;}if(aD===IPCC.Web.UI.MarkType.RectangleRedaction||aD===IPCC.Web.UI.MarkType.TextSelectionRedaction||aD===IPCC.Web.UI.MarkType.ImageStampRedaction){continue;}}if(adV===false){if(aD===IPCC.Web.UI.MarkType.SignaturePath||aD===IPCC.Web.UI.MarkType.SignatureText||aD===IPCC.Web.UI.MarkType.SignatureImage||aD===IPCC.Web.UI.MarkType.TextAreaSignature||aD===IPCC.Web.UI.MarkType.TextLine){continue;}}}switch(aD){case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:vO[R.pD]={fl:'stampImage',dM:[],aV:{imageStampId:R.pD,base64format:R.cU()}};break;}aK.dM.push(this.asE(R,er,dV,vg));}for(var FF in vO){if(vO.hasOwnProperty(FF)){qY.push(vO[FF]);}}return{ku:ku,qY:qY};};this.aBo=function(){var eT={m:[]};var C;for(C=0;C<aT.length;C++){eT.m.push(aT[C].aBJ());}T.bU('marksSaved',{});var abW="";abW=JSON.stringify(eT);return abW;};this.zy=function(F){ai.addHandler('markAdded',F);};this.zK=function(F){ai.removeHandler('markAdded',F);};this.Jm=function(F){ai.addHandler('markChanged',F);};this.FI=function(F){ai.removeHandler('markChanged',F);};this.zT=function(F){ai.addHandler('markRemoved',F);};this.zk=function(F){ai.removeHandler('markRemoved',F);};this.Js=function(F){ai.addHandler('markReordered',F);};this.Gn=function(F){ai.removeHandler('markReordered',F);};this.Wi=function(F){ai.addHandler('marksLoaded',F);};this.Um=function(F){ai.removeHandler('marksLoaded',F);};this.aGQ=function(F){ai.addHandler('marksSaved',F);};this.aFp=function(F){ai.removeHandler('marksSaved',F);};this.Kb=function(F){ai.addHandler('markSelectionChanged',F);};this.FE=function(F){ai.removeHandler('markSelectionChanged',F);};this.Kz=function(F){ai.addHandler('markTextSelectionChanged',F);};this.Fu=function(F){ai.removeHandler('markTextSelectionChanged',F);};this.vt=function(F){ai.addHandler('commentAdded',F);};this.Di=function(F){ai.removeHandler('commentAdded',F);};this.xN=function(F){ai.addHandler('commentRemoved',F);};this.Dz=function(F){ai.removeHandler('commentRemoved',F);};this.sA=function(F){ai.addHandler('commentChanged',F);};this.uc=function(F){ai.removeHandler('commentChanged',F);};this.ln=function(F){ai.addHandler('propertyChanged',F);};this.mZ=function(F){ai.removeHandler('propertyChanged',F);};this.bU=function(cE,K){var F=ai.getHandler(cE);if(F!==null){F(this,K);}};this.cN=function(cr){var F=ai.getHandler("propertyChanged");if(F){F(this,new IPCC.nG(cr));}};return this;};Qo.prototype={get_markCount:function(){return this.ZM();},get_selectedMarks:function(){return this.zq();},toString:function(){return 'ArtPage with '+this.get_markCount()+' marks';},addMark:function(mark,mouseLocation){this.NL(mark,mouseLocation);},forEachMark:function(method,context){this.Bj(method,context);},getMark:function(zIndex){return this.NV(zIndex);},getZIndexOfMark:function(mark){return this.nV(mark);},loadFromJson:function(json){this.aGa(json);},removeAllMarks:function(){this.UU();},removeMark:function(mark){this.ug(mark);},reorderMark:function(mark,zIndex){this.abY(mark,zIndex);},saveToJson:function(){return this.aBo();},add_markAdded:function(handler){this.zy(handler);},remove_markAdded:function(handler){this.zK(handler);},add_markChanged:function(handler){this.Jm(handler);},remove_markChanged:function(handler){this.FI(handler);},add_markRemoved:function(handler){this.zT(handler);},remove_markRemoved:function(handler){this.zk(handler);},add_markReordered:function(handler){this.Js(handler);},remove_markReordered:function(handler){this.Gn(handler);},add_marksLoaded:function(handler){this.Wi(handler);},remove_marksLoaded:function(handler){this.Um(handler);},add_markSelectionChanged:function(handler){this.Kb(handler);},remove_markSelectionChanged:function(handler){this.FE(handler);},add_markTextSelectionChanged:function(handler){this.Kz(handler);},remove_markTextSelectionChanged:function(handler){this.Fu(handler);},add_commentAdded:function(handler){this.vt(handler);},remove_commentAdded:function(handler){this.Di(handler);},add_commentRemoved:function(handler){this.xN(handler);},remove_commentRemoved:function(handler){this.Dz(handler);},add_commentChanged:function(handler){this.sA(handler);},remove_commentChanged:function(handler){this.uc(handler);}};Qo.registerClass=cR;Qo.registerClass('IPCC.Web.UI.ArtPage');module.exports=Qo;},{"../../IPCC.Util":29}],67:[function(require,module,exports){var dW=require('../../IPCC.Util').regEnum;var OI=function(){};OI.registerEnum=dW;OI.prototype={Line:0,Triangle:1};OI.registerEnum('IPCC.Web.UI.CalloutType',false);module.exports=OI;},{"../../IPCC.Util":29}],68:[function(require,module,exports){var cR=require('../../IPCC.Util').regClass;var MV=function(text){var ai=new IPCC.Web.UI.je();var cT=new IPCC.Web.UI.Data();this.aaB=IPCC.V.wJ(new Date());this.aO=text;this.aqe=function(aO){if(aO===this.aO){return;}this.aO=aO;var K=new IPCC.Web.UI.CommentEventArgs();K.comment=this;K.length=1;this.bU('commentChanged',K);};this.aEd=function(){return this.aO;};this.aqL=function(aDs){this.aaB=aDs;};this.atJ=function(){return this.aaB;};this.sA=function(F){ai.addHandler('commentChanged',F);};this.uc=function(F){ai.removeHandler('commentChanged',F);};this.bU=function(cE,K){var F=ai.getHandler(cE);if(F!==null){F(this,K);}};this.vn=function(){return cT;};return this;};MV.prototype={toString:function(){return 'Comment('+this.creationTime+', '+this.text+')';},add_commentChanged:function(handler){this.sA(handler);},remove_commentChanged:function(handler){this.uc(handler);},get_text:function(){return this.aEd();},set_text:function(text){this.aqe(text);},get_creationTime:function(){return this.atJ();},set_creationTime:function(isoTimeString){this.aqL(isoTimeString);},get_data:function(){return this.vn();}};MV.registerClass=cR;MV.registerClass('IPCC.Web.UI.Comment');module.exports=MV;},{"../../IPCC.Util":29}],69:[function(require,module,exports){var cR=require('../../IPCC.Util').regClass;var ME=function(){return this;};ME.registerClass=cR;ME.prototype={};ME.registerClass('IPCC.Web.UI.CommentEventArgs');module.exports=ME;},{"../../IPCC.Util":29}],70:[function(require,module,exports){var cR=require('../../IPCC.Util').regClass;var Nb=function(ayU){var hH=[];var ai=new IPCC.Web.UI.je();var cT=new IPCC.Web.UI.Data();var R=ayU;var T=this;function Qr(bM,K){T.bU('commentChanged',K);};this.Gi=function(bZ){bZ.add_commentChanged(Qr);hH.push(bZ);var K=new IPCC.Web.UI.CommentEventArgs();K.comment=bZ;K.length=1;K.index=hH.length-1;this.bU('commentAdded',K);};this.aEs=function(bZ){var Uh= -1;IPCC.V.forEach(hH,function(el,idx){if(el===bZ){Uh=idx;}});if(Uh=== -1){throw new IPCC.Web.UI.ImGearArgumentException('comment',"The provided comment was not found in the conversation.");}var afz=hH.splice(Uh,1)[0];afz.uc(Qr);var K=new IPCC.Web.UI.CommentEventArgs();K.comment=afz;K.length=1;this.bU('commentRemoved',K);};this.na=function(hN,df){var C;for(C=0;C<hH.length;C++){hN.call(df,hH[C],C,this);}};this.fC=function(){return hH.length;};this.vt=function(F){ai.addHandler('commentAdded',F);};this.Di=function(F){ai.removeHandler('commentAdded',F);};this.sA=function(F){ai.addHandler('commentChanged',F);};this.uc=function(F){ai.removeHandler('commentChanged',F);};this.xN=function(F){ai.addHandler('commentRemoved',F);};this.Dz=function(F){ai.removeHandler('commentRemoved',F);};this.vn=function(){return cT;};this.Oc=function(){return R;};this.bU=function(cE,K){var F=ai.getHandler(cE);if(F!==null){F(this,K);}};return this;};Nb.prototype={toString:function(){return 'Conversation with '+this.get_length()+' comments';},addComment:function(comment){this.Gi(comment);},removeCommentInstance:function(comment){this.aEs(comment);},forEach:function(method,context){this.na(method,context);},get_length:function(){return this.fC();},add_commentAdded:function(handler){this.vt(handler);},remove_commentAdded:function(handler){this.Di(handler);},add_commentChanged:function(handler){this.sA(handler);},remove_commentChanged:function(handler){this.uc(handler);},add_commentRemoved:function(handler){this.xN(handler);},remove_commentRemoved:function(handler){this.Dz(handler);},get_data:function(){return this.vn();},get_mark:function(){return this.Oc();}};Nb.registerClass=cR;Nb.registerClass('IPCC.Web.UI.Conversation');module.exports=Nb;},{"../../IPCC.Util":29}],71:[function(require,module,exports){var cR=require('../../IPCC.Util').regClass;var Sg=function(){this.cT={};this.vn=function(key){if(typeof key==='undefined'){return IPCC.V.extend({},this.cT);}else if(typeof key==='string'){return this.cT[key];}else{throw new IPCC.Web.UI.ImGearArgumentException("key","The argument must be a string.");}};this.aqX=function(key,value){if(typeof key!=='string'){throw new IPCC.Web.UI.ImGearArgumentException("key","The argument must be a string.");}if(typeof value==='string'){this.cT[key]=value;}else if(typeof value==='undefined'){delete this.cT[key];}else{throw new IPCC.Web.UI.ImGearArgumentException("value","The argument must be a string.");}return this;};this.aus=function(){var keys=[];IPCC.V.forEach(this.cT,function(value,key){keys.push(key);});return keys;};return this;};Sg.prototype={toString:function(){return 'Data('+this.creationTime+', '+this.text+')';},get_data:function(key){return this.vn(key);},set_data:function(key,value){return this.aqX(key,value);},get_dataKeys:function(){return this.aus();}};Sg.registerClass=cR;Sg.registerClass('IPCC.Web.UI.Data');module.exports=Sg;},{"../../IPCC.Util":29}],72:[function(require,module,exports){var dW=require('./../../IPCC.Util').regEnum;var Sc=function(){};Sc.prototype={Production:0,Development:1,Detailed:2};Sc.registerEnum=dW;Sc.registerEnum('IPCC.Web.UI.DebugErrorLevel',false);module.exports=Sc;},{"./../../IPCC.Util":29}],73:[function(require,module,exports){var dW=require('./../../IPCC.Util').regEnum;var Pm=function(){};Pm.prototype={FunctionCall:0,Exception:1,Custom:2,UserAction:3,Warning:4};Pm.registerEnum=dW;Pm.registerEnum('IPCC.Web.UI.DebugItemCause',false);module.exports=Pm;},{"./../../IPCC.Util":29}],74:[function(require,module,exports){var cR=require('./../../IPCC.Util').regClass;var bS=function(aum){var aa=aum;var aiS=this.type=aa.type.toLowerCase();var MD=typeof aa.changedTouches!=='undefined';this.rawEvent=aa;this.altKey=aa.altKey;if(typeof(aa.button)!=='undefined'){this.button=(typeof(aa.which)!=='undefined')?aa.button:(aa.button===4)?IPCC.Web.UI.MouseButton.middleButton:(aa.button===2)?IPCC.Web.UI.MouseButton.rightButton:IPCC.Web.UI.MouseButton.leftButton;}if(aiS==='keypress'){this.charCode=aa.charCode||aa.keyCode;}else if(aa.keyCode&&(aa.keyCode===46)){this.keyCode=127;}else{this.keyCode=aa.keyCode;}this.clientX=(MD)?aa.changedTouches[0].clientX:aa.clientX;this.clientY=(MD)?aa.changedTouches[0].clientY:aa.clientY;this.ctrlKey=aa.ctrlKey;this.target=aa.target?aa.target:aa.srcElement;function awz(aS){var am=0;var dv=0;while(aS&& !isNaN(aS.offsetLeft)&& !isNaN(aS.offsetTop)){am+=aS.offsetLeft-aS.scrollLeft;dv+=aS.offsetTop-aS.scrollTop;if(aS.offsetparent){aS=aS.offsetParent;}else{aS=aS.parentNode;}}return{top:dv,left:am};};var dZ=""+aiS;var BO='key';if(dZ.substr(0,BO.length)!==BO){if((typeof(aa.offsetX)!=='undefined')&&(typeof(aa.offsetY)!=='undefined')){this.offsetX=aa.offsetX;this.offsetY=aa.offsetY;}else if(this.target&&(this.target.nodeType!==3)&&(typeof(aa.clientX)==='number')){var KA=awz(this.target);var ej=this.target;var fO=ej.ownerDocument||ej.document||ej;var kd=fO.defaultView||fO.parentWindow;this.offsetX=(kd.pageXOffset||0)+aa.clientX-KA.left;this.offsetY=(kd.pageYOffset||0)+aa.clientY-KA.top;}}this.screenX=(MD)?aa.changedTouches[0].screenX:aa.screenX;this.screenY=(MD)?aa.changedTouches[0].screenY:aa.screenY;this.shiftKey=aa.shiftKey;};bS.prototype={preventDefault:function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}if(this.rawEvent.preventDefault){this.rawEvent.preventDefault();}else if(window.event){this.rawEvent.returnValue=false;}},stopPropagation:function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}if(this.rawEvent.stopPropagation){this.rawEvent.stopPropagation();}else if(window.event){this.rawEvent.cancelBubble=true;}}};bS.registerClass=cR;bS.registerClass('IPCC.Web.UI.bS');bS.addHandler=function(element,eventName,handler,autoRemove){IPCC.Web.UI.bS.ZE(element);if(eventName==="error"){throw new IPCC.Web.UI.ImGearInvalidOperationException(IPCC.kH.addHandlerCantBeUsedForError);}if(!element.ai){element.ai={};}var eventCache=element.ai[eventName];if(!eventCache){element.ai[eventName]=eventCache=[];}var browserHandler;if(element.addEventListener){browserHandler=function(e){return handler.call(element,new IPCC.Web.UI.bS(e));};element.addEventListener(eventName,browserHandler,false);}else if(element.attachEvent){browserHandler=function(){var e={};try{var doc=element.ownerDocument||element.document||element;var ej=doc.defaultView||doc.parentWindow;e=ej.event;}catch(ex){}return handler.call(element,new IPCC.Web.UI.bS(e));};element.attachEvent('on'+eventName,browserHandler);}eventCache[eventCache.length]={handler:handler,browserHandler:browserHandler,autoRemove:autoRemove};if(autoRemove){var d=element.dispose;if(d!==IPCC.Web.UI.bS.akp){element.dispose=IPCC.Web.UI.bS.akp;if(typeof(d)!=="undefined"){element.alq=d;}}}};bS.clearHandlers=function(element){IPCC.Web.UI.bS.ZE(element);IPCC.Web.UI.bS.alk(element,false);};bS.alk=function(element,autoRemoving){if(element.ai){var cache=element.ai;for(var name in cache){if(cache.hasOwnProperty(name)){var handlers=cache[name];for(var i=handlers.length-1;i>=0;i--){var entry=handlers[i];if(!autoRemoving||entry.autoRemove){IPCC.Web.UI.bS.removeHandler(element,name,entry.handler);}}}}element.ai=null;}};bS.akp=function(){IPCC.Web.UI.bS.alk(this,true);var d=this.alq,type=typeof(d);if(type!=="undefined"){this.dispose=d;this.alq=null;if(type==="function"){this.dispose();}}};bS.removeHandler=function(element,eventName,handler){IPCC.Web.UI.bS.cJ(element,eventName,handler);};bS.cJ=function(element,eventName,handler){IPCC.Web.UI.bS.ZE(element);var browserHandler=null;if((typeof(element.ai)!=='object')|| !element.ai){throw new IPCC.Web.UI.ImGearInvalidOperationException('DOM event handler was not added through the DomEvent.addHandler method.');}var cache=element.ai[eventName];if(!(cache instanceof Array)){throw new IPCC.Web.UI.ImGearInvalidOperationException('DOM event handler was not added through the DomEvent.addHandler method.');}for(var i=0,l=cache.length;i<l;i++){if(cache[i].handler===handler){browserHandler=cache[i].browserHandler;break;}}if(typeof(browserHandler)!=='function'){throw new IPCC.Web.UI.ImGearInvalidOperationException('Handler was not added through the IPCC.Web.UI.bS.addHandler method.');}if(element.removeEventListener){element.removeEventListener(eventName,browserHandler,false);}else if(element.detachEvent){element.detachEvent('on'+eventName,browserHandler);}cache.splice(i,1);};bS.ZE=function(element){if(element.tagName&&(element.tagName.toUpperCase()==="SCRIPT")){return;}var doc=element.ownerDocument||element.document||element;if((typeof(element.document)!=='object')&&(element!==doc)&&(typeof(element.nodeType)!=='number')){throw new IPCC.Web.UI.ImGearArgumentException("element",IPCC.kH.argumentDomNode);}};module.exports=bS;},{"./../../IPCC.Util":29}],75:[function(require,module,exports){var dW=require('../../IPCC.Util').regEnum;var nK=function(){};nK.registerEnum=dW;nK.prototype={FullImage:0,FullWidth:1,FullHeight:2,ActualSize:3,OneToOne:4,Rectangle:5};nK.registerEnum('IPCC.Web.UI.FitType',false);module.exports=nK;},{"../../IPCC.Util":29}],76:[function(require,module,exports){var dW=require('../../IPCC.Util').regEnum;var Nn=function(){};Nn.registerEnum=dW;Nn.prototype={Regular:0,Bold:1,Italic:2,Underline:4,Strikeout:8};Nn.registerEnum('IPCC.Web.UI.FontStyle',true);module.exports=Nn;},{"../../IPCC.Util":29}],77:[function(require,module,exports){var dW=require('../../IPCC.Util').regEnum;var PO=function(){};PO.registerEnum=dW;PO.prototype={Tag:0,InlineHighLight:1,Link:2,Redaction:3,Strikethrough:4};PO.registerEnum('IPCC.Web.UI.HighLight',false);module.exports=PO;},{"../../IPCC.Util":29}],78:[function(require,module,exports){var dW=require('../../IPCC.Util').regEnum;var Qa=function(){};Qa.registerEnum=dW;Qa.prototype={Left:0,Center:16,Right:32};Qa.registerEnum('IPCC.Web.UI.HorizontalAlignment',false);module.exports=Qa;},{"../../IPCC.Util":29}],79:[function(require,module,exports){var dW=require('./../../IPCC.Util').regEnum;var Qq=function(){};Qq.registerEnum=dW;Qq.prototype={None:0,ArtDataService:1};Qq.registerEnum('IPCC.Web.UI.ImGearArtDataServices',false);module.exports=Qq;},{"./../../IPCC.Util":29}],80:[function(require,module,exports){var cR=require('./../../IPCC.Util').regClass;var CS=function(bm){var lA='';var gM='';var T=this;this.dI=new IPCC.Web.UI.ImGearPageCollection();this.QX=undefined;this.dI.ac=this;var LU=false;this.rc=undefined;var dY=0;var LD=IPCC.Web.UI.ImGearPageCountStatus.UnRequested;var ai=new IPCC.Web.UI.je();this.jC=IPCC.Web.EQ.aaN(4,IPCC.Web.PA());this.ro=IPCC.Web.gI.GS.pd(this.jC);var xB=[];var lK=0;var mr=[];var DZ=[];var gm={startPage:0,lastPage:0,requestCount:0,stopRequests:false,lastTimeout:1000};var Zt=false;this.bU=function(cE,K){var F=ai.getHandler(cE);if(F!==null){try{F(T,K);}catch(e){IPCC.ih.Rw('raise event error in ImGearDocument, error: '+e.message);IPCC.ih.mt(e.message,IPCC.Web.UI.ImGearDocument,IPCC.Web.UI.DebugErrorLevel.Production,'ImGearDocument','');}}};function VS(bM,K){if(K.length>0){T.bU('pageAdded',K);}};function VC(bM,K){if(K.length>0){T.bU('pageRemoved',K);}};function Kv(bM,K){T.bU('pageChanged',K);};this.dI.add_pageAdded(VS);this.dI.add_pageRemoved(VC);this.dI.add_pageChanged(Kv);function aww(){function awb(iO,iC){var cQ=iO+'() threw an exception ';if(iC.name){cQ+='( '+iC.name+" ";}else{cQ+=".";}if(iC.message){cQ+="  exception message = "+iC.message;}if(iC.statusCode){cQ+="  exception statusCode = "+iC.statusCode;}cQ=cQ.replace(/\n/g," ");IPCC.ih.mt(cQ,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production,'ImGearDocument',"document");};this.af=awb;this.bU=function(cE,K){var F=ai.getHandler(cE);if(F!==null){F(T,K);}};};if(arguments.length===0){var cQ="ImGearDocument object creation requires parameters";throw new IPCC.Web.UI.ImGearArgumentException('ImGearDocument',cQ);}if(arguments.length>0){if(bm.documentIdentifier!==undefined){lA=bm.documentIdentifier;gM=IPCC.gJ.rA(lA);}if(bm.encodedDocumentIdentifier!==undefined){var wK=bm.encodedDocumentIdentifier;if(bm.documentIdentifier!==undefined){gM=IPCC.gJ.rA(lA);if(wK!==gM){throw new IPCC.Web.UI.ImGearArgumentException('documentIdentifier','When both are specified, documentIdentifier and encodedImageIdentifier must reference the same document.');}}else{lA=IPCC.gJ.Jw(bm.encodedDocumentIdentifier);}}if(bm.imageServicePath!==undefined){this.rc=bm.imageServicePath;}else{throw new IPCC.Web.UI.ImGearArgumentException('ImGearDocument','Document creation requires imageServicePath.');}var tc;if(bm.includeAllPages!==undefined){LU=bm.includeAllPages;if(LU===true){var azr=new aww();var YU=0;T.bu=new IPCC.gJ(gM,0,0,0,0,0);var nC=function(){dY=T.bu.dY;LD=IPCC.Web.UI.ImGearPageCountStatus.Known;for(;YU<dY;YU++){var acb=new IPCC.Web.UI.ImGearPage({pageNumber:YU,ac:T});acb.ac=T;T.dI.addPage(acb);}};LD=IPCC.Web.UI.ImGearPageCountStatus.RequestPending;try{this.bu.SI(this.rc,azr,nC);}catch(e){LD=IPCC.Web.UI.ImGearPageCountStatus.Failed;var cK=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cK.exception=e;T.bU('pageOpenFailed',cK);throw e;}}}else if(bm.pages!==undefined){if(bm.pages.length>0){var C=0;for(C=0;C<bm.pages.length;C++){var bz=bm.pages[C];bz.document=this;this.dI.addPage(bz);}}}else if(bm.pageNumber!==undefined){if(bm.pageRangeCount!==undefined){var qD=bm.pageRangeCount;if(qD>0){var bC;for(bC=bm.pageNumber;bC<=qD;bC++){tc=new IPCC.Web.UI.ImGearPage(bC);tc.ac=T;this.dI.addPage(tc);}}else if(qD===0){tc=new IPCC.Web.UI.ImgearPage({pageNumber:bm.pageNumber,ac:T});tc.ac=T;T.dI.addPage(tc);}}else{if(bm.selected){tc=new IPCC.Web.UI.ImGearPage({pageNumber:bm.pageNumber,ac:T,selected:true});}else{tc=new IPCC.Web.UI.ImGearPage({pageNumber:bm.pageNumber,ac:T});}tc.ac=T;T.dI.addPage(tc);}}}this.Kd=function(){return lA;};this.Pb=function(){return gM;};this.ajU=function(){return this.dI;};this.auw=function(){return dY;};this.auM=function(){return LD;};this.arV=function(){return LU;};this.apD=function(J){LU=J;this.cN('includeAllPages');};var nA=false;this.jx=function(){return nA;};this.mG=function(J){nA=J;};this.Jv=function(F){ai.addHandler('pageAdded',F);};this.GC=function(F){ai.removeHandler('pageAdded',F);};this.HK=function(F){ai.addHandler('pageRemoved',F);};this.FH=function(F){ai.removeHandler('pageRemoved',F);};this.GO=function(F){ai.addHandler('pageOpenFailed',F);};this.Gm=function(F){ai.removeHandler('pageOpenFailed',F);};this.ln=function(F){ai.addHandler('propertyChanged',F);};this.mZ=function(F){ai.removeHandler('propertyChanged',F);};this.Jy=function(F){ai.addHandler('pageChanged',F);};this.FM=function(F){ai.removeHandler('pageChanged',F);};this.cN=function(cr){var F=ai.getHandler('propertyChanged');if(F){F(this,new IPCC.nG(cr));}};this.avr=function(F){ai.addHandler('textPagesReceived',F);};this.azI=function(F){ai.removeHandler('textPagesReceived',F);};this.atH=function(){return DZ.length;};this.atr=function(){return xB;};this.aul=function(){return xB.length;};this.aDL=function(){return gm;};this.aDm=function(){return Zt;};this.aHF=function(J){Zt=J;};this.ase=function(gR){if(gm.stopRequests===true){var K={};K.error=0;K.textPagesReceived=Ry(gR);if(K.textPagesReceived.length===0){if(lK>0&&lK<gR){for(var cO=lK;cO<gR;cO++){K.textPagesReceived.push(cO);}}}K.length=2;T.bU('textPagesReceived',K);return;}var hM=true;var Hm=false;for(var C=0;C<lK;C++){if(Array.prototype.indexOf){if(xB.indexOf(C)<0){hM=false;Hm=true;break;}}else{if(IPCC.Web.jk(xB,C)<0){Hm=true;break;}}}if(Hm){T.Ox(C,undefined,gR);}else if(lK<gR){for(var aR=0;aR<gR;aR++){if(Array.prototype.indexOf){if(mr.indexOf(aR)<0){hM=false;break;}}else{if(IPCC.Web.jk(mr,aR)<0){hM=false;break;}}}if(!hM){Hm=true;T.Ox(aR,undefined,gR);}else{T.Ox(lK,undefined,gR);}}else{Hm=false;}};function Ry(gR){var WR=[],cO;if(mr.length>0){var hM=true;for(cO=0;cO<gR;cO++){hM=true;if(Array.prototype.indexOf){if(mr.indexOf(cO)<0){hM=false;}}else{if(IPCC.Web.jk(mr,cO)<0){hM=false;}}if(!hM){mr.push(cO);DZ.push(cO);WR.push(cO);}}}else{for(cO=0;cO<gR;cO++){mr.push(cO);DZ.push(cO);WR.push(cO);}}return WR;};this.Ox=function(afp,ajo,gR){Zt=true;var ak;if(!isNaN(afp)){ak=afp;}else{ak=0;}var Bz;if(!isNaN(gR)){Bz=gR;}var cv;if(!isNaN(ajo)){cv=ajo;}else if(!isNaN(Bz)){cv=Bz-1;}else{Bz=gR;if(!isNaN(Bz)){cv=Bz-1;}}if(isNaN(cv)){cv=ak+1;}if(cv-ak>9){cv=ak+9;}function Qd(aO){var Tm=lK;var Zo=[];var hM=true;var bg;for(var aK=0;aK<aO.pages.length;aK++){if(Array.prototype.indexOf){if(xB.indexOf(aO.pages[aK].number)<0){hM=false;}}else{if(IPCC.Web.jk(xB,aO.pages[aK].number)<0){hM=false;}}if(!hM){xB.push(aO.pages[aK].number);if(T.dI.jD(aO.pages[aK].number).dp().vj()===false){bg=T.dI.jD(aO.pages[aK].number);bg.afk(aO.pages[aK]);bg.ajO(aO.pages[aK]);bg.ajp(aO.pages[aK].markup,aO.pages[aK].height,aO.pages[aK].width);}lK++;Zo.push(aO.pages[aK].number);mr.push(aO.pages[aK].number);if(!aO.pages[aK].text){DZ.push(aO.pages[aK].number);}}}var K={};if(aO.hasOwnProperty("errorCode")){K.error=0;T.pageExtractionFailed=true;K.textPagesReceived=Zo;K.length=2;for(var yZ=gm.startPage;yZ<gm.lastPage+1;yZ++){hM=true;if(Array.prototype.indexOf){if(mr.indexOf(yZ)<0){hM=false;}}else{if(IPCC.Web.jk(mr,yZ)<0){hM=false;}}if(!hM){mr.push(yZ);DZ.push(yZ);K.textPagesReceived.push(yZ);}}T.bU('textPagesReceived',K);gm.stopRequests=true;return;}if(lK>Tm){K.textPagesReceived=Zo;K.length=2;K.error=0;}var oz=gm.lastTimeout;if(gm.startPage===ak&&gm.lastPage===cv&&lK===Tm){if(gm.requestCount<25){oz=oz+1000;gm.requestCount++;}else{K.error=0;K.textPagesReceived=[];K.length=2;hM=true;var cO;for(cO=gm.startPage;cO<gm.lastPage+1;cO++){hM=true;if(Array.prototype.indexOf){if(mr.indexOf(cO)<0){hM=false;}}else{if(IPCC.Web.jk(mr,cO)<0){hM=false;}}if(!hM){mr.push(cO);DZ.push(cO);K.textPagesReceived.push(cO);}}if(K.textPagesReceived.length===0){if(lK>0&&lK<gR){for(cO=lK;cO<gR;cO++){K.textPagesReceived.push(cO);}}}gm.stopRequests=true;T.bU('textPagesReceived',K);return;}}else{oz=1000;gm.requestCount=0;}gm.lastTimeout=oz;gm.startPage=ak;gm.lastPage=cv;setTimeout(function(){T.ase(gR);},oz);if(lK>Tm){T.bU('textPagesReceived',K);}};function ez(aM){var K={},hk,ad;try{var pp=aM.getResponseHeader("Accusoft-Data-Encrypted");if(pp==='true'){var ub=IPCC.Web.gI.sK.vx(aM.getResponseHeader("Accusoft-Data-SK"));var au=IPCC.Web.IX(ub,T.jC);var fu=IPCC.Web.GP(aM);var ts=IPCC.Web.Df(fu,au,T.jC);hk=IPCC.Web.gI.Kf.pd(ts);}else{hk=aM.responseText;}ad=JSON.parse(hk);Qd(ad);}catch(e){K.error= -1;Ry(gR);K.textPagesReceived=[];K.length=2;T.bU('textPagesReceived',K);return;}};function fz(ad){var K={},gP;try{gP=ad.response.status;if(ad.response.responseText){ad=JSON.parse(ad.response.responseText);if(ad.hasOwnProperty("errorCode")){K.error=0;if(lK>0){if(ad.pages){if(ad.pages.length>0){Qd(ad);return;}}}else{K.error= -1;}if(mr.length===0){K.error= -1;}T.pageExtractionFailed=true;K.textPagesReceived=[];K.length=2;K.textPagesReceived=Ry(gR);T.bU('textPagesReceived',K);return;}else{throw new IPCC.Web.UI.ImGearHttpException(gP,"Unable to obtain text");}}else{throw new IPCC.Web.UI.ImGearHttpException(gP,"Unable to obtain text");}}catch(e){K.error= -1;Ry(gR);K.textPagesReceived=[];K.length=2;T.bU('textPagesReceived',K);return;}};var il=lA;var fX=T.rc;if(!(/^[\x00-\x7F]*$/.test(il))){il='e'+gM;}else{il='u'+il;}var aQ;if(T.jx()){aQ=fX+'/Document/q/'+ak.toString()+'-'+cv.toString()+'/Text?DocumentID='+il+'&iv='+T.ro;}else{aQ=fX+'/Document/q/'+ak.toString()+'-'+cv.toString()+'/Text?DocumentID='+il;}IPCC.V.nB.fq({method:'GET',url:aQ,headers:{'accept':'application/json'}}).then(ez,fz);};return this;};CS.encodeDocumentIdentifier=function(lA){var gM;if(lA!==undefined){gM=IPCC.gJ.rA(lA);}return gM;};CS.decodeDocumentIdentifier=function(gM){var afY;if(gM!==undefined){afY=IPCC.gJ.Jw(gM);}return afY;};CS.prototype={get_documentIdentifier:function(){var aW=this.Kd();return aW;},get_encodedDocumentIdentifier:function(){var aW=this.Pb();return aW;},get_pages:function(){return this.ajU();},get_pageCountStatus:function(){var r=this.auM();return r;},set_pageCountStatus:function(value){this.aHc(value);},get_pageCount:function(){var r=this.auw();return r;},get_includeAllPages:function(){try{var aW=this.arV();return aW;}catch(e){throw e;}},set_includeAllPages:function(value){try{this.apD(value);}catch(e){throw e;}},get_encryption:function(){var aW=this.jx();return aW;},set_encryption:function(value){this.mG(value);},add_pageChanged:function(handler){this.Jy(handler);},remove_pageChanged:function(handler){this.FM(handler);},add_pageRemoved:function(handler){this.HK(handler);},remove_pageRemoved:function(handler){this.FH(handler);},add_pageAdded:function(handler){this.Jv(handler);},remove_pageAdded:function(handler){this.GC(handler);},add_pageOpenFailed:function(handler){this.GO(handler);},remove_pageOpenFailed:function(handler){this.Gm(handler);},get_textRequestInfo:function(){try{var aW=this.aDL();return aW;}catch(e){throw e;}},get_pagesWithText:function(){try{var aW=this.atr();return aW;}catch(e){throw e;}},get_numberOfPagesWithText:function(){try{var aW=this.aul();return aW;}catch(e){throw e;}},get_numberOfPagesWithoutText:function(){try{var aW=this.atH();return aW;}catch(e){throw e;}},add_textPagesReceived:function(handler){try{this.avr(handler);}catch(e){throw e;}},remove_textPagesReceived:function(handler){try{this.azI(handler);}catch(e){this.af('remove_textPagesReceived',e);throw e;}},add_propertyChanged:function(handler){this.ln(handler);},remove_propertyChanged:function(handler){this.mZ(handler);}};CS.registerClass=cR;CS.registerClass('IPCC.Web.UI.ImGearDocument');module.exports=CS;},{"./../../IPCC.Util":29}],81:[function(require,module,exports){var cR=require('./../../IPCC.Util').regClass;var OH=function(){var kr=[];var ai=new IPCC.Web.UI.je();var T=this;function avP(bM,K){if(K){var Py=new IPCC.Web.UI.ImGearDocumentEventArgs();Py.document=bM;Py.propertyName=K.get_propertyName();Py.length=2;T.bU('documentChanged',Py);}};this.VH=function(asx){this.aen(kr.length,asx);};this.aen=function(bv,ac){var aR;var cI=kr.length;if(bv>kr.length||(bv<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bv,'document index is out of range');}for(aR=0;aR<cI;aR++){if(kr[aR]===ac){throw new IPCC.Web.UI.ImGearInvalidOperationException('The document instance object to be inserted already exists in the collection. You cannot use the same instance of a document object.');}}var aae=ai.getHandler('pageAdded');if(aae){ac.add_pageAdded(aae);}var afb=ai.getHandler('pageRemoved');if(afb){ac.add_pageRemoved(afb);}var abA=ai.getHandler('pageChanged');if(abA){ac.add_pageChanged(abA);}ac.add_propertyChanged(avP);kr.splice(bv,0,ac);var K=new IPCC.Web.UI.ImGearDocumentEventArgs();K.imGearDocument=ac;K.index=bv;K.length=1;this.bU('documentAdded',K);};function ky(bv){if(bv>kr.length-1||(bv<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bv,'document index is out of range');}};this.PR=function(bv){ky(bv);return kr[bv];};this.fC=function(){return kr.length;};this.aFn=function(hN,df){var alv=[].concat(kr);var C;for(C=0;C<alv.length;C++){hN.call(df,alv[C],C,this);}};this.aeF=function(bv){ky(bv);var K=new IPCC.Web.UI.ImGearDocumentEventArgs();K.imGearDocument=kr[bv];K.length=1;kr[bv].get_pages().removeAllPages();kr.splice(bv,1);this.bU('documentRemoved',K);};this.aAE=function(){var C=0;while(kr.length>0){this.aeF(C);}};this.axY=function(F){ai.addHandler('documentAdded',F);};this.azG=function(F){ai.removeHandler('documentAdded',F);};this.ayG=function(F){ai.addHandler('documentRemoved',F);};this.aza=function(F){ai.removeHandler('documentRemoved',F);};this.ayI=function(F){ai.addHandler('documentChanged',F);};this.aAz=function(F){ai.removeHandler('documentChanged',F);};this.Jv=function(F){ai.addHandler('pageAdded',F);};this.GC=function(F){ai.removeHandler('pageAdded',F);for(var aR=0;aR<kr.length;aR++){kr[aR].remove_pageAdded(F);}};this.Jy=function(F){ai.addHandler('pageChanged',F);};this.FM=function(F){ai.removeHandler('pageChanged',F);for(var aR=0;aR<kr.length;aR++){kr[aR].remove_pageChanged(F);}};this.HK=function(F){ai.addHandler('pageRemoved',F);};this.FH=function(F){ai.removeHandler('pageRemoved',F);for(var aR=0;aR<kr.length;aR++){kr[aR].remove_pageRemoved(F);}};this.bU=function(cE,K){var F=ai.getHandler(cE);if(F!==null){try{F(T,K);}catch(e){IPCC.ih.Rw('event raise, ImGearDocumentCollection, error: '+e.message);}}};return this;};OH.prototype={addDocument:function(imGearDocument){this.VH(imGearDocument);},insertDocument:function(index,imGearDocument){this.aen(index,imGearDocument);},forEach:function(method,context){this.na(method,context);},getDocument:function(index){return this.PR(index);},get_length:function(){return this.fC();},removeDocument:function(imGearDocument){this.aeF(imGearDocument);},removeAllDocuments:function(){this.aAE();},add_documentAdded:function(handler){this.axY(handler);},remove_documentAdded:function(handler){this.azG(handler);},add_documentRemoved:function(handler){this.ayG(handler);},remove_documentRemoved:function(handler){this.aza(handler);},add_documentChanged:function(handler){this.ayI(handler);},remove_documentChanged:function(handler){this.aAz(handler);},add_pageAdded:function(handler){this.Jv(handler);},remove_pageAdded:function(handler){this.GC(handler);},add_pageRemoved:function(handler){this.HK(handler);},remove_pageRemoved:function(handler){this.FH(handler);},add_pageChanged:function(handler){this.Jy(handler);},remove_pageChanged:function(handler){this.FM(handler);}};OH.registerClass=cR;OH.registerClass('IPCC.Web.UI.ImGearDocumentCollection');module.exports=OH;},{"./../../IPCC.Util":29}],82:[function(require,module,exports){var cR=require('./../../IPCC.Util').regClass;var QK=function(){return this;};QK.registerClass=cR;QK.prototype={};QK.registerClass('IPCC.Web.UI.ImGearDocumentCreateArgs');module.exports=QK;},{"./../../IPCC.Util":29}],83:[function(require,module,exports){var cR=require('./../../IPCC.Util').regClass;var RD=function(){return this;};RD.registerClass=cR;RD.prototype={};RD.registerClass('IPCC.Web.UI.ImGearDocumentEventArgs');module.exports=RD;},{"./../../IPCC.Util":29}],84:[function(require,module,exports){var aEq=function(ll){var am=0,dv=0,be=0,ba=0,mg=ll.href||"",axo=ll.borderStyle||"Solid",mU=ll.borderThickness||0,BN=ll.borderPattern||[1],HU=ll.borderHorizontalRadius||0,Ky=ll.borderHorizontalRadius||0,nZ=ll.borderColor||"#0000FF",sl=ll.borderOpacity||255,H,R;if(typeof sl==='string'){sl=parseInt(sl,10);}if(ll.rectangle){am=ll.rectangle.x;dv=ll.rectangle.y;be=ll.rectangle.width;ba=ll.rectangle.height;}H=new IPCC.Web.UI.Rectangle(am,dv,be,ba);this.fs=function(){var Yc=new IPCC.Web.UI.Rectangle(H.x,H.y,H.width,H.height);return Yc;};this.Gj=function(kE){H.x=kE.x;H.y=kE.y;H.width=kE.width;H.height=kE.height;};this.alI=function(){return mg;};this.auY=function(){return axo;};this.asN=function(){return mU;};this.aud=function(){return BN;};this.atN=function(){return HU;};this.arY=function(){return Ky;};this.atC=function(){return nZ;};this.atS=function(){return sl;};this.Oc=function(){return R;};this.aom=function(aAp){R=aAp;};this.aGG=function(){return IPCC.V.aaE(mg);};};module.exports=aEq;},{}],85:[function(require,module,exports){var je=function je(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}this.IZ={};};je.prototype.dH=function(dr,F){var dJ=this.aaM(dr,true);dJ[dJ.length]=F;};je.prototype.addHandler=function(dr,F){this.dH(dr,F);};je.prototype.cJ=function(dr,F){var rq=this.aaM(dr);if(!rq){return;}var bv=IPCC.ZR(rq,F);if(bv>=0){rq.splice(bv,1);}};je.prototype.removeHandler=function(dr,F){this.cJ(dr,F);};je.prototype.getHandler=function(dr){var rq=this.aaM(dr);if(!rq||(rq.length===0)){return null;}var dJ=rq.slice();rq=dJ;return function(source,args){for(var C=0,qK=rq.length;C<qK;C++){rq[C](source,args);}};};je.prototype.aaM=function(dr,asC){if(!this.IZ[dr]){if(!asC){return null;}this.IZ[dr]=[];}return this.IZ[dr];};module.exports=je;},{}],86:[function(require,module,exports){var cR=require('./../../IPCC.Util').regClass;var Cf=function(message,errorInfo){this.message=message;var T=this;if(errorInfo){for(var WP in errorInfo){if(errorInfo.hasOwnProperty(WP)){T[WP]=errorInfo[WP];}}}};Cf.prototype=new Error();Cf.registerClass=cR;Cf.registerClass('IPCC.Web.UI.ImGearException');var Cb=function(statusCode,message,customErrorCode){var hG="IPCC.Web.UI.ImGearHttpException: ";if(message){hG+=message;}this.message=hG;this.statusCode=statusCode;this.customErrorCode=customErrorCode;};Cb.prototype=new Error();Cb.registerClass=cR;Cb.registerClass('IPCC.Web.UI.ImGearHttpException');var wh=function(paramName,message){var hG="IPCC.Web.UI.ImGearArgumentException: "+(message?message:IPCC.kH.argument);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){hG+="\n"+IPCC.Web.zU(IPCC.kH.paramName,paramName);}}this.message=hG;this.paramName=paramName;};wh.prototype=new Error();wh.registerClass=cR;wh.registerClass('IPCC.Web.UI.ImGearArgumentException');var BW=function(paramName,message){var hG="IPCC.Web.UI.ImGearArgumentNullException: "+(message?message:IPCC.kH.argumentNull);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){hG+="\n"+IPCC.Web.zU(IPCC.Res.paramName,paramName);}}this.message=hG;this.paramName=paramName;};BW.prototype=new Error();BW.registerClass=cR;BW.registerClass('IPCC.Web.UI.ImGearArgumentNullException');var qF=function(paramName,actualValue,message){var hG="IPCC.Web.UI.ImGearArgumentOutOfRangeException: "+(message?message:IPCC.kH.argumentOutOfRange);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){hG+="\n"+IPCC.Web.zU(IPCC.kH.paramName,paramName);}}if(typeof(actualValue)!=="undefined"&&actualValue!==null){hG+="\n"+IPCC.Web.zU(IPCC.kH.actualValue,actualValue);}this.message=hG;this.paramName=paramName;this.actualValue=actualValue;};qF.prototype=new Error();qF.registerClass=cR;qF.registerClass('IPCC.Web.UI.ImGearArgumentOutOfRangeException');var Cl=function(paramName,actualType,expectedType,message){var hG="IPCC.Web.UI.ImGearArgumentTypeException ";if(message){hG+=message;}else if(actualType&&expectedType){if(typeof(actualType.getName)==='function'&&typeof(expectedType.getName)==='function'){hG+=IPCC.Web.zU(IPCC.kH.argumentTypeWithTypes,actualType.getName(),expectedType.getName());}else{hG+="actualType = "+actualType+" expectedType =  "+expectedType;}}else{hG+=IPCC.kH.argumentType;}if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){hG+="\n"+IPCC.Web.zU(IPCC.kH.paramName,paramName);}}this.message=hG;this.paramName=paramName;this.actualType=actualType;this.expectedType=expectedType;};Cl.prototype=new Error();Cl.registerClass=cR;Cl.registerClass('IPCC.Web.UI.ImGearArgumentTypeException');var BX=function(paramName,message){var hG="IPCC.Web.UI.ImGearArgumentUndefinedException: "+(message?message:IPCC.kH.argumentUndefined);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){hG+="\n"+IPCC.Web.zU(IPCC.Res.paramName,paramName);}}this.message=hG;this.paramName=paramName;};BX.prototype=new Error();BX.registerClass=cR;BX.registerClass('IPCC.Web.UI.ImGearArgumentUndefinedException');var AY=function(message){var hG="IPCC.Web.UI.ImGearInvalidOperationException: "+(message?message:IPCC.kH.invalidOperation);this.message=hG;};AY.prototype=new Error();AY.registerClass=cR;AY.registerClass('IPCC.Web.UI.ImGearInvalidOperationException');var BQ=function(message){var hG="IPCC.Web.UI.ImGearNotImplementedException: "+(message?message:IPCC.kH.notImplemented);this.message=hG;};BQ.prototype=new Error();BQ.registerClass=cR;BQ.registerClass('IPCC.Web.UI.ImGearNotImplementedException');var Ck=function(message){var hG="IPCC.Web.UI.ImGearParameterCountException: "+(message?message:IPCC.kH.parameterCount);this.message=hG;};Ck.prototype=new Error();Ck.registerClass=cR;Ck.registerClass('IPCC.Web.UI.ImGearParameterCountException');module.exports={Cf:Cf,Cb:Cb,wh:wh,BW:BW,qF:qF,Cl:Cl,BX:BX,AY:AY,BQ:BQ,Ck:Ck};},{"./../../IPCC.Util":29}],87:[function(require,module,exports){var aCT=function(){var FK=[];this.awe=function(aDo){FK.push(aDo);};this.da=function(){return FK.length;};this.na=function(hN,df){IPCC.V.forEach(FK,hN,df);};this.azo=function(){if(FK.length<1){return;}FK=[];};return this;};module.exports=aCT;},{}],88:[function(require,module,exports){var aEt=function(){var Fe=new IPCC.Web.UI.ImGearHyperlinkCollection();this.Kl=function(){return Fe;};};module.exports=aEt;},{}],89:[function(require,module,exports){var cR=require('./../../IPCC.Util').regClass;var Rm=function(bm){this.ac=undefined;var ah=0;var bi=0,ajK=0,akN=0;var aq=0,alU=0,amV=0;var T=this;var ai=new IPCC.Web.UI.je();this.aGJ=undefined;this.gm={rE:0,afm:false,qz:1000,Pj:false};var es=new IPCC.Web.UI.ImGearTextPage();var Pg=new IPCC.Web.UI.ImGearHyperlinkPage();var jP=0;var nA=false;var Ea=false,Dv=0,Db=0;function amD(o){return!isNaN(o-0);};if(bm.pageNumber!==undefined){if(amD(bm.pageNumber)){ah=bm.pageNumber;}else{throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException("pageNumber","",'The value must be a number.');}}this.nS=function(){return ah;};this.aHO=function(J){if(amD(bm.pageNumber)){ah=J;}};this.kJ=function(){return bi;};function akO(){if(!es){es=new IPCC.Web.UI.ImGearTextPage();}var aoG=es.hn();var pw=bi/Dv,ow=aq/Db;aoG.aEA(pw,ow);};function akM(){var Fe=Pg.Kl();var pw=bi/Dv,ow=aq/Db;Fe.na(function(gp){gp.Gj(gp.fs().scale(pw,ow));var afJ=gp.Oc();afJ.set_rectangle(afJ.get_rectangle().scale(pw,ow));});};this.LE=function(J){bi=J;if(Ea&&bi&&bi!==Dv&&aq&&aq!==Db){akO();akM();Ea=false;}};this.ia=function(){return aq;};this.Mw=function(J){aq=J;if(Ea&&bi&&bi!==Dv&&aq&&aq!==Db){akO();akM();Ea=false;}};this.akn=function(){return ajK;};this.ajQ=function(J){ajK=J;};this.aIE=function(){return alU;};this.akr=function(J){alU=J;};this.aHT=function(){return akN;};this.aHk=function(J){akN=J;};this.aIp=function(){return amV;};this.aHe=function(J){amV=J;};this.asv=function(){return this.ac;};this.dp=function(){if(!es){es=new IPCC.Web.UI.ImGearTextPage();}return es;};this.jJ=function(){return jP;};this.vD=function(J){if(jP===J){return;}if(isNaN(J)){return;}jP=J;this.cN('serviceResponseTimeout');};this.jx=function(){return nA;};this.mG=function(J){nA=J;};this.ln=function(F){ai.addHandler('propertyChanged',F);};this.mZ=function(F){ai.removeHandler('propertyChanged',F);};this.AP=function(F){ai.addHandler('textPageReady',F);};this.CL=function(F){ai.removeHandler('textPageReady',F);};this.amI=function(){return Pg;};this.WK=function(F){ai.addHandler('hyperlinkPageReady',F);};this.afu=function(F){ai.removeHandler('hyperlinkPageReady',F);};this.Ar=function(F){ai.dH('textExtractionFailed',F);};this.AX=function(F){ai.cJ('textExtractionFailed',F);};this.afk=function(gQ){if(bi===0&&aq===0){Ea=true;Dv=gQ.width;Db=gQ.height;}};this.ajO=function(gQ){if(!es){es=new IPCC.Web.UI.ImGearTextPage();}if(es.hn().fC()>0){return;}else if(gQ.errorCode){var nR=new IPCC.Web.UI.ImGearException(gQ.errorDescription,{name:'Text Extraction'});var cK=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cK.exception=nR;cK.pageNumber=T.get_pageNumber();T.bU('textExtractionFailed',cK);return;}var aoa=es.hn();var LP=false;var abu;function Fc(QD){return QD;};var ow=1;var pw=1;if(gQ.height&&gQ.height>0&&aq>0){if(gQ.height!==aq){ow=aq/gQ.height;}}if(gQ.width&&gQ.width>0&&bi>0){if(gQ.width!==bi){pw=bi/gQ.width;}}var ic;var aat= -1;var OD;var iI,xi;for(var C=0;C<gQ.rectangles.length;C++){iI=gQ.rectangles[C];xi=Fc(gQ.text[C]);LP=false;if(iI[2]===0){xi="\n";LP=true;if(C>0){abu=gQ.rectangles[C-1];iI[2]=abu[2];}}if(pw===1&&ow===1){OD=new IPCC.Web.UI.ImGearTextCharacter(iI[0],iI[1],iI[2],iI[3],xi,LP);}else{OD=new IPCC.Web.UI.ImGearTextCharacter(iI[0]*pw,iI[1]*ow,iI[2]*pw,iI[3]*ow,xi,LP);}if(OD){aoa.ayb(OD);}if(ic===undefined||aat!==iI[1]||iI[0]<ic.fs().x){if(ic){es.Yg().amE(ic);}ic=new IPCC.Web.UI.ImGearTextSection();ic.Gj(new IPCC.Web.UI.Rectangle(iI[0],iI[1],iI[2],iI[3]));ic.aqn(C);}else{if(iI[0]+iI[2]-ic.fs().x>ic.fs().width){ic.fs().width=iI[0]+iI[2]-ic.fs().x;}}ic.aqH(C);aat=iI[1];}if(ic){es.Yg().amE(ic);}es.apF(gQ.text);if(gQ.text.length>0){es.Lo(true);T.bU('textPageReady',{pageNumber:T.nS(),containsText:true});}else{es.Lo(false);T.bU('textPageReady',{pageNumber:T.nS(),containsText:false});}};this.ajp=function(anm,KT,KX){if(!anm){return;}Pg.Kl().azo();var ow=1;var pw=1;if(KT&&KT>0&&aq>0){if(KT!==aq){ow=aq/KT;}}if(KX&&KX>0&&bi>0){if(KX!==bi){pw=bi/KX;}}IPCC.V.forEach(anm,function(alR){var gp;switch(alR.markType){case "DocumentHyperlink":gp=new IPCC.Web.UI.ImGearDocumentHyperlink(alR.properties);gp.Gj(gp.fs().scale(pw,ow));if(!gp.aGG()){Pg.Kl().awe(gp);}break;default:break;}});T.bU('hyperlinkPageReady',{pageNumber:T.nS()});};this.aDO=function(){T.yP();};this.yP=function(){if(!es){es=new IPCC.Web.UI.ImGearTextPage();}if(!T.ac){throw new IPCC.Web.UI.ImGearInvalidOperationException('You must add this Page to a valid ImGearDocument object which has a valid ImageServicePath property.');}if(es.vj()){return;}var ano=true;if(T.jJ()===0){ano=false;}function Qd(aO){if(aO.pages){var aU;if(aO.pages.length>0){if(aO.pages[0].number!==T.nS()){for(var C=0;C<aO.pages.length;C++){if(aO.pages[C].number===T.nS()){aU=C;break;}}if(!aU){T.gm.Pj=false;return;}}else{aU=0;}var gQ=aO.pages[aU];T.gm.Pj=true;if(aO.pages[aU].text&&aO.pages[aU].text.length>0){es.Lo(true);}else{es.Lo(false);}T.gm.qz=1000;T.afk(gQ);T.ajO(gQ);T.ajp(gQ.markup,gQ.height,gQ.width);return;}}var oz=T.gm.qz;if(!T.gm.Pj){if(T.gm.rE<6){if(T.gm.rE<2){oz=oz+1000;}else{oz=oz+3000;}T.gm.rE++;T.gm.qz=oz;setTimeout(T.aDO,oz);}else{T.gm.afm=true;}}};function ez(aM){var jC=T.ac.jC,ad;try{var hk;var pp=aM.getResponseHeader("Accusoft-Data-Encrypted");if(pp==='true'){var ub=IPCC.Web.gI.sK.vx(aM.getResponseHeader("Accusoft-Data-SK"));var au=IPCC.Web.IX(ub,jC);var fu=IPCC.Web.GP(aM);var ts=IPCC.Web.Df(fu,au,jC);hk=IPCC.Web.gI.Kf.pd(ts);}else{hk=aM.responseText;}ad=JSON.parse(hk);Qd(ad);}catch(e){var cK=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cK.exception=e;cK.pageNumber=T.get_pageNumber();T.bU('textExtractionFailed',cK);return;}};function fz(ad){try{if(!ad.response){throw new IPCC.Web.UI.ImGearHttpException(0,"Text extraction timeout");}else{if(ad.response.statusText){throw new IPCC.Web.UI.ImGearHttpException(ad.response.status,"Unable to obtain text, Error from the service = "+ad.response.statusText);}else{throw new IPCC.Web.UI.ImGearHttpException(ad.response.status,"Unable to obtain text from the service");}}}catch(e){var cK=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cK.exception=e;cK.pageNumber=T.get_pageNumber();T.bU('textExtractionFailed',cK);return;}};var ak=T.get_pageNumber();var il=T.ac.get_documentIdentifier();if(!(/^[\x00-\x7F]*$/.test(il))){il='e'+T.ac.get_encodedDocumentIdentifier();}else{il='u'+encodeURIComponent(il);}var fX=T.ac.rc;var ro=T.ac.ro;var aQ;if(T.jx()){aQ=fX+'/Document/q/'+ak.toString()+'-'+ak.toString()+'/Text?DocumentID='+il+'&iv='+ro;}else{aQ=fX+'/Document/q/'+ak.toString()+'-'+ak.toString()+'/Text?DocumentID='+il;}var hs={method:'GET',url:aQ,headers:{'accept':'application/json'}};if(ano===true){hs.timeout=T.jJ();}IPCC.V.nB.fq(hs).then(ez,fz);};this.dp=function(){if(!es){es=new IPCC.Web.UI.ImGearTextPage();}return es;};this.aHf=function(J){if(typeof J.oa!=='function'){return;}es=J;};this.aku=function(){es=undefined;T.gm={rE:0,afm:false,qz:1000,Pj:false};Ea=false;Dv=0;Db=0;};this.LL=function(zI,AK){var T=this;function ez(aM){var ad;ad=JSON.parse(aM.responseText);if(ad.imageWidth&&ad.imageHeight){T.LE(ad.imageWidth);T.Mw(ad.imageHeight);zI(ad.imageWidth,ad.imageHeight);}else{AK("Unable to obtain document information from the server");}};function fz(ad){AK("Unable to obtain document information from the server");};if(T.kJ()>0||T.ia()>0){zI(T.kJ(),T.ia());}else{var pG=IPCC.gJ.rA(T.ac.get_documentIdentifier());if(!pG||pG===""){AK("Invalid encoded Identifier");}var uZ='';if(!IPCC.uY.JW()){uZ='&ContentType=png';}var aQ;if(!(/^[\x00-\x7F]*$/.test(pG))){aQ=T.ac.rc+'/Page/q/'+(T.get_pageNumber())+'/Attributes?DocumentID=e'+pG+uZ;}else{aQ=T.ac.rc+'/Page/q/'+(T.get_pageNumber())+'/Attributes?DocumentID=u'+encodeURIComponent(T.ac.get_documentIdentifier())+uZ;}IPCC.V.nB.fq({method:'GET',url:aQ,headers:{'Content-Type':'application/json'}}).then(ez,fz);}};this.cN=function(cr){var F=ai.getHandler('propertyChanged');if(F){F(this,new IPCC.nG(cr));}};this.bU=function(cE,K){var F=ai.getHandler(cE);if(F!==null){try{F(T,K);}catch(e){IPCC.ih.Rw('event raise, ImGearPage, error: '+e.message);}}};return this;};Rm.prototype={get_pageNumber:function(){var aW=this.nS();return aW;},get_pageWidth:function(){var aW=this.kJ();return aW;},get_pageHeight:function(){var aW=this.ia();return aW;},get_textPage:function(){var aW=this.dp();return aW;},get_encryption:function(){var aW=this.jx();return aW;},set_encryption:function(value){this.mG(value);},get_hyperlinkPage:function(){return this.amI();},get_document:function(){var aW=this.asv();return aW;},add_propertyChanged:function(handler){this.ln(handler);},remove_propertyChanged:function(handler){this.mZ(handler);},requestPageAttributes:function(attributesRetrievedCallback,attributesRetrievalFailedCallback){this.LL(attributesRetrievedCallback,attributesRetrievalFailedCallback);}};Rm.registerClass=cR;Rm.registerClass('IPCC.Web.UI.ImGearPage');module.exports=Rm;},{"./../../IPCC.Util":29}],90:[function(require,module,exports){var cR=require('./../../IPCC.Util').regClass;var Si=function(){var T=this;var dI=[];var ai=new IPCC.Web.UI.je();this.aBW=false;this.aBA=true;this.ac=undefined;this.alX=function(aK){this.afE(dI.length,aK);};function ky(bv){if(bv>dI.length-1||(bv<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bv,'page index is out of range in the page collection');}};this.afE=function(bv,aK){var aR;var cI=dI.length;if(bv>dI.length||(bv<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bv,'index of the page Collection is out of range');}if(T.aBA&&T.aBW){if(cI>0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You must first remove the existing selected page before adding a new one to the selected page collection).');}}for(aR=0;aR<cI;aR++){if(dI[aR]===aK){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot duplicate same page instance in a page collection).');}}if(T.ac){if(!aK.ac){aK.ac=T.ac;}}aK.add_propertyChanged(Kv);dI.splice(bv,0,aK);var K=new IPCC.Web.UI.ImGearPageEventArgs();K.imGearPage=aK;K.length=1;T.bU('pageAdded',K);};this.jD=function(bv){ky(bv);var fg=dI[bv];return fg;};this.aqt=function(bv,aK){ky(bv);var St=dI[bv];if(St===aK){return;}dI[bv]=aK;var K=new IPCC.Web.UI.ImGearPageEventArgs();K.imGearPage=aK;K.length=1;this.bU('pageAdded',K);St.remove_propertyChanged(Kv);var yQ=new IPCC.Web.UI.ImGearPageEventArgs();yQ.imGearPage=St;yQ.length=1;this.bU('pageRemoved',yQ);};this.fC=function(){return dI.length;};this.na=function(hN,df){var akc=[].concat(dI);var C;for(C=0;C<akc.length;C++){hN.call(df,akc[C],C,this);}};this.ago=function(bv){ky(bv);var K=new IPCC.Web.UI.ImGearPageEventArgs();K.imGearPage=dI[bv];dI[bv].remove_propertyChanged(Kv);K.length=1;dI.splice(bv,1);T.bU('pageRemoved',K);};this.aHL=function(aK){var da=dI.length;for(var C=0;C<da;C++){if(aK===dI[C]){return C;}}return-1;};this.aAy=function(){var C=0;while(dI.length>0){this.ago(C);}};function Kv(bM,K){var yQ=new IPCC.Web.UI.ImGearPageEventArgs();yQ.imGearPage=bM;yQ.length=1;T.bU('pageChanged',yQ);};this.Jv=function(F){ai.addHandler('pageAdded',F);};this.GC=function(F){ai.removeHandler('pageAdded',F);};this.Jy=function(F){ai.addHandler('pageChanged',F);};this.FM=function(F){ai.removeHandler('pageChanged',F);};this.HK=function(F){ai.addHandler('pageRemoved',F);};this.FH=function(F){ai.removeHandler('pageRemoved',F);};this.bU=function(cE,K){var F=ai.getHandler(cE);if(F!==null){try{F(T,K);}catch(e){IPCC.ih.Rw('raise event error in ImGearPageCollection, Error: '+e.message);}}};return this;};Si.prototype={addPage:function(page){this.alX(page);},insertPage:function(index,page){this.afE(index,page);},forEach:function(method,context){this.na(method,context);},getPage:function(index){return this.jD(index);},setPage:function(index,page){this.aqt(index,page);},get_length:function(){return this.fC();},removePage:function(index){this.ago(index);},removeAllPages:function(){this.aAy();},add_pageAdded:function(handler){this.Jv(handler);},remove_pageAdded:function(handler){this.GC(handler);},add_pageChanged:function(handler){this.Jy(handler);},remove_pageChanged:function(handler){this.FM(handler);},add_pageRemoved:function(handler){this.HK(handler);},remove_pageRemoved:function(handler){this.FH(handler);}};Si.registerClass=cR;Si.registerClass('IPCC.Web.UI.ImGearPageCollection');module.exports=Si;},{"./../../IPCC.Util":29}],91:[function(require,module,exports){var dW=require('./../../IPCC.Util').regEnum;var Lw=function(){};Lw.registerEnum=dW;Lw.prototype={UnRequested:0,RequestPending:1,Known:2,Failed:3};Lw.registerEnum('IPCC.Web.UI.ImGearPageCountStatus',false);module.exports=Lw;},{"./../../IPCC.Util":29}],92:[function(require,module,exports){var cR=require('./../../IPCC.Util').regClass;var Mi=function(){};Mi.registerClass=cR;Mi.prototype={};Mi.registerClass('IPCC.Web.UI.ImGearPageCreateArgs');module.exports=Mi;},{"./../../IPCC.Util":29}],93:[function(require,module,exports){var cR=require('./../../IPCC.Util').regClass;var KO=function(){return this;};KO.prototype={};KO.registerClass=cR;KO.registerClass('IPCC.Web.UI.ImGearPageEventArgs');module.exports=KO;},{"./../../IPCC.Util":29}],94:[function(require,module,exports){var cR=require('../../IPCC.Util').regClass;var LV=function(){return this;};LV.registerClass=cR;LV.prototype={};LV.registerClass('IPCC.Web.UI.ImGearPageOpenFailedEventArgs');module.exports=LV;},{"../../IPCC.Util":29}],95:[function(require,module,exports){var aDz=function(am,dv,be,ba,xi,aEw){this.av=new IPCC.Web.UI.Rectangle(am,dv,be,ba);this.lm=xi;this.FZ=aEw;this.arI=function(){return xi;};this.vR=function(){var Yc=new IPCC.Web.UI.Rectangle(this.av.x,this.av.y,this.av.width,this.av.height);return Yc;};this.aHu=function(){return this.FZ;};};module.exports=aDz;},{}],96:[function(require,module,exports){var aGC=function(){var jA=[];this.ayb=function(kN){jA.push(new IPCC.Web.UI.ImGearTextCharacter(kN.av.x,kN.av.y,kN.av.width,kN.av.height,kN.lm,kN.FZ));};this.aGS=function(apm){function lk(kN){jA.push(kN);};apm.forEach(lk,{});};this.aEu=function(){var agF=[];for(var aR=0;aR<this.fC();aR++){var Pf=this.jO(aR).av;var H=[];H.push(Pf.x);H.push(Pf.y);H.push(Pf.width);H.push(Pf.height);agF.push(H);}return agF;};this.aGp=function(bv,ahP){var aR;var cI=jA.length;if(bv>jA.length||(bv<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bv,'index of theText Character Collection is out of range');}for(aR=0;aR<cI;aR++){if(jA[aR]===ahP){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot duplicate same aO Character instance in a kN collection).');}}jA.splice(bv,0,ahP);};this.aEA=function(alb,aiu){IPCC.V.forEach(jA,function(lm){lm.av.width=lm.av.width*alb;lm.av.height=lm.av.height*aiu;lm.av.x=lm.av.x*alb;lm.av.y=lm.av.y*aiu;});};this.na=function(hN,df){var Ws=[].concat(jA);var C;for(C=0;C<Ws.length;C++){hN.call(df,new IPCC.Web.UI.ImGearTextCharacter(Ws[C].x,Ws[C].y),C,this);}};function ky(bv){if(bv>jA.length-1||(bv<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bv);}};this.jO=function(bv){ky(bv);var rI=jA[bv];return new IPCC.Web.UI.ImGearTextCharacter(rI.av.x,rI.av.y,rI.av.width,rI.av.height,rI.lm,rI.FZ);};this.aHh=function(bv,kN){ky(bv);var BF=jA[bv];if(BF.av.x===kN.av.x&&BF.av.y===kN.y&&BF.av.width===kN.av.width&&BF.av.height===kN.av.height&&BF.lm===kN.lm&&BF.FZ===kN.FZ){return;}jA[bv]=kN;};this.fC=function(){return jA.length;};this.aGH=function(bv){ky(bv);jA.splice(bv,1);};this.aFt=function(){if(jA.length<1){return;}jA=[];};return this;};module.exports=aGC;},{}],97:[function(require,module,exports){var aFx=function(){var aoi=new IPCC.Web.UI.ImGearTextCharacterCollection();var Yt=false;var alS=false;var Wr="";var vf=new IPCC.Web.UI.ImGearTextSectionCollection();var Zl=false;this.hn=function(){return aoi;};this.oa=function(){return Yt;};this.Lo=function(J){alS=true;if(J===Yt){return;}if((J===true)||(J===false)){Yt=J;}};this.vj=function(){return alS;};this.BY=function(){return Wr;};this.apF=function(J){if(J===Wr){return;}Wr=J;};this.Yg=function(){return vf;};this.atk=function(){return Zl;};this.ack=function(J){if(J===Zl){return;}if((J===true)||(J===false)){Zl=J;}};};module.exports=aFx;},{}],98:[function(require,module,exports){var aFB=function(){var H=null;var ak=0;var cv=0;this.fs=function(){return H;};this.Gj=function(J){H=J;};this.ako=function(){return ak;};this.aqn=function(J){ak=J;};this.anx=function(){return cv;};this.aqH=function(J){cv=J;};};module.exports=aFB;},{}],99:[function(require,module,exports){var aGr=function(){var vf=[];this.amE=function(ic){vf.push(ic);};function ky(bv){if(bv>vf.length-1||(bv<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bv);}};this.aCW=function(bv){ky(bv);return vf[bv];};this.fC=function(){return vf.length;};return this;};module.exports=aGr;},{}],100:[function(require,module,exports){var dW=require('./../../IPCC.Util').regEnum;var Nt=function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}throw new IPCC.Web.UI.ImGearNotImplementedException();};Nt.registerEnum=dW;Nt.prototype={backspace:8,tab:9,enter:13,esc:27,space:32,pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40,del:127};Nt.registerEnum("IPCC.Web.UI.Key");module.exports=Nt;},{"./../../IPCC.Util":29}],101:[function(require,module,exports){var dW=require('../../IPCC.Util').regEnum;var Jp=function(){};Jp.registerEnum=dW;Jp.prototype={Pointer:0,Solid:1,Open:2,PointerSolid:3,None:4};Jp.registerEnum('IPCC.Web.UI.LineHeadType',false);module.exports=Jp;},{"../../IPCC.Util":29}],102:[function(require,module,exports){var dW=require('../../IPCC.Util').regEnum;var Lq=function(){};Lq.registerEnum=dW;Lq.prototype={Solid:0,Dash:1,Dot:2,DashDot:3,DashDotDot:4};Lq.registerEnum('IPCC.Web.UI.LineStyle',false);module.exports=Lq;},{"../../IPCC.Util":29}],103:[function(require,module,exports){var cR=require('../../IPCC.Util').regClass;var LG=function(){return this;};LG.registerClass=cR;LG.prototype={};LG.registerClass('IPCC.Web.UI.LogItemEventArgs');module.exports=LG;},{"../../IPCC.Util":29}],104:[function(require,module,exports){var cR=require('../../IPCC.Util').regClass;var Md=function(type){var bG=type;type=undefined;var sL=new Date();var sU=new Date();var aG=null;var H;var bo;var dC;var cT=new IPCC.Web.UI.Data();var ai=new IPCC.Web.UI.je();var T=this;var iM;this.fI=function(kb,cr){if((iM&kb)===0){throw new IPCC.Web.UI.ImGearInvalidOperationException(cr+' is not a valid property for this type of Mark.');}};if(bG===IPCC.Web.UI.MarkType.SignatureText){this.jQ='#000000';this.ij=IPCC.Web.UI.LineStyle.Solid;this.dE=0;}else{this.jQ='#000000';this.ij=IPCC.Web.UI.LineStyle.Solid;this.dE=1;}this.cz=255;this.lP=IPCC.Web.UI.MarkInteractionMode.Full;var jK=false;switch(bG){case IPCC.Web.UI.MarkType.Line:jK=true;bo=new IPCC.Web.UI.PointCollection();bo.addPoint({x:0,y:0});bo.addPoint({x:0,y:0});iM=1;this.jQ='#18385F';this.dE=6;break;case IPCC.Web.UI.MarkType.Polyline:jK=true;this.sr=false;bo=new IPCC.Web.UI.PointCollection();iM=2;this.dE=2;break;case IPCC.Web.UI.MarkType.Rectangle:H=new IPCC.Web.UI.Rectangle(0,0,0,0);iM=4;this.dP='#FB0404';this.dE=4;break;case IPCC.Web.UI.MarkType.Ellipse:H=new IPCC.Web.UI.Rectangle(0,0,0,0);iM=8;this.dP='#FB0404';this.dE=4;break;case IPCC.Web.UI.MarkType.Polygon:bo=new IPCC.Web.UI.PointCollection();iM=16;break;case IPCC.Web.UI.MarkType.Text:this.Dp='#000000';this.zx=false;this.pZ=IPCC.Web.UI.LineStyle.Solid;this.DW=1;this.mx=new IPCC.Web.UI.Point(0,0);this.EL=IPCC.Web.UI.CalloutType.Triangle;this.xw=false;this.gl='Arial';this.co=12;this.du=IPCC.Web.UI.FontStyle.Regular;this.ij=IPCC.Web.UI.LineStyle.Solid;this.gN=0;H=new IPCC.Web.UI.Rectangle(0,0,0,0);this.aO='';this.jt=IPCC.Web.UI.HorizontalAlignment.Left;this.vA=IPCC.Web.UI.VerticalAlignment.Top;this.qA='#000000';this.yu=255;this.yn=IPCC.Web.UI.Orientation.TopLeft;this.fD=[];this.dE=4;this.cz=127;this.dP='#FFFFFF';iM=32;break;case IPCC.Web.UI.MarkType.Stamp:H=new IPCC.Web.UI.Rectangle(0,0,0,0);iM=128;break;case IPCC.Web.UI.MarkType.Highlight:H=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bn='';this.jm='n';this.ak=0;this.cf='';this.ck=0;this.cz=127;iM=256;break;case IPCC.Web.UI.MarkType.HighlightText:H=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bn='';this.jm='n';this.ak=0;this.cf='';this.ck=0;this.cz=127;this.dP='#FFFF00';iM=512;this.fD=[];this.aI=[];break;case IPCC.Web.UI.MarkType.Freehand:H=new IPCC.Web.UI.Rectangle(0,0,0,0);iM=64;this.dE=4;this.jQ='#000000';this.im=false;this.Xb=1;this.XH=1;this.we='M0,0';break;case IPCC.Web.UI.MarkType.SignaturePath:H=new IPCC.Web.UI.Rectangle(0,0,0,0);iM=1024;this.jt=IPCC.Web.UI.HorizontalAlignment.Center;this.dE=4;this.jQ='#000000';this.im=false;this.Xb=1;this.XH=1;this.we='M0,0';break;case IPCC.Web.UI.MarkType.SignatureText:H=new IPCC.Web.UI.Rectangle(0,0,0,0);iM=2048;this.jt=IPCC.Web.UI.HorizontalAlignment.Center;this.aO='John Doe';this.qA='#000000';this.dP='#000000';this.gl="";break;case IPCC.Web.UI.MarkType.RectangleRedaction:H=new IPCC.Web.UI.Rectangle(0,0,0,0);iM=4096;this.gl='Arial';this.co=8;this.du=IPCC.Web.UI.FontStyle.Regular;this.aO='';this.jt=IPCC.Web.UI.HorizontalAlignment.Center;this.vA=IPCC.Web.UI.VerticalAlignment.Center;this.dP='#000000';this.qA='#FFFFFF';this.yu=255;this.yn=IPCC.Web.UI.Orientation.TopLeft;break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:H=new IPCC.Web.UI.Rectangle(0,0,0,0);this.aI=[];this.bn='';this.fk='';this.aO='';this.gl='Arial';this.co=8;this.ak=0;this.ck=0;iM=8192;this.fD=[];break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:H=new IPCC.Web.UI.Rectangle(0,0,0,0);this.mg='';this.dE=2;this.cf='';this.bn='';this.jm='n';this.ak=0;this.ck=0;this.dP='#3B00FF';iM=1<<14;this.fD=[];this.aI=[];break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:H=new IPCC.Web.UI.Rectangle(0,0,0,0);iM=16384;this.bu='';this.pD='';break;case IPCC.Web.UI.MarkType.DocumentHyperlink:H=new IPCC.Web.UI.Rectangle(0,0,0,0);this.mg='';this.NS='';this.BN='';this.HU=0;this.Ky=0;this.sl=255;iM=32768;break;case IPCC.Web.UI.MarkType.TextLine:iM=65536;H=new IPCC.Web.UI.Rectangle(0,0,0,0);this.jt=IPCC.Web.UI.HorizontalAlignment.Left;this.aO='';this.qA='#000000';this.gl="Courier New";this.dE=1;this.im=true;this.gN=0;this.Bw=0;this.Fj=false;var iE=IPCC.V.tw("M",this.gl,{uG:'pre'});this.Ao=iE.width;this.Ax=iE.height;this.jv=null;break;case IPCC.Web.UI.MarkType.TextAreaSignature:this.Dp='#000000';this.zx=false;this.pZ=IPCC.Web.UI.LineStyle.Solid;this.DW=1;this.mx=new IPCC.Web.UI.Point(0,0);this.EL=IPCC.Web.UI.CalloutType.Triangle;this.xw=false;this.gl='Courier New';this.hX=0;this.gN=0;this.co=12;this.du=IPCC.Web.UI.FontStyle.Regular;H=new IPCC.Web.UI.Rectangle(0,0,0,0);this.aO='';this.jt=IPCC.Web.UI.HorizontalAlignment.Left;this.vA=IPCC.Web.UI.VerticalAlignment.Top;this.qA='#000000';this.yu=255;this.yn=IPCC.Web.UI.Orientation.TopLeft;this.fD=[];this.dE=1;this.im=false;this.dP='#FFFFFF';this.cz=0;iM=1<<18;break;case IPCC.Web.UI.MarkType.Strikethrough:H=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bn='';this.jQ='#000000';this.dE=2;this.jm='n';this.ak=0;this.cf='';this.ck=0;iM=1<<17;this.fD=[];this.aI=[];break;default:throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('type',bG);}if(bG!==IPCC.Web.UI.MarkType.SignaturePath&&bG!==IPCC.Web.UI.MarkType.Freehand&&bG!==IPCC.Web.UI.MarkType.SignatureText&&bG!==IPCC.Web.UI.MarkType.DocumentHyperlink&&bG!==IPCC.Web.UI.MarkType.HighlightText&&bG!==IPCC.Web.UI.MarkType.Strikethrough&&bG!==IPCC.Web.UI.MarkType.TextLine){if(jK){this.HD=15;this.Hb=25;this.pj=IPCC.Web.UI.LineHeadType.None;this.Be='#000000';this.Fk=15;this.EU=25;this.Fr=IPCC.Web.UI.LineHeadType.None;}else{this.Is=true;this.im=true;if(bG===IPCC.Web.UI.MarkType.Highlight){this.im=false;this.cz=100;}}}this.YL=IPCC.Web.UI.aDQ++;this.de=true;this.aV={};this.dM=[];var Le=false;function avF(bM,K){T.bU('commentAdded',K);};function axa(bM,K){T.bU('commentRemoved',K);};function Qr(bM,K){T.bU('commentChanged',K);};dC=new IPCC.Web.UI.Conversation(T);dC.add_commentAdded(avF);dC.add_commentChanged(Qr);dC.add_commentRemoved(axa);this.bU=function(cE,K){var F=ai.getHandler(cE);if(F!==null){F(this,K);}};function XR(bM,K){var acw='points';if(bG===IPCC.Web.UI.MarkType.Line){acw=K.index===0?'startPoint':'endPoint';}T.cN(acw,K);};if(bo){bo.add_pointAdded(XR);bo.add_pointChanged(XR);bo.add_pointRemoved(XR);}this.iH=function(){return bG;};this.alK=function(){return sL;};this.abf=function(J){sL=J;};this.amb=function(){return sU;};this.Vu=function(J){sU=J;};this.fM=function(){return aG;};this.mC=function(value){if(aG!==value){aG=value;this.cN('artPage');}};this.lu=function(){return Le;};this.kU=function(J){Le=J;};this.ahQ=function(){var mf=new IPCC.Web.UI.Rectangle(0,0,0,0);switch(bG){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:case IPCC.Web.UI.MarkType.Polygon:return bo.vR();case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.DocumentHyperlink:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.Strikethrough:return H.clone();case IPCC.Web.UI.MarkType.Text:var it=H.x+H.width,jT=H.y+H.height;var ahB=H.x+this.mx.x,agU=H.y+this.mx.y;mf.x=Math.min(H.x,Math.min(it,ahB));mf.y=Math.min(H.y,Math.min(jT,agU));mf.width=Math.max(H.x,Math.max(it,ahB))-mf.x;mf.height=Math.max(H.y,Math.max(jT,agU))-mf.y;break;}return mf;};this.fs=function(){return H.clone();};this.AG=function(J){this.Ci(16384,'image','bu',J);};this.cU=function(){return this.bu;};this.qP=function(){return bo;};this.asa=function(){return dC;};this.vn=function(){return cT;};this.Gj=function(J){var rF;if(!H.equals(J)){H=new IPCC.Web.UI.Rectangle(J.x,J.y,J.width,J.height);if(bG===IPCC.Web.UI.MarkType.Stamp||bG===IPCC.Web.UI.MarkType.SignatureText||bG===IPCC.Web.UI.MarkType.TextLine){if(document.documentMode<9){rF=0;if(H.width>=H.height){rF=(H.width/14)/2;}else{rF=H.width/15;}if(rF*15>=H.width){rF=(H.width/15)/2;}this.stampSize=Math.round(rF);}else{var textFontSize=(H.width/6);if(textFontSize>H.height){textFontSize=(H.height-(H.height/6));}var oT=this.get_text();if(!oT){oT=(bG===IPCC.Web.UI.MarkType.Stamp)?'APPROVED':'';}rF=oT.length*textFontSize;if(rF>H.width){textFontSize=((H.width/oT.length));}var Bw=Math.round(textFontSize);this.stampSize=Bw.toString();}}this.cN('rectangle');}};this.mF=function(){return this.YL;};this.JY=function(et,fN){if(et!==0||fN!==0){switch(bG){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:case IPCC.Web.UI.MarkType.Polygon:bo.aeH(et,fN);break;case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.Freehand:if(bG===IPCC.Web.UI.MarkType.RectangleRedaction&&this.bn!==undefined){break;}H.x+=et;H.y+=fN;this.cN('rectangle');break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.Strikethrough:break;}}};this.UB=function(Zw){if(this.fD&&Zw!==this.fD){while(this.fD.length>0){this.fD.pop();}if(Zw){this.fD=Zw.slice(0);}this.bU('markTextSelectionChanged',{});}};this.Kz=function(F){if(this.fD){ai.addHandler('markTextSelectionChanged',F);}};this.Fu=function(F){if(this.fD){ai.removeHandler('markTextSelectionChanged',F);}};this.vt=function(F){ai.addHandler('commentAdded',F);};this.Di=function(F){ai.removeHandler('commentAdded',F);};this.xN=function(F){ai.addHandler('commentRemoved',F);};this.Dz=function(F){ai.removeHandler('commentRemoved',F);};this.sA=function(F){ai.addHandler('commentChanged',F);};this.uc=function(F){ai.removeHandler('commentChanged',F);};this.ln=function(F){ai.addHandler('propertyChanged',F);};this.mZ=function(F){ai.removeHandler('propertyChanged',F);};this.cN=function(cr){var F=ai.getHandler('propertyChanged');if(F){F(this,new IPCC.nG(cr));}};this.ln(function(R){R.Vu(new Date());});return this;};Md.prototype={toString:function(){switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:return 'Line Mark from '+this.qP().getPoint(0)+' to '+this.qP().getPoint(1);case IPCC.Web.UI.MarkType.Polyline:return 'Polyline Mark with '+this.qP().fC()+' vertices';case IPCC.Web.UI.MarkType.Rectangle:return 'Rectangle Mark at '+this.fs();case IPCC.Web.UI.MarkType.RectangleRedaction:return 'Rectangle Redaction Mark at '+this.fs();case IPCC.Web.UI.MarkType.Ellipse:return 'Ellipse Mark at '+this.fs();case IPCC.Web.UI.MarkType.Polygon:return 'Polygon Mark with '+this.qP().fC()+' vertices';case IPCC.Web.UI.MarkType.Text:return 'Text Mark, "'+this.aO+'", at '+this.fs();case IPCC.Web.UI.MarkType.Stamp:return 'Stamp Mark at '+this.fs();case IPCC.Web.UI.MarkType.Highlight:return 'Rectangle Mark at '+this.fs();case IPCC.Web.UI.MarkType.HighlightText:return 'Highlight Mark at '+this.fs();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Text Selection Redaction at '+this.fs();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Text Hyperlink Annotation at '+this.fs();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Document Hyperlink at '+this.fs();case IPCC.Web.UI.MarkType.SignaturePath:return 'Signature Path Mark, "'+this.we+'", at '+this.fs();case IPCC.Web.UI.MarkType.Freehand:return 'Freehand Mark, "'+this.we+'", at '+this.fs();case IPCC.Web.UI.MarkType.SignatureText:return 'Signature Text Mark at '+this.fs();case IPCC.Web.UI.MarkType.TextLine:return 'Text Line Mark at '+this.fs();case IPCC.Web.UI.MarkType.TextAreaSignature:return 'Text Area Signature Mark at '+this.fs();case IPCC.Web.UI.MarkType.ImageStampAnnotation:return 'ImageStamp Mark at '+this.fs();case IPCC.Web.UI.MarkType.ImageStampRedaction:return 'ImageStamp Redaction Mark at '+this.fs();case IPCC.Web.UI.MarkType.Strikethrough:return 'Strikethrough Mark at '+this.fs();}return 'Mark';},initializeDates:function(sL,sU){IPCC.bw.hz(sL,"dateCreated");IPCC.bw.hz(sU,"dateModified");this.abf(sL);this.Vu(sU);},get_dateCreated:function(){return this.alK();},get_dateModified:function(){return this.amb();},lV:function(kb,cr,kV,J){this.fI(kb,cr);if(this[kV]!==J){this[kV]=J;this.cN(cr);}},Jb:function(kb,cr,kV,J){IPCC.bw.Tn(J,cr);this.lV(kb,cr,kV,J);},xz:function(kb,cr,kV,J){IPCC.bw.gr(J,cr);this.lV(kb,cr,kV,J);},xT:function(kb,cr,kV,J,yh,xb){IPCC.bw.kz(J,cr,yh,xb);this.lV(kb,cr,kV,J);},RQ:function(kb,cr,kV,J,yh,xb){IPCC.bw.lN(J,cr,yh,xb);this.lV(kb,cr,kV,J);},Ci:function(kb,cr,kV,J){IPCC.bw.bG(J,cr,'string');this.lV(kb,cr,kV,J);},us:function(kb,cr,kV,J,kj){IPCC.bw.kj(J,cr,kj);this.lV(kb,cr,kV,J);},aqd:function(kb,cr,kV,J,kj){IPCC.bw.kj(J,cr,kj,true);this.lV(kb,cr,kV,J);},apJ:function(kb,cr,kV,J){IPCC.bw.ay(J,cr);this.lV(kb,cr,kV,J);},get_artPage:function(){return this.fM();},get_boundingRectangle:function(){return this.ahQ();},get_selected:function(){var aG=this.fM();if(!aG){return false;}var ef=aG.zq();return ef.contains(this);},set_selected:function(value){var aG=this.fM();if(aG){if(this.lP!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled|| !value){var ef=aG.zq();if(value!==ef.contains(this)){if(value){ef.NL(this);}else{ef.ug(this);}this.cN('selected');}}}else{if(value){throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be selected unless it is associated with an ArtPage.');}}},get_calloutLineColor:function(){this.fI(32,'calloutLineColor');return this.Dp;},set_calloutLineColor:function(value){this.Jb(32,'calloutLineColor','Dp',value);},get_calloutLineIsDistinct:function(){this.fI(32,'calloutLineIsDistinct');return this.zx;},set_calloutLineIsDistinct:function(value){this.lV(32,'calloutLineIsDistinct','zx',value);},get_calloutLineStyle:function(){this.fI(32,'calloutLineStyle');return this.pZ;},set_calloutLineStyle:function(value){this.us(32,'calloutLineStyle','pZ',value,IPCC.Web.UI.LineStyle);},get_calloutLineWidth:function(){this.fI(32,'calloutLineWidth');return this.DW;},set_calloutLineWidth:function(value){this.xT(32,'calloutLineWidth','DW',value,0,50);},get_calloutPoint:function(){this.fI(32,'calloutPoint');return this.mx;},set_calloutPoint:function(value){this.apJ(32,'calloutPoint','mx',value);},get_calloutType:function(){this.fI(32,'calloutType');return this.EL;},set_calloutType:function(value){this.us(32,'calloutType','EL',value,IPCC.Web.UI.CalloutType);},get_calloutVisible:function(){this.fI(32,'calloutVisible');return this.xw;},set_calloutVisible:function(value){if(!this.xw&&value&&this.iH()===IPCC.Web.UI.MarkType.Text){if(this.mx.x===0&&this.mx.y===0){var H=this.fs();this.set_calloutPoint({x:H.width,y:H.height*1.5});}}this.lV(32,'calloutVisible','xw',value);},get_endHeadAngle:function(){this.fI(3,'endHeadAngle');return this.HD;},set_endHeadAngle:function(value){this.xT(3,'endHeadAngle','HD',value,0,180);},get_endHeadLength:function(){this.fI(3,'endHeadLength');return this.Hb;},set_endHeadLength:function(value){this.xT(3,'endHeadLength','Hb',value,0,100);},get_endHeadType:function(){this.fI(3,'endHeadType');return this.pj;},set_endHeadType:function(value){this.us(3,'endHeadType','pj',value,IPCC.Web.UI.LineHeadType);},get_href:function(){this.fI(1<<14|1<<15,'href');return this.mg;},set_href:function(value){this.Ci(1<<14|1<<15,'href','mg',value);},has_unsafe_href:function(){return(! !this.mg&&IPCC.V.aaE(this.mg));},get_mask:function(){this.fI(65536,'mask');return this.jv;},set_mask:function(value){this.lV(65536,'mask','jv',value);},get_borderType:function(){this.fI(32768,'borderType');return this.NS;},set_borderType:function(value){this.Ci(32768,'borderType','NS',value);},get_borderHorizontalRadius:function(){this.fI(32768,'borderHorizontalRadius');return this.HU;},set_borderHorizontalRadius:function(value){this.xz(32768,'borderHorizontalRadius','HU',value);},get_borderVerticalRadius:function(){this.fI(1<<15,'borderVerticalRadius');return this.Ky;},set_borderVerticalRadius:function(value){this.xz(32768,'borderVerticalRadius','Ky',value);},get_borderOpacity:function(){this.fI(32768,'sl');return this.sl;},set_borderOpacity:function(value){this.RQ(32768,'sl','sl',value,0,255);},get_borderPattern:function(){this.fI(32768,'BN');return this.BN;},set_borderPattern:function(value){this.lV(32768,'BN','BN',value,0,255);},get_fillColor:function(){this.fI(16380+(1<<14),'fillColor');return this.dP;},set_fillColor:function(value){this.Jb(16380+(1<<14),'fillColor','dP',value);},get_fillVisible:function(){this.fI(16380,'fillVisible');return this.Is;},set_fillVisible:function(value){this.lV(16380,'fillVisible','Is',value);},get_fontName:function(){this.fI(6176+8192+65536+(1<<18),'fontName');return this.gl;},set_fontName:function(value){this.Ci(6176+8192+65536+(1<<18),'fontName','gl',value);if(this.iH()===IPCC.Web.UI.MarkType.SignatureText||this.iH()===IPCC.Web.UI.MarkType.TextLine){var aF=(this.iH()===IPCC.Web.UI.MarkType.TextLine)?{uG:'pre'}:{};var iE=IPCC.V.tw(this.aO,this.gl,aF);this.Ao=iE.width;this.Ax=iE.height;}if(this.iH()===IPCC.Web.UI.MarkType.TextLine){this.Fj=false;}},get_fontSize:function(){this.fI(32+2048+4096+8192,'fontSize');return this.co;},set_fontSize:function(value){this.xT(32+2048+4096+8192,'fontSize','co',value,0.1,288);},get_fontStyle:function(){this.fI(6176+(1<<18),'fontStyle');return this.du;},set_fontStyle:function(value){this.aqd(6176+(1<<18),'fontStyle','du',value,IPCC.Web.UI.FontStyle);},get_headFillColor:function(){this.fI(3,'headFillColor');return this.Be;},set_headFillColor:function(value){this.Jb(3,'headFillColor','Be',value);},get_interactionMode:function(){this.fI(~0,'interactionMode');return this.lP;},set_interactionMode:function(value){this.us(~0,'interactionMode','lP',value,IPCC.Web.UI.MarkInteractionMode);if(value===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){this.set_selected(false);}},get_maxLength:function(){this.fI(32+65536+(1<<18),'maxLength');return this.gN;},set_maxLength:function(value){this.xz(32+65536+(1<<18),'maxLength','gN',value);},get_maxFontSize:function(){this.fI(1<<18,'maxFontSize');return this.hX;},set_maxFontSize:function(value){this.xz(1<<18,'maxFontSize','hX',value);},get_isClosed:function(){this.fI(2,'isClosed');return this.sr;},set_isClosed:function(value){this.lV(2,'isClosed','sr',value);},get_lineColor:function(){return this.jQ;},set_lineColor:function(value){this.Jb(13567+32768+(1<<17),'lineColor','jQ',value);},get_lineStyle:function(){return this.ij;},set_lineStyle:function(value){this.us(63+32768,'lineStyle','ij',value,IPCC.Web.UI.LineStyle);},get_lineWidth:function(){return this.dE;},set_lineWidth:function(value){this.xT(13567+32768+(1<<17),'lineWidth','dE',value,0,50);},get_lineVisible:function(){this.fI(172+65536,'lineVisible');return this.im;},set_lineVisible:function(value){this.lV(172+65536,'lineVisible','im',value);},get_opacity:function(){return this.cz;},set_opacity:function(value){this.RQ(895+2048+1024,'opacity','cz',value,0,255);},get_points:function(){this.fI(19,'points');return this.qP();},get_conversation:function(){return this.asa();},get_data:function(){return this.vn();},get_image:function(){this.fI(16384,'image');return this.cU();},set_image:function(value){this.fI(16384,'image');this.AG(value);},get_rectangle:function(){this.fI((1<<18)+(1<<17)+65536+32768+16384+8192+4096+2048+1024+512+256+128+64+32+8+4,'rectangle');return this.fs();},set_rectangle:function(value){this.fI((1<<18)+(1<<17)+65536+32768+16384+8192+4096+2048+1024+512+256+128+64+32+8+4,'rectangle');IPCC.bw.H(value,'rectangle');this.Gj(value);if(this.iH()===IPCC.Web.UI.MarkType.TextLine){this.Fj=false;}},get_startHeadAngle:function(){this.fI(3,'startHeadAngle');return this.Fk;},set_startHeadAngle:function(value){this.xT(3,'startHeadAngle','Fk',value,0,180);},get_startHeadLength:function(){this.fI(3,'startHeadLength');return this.EU;},set_startHeadLength:function(value){this.xT(3,'startHeadLength','EU',value,0,100);},get_startHeadType:function(){this.fI(3,'startHeadType');return this.Fr;},set_startHeadType:function(value){this.us(3,'startHeadType','Fr',value,IPCC.Web.UI.LineHeadType);},get_text:function(){this.fI(14496+65536+(1<<17)+(1<<18),'text');return this.aO;},set_text:function(value){if(this.aO===value){return;}this.Ci(14496+65536+(1<<17)+(1<<18),'text','aO',value);if(this.iH()===IPCC.Web.UI.MarkType.SignatureText||this.iH()===IPCC.Web.UI.MarkType.TextLine){var aF=(this.iH()===IPCC.Web.UI.MarkType.TextLine)?{uG:'pre'}:{};var iE=IPCC.V.tw(this.aO,this.gl,aF);this.Ao=iE.width;this.Ax=iE.height;}if(this.fD){while(this.fD.length>0){this.fD.pop();}}},get_textHorizontalAlignment:function(){this.fI(32+1024+2048+65536+(1<<18),'textHorizontalAlignment');return this.jt;},set_textHorizontalAlignment:function(value){this.us(32+1024+2048+65536+(1<<18),'textHorizontalAlignment','jt',value,IPCC.Web.UI.HorizontalAlignment);},get_textVerticalAlignment:function(){this.fI(32,'textVerticalAlignment');return this.vA;},set_textVerticalAlignment:function(value){this.us(32,'textVerticalAlignment','vA',value,IPCC.Web.UI.VerticalAlignment);},get_textColor:function(){this.fI(6176+65536+(1<<18),'textColor');return this.qA;},set_textColor:function(value){this.Jb(6176+65536+(1<<18),'textColor','qA',value);},get_textOpacity:function(){this.fI(32,'textOpacity');return this.yu;},set_textOpacity:function(value){this.RQ(32,'textOpacity','yu',value,0,255);},get_textOrientation:function(){this.fI(32,'textOrientation');return this.yn;},set_textOrientation:function(value){this.us(32,'textOrientation','yn',value,IPCC.Web.UI.Orientation);},get_type:function(){return this.iH();},get_visible:function(){return this.de;},set_visible:function(value){this.lV((1<<17)+65536+32768+16384+8192+4096+2048+1024+512+256+128+64+63,'visible','de',value);},get_markID:function(){return this.mF();},get_pathString:function(){return this.we;},set_pathString:function(value){var we=this.get_pathString();if(we!==value){this.afH=true;}this.Ci(1088,'pathString','we',value);},get_pathWidth:function(){return this.Xb;},set_pathWidth:function(value){this.xz(1088,'pathWidth','Xb',value);},get_pathHeight:function(){return this.XH;},set_pathHeight:function(value){this.xz(1088,'pathHeight','XH',value);},get_startIndex:function(){this.fI((1<<17)+(1<<14)+8192+512,'startIndex');return this.ak;},set_startIndex:function(value){this.xz((1<<17)+(1<<14)+8192+512,'startIndex','ak',value);},get_textLength:function(){this.fI((1<<17)+(1<<14)+8192+512,'textLength');return this.ck;},set_textLength:function(value){this.xz((1<<17)+(1<<14)+8192+512,'textLength','ck',value);},add_propertyChanged:function(handler){this.ln(handler);},remove_propertyChanged:function(handler){this.mZ(handler);},add_markTextSelectionChanged:function(handler){this.Kz(handler);},remove_markTextSelectionChanged:function(handler){this.Fu(handler);},move:function(deltaX,deltaY){IPCC.bw.gr(deltaX,'deltaX');IPCC.bw.gr(deltaY,'deltaY');this.JY(deltaX,deltaY);},moveBackward:function(){if(this.fM()){var index=this.fM().nV(this);var dq=this.fM().alY();if(index>dq){this.fM().reorderMark(this,index-1);}}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveForward:function(){if(this.fM()){var index=this.fM().nV(this);if(index<this.fM().ZM()-1){this.fM().reorderMark(this,index+1);}}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveToBack:function(){if(this.fM()){var dq=0;dq=this.fM().alY();this.fM().reorderMark(this,dq);}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveToFront:function(){if(this.fM()){this.fM().reorderMark(this,this.fM().ZM()-1);}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},removeFromPage:function(){if(this.fM()){this.fM().removeMark(this);}},selectText:function(textRanges){this.UB(textRanges);},aBJ:function(){var eT={};var T=this;var bo,ZX,ay,H,C;function cC(cr,Oe){eT[Oe]=T[cr];};var jK=false;var ip=false;var xd=false;switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:jK=true;xd=true;eT.__type='LineMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Polyline:jK=true;xd=true;eT.__type='PolyLineMark:#IPCC.Web';cC('sr','ic');break;case IPCC.Web.UI.MarkType.Rectangle:ip=true;eT.__type='RectangleMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.RectangleRedaction:ip=true;eT.__type='RectangleRedactionMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Ellipse:ip=true;eT.__type='EllipseMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Polygon:xd=true;eT.__type='PolygonMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Text:ip=true;eT.__type='TextMark:#IPCC.Web';cC('Dp','clc');cC('zx','clid');cC('pZ','cls');cC('DW','clw');cC('EL','ct');cC('xw','cv');cC('gl','fn');cC('co','fs');cC('du','fst');cC('ij','ls');cC('aO','te');cC('jt','tha');cC('vA','tva');cC('qA','tc');cC('yu','to');cC('yn','tor');ay=this.mx;if(ay.x!==0||ay.y!==0){eT.cp={x:ay.x,y:ay.y};}break;case IPCC.Web.UI.MarkType.Stamp:ip=true;eT.__type='StampMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:ip=true;eT.__type='HighlightText:#IPCC.Web';break;}if(jK){cC('HD','eha');cC('Hb','ehl');cC('pj','eht');cC('Be','hfc');cC('Fk','sha');cC('EU','shl');cC('Fr','sht');}else{cC('dP','fc');cC('Is','fv');cC('im','lv');}if(ip){H=this.get_rectangle();eT.r={x:H.x,y:H.y,width:H.width,height:H.height};}eT.t=this.get_type();cC('jQ','lc');cC('ij','ls');cC('dE','lw');cC('cz','o');cC('de','v');if(xd){bo=this.qP();ZX=[];for(C=0;C<bo.get_length();C++){ay=bo.getPoint(C);ZX.push({x:ay.x,y:ay.y});}eT.p=ZX;}return eT;},aGg:function(eT){var T=this;var bo,C;function cC(cr,Oe){if(eT.hasOwnProperty(Oe)){T[cr]=eT[Oe];}};var jK=false;var ip=false;var xd=false;switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:jK=true;if(eT.p&&eT.p.length===2){bo=this.qP();bo.setPoint(0,new IPCC.Web.UI.Point(eT.p[0].x,eT.p[0].y));bo.setPoint(1,new IPCC.Web.UI.Point(eT.p[1].x,eT.p[1].y));}break;case IPCC.Web.UI.MarkType.Polyline:jK=true;xd=true;cC('sr','ic');break;case IPCC.Web.UI.MarkType.Rectangle:ip=true;break;case IPCC.Web.UI.MarkType.RectangleRedaction:ip=true;break;case IPCC.Web.UI.MarkType.Ellipse:ip=true;break;case IPCC.Web.UI.MarkType.Polygon:xd=true;break;case IPCC.Web.UI.MarkType.Text:ip=true;cC('Dp','clc');cC('zx','clid');cC('pZ','cls');cC('DW','clw');cC('EL','ct');cC('xw','cv');cC('gl','fn');cC('co','fs');cC('du','fst');cC('ij','ls');cC('aO','te');cC('jt','tha');cC('vA','tva');cC('qA','tc');cC('yu','to');cC('yn','tor');if(eT.cp){this.mx=new IPCC.Web.UI.Point(eT.cp.x,eT.cp.y);}break;case IPCC.Web.UI.MarkType.Stamp:ip=true;break;case IPCC.web.UI.MarkType.Highlight:case IPCC.web.UI.MarkType.HighlightText:case IPCC.web.UI.MarkType.Strikethrough:ip=true;break;}if(jK){cC('HD','eha');cC('Hb','ehl');cC('pj','eht');cC('Be','hfc');cC('Fk','sha');cC('EU','shl');cC('Fr','sht');}else{cC('dP','fc');cC('Is','fv');cC('im','lv');}if(ip){if(eT.r){this.set_rectangle(new IPCC.Web.UI.Rectangle(eT.r.x,eT.r.y,eT.r.width,eT.r.height));}}eT.t=this.get_type();cC('jQ','lc');cC('ij','ls');cC('dE','lw');cC('cz','o');cC('de','v');if(eT.p&&xd){bo=this.qP();for(C=0;C<eT.p.length;C++){bo.addPoint(new IPCC.Web.UI.Point(eT.p[C].x,eT.p[C].y));}}return eT;}};Md.registerClass=cR;Md.registerClass('IPCC.Web.UI.Mark');module.exports=Md;},{"../../IPCC.Util":29}],105:[function(require,module,exports){var cR=require('../../IPCC.Util').regClass;var Lh=function(){var aT=[];var ai=new IPCC.Web.UI.je();this.NL=function(R){if(this.GQ(R)=== -1){aT.push(R);var K=new IPCC.Web.UI.MarkEventArgs();K.mark=R;this.bU('markAdded',K);}};this.avn=function(zL){var K=new IPCC.Web.UI.MarkEventArgs();K.length=zL.get_length();var T=this;function lk(R){if(T.GQ(R)=== -1){aT.push(R);}};zL.forEach(lk,{});if(K.length>0){this.bU('markAdded',K);}};this.na=function(hN,df){var JE=[].concat(aT);var C;for(C=0;C<JE.length;C++){hN.call(df,JE[C],C,this);}};this.fC=function(){return aT.length;};this.ug=function(R){var C=this.GQ(R);if(C> -1){aT.splice(C,1);var K=new IPCC.Web.UI.MarkEventArgs();K.mark=R;this.bU('markRemoved',K);}};this.GQ=function(R){var C;for(C=0;C<aT.length;C++){if(aT[C]===R){return C;}}return-1;};this.zy=function(F){ai.addHandler('markAdded',F);};this.zK=function(F){ai.removeHandler('markAdded',F);};this.zT=function(F){ai.addHandler('markRemoved',F);};this.zk=function(F){ai.removeHandler('markRemoved',F);};this.bU=function(cE,K){var F=ai.getHandler(cE);if(F!==null){F(this,K);}};return this;};Lh.prototype={toString:function(){return 'MarkCollection with '+this.get_length()+' marks';},addMark:function(mark){this.NL(mark);},addMarks:function(markCollection){this.avn(markCollection);},forEach:function(method,context){this.na(method,context);},get_length:function(){return this.fC();},contains:function(mark){return this.GQ(mark)> -1;},removeMark:function(mark){this.ug(mark);},removeAllMarks:function(){this.na(function(R,bv,zL){zL.ug(R);});},add_markAdded:function(handler){this.zy(handler);},remove_markAdded:function(handler){this.zK(handler);},add_markRemoved:function(handler){this.zT(handler);},remove_markRemoved:function(handler){this.zk(handler);}};Lh.registerClass=cR;Lh.registerClass('IPCC.Web.UI.MarkCollection');module.exports=Lh;},{"../../IPCC.Util":29}],106:[function(require,module,exports){var cR=require('../../IPCC.Util').regClass;var Mt=function(){return this;};Mt.registerClass=cR;Mt.prototype={};Mt.registerClass('IPCC.Web.UI.MarkEventArgs');module.exports=Mt;},{"../../IPCC.Util":29}],107:[function(require,module,exports){var dW=require('../../IPCC.Util').regEnum;var DP=function(){};DP.registerEnum=dW;DP.prototype={HideSideHandlesWhenClose:0,HideCornerHandlesWhenClose:1};DP.registerEnum('IPCC.Web.UI.MarkHandleMode',false);module.exports=DP;},{"../../IPCC.Util":29}],108:[function(require,module,exports){var dW=require('../../IPCC.Util').regEnum;var Op=function(){};Op.registerEnum=dW;Op.prototype={Full:0,SelectionDisabled:1};Op.registerEnum('IPCC.Web.UI.MarkInteractionMode',false);module.exports=Op;},{"../../IPCC.Util":29}],109:[function(require,module,exports){var dW=require('../../IPCC.Util').regEnum;var NP=function(){};NP.registerEnum=dW;NP.prototype={Line:3,Polyline:502,Rectangle:600,Ellipse:601,Polygon:604,Text:605,Highlight:606,Stamp:607,HighlightText:608,SignaturePath:609,Freehand:610,SignatureText:611,SignatureImage:612,RectangleRedaction:613,TextSelectionRedaction:614,ImageStampAnnotation:615,ImageStampRedaction:616,TextHyperlinkAnnotation:617,DocumentHyperlink:618,TextLine:619,Strikethrough:620,TextAreaSignature:621};NP.registerEnum('IPCC.Web.UI.MarkType',false);module.exports=NP;},{"../../IPCC.Util":29}],110:[function(require,module,exports){var dW=require('./../../IPCC.Util').regEnum;var Te=function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}throw new IPCC.Web.UI.ImGearNotImplementedException();};Te.registerEnum=dW;Te.prototype={leftButton:0,middleButton:1,rightButton:2};Te.registerEnum("IPCC.Web.UI.MouseButton");},{"./../../IPCC.Util":29}],111:[function(require,module,exports){var cR=require('../../IPCC.Util').regClass;var Lm=function(){var agC=false;this.aBn=function(){agC=true;};this.agD=function(){return agC;};return this;};Lm.prototype={preventDefault:function(){this.aBn();}};Lm.registerClass=cR;Lm.registerClass('IPCC.Web.UI.MouseEventArgs');module.exports=Lm;},{"../../IPCC.Util":29}],112:[function(require,module,exports){var dW=require('../../IPCC.Util').regEnum;var Ll=function(){};Ll.registerEnum=dW;Ll.prototype={None:0,Magnifier:1,RectangleZoom:2,HandPan:3,Select:4,CreateRectangleMark:5,CreateEllipseMark:6,CreateLineMark:7,CreatePolylineMark:8,CreateFreehandMark:9,CreatePolygonMark:10,CreateTextMark:11,EditMarks:12,RunMarks:13,SelectText:14,CreateStampMark:15,CreateHighlightTextMark:16,CreateTextSelectionRedaction:17,CreateRectangleRedactionMark:18,CreateImageStampAnnotationMark:19,CreateImageStampRedactionMark:20,CreateTextHyperlinkMark:21,CreateTextInputSignatureMark:22,CreateStrikethroughMark:23,CreateTextAreaSignatureMark:24};Ll.registerEnum('IPCC.Web.UI.MouseTool',false);module.exports=Ll;},{"../../IPCC.Util":29}],113:[function(require,module,exports){var dW=require('../../IPCC.Util').regEnum;var NI=function(){};NI.registerEnum=dW;NI.prototype={TopLeft:1,TopRight:2,BottomRight:3,BottomLeft:4,LeftTop:5,RightTop:6,RightBottom:7,LeftBottom:8};NI.registerEnum('IPCC.Web.UI.Orientation',false);module.exports=NI;},{"../../IPCC.Util":29}],114:[function(require,module,exports){var akB=function(element,oE,Oa){var gd=this;var bH;var h;var xP=0;var Ov='';var Mq=false;var ai=new IPCC.Web.UI.je();var fv=null;var qN=IPCC.qN;var aid=IPCC.qN;var GG=0.0;var FB=false;var Mc=0;var agI= -1;var agu= -1;var agm= -1;function oW(Jg){if(!h){return false;}return h.oW(Jg);};this.af=function(iO,iC){if(oW(IPCC.Web.UI.DebugErrorLevel.Production)){h.af(iO,iC);}};this.ar=function(iO,km,qa){if(!oW(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var cQ=iO+'(';var C;for(C=0;C<km.length;C++){if(C>0){cQ+=', ';}cQ+=IPCC.ih.qd(km[C],(qa?qa:0));}cQ+=')';this.wz(cQ,IPCC.Web.UI.DebugErrorLevel.Development);};this.Cd=function(iO,km,nf,qa){if(!oW(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var cQ=iO+'(';var C;for(C=0;C<km.length;C++){if(C>0){cQ+=', ';}cQ+=IPCC.ih.qd(km[C],(qa?qa:0));}cQ+=') = ';cQ+=IPCC.ih.qd(nf,1);this.wz(cQ,IPCC.Web.UI.DebugErrorLevel.Development);};this.dm=function(iO,km,nf){if(!oW(IPCC.Web.UI.DebugErrorLevel.Detailed)){return;}var cQ=iO+'(';var C;for(C=0;C<km.length;C++){if(C>0){cQ+=', ';}cQ+=IPCC.ih.qd(km[C],0);}cQ+=') = ';cQ+=IPCC.ih.qd(nf,1);this.wz(cQ,IPCC.Web.UI.DebugErrorLevel.Detailed);};this.wz=function(kQ,bq){if(h){h.mt(kQ,IPCC.Web.UI.DebugItemCause.FunctionCall,bq);}};this.mt=function(kQ){if(h){h.mt(kQ,IPCC.Web.UI.DebugItemCause.Custom,IPCC.Web.UI.DebugErrorLevel.Production);}};this.JC=function(){return h.get_debug();};this.VP=function(J){h.set_debug(J);};this.xu=function(){return h.xu();};this.EZ=function(J){IPCC.bw.kj(J,'value',IPCC.Web.UI.DebugErrorLevel);h.EZ(J);};this.aHi=function(J){FB=J;};this.aHN=function(){return FB;};var nY=function(){if(h.cU()===undefined){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot perform this operation unless an image is open (and it has completed the opening process).');}};function dH(cE,F){ai.addHandler(cE,F);};function cJ(cE,F){ai.removeHandler(cE,F);};this.Fy=function(hY,dn){h.aCb(hY,dn);};this.aBf=function(dn,R){h.wq(R);h.cn();};this.WN=function(F){dH('pageOpening',F);};this.Vz=function(F){cJ('pageOpening',F);};this.Xj=function(F){dH('pageOpened',F);};this.Ut=function(F){cJ('pageOpened',F);};this.awZ=function(F){dH('pageClosed',F);};this.azh=function(F){cJ('pageClosed',F);};this.GO=function(F){dH('pageOpenFailed',F);};this.Gm=function(F){cJ('pageOpenFailed',F);};this.WU=function(F){dH('pageDisplayed',F);};this.UM=function(F){cJ('pageDisplayed',F);};this.OB=function(F){dH('mouseDown',F);};this.Uq=function(F){cJ('mouseDown',F);};this.PL=function(F){dH('mouseMove',F);};this.Uv=function(F){cJ('mouseMove',F);};this.Pw=function(F){dH('mouseUp',F);};this.UT=function(F){cJ('mouseUp',F);};this.ayl=function(F){dH('contextMenu',F);};this.azf=function(F){cJ('contextMenu',F);};this.zy=function(F){dH('markAdded',F);};this.zK=function(F){cJ('markAdded',F);};this.XV=function(F){dH('markCreating',F);};this.Wd=function(F){cJ('markCreating',F);};this.Jm=function(F){dH('markChanged',F);};this.FI=function(F){cJ('markChanged',F);};this.zT=function(F){dH('markRemoved',F);};this.zk=function(F){cJ('markRemoved',F);};this.Js=function(F){dH('markReordered',F);};this.Gn=function(F){cJ('markReordered',F);};this.Wi=function(F){dH('marksLoaded',F);};this.Um=function(F){cJ('marksLoaded',F);};this.Kb=function(F){dH('markSelectionChanged',F);};this.FE=function(F){cJ('markSelectionChanged',F);};this.AP=function(F){dH('textPageReady',F);};this.CL=function(F){cJ('textPageReady',F);};this.UH=function(F){dH('selectTextMouseToolCompleted',F);};this.Vf=function(F){cJ('selectTextMouseToolCompleted',F);};this.Wu=function(F){dH('exceptionThrown',F);};this.Uu=function(F){dH('scaleChanged',F);};this.UC=function(F){cJ('scaleChanged',F);};this.Vj=function(F){cJ('exceptionThrown',F);};this.Ar=function(F){dH('textExtractionFailed',F);};this.AX=function(F){cJ('textExtractionFailed',F);};this.ln=function(F){dH('propertyChanged',F);};this.mZ=function(F){cJ('propertyChanged',F);};var bU=function(cE,K){try{var F;F=ai.getHandler(cE);if(F){F(gd,K);}}catch(e){gd.af(cE+'Event',e);}};var oB=function(cE){function ym(bM,K){bU(cE,K);};h['add_'+cE](ym);};var Kw=function(cE){function ym(bM,K){if(Mq&&h.OV()){Cg();}bU(cE,K);};h['add_'+cE](ym);};function Cg(){var eR,mP,ZG;if(Ov!==''){ZG=document.getElementById(Ov);if(ZG){eR=gd.PQ();mP='{encodedDocumentIdentifier:"'+eR.encodedDocumentIdentifier;mP+='",pageNumber:'+eR.pageNumber.toString();mP+=',viewFitType:'+eR.viewFitType.toString();if(eR.viewRectangle&&eR.viewFitType===IPCC.Web.UI.FitType.Rectangle){mP+=',viewRectangle:{x:'+eR.viewRectangle.x.toFixed(5);mP+=',y:'+eR.viewRectangle.y.toFixed(5);mP+=',width:'+eR.viewRectangle.width.toFixed(5);mP+=',height:'+eR.viewRectangle.height.toFixed(5);mP+='}';}if(eR.viewRotationDegreesClockwise){mP+=',viewRotationDegreesClockwise:'+eR.viewRotationDegreesClockwise.toString();}if(eR.viewMirror){mP+=',viewMirror:'+eR.viewMirror.toString();}if(eR.viewZoomFactor){mP+=',viewZoomFactor:'+eR.viewZoomFactor.toString();}if(Mq){var aG=h.fM();if(aG){mP+=',artPageJson:"'+IPCC.gJ.rA(aG.saveToJson())+'"';}}mP+='}';ZG.value=mP;}}};var atp=function(){function ym(bM,K){var ZL=true;switch(K.get_propertyName()){case 'documentIdentifier':case 'pageNumber':case 'artPage':case 'includeArtInPostBack':case 'displayedPageRectangle':Cg();break;case 'magnifierWindowPosition':case 'magnifierIsVisible':case 'cursor':case 'markCursor':case 'inProgressMark':case 'Hc':case 'wa':ZL=false;break;case 'Hs':if(h.OV()){Cg();}ZL=false;break;}if(ZL){bU('propertyChanged',K);}};h.ln(ym);};this.YJ=function(bG){IPCC.bw.kj(bG,'type',IPCC.Web.UI.FitType);if(bG===IPCC.Web.UI.FitType.Rectangle){throw new IPCC.Web.UI.ImGearArgumentException('type','The value must be a member of the IPCC.Web.UI.FitType enumeration (other than Rectangle).');}nY();fv={aEv:true,viewFitType:bG};UQ();};this.eE=function(){return h.cU()!==undefined;};this.kJ=function(){nY();return h.cU().width;};this.ia=function(){nY();return h.cU().height;};this.aug=function(){nY();return h.cU().hb;};this.aux=function(){return h.bp().ep().ale();};this.auF=function(){nY();return h.cU().gj;};this.Kd=function(){if(!h|| !(h.cU())){return '';}return h.cU().get_identifier();};this.Pb=function(){if(!h|| !(h.cU())){return '';}return h.cU().get_encodedIdentifier();};this.nS=function(){if(!h|| !(h.cU())){return-1;}return h.cU().aU;};this.asO=function(){if(!h|| !(h.cU())){return 0;}return h.cU().dY;};this.alG=function(){var bu=h.cU();if(!bu){return new IPCC.Web.UI.Rectangle(0,0,0,0);}var aP=h.eu();aP.x=aP.y=0;var qb=h.bp().ep();qb.ww();var cl=qb.ya(aP);if(cl.x<0){cl.width+=cl.x;cl.x=0;}if(cl.y<0){cl.height+=cl.y;cl.y=0;}if(cl.x+cl.width>bu.width){cl.width=bu.width-cl.x;}if(cl.y+cl.height>bu.height){cl.height=bu.height-cl.y;}return cl;};function RO(){var cB={},cS=h.bp().ep();cB.documentIdentifier=gd.Kd();cB.encodedDocumentIdentifier=gd.Pb();cB.pageNumber=gd.nS();cB.artPage=gd.fM();cB.referenceDocumentIdentifier=gd.Kd();cB.referencePageNumber=gd.nS();cB.viewFitType=IPCC.Web.UI.FitType.Rectangle;cB.viewRectangle=gd.alG();cB.imGearPage=gd.np();cB.transientArtPage=gd.lJ();var hg=cS.ale();if(hg!==0){cB.viewRotationDegreesClockwise=hg;}if(cS.asf()){cB.viewMirror=true;}return cB;};this.aiH=function(ak,da){h.aiH(ak,da);};this.PQ=function(){var cB;if(bH){cB=new IPCC.Web.UI.PageViewState();cB.documentIdentifier=bH.documentIdentifier;cB.encodedDocumentIdentifier=bH.encodedDocumentIdentifier;cB.pageNumber=bH.pageNumber;cB.artPage=bH.artPage;cB.artPageJson=bH.artPageJson;cB.referenceDocumentIdentifier=bH.documentIdentifier;cB.referencePageNumber=bH.pageNumber;cB.viewFitType=bH.viewFitType;cB.viewRectangle=bH.viewRectangle;cB.viewRotationDegreesClockwise=bH.viewRotationDegreesClockwise;cB.viewMirror=bH.viewMirror;cB.viewZoomFactor=bH.viewZoomFactor;cB.transientArtPage=bH.transientArtPage;}else{cB=RO();}return cB;};this.RJ=function(ab){var aP=h.eu();this.aek(ab,{x:aP.width/2,y:aP.height/2});};this.aek=function(ab,ce){IPCC.bw.kz(ab,'factor',1.01,20);IPCC.bw.ay(ce,'point');nY();var aE=h.bp();var bk=aE.ep();var aB=h.cU();var ks=bk.pE();if(ks*ab>aB.pz){ab=aB.pz/ks;}bk.xS(ab,ab,ce.x,ce.y);bk.hW(aB,h.eu());fv=null;aE.jF(bk);};this.UN=function(ab){var aP=h.eu();this.adS(ab,{x:aP.width/2,y:aP.height/2});};this.adS=function(ab,ce){IPCC.bw.kz(ab,'factor',1.01,20);IPCC.bw.ay(ce,'point');nY();var aE=h.bp();var bk=aE.ep();var aB=h.cU();var ks=bk.pE();if(ks/ab<aB.sM){ab=ks/aB.sM;}bk.xS(1/ab,1/ab,ce.x,ce.y);bk.hW(aB,h.eu());fv=null;aE.jF(bk);};this.jM=function(ab){var aP=h.eu();this.apo(ab,{x:aP.width/2,y:aP.height/2});};this.Ep=function(ab){var aE=h.bp();fv=null;aE.Ep(ab);};this.Cy=function(ab){var aE=h.bp();fv=null;aE.Cy(ab);};this.DQ=function(ab){var aE=h.bp();fv=null;aE.DQ(ab);};this.apo=function(ab,ce){IPCC.bw.ay(ce,'point');nY();var aE=h.bp();var bk=aE.ep();var aB=h.cU();var ks=bk.pE();if(ab>aB.pz){ab=aB.pz;}else if(ab<aB.sM){ab=aB.sM;}bk.xS(ab/ks,ab/ks,ce.x,ce.y);bk.hW(aB,h.eu());fv=null;aE.jF(bk);};this.xv=function(rR){IPCC.bw.TI(rR,'degreesClockwise',[90,180,270,-90,-180,-270]);nY();var aE=h.bp();var bk=aE.ep();var aP=h.eu();bk.afl(rR,aP.width/2,aP.height/2);bk.hW(h.cU(),h.eu());fv=null;aE.jF(bk);};this.aga=function(){nY();var aE=h.bp();var bk=aE.ep();var aP=h.eu();bk.xS(-1,1,aP.width/2,aP.height/2);bk.hW(h.cU(),h.eu());fv=null;aE.jF(bk);};this.aqw=function(cl){IPCC.bw.H(cl,'pageRectangle');nY();var aE=h.bp();var bk=aE.ep();var aP=h.eu();var aB=h.cU();bk.PJ(aB,aP,cl);bk.hW(aB,h.eu());fv=null;aE.jF(bk);};this.aqF=function(dz){IPCC.bw.ay(dz,'imagePoint');nY();var aE=h.bp();var bk=aE.ep();var aP=h.eu();bk.aka(aP,dz);bk.hW(h.cU(),h.eu());fv=null;aE.jF(bk);};this.agk=function(){nY();fv=null;var aE=h.bp();var bk=aE.ep();var aP=h.eu();bk.xS(1,-1,aP.width/2,aP.height/2);bk.hW(h.cU(),h.eu());fv=null;aE.jF(bk);};this.cn=function(){h.cn();};this.JX=function(){h.JX();};var UQ=function(){var aB=h.cU();var aP=h.eu();var bk;if(!fv){bk=h.bp().ep();bk.hW(aB,aP);h.bp().jF(bk);return;}if(fv.aEv){bk=h.bp().ep();}else{bk=new IPCC.eo();bk.aqN(aB,aP);if(fv.viewRotationDegreesClockwise){bk.rotate(fv.viewRotationDegreesClockwise);}if(fv.viewMirror){bk.aoV(aP);}}if(fv.viewZoomFactor){if(fv.viewZoomFactor>aB.pz){fv.viewZoomFactor=aB.pz;}else if(fv.viewZoomFactor<aB.sM){fv.viewZoomFactor=aB.sM;}fv.viewFitType=IPCC.Web.UI.FitType.ActualSize;bk.XS(fv.viewFitType,aB,aP);bk.scale(fv.viewZoomFactor,fv.viewZoomFactor);}else{if(!fv.viewFitType&&fv.viewFitType!==0){fv.viewFitType=IPCC.Web.UI.FitType.FullImage;}if(fv.viewFitType===IPCC.Web.UI.FitType.Rectangle&& !fv.viewRectangle){fv.viewFitType=IPCC.Web.UI.FitType.FullImage;}if(fv.viewFitType!==IPCC.Web.UI.FitType.Rectangle){bk.XS(fv.viewFitType,aB,aP);}else{bk.PJ(aB,aP,fv.viewRectangle);}}bk.hW(aB,aP);h.bp().jF(bk);};var aml=function(JU){fv=JU;Mc=0;UQ();};this.KM=function(bm){xP++;var Vl=xP;var ayi={};GG=0.0;h.Ot=0.0;IPCC.gJ.aja(bm);if(oW(IPCC.Web.UI.DebugErrorLevel.Development)){var cQ='opening documentIdentifier "'+bm.documentIdentifier+'", pageNumber '+bm.pageNumber;this.wz(cQ,IPCC.Web.UI.DebugErrorLevel.Development);}bH=new IPCC.Web.UI.PageViewState();var C;for(C in bm){if(bm.hasOwnProperty(C)){bH[C]=bm[C];}}if(bm.documentIdentifier===''){this.OK();return;}if(IPCC.Web.UI.ArtPage){if(bH){if(!bH.artPage){var aG=new IPCC.Web.UI.ArtPage();if(bH.artPageJson){aG.loadFromJson(bH.artPageJson);}bH.artPage=aG;}if(!bH.documentArtPage){var fj=new IPCC.Web.UI.ArtPage();bH.documentArtPage=fj;}if(this.ly()===true){if(!bH.imGearPage){var fO=new IPCC.Web.UI.ImGearDocument({documentIdentifier:bm.documentIdentifier,imageServicePath:this.uU()});bH.imGearPage=new IPCC.Web.UI.ImGearPage({pageNumber:bm.pageNumber,ac:fO});fO.get_pages().addPage(bH.imGearPage);}if(!bH.transientArtPage){bH.transientArtPage=new IPCC.Web.UI.ArtPage();}}}}if(bH.viewRotationDegreesClockwise){IPCC.bw.TI(bH.viewRotationDegreesClockwise,'parameters.viewRotationDegreesClockwise',[0,90,180,270,-90,-180,-270]);}if(bH.viewFitType){IPCC.bw.kj(bH.viewFitType,'parameters.viewFitType',IPCC.Web.UI.FitType);}if(bH.viewZoomFactor){IPCC.bw.kz(bH.viewZoomFactor,'parameters.viewZoomFactor',0,20);}bU('pageOpening',bm);var bu=new IPCC.gJ(bm.encodedDocumentIdentifier,bm.pageNumber,0,0,0,0);var nC=function(){if(Vl!==xP){return;}var vb=null;if(h.cU()){vb=RO();}h.bp().pb();h.AG(bu);aml(bH);if(bm.artServiceOption===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(bH){if(bH.artPage){h.mC(bH.artPage);h.fM().loadFromJson(bu.axG);}}}else{if(bH){if(bH.artPage){h.mC(bH.artPage);}if(bH.documentArtPage){h.HX(bH.documentArtPage);}if(h.ly()===true){if(bH.imGearPage){var XW=bH.imGearPage.get_pageWidth();var WV=bH.imGearPage.get_pageHeight();bH.imGearPage.mG(gd.jx());if(!XW){bH.imGearPage.LE(gd.get_pageWidth());}if(!WV){bH.imGearPage.Mw(gd.get_pageHeight());}h.Cj(bH.imGearPage);if(typeof(h.np().yP==='function')){if(!h.np().dp().vj()){bH.imGearPage.vD(gd.jJ());setTimeout(h.np().yP,1000);}}}if(bH.transientArtPage){h.CT(bH.transientArtPage);}}}}bH=null;if(vb){bU('pageClosed',vb);}Cg();bU('pageOpened',bm);};if(bm.artServiceOption===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(bH){if(!bH.artPageJson){bu.aHd(h.uU(),h,nC,ayi);}else{bu.SI(h.uU(),h,nC);}}}else{bu.SI(h.uU(),h,nC);}};this.OK=function(){xP++;if(!(h.cU())){return;}var vb=RO();h.AG(undefined);h.mC(undefined);h.Cj(undefined);h.CT(undefined);this.cn();Cg();vb=undefined;bH=undefined;fv=undefined;var di;di=gd.nq();if(di.igElements){if(di.igElements.rk){di.igElements.rk.yz=null;di.igElements.rk.wC=null;di.igElements.rk.Gb=null;di.igElements.rk=null;}di.igElements.BI=null;di.igElements.fr=null;di.igElements.gg=null;di.igElements.dh=null;di.igElements.oi=null;di.igElements.mj=null;di.igElements.kp=null;di.igElements.sb=null;di.igElements.QR=null;di.igElements.Zu=null;di.igElements.pO=null;}gd=null;di.bD=null;bU('pageClosed',vb);};this.azw=function(bm){xP++;var Vl=xP;GG=0.0;h.Ot=0.0;IPCC.gJ.aja(bm);if(oW(IPCC.Web.UI.DebugErrorLevel.Development)){var cQ='opening documentIdentifier "'+bm.documentIdentifier+'", pageNumber '+bm.pageNumber;this.wz(cQ,IPCC.Web.UI.DebugErrorLevel.Development);}bH=new IPCC.Web.UI.PageViewState();var C;for(C in bm){if(bm.hasOwnProperty(C)){bH[C]=bm[C];}}if(bm.documentIdentifier===''){this.OK();return;}if(IPCC.Web.UI.ArtPage){if(bH){if(!bH.artPage){var aG=new IPCC.Web.UI.ArtPage();bH.artPage=aG;}if(!bH.documentArtPage){var fj=new IPCC.Web.UI.ArtPage();bH.documentArtPage=fj;}if(this.ly()===true){if(!bH.imGearPage){var fO=new IPCC.Web.UI.ImGearDocument({documentIdentifier:bm.documentIdentifier,imageServicePath:this.uU()});bH.imGearPage=new IPCC.Web.UI.ImGearPage({pageNumber:bm.pageNumber,ac:fO});fO.get_pages().addPage(bH.imGearPage);}if(!bH.transientArtPage){bH.transientArtPage=new IPCC.Web.UI.ArtPage();}}}}if(bH.viewRotationDegreesClockwise){IPCC.bw.TI(bH.viewRotationDegreesClockwise,'parameters.viewRotationDegreesClockwise',[0,90,180,270,-90,-180,-270]);}if(bH.viewFitType){IPCC.bw.kj(bH.viewFitType,'parameters.viewFitType',IPCC.Web.UI.FitType);}if(bH.viewZoomFactor){IPCC.bw.kz(bH.viewZoomFactor,'parameters.viewZoomFactor',0,20);}bU('pageOpening',bm);var bu=new IPCC.gJ(bm.encodedDocumentIdentifier,bm.pageNumber,0,0,0,0);var nC=function(){if(Vl!==xP){return;}var vb=null;if(h.cU()){vb=RO();}h.bp().pb();h.AG(bu);aml(bH);if(bH){if(bH.artPage){h.mC(bH.artPage);}if(bH.documentArtPage){h.HX(bH.documentArtPage);}if(h.ly()===true){if(bH.imGearPage){var XW=bH.imGearPage.get_pageWidth();var WV=bH.imGearPage.get_pageHeight();bH.imGearPage.mG(gd.jx());if(!XW){bH.imGearPage.LE(gd.get_pageWidth());}if(!WV){bH.imGearPage.Mw(gd.get_pageHeight());}h.Cj(bH.imGearPage);if(typeof(h.np().yP==='function')){if(!h.np().dp().vj()){bH.imGearPage.vD(gd.jJ());setTimeout(h.np().yP,1000);}}}if(bH.transientArtPage){h.CT(bH.transientArtPage);}}}bH=null;if(vb){bU('pageClosed',vb);}Cg();bU('pageOpened',bm);};bu.aAU(h.uU(),h,nC);};this.aIy=function(){xP++;if(!(h.cU())){return;}var bu=h.cU();h.AG(undefined);this.cn();h.AG(bu);};this.Zn=function(Bd){h.Zn(Bd);};this.mC=function(J){h.mC(J);};this.fM=function(){return h.fM();};this.HX=function(J){h.HX(J);};this.QI=function(){return h.QI();};this.lJ=function(){return h.lJ();};this.CT=function(J){h.CT(J);};this.DV=function(){return h.DV();};this.apY=function(J){h.apY(J);};this.It=function(J){h.It(J);};this.uB=function(){return h.uB();};this.aqY=function(J){aid=this.aoK(J);};this.hQ=function(){return aid;};this.aig=function(J){h.aig(J);};this.Ya=function(){return h.Ya();};this.nj=function(){return h.nj();};this.qE=function(J){h.qE(J);};this.aaQ=function(J){h.aaQ(J);};this.XE=function(){return h.XE();};this.SD=function(azB){h.SD(azB);};this.Yk=function(){return h.Yk();};this.aoK=function(al){var au='',KS='',TF=function(aY){var sa=0,au;for(au in aY){if(aY.hasOwnProperty(au)){sa+=1;}}return sa;};for(au in qN){if(qN.hasOwnProperty(au)){if(typeof al[au]==='undefined'){al[au]=qN[au];}if(typeof al[au]==='object'){if(!TF(al[au])){al[au]=qN[au];}else if(TF(al[au])!==TF(qN[au])){for(KS in qN[au]){if(typeof al[au][KS]==='undefined'){al[au][KS]=qN[au][KS];}}}}}}return al;};this.apv=function(apR){if(apR===false){IPCC.fZ=false;h.eY([new IPCC.mA(),new IPCC.cY(),new IPCC.dB(),new IPCC.cF(false)]);}else{IPCC.fZ=true;IPCC.akA=this.hQ();h.eY([new IPCC.mA(),new IPCC.cY(),new IPCC.en(),new IPCC.dB(),new IPCC.cF(false)]);}};this.pb=function(){var aE=h.bp();if(!aE.xY()){return;}h.bp().pb();};this.apH=function(cl){IPCC.bw.H(cl,'pageRectangle');var bu=h.cU();if(bu){h.bp().showSelection(cl);}};this.BB=function(dz){IPCC.bw.ay(dz,'imagePoint');if(h.cU()){h.bp().BB(new IPCC.Web.UI.Point(dz.x,dz.y));}};this.yR=function(dz){IPCC.bw.ay(dz,'imagePoint');if(h.cU()){h.bp().yR(new IPCC.Web.UI.Point(dz.x,dz.y));}};this.wn=function(){if(h.cU()&&h.bp().xY()){return h.bp().wn();}return new IPCC.Web.UI.Rectangle(0,0,0,0);};this.atA=function(){if(h.cU()&&h.bp().xY()){var cl=h.bp().wn();return h.bp().ep().ya(cl);}return new IPCC.Web.UI.Rectangle(0,0,0,0);};this.xY=function(){return! !(h.cU()&&h.bp().xY());};this.uU=function(){return h.uU();};this.Vg=function(J){IPCC.bw.lW(J,'value');h.Vg(J);};this.arv=function(){return Ov;};this.aqK=function(J){IPCC.bw.lW(J,'value');Ov=J;};this.asq=function(){return Mq;};this.aqB=function(J){Mq=J;};var uk='';this.wO=function(J){h.wO(J);uk=J;};this.nq=function(){return uk;};this.auE=function(){return h.bp().get_magnifierMagnification();};this.aoB=function(J){IPCC.bw.kz(J,'value',1.5,8);h.bp().set_magnifierMagnification(J);};this.atX=function(){return h.bp().vT().width;};this.apj=function(J){IPCC.bw.kz(J,'value',25,500);var sa=h.bp().vT();sa.width=J;h.bp().set_magnifierWindowSize(sa);};this.auC=function(){return h.bp().vT().height;};this.anZ=function(J){IPCC.bw.kz(J,'value',25,500);var sa=h.bp().vT();sa.height=J;h.bp().set_magnifierWindowSize(sa);};this.MK=function(){return h.bp().MK();};this.XM=function(J){IPCC.bw.kz(J,'value',-500,500);h.bp().XM(J);};this.NY=function(){return h.bp().NY();};this.Wv=function(J){IPCC.bw.kz(J,'value',-500,500);h.bp().Wv(J);};this.Yn=function(){return h.bp().Yn();};this.WO=function(J){IPCC.bw.kz(J,'value',0.1,0.5);h.bp().WO(J);};this.As=function(){return h.bp().As();};this.Ku=function(J){h.bp().Ku(J);};this.raisePropertyChanged=function(cr,xo){if(h){h.cN(cr,xo);}};var az= -1;this.Zj=function(){return az;};this.aHJ=function(J){h.pM=J;};this.Nd=function(J){h.set_areMarksEditable(J);};this.aHZ=function(){return h.set_areMarksEditable();};this.JS=function(J){IPCC.bw.kj(J,'value',IPCC.Web.UI.MouseTool);if(az!==J){az=J;var hV="None";switch(az){case IPCC.Web.UI.MouseTool.None:h.eY([]);break;case IPCC.Web.UI.MouseTool.Magnifier:if(IPCC.fZ===true){h.eY([new IPCC.ot(),new IPCC.cY(),new IPCC.en(false,this.hQ()),new IPCC.dB(),new IPCC.cF(false)]);}else{h.eY([new IPCC.ot(),new IPCC.cY(),new IPCC.dB(),new IPCC.cF(false)]);hV="Magnifier";}break;case IPCC.Web.UI.MouseTool.RectangleZoom:if(IPCC.fZ===true){h.eY([new IPCC.mA(),new IPCC.cY(),new IPCC.en(false,this.hQ()),new IPCC.dB(),new IPCC.cF(false)]);}else{h.eY([new IPCC.mA(),new IPCC.cY(),new IPCC.dB(),new IPCC.cF(false)]);}hV="RectangleZoom";break;case IPCC.Web.UI.MouseTool.HandPan:if(IPCC.fZ===true){h.eY([new IPCC.oY(),new IPCC.cY(),new IPCC.en(false,this.hQ()),new IPCC.dB(),new IPCC.cF(true)]);}else{h.eY([new IPCC.oY(),new IPCC.cY(),new IPCC.dB(),new IPCC.cF(true)]);}hV="HandPan";break;case IPCC.Web.UI.MouseTool.Select:if(IPCC.fZ===true){h.eY([new IPCC.nL(),new IPCC.cY(),new IPCC.en(false,this.hQ()),new IPCC.dB(),new IPCC.cF(false)]);}else{h.eY([new IPCC.nL(),new IPCC.cY(),new IPCC.dB(),new IPCC.cF(false)]);}hV="Select";break;case IPCC.Web.UI.MouseTool.CreateRectangleMark:if(IPCC.fZ===true){h.eY([new IPCC.fh(IPCC.Web.UI.MarkType.Rectangle),new IPCC.cY(),new IPCC.en(true,this.hQ()),new IPCC.dB(),new IPCC.cF(false)]);}else{h.eY([new IPCC.fh(IPCC.Web.UI.MarkType.Rectangle),new IPCC.cY(),new IPCC.dB(),new IPCC.cF(false)]);}hV="CreateRectangleMark";break;case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:if(IPCC.fZ===true){h.eY([new IPCC.fh(IPCC.Web.UI.MarkType.RectangleRedaction),new IPCC.cY(),new IPCC.en(true,this.hQ()),new IPCC.dB(),new IPCC.cF(false)]);}else{h.eY([new IPCC.fh(IPCC.Web.UI.MarkType.RectangleRedaction),new IPCC.cY(),new IPCC.dB(),new IPCC.cF(false)]);}hV="CreateRectangleRedactionMark";break;case IPCC.Web.UI.MouseTool.CreateEllipseMark:if(IPCC.fZ===true){h.eY([new IPCC.fh(IPCC.Web.UI.MarkType.Ellipse),new IPCC.cY(),new IPCC.en(true,this.hQ()),new IPCC.dB(),new IPCC.cF(false)]);}else{h.eY([new IPCC.fh(IPCC.Web.UI.MarkType.Ellipse),new IPCC.cY(),new IPCC.dB(),new IPCC.cF(false)]);}hV="CreateEllipseMark";break;case IPCC.Web.UI.MouseTool.CreateLineMark:if(IPCC.fZ===true){h.eY([new IPCC.pq(),new IPCC.cY(),new IPCC.en(true,this.hQ()),new IPCC.dB(),new IPCC.cF(false)]);}else{h.eY([new IPCC.pq(),new IPCC.cY(),new IPCC.dB(),new IPCC.cF(false)]);}hV="CreateLineMark";break;case IPCC.Web.UI.MouseTool.CreatePolylineMark:if(IPCC.fZ===true){h.eY([new IPCC.lx(IPCC.Web.UI.MarkType.Polyline),new IPCC.cY(),new IPCC.en(true,this.hQ()),new IPCC.dB(),new IPCC.cF(false)]);}else{h.eY([new IPCC.lx(IPCC.Web.UI.MarkType.Polyline),new IPCC.cY(),new IPCC.dB(),new IPCC.cF(false)]);}hV="CreatePolylineMark";break;case IPCC.Web.UI.MouseTool.CreateFreehandMark:if(IPCC.fZ===true){h.eY([new IPCC.jS(),new IPCC.cY(),new IPCC.en(true,this.hQ()),new IPCC.dB(),new IPCC.cF(false)]);}else{h.eY([new IPCC.jS(),new IPCC.cY(),new IPCC.dB(),new IPCC.cF(false)]);}hV="CreateFreehandMark";break;case IPCC.Web.UI.MouseTool.CreatePolygonMark:if(IPCC.fZ===true){h.eY([new IPCC.lx(IPCC.Web.UI.MarkType.Polygon),new IPCC.cY(),new IPCC.en(true,this.hQ()),new IPCC.dB(),new IPCC.cF(false)]);}else{h.eY([new IPCC.lx(IPCC.Web.UI.MarkType.Polygon),new IPCC.cY(),new IPCC.dB(),new IPCC.cF(false)]);}hV="CreatePolygonMark";break;case IPCC.Web.UI.MouseTool.CreateTextMark:if(IPCC.fZ===true){h.eY([new IPCC.fh(IPCC.Web.UI.MarkType.Text),new IPCC.cY(),new IPCC.en(true,this.hQ()),new IPCC.dB(),new IPCC.cF(false)]);}else{h.eY([new IPCC.fh(IPCC.Web.UI.MarkType.Text),new IPCC.cY(),new IPCC.dB(),new IPCC.cF(false)]);}hV="CreateTextMark";break;case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:if(IPCC.fZ===true){h.eY([new IPCC.fh(IPCC.Web.UI.MarkType.TextLine),new IPCC.cY(),new IPCC.en(true,this.hQ()),new IPCC.dB(),new IPCC.cF(false)]);}else{h.eY([new IPCC.fh(IPCC.Web.UI.MarkType.TextLine),new IPCC.cY(),new IPCC.dB(),new IPCC.cF(false)]);}hV="CreateTextInputSignatureMark";break;case IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark:h.eY([new IPCC.fh(IPCC.Web.UI.MarkType.TextAreaSignature),new IPCC.cY(),new IPCC.dB(),new IPCC.cF(false)]);hV="CreateTextAreaSignatureMark";break;case IPCC.Web.UI.MouseTool.EditMarks:if(IPCC.fZ===true){h.eY([new IPCC.le(IPCC.Web.UI.MarkType.Text),new IPCC.cY(),new IPCC.en(true,this.hQ()),new IPCC.dB(),new IPCC.cF(false)]);}else{h.eY([new IPCC.le(IPCC.Web.UI.MarkType.Text),new IPCC.cY(),new IPCC.dB(),new IPCC.cF(false)]);}hV="EditMarks";break;case IPCC.Web.UI.MouseTool.RunMarks:if(IPCC.fZ===true){h.eY([new IPCC.zV(IPCC.Web.UI.MarkType.Text),new IPCC.cY(),new IPCC.en(false,this.hQ()),new IPCC.dB(),new IPCC.cF(false)]);}else{h.eY([new IPCC.zV(IPCC.Web.UI.MarkType.Text),new IPCC.cY(),new IPCC.dB(),new IPCC.cF(false)]);}hV="RunMarks";break;case IPCC.Web.UI.MouseTool.CreateStampMark:if(IPCC.fZ===true){h.eY([new IPCC.fh(IPCC.Web.UI.MarkType.Stamp),new IPCC.cY(),new IPCC.en(true,this.hQ()),new IPCC.dB(),new IPCC.cF(false)]);}else{h.eY([new IPCC.fh(IPCC.Web.UI.MarkType.Stamp),new IPCC.cY(),new IPCC.dB(),new IPCC.cF(false)]);}hV="CreateStampMark";break;case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:if(IPCC.fZ===true){h.eY([new IPCC.fh(IPCC.Web.UI.MarkType.ImageStampAnnotation),new IPCC.cY(),new IPCC.en(true,this.hQ()),new IPCC.dB(),new IPCC.cF(false)]);}else{h.eY([new IPCC.fh(IPCC.Web.UI.MarkType.ImageStampAnnotation),new IPCC.cY(),new IPCC.dB(),new IPCC.cF(false)]);}hV="CreateImageStampAnnotationMark";break;case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:if(IPCC.fZ===true){h.eY([new IPCC.fh(IPCC.Web.UI.MarkType.ImageStampRedaction),new IPCC.cY(),new IPCC.en(true,this.hQ()),new IPCC.dB(),new IPCC.cF(false)]);}else{h.eY([new IPCC.fh(IPCC.Web.UI.MarkType.ImageStampRedaction),new IPCC.cY(),new IPCC.dB(),new IPCC.cF(false)]);}hV="CreateImageStampRedactionMark";break;case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:h.FB=true;if(IPCC.fZ===true){h.eY([new IPCC.lc(),new IPCC.cY(),new IPCC.en(false,this.hQ()),new IPCC.dB(),new IPCC.cF(false)]);}else{h.eY([new IPCC.lc(),new IPCC.cY(),new IPCC.dB(),new IPCC.cF(false)]);}hV="CreateHighlightTextMark";break;case IPCC.Web.UI.MouseTool.SelectText:h.FB=false;if(IPCC.fZ===true){h.eY([new IPCC.lc(),new IPCC.cY(),new IPCC.en(false,this.hQ()),new IPCC.dB(),new IPCC.cF(false)]);}else{h.eY([new IPCC.lc(),new IPCC.cY(),new IPCC.dB(),new IPCC.cF(false)]);}hV="SelectText";break;case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:if(IPCC.fZ===true){h.eY([new IPCC.lc(),new IPCC.cY(),new IPCC.en(true,this.hQ()),new IPCC.dB(),new IPCC.cF(false)]);}else{h.eY([new IPCC.lc(),new IPCC.cY(),new IPCC.dB(),new IPCC.cF(false)]);}hV="CreateStrikethroughMark";break;}this.raisePropertyChanged('mouseTool',{mouseToolType:hV});}};this.Jn=function(atc){az= -1;h.eY(atc);};this.atm=function(){return h.bp().get_presentationQuality();};this.aqz=function(J){IPCC.bw.kz(J,'value',0,100);h.bp().set_presentationQuality(J);};this.auI=function(){return h.bp().get_scrollBars();};this.aqu=function(J){IPCC.bw.kj(J,'value',IPCC.Web.UI.ScrollBars);h.bp().set_scrollBars(J);};this.aoq=function(dz,asj){IPCC.bw.ay(dz,'imagePoint');if(!(h.cU())){return new IPCC.Web.UI.Point(0,0);}var ce=h.bp().ep().transform(dz);if(asj){ce.constrain(h.eu());}return ce;};this.OT=function(ce,arM){IPCC.bw.ay(ce,'windowPoint');var bu=h.cU();if(!bu){return new IPCC.Web.UI.Point(0,0);}var qb=h.bp().ep();qb.ww();var dz=qb.transform(ce);if(arM){dz.constrain(bu);}return dz;};function axl(){var di;di=gd.nq();var akJ=di.clientWidth;var ajD=di.clientHeight;var aFF=(fv&&fv.viewFitType===agI&&akJ===agu&&ajD===agm);if(aFF){if(Mc>2){return;}Mc++;}else{agI=fv?fv.viewFitType: -1;agu=akJ;agm=ajD;Mc=0;}UQ();};function axm(){fv=null;};function avl(bM,K){switch(K.fb){case IPCC.eI.aeZ:gd.aek(1.25,K.Rk.windowPoint);break;case IPCC.eI.afs:gd.adS(1.25,K.Rk.windowPoint);break;case IPCC.eI.Zm:gd.xv(K.J);break;case IPCC.eI.afS:gd.agk();break;case IPCC.eI.ahp:gd.aga();break;case IPCC.eI.aeV:gd.YJ(K.J);break;case IPCC.eI.ajb:gd.JS(K.J);break;}};this.ly=function(){return h.ly();};this.GR=function(J){h.GR(J);};this.dp=function(){return h.dp();};this.np=function(){return h.np();};this.Cj=function(J){h.Cj(J);};this.yf=function(){return h.get_requireRequestsOptimize();};this.Iv=function(J){h.Iv(J);};this.jJ=function(){return h.jJ();};this.vD=function(J){h.vD(J);};this.Go=function(dz){IPCC.bw.ay(dz,'imagePoint');return h.Go(dz);};this.zo=function(dg){h.zo(dg);};this.US=function(){h.US();};this.Ja=function(uu,da){var Kk=h.dp().hn().fC();IPCC.bw.lN(uu,'uu',0,Kk-1);h.Ja(uu,da);};this.tW=function(dg){if(dg===undefined){h.bp().tW(dg);return false;}var Kk=h.dp().hn().fC();IPCC.bw.lN(dg,'textIndex',0,Kk-1);h.tW(dg);return true;};this.FT=function(){return! !(h.cU()&&h.ly()&&h.dp().oa()===true&&h.bp().FT());};this.ZN=function(){var aE=h.bp();aE.ZN();};this.Qg=function(){if(h.ly()&&h.dp().oa()===true){return Math.min(h.bp().amR(),h.bp().BV());}};this.Bq=function(){if(h.ly()&&h.dp().oa()===true){return h.bp().Bq();}};this.CJ=function(){if(h.ly()&&h.dp().oa()===true&&h.bp().FT()){return h.CJ();}else{return "";}};this.BV=function(){return h.bp().BV();};this.atV=function(){return h.get_cursor();};this.aqR=function(J){h.set_cursor(J);};this.yt=function(){return h.yt();};this.Sv=function(J){h.Sv(J);};this.jx=function(){return h.jx();};this.mG=function(J){h.mG(J);};this.aCR=function(){h.bp().hideMagnifier();};this.aqO=function(ce){h.bp().showMagnifier(ce);};this.wq=function(R){if(h.mq().igElements){h.wq(R);h.cn();}};this.Kn=function(){h.Kn();};this.Bo=function(){return h.Bo();};this.pY=function(){if(h.mq().igElements){h.pY(true);}};function ayN(bM,K){var yp=K.scaleFactor;var bd={scaleType:"scaledDown",pageNumber:K.pageNumber};if(GG!==yp){if(yp>GG){bd.scaleType="scaledUp";}GG=yp;bU('scaleChanged',bd);}};this.initialize=function(){h.apV(this.nq().id);h.wO(this.nq().id);if(az=== -1){this.JS(IPCC.Web.UI.MouseTool.RectangleZoom);}oB('mouseDown');oB('mouseMove');oB('mouseUp');oB('contextMenu');oB('markCreating');oB('pageOpenFailed');oB('textPageReady');oB('pageDisplayed');oB('exceptionThrown');oB('selectTextMouseToolCompleted');Kw('markAdded');Kw('markChanged');Kw('markRemoved');oB('textExtractionFailed');Kw('markReordered');Kw('marksLoaded');oB('markSelectionChanged');atp();h.awM(axl);h.awI(axm);h.ayX(avl);h.add_scaleChanged(ayN);h.aFL();var di=this.nq();di.bD=this;};oE=(oE!==false);h=new IPCC.WG(oE);h.apA('PageView');h.aqD(Oa);};akB.prototype={dispose:function(){this.ar('dispose',arguments);this.OK();},get_debug:function(){try{var aW=this.JC();this.dm('get_debug',arguments,aW);return aW;}catch(e){this.af('get_debug',e);throw e;}},set_debug:function(value){try{this.ar('set_debug',arguments);var zh=this.JC();this.VP(value);if(!zh){this.ar('set_debug',arguments);}}catch(e){this.af('set_debug',e);throw e;}},get_debugErrorLevel:function(){try{var aW=this.xu();this.dm('get_debugErrorLevel',arguments,aW);return aW;}catch(e){this.af('get_debugErrorLevel',e);throw e;}},set_debugErrorLevel:function(value){try{this.ar('set_debugErrorLevel',arguments);var zh=this.xu();this.EZ(value);if(zh<IPCC.Web.UI.DebugErrorLevel.Development){this.ar('set_debugErrorLevel',arguments);}}catch(e){this.af('set_debugErrorLevel',e);throw e;}},get_artServiceOption:function(){try{var aW=this.Yk();this.dm('get_artServiceOption',arguments,aW);return aW;}catch(e){this.af('get_artServiceOption',e);throw e;}},set_artServiceOption:function(value){try{this.ar('set_artServiceOption',arguments);this.SD(value);}catch(e){this.af('set_artServiceOption',e);throw e;}},add_pageOpening:function(handler){try{this.WN(handler);}catch(e){this.af('add_pageOpening',e);throw e;}},remove_pageOpening:function(handler){try{this.Vz(handler);}catch(e){this.af('remove_pageOpening',e);throw e;}},add_pageOpened:function(handler){try{this.Xj(handler);}catch(e){this.af('add_pageOpened',e);throw e;}},remove_pageOpened:function(handler){try{this.Ut(handler);}catch(e){this.af('remove_pageOpened',e);throw e;}},add_pageClosed:function(handler){try{this.awZ(handler);}catch(e){this.af('add_pageClosed',e);throw e;}},remove_pageClosed:function(handler){try{this.azh(handler);}catch(e){this.af('remove_pageClosed',e);throw e;}},add_pageOpenFailed:function(handler){try{this.GO(handler);}catch(e){this.af('add_pageOpenFailed',e);throw e;}},remove_pageOpenFailed:function(handler){try{this.Gm(handler);}catch(e){this.af('remove_pageOpenFailed',e);throw e;}},add_pageDisplayed:function(handler){try{this.WU(handler);}catch(e){this.af('add_pageDisplayed',e);throw e;}},remove_pageDisplayed:function(handler){try{this.UM(handler);}catch(e){this.af('remove_pageDisplayed',e);throw e;}},add_mouseDown:function(handler){try{this.OB(handler);}catch(e){this.af('add_mouseDown',e);throw e;}},remove_mouseDown:function(handler){try{this.Uq(handler);}catch(e){this.af('remove_mouseDown',e);throw e;}},add_mouseMove:function(handler){try{this.PL(handler);}catch(e){this.af('add_mouseMove',e);throw e;}},remove_mouseMove:function(handler){try{this.Uv(handler);}catch(e){this.af('remove_mouseMove',e);throw e;}},add_mouseUp:function(handler){try{this.Pw(handler);}catch(e){this.af('add_mouseUp',e);throw e;}},remove_mouseUp:function(handler){try{this.UT(handler);}catch(e){this.af('remove_mouseUp',e);throw e;}},add_contextMenu:function(handler){try{this.ayl(handler);}catch(e){this.af('add_contextMenu',e);throw e;}},remove_contextMenu:function(handler){try{this.azf(handler);}catch(e){this.af('remove_contextMenu',e);throw e;}},add_markAdded:function(handler){try{this.zy(handler);}catch(e){this.af('add_markAdded',e);throw e;}},remove_markAdded:function(handler){try{this.zK(handler);}catch(e){this.af('remove_markAdded',e);throw e;}},add_markCreating:function(handler){try{this.XV(handler);}catch(e){this.af('add_markCreating',e);throw e;}},remove_markCreating:function(handler){try{this.Wd(handler);}catch(e){this.af('remove_markCreating',e);throw e;}},add_markChanged:function(handler){try{this.Jm(handler);}catch(e){this.af('add_markChanged',e);throw e;}},remove_markChanged:function(handler){try{this.FI(handler);}catch(e){this.af('remove_markChanged',e);throw e;}},add_markRemoved:function(handler){try{this.zT(handler);}catch(e){this.af('add_markRemoved',e);throw e;}},remove_markRemoved:function(handler){try{this.zk(handler);}catch(e){this.af('remove_markRemoved',e);throw e;}},add_markReordered:function(handler){try{this.Js(handler);}catch(e){this.af('add_markReordered',e);throw e;}},remove_markReordered:function(handler){try{this.Gn(handler);}catch(e){this.af('remove_markReordered',e);throw e;}},add_marksLoaded:function(handler){try{this.Wi(handler);}catch(e){this.af('add_marksLoaded',e);throw e;}},remove_marksLoaded:function(handler){try{this.Um(handler);}catch(e){this.af('remove_marksLoaded',e);throw e;}},add_markSelectionChanged:function(handler){try{this.Kb(handler);}catch(e){this.af('add_markSelectionChanged',e);throw e;}},remove_markSelectionChanged:function(handler){try{this.FE(handler);}catch(e){this.af('remove_markSelectionChanged',e);throw e;}},add_selectTextMouseToolCompleted:function(handler){try{this.UH(handler);}catch(e){this.af('add_selectTextMouseToolCompleted',e);throw e;}},remove_selectTextMouseToolCompleted:function(handler){try{this.Vf(handler);}catch(e){this.af('remove_selectTextMouseToolCompleted',e);throw e;}},add_textPageReady:function(handler){try{this.AP(handler);}catch(e){this.af('add_textPageReady',e);throw e;}},remove_textPageReady:function(handler){try{this.CL(handler);}catch(e){this.af('remove_textPageReady',e);throw e;}},add_exceptionThrown:function(handler){this.Wu(handler);},remove_exceptionThrown:function(handler){this.Vj(handler);},add_scaleChanged:function(handler){try{this.Uu(handler);}catch(e){this.af('add_scaleChanged',e);throw e;}},remove_scaleChanged:function(handler){try{this.UC(handler);}catch(e){this.af('remove_scaleChanged',e);throw e;}},add_propertyChanged:function(handler){try{this.ln(handler);}catch(e){this.af('add_propertyChanged',e);throw e;}},remove_propertyChanged:function(handler){try{this.mZ(handler);}catch(e){this.af('remove_propertyChanged',e);throw e;}},add_textExtractionFailed:function(handler){this.Ar(handler);},remove_textExtractionFailed:function(handler){this.AX(handler);},writeToLog:function(message){try{this.mt(message);}catch(e){this.af('writeToLog',e);throw e;}},fitPage:function(type){try{this.ar('fitPage',arguments);this.YJ(type);}catch(e){this.af('fitPage',e);throw e;}},get_pageIsOpen:function(){try{var aW=this.eE();this.dm('get_pageIsOpen',arguments,aW);return aW;}catch(e){this.af('get_pageIsOpen',e);throw e;}},get_pageWidth:function(){try{var aW=this.kJ();this.dm('get_pageWidth',arguments,aW);return aW;}catch(e){this.af('get_pageWidth',e);throw e;}},get_pageHeight:function(){try{var aW=this.ia();this.dm('get_pageHeight',arguments,aW);return aW;}catch(e){this.af('get_pageHeight',e);throw e;}},get_pageXResolution:function(){try{var aW=this.aug();this.dm('get_pageXResolution',arguments,aW);return aW;}catch(e){this.af('get_pageXResolution',e);throw e;}},get_pageYResolution:function(){try{var aW=this.auF();this.dm('get_pageYResolution',arguments,aW);return aW;}catch(e){this.af('get_pageYResolution',e);throw e;}},get_documentIdentifier:function(){try{var aW=this.Kd();this.dm('get_documentIdentifier',arguments,aW);return aW;}catch(e){this.af('get_documentIdentifier',e);throw e;}},get_encodedDocumentIdentifier:function(){try{var aW=this.Pb();this.dm('get_encodedDocumentIdentifier',arguments,aW);return aW;}catch(e){this.af('get_encodedDocumentIdentifier',e);throw e;}},get_pageNumber:function(){try{var aW=this.nS();this.dm('get_pageNumber',arguments,aW);return aW;}catch(e){this.af('get_pageNumber',e);throw e;}},get_documentPageCount:function(){try{var aW=this.asO();this.dm('get_documentPageCount',arguments,aW);return aW;}catch(e){this.af('get_documentPageCount',e);throw e;}},get_displayedPageRectangle:function(){try{var aW=this.alG();this.dm('get_displayedPageRectangle',arguments,aW);return aW;}catch(e){this.af('get_displayedPageRectangle',e);throw e;}},get_currentState:function(){try{var aW=this.PQ();this.dm('get_currentState',arguments,aW);return aW;}catch(e){this.af('get_currentState',e);throw e;}},zoomIn:function(factor){try{this.ar('zoomIn',arguments);this.RJ(factor);}catch(e){this.af('zoomIn',e);throw e;}},zoomOut:function(factor){try{this.ar('zoomOut',arguments);this.UN(factor);}catch(e){this.af('zoomOut',e);throw e;}},set_sharpening:function(factor){try{this.ar('set_sharpening',arguments);this.Ep(factor);}catch(e){this.af('set_sharpening',e);throw e;}},set_gamma:function(factor){try{this.ar('set_gamma',arguments);this.Cy(factor);}catch(e){this.af('set_gamma',e);throw e;}},set_svgLineWidthMultiplier:function(factor){try{this.ar('set_svgLineWidthMultiplier',arguments);this.DQ(factor);}catch(e){this.af('set_svgLineWidthMultiplier',e);throw e;}},zoom:function(factor){try{this.ar('zoom',arguments);this.jM(factor);}catch(e){this.af('zoom',e);throw e;}},rotate:function(degreesClockwise){try{this.ar('rotate',arguments);this.xv(degreesClockwise);}catch(e){this.af('rotate',e);throw e;}},showPageRectangle:function(imageRectangle){try{this.ar('showPageRectangle',arguments,1);this.aqw(imageRectangle);}catch(e){this.af('showPageRectangle',e);throw e;}},showPagePointAtCenter:function(imagePoint){try{this.ar('showPagePointAtCenter',arguments,1);this.aqF(imagePoint);}catch(e){this.af('showPagePointAtCenter',e);throw e;}},mirror:function(){try{this.ar('mirror',arguments);this.aga();}catch(e){this.af('mirror',e);throw e;}},flip:function(){try{this.ar('flip',arguments);this.agk();}catch(e){this.af('flip',e);throw e;}},display:function(){try{this.ar('display',arguments);this.cn();}catch(e){this.af('display',e);throw e;}},openPage:function(parameters){try{this.ar('openPage',arguments,1);this.KM(parameters);}catch(e){this.af('openPage',e);throw e;}},closePage:function(){try{this.ar('closePage',arguments);this.OK();}catch(e){this.af('closePage',e);throw e;}},hideSelection:function(){try{this.ar('hideSelection',arguments);this.pb();}catch(e){this.af('hideSelection',e);throw e;}},showSelection:function(imageRectangle){try{this.ar('showSelection',arguments);this.apH(imageRectangle);}catch(e){this.af('showSelection',e);throw e;}},showEmptySelection:function(imagePoint){try{this.ar('showEmptySelection',arguments);this.BB(imagePoint);}catch(e){this.af('showEmptySelection',e);throw e;}},extendSelection:function(imagePoint){try{this.ar('extendSelection',arguments);this.yR(imagePoint);}catch(e){this.af('extendSelection',e);throw e;}},saveArtPage:function(onSave){try{this.ar('saveArtPage',arguments);this.Zn(onSave);}catch(e){this.af('saveArtPage',e);throw e;}},get_selectionPageRectangle:function(){try{var aW=this.wn();this.dm('get_selectionPageRectangle',arguments,aW);return aW;}catch(e){this.af('get_selectionPageRectangle',e);throw e;}},get_selectionWindowRectangle:function(){try{var aW=this.atA();this.dm('get_selectionWindowRectangle',arguments,aW);return aW;}catch(e){this.af('get_selectionWindowRectangle',e);throw e;}},get_selectionIsVisible:function(){try{var aW=this.xY();this.dm('get_selectionIsVisible',arguments,aW);return aW;}catch(e){this.af('get_selectionIsVisible',e);throw e;}},get_controlStateElementId:function(){try{var aW=this.arv();this.dm('get_controlStateElementId',arguments,aW);return aW;}catch(e){this.af('get_controlStateElementId',e);throw e;}},set_controlStateElementId:function(value){try{this.ar('set_controlStateElementId',arguments);this.aqK(value);}catch(e){this.af('set_controlStateElementId',e);throw e;}},get_includeArtInPostBack:function(){try{var aW=this.asq();this.dm('get_includeArtInPostBack',arguments,aW);return aW;}catch(e){this.af('get_includeArtInPostBack',e);throw e;}},set_includeArtInPostBack:function(value){try{this.ar('set_includeArtInPostBack',arguments);this.aqB(value);}catch(e){this.af('set_includeArtInPostBack',e);throw e;}},get_artPage:function(){try{var aW=this.fM();this.dm('get_artPage',arguments,aW);return aW;}catch(e){this.af('get_artPage',e);throw e;}},set_artPage:function(value){try{this.ar('set_artPage',arguments);this.mC(value);}catch(e){this.af('set_artPage',e);throw e;}},get_documentArtPage:function(){try{var aW=this.QI();this.dm('get_documentArtPage',arguments,aW);return aW;}catch(e){this.af('get_documentArtPage',e);throw e;}},set_documentArtPage:function(value){try{this.ar('set_documentArtPage',arguments);this.HX(value);}catch(e){this.af('set_documentArtPage',e);throw e;}},get_transientArtPage:function(){try{var aW=this.lJ();this.dm('get_transientArtPage',arguments,aW);return aW;}catch(e){this.af('get_transientArtPage',e);throw e;}},set_transientArtPage:function(value){try{this.ar('set_transientArtPage',arguments);this.CT(value);}catch(e){this.af('set_transientArtPage',e);throw e;}},get_imageHandlerUrl:function(){try{var aW=this.uU();this.dm('get_imageHandlerUrl',arguments,aW);return aW;}catch(e){this.af('get_imageHandlerUrl',e);throw e;}},set_imageHandlerUrl:function(value){try{this.ar('set_imageHandlerUrl',arguments);this.Vg(value);}catch(e){this.af('set_imageHandlerUrl',e);throw e;}},get_resourcePath:function(){try{var aW=this.uB();this.dm('get_resourcePath',arguments,aW);return aW;}catch(e){this.af('get_resourcePath',e);throw e;}},set_resourcePath:function(J){try{this.ar('set_resourcePath',arguments);this.It(J);}catch(e){this.af('set_resourcePath',e);throw e;}},get_contextMenuLanguageDictionary:function(){try{var aW=this.hQ();this.dm('get_contextMenuLanguageDictionary',arguments,aW);return aW;}catch(e){this.af('get_contextMenuLanguageDictionary',e);throw e;}},set_contextMenuLanguageDictionary:function(J){try{this.ar('set_contextMenuLanguageDictionary',arguments);this.aqY(J);}catch(e){this.af('set_contextMenuLanguageDictionary',e);throw e;}},get_textRequired:function(){try{var aW=this.ly();this.dm('get_textRequired',arguments,aW);return aW;}catch(e){this.af('get_textRequired',e);throw e;}},set_textRequired:function(J){try{this.ar('set_textRequired',arguments);this.GR(J);}catch(e){this.af('set_textRequired',e);throw e;}},get_textPage:function(){try{var aW=this.dp();this.dm('get_textPage',arguments,aW);return aW;}catch(e){this.af('get_textPage',e);throw e;}},get_textSelectionIsVisible:function(){try{var aW=this.FT();this.Cd('textSelectionIsVisible',arguments,aW,1);return aW;}catch(e){this.af('textSelectionIsVisible',e);throw e;}},getSelectedText:function(){try{var aW=this.CJ();this.Cd('getSelectedText',arguments,aW,1);return aW;}catch(e){this.af('getSelectedText',e);throw e;}},get_requireRequestsOptimize:function(){try{var aW=this.yf();this.dm('get_requireRequestsOptimize',arguments,aW);return aW;}catch(e){this.af('yf',e);throw e;}},set_requireRequestsOptimize:function(value){try{this.ar('set_requireRequestsOptimize',arguments);this.Iv(value);}catch(e){this.af('set_requireRequestsOptimize',e);throw e;}},get_magnifierMagnification:function(){try{var aW=this.auE();this.dm('get_magnifierMagnification',arguments,aW);return aW;}catch(e){this.af('get_magnifierMagnification',e);throw e;}},set_magnifierMagnification:function(value){try{this.ar('set_magnifierMagnification',arguments);this.aoB(value);}catch(e){this.af('set_magnifierMagnification',e);throw e;}},get_magnifierWidth:function(){try{var aW=this.atX();this.dm('get_magnifierWidth',arguments,aW);return aW;}catch(e){this.af('get_magnifierWidth',e);throw e;}},set_magnifierWidth:function(value){try{this.ar('set_magnifierWidth',arguments);this.apj(value);}catch(e){this.af('set_magnifierWidth',e);throw e;}},get_magnifierHeight:function(){try{var aW=this.auC();this.dm('get_magnifierHeight',arguments,aW);return aW;}catch(e){this.af('get_magnifierHeight',e);throw e;}},set_magnifierHeight:function(value){try{this.ar('set_magnifierHeight',arguments);this.anZ(value);}catch(e){this.af('set_magnifierHeight',e);throw e;}},get_magnifierXOffset:function(){try{var aW=this.MK();this.dm('get_magnifierXOffset',arguments,aW);return aW;}catch(e){this.af('get_magnifierXOffset',e);throw e;}},set_magnifierXOffset:function(value){try{this.ar('set_magnifierXOffset',arguments);this.XM(value);}catch(e){this.af('set_magnifierXOffset',e);throw e;}},get_magnifierYOffset:function(){try{var aW=this.NY();this.dm('get_magnifierYOffset',arguments,aW);return aW;}catch(e){this.af('get_magnifierYOffset',e);throw e;}},set_magnifierYOffset:function(value){try{this.ar('set_magnifierYOffset',arguments);this.Wv(value);}catch(e){this.af('set_magnifierYOffset',e);throw e;}},showMagnifier:function(windowPoint){try{this.ar('showMagnifier',arguments,1);this.aqO(windowPoint);}catch(e){this.af('showMagnifier',e);throw e;}},hideMagnifier:function(){try{this.ar('hideMagnifier',arguments);this.aCR();}catch(e){this.af('hideMagnifier',e);throw e;}},get_markHandleSize:function(){try{var aW=this.Yn();this.dm('get_markHandleSize',arguments,aW);return aW;}catch(e){this.af('get_markHandleSize',e);throw e;}},set_markHandleSize:function(value){try{this.ar('set_markHandleSize',arguments);this.WO(value);}catch(e){this.af('set_markHandleSize',e);throw e;}},get_markHandleMode:function(){try{var aW=this.As();this.dm('get_markHandleMode',arguments,aW);return aW;}catch(e){this.af('get_markHandleMode',e);throw e;}},set_markHandleMode:function(value){try{this.ar('set_markHandleMode',arguments);this.Ku(value);}catch(e){this.af('set_markHandleMode',e);throw e;}},get_mouseTool:function(){try{var aW=this.Zj();this.dm('get_mouseTool',arguments,aW);return aW;}catch(e){this.af('get_mouseTool',e);throw e;}},set_mouseTool:function(value){try{this.ar('set_mouseTool',arguments);this.JS(value);}catch(e){this.af('set_mouseTool',e);throw e;}},get_presentationQuality:function(){try{var aW=this.atm();this.dm('get_presentationQuality',arguments,aW);return aW;}catch(e){this.af('get_presentationQuality',e);throw e;}},set_presentationQuality:function(value){try{this.ar('set_presentationQuality',arguments);this.aqz(value);}catch(e){this.af('set_presentationQuality',e);throw e;}},get_scrollBars:function(){try{var aW=this.auI();this.dm('get_scrollBars',arguments,aW);return aW;}catch(e){this.af('get_scrollBars',e);throw e;}},set_scrollBars:function(value){try{this.ar('set_scrollBars',arguments);this.aqu(value);}catch(e){this.af('set_scrollBars',e);throw e;}},get_imGearPage:function(){try{var aW=this.np();this.dm('get_imGearPage',arguments,aW);return aW;}catch(e){this.af('get_imGearPage',e);throw e;}},set_imGearPage:function(value){try{this.ar('set_imGearPage',arguments);this.Cj(value);}catch(e){this.af('set_imGearPage',e);throw e;}},get_serviceResponseTimeout:function(){try{var aW=this.jJ();this.dm('get_serviceResponseTimeout',arguments,aW);return aW;}catch(e){this.af('get_serviceResponseTimeout',e);throw e;}},set_serviceResponseTimeout:function(value){try{this.ar('set_serviceResponseTimeout',arguments);this.vD(value);}catch(e){this.af('set_serviceResponseTimeout',e);throw e;}},get_currentTextIndex:function(){try{var aW=this.BV();this.dm('get_currentTextIndex',arguments,aW);return aW;}catch(e){this.af('get_currentTextIndex',e);throw e;}},get_cursor:function(){try{var aW=this.atV();this.dm('get_cursor',arguments,aW);return aW;}catch(e){this.af('get_cursor',e);throw e;}},set_cursor:function(value){try{this.ar('set_cursor',arguments);this.aqR(value);}catch(e){this.af('set_cursor',e);throw e;}},get_encryption:function(){try{var aW=this.jx();this.dm('get_encryption',arguments,aW);return aW;}catch(e){this.af('get_encryption',e);throw e;}},set_encryption:function(value){try{this.ar('set_encryption',arguments);this.mG(value);}catch(e){this.af('set_encryption',e);throw e;}},transformPagePointToWindow:function(imagePoint,constrainResultToWindow){try{var aW=this.aoq(imagePoint,constrainResultToWindow);this.Cd('transformPagePointToWindow',arguments,aW,1);return aW;}catch(e){this.af('transformPagePointToWindow',e);throw e;}},transformWindowPointToPage:function(windowPoint,constrainResultToImage){try{var aW=this.OT(windowPoint,constrainResultToImage);this.Cd('transformWindowPointToPage',arguments,aW,1);return aW;}catch(e){this.af('transformWindowPointToPage',e);throw e;}},transformPagePointToTextIndex:function(pagePoint){try{var aW=this.Go(pagePoint);this.Cd('transformPagePointToTextIndex',arguments,aW,1);return aW;}catch(e){this.af('transformPagePointToTextIndex',e);throw e;}},removeAllHighlights:function(){try{this.ar('removeAllHighlights',arguments);this.US();}catch(e){this.af('removeAllHighlights',e);throw e;}},showTextSelection:function(indexOfFirstCharacter,length){try{this.ar('showTextSelection',arguments);this.Ja(indexOfFirstCharacter,length);}catch(e){this.af('showTextSelection',e);throw e;}},showEmptyTextSelection:function(textIndex){try{this.ar('showEmptyTextSelection',arguments);this.zo(textIndex);}catch(e){this.af('showEmptyTextSelection',e);throw e;}},extendTextSelection:function(textIndex){try{this.ar('extendTextSelection',arguments);this.tW(textIndex);}catch(e){this.af('extendTextSelection',e);throw e;}},initializeViewControllers:function(showArtContextMenu){try{this.ar('initializeViewControllers',arguments);this.apv(showArtContextMenu);}catch(e){this.af('initializeViewControllers',e);throw e;}},get_autoUpdate:function(){try{var aW=this.yt();this.dm('get_autoUpdate',arguments,aW);return aW;}catch(e){this.af('get_autoUpdate',e);throw e;}},set_autoUpdate:function(value){try{this.ar('set_autoUpdate',arguments);this.Sv(value);}catch(e){this.af('set_autoUpdate',e);throw e;}}};module.exports=akB;},{}],115:[function(require,module,exports){var cR=require('../../IPCC.Util').regClass;var nK=require('./FitType');var MB=function(){return this;};MB.prototype={documentIdentifier:'',encodedDocumentIdentifier:'',pageNumber:0,viewFitType:nK.FullImage,viewRectangle:null,viewRotationDegreesClockwise:0,viewMirror:false,viewZoomFactor:undefined,encryption:false};MB.registerClass=cR;MB.registerClass('IPCC.Web.UI.PageViewState');module.exports=MB;},{"../../IPCC.Util":29,"./FitType":75}],116:[function(require,module,exports){var cR=require('../../IPCC.Util').regClass;var wd=function(x,y){this.x=x;this.y=y;return this;};wd.prototype={toString:function(){return 'Point('+this.x+', '+this.y+')';},constrain:function(rectangle){this.x=Math.min(Math.max(this.x,rectangle.x),rectangle.x+rectangle.width);this.y=Math.min(Math.max(this.y,rectangle.y),rectangle.y+rectangle.height);}};wd.registerClass=cR;wd.registerClass('IPCC.Web.UI.Point');module.exports=wd;},{"../../IPCC.Util":29}],117:[function(require,module,exports){var cR=require('../../IPCC.Util').regClass;var LM=function(){var bo=[];var ai=new IPCC.Web.UI.je();this.awY=function(ay){var K=new IPCC.Web.UI.PointEventArgs();K.point=ay;K.length=1;bo.push(new IPCC.Web.UI.Point(ay.x,ay.y));K.index=bo.length-1;this.bU('pointAdded',K);};this.axc=function(adN){var K=new IPCC.Web.UI.PointEventArgs();K.index=bo.length;K.length=adN.get_length();function lk(ay){bo.push(ay);};adN.forEach(lk,{});if(K.length>0){this.bU('pointAdded',K);}};this.na=function(hN,df){var XU=[].concat(bo);var C;for(C=0;C<XU.length;C++){hN.call(df,new IPCC.Web.UI.Point(XU[C].x,XU[C].y),C,this);}};this.zd=function(bv){ky(bv);var fg=bo[bv];return new IPCC.Web.UI.Point(fg.x,fg.y);};this.aqV=function(bv,ay){ky(bv);IPCC.bw.ay(ay,'point');var KW=bo[bv];if(KW.x===ay.x&&KW.y===ay.y){return;}KW.x=ay.x;KW.y=ay.y;var K=new IPCC.Web.UI.PointEventArgs();K.point=ay;K.index=bv;K.length=1;this.bU('pointChanged',K);};this.fC=function(){return bo.length;};this.aEM=function(bv){ky(bv);var K=new IPCC.Web.UI.PointEventArgs();K.point=bo[bv];K.index=bv;K.length=1;bo.splice(bv,1);this.bU('pointRemoved',K);};this.aAD=function(){if(bo.length<1){return;}var K=new IPCC.Web.UI.PointEventArgs();K.index=0;K.length=bo.length;bo=[];this.bU('pointRemoved',K);};this.aeH=function(et,fN){if(et===0&&fN===0){return;}IPCC.bw.gr(et,'deltaX');IPCC.bw.gr(fN,'deltaY');var C;for(C=0;C<bo.length;C++){bo[C].x+=et;bo[C].y+=fN;}var K=new IPCC.Web.UI.PointEventArgs();K.index=0;K.length=bo.length;this.bU('pointChanged',K);};this.vR=function(){if(bo.length<1){return new IPCC.Web.UI.Rectangle(0,0,0,0);}var C,hJ=bo[0].x,it=bo[0].x,_top=bo[0].y,jT=bo[0].y;for(C=1;C<bo.length;C++){var ay=bo[C];hJ=Math.min(hJ,ay.x);it=Math.max(it,ay.x);_top=Math.min(_top,ay.y);jT=Math.max(jT,ay.y);}return new IPCC.Web.UI.Rectangle(hJ,_top,it-hJ,jT-_top);};function ky(bv){if(bv>bo.length-1||(bv<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bv);}};this.avD=function(F){ai.addHandler('pointAdded',F);};this.axk=function(F){ai.removeHandler('pointAdded',F);};this.avC=function(F){ai.addHandler('pointChanged',F);};this.azF=function(F){ai.removeHandler('pointChanged',F);};this.avy=function(F){ai.addHandler('pointRemoved',F);};this.aAT=function(F){ai.removeHandler('pointRemoved',F);};this.bU=function(cE,K){var F=ai.getHandler(cE);if(F!==null){F(this,K);}};return this;};LM.prototype={toString:function(){return 'PointCollection with '+this.get_length()+' points';},addPoint:function(point){this.awY(point);},addPoints:function(pointCollection){this.axc(pointCollection);},forEach:function(method,context){this.na(method,context);},getPoint:function(index){return this.zd(index);},setPoint:function(index,point){this.aqV(index,point);},get_length:function(){return this.fC();},removePoint:function(index){this.aEM(index);},removeAllPoints:function(){this.aAD();},moveAllPoints:function(deltaX,deltaY){this.aeH(deltaX,deltaY);},add_pointAdded:function(handler){this.avD(handler);},remove_pointAdded:function(handler){this.axk(handler);},add_pointChanged:function(handler){this.avC(handler);},remove_pointChanged:function(handler){this.azF(handler);},add_pointRemoved:function(handler){this.avy(handler);},remove_pointRemoved:function(handler){this.aAT(handler);}};LM.registerClass=cR;LM.registerClass('IPCC.Web.UI.PointCollection');module.exports=LM;},{"../../IPCC.Util":29}],118:[function(require,module,exports){var cR=require('../../IPCC.Util').regClass;var La=function(){return this;};La.registerClass=cR;La.prototype={};La.registerClass('IPCC.Web.UI.PointEventArgs');module.exports=La;},{"../../IPCC.Util":29}],119:[function(require,module,exports){var cR=require('../../IPCC.Util').regClass;var MY=function(x,y,width,height){if(width<0){x+=width;width= -width;}if(height<0){y+=height;height= -height;}this.x=x;this.y=y;this.width=width;this.height=height;return this;};MY.prototype={intersect:function(rectangle){var am=Math.max(this.x,rectangle.x);var be=Math.min(this.x+this.width,rectangle.x+rectangle.width)-am;var dv=Math.max(this.y,rectangle.y);var ba=Math.min(this.y+this.height,rectangle.y+rectangle.height)-dv;if(be<=0||ba<=0){am=dv=be=ba=0;}this.x=am;this.y=dv;this.width=be;this.height=ba;},union:function(rectangle){var hJ=Math.min(this.x,rectangle.x);var _top=Math.min(this.y,rectangle.y);var it=Math.max(this.x+this.width,rectangle.x+rectangle.width);var jT=Math.max(this.y+this.height,rectangle.y+rectangle.height);this.x=hJ;this.y=_top;this.width=it-hJ;this.height=jT-_top;return this;},scale:function(VX,Sk){Sk=Sk||VX;var hJ=this.x*VX;var _top=this.y*Sk;var be=this.width*VX;var ba=this.height*Sk;this.x=hJ;this.y=_top;this.width=be;this.height=ba;return this;},toString:function(){return 'Rectangle('+this.x+', '+this.y+', '+this.width+', '+this.height+')';},contains:function(point){return point.x>=this.x&&point.y>=this.y&&point.x<this.x+this.width&&point.y<this.y+this.height;},clone:function(){return new IPCC.Web.UI.Rectangle(this.x,this.y,this.width,this.height);},equals:function(other){return this.x===other.x&&this.y===other.y&&this.width===other.width&&this.height===other.height;}};MY.registerClass=cR;MY.registerClass('IPCC.Web.UI.Rectangle');module.exports=MY;},{"../../IPCC.Util":29}],120:[function(require,module,exports){var dW=require('../../IPCC.Util').regEnum;var Sf=function(){};Sf.registerEnum=dW;Sf.prototype={None:0,Both:3,Auto:4};Sf.registerEnum('IPCC.Web.UI.ScrollBars',false);module.exports=Sf;},{"../../IPCC.Util":29}],121:[function(require,module,exports){var cR=require('../../IPCC.Util').regClass;var Na=function(){return this;};Na.registerClass=cR;Na.prototype={};Na.registerClass('IPCC.Web.UI.TextSelectedEventArgs');module.exports=Na;},{"../../IPCC.Util":29}],122:[function(require,module,exports){var zQ=require('./../../Type');var SZ={aDQ:1,ImGearDocumentHyperlink:require('./ImGearDocumentHyperlink'),ImGearTextCharacter:require('./ImGearTextCharacter'),ImGearTextCharacterCollection:require('./ImGearTextCharacterCollection'),ImGearHyperlinkCollection:require('./ImGearHyperlinkCollection'),ImGearHyperlinkPage:require('./ImGearHyperlinkPage'),ImGearTextPage:require('./ImGearTextPage'),ImGearTextSection:require('./ImGearTextSection'),ImGearTextSectionCollection:require('./ImGearTextSectionCollection'),ImGearPageCountStatus:require('./ImGearPageCountStatus'),ImGearPageCreateArgs:require('./ImGearPageCreateArgs'),ImGearPage:require('./ImGearPage'),ImGearPageEventArgs:require('./ImGearPageEventArgs'),ImGearPageCollection:require('./ImGearPageCollection'),ImGearDocumentCreateArgs:require('./ImGearDocumentCreateArgs'),ImGearDocument:require('./ImGearDocument'),ImGearDocumentEventArgs:require('./ImGearDocumentEventArgs'),ImGearDocumentCollection:require('./ImGearDocumentCollection'),ImGearPageOpenFailedEventArgs:require('./ImGearPageOpenFailedEventArgs'),ImGearExceptions:require('./ImGearExceptions'),ImGearException:require('./ImGearExceptions').Cf,ImGearHttpException:require('./ImGearExceptions').Cb,ImGearArgumentException:require('./ImGearExceptions').wh,ImGearArgumentNullException:require('./ImGearExceptions').BW,ImGearArgumentOutOfRangeException:require('./ImGearExceptions').qF,ImGearArgumentTypeException:require('./ImGearExceptions').ImGearArgumentTypeException,ImGearArgumentUndefinedException:require('./ImGearExceptions').BX,ImGearInvalidOperationException:require('./ImGearExceptions').AY,ImGearNotImplementedException:require('./ImGearExceptions').BQ,ImGearParameterCountException:require('./ImGearExceptions').Ck,je:require('./ImGearEventHandlerList'),ImGearArtDataServices:require('./ImGearArtDataServices'),MouseButton:require('./MouseButton'),MouseTool:require('./MouseTool'),bS:require('./DomEvent'),DebugErrorLevel:require('./DebugErrorLevel'),DebugItemCause:require('./DebugItemCause'),PageView:require('./PageView'),PageViewState:require('./PageViewState'),ArtPage:require('./ArtPage'),Key:require('./Key'),FitType:require('./FitType'),ScrollBars:require('./ScrollBars'),Rectangle:require('./Rectangle'),Point:require('./Point'),PointCollection:require('./PointCollection'),LogItemEventArgs:require('./LogItemEventArgs'),MouseEventArgs:require('./MouseEventArgs'),PointEventArgs:require('./PointEventArgs'),CommentEventArgs:require('./CommentEventArgs'),TextSelectedEventArgs:require('./TextSelectedEventArgs'),HighLightType:require('./HighLightType'),LineStyle:require('./LineStyle'),LineHeadType:require('./LineHeadType'),CalloutType:require('./CalloutType'),FontStyle:require('./FontStyle'),HorizontalAlignment:require('./HorizontalAlignment'),VerticalAlignment:require('./VerticalAlignment'),Orientation:require('./Orientation'),MarkHandleMode:require('./MarkHandleMode'),MarkInteractionMode:require('./MarkInteractionMode'),MarkType:require('./MarkType'),MarkEventArgs:require('./MarkEventArgs'),MarkCollection:require('./MarkCollection'),Mark:require('./Mark'),Comment:require('./Comment'),Conversation:require('./Conversation'),Data:require('./Data'),Yo:require('./highlightItem')};zQ.registerNamespace('IPCC.Web.UI');module.exports=SZ;},{"./../../Type":57,"./ArtPage":66,"./CalloutType":67,"./Comment":68,"./CommentEventArgs":69,"./Conversation":70,"./Data":71,"./DebugErrorLevel":72,"./DebugItemCause":73,"./DomEvent":74,"./FitType":75,"./FontStyle":76,"./HighLightType":77,"./HorizontalAlignment":78,"./ImGearArtDataServices":79,"./ImGearDocument":80,"./ImGearDocumentCollection":81,"./ImGearDocumentCreateArgs":82,"./ImGearDocumentEventArgs":83,"./ImGearDocumentHyperlink":84,"./ImGearEventHandlerList":85,"./ImGearExceptions":86,"./ImGearHyperlinkCollection":87,"./ImGearHyperlinkPage":88,"./ImGearPage":89,"./ImGearPageCollection":90,"./ImGearPageCountStatus":91,"./ImGearPageCreateArgs":92,"./ImGearPageEventArgs":93,"./ImGearPageOpenFailedEventArgs":94,"./ImGearTextCharacter":95,"./ImGearTextCharacterCollection":96,"./ImGearTextPage":97,"./ImGearTextSection":98,"./ImGearTextSectionCollection":99,"./Key":100,"./LineHeadType":101,"./LineStyle":102,"./LogItemEventArgs":103,"./Mark":104,"./MarkCollection":105,"./MarkEventArgs":106,"./MarkHandleMode":107,"./MarkInteractionMode":108,"./MarkType":109,"./MouseButton":110,"./MouseEventArgs":111,"./MouseTool":112,"./Orientation":113,"./PageView":114,"./PageViewState":115,"./Point":116,"./PointCollection":117,"./PointEventArgs":118,"./Rectangle":119,"./ScrollBars":120,"./TextSelectedEventArgs":121,"./VerticalAlignment":123,"./highlightItem":124}],123:[function(require,module,exports){var dW=require('../../IPCC.Util').regEnum;var PN=function(){};PN.registerEnum=dW;PN.prototype={Top:0,Center:1,Bottom:2};PN.registerEnum('IPCC.Web.UI.VerticalAlignment',false);module.exports=PN;},{"../../IPCC.Util":29}],124:[function(require,module,exports){var Yo=function(){this.fl=undefined;this.dM=[];this.aV={};};module.exports=Yo;},{}],125:[function(require,module,exports){var SZ=require('././UI/UI');var V=require('./../IPCC.Util');var Ap=require('./Cipher');var aBw=require('./Hash');var gI=require('./Codec');var Dr=require('./Mode');var hh={};hh.azu=[];hh.xQ=function(am){return!isNaN(am-0)&&am!==null;};hh.zU=function(rJ,dn){return IPCC.Web.akZ(false,arguments);};hh.amy=function(rJ,dn){return IPCC.Web.akZ(true,arguments);};hh.akZ=function(useLocale,dn){var ad='';var rJ=dn[0];for(var C=0;;){var fq=rJ.indexOf('{',C);var mi=rJ.indexOf('}',C);if((fq<0)&&(mi<0)){ad+=rJ.slice(C);break;}if((mi>0)&&((mi<fq)||(fq<0))){if(rJ.charAt(close+1)!=='}'){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string contains an unmatched opening or closing brace.');}ad+=rJ.slice(C,mi+1);C=mi+2;continue;}ad+=rJ.slice(C,fq);C=fq+1;if(rJ.charAt(C)==='{'){ad+='{';C++;continue;}if(mi<0){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string contains an unmatched opening or closing brace.');}var NK=rJ.substring(C,mi);var Qb=NK.indexOf(':');var amL=parseInt((Qb<0)?NK:NK.substring(0,Qb),10)+1;if(isNaN(amL)){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string is invalid.');}var XC=(Qb<0)?'':NK.substring(Qb+1);var sF=dn[amL];if(typeof(sF)==="undefined"||sF===null){sF='';}if(sF.toFormattedString){ad+=sF.toFormattedString(XC);}else if(useLocale&&sF.amy){ad+=sF.amy(XC);}else if(sF.format){ad+=sF.format(XC);}else{ad+=sF.toString();}C=mi+1;}return ad;};hh.aIc=function(CY){var sv=CY.length;var wQ=Math.ceil(sv/4),LC;var fu=[];fu.length=wQ;for(var jG=0,hi=0;jG<wQ;jG++,hi+=4){fu[jG]=((CY[hi]&0xff)<<24)+((CY[hi+1]&0xff)<<16)+((CY[hi+2]&0xff)<<8)+(CY[hi+3]&0xff);}if(hi<sv){LC[jG]=0;for(var yB=0;hi<sv;hi++,yB++){LC[jG]+=(CY[hi++]&0xff)<<(3-yB);}}return fu;};hh.ape=function(aO){var sv=aO.length;var wQ=Math.ceil(sv/4);var fu=[];fu.length=wQ;for(var jG=0,hi=0;jG<wQ;jG++,hi+=4){fu[jG]=((aO.charCodeAt(hi)&0xff)<<24)+((aO.charCodeAt(hi+1)&0xff)<<16)+((aO.charCodeAt(hi+2)&0xff)<<8)+((aO.charCodeAt(hi+3)&0xff));}if(hi<sv){fu[jG]=0;for(var yB=0;hi<sv;hi++,yB++){fu[jG]+=(aO.charCodeAt(hi++)&0xff)<<(3-yB);}}return fu;};hh.aId=function(AR){var Ej=new Uint8Array(AR);var sv=Ej.length;var wQ=Math.ceil(sv/4),LC;var fu=[];fu.length=wQ;for(var jG=0,hi=0;jG<wQ;jG++,hi+=4){fu[jG]=(Ej[hi]<<24)+(Ej[hi+1]<<16)+(Ej[hi+2]<<8)+Ej[hi+3];}if(hi<sv){fu[jG]=0;for(var yB=0;hi<sv;hi++,yB++){LC[jG]+=Ej[hi++]<<(3-yB);}}return fu;};hh.IX=function(fu,jq){var au=[0x116D0662,0xA8BB5E38,0x4D7F93C8,0xA61D2F6B,0xADB1384D,0x3D4AC7FB,0x4E6EB64E,0x6F4D7E8F];return IPCC.Web.Df(fu,au,jq);};hh.Df=function(fu,au,jq){try{var ayw=new IPCC.Web.Ap.amS(au);var cT=IPCC.Web.Dr.arN.Ts(ayw,fu,jq);return cT;}catch(bx){return;}};hh.GP=function(Ff){return IPCC.Web.ape(Ff.responseText);};hh.PA=function(){var BZ=new Date();var azE=new Date(BZ.getYear(),BZ.getMonth(),BZ.getDate(),BZ.getHours(),BZ.getMinutes(),BZ.getSeconds());return(+azE);};hh.jk=function(dJ,elt){var len=dJ.length>>>0;var from=Number(arguments[2])||0;from=(from<0)?Math.ceil(from):Math.floor(from);if(from<0){from+=len;}for(;from<len;from++){if(from in dJ&&dJ[from]===elt){return from;}}return-1;};hh.aDA=function aEZ(){var kP=0xefc8249d;var sh=function(cT){cT=cT.toString();for(var C=0;C<cT.length;C++){kP+=cT.charCodeAt(C);var eg=0.02519603282416938*kP;kP=eg>>>0;eg-=kP;eg*=kP;kP=eg>>>0;eg-=kP;kP+=eg*0x100000000;}return(kP>>>0)*2.3283064365386963e-10;};sh.Af='Mash 0.9';return sh;};hh.ami=function aFv(){return(function(dn){var Bb=0;var Co=0;var zj=0;var fE=1;if(dn.length===0){dn=[+new Date()];}var sh=IPCC.Web.aDA();Bb=sh(' ');Co=sh(' ');zj=sh(' ');for(var C=0;C<dn.length;C++){Bb-=sh(dn[C]);if(Bb<0){Bb+=1;}Co-=sh(dn[C]);if(Co<0){Co+=1;}zj-=sh(dn[C]);if(zj<0){zj+=1;}}sh=null;var xe=function(){var rI=2091639*Bb+fE*2.3283064365386963e-10;Bb=Co;Co=zj;zj=rI-(fE=rI|0);return zj;};xe.agz=function(){return xe()*0x100000000;};xe.aGE=function(){return xe()+(xe()*0x200000|0)*1.1102230246251565e-16;};xe.Af='Alea 0.9';xe.dn=dn;return xe;}(Array.prototype.slice.call(arguments)));};hh.od=function(){if(this.amk===undefined){var AL=document.createElement("div");AL.style.overflow='scroll';AL.style.position='absolute';AL.style.top='-9999px';document.body.appendChild(AL);this.amk=AL.offsetWidth-AL.clientWidth;document.body.removeChild(AL);}return this.amk;};hh.EQ={ada:function(hm){var Kg=[];var YB=IPCC.Web.ami().agz;for(var C=0;C<hm;C++){Kg.push(YB());}return Kg;},aaN:function(hm,ft){var Kg=[];var YB=IPCC.Web.ami(ft).agz;for(var C=0;C<hm;C++){Kg.push(YB());}return Kg;},aIa:function(jq,aAk){var hm,ik=true,fG="",JG,abB,ZJ,QE,LW,akQ;for(hm=0;hm<4;hm++){if(!ik){fG+='-';}else{ik=false;}LW=0;for(JG=0;JG<4;JG++){QE=hm*32+JG*8;abB=IPCC.Web.gz.YM(jq,QE,4);fG+=abB.toString(16).toUpperCase();ZJ=IPCC.Web.gz.YM(jq,QE+4,4);fG+=ZJ.toString(16).toUpperCase();akQ=(abB*16+ZJ+IPCC.Web.gz.YM(IPCC.Web.au,QE,8))%256;LW=LW|(akQ<<(24-(JG*8)));}aAk.azu[hm]=LW;}return fG;}};hh.au=[0x4B1C9AAE,0x25AE1AB6,0x48E3F1C8,0x8D61FC1A];hh.gz={Sd:function(dk,sq,ajn){dk=IPCC.Web.gz.aiF(dk.slice(sq/32),32-(sq&31)).slice(1);return(ajn===undefined)?dk:IPCC.Web.gz.OY(dk,ajn-sq);},YM:function(dk,sq,QN){var am,So=Math.floor((-sq-QN)&31);if((sq+QN-1^sq)& -32){am=(dk[sq/32|0]<<(32-So))^(dk[sq/32+1|0]>>>So);}else{am=dk[sq/32|0]>>>So;}return am&((1<<QN)-1);},Ud:function(zw,tC){if(zw.length===0||tC.length===0){return zw.concat(tC);}var jl=zw[zw.length-1],sf=IPCC.Web.gz.aaf(jl);if(sf===32){return zw.concat(tC);}else{return IPCC.Web.gz.aiF(tC,sf,jl|0,zw.slice(0,zw.length-1));}},wR:function(dk){var qK=dk.length,am;if(qK===0){return 0;}am=dk[qK-1];return(qK-1)*32+IPCC.Web.gz.aaf(am);},OY:function(dk,cI){if(dk.length*32<cI){return dk;}dk=dk.slice(0,Math.ceil(cI/32));var qK=dk.length;cI=cI&31;if(qK>0&&cI){dk[qK-1]=IPCC.Web.gz.Km(cI,dk[qK-1]&0x80000000>>(cI-1),1);}return dk;},Km:function(cI,am,eH){if(cI===32){return am;}return(eH?am|0:am<<(32-cI))+cI*0x10000000000;},aaf:function(am){return Math.round(am/0x10000000000)||32;},auh:function(dk,fp){if(IPCC.Web.gz.wR(dk)!==IPCC.Web.gz.wR(fp)){return false;}var am=0,C;for(C=0;C<dk.length;C++){am|=dk[C]^fp[C];}return(am===0);},aiF:function(dk,sf,JL,fG){var C,acW=0,TE;if(fG===undefined){fG=[];}for(;sf>=32;sf-=32){fG.push(JL);JL=0;}if(sf===0){return fG.concat(dk);}for(C=0;C<dk.length;C++){fG.push(JL|dk[C]>>>sf);JL=dk[C]<<(32-sf);}acW=dk.length?dk[dk.length-1]:0;TE=IPCC.Web.gz.aaf(acW);fG.push(IPCC.Web.gz.Km(sf+TE&31,(sf+TE>32)?JL:fG.pop(),1));return fG;},agw:function(am,dv){return[am[0]^dv[0],am[1]^dv[1],am[2]^dv[2],am[3]^dv[3]];}};hh.Ap=Ap;hh.nF=aBw;hh.gI=gI;hh.Dr=Dr;hh.afj=V.afj;hh.UI=SZ;hh.regEnum=V.regEnum;hh.regClass=V.regClass;module.exports=hh;},{"./../IPCC.Util":29,"././UI/UI":122,"./Cipher":62,"./Codec":63,"./Hash":64,"./Mode":65}],126:[function(require,module,exports){var ZR=function ImageGearIndexOf(array,item,start){if(typeof(item)==="undefined"){return-1;}var length=array.length;if(length!==0){start=start-0;if(isNaN(start)){start=0;}else{if(isFinite(start)){start=start-(start%1);}if(start<0){start=Math.max(0,length+start);}}for(var i=start;i<length;i++){if((typeof(array[i])!=="undefined")&&(array[i]===item)){return i;}}}return-1;};module.exports=ZR;},{}],127:[function(require,module,exports){var aFN=function(Iw,aF){var RN=new IPCC.PageList(Iw);if(aF){IPCC.Ld(RN,aF);}RN.wO(Iw);RN.initialize();return RN;};module.exports=aFN;},{}],128:[function(require,module,exports){var aGw=function(Iw,Xm){var oE=Xm.handleTouchEvents!==false;var Qw=new IPCC.Web.UI.PageView(Iw,oE);if(Xm){IPCC.Ld(Qw,Xm);}Qw.wO(Iw);Qw.initialize();return Qw;};module.exports=aGw;},{}],129:[function(require,module,exports){var qN={zoomInMenuItem:"Zoom In 25%",zoomOutMenuItem:"Zoom Out 25%",fullImageMenuItem:"Full Image",fullWidthMenuItem:"Full Width",fullHeightMenuItem:"Full Height",oneToOneRatioMenuItem:"1 to 1 Ratio",actualSizeMenuItem:"Actual Size",rotateRightMenuItem:"Rotate Clockwise",rotateLeftMenuItem:"Rotate Counter-Clockwise",mirrorHorizontalMenuItem:"Mirror Horizontal",mirrorVerticalMenuItem:"Mirror Vertical",panToolMenuItem:"Pan Tool",areaSelectionToolMenuItem:"Area Selection Tool",zoomRectangleToolMenuItem:"Zoom Rectangle Tool",flyingMagnifierToolMenuItem:"Flying Magnifier Tool",createTextMarkToolMenuItem:"Create Text Mark",createLineMarkToolMenuItem:"Create Line Mark",createPolygonMarkToolMenuItem:"Create Polygon Mark",createPolylineMarkToolMenuItem:"Create Polyline Mark",createRectangleMarkToolMenuItem:"Create Rectangle Mark",createEllipseMarkToolMenuItem:"Create Ellipse Mark",createFreehandMarkToolMenuItem:"Create Freehand Mark",editMarksToolMenuItem:"Edit Marks",runMarksToolMenuItem:"Run Marks",createStampMarkToolMenuItem:"Create Stamp Mark",createHighlightMarkToolMenuItem:"Create Highlight Mark",thicknessMenu:{item1:"1",item2:"2",item3:"3",item4:"4",item5:"5",item6:"6",item7:"7",item8:"8"},opacityMenu:{translucent:"Translucent (127)",opaque:"Opaque (255)"},calloutTypeMenu:{line:"Line",triangle:"Triangle"},borderThicknessMenuItem:"Border Thickness",borderColorMenuItem:"Border Color...",fillColorMenuItem:"Fill Color...",lineThicknessMenuItem:"Thickness",lineColorMenuItem:"Color...",fontMenuItem:"Font...",opacityMenuItem:"Opacity",calloutTypeMenuItem:"Callout Type",calloutVisibleMenuItem:"Callout Visible",moveToBackMenuItem:"Move to Back",moveBackwardMenuItem:"Move Backward",moveForwardMenuItem:"Move Forward",moveToFrontMenuItem:"Move to Front",deleteMarkMenuItem:"Delete Mark",zoomToFitMenuItem:"Zoom to Fit",orientationMenuItem:"Orientation",mouseToolsMenuItem:"Mouse Tools",rectangleMarkPropertiesMenuItem:"Properties",textMarkPropertiesMenuItem:"Properties",polygonMarkPropertiesMenuItem:"Properties",polylineMarkPropertiesMenuItem:"Properties",lineMarkPropertiesMenuItem:"Properties",markOrderingMenuItem:"Ordering",stampMarkPropertiesMenuItem:"Properties",selectColor:"Select Color",selectFont:"Select Font",ok:"OK",cancel:"CANCEL",red:"Red",green:"Green",blue:"Blue",font:"Font",size:"Size",italic:"Italic",bold:"Bold",underline:"Underline",strikeout:"Strikeout"};module.exports=qN;},{}],130:[function(require,module,exports){var Ld=function(ds,ll){var ta;for(var ap in ll){if(ll.hasOwnProperty(ap)){var aH=ll[ap];var aCV=ds["get_"+ap];var aiy=ds["set_"+ap];if(typeof(aiy)==='function'){aiy.apply(ds,[aH]);}else if(aH instanceof Array){ta=aCV.apply(ds);if(!(ta instanceof Array)){throw new new IPCC.Web.UI.ImGearInvalidOperationException(ap+" is not an Array property");}for(var C=0,aR=ta.length,qK=aH.length;C<qK;C++,aR++){ta[aR]=aH[C];}}}}};module.exports=Ld;},{}],131:[function(require,module,exports){"use strict";var amg=function(aM){if(aM instanceof PCCViewer.AjaxResponse){return aM;}else if(!(this instanceof PCCViewer.AjaxResponse)){return new PCCViewer.AjaxResponse(aM);}this.pN=new IPCC.V.pN(aM);this.status=this.pN.status;this.statusText=this.pN.statusText;this.responseText=this.pN.responseText;if(typeof this.pN.responseBody!=='undefined'){this.responseBody=this.pN.responseBody;}return this;};amg.prototype.getResponseHeader=function(Dg){return this.pN.getResponseHeader(Dg);};var GA=(function(){function atL(){return IPCC.V.extend({},IPCC.V.nB.gk);};function axC(gk){if(!(typeof gk==='undefined'||(typeof gk==='object'&&gk!==null&& !(gk instanceof Array)))){throw new Error('Headers should be an object or undefined.');}if(typeof gk==='object'){var arR=Object.keys(IPCC.V.ajX());Object.keys(gk).forEach(function(Dg){if(arR.indexOf(Dg)!== -1){throw new Error('Cannot overwrite the header "'+Dg+'".');}});}IPCC.V.nB.gk=IPCC.V.extend({},gk);return PCCViewer.Ajax;};function awX(){return IPCC.V.nB.KY;};function axq(hN){if(typeof hN!=='undefined'&&typeof hN!=='function'){throw new Error('Method should be a function or undefined.');}IPCC.V.nB.KY=hN;return PCCViewer.Ajax;};function fq(aF){var aC=PCCViewer.Deferred();if(!(typeof aF==='undefined'||(typeof aF==='object'&&aF!==null&& !(aF instanceof Array)))){throw new Error('Options should be an object or undefined.');}function ez(aM){if(!(aM instanceof PCCViewer.AjaxResponse)){aM=new PCCViewer.AjaxResponse(aM);}aC.resolve(aM);};function fz(ad){if(ad.response){ad.response=new PCCViewer.AjaxResponse(ad.response);}aC.reject(ad);};IPCC.V.nB.fq(aF).then(ez,fz);return aC.getPromise();};return{getHeaders:atL,setHeaders:axC,getOverrideMethod:awX,setOverrideMethod:axq,fq:fq,};})();if(Object.defineProperties){Object.defineProperties(GA,{"headers":{enumerable:true,get:function(){return GA.getHeaders();},set:function(gk){return GA.setHeaders(gk);}},"overrideMethod":{enumerable:true,get:function(){return GA.getOverrideMethod();},set:function(hN){return GA.setOverrideMethod(hN);}}});}module.exports={AjaxResponse:amg,Ajax:GA};},{}],132:[function(require,module,exports){var BurnRequest=function(aF){this.nX="";this.eR="";this.ki=0;this.pL="";this.eA="";this.rE=0;this.ge=false;this.qz=0;this.Vb="";this.pu=false;this.aC=PCCViewer.Deferred();this.bY=this.aC.getPromise();this.then=this.bY.then;this.aF=aF;this.eA=null;this.fi=undefined;this.sc=false;this.MG=null;PCCViewer.EventEmitter.extend(this);var T=this;if(aF.nR){var nR=new PCCViewer.Error(aF.nR.code,aF.nR.message);delete T.aF.nR;setTimeout(function(){T.trigger(PCCViewer.BurnRequest.EventType.BurnCancelled,{});T.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});T.eA=nR.code;T.aC.reject(nR);},0);}};BurnRequest.EventType={BurnProgress:"BurnProgress",BurnCompleted:"BurnCompleted",BurnFailed:"BurnFailed",BurnCancelled:"BurnCancelled",BurnWorkerCreated:"BurnWorkerCreated"};BurnRequest.prototype.cancel=function(){var T=this;this.pu=true;this.eA="User Cancelled";setTimeout(function(){T.trigger(PCCViewer.BurnRequest.EventType.BurnCancelled,{});T.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});T.aC.reject(new PCCViewer.Error("UserCancelled","User Cancelled"));},0);return this;};BurnRequest.prototype.getProgress=function(){return this.ki;};BurnRequest.prototype.getWorkerID=function(){return this.nX;};BurnRequest.prototype.getOptions=function(){return this.aF;};BurnRequest.prototype.getErrorCode=function(){return this.eA;};BurnRequest.prototype.getBurnedDocumentDownloadURL=function(){return this.MG;};BurnRequest.prototype.apK=function(jg){this.Vb=jg;};BurnRequest.prototype.Mv=function(fi){this.fi=fi;};BurnRequest.prototype.Tq=function(){var T=this;this.eA="Failure to generate Markup XML";setTimeout(function(){T.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});T.aC.reject(new PCCViewer.Error("MarkupXMLFail",T.eA));},0);return this;};BurnRequest.prototype.CF=function(){function ez(aM){var hk,ad;try{hk=aM.responseText;if(!hk){setTimeout(function(){T.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});T.aC.reject(new PCCViewer.Error("ResponseEmpty","Empty/invalid response from the server"));},0);T.sc=true;return;}else{ad=JSON.parse(hk);setTimeout(function(){aAZ(ad);},0);}}catch(e){setTimeout(function(){T.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});T.aC.reject(new PCCViewer.Error("BurnFailErrorCode","Burn process failed, error: "+e.message));},0);T.sc=true;return;}};function fz(ad){T.ge=false;var cQ=ad.response.status+" "+ad.response.statusText;setTimeout(function(){T.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});T.aC.reject(new PCCViewer.Error("StatusCode","Status Code "+cQ));},0);T.sc=true;return;};try{if(!this.Vb){throw new Error("XMl Markup data for burn is missing");}var T=this;var afZ=function(){var WE;if(!(/^[\x00-\x7F]*$/.test(T.fi.ac.get_documentIdentifier()))){WE=T.fi.aF.imageHandlerUrl+'/ViewingSession/e'+T.fi.aF.documentID+'/MarkupBurner/'+T.nX;}else{WE=T.fi.aF.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(T.fi.aF.documentID)+'/MarkupBurner/'+T.nX;}PCCViewer.Ajax.fq({method:'GET',url:WE,headers:{'Content-Type':'application/json'}}).then(ez,fz);};var aAZ=function(gf){if(gf){if(T.pu===true){T.ge=false;return;}if(gf.percentComplete>=0&&T.ge===true){if(gf.percentComplete===100&&gf.state==='complete'){if(gf.processId){T.ge=false;T.nX=gf.processId;T.eR=gf.state;T.rE+=1;T.qz=1000;T.ki= +(gf.percentComplete);var Jk;if(!(/^[\x00-\x7F]*$/.test(T.fi.ac.get_documentIdentifier()))){Jk=T.fi.aF.imageHandlerUrl+'/ViewingSession/e'+T.fi.aF.documentID+'/MarkupBurner/'+T.nX+"/Document";}else{Jk=T.fi.aF.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(T.fi.aF.documentID)+'/MarkupBurner/'+T.nX+"/Document";}if(T.aF.filename){Jk+="?ContentDispositionFilename="+T.aF.filename;}T.MG=Jk;T.sc=true;var aBb= +(gf.percentComplete);setTimeout(function(){T.trigger(PCCViewer.BurnRequest.EventType.BurnCompleted,{});T.trigger(PCCViewer.BurnRequest.EventType.BurnProgress,{progress:aBb});T.aC.resolve(Jk);},10);return;}}else{if(gf.state==='error'){T.ge=false;T.eA=gf.errorCode;setTimeout(function(){T.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});T.aC.reject(new PCCViewer.Error("BurnFailError","BurnProcess failed, errorCode: "+T.eA));},0);T.ge=false;T.sc=true;return;}if(gf.processId){var Xv= +(gf.percentComplete);if(T.ki!==Xv){setTimeout(function(){T.trigger(PCCViewer.BurnRequest.EventType.BurnProgress,{progress:Xv});},10);}if(!T.nX){T.nX=gf.processId;setTimeout(function(){T.trigger(PCCViewer.BurnRequest.EventType.BurnWorkerCreated,{});},0);T.eR=gf.state;T.rE=1;T.ge=true;T.qz=1000;T.ki= +(gf.percentComplete);}if(gf.percentComplete<100){if(T.rE>1){T.qz+=1000;}T.rE+=1;T.eR=gf.state;T.ki= +(gf.percentComplete);if(T.ge===true&&T.pu===false&&T.sc===false){setTimeout(afZ,T.qz);}}}}}else{if(T.sc===false){var Uj=false;if(T.ge===false){if(gf.state==='complete'){if(!T.MG){Uj=true;}else{T.sc=true;setTimeout(function(){T.trigger(PCCViewer.BurnRequest.EventType.BurnCompleted,{});T.aC.resolve(T.MG);},10);return;}}if(gf.state==='processing'&&gf.errorCode===null){if(gf.percentComplete>=0&&gf.percentComplete<100){if(T.rE>1){T.qz+=1000;}T.rE+=1;T.ge=true;T.eR=gf.state;T.ki= +(gf.percentComplete);if(T.ge===true&&T.pu===false){setTimeout(afZ,T.qz);}}else{Uj=true;}}if(gf.state==='error'||Uj===true){T.ge=false;T.eA=gf.errorCode;setTimeout(function(){T.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});T.aC.reject(new PCCViewer.Error("BurnFailError","BurnProcess failed, errorCode: "+gf.errorCode));},0);T.ge=false;T.sc=true;return;}}}}}};var aQ;if(!(/^[\x00-\x7F]*$/.test(T.fi.ac.get_documentIdentifier()))){aQ=T.fi.aF.imageHandlerUrl+'/ViewingSession/e'+T.fi.aF.documentID+'/MarkupBurner';}else{aQ=T.fi.aF.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(T.fi.aF.documentID)+'/MarkupBurner';}if(T.aF.removeFormFields){aQ+='?RemoveFormFields=acroform';}PCCViewer.Ajax.fq({method:'POST',url:aQ,headers:{'Content-Type':'application/xml'},body:T.Vb}).then(ez,fz);T.ge=true;}catch(e){this.ge=false;var aA=this,kQ=e.message;setTimeout(function(){aA.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});aA.aC.reject(new PCCViewer.Error("BurnFailErrorCode","The burn process failed, error: "+kQ));},0);this.sc=true;}};if(Object.defineProperties){Object.defineProperties(BurnRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"workerID":{enumerable:true,get:function(){return this.getWorkerID();}},"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"burnedDocumentDownloadURL":{enumerable:true,get:function(){return this.getBurnedDocumentDownloadURL();}}});}module.exports=BurnRequest;},{}],133:[function(require,module,exports){function atn(ac,aU){var aK=ac.dI.jD(aU);var es=aK.dp();return es.BY();};function avu(ac,aU){var aK=ac.dI.jD(aU);var es=aK.dp();var IZ=es.hn();return IZ.aEu();};function awD(zP,auD){var cI=zP.length;if(cI===0){return false;}if(cI!==auD){return false;}for(var C=0;C<cI;C++){if(zP[C]!==true){return false;}}return true;};var OA=function(){var T=this;this.JZ=false;this.zP=[];this.rS=[];this.Ay=[];this.akP=0;this.bV=0;this.iC=false;function rV(JU,abJ){switch(JU){case 'failed':setTimeout(function(){T.aX.trigger('SearchFailed',abJ);},10);break;case 'complete':T.aX.eS=T.rS;T.aX.XJ=T.Ay;T.aX.tZ=true;setTimeout(function(){T.aX.trigger('SearchResultsAvailable',{completedSearchResults:(T.rS)});},10);break;case 'cancelled':break;}setTimeout(function(){T.aX.trigger('SearchCompleted',{completedSearchResults:(T.rS)});},10);};function ayt(){T.aX.dG='Unable to communicate with server, please retry loading the document.';T.aX.eA='1011';T.aX.tZ=true;rV('failed',{errorMessage:('Unable to communicate with server, please retry loading the document.')});T.iC=true;};function agq(aF,aCB){var aBm=IPCC.V.trim(aF.type||'').toLowerCase();var ad;switch(aBm){case 'taskresult':ad=new PCCViewer.SearchTaskResult();break;default:ad=new PCCViewer.SearchResult();break;}IPCC.V.extend(ad,aCB);var ajt=ad.pW+ad.text.length-1;var df=PCCViewer.Gq.formatter.getContext({text:aF.searchText,startIndex:ad.pW,endIndex:ajt,padding:ad.bf.contextPadding});ad.df=df.context;ad.zX=df.startIndex;if(aF.rectangles){var agn={rectangles:aF.rectangles,startIndex:ad.pW,endIndex:ajt};ad.mf=PCCViewer.Gq.formatter.getBoundingRectangle(agn);ad.aI=PCCViewer.Gq.formatter.getLineRectangles(agn);}return ad;};function afO(nr,xD,IU,gy,hF){var IS=[];var abR= !gy;var wF=xD.distance;var ze=[];IPCC.V.forEach(xD.bX,function(bX){ze.push(bX.searchTerm);});var aCG=PCCViewer.Gq.proximity.getResults(IU,ze,wF);IPCC.V.forEach(aCG,function(ad){var fJ=agq({type:abR?'TaskResult':'Result',searchText:IU,rectangles:gy},{hF:hF,bf:xD.uE,nr:nr,pM:xD.highlightColor,pW:ad.startIndex,aO:ad.text});IS.push(fJ);});return IS;};function Pk(nr,bX,IU,gy,hF){var abR= !gy;var IS=[];var QJ=[bX.searchTerm];var eS=PCCViewer.Gq.regex.getResults(IU,QJ);IPCC.V.forEach(eS,function(ad){if(bX.uE.matchingOptions.wildcard&&(ad.text[0]===" "||ad.text[0]==="\n")){ad.text=ad.text.substring(1);ad.startIndex+=1;}var fJ=agq({type:abR?'TaskResult':'Result',searchText:IU,rectangles:gy},{hF:hF,nr:nr,bX:bX,bf:bX.uE,pW:ad.startIndex,aO:ad.text,pM:bX.highlightColor});IS.push(fJ);});return IS;};function awn(als,aU,ac,gy){var Xl=[];var nr=Date.now();IPCC.V.forEach(T.bX,function(bX,C){var eS;var oX=IPCC.V.Oo(bX.type);var aK=ac.dI.jD(aU);var hF={width:aK.kJ(),height:aK.ia()};switch(oX){case 'proximity':eS=afO(nr,bX,als,gy,hF);break;default:eS=Pk(nr,bX,als,gy,hF);break;}IPCC.V.forEach(eS,function(ad){ad.dr=T.bV;ad.ah=aU+1;ad.Ic=ac.get_documentIdentifier();T.rS[T.bV]=ad;T.bV++;Xl.push(ad);});});T.aX.eS=T.rS;if(Xl.length){setTimeout(function(){T.aX.trigger('PartialSearchResultsAvailable',{partialSearchResults:(Xl),pagesWithoutText:(T.Ay)});},10);}};function awy(aO){var nr=Date.now();IPCC.V.forEach(T.bX,function(bX,C){var oX=IPCC.V.Oo(bX.type);var eS;switch(oX){case 'proximity':eS=afO(nr,bX,aO);break;default:eS=Pk(nr,bX,aO);break;}IPCC.V.forEach(eS,function(ad){ad.dr=T.bV;T.rS[T.bV]=ad;T.bV++;});});T.aX.eS=T.rS;};function acC(AC,ac){for(var C=0;C<AC.length;C++){if(T.zP[AC[C]]===false){T.zP[AC[C]]=true;var aO=atn(ac,AC[C]);var gy=avu(ac,AC[C]);if(!aO&&aO!==null){T.Ay[T.akP]=AC[C];T.akP++;continue;}awn(aO,AC[C],ac,gy);if(T.aX.pu){if(T.JZ){rV('cancelled');T.JZ=false;ac.remove_textPagesReceived(Ph);return;}break;}}}if(awD(T.zP,ac.dY)&& !T.aX.tZ){rV('complete');T.JZ=false;ac.remove_textPagesReceived(Ph);}};function Ph(sender,K){if(K.error=== -1){ayt();return T.aX;}try{if(T.iC===false){acC(K.textPagesReceived,sender);}}catch(e){T.aX.dG=e.message;T.aX.eA='1010';T.aX.tZ=true;rV('failed',{errorMessage:(e.message)});T.iC=true;return T.aX;}};this.ZD=function(ac,bX,eD,aX){T.bX=bX;T.aX=aX;T.aX.eD=eD;T.aX.on('SearchCancelled',function(){rV('cancelled');T.JZ=false;ac.remove_textPagesReceived(Ph);});for(var C=0;C<ac.dY;C++){T.zP[C]=false;}if(ac.ajU().fC()>ac.get_numberOfPagesWithText()){T.JZ=true;ac.add_textPagesReceived(Ph);}if(ac.get_numberOfPagesWithText()>0){acC(ac.get_pagesWithText(),ac);}return T.aX;};this.auj=function(aO){this.aX=new PCCViewer.SearchRequest();try{awy(aO);}catch(e){T.aX.dG=e.message;T.aX.eA='1010';return;}};};module.exports=OA;},{}],134:[function(require,module,exports){var Comment=function Comment(comment,conversation){if(!(comment instanceof IPCC.Web.UI.Comment)&&(typeof comment!=='string')){throw new Error(comment+' is not a string.');}if(!(conversation instanceof PCCViewer.Conversation)){throw new Error(conversation+' is not a PCCViewer.Conversation object.');}this.getConversation=function aFH(){return conversation;};if(typeof comment==='string'){this.og=new IPCC.Web.UI.Comment(comment);}else{this.og=comment;}this.og.KB=this;this.cT=this.og.get_data();PCCViewer.Data.extend(this);this.DN=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);};Comment.prototype.getMarkupLayer=function aFe(){return this.jc;};Comment.prototype.getText=function aET(){return this.og.get_text();};Comment.prototype.setText=function aIj(text){if(typeof text!=='string'){throw new Error(text+' is not a string.');}this.og.set_text(text);return this;};Comment.prototype.getCreationTime=function aGv(){var asA=IPCC.V.JP(this.og.get_creationTime());return new Date(asA);};Comment.prototype.setCreationTime=function aHp(time){function ajY(){throw new Error(time+' is not a valid string or Date object.');};if(typeof time==='string'){var ahL=IPCC.V.JP(time);if(ahL instanceof Error){ajY();}time=new Date(ahL);}if(!(time instanceof Date)){ajY();}this.og.set_creationTime(IPCC.V.wJ(time));return this;};if(Object.defineProperties){Object.defineProperties(Comment.prototype,{"text":{enumerable:true,get:function(){return this.getText();},set:function(text){return this.setText(text);}},"creationTime":{enumerable:true,get:function(){return this.getCreationTime();},set:function(time){return this.setCreationTime(time);}}});}var Conversation=function Conversation(mark){if(!(mark instanceof PCCViewer.Mark)){throw new Error(mark+' is not a PCCViewer.Mark object.');}this.getMark=function NV(){return mark;};this.ir=new PCCViewer.ObservableCollection();if(typeof mark.L!=="undefined"){this.yO=mark.L.get_conversation();this.yO.forEach(function(og){var bZ=new PCCViewer.Comment(og,this);this.ir.add(bZ);},this);}else{this.yO=new IPCC.Web.UI.Conversation();}this.cT=this.yO.get_data();PCCViewer.Data.extend(this);this.DN=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);};Conversation.prototype.addComment=function Gi(commentText){var bZ=new PCCViewer.Comment(commentText,this);this.ir.add(bZ);this.yO.addComment(bZ.og);return bZ;};Conversation.prototype.deleteComments=function(comments){var T=this;var ahJ=this.ir.toArray();var abg=function(bZ){for(var i=0,length=ahJ.length;i<length;i++){if(ahJ[i]===bZ){return true;}}return false;};function akE(bZ,bV){throw new Error(bZ+((bV!==undefined)?' (Array index '+bV+')':'')+' is not a PCCViewer.Comment object.');};function akT(bZ,bV){throw new Error(((bV!==undefined)?' (Array index '+bV+')':'')+' is not part of this Conversation object.');};if(comments instanceof PCCViewer.Comment){if(!abg(comments)){akT(comments);}T.ir.remove(comments);T.yO.removeCommentInstance(comments.og);}else if(comments instanceof Array){IPCC.V.forEach(comments,function(el,idx){if(!(el instanceof PCCViewer.Comment)){akE(el,idx);}if(!abg(el)){akT(el,idx);}});IPCC.V.forEach(comments,function(el){T.ir.remove(el);T.yO.removeCommentInstance(el.og);});}else{akE(comments);}return this;};Conversation.prototype.getComments=function(){return this.ir.toArray().sort(function(a,b){return a.getCreationTime().getTime()-b.getCreationTime().getTime();});};Conversation.pR=function(hI,oV){if(typeof hI.getComments!=="function"||typeof oV.addComment!=="function"){throw new Error("Arguments `_source` and `_destination` must be Conversation objects.");}PCCViewer.Data.oq(hI,oV);var hH=hI.getComments(),i,length=hH.length;for(i=0;i<length;i++){var ahS=hH[i];var asJ=oV.addComment(ahS.getText());PCCViewer.Data.oq(ahS,asJ);}};module.exports={Conversation:Conversation,Comment:Comment};},{}],135:[function(require,module,exports){var ConversionRequest=function(aF){this.nX="";this.eR="";this.ki=0;this.eA="";this.ge=false;this.pu=false;this.aF=aF;this.yw=null;this.Bg=null;this.fi=undefined;this.aC=PCCViewer.Deferred();this.bY=this.aC.getPromise();this.then=this.bY.then;PCCViewer.EventEmitter.extend(this);};ConversionRequest.EventType={ConversionProgress:"ConversionProgress",ConversionCompleted:"ConversionCompleted",ConversionFailed:"ConversionFailed",ConversionCancelled:"ConversionCancelled",ConversionWorkerCreated:"ConversionWorkerCreated"};ConversionRequest.prototype.cancel=function(){var T=this;this.pu=true;this.eA="User Cancelled";setTimeout(function(){T.trigger(PCCViewer.ConversionRequest.EventType.ConversionCancelled,{});T.trigger(PCCViewer.ConversionRequest.EventType.ConversionFailed,{});T.aC.reject(new PCCViewer.Error("UserCancelled","User Cancelled"));},0);return this;};ConversionRequest.prototype.getProgress=function(){return this.ki;};ConversionRequest.prototype.getWorkerID=function(){return this.nX;};ConversionRequest.prototype.getOptions=function(){return this.aF;};ConversionRequest.prototype.getErrorCode=function(){return this.eA;};ConversionRequest.prototype.getConvertedDocumentDownloadURL=function(){return this.yw;};ConversionRequest.prototype.getConvertedDocumentDownloadURLs=function(){if(this.Bg){return this.Bg.slice();}return null;};ConversionRequest.prototype.Mv=function(fi){this.fi=fi;};ConversionRequest.prototype.CF=function(){var T=this;T.ge=true;T.aED().then(function onResolve(qV){T.nX=qV.processId;T.ki=qV.percentComplete;T.eR=qV.state;T.trigger(PCCViewer.ConversionRequest.EventType.ConversionWorkerCreated,{});T.aBR(qV).then(function onResolve(atZ){T.ge=false;T.Bg=[];if(T.aF.Af>1){for(var C=0;C<T.aCD;C++){var yw=T.fi.aF.imageHandlerUrl+'/v2/viewingSessions/'+T.fi.aF.documentID+'/contentConverters/'+T.nX+'/results/'+C+'/file?ContentDispositionFilename='+encodeURIComponent(T.aF.filename);T.Bg.push(yw);}T.aC.resolve(T.Bg);}else{T.yw=T.fi.aF.imageHandlerUrl+'/WorkFile/'+atZ+"?ContentDispositionFilename="+encodeURIComponent(T.aF.filename);if(qV.affinityToken){T.yw+="&affinityToken="+encodeURIComponent(qV.affinityToken);}T.Bg.push(T.yw);T.aC.resolve(T.yw);}T.trigger(PCCViewer.ConversionRequest.EventType.ConversionCompleted,{});},function onReject(reason){T.ge=false;T.eA=reason.error.code;T.aC.reject(reason);T.trigger(PCCViewer.ConversionRequest.EventType.ConversionFailed,{});});},function onReject(reason){T.ge=false;T.aC.reject(reason);T.trigger(PCCViewer.ConversionRequest.EventType.ConversionFailed,{});});};ConversionRequest.prototype.aED=function(){var aQ,kB=PCCViewer.Deferred();var Tf;if(this.aF.Af>1){aQ=this.fi.aF.imageHandlerUrl+'/v2/viewingSessions/'+this.fi.aF.documentID+'/contentConverters/';Tf={url:aQ,method:'POST',headers:{"Content-Type":"application/json"}};}else{aQ=this.fi.aF.imageHandlerUrl+'/contentConverters/';Tf={url:aQ,method:'POST',headers:{"Content-Type":"application/json"},body:JSON.stringify({viewingSessionId:this.fi.aF.documentID})};}PCCViewer.Ajax.fq(Tf).then(function ez(aM){var ad=JSON.parse(aM.responseText);kB.resolve(ad);},function fz(ad){kB.reject(ad.error);});return kB.getPromise();};ConversionRequest.prototype.aBR=function(qV){var aQ,kB=PCCViewer.Deferred(),T=this,gk;if(T.aF.Af>1){aQ=this.fi.aF.imageHandlerUrl+'/v2/viewingSessions/'+this.fi.aF.documentID+'/contentConverters/'+qV.processId;}else{aQ=this.fi.aF.imageHandlerUrl+'/contentConverters/'+qV.processId;}if(qV.affinityToken){gk={"Accusoft-Affinity-Token":qV.affinityToken};}(function poll(){setTimeout(function(){PCCViewer.Ajax.fq({method:'GET',url:aQ,headers:gk}).then(function ez(aM){var ad=JSON.parse(aM.responseText);T.nX=ad.processId;T.ki=ad.percentComplete;T.eR=ad.state;if(T.aF.Af>1&&ad.output){T.aCD=ad.output.results.length;}T.trigger(PCCViewer.ConversionRequest.EventType.ConversionProgress,{progress:T.ki});if(ad.percentComplete===100){if(ad.state==="error"){kB.reject({response:aM,error:new PCCViewer.Error("CouldNotConvert","Could not convert document")});}else{kB.resolve(ad.output.results[0].fileId);}}else{poll();}},function fz(ad){kB.reject(ad.error);});},3000);})();return kB.getPromise();};if(Object.defineProperties){Object.defineProperties(ConversionRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"workerID":{enumerable:true,get:function(){return this.getWorkerID();}},"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"convertedDocumentDownloadURL":{enumerable:true,get:function(){return this.getConvertedDocumentDownloadURL();}},"convertedDocumentDownloadURLs":{enumerable:true,get:function(){return this.getConvertedDocumentDownloadURLs();}}});}module.exports=ConversionRequest;},{}],136:[function(require,module,exports){"use strict";var Data=(function(){function getData(key){return this.cT.get_data(key);};function setData(key,value){this.cT.set_data(key,value);return this;};function getDataKeys(){return this.cT.get_dataKeys();};return{extend:function(o){o.getData=getData;o.setData=setData;o.getDataKeys=getDataKeys;},oq:function(hI,oV){if(typeof hI.getData!=="function"||typeof hI.setData!=="function"||typeof hI.getDataKeys!=="function"||typeof oV.getData!=="function"||typeof oV.setData!=="function"||typeof oV.getDataKeys!=="function"){throw new Error("Arguments `_source` and `_destination` must be extended with the Data Mixin.");}var lE=hI.getDataKeys(),i,length=lE.length;for(i=0;i<length;i++){var au=lE[i];oV.setData(au,hI.getData(au));}}};})();var SessionData=(function(){function getSessionData(key){return this.DN.get_data(key);};function setSessionData(key,value){this.DN.set_data(key,value);return this;};function getSessionDataKeys(){return this.DN.get_dataKeys();};return{extend:function(o){o.getSessionData=getSessionData;o.setSessionData=setSessionData;o.getSessionDataKeys=getSessionDataKeys;},aIl:function(hI,oV){if(typeof hI.getSessionData!=="function"||typeof hI.setSessionData!=="function"||typeof hI.getSessionDataKeys!=="function"||typeof oV.getSessionData!=="function"||typeof oV.setSessionData!=="function"||typeof oV.getSessionDataKeys!=="function"){throw new Error("Arguments `_source` and `_destination` must be extended with the SessionData Mixin.");}var lE=hI.getSessionDataKeys(),i,length=lE.length;for(i=0;i<length;i++){var au=lE[i];oV.setSessionData(au,hI.getSessionData(au));}}};})();module.exports={SessionData:SessionData,Data:Data};},{}],137:[function(require,module,exports){'use strict';function PromiseDeferred(){this.eR=PromiseDeferred.States.Pending;this.J=null;this.fk=null;this.hj=[];};PromiseDeferred.prototype.then=function(onFulfilled,onRejected){var zD=new PromiseDeferred();var Zy,VK;if(onFulfilled&&typeof onFulfilled==='function'){var azk=function(J){try{var aW=onFulfilled(J);zD.resolve(aW);}catch(e){zD.reject(e);}};Zy=azk;}else{var azc=function(J){zD.resolve(J);};Zy=azc;}if(onRejected&&typeof onRejected==='function'){var axw=function(fk){try{var aW=onRejected(fk);WX(zD,aW);}catch(e){zD.reject(e);}};VK=axw;}else{var axE=function(fk){zD.reject(fk);};VK=axE;}this.hj.push({atW:Zy,aBi:VK});if(this.eR===PromiseDeferred.States.Fulfilled){this.agK();}if(this.eR===PromiseDeferred.States.Rejected){this.ahs();}return zD;};PromiseDeferred.prototype.resolve=function(x){if(!this.agx()){return;}WX(this,x);};PromiseDeferred.prototype.reject=function(reason){if(!this.agx()){return;}this.CO(reason);};PromiseDeferred.prototype.SC=function(am){this.eR=PromiseDeferred.States.Fulfilled;this.J=am;this.agK();};PromiseDeferred.prototype.agK=function(){var callback;while(this.hj.length>0){callback=this.hj.shift().atW;(function(lk,J){setTimeout(function(){lk(J);},0);})(callback,this.J);}};PromiseDeferred.prototype.ahs=function(){var callback;while(this.hj.length>0){callback=this.hj.shift().aBi;(function(lk,J){setTimeout(function(){lk(J);},0);})(callback,this.fk);}};function WX(bY,am){if(bY===am){bY.CO(new TypeError("A Promise cannot be resolved with a value that is itself."));return;}if(am&&am.Yy&&bY.abp&&bY.abp===am){bY.CO(new TypeError("A Promise cannot be resolved with a value that is itself."));return;}if(am&&am.Yy&&am.Yy==="PCCViewer.Promise"){am.then(function(anU){bY.SC(anU);},function(apg){bY.CO(apg);});}else if(am!==null&&(typeof am==='object'||typeof am==='function')){var VF;try{VF=am.then;}catch(e){bY.CO(e);return;}if(typeof VF==='function'){var Ga=true;var anC=function(dv){if(Ga){WX(bY,dv);Ga=false;}};var anE=function(aW){if(Ga){bY.CO(aW);Ga=false;}};try{VF.call(am,anC,anE);}catch(e){if(Ga){bY.CO(e);}}}else{bY.SC(am);}}else{bY.SC(am);}};PromiseDeferred.prototype.CO=function(reason){this.eR=PromiseDeferred.States.Rejected;this.fk=reason;this.ahs();};PromiseDeferred.prototype.agx=function(){return this.eR===PromiseDeferred.States.Pending;};PromiseDeferred.States={Pending:"Pending",Fulfilled:"Fulfilled",Rejected:"Rejected"};var Deferred=function(){var UG=new PromiseDeferred();function Promise(bY){this.then=function(onFulfilled,onRejected){return new Promise(bY.then(onFulfilled,onRejected));};this.Yy="PCCViewer.Promise";bY.abp=this;};var promise=new Promise(UG);return{getPromise:function(){return promise;},resolve:function(value){UG.resolve(value);},reject:function(reason){UG.reject(reason);}};};var Promise={all:function(promises){var i,aC=new PCCViewer.Deferred(),Wz=aC.getPromise();if(Object.prototype.toString.call(promises)!=='[object Array]'){throw new TypeError("The 'promises' argument must be an array.");}function createPushFunction(promise){return function(results){return wrapWithPromise(promise).then(function(value){results.push(value);return results;});};};function wrapWithPromise(value){var aC=new PCCViewer.Deferred();aC.resolve(value);return aC.getPromise();};aC.resolve([]);for(i=0;i<promises.length;i++){Wz=Wz.then(createPushFunction(promises[i]));}return Wz;}};if(typeof exports!=='undefined'&&module.exports){module.exports.Deferred=Deferred;module.exports.Promise=Promise;}},{}],138:[function(require,module,exports){var DocumentHyperlink=function DocumentHyperlink(parameters){this.AW=parameters.AW;this.ah=parameters.ah;};DocumentHyperlink.prototype.getHref=function(){return this.AW.alI();};DocumentHyperlink.prototype.getPageNumber=function(){return this.ah;};DocumentHyperlink.prototype.getRectangle=function(){return this.AW.fs();};if(Object.defineProperties){Object.defineProperties(DocumentHyperlink.prototype,{"href":{enumerable:true,get:function(){return this.getHref();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();}},"rectangle":{enumerable:true,get:function(){return this.getRectangle();}}});}module.exports=DocumentHyperlink;},{}],139:[function(require,module,exports){var GW=function(code,message){var abI=Error.call(null,message);this.code=code;function avW(ds,hI){Object.getOwnPropertyNames(hI).forEach(function(propName){Object.defineProperty(ds,propName,Object.getOwnPropertyDescriptor(hI,propName));});return ds;};function awg(ds,hI){for(var i in hI){if(hI.hasOwnProperty(i)){ds[i]=hI[i];}}return ds;};if(typeof Object.create==='function'){avW(this,abI);}else{awg(this,abI);}};var aAx=(function(){var eK=function(){};return function(act){if(arguments.length>1){throw Error('Second argument not supported');}if(typeof act!=='object'){throw TypeError('Argument must be an object');}eK.prototype=act;var ad=new eK();eK.prototype=null;return ad;};})();if(typeof Object.create==='function'){GW.prototype=Object.create(Error.prototype);}else{GW.prototype=aAx(Error.prototype);}GW.prototype.constructor=GW;module.exports=GW;},{}],140:[function(require,module,exports){"use strict";function Event(target,type){this.ds=target;this.bG=type;};Event.prototype.getTarget=function(){return this.ds;};Event.prototype.getType=function(){return this.bG;};if(Object.defineProperties){Object.defineProperties(Event.prototype,{"target":{enumerable:true,get:function(){return this.getTarget();}},"type":{enumerable:true,get:function(){return this.getType();}}});}module.exports=Event;},{}],141:[function(require,module,exports){var EventEmitter=(function(){function on(eventType,handler){if(!this.jr){this.jr={};}var lowerCaseEventType=eventType.toLowerCase(),handlers=this.jr[lowerCaseEventType];if(!handlers){handlers=this.jr[lowerCaseEventType]=[];}handlers.push(handler);return this;};function off(eventType,handler){if(!this.jr){this.jr={};}var lowerCaseEventType=eventType.toLowerCase(),handlers=this.jr[lowerCaseEventType];if(handlers){var i=handlers.length;for(;i>=0;i--){if(handlers[i]===handler){handlers.splice(i,1);}}}return this;};function trigger(eventType,properties){if(!this.jr){this.jr={};}var lowerCaseEventType=eventType.toLowerCase(),event=new PCCViewer.Event(this,lowerCaseEventType),handlers=this.jr[lowerCaseEventType],i,length=0;if(properties){PCCViewer.rK.rz(event,properties);}if(handlers){length=handlers.length;handlers=handlers.slice(0);for(i=0;i<length;i++){handlers[i](event);}}return this;};return{extend:function(o){o.on=on;o.off=off;o.trigger=trigger;}};})();module.exports=EventEmitter;},{}],142:[function(require,module,exports){var auc={ViewerReady:"ViewerReady",PageCountReady:"PageCountReady",EstimatedPageCountReady:"EstimatedPageCountReady",PageChanged:"PageChanged",PageLoadFailed:"PageLoadFailed",PageDisplayed:"PageDisplayed",PageRotated:"PageRotated",DocumentRotated:"DocumentRotated",ScaleChanged:"ScaleChanged",DocumentPrinted:"DocumentPrinted",TextSelected:"TextSelected",MouseToolChanged:"MouseToolChanged",SearchPerformed:"SearchPerformed",PartialSearchResultsAvailable:"PartialSearchResultsAvailable",SearchCompleted:"SearchCompleted",SearchFailed:"SearchFailed",SearchCancelled:"SearchCancelled",SearchResultsAvailable:"SearchResultsAvailable",SearchCleared:"SearchCleared",SearchResultSelectionChanged:"SearchResultSelectionChanged",RevisionsRetrievalCompleted:"RevisionsRetrievalCompleted",RevisionsRetrievalFailed:"RevisionsRetrievalFailed",RevisionsAvailable:"RevisionsAvailable",PartialRevisionsAvailable:"PartialRevisionsAvailable",PrintRequested:"PrintRequested",MarkupLoaded:"MarkupLoaded",MarkupSaved:"MarkupSaved",MarkChanged:"MarkChanged",MarkCreated:"MarkCreated",MarkRemoved:"MarkRemoved",MarkReordered:"MarkReordered",MarkSelectionChanged:"MarkSelectionChanged",MarkMouseEnter:"MarkMouseEnter",MarkMouseOver:"MarkMouseOver",MarkMouseLeave:"MarkMouseLeave",CommentsPanelToggled:"CommentsPanelToggled",CommentCreated:"CommentCreated",CommentRemoved:"CommentRemoved",CommentChanged:"CommentChanged",PageTextReady:"PageTextReady",Click:"Click",PageOpening:"PageOpening"};module.exports=auc;},{}],143:[function(require,module,exports){var nK={FullWidth:"FullWidth",ShrinkToWidth:"ShrinkToWidth",ActualSize:"ActualSize",FullHeight:"FullHeight",FullPage:"FullPage"};module.exports=nK;},{}],144:[function(require,module,exports){var rK={};rK.rz=function(target){var source;if(!target){throw new Error("target must be defined.");}else if(typeof target!=='object'){throw new Error("typeof target must be 'object'");}else{for(var i=1;i<arguments.length;i++){source=arguments[i];for(var property in source){if(source.hasOwnProperty(property)){target[property]=source[property];}}}}return target;};module.exports=rK;},{}],145:[function(require,module,exports){var ImageStamps=function(Options){this.aF=PCCViewer.rK.rz({},Options);};ImageStamps.prototype.requestImageStampList=function(){var aC=PCCViewer.Deferred();var bY=aC.getPromise();try{var aQ=this.aF.imageHandlerUrl+'/ImageStampList';PCCViewer.Ajax.fq({method:'GET',url:aQ}).then(function ez(aM){var ru;if(aM.responseText.length>0){ru=JSON.parse(aM.responseText);if(aM.status===200){aC.resolve(ru);}else{aC.reject(new PCCViewer.Error("ImageStampListFail","Unable to retrieve ImageStamp list from server."));}}},function fz(ad){aC.reject(ad.error);});}catch(e){aC.reject(new PCCViewer.Error("Error",e.message));}return bY;};ImageStamps.prototype.requestImageSourceBase64=function(imageStampId){if(!imageStampId){throw new Error("Parameter imageStampId is not valid.");}if(typeof imageStampId!=='string'){throw new Error("Parameter imageStampId should be of type string.");}var aC=PCCViewer.Deferred();var bY=aC.getPromise();try{var aQ=this.aF.imageHandlerUrl+'/ImageStamp/'+imageStampId+'/q?format=Base64';PCCViewer.Ajax.fq({method:'GET',url:aQ,}).then(function ez(aM){var ru;if(aM.responseText.length>0){ru=JSON.parse(aM.responseText);if(aM.status===200){aC.resolve(ru);}else{aC.reject(new PCCViewer.Error("ImageStampDataFail","Unable to retrieve image stamp data URL and dataHash from server."));}}},function fz(ad){aC.reject(ad.error);});}catch(e){aC.reject(new PCCViewer.Error("Error",e.message));}return bY;};ImageStamps.prototype.reqestImageSourceBase64=function(imageStampId){return this.requestImageSourceBase64(imageStampId);};ImageStamps.prototype.getImageSourceURL=function(ImageStampID){if(!ImageStampID){throw new Error("Parameter imageStampId is not valid.");}if(typeof ImageStampID!=='string'){throw new Error("Parameter imageStampId should be of type string.");}return this.aF.imageHandlerUrl+'/ImageStamp/'+ImageStampID+'/q?format=Image';};module.exports=ImageStamps;},{}],146:[function(require,module,exports){var aDR={data:{},initializeData:function(aEL){PCCViewer.Language.data=IPCC.V.extend({},aEL);return PCCViewer.Language;},getData:function(){return PCCViewer.Language.data;},getValue:function(aeP){if(typeof PCCViewer.Language.data==='undefined'){throw new Error('Language data is not set.');}var lE=aeP.split('.'),aY=PCCViewer.Language.data,au;while(lE.length){au=lE.shift();aY=aY[au];if(typeof aY==='undefined'){aY=aeP;break;}}return aY;}};module.exports=aDR;},{}],147:[function(require,module,exports){var LoadMarkupLayersRequest=function(layerRecordIds,viewerControl,options){this.vk=layerRecordIds;this.bQ=viewerControl;this.eA="";this.ge=false;this.pu=false;this.ki=0;this.aC=PCCViewer.Deferred();this.bY=this.aC.getPromise();this.then=this.bY.then;this.vU=options.loadAsHidden===true;PCCViewer.EventEmitter.extend(this);};LoadMarkupLayersRequest.EventType={LoadMarkupLayersFailed:"LoadMarkupLayersFailed",LoadMarkupLayersCompleted:"LoadMarkupLayersCompleted",LoadMarkupLayersCancelled:"LoadMarkupLayersCancelled",LoadMarkupLayersProgress:"LoadMarkupLayersProgress"};LoadMarkupLayersRequest.prototype.getProgress=function(){return this.ki;};LoadMarkupLayersRequest.prototype.cancel=function(){var T=this;this.pu=true;this.eA="User Cancelled";setTimeout(function(){T.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersCancelled,{});T.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});T.aC.reject(new PCCViewer.Error("UserCancelled","User Cancelled"));},0);return this;};LoadMarkupLayersRequest.prototype.getViewerControl=function(){return this.bQ;};LoadMarkupLayersRequest.prototype.getErrorCode=function(){return this.eA;};LoadMarkupLayersRequest.prototype.CF=function(){var T=this,Yu=1,Xu,abi=[];var vU=this.vU;var sm=function(ajZ){function ez(aM){var qX=JSON.parse(aM.responseText),KV=T.aCg(qX),dS,sR=[],aT,gq=[],aic={},LN=0,KG;for(var mW in KV.gq){if(KV.gq.hasOwnProperty(mW)){gq=gq.concat(KV.gq[mW]);}}dS=new PCCViewer.MarkupLayer(T.bQ,gq);dS.aIi={aQ:aQ};IPCC.V.forEach(KV.sR,function(afh){sR.push(afh);LN++;aic[afh.uid]=true;});if(qX.name){dS.setName(qX.name);}if(qX.originalXmlName){dS.setOriginalXmlName(qX.originalXmlName);}if(LN>0){KG=function(ev){if(aic[ev.mark.getUid()]){LN--;}if(!LN){T.bQ.off(PCCViewer.EventType.MarkCreated,KG);T.bQ.sT=true;}};T.bQ.on(PCCViewer.EventType.MarkCreated,KG);T.bQ.sT=false;try{aT=T.bQ.deserializeMarks(sR);}catch(cA){T.ge=false;T.bQ.off(PCCViewer.EventType.MarkCreated,KG);T.bQ.sT=true;T.aC.reject(new PCCViewer.Error('Error',cA.message));T.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});return;}if(vU){IPCC.V.forEach(aT,function(R){R.setVisible(false);});}dS.addMarks(aT);}dS.Uy=ajZ;for(var tL in qX.data){if(qX.data.hasOwnProperty(tL)){dS.setData(tL,qX.data[tL]);}}T.bQ.getMarkupLayerCollection().addItem(dS);abi.push(dS);Yu--;T.ki=(T.vk.length-Yu)/T.vk.length;T.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersProgress,{progress:T.ki});if(T.ki===1){T.ge=false;T.aC.resolve(abi);T.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersCompleted,{markupLayers:abi});}};function fz(ad){T.ge=false;T.aC.reject(ad.error);T.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});};var aQ=Xu+ajZ+'?'+new Date().getTime();PCCViewer.Ajax.fq({url:aQ,method:'GET'}).then(ez,fz);};if(!(/^[\x00-\x7F]*$/.test(this.bQ.ac.get_documentIdentifier()))){Xu=this.bQ.aF.imageHandlerUrl+'/MarkupLayers/e'+this.bQ.aF.documentID+'/';}else{Xu=this.bQ.aF.imageHandlerUrl+'/MarkupLayers/u'+encodeURIComponent(this.bQ.aF.documentID)+'/';}if(this.pu){return;}if(Object.prototype.toString.call(this.vk)==='[object Array]'&&this.vk.length>0){Yu=this.vk.length;this.ge=true;IPCC.V.forEach(this.vk,sm,this);}else if(typeof this.vk==="string"){this.ge=true;sm(this.vk);}else{this.ge=false;this.aC.reject(new PCCViewer.Error("InvalidParameter",'layerRecordIds parameter is missing or invalid.'));this.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});return;}};LoadMarkupLayersRequest.prototype.aCg=function(qX){var Ml={},NB={};IPCC.V.forEach(qX.marks,function(UD){UD.conversation.comments=[];Ml[UD.uid]=UD;},this);IPCC.V.forEach(qX.comments,function(wA){if(Ml[wA.markUid]){Ml[wA.markUid].conversation.comments.push(wA);}else if(NB[wA.markUid]){NB[wA.markUid].push(wA);}else{NB[wA.markUid]=[wA];}},this);return{sR:Ml,gq:NB};};if(Object.defineProperties){Object.defineProperties(LoadMarkupLayersRequest.prototype,{"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}}});}module.exports=LoadMarkupLayersRequest;},{}],148:[function(require,module,exports){var cq={setMask:function(R,jv){var HI={};IPCC.V.forEach(jv.translations,function(aH,au){HI[au]=new RegExp(aH.replace(/^\/|\/$/g,''));});R.setMask({value:jv.value,translations:HI});},calculateRectangle:function(aY,aF){if(aY.pageData===undefined||(aY.pageData.width===aF.bi&&aY.pageData.height===aF.aq)){return aY.rectangle;}else{var ni=aF.bi/aY.pageData.width;return{x:aY.rectangle.x*ni,y:aY.rectangle.y*ni,width:aY.rectangle.width*ni,height:aY.rectangle.height*ni};}},setRectangle:function(R,aY,aF){R.setRectangle(cq.calculateRectangle(aY,aF));},setLines:function(R,aY,aF){var afU,pa,cv=aY.textLength+aY.startIndex-1,cf=aY.selectedText,dq={startIndex:aY.startIndex,length:aY.textLength};pa=[];var aU,zm;afU=IPCC.V.reduce(aY.lineGroups,function(ft,oP){aU=oP.pageNumber-1;ft[aU]=IPCC.V.map(oP.lines,function(fS){if(oP.pageData!==undefined){zm=cq.calculateRectangle({rectangle:fS,pageData:oP.pageData},aF);return new IPCC.Web.UI.Rectangle(zm.x,zm.y,zm.width,zm.height);}else{return new IPCC.Web.UI.Rectangle(fS.x,fS.y,fS.width,fS.height);}});pa.push({pageIndex:aU,endIndex:oP.startIndex+oP.textLength-1});return ft;},{});R.Il(pa,cv,cf,dq,afU);},postCreate:function(R,aY){R.L.abf(new Date(IPCC.V.JP(aY.creationDateTime)));R.L.Vu(new Date(IPCC.V.JP(aY.modificationDateTime)));return R;},calculatePoint:function(ay,hF,aF){if(hF===undefined||(hF.width===aF.bi&&hF.height===aF.aq)){return ay;}else{return{x:ay.x*aF.bi/hF.width,y:ay.y*aF.aq/hF.height};}},Data:function(aY,cT){IPCC.V.forEach(cT,function(aH,au){aY.setData(au,aH);});},Comment:function(dC,bZ){var nT=dC.addComment(bZ.text);nT.setCreationTime(bZ.creationDateTime);cq.Data(nT,bZ.data);},Conversation:function(R,dC){var ajG=R.getConversation();IPCC.V.forEach(dC.comments?dC.comments:[],function(nT){cq.Comment(ajG,nT);});cq.Data(ajG,dC.data);},Common:function(aY,aF){if(aY.uid===undefined){aY.uid=IPCC.V.adH();}var R=this.akS(aY.pageNumber,aY.type,{uid:aY.uid});if(aY.rectangle&&R.setRectangle){cq.setRectangle(R,aY,aF);}if(aY.startPoint&&R.setStartPoint){R.setStartPoint(cq.calculatePoint(aY.startPoint,aY.pageData,aF));}if(aY.endPoint&&R.setEndPoint){R.setEndPoint(cq.calculatePoint(aY.endPoint,aY.pageData,aF));}if(aY.points&&R.setPoints){R.setPoints(IPCC.V.map(aY.points,function(ay){return cq.calculatePoint(ay,aY.pageData,aF);}));}if(aY.lineGroups&&R.Il){R.bn=aY.uid;cq.setLines(R,aY,aF);}if(aY.interactionMode){R.setInteractionMode(aY.interactionMode);}R=this.amT(R);cq.Data(R,aY.data);cq.Conversation(R,aY.conversation);return R;},EllipseAnnotation:function(aY,aF){var R=cq.Common.apply(this,arguments);if(aY.borderColor){R.setBorderColor(aY.borderColor);}if(aY.borderThickness){R.setBorderThickness(aY.borderThickness);}if(aY.fillColor){R.setFillColor(aY.fillColor);}if(aY.opacity){R.setOpacity(aY.opacity);}return cq.postCreate(R,aY);},FreehandAnnotation:function(aY,aF){var R=cq.Common.apply(this,arguments);if(aY.color){R.setColor(aY.color);}if(aY.opacity){R.setOpacity(aY.opacity);}if(aY.path){R.setPath(aY.path);}if(aY.thickness){R.setThickness(aY.thickness);}return cq.postCreate(R,aY);},FreehandSignature:function(aY,aF){var R=cq.Common.apply(this,arguments);if(aY.color){R.setColor(aY.color);}if(aY.path){R.setPath(aY.path);}if(aY.thickness){R.setThickness(aY.thickness);}if(aY.horizontalAlignment){R.setHorizontalAlignment(aY.horizontalAlignment);}return cq.postCreate(R,aY);},HighlightAnnotation:function(aY,aF){var R=cq.Common.apply(this,arguments);if(aY.fillColor){R.setFillColor(aY.fillColor);}return cq.postCreate(R,aY);},ImageStampAnnotation:function(aY,aF){var R=cq.Common.apply(this,arguments);if(aY.imageDataUrl&&aY.imageId){R.setImage({id:aY.imageId,dataUrl:aY.imageDataUrl});}return cq.postCreate(R,aY);},ImageStampRedaction:function(aY,aF){return cq.ImageStampAnnotation.apply(this,arguments);},LineAnnotation:function(aY,aF){var R=cq.Common.apply(this,arguments);if(aY.color){R.setColor(aY.color);}if(aY.endHeadType){R.setEndHeadType(aY.endHeadType);}if(aY.opacity){R.setOpacity(aY.opacity);}if(aY.thickness){R.setThickness(aY.thickness);}return cq.postCreate(R,aY);},PolylineAnnotation:function(aY,aF){var R=cq.Common.apply(this,arguments);if(aY.color){R.setColor(aY.color);}if(aY.opacity){R.setOpacity(aY.opacity);}if(aY.thickness){R.setThickness(aY.thickness);}return cq.postCreate(R,aY);},RectangleAnnotation:function(aY,aF){var R=cq.Common.apply(this,arguments);if(aY.borderColor){R.setBorderColor(aY.borderColor);}if(aY.borderThickness){R.setBorderThickness(aY.borderThickness);}if(aY.fillColor){R.setFillColor(aY.fillColor);}if(aY.opacity){R.setOpacity(aY.opacity);}return cq.postCreate(R,aY);},RectangleRedaction:function(aY,aF){var R=cq.Common.apply(this,arguments);if(aY.reason){R.setReason(aY.reason);}if(aY.fillColor){R.setFillColor(aY.fillColor);}if(aY.borderColor){R.setBorderColor(aY.borderColor);}if(aY.borderThickness){R.setBorderThickness(aY.borderThickness);}if(aY.fontColor){R.setFontColor(aY.fontColor);}return cq.postCreate(R,aY);},StampAnnotation:function(aY,aF){var R=cq.Common.apply(this,arguments);if(aY.label){R.setLabel(aY.label);}if(aY.color){R.setColor(aY.color);}return cq.postCreate(R,aY);},StampRedaction:function(aY,aF){var R=cq.Common.apply(this,arguments);if(aY.label){R.setLabel(aY.label);}return cq.postCreate(R,aY);},StrikethroughAnnotation:function(aY,aF){var R=cq.Common.apply(this,arguments);if(aY.color){R.setColor(aY.color);}if(aY.thickness){R.setThickness(aY.thickness);}return cq.postCreate(R,aY);},TextAnnotation:function(aY,aF){var R=cq.Common.apply(this,arguments);if(aY.borderColor){R.setBorderColor(aY.borderColor);}if(aY.borderThickness){R.setBorderThickness(aY.borderThickness);}if(aY.fillColor){R.setFillColor(aY.fillColor);}if(aY.fontColor){R.setFontColor(aY.fontColor);}if(aY.fontName){R.setFontName(aY.fontName);}if(aY.fontSize){R.setFontSize(aY.fontSize);}if(aY.fontStyle){R.setFontStyle(aY.fontStyle);}if(aY.maxLength){R.setMaxLength(aY.maxLength);}if(aY.horizontalAlignment){R.setHorizontalAlignment(aY.horizontalAlignment);}if(aY.opacity){R.setOpacity(aY.opacity);}if(aY.text){R.setText(aY.text);}return cq.postCreate(R,aY);},TextAreaSignature:function(aY,aF){var R=cq.Common.apply(this,arguments);if(aY.text){R.setText(aY.text);}if(aY.fontColor){R.setFontColor(aY.fontColor);}if(aY.fontName){R.setFontName(aY.fontName);}if(aY.maxFontSize){R.setMaxFontSize(aY.maxFontSize);}if(aY.fontStyle){R.setFontStyle(aY.fontStyle);}if(aY.maxLength){R.setMaxLength(aY.maxLength);}if(aY.horizontalAlignment){R.setHorizontalAlignment(aY.horizontalAlignment);}return cq.postCreate(R,aY);},TextHyperlinkAnnotation:function(aY,aF){var R=cq.Common.apply(this,arguments);if(aY.fillColor){R.setFillColor(aY.fillColor);}if(aY.href){R.setHref(aY.href);}return cq.postCreate(R,aY);},TextInputSignature:function(aY,aF){var R=cq.Common.apply(this,arguments);if(aY.fontColor){R.setFontColor(aY.fontColor);}if(aY.fontName){R.setFontName(aY.fontName);}if(aY.text){R.setText(aY.text);}if(aY.maxLength){R.setMaxLength(aY.maxLength);}if(aY.mask){cq.setMask(R,aY.mask);}if(aY.horizontalAlignment){R.setHorizontalAlignment(aY.horizontalAlignment);}return cq.postCreate(R,aY);},TextRedaction:function(aY,aF){var R=cq.Common.apply(this,arguments);if(aY.fontColor){R.setFontColor(aY.fontColor);}if(aY.fontName){R.setFontName(aY.fontName);}if(aY.fontSize){R.setFontSize(aY.fontSize);}if(aY.maxLength){R.setMaxLength(aY.maxLength);}if(aY.text){R.setText(aY.text);}if(aY.horizontalAlignment){R.setHorizontalAlignment(aY.horizontalAlignment);}return cq.postCreate(R,aY);},TextSelectionRedaction:function(aY,aF){var R=cq.Common.apply(this,arguments);if(aY.reason){R.setReason(aY.reason);}return cq.postCreate(R,aY);},TextSignature:function(aY,aF){var R=cq.Common.apply(this,arguments);if(aY.color){R.setColor(aY.color);}if(aY.fontName){R.setFontName(aY.fontName);}if(aY.text){R.setText(aY.text);}if(aY.horizontalAlignment){R.setHorizontalAlignment(aY.horizontalAlignment);}return cq.postCreate(R,aY);},TransparentRectangleRedaction:function(aY,aF){var R=cq.Common.apply(this,arguments);return cq.postCreate(R,aY);}};module.exports=cq;},{}],149:[function(require,module,exports){var DP={HideSideHandlesWhenClose:"HideSideHandlesWhenClose",HideCornerHandlesWhenClose:"HideCornerHandlesWhenClose"};module.exports=DP;},{}],150:[function(require,module,exports){var fe={serializeMask:function(jv){var afK={value:jv.value,translations:{}};IPCC.V.forEach(jv.translations,function(aH,au){afK.translations[au]=aH.toString();});return afK;},copyRectangle:function(H){return{x:H.x,y:H.y,width:H.width,height:H.height};},Common:function(bb,aL){var aq;var bi;if(bb.page){aq=bb.page.get_pageHeight();bi=bb.page.get_pageWidth();}else{aq=null;bi=null;}var ah=bb.mark.getPageNumber();var aY={uid:bb.mark.getUid(),interactionMode:bb.mark.getInteractionMode(),pageNumber:ah,type:bb.mark.getType(),creationDateTime:IPCC.V.wJ(bb.mark.L.alK()),modificationDateTime:IPCC.V.wJ(bb.mark.L.amb()),data:fe.Data(bb.mark),conversation:fe.Conversation(bb.mark.getConversation())};function zd(ay){return{x:ay.x,y:ay.y};};function avt(){var IG=IPCC.V.map([].concat(bb.mark.L,bb.mark.dN),function(L){if(bi!==null){return{pageNumber:L.aU+1,pageData:{width:bi,height:aq},startIndex:L.get_startIndex(),textLength:L.get_textLength(),lines:IPCC.V.map(L.aI,function(bF){if(bF.get_rectangle){return fe.copyRectangle(bF.get_rectangle());}else{return fe.copyRectangle(bF);}})};}else{return{pageNumber:L.aU+1,startIndex:L.get_startIndex(),textLength:L.get_textLength(),lines:IPCC.V.map(L.aI,function(bF){if(bF.get_rectangle){return fe.copyRectangle(bF.get_rectangle());}else{return fe.copyRectangle(bF);}})};}});aY.lineGroups=IG;};function aeN(){if(bb.mark.getRectangle){aY.rectangle=fe.copyRectangle(bb.mark.getRectangle());if(bi!==null){aY.pageData={width:bi,height:aq};}}if(bb.mark.getStartPoint){aY.startPoint=zd(bb.mark.getStartPoint());if(bi!==null){aY.pageData=aY.pageData||{width:bi,height:aq};}}if(bb.mark.getEndPoint){aY.endPoint=zd(bb.mark.getEndPoint());if(bi!==null){aY.pageData=aY.pageData||{width:bi,height:aq};}}if(bb.mark.getPoints){var bo=bb.mark.getPoints();aY.points=IPCC.V.map(bo,zd);if(bi!==null){aY.pageData={width:bi,height:aq};}}if(bb.mark.L.aI){avt();}};if(bi!==undefined&&aq!==undefined&&bi!==0&&aq!==0){aeN();aL(undefined,aY);}else{bb.vc.requestPageAttributes(ah).then(function aIb(ajy){aq=ajy.height;bi=ajy.width;aeN();aL(undefined,aY);},function aFy(fk){aL(fk);});}},Data:function(aY){return IPCC.V.reduce(aY.getDataKeys(),function(ft,au){ft[au]=aY.getData(au);return ft;},{});},Comment:function(bZ){return{text:bZ.getText(),data:fe.Data(bZ),creationDateTime:IPCC.V.wJ(bZ.getCreationTime())};},Conversation:function(dC){return{comments:IPCC.V.map(dC.getComments(),function(bZ){return fe.Comment(bZ);}),data:fe.Data(dC)};},EllipseAnnotation:function(bb,aL){fe.RectangleAnnotation(bb,aL);},FreehandAnnotation:function(bb,aL){fe.Common(bb,function(cA,aY){if(cA){aL(cA);return;}aY=IPCC.V.extend(aY,{color:bb.mark.getColor(),opacity:bb.mark.getOpacity(),path:bb.mark.getPath(),thickness:bb.mark.getThickness()});aL(undefined,aY);});},FreehandSignature:function(bb,aL){fe.Common(bb,function(cA,aY){if(cA){aL(cA);return;}aY=IPCC.V.extend(aY,{color:bb.mark.getColor(),path:bb.mark.getPath(),thickness:bb.mark.getThickness(),horizontalAlignment:bb.mark.getHorizontalAlignment()});aL(undefined,aY);});},HighlightAnnotation:function(bb,aL){fe.Common(bb,function(cA,aY){if(cA){aL(cA);return;}var dq=bb.mark.getPosition();aY=IPCC.V.extend(aY,{fillColor:bb.mark.getFillColor(),textLength:dq.length,startIndex:dq.startIndex,selectedText:bb.mark.getText()});aL(undefined,aY);});},ImageStampAnnotation:function(bb,aL){fe.Common(bb,function(cA,aY){if(cA){aL(cA);return;}var bu=bb.mark.getImage();aY=IPCC.V.extend(aY,{imageDataUrl:bu.dataUrl,imageId:bu.id});aL(undefined,aY);});},ImageStampRedaction:function(bb,aL){fe.ImageStampAnnotation(bb,aL);},LineAnnotation:function(bb,aL){fe.Common(bb,function(cA,aY){if(cA){aL(cA);return;}aY=IPCC.V.extend(aY,{color:bb.mark.getColor(),endHeadType:bb.mark.getEndHeadType(),opacity:bb.mark.getOpacity(),thickness:bb.mark.getThickness()});aL(undefined,aY);});},PolylineAnnotation:function(bb,aL){fe.Common(bb,function(cA,aY){if(cA){aL(cA);return;}aY=IPCC.V.extend(aY,{color:bb.mark.getColor(),opacity:bb.mark.getOpacity(),thickness:bb.mark.getThickness()});aL(undefined,aY);});},RectangleAnnotation:function(bb,aL){fe.Common(bb,function(cA,aY){if(cA){aL(cA);return;}aY=IPCC.V.extend(aY,{borderColor:bb.mark.getBorderColor(),borderThickness:bb.mark.getBorderThickness(),fillColor:bb.mark.getFillColor(),opacity:bb.mark.getOpacity()});aL(undefined,aY);});},RectangleRedaction:function(bb,aL){fe.Common(bb,function(cA,aY){if(cA){aL(cA);return;}aY=IPCC.V.extend(aY,{reason:bb.mark.getReason(),fillColor:bb.mark.getFillColor(),borderColor:bb.mark.getBorderColor(),borderThickness:bb.mark.getBorderThickness(),fontColor:bb.mark.getFontColor()});aL(undefined,aY);});},StampAnnotation:function(bb,aL){fe.Common(bb,function(cA,aY){if(cA){aL(cA);return;}aY=IPCC.V.extend(aY,{label:bb.mark.getLabel(),color:bb.mark.getColor()});aL(undefined,aY);});},StampRedaction:function(bb,aL){fe.Common(bb,function(cA,aY){if(cA){aL(cA);return;}aY=IPCC.V.extend(aY,{label:bb.mark.getLabel()});aL(undefined,aY);});},StrikethroughAnnotation:function(bb,aL){fe.Common(bb,function(cA,aY){if(cA){aL(cA);return;}var dq=bb.mark.getPosition();aY=IPCC.V.extend(aY,{color:bb.mark.getColor(),thickness:bb.mark.getThickness(),textLength:dq.length,startIndex:dq.startIndex,selectedText:bb.mark.getText()});aL(undefined,aY);});},TextAnnotation:function(bb,aL){fe.Common(bb,function(cA,aY){if(cA){aL(cA);return;}aY=IPCC.V.extend(aY,{borderColor:bb.mark.getBorderColor(),borderThickness:bb.mark.getBorderThickness(),fillColor:bb.mark.getFillColor(),fontColor:bb.mark.getFontColor(),fontName:bb.mark.getFontName(),fontSize:bb.mark.getFontSize(),fontStyle:bb.mark.getFontStyle(),maxLength:bb.mark.getMaxLength(),horizontalAlignment:bb.mark.getHorizontalAlignment(),opacity:bb.mark.getOpacity(),text:bb.mark.getText()});aL(undefined,aY);});},TextAreaSignature:function(bb,aL){fe.Common(bb,function(cA,aY){if(cA){aL(cA);return;}aY=IPCC.V.extend(aY,{text:bb.mark.getText(),fontColor:bb.mark.getFontColor(),fontName:bb.mark.getFontName(),fontStyle:bb.mark.getFontStyle(),maxFontSize:bb.mark.getMaxFontSize(),maxLength:bb.mark.getMaxLength(),horizontalAlignment:bb.mark.getHorizontalAlignment(),});aL(undefined,aY);});},TextHyperlinkAnnotation:function(bb,aL){fe.Common(bb,function(cA,aY){if(cA){aL(cA);return;}var dq=bb.mark.getPosition();aY=IPCC.V.extend(aY,{href:bb.mark.getHref(),fillColor:bb.mark.getFillColor(),textLength:dq.length,startIndex:dq.startIndex,selectedText:bb.mark.getText()});aL(undefined,aY);});},TextInputSignature:function(bb,aL){fe.Common(bb,function(cA,aY){if(cA){aL(cA);return;}aY=IPCC.V.extend(aY,{fontColor:bb.mark.getFontColor(),fontName:bb.mark.getFontName(),text:bb.mark.getText(),mask:bb.mark.getMask(),maxLength:bb.mark.getMaxLength(),horizontalAlignment:bb.mark.getHorizontalAlignment()});if(bb.mark.getMask()){aY.mask=fe.serializeMask(bb.mark.getMask());}aL(undefined,aY);});},TextRedaction:function(bb,aL){fe.Common(bb,function(cA,aY){if(cA){aL(cA);return;}aY=IPCC.V.extend(aY,{fontColor:bb.mark.getFontColor(),fontName:bb.mark.getFontName(),fontSize:bb.mark.getFontSize(),text:bb.mark.getText(),maxLength:bb.mark.getMaxLength(),horizontalAlignment:bb.mark.getHorizontalAlignment()});aL(undefined,aY);});},TextSelectionRedaction:function(bb,aL){fe.Common(bb,function(cA,aY){if(cA){aL(cA);return;}var dq=bb.mark.getPosition();aY=IPCC.V.extend(aY,{reason:bb.mark.getReason(),textLength:dq.length,startIndex:dq.startIndex,selectedText:bb.mark.getText()});aL(undefined,aY);});},TextSignature:function(bb,aL){fe.Common(bb,function(cA,aY){if(cA){aL(cA);return;}aY=IPCC.V.extend(aY,{color:bb.mark.getColor(),fontName:bb.mark.getFontName(),text:bb.mark.getText(),horizontalAlignment:bb.mark.getHorizontalAlignment()});aL(undefined,aY);});},TransparentRectangleRedaction:function(bb,aL){fe.Common(bb,aL);}};module.exports=fe;},{}],151:[function(require,module,exports){'use strict';var IPCC=require('./../IPCC/IPCC');var Data=require('./PCCViewer.Data').Data;var SessionData=require('./PCCViewer.Data').SessionData;function Mark(parameters){this.ah=0;this.dr=undefined;this.AN=false;this.lP=Mark.InteractionMode.Full;this.de=true;if(parameters.uid&&parameters.viewerControl){(function(aT,ld){IPCC.V.forEach(aT,function validateMark(ka){if(ka.getUid()===ld){throw new Error('Uid '+ld+' already exists in the document and cannot be duplicated.');}});})(parameters.viewerControl.getAllMarks(),parameters.uid);}var ld=parameters.uid||IPCC.V.adH();if(parameters.igMark&&parameters.igMark instanceof IPCC.Web.UI.Mark){this.L=parameters.igMark;this.dr=this.L.get_markID().toString();this.cT=this.L.get_data();}else{this.cT=new IPCC.Web.UI.Data();}Data.extend(this);this.DN=new IPCC.Web.UI.Data();SessionData.extend(this);if(parameters.pageNumber!==undefined){IPCC.bw.gr(parameters.pageNumber,'pageNumber');this.ah=parameters.pageNumber;}if(parameters.id!==undefined){IPCC.bw.lW(parameters.id,'id');this.dr=parameters.id;}if(parameters.type&&parameters.type==='PlaceSignature'&&parameters.AN){this.bG=parameters.type;this.AN=true;}else if(parameters.type!==undefined){IPCC.bw.lW(parameters.type,'type');var Ir=Pa(parameters.type,Mark.Type);if(Ir===null){throw new RangeError("The value of mark type was invalid.");}this.bG=Ir;}if('dc'in parameters){this.dc=parameters.dc;}if('aw'in parameters){this.aw=parameters.aw;}addPropertiesToMark(this);addMethodsToMark(this);this.getUid=function(){return ld;};if(Object.defineProperties&&Object.defineProperty){Object.defineProperty(this,'uid',{value:ld,enumerable:true,writable:false});}};Mark.prototype.getType=function(){return this.bG;};Mark.prototype.getId=function(){return this.dr;};Mark.prototype.getPageNumber=function(){return this.ah;};Mark.prototype.getConversation=function(){if(!this.dC){this.dC=new PCCViewer.Conversation(this);}return this.dC;};Mark.prototype.getBoundingRectangle=function(){if(this.L){var bF=this.L.get_boundingRectangle();if(bF instanceof IPCC.Web.UI.Rectangle){this.mf={width:bF.width,height:bF.height,x:bF.x,y:bF.y};}}return this.mf;};Mark.prototype.getInteractionMode=function(){if(this.L){switch(this.L.get_interactionMode()){case IPCC.Web.UI.MarkInteractionMode.SelectionDisabled:return PCCViewer.Mark.InteractionMode.SelectionDisabled;case IPCC.Web.UI.MarkInteractionMode.Full:return PCCViewer.Mark.InteractionMode.Full;default:return PCCViewer.Mark.InteractionMode.Full;}}return this.lP;};Mark.prototype.setInteractionMode=function(interactionMode){var lP=Pa(interactionMode,PCCViewer.Mark.InteractionMode),YO;switch(lP){case PCCViewer.Mark.InteractionMode.SelectionDisabled:YO=IPCC.Web.UI.MarkInteractionMode.SelectionDisabled;break;case PCCViewer.Mark.InteractionMode.Full:YO=IPCC.Web.UI.MarkInteractionMode.Full;break;default:throw new Error("The specified interactionMode is not valid.");}if(this.L){this.L.set_interactionMode(YO);}this.lP=lP;return this;};Mark.prototype.reset=function(){var dw=new Mark({type:this.bG,AN:this.AN});this.cT={};if(this.setBorderColor&&dw.getBorderColor){this.setBorderColor(dw.getBorderColor());}if(this.setBorderThickness&&dw.getBorderThickness){this.setBorderThickness(dw.getBorderThickness());}if(this.setColor&&dw.getColor){this.setColor(dw.getColor());}if(this.setEndHeadType&&dw.getEndHeadType){this.setEndHeadType(dw.getEndHeadType());}if(this.setEndPoint&&dw.getEndPoint){this.setEndPoint(dw.getEndPoint());}if(this.setFillColor&&dw.getFillColor){this.setFillColor(dw.getFillColor());}if(this.setFontColor&&dw.getFontColor){this.setFontColor(dw.getFontColor());}if(this.setFontName&&dw.getFontName){this.setFontName(dw.getFontName());}if(this.setFontSize&&dw.getFontSize){this.setFontSize(dw.getFontSize());}if(this.setFontStyle&&dw.getFontStyle){this.setFontStyle(dw.getFontStyle());}if(this.setHorizontalAlignment&&dw.getHorizontalAlignment){this.setHorizontalAlignment(dw.getHorizontalAlignment());}if(this.setLabel&&dw.getLabel){this.setLabel(dw.getLabel());}if(this.setPosition&&this.L&&dw.getPosition){this.setPosition(dw.getPosition());}if(this.setReason&&dw.setReason){this.setReason(dw.getReason());}if(this.setOpacity&&dw.getOpacity){this.setOpacity(dw.getOpacity());}if(this.setRectangle&&dw.getRectangle){this.setRectangle(dw.getRectangle());}if(this.setStartPoint&&dw.getStartPoint){this.setStartPoint(dw.getStartPoint());}if(this.setText&&dw.getText){this.setText(dw.getText());}if(this.setThickness&&dw.getThickness){this.setThickness(dw.getThickness());}if(this.setPath&&dw.getPath){this.setPath(dw.getPath());}if(this.setHref&&dw.getHref){this.setHref(dw.getHref());}if(this.setImage&&dw.getImage){this.setImage(dw.getImage());}if(this.setInteractionMode&&dw.getInteractionMode){this.setInteractionMode(dw.getInteractionMode());}if(this.setPoints&&dw.getPoints){this.setPoints(dw.getPoints());}if(this.setMask&&dw.getMask){this.setMask(dw.getMask());}if(this.setMaxLength&&dw.getMaxLength){this.setMaxLength(dw.getMaxLength());}if(this.setMaxFontSize&&dw.getMaxFontSize){this.setMaxFontSize(dw.getMaxFontSize());}};if(Object.defineProperties){Object.defineProperties(Mark.prototype,{"type":{enumerable:true,get:function(){return this.getType();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();}},"id":{enumerable:true,get:function(){return this.getId();}},"conversation":{enumerable:true,get:function(){return this.getConversation();}},"boundingRectangle":{enumerable:true,get:function(){return this.getBoundingRectangle();}},"interactionMode":{enumerable:true,get:function(){return this.getInteractionMode();},set:function(value){return this.setInteractionMode(value);}}});}Mark.Type={LineAnnotation:"LineAnnotation",RectangleAnnotation:"RectangleAnnotation",EllipseAnnotation:"EllipseAnnotation",TextAnnotation:"TextAnnotation",StampAnnotation:"StampAnnotation",HighlightAnnotation:"HighlightAnnotation",RectangleRedaction:"RectangleRedaction",TransparentRectangleRedaction:"TransparentRectangleRedaction",TextHyperlinkAnnotation:"TextHyperlinkAnnotation",TextRedaction:"TextRedaction",StampRedaction:"StampRedaction",FreehandAnnotation:"FreehandAnnotation",FreehandSignature:"FreehandSignature",TextSignature:"TextSignature",TextInputSignature:"TextInputSignature",TextAreaSignature:"TextAreaSignature",TextSelectionRedaction:"TextSelectionRedaction",ImageStampAnnotation:"ImageStampAnnotation",ImageStampRedaction:"ImageStampRedaction",PolylineAnnotation:"PolylineAnnotation",StrikethroughAnnotation:"StrikethroughAnnotation"};Mark.LineHeadType={None:"None",FilledTriangle:"FilledTriangle"};Mark.FontStyles={Bold:"Bold",Italic:"Italic",Strikeout:"Strikeout",Underline:"Underline"};Mark.InteractionMode={Full:"Full",SelectionDisabled:"SelectionDisabled"};Mark.HorizontalAlignment={Center:"Center",Left:"Left",Right:"Right"};function Pa(TK,bG){var YX=TK.toLowerCase();for(var standardType in bG){if(bG.hasOwnProperty(standardType)&&standardType.toLowerCase&&standardType.toLowerCase()===YX){return standardType;}}return null;};function addMethodsToMark(R){function avO(R){R.highlightText=function(highlights){if(!this.L){throw new Error("It is invalid to highlight text on this mark.");}var jL;if(highlights!==null&&typeof highlights!=="undefined"){if(Object.prototype.toString.call(highlights)!=='[object Array]'){jL=[highlights];}else{jL=highlights;}for(var i=0;i<jL.length;i++){axh(jL[i]);}}else{jL=[];}var bG=R.getType();switch(bG){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:R.L.selectText(jL);break;case Mark.Type.HighlightAnnotation:case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.StrikethroughAnnotation:var T=this;var PK=[];var rz=false,LO=0,JT,Cn;var afy=function(Gt,aqi,fP){var xM;var VM= -1,PB=[];var wi=(Gt.ak+Gt.ck);if(rz===true&&JT>=0&&Cn>=0){if(Gt.aU-1===JT){xM=0;if(LO<=wi){PB.push({startIndex:xM,length:LO,color:fP[Cn].color,opacity:(fP[Cn].opacity)?fP[Cn].opacity:127});rz=false;LO=0;JT= -1;Cn= -1;}}}for(var aR=0;aR<fP.length;aR++){xM=Gt.ak+fP[aR].startIndex-aqi;if(xM<0){continue;}if(Array.prototype.indexOf){VM=PK.indexOf(aR);}else{VM=IPCC.Web.jk(PK,aR);}var cz=127;if(VM=== -1){if(xM+fP[aR].length<=wi){if(fP[aR].opacity){cz=fP[aR].opacity;}PB.push({startIndex:xM,length:fP[aR].length,color:fP[aR].color,opacity:cz});PK.push(aR);T.Dx.push(fP[aR]);}else{var Wk=wi-xM;if(Wk>0){LO=fP[aR].length-Wk;cz=127;if(fP[aR].opacity){cz=fP[aR].opacity;}PB.push({startIndex:xM,length:Wk,color:fP[aR].color,opacity:cz});PK.push(aR);T.Dx.push(fP[aR]);rz=true;Cn=aR;JT=Gt.aU;}}}}return PB;};this.Dx=[];var fD=afy(this.L,0,jL);R.clearHighlights();if(fD.length>0){T.L.selectText(fD);}fD=[];var gu=this.L.ck;if(this.dN&&this.dN.length){for(var C=0;C<this.dN.length;C++){fD=[];fD=afy(this.dN[C],gu,jL);gu+=this.dN[C].ck;if(fD.length>0){this.dN[C].selectText(fD);}}}break;}return this;};function axh(Gc){IPCC.bw.lN(Gc.startIndex,'highlight.startIndex',0,R.getText().length);IPCC.bw.lN(Gc.length,'highlight.length',1,Number.MAX_VALUE);IPCC.bw.cW(Gc.color,'highlight.color');if(Gc.opacity){IPCC.bw.lN(Gc.opacity,"highlight.opacity",0,255);}};R.clearHighlights=function(){if(this.L){if(!this.L){throw new Error("It is invalid to clear highlights on this mark.");}}var bG=R.getType();switch(bG){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:R.L.selectText();break;case Mark.Type.HighlightAnnotation:case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.StrikethroughAnnotation:this.L.selectText();if(this.dN&&this.dN.length){for(var C=0;C<this.dN.length;C++){this.dN[C].selectText();}}break;}return this;};};var bG=R.getType();switch(bG){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.HighlightAnnotation:case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.StrikethroughAnnotation:avO(R);break;default:break;}};function addPropertiesToMark(R){R.mf={x:0,y:0,width:0,height:0};var bG=R.getType();switch(bG){case Mark.Type.LineAnnotation:R.cW='#18385F';R.ij=IPCC.Web.UI.LineStyle.Solid;R.nI=6;R.cz=255;R.QS={x:0,y:0};R.wi={x:0,y:0};R.pj="None";break;case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:R.dP='#FB0404';R.cz=255;R.nZ='#000000';R.mU=4;R.H={x:0,y:0,width:0,height:0};break;case Mark.Type.RectangleRedaction:R.fk="";R.dP='#000000';R.nZ='#000000';R.mU=1;R.gn='#FFFFFF';R.H={x:0,y:0,width:0,height:0};R.pn=true;if(R.L){R.L.kU(R.pn);}break;case Mark.Type.TransparentRectangleRedaction:R.H={x:0,y:0,width:0,height:0};R.pn=true;if(R.L){R.L.kU(R.pn);R.L.set_fillColor('#FFFF00');R.L.set_opacity(127);R.L.set_lineWidth(1);R.L.set_lineColor('#FFFF00');}break;case Mark.Type.TextAnnotation:R.aO='';R.dP='#FFFFFF';R.cz=127;R.nZ='#000000';R.mU=4;R.gn='#000000';R.gl="Arial";R.co=12;R.du=[];R.nk="Left";R.gN=0;R.H={x:0,y:0,width:0,height:0};break;case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:R.tF="Approved";R.H={x:0,y:0,width:0,height:0};if(bG===Mark.Type.StampRedaction){R.pn=true;if(R.L){R.L.kU(R.pn);R.L.set_fillColor('#000000');}}else{R.cW="#000000";}break;case Mark.Type.HighlightAnnotation:R.dP="#FFFF00";R.aO='';R.cf='';if(R.L){if(R.L.cf){R.aO=R.L.cf;}}R.dq={startIndex:0,length:0};R.Dx=[];R.dN=[];break;case Mark.Type.TextSelectionRedaction:R.fk="";R.aO='';R.dq={startIndex:0,length:0};if(R.L){R.L.set_fillColor('#000000');if(R.L.cf){R.aO=R.L.cf;}}R.Dx=[];R.dN=[];break;case Mark.Type.TextHyperlinkAnnotation:R.mg='';R.dP="#3B00FF";R.aO='';if(R.L){if(R.L.cf){R.aO=R.L.cf;}}R.dq={startIndex:0,length:0};R.Dx=[];R.dN=[];break;case Mark.Type.TextRedaction:R.aO='';R.gn='#000000';R.gl="Arial";R.co=12;R.H={x:0,y:0,width:0,height:0};R.pn=true;R.gN=0;if(R.L){R.L.kU(R.pn);R.L.set_fillColor('#FFFFFF');}R.nk="Left";break;case Mark.Type.FreehandAnnotation:R.cz=255;R.H={x:0,y:0,width:0,height:0};R.nI=4;R.cW='#000000';R.gh='M0,0';break;case Mark.Type.FreehandSignature:R.H={x:0,y:0,width:0,height:0};R.nI=4;R.cW='#000000';R.nk="Center";R.gh='M0,0';break;case Mark.Type.TextSignature:R.aO="John Doe";R.H={x:0,y:0,width:0,height:0};R.cW="#000000";if(R.L){R.cW=R.L.dP||'#000000';R.L.kU(R.pn);R.L.set_fillColor(R.cW);}R.nk="Center";R.gl="";break;case Mark.Type.TextInputSignature:R.aO="";R.H={x:0,y:0,width:0,height:0};R.gn="#000000";R.gN=0;if(R.L){R.gn=R.L.get_textColor()||'#000000';R.L.kU(false);}R.nk="Left";R.gl="Courier New";R.jv=null;break;case Mark.Type.TextAreaSignature:R.aO="";R.H={x:0,y:0,width:0,height:0};R.gn="#000000";if(R.L){R.gn=R.L.get_textColor()||'#000000';R.L.kU(false);}R.nk="Left";R.gl="Courier New";R.du=[];R.gN=0;R.hX=0;break;case 'PlaceSignature':R.jV=undefined;R.H={x:0,y:0,width:0,height:0};break;case Mark.Type.ImageStampAnnotation:case Mark.Type.ImageStampRedaction:R.bu="";R.pD="";R.H={x:0,y:0,width:0,height:0};if(R.L&&bG===Mark.Type.ImageStampRedaction){R.pn=true;R.L.kU(R.pn);}break;case Mark.Type.PolylineAnnotation:R.cW='#000000';R.ij=IPCC.Web.UI.LineStyle.Solid;R.nI=2;R.cz=255;R.bo=[{x:0,y:0},{x:0,y:0}];break;case Mark.Type.StrikethroughAnnotation:R.cW='#000000';R.ij=IPCC.Web.UI.LineStyle.Solid;R.nI=2;R.aO='';R.cf='';if(R.L){if(R.L.cf){R.aO=R.L.cf;}}R.dq={startIndex:0,length:0};R.Dx=[];R.dN=[];break;}function getSignature(){return this.jV||undefined;};function setSignature(signature){if(typeof signature==='undefined'){this.jV=undefined;return;}else if(typeof signature!=='object'){throw new Error("The parameter `signature` is not an Object.");}if(!signature.path&& !signature.text){throw new Error("The parameter `signature` should have at least one of these properties: text, path");}else{if(signature.path){if(signature.path.length<1){throw new Error("The property `signature.path` cannot be empty.");}else if(signature.path.match(/[^MLC0-9,.\s]/)){throw new Error("The property `signature.path` has invalid characters.");}}else if(signature.text){if(signature.text.length<1){signature.text='';}}}this.jV=signature;return this;};if(R.jV||R.bG==='PlaceSignature'){R.getSignature=getSignature;R.setSignature=setSignature;if(Object.defineProperties){Object.defineProperties(R,{"signature":{enumerable:true,get:function(){return this.getSignature();},set:function(value){return this.setSignature(value);}}});}}function getColor(){if(this.L){switch(this.bG){case Mark.Type.LineAnnotation:case Mark.Type.PolylineAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.FreehandAnnotation:case Mark.Type.StrikethroughAnnotation:this.cW=this.L.get_lineColor()||this.cW;break;case Mark.Type.StampAnnotation:case Mark.Type.TextSignature:this.cW=this.L.get_fillColor()||this.cW;break;}}return this.cW;};function setColor(value){IPCC.bw.cW(value,'color');this.cW=value;if(this.L){switch(this.bG){case Mark.Type.LineAnnotation:case Mark.Type.PolylineAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.FreehandAnnotation:this.L.set_lineColor(value);break;case Mark.Type.StampAnnotation:this.L.set_fillColor(value);break;case Mark.Type.TextSignature:this.L.set_textColor(value);this.L.set_fillColor(value);break;case Mark.Type.StrikethroughAnnotation:this.L.set_lineColor(value);if(this.dN&&this.dN.length){for(var C=0;C<this.dN.length;C++){this.dN[C].set_lineColor(value);}}break;}}return this;};if(R.cW!==undefined){R.getColor=getColor;R.setColor=setColor;if(Object.defineProperties){Object.defineProperties(R,{"color":{enumerable:true,get:function(){return this.getColor();},set:function(value){return this.setColor(value);}}});}}function getFillColor(){if(this.L){switch(this.bG){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.HighlightAnnotation:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.RectangleRedaction:this.dP=this.L.get_fillColor()||this.dP;break;}}return this.dP;};function setFillColor(value){if(this.bG===PCCViewer.Mark.Type.HighlightAnnotation||this.bG===PCCViewer.Mark.Type.TextHyperlinkAnnotation){IPCC.bw.cW(value,'fillColor');}else{IPCC.bw.Tn(value,'fillColor');}this.dP=value;if(this.L){switch(this.bG){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.L.set_fillColor(value);break;case Mark.Type.HighlightAnnotation:case Mark.Type.TextHyperlinkAnnotation:this.L.set_fillColor(value);if(this.dN&&this.dN.length){for(var C=0;C<this.dN.length;C++){this.dN[C].set_fillColor(value);}}break;}}return this;};if(R.dP!==undefined){R.getFillColor=getFillColor;R.setFillColor=setFillColor;if(Object.defineProperties){Object.defineProperties(R,{"fillColor":{enumerable:true,get:function(){return this.getFillColor();},set:function(value){return this.setFillColor(value);}}});}}function getImage(){var retVal={dataUrl:this.bu,id:this.pD};return retVal;};function setImage(params){IPCC.bw.lW(params.dataUrl,'string');IPCC.bw.lW(params.id,'string');this.bu=params.dataUrl;this.pD=params.id;if(this.L){switch(this.bG){case Mark.Type.ImageStampAnnotation:case Mark.Type.ImageStampRedaction:this.L.set_image(params.dataUrl);this.L.pD=params.id;break;}}return this;};if(R.bu!==undefined){R.getImage=getImage;R.setImage=setImage;if(Object.defineProperties){Object.defineProperties(R,{"image":{enumerable:true,get:function(){return this.getImage();},set:function(params){return this.setImage(params);}}});}}function getBorderColor(){if(this.L){switch(this.bG){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.nZ=this.L.get_lineColor()||this.nZ;break;}}return this.nZ;};function setBorderColor(value){IPCC.bw.Tn(value,'borderColor');this.nZ=value;if(this.L){switch(this.bG){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.L.set_lineColor(value);break;}}return this;};if(R.nZ!==undefined){R.getBorderColor=getBorderColor;R.setBorderColor=setBorderColor;if(Object.defineProperties){Object.defineProperties(R,{"borderColor":{enumerable:true,get:function(){return this.getBorderColor();},set:function(value){return this.setBorderColor(value);}}});}}function getOpacity(){if(this.L){switch(this.bG){case Mark.Type.LineAnnotation:case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.FreehandAnnotation:case Mark.Type.PolylineAnnotation:this.cz=this.L.get_opacity()||this.cz;break;}}return this.cz;};function setOpacity(value){IPCC.bw.lN(value,'opacity',0,255);this.cz=value;if(this.L){switch(this.bG){case Mark.Type.LineAnnotation:case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.FreehandAnnotation:case Mark.Type.PolylineAnnotation:this.L.set_opacity(value);break;}}return this;};if(R.cz!==undefined&&R.cz>=0){R.getOpacity=getOpacity;R.setOpacity=setOpacity;if(Object.defineProperties){Object.defineProperties(R,{"opacity":{enumerable:true,get:function(){return this.getOpacity();},set:function(value){return this.setOpacity(value);}}});}}function getThickness(){if(this.L){switch(this.bG){case Mark.Type.LineAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.FreehandAnnotation:case Mark.Type.PolylineAnnotation:case Mark.Type.StrikethroughAnnotation:this.nI=this.L.get_lineWidth()||this.nI;break;}}return this.nI;};function setThickness(value){IPCC.bw.kz(value,'thickness',1,50);this.nI=value;if(this.L){switch(this.bG){case Mark.Type.LineAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.FreehandAnnotation:case Mark.Type.PolylineAnnotation:this.L.set_lineWidth(value);break;case Mark.Type.StrikethroughAnnotation:this.L.set_lineWidth(value);if(this.dN&&this.dN.length){for(var C=0;C<this.dN.length;C++){this.dN[C].set_lineWidth(value);}}break;}}return this;};if(R.nI){R.getThickness=getThickness;R.setThickness=setThickness;if(Object.defineProperties){Object.defineProperties(R,{"thickness":{enumerable:true,get:function(){return this.getThickness();},set:function(value){return this.setThickness(value);}}});}}function getBorderThickness(){if(this.L){switch(this.bG){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.mU=this.L.get_lineWidth()||this.mU;break;}}return this.mU;};function setBorderThickness(value){IPCC.bw.kz(value,'borderThickness',1,50);this.mU=value;if(this.L){switch(this.bG){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.L.set_lineWidth(value);break;}}return this;};if(R.mU!==undefined){R.getBorderThickness=getBorderThickness;R.setBorderThickness=setBorderThickness;if(Object.defineProperties){Object.defineProperties(R,{"borderThickness":{enumerable:true,get:function(){return this.getBorderThickness();},set:function(value){return this.setBorderThickness(value);}}});}}function getVisible(){if(this.L){this.de=this.L.get_visible();}return this.de;};function setVisible(value){if(value!==true&&value!==false){throw new Error("The parameter value is invalid. The parameter must be boolean true or false.");}this.de=value;if(this.L){this.L.set_visible(value);}var C;switch(this.bG){case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.HighlightAnnotation:case Mark.Type.StrikethroughAnnotation:if(this.dN&&this.dN.length){for(C=0;C<this.dN.length;C++){this.dN[C].set_visible(value);}}if(this.bG===PCCViewer.Mark.Type.TextSelectionRedaction){var dF=this.L;for(C=0;C<this.L.aI.length;C++){dF.aI[C].set_visible(value);}if(dF.bn){IPCC.V.forEach(this.dN,function(L){for(C=0;C<L.aI.length;C++){L.aI[C].set_visible(value);}});}}break;}return this;};if(R.de!==undefined){R.getVisible=getVisible;R.setVisible=setVisible;if(Object.defineProperties){Object.defineProperties(R,{"visible":{enumerable:true,get:function(){return this.getVisible();},set:function(value){return this.setVisible(value);}}});}}function getStartPoint(){if(this.L&&this.L!==null){var bo=this.L.get_points();if(bo.get_length()>0){switch(this.bG){case Mark.Type.LineAnnotation:var ay=bo.getPoint(0);if(ay){this.QS={x:ay.x,y:ay.y};}break;}}}return this.QS;};function setStartPoint(value){IPCC.bw.gr(value.x,'startPoint'+'.x');IPCC.bw.gr(value.y,'startPoint'+'.y');if(this.L&&this.L!==null){var bo=this.L.get_points();switch(this.bG){case Mark.Type.LineAnnotation:bo.setPoint(0,new IPCC.Web.UI.Point(value.x,value.y));break;}}this.QS=value;return this;};if(R.QS){R.getStartPoint=getStartPoint;R.setStartPoint=setStartPoint;if(Object.defineProperties){Object.defineProperties(R,{"startPoint":{enumerable:true,get:function(){return this.getStartPoint();},set:function(value){return this.setStartPoint(value);}}});}}function getEndPoint(){if(this.L&&this.L!==null){var bo=this.L.get_points();if(bo.get_length()>0){switch(this.bG){case Mark.Type.LineAnnotation:var ay=bo.getPoint(1);if(ay){this.wi={x:ay.x,y:ay.y};}break;}}}return this.wi;};function setEndPoint(value){IPCC.bw.gr(value.x,'endPoint'+'.x');IPCC.bw.gr(value.y,'endPoint'+'.y');if(this.L&&this.L!==null){var bo=this.L.get_points();switch(this.bG){case Mark.Type.LineAnnotation:bo.setPoint(1,new IPCC.Web.UI.Point(value.x,value.y));break;}}this.wi=value;return this;};if(R.wi){R.getEndPoint=getEndPoint;R.setEndPoint=setEndPoint;if(Object.defineProperties){Object.defineProperties(R,{"endPoint":{enumerable:true,get:function(){return this.getEndPoint();},set:function(value){return this.setEndPoint(value);}}});}}function getEndHeadType(){if(this.L&&this.L!==null){var BG;switch(this.bG){case Mark.Type.LineAnnotation:BG=this.L.get_endHeadType();switch(BG){case IPCC.Web.UI.LineHeadType.None:this.pj=PCCViewer.Mark.LineHeadType.None;break;case IPCC.Web.UI.LineHeadType.Solid:this.pj=PCCViewer.Mark.LineHeadType.FilledTriangle;break;}break;}}return this.pj;};function setEndHeadType(value){var BG;switch(value){case Mark.LineHeadType.None:BG=IPCC.Web.UI.LineHeadType.None;break;case Mark.LineHeadType.FilledTriangle:BG=IPCC.Web.UI.LineHeadType.Solid;break;default:throw "The specified value is not a valid line head type.";}if(this.L&&this.L!==null){switch(this.bG){case Mark.Type.LineAnnotation:this.L.set_endHeadType(BG);break;}}this.pj=value;return this;};if(R.pj){R.getEndHeadType=getEndHeadType;R.setEndHeadType=setEndHeadType;if(Object.defineProperties){Object.defineProperties(R,{"endHeadType":{enumerable:true,get:function(){return this.getEndHeadType();},set:function(value){return this.setEndHeadType(value);}}});}}function getPoints(){if(this.L&&this.L!==null){var ES=this.L.get_points();var cI=ES.get_length();var ane=[];var aaJ=function(aBM,bv){ane.push(aBM.getPoint(bv));};if(cI>1){switch(this.bG){case Mark.Type.PolylineAnnotation:for(var C=0;C<cI;C++){aaJ(ES,C);}this.bo=ane;break;}}}return this.bo.slice();};function setPoints(value){if(!(value instanceof Array)){throw "invalid parameter. The parameter should be an array.";}if(value.length<=1){return;}for(var aR=0;aR<value.length;aR++){IPCC.bw.ay(value[aR],'PolylinePoint');}if(this.L&&this.L!==null){var ES=this.L.get_points();var aqy=function(bv){ES.addPoint(new IPCC.Web.UI.Point(value[bv].x,value[bv].y));};switch(this.bG){case Mark.Type.PolylineAnnotation:ES.removeAllPoints();for(var C=0;C<value.length;C++){aqy(C);}}}this.bo=value;return this;};if(R.bo){R.getPoints=getPoints;R.setPoints=setPoints;if(Object.defineProperties){Object.defineProperties(R,{"points":{enumerable:true,get:function(){return this.getPoints();},set:function(value){return this.setPoints(value);}}});}}function getRectangle(){if(this.L){switch(this.bG){case Mark.Type.RectangleAnnotation:case Mark.Type.RectangleRedaction:case Mark.Type.TransparentRectangleRedaction:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:case Mark.Type.FreehandAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:case Mark.Type.ImageStampAnnotation:case Mark.Type.ImageStampRedaction:var bF=this.L.get_rectangle();if(bF instanceof IPCC.Web.UI.Rectangle){this.H={width:bF.width,height:bF.height,x:bF.x,y:bF.y};}break;}}return this.H;};function setRectangle(value){IPCC.bw.gr(value.x,'rectangle'+'.x');IPCC.bw.gr(value.y,'rectangle'+'.y');IPCC.bw.gr(value.width,'rectangle'+'.width');IPCC.bw.gr(value.height,'rectangle'+'.height');if(this.L&&this.L!==null){switch(this.bG){case Mark.Type.RectangleAnnotation:case Mark.Type.RectangleRedaction:case Mark.Type.TransparentRectangleRedaction:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:case Mark.Type.FreehandAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:case Mark.Type.ImageStampAnnotation:case Mark.Type.ImageStampRedaction:var bF=new IPCC.Web.UI.Rectangle(value.x,value.y,value.width,value.height);this.L.set_rectangle(bF);break;}}this.H=value;return this;};if(R.H){R.getRectangle=getRectangle;R.setRectangle=setRectangle;if(Object.defineProperties){Object.defineProperties(R,{"rectangle":{enumerable:true,get:function(){return this.getRectangle();},set:function(value){return this.setRectangle(value);}}});}}function getPosition(){var da=0;if(this.L&&this.L.cf){da=this.L.cf.length;}else if(this.L){da=IPCC.V.reduce([this.L].concat(this.dN||[]),function(cI,L){return cI+L.get_textLength();},0);}return this.L?{startIndex:this.L.ak,length:da}:this.dq;};function setPosition(value){IPCC.bw.gr(value.startIndex,'position.startIndex');IPCC.bw.gr(value.length,'position.length');if(value.startIndex<0){throw new Error("The start index must be 0 or greater.");}if(value.length<0){throw new Error("The length must be 0 or greater.");}if(this.L===undefined||this.L===null){throw new Error("The mark must be on a page.");}var aK;var aG;var aU=this.ah-1;var uV= -value.startIndex;var pa=[];var cf="";var cv;while(true){if(aU>=this.dc.get_length()){throw new Error("The specified length is out of range.");}aK=this.dc.getPage(aU);if(aK.dp()&&aK.dp().vj()&&aK.dp().oa()===true){var aba=uV;var Tj=aK.dp().BY();uV+=Tj.length;if(uV<0||(uV===0&&value.length!==0)){throw new Error("The specified start index is out of range for the specified page.");}var Uo=0;if(aU===this.ah-1){Uo=value.startIndex;}if(uV>=value.length){cv=value.startIndex+value.length-1;if(aba>=0){cv=value.length-1-aba;}pa.push({pageIndex:aU,endIndex:cv});cf+=Tj.substring(Uo,cv+1);break;}else{cv=aK.dp().BY().length-1;pa.push({pageIndex:aU,endIndex:cv});cf+=Tj.substring(Uo,cv+1);}}else{throw new Error("The text has not been retrieved for this page.");}aU++;}this.bn=IPCC.wE();var C=0;if(this.dN){if(this.L){this.L.bn=this.bn;aG=this.aw.hA(this.dc.getPage(this.L.aU));if(this.L.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){for(var Vr=this.L.aI.length-1;Vr>=0;Vr--){aG.removeMark(this.L.aI[Vr]);this.L.aI.pop();}}}for(C=this.dN.length-1;C>=0;C--){var kq=this.dN[C];aG=this.aw.hA(this.dc.getPage(kq.aU));aG.removeMark(kq);this.dN.splice(C,1);}}else{this.dN=[];}Il.call(this,pa,cv,cf,value);this.dq=value;return this;};function Il(pa,cv,cf,value,WL){var C,aU,aK,aG;WL=WL||{};var aI;this.dN=this.dN||[];var ajV=(this.L.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction)?axu:axn;for(C=0;C<pa.length;C++){aU=pa[C].pageIndex;aK=this.dc.getPage(aU);var aoU=aK.dp().hn();aG=this.aw.hA(aK);var dF;var ak=0;cv=pa[C].endIndex;if(C===0){ak=value.startIndex;}aU=pa[C].pageIndex;aI=WL[aU]||IPCC.V.ST(aoU,ak,cv);if(C===0){dF=ajV(this.L,ak,cv-ak+1,cf,aI,aU,this.bn,this.L.get_type(),aG);this.L.kZ=true;}else{dF=ajV(null,ak,cv-ak+1,cf,aI,aU,this.bn,this.L.get_type(),aG);this.dN.push(dF);aG.addMark(dF);dF.set_selected(this.L.get_selected());if(this.getFillColor){dF.set_fillColor(this.L.get_fillColor());}if(this.getColor){dF.set_lineColor(this.L.get_lineColor());}if(this.getThickness){dF.set_lineWidth(this.L.get_lineWidth());}if(this.getHref){dF.set_href(this.L.get_href());}if(this.getReason){dF.set_text(this.L.get_text());}}if(C===pa.length-1){dF.lj=true;}}};if(R.dq){R.getPosition=getPosition;R.setPosition=setPosition;R.Il=Il;if(Object.defineProperties){Object.defineProperties(R,{"position":{enumerable:true,get:function(){return this.getPosition();},set:function(value){return this.setPosition(value);}}});}}function axn(R,ak,da,cf,aI,aU,ko,aD,aG){if(!R){R=new IPCC.Web.UI.Mark(aD);}R.ak=ak;R.ck=da;R.jm='y';R.bn=ko;R.cf=cf;R.aI=aI||[];R.aU=aU;var QQ=IPCC.V.reduce(R.aI,function(Iz,bF){if(!Iz){return bF.clone();}else{return Iz.union(bF);}},null);R.set_rectangle(QQ);return R;};function axu(R,ak,da,cf,aI,aU,ko,aD,aG){if(!R){R=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);}R.ak=ak;R.ck=da;R.bn=ko;R.cf=cf;R.aU=aU;R.aI=IPCC.V.map(aI,function(bF){var wu=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);wu.set_rectangle(bF);wu.kU(true);wu.set_fillColor('#000000');wu.set_text(R.aO);wu.set_lineWidth(0);wu.bn=ko;aG.addMark(wu);return wu;});var QQ=IPCC.V.reduce(aI,function(Iz,bF){if(!Iz){return bF.clone();}else{return Iz.union(bF);}},null);R.set_rectangle(QQ);return R;};function getText(){if(this.L){switch(this.bG){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:this.aO=(typeof this.L.get_text()==="string")?this.L.get_text():this.aO;break;case Mark.Type.HighlightAnnotation:case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.StrikethroughAnnotation:if(R.L.cf){this.aO=R.L.cf;}break;}}return this.aO;};function setText(value){IPCC.bw.lW(value,'text');this.aO=value;if(this.L){switch(this.bG){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:this.L.set_text(value);break;}}return this;};if(R.aO!==undefined){R.getText=getText;var aD=R.getType();if(aD!==Mark.Type.HighlightAnnotation&&aD!==Mark.Type.TextSelectionRedaction&&aD!==Mark.Type.TextHyperlinkAnnotation&&aD!==Mark.Type.StrikethroughAnnotation){R.setText=setText;}if(Object.defineProperties){var adY={enumerable:true,get:function(){return this.getText();}};if(R.setText!==undefined){adY.set=function(value){return this.setText(value);};}Object.defineProperties(R,{"text":adY});}}function getFontColor(){if(this.L){switch(this.bG){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextInputSignature:case Mark.Type.RectangleRedaction:case Mark.Type.TextAreaSignature:this.gn=this.L.get_textColor()||this.gn;break;}}return this.gn;};function setFontColor(value){IPCC.bw.cW(value,'fontColor');this.gn=value;if(this.L){switch(this.bG){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:case Mark.Type.RectangleRedaction:this.L.set_textColor(value);break;}}return this;};if(R.gn){R.getFontColor=getFontColor;R.setFontColor=setFontColor;if(Object.defineProperties){Object.defineProperties(R,{"fontColor":{enumerable:true,get:function(){return this.getFontColor();},set:function(value){return this.setFontColor(value);}}});}}function getFontName(){if(this.L){switch(this.bG){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:this.gl=this.L.get_fontName()||this.gl;break;}}return this.gl;};function setFontName(value){IPCC.bw.lW(value,'fontName');this.gl=value;if(this.L){switch(this.bG){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:this.L.set_fontName(value);break;}}return this;};if(R.gl!==undefined){R.getFontName=getFontName;R.setFontName=setFontName;if(Object.defineProperties){Object.defineProperties(R,{"fontName":{enumerable:true,get:function(){return this.getFontName();},set:function(value){return this.setFontName(value);}}});}}function getFontSize(){if(this.L){switch(this.bG){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:this.co=this.L.get_fontSize()||this.co;break;}}return this.co;};function setFontSize(value){IPCC.bw.kz(value,'fontSize',0.1,288);this.co=value;if(this.L){switch(this.bG){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:this.L.set_fontSize(value);break;}}return this;};if(R.co){R.getFontSize=getFontSize;R.setFontSize=setFontSize;if(Object.defineProperties){Object.defineProperties(R,{"fontSize":{enumerable:true,get:function(){return this.getFontSize();},set:function(value){return this.setFontSize(value);}}});}}function getHorizontalAlignment(){if(this.L){var xq=this.L.get_textHorizontalAlignment();switch(xq){case IPCC.Web.UI.HorizontalAlignment.Center:this.nk="Center";break;case IPCC.Web.UI.HorizontalAlignment.Left:this.nk="Left";break;case IPCC.Web.UI.HorizontalAlignment.Right:this.nk="Right";break;}}return this.nk;};function setHorizontalAlignment(value){IPCC.bw.lW(value,'horizontalAlignment');var oQ=Pa(value,PCCViewer.Mark.HorizontalAlignment);var xq;switch(oQ){case 'Center':xq=IPCC.Web.UI.HorizontalAlignment.Center;break;case 'Left':xq=IPCC.Web.UI.HorizontalAlignment.Left;break;case 'Right':xq=IPCC.Web.UI.HorizontalAlignment.Right;break;default:throw "Invalid value found for the Text horizontalAlignment.";}R.nk=oQ;if(this.L&&xq!==undefined){this.L.set_textHorizontalAlignment(xq);this.nk=oQ;}return this;};if(R.nk){R.getHorizontalAlignment=getHorizontalAlignment;R.setHorizontalAlignment=setHorizontalAlignment;if(Object.defineProperties){Object.defineProperties(R,{"horizontalAlignment":{enumerable:true,get:function(){return this.getHorizontalAlignment();},set:function(value){return this.setHorizontalAlignment(value);}}});}}function awR(Yf){var zS=[];for(var C=0;C<Yf.length;C++){switch(Yf[C]){case "Bold":zS.push(IPCC.Web.UI.FontStyle.Bold);break;case "Italic":zS.push(IPCC.Web.UI.FontStyle.Italic);break;case "Strikeout":zS.push(IPCC.Web.UI.FontStyle.Strikeout);break;case "Underline":zS.push(IPCC.Web.UI.FontStyle.Underline);break;default:throw Error("An unknown font style was encountered: "+Yf[C]);}}if(zS.length===0){zS.push(IPCC.Web.UI.FontStyle.Regular);}return zS;};function getFontStyle(){if(this.L){var po=[];switch(this.bG){case Mark.Type.TextAreaSignature:case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:var tN=this.L.get_fontStyle();if(tN&IPCC.Web.UI.FontStyle.Bold){po.push("Bold");}if(tN&IPCC.Web.UI.FontStyle.Italic){po.push("Italic");}if(tN&IPCC.Web.UI.FontStyle.Strikeout){po.push("Strikeout");}if(tN&IPCC.Web.UI.FontStyle.Underline){po.push("Underline");}if(po.length>0){this.du=po;}break;}}return this.du;};function setFontStyle(value){if(!(value instanceof Array)){throw "invalid parameter. The parameter should be an array.";}var LZ,C,aef=[];for(C=0;C<value.length;C++){LZ=Pa(value[C],PCCViewer.Mark.FontStyles);if(LZ===null){throw new RangeError("The value of font styles "+value[C]+" is invalid.");}else{IPCC.bw.lW(LZ,'fontStyle');aef.push(LZ);}}this.du=aef;var tN=[];tN=awR(this.du);var aA=this;function ayK(aH){setTimeout(function(){aA.L.set_fontStyle(aH);},2);};if(this.L){switch(this.bG){case Mark.Type.TextAreaSignature:case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:var aeB=tN[0];for(C=1;C<tN.length;C++){aeB|=tN[C];}ayK(aeB);break;}}return this;};if(R.du){R.getFontStyle=getFontStyle;R.setFontStyle=setFontStyle;if(Object.defineProperties){Object.defineProperties(R,{"fontStyle":{enumerable:true,get:function(){return this.getFontStyle();},set:function(value){return this.setFontStyle(value);}}});}}function getLabel(){if(this.L){switch(this.bG){case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:this.tF=this.L.get_text()||this.tF;break;}}return this.tF;};function setLabel(value){IPCC.bw.lW(value,'label');this.tF=value;if(this.L){switch(this.bG){case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:this.L.set_text(value);break;}}return this;};if(typeof R.tF!=='undefined'){R.getLabel=getLabel;R.setLabel=setLabel;if(Object.defineProperties){Object.defineProperties(R,{"label":{enumerable:true,get:function(){return this.getLabel();},set:function(value){return this.setLabel(value);}}});}}function getReason(){if(this.L){switch(this.bG){case Mark.Type.RectangleRedaction:case Mark.Type.TextSelectionRedaction:this.fk=this.L.get_text()||this.fk;break;}}return this.fk;};function setReason(value){IPCC.bw.lW(value,'text');this.fk=value;if(this.L){switch(this.bG){case Mark.Type.RectangleRedaction:this.L.set_text(value);break;case Mark.Type.TextSelectionRedaction:this.L.set_text(value);if(this.dN&&this.dN.length){for(var C=0;C<this.dN.length;C++){this.dN[C].set_text(value);}}break;}}return this;};if(typeof R.fk!=='undefined'){R.getReason=getReason;R.setReason=setReason;if(Object.defineProperties){Object.defineProperties(R,{"reason":{enumerable:true,get:function(){return this.getReason();},set:function(value){return this.setReason(value);}}});}}function getPath(){if(this.L){return this.L.get_pathString();}else{return this.gh;}};function setPath(path){if(path.match(/[^MLC0-9.,\s]/)){throw new Error("The path string contains illegal characters.");}var vC=IPCC.V.abe(path);this.gh=path;if(this.L){this.L.set_pathString(path);this.L.set_pathWidth(vC.width);this.L.set_pathHeight(vC.height);}return this;};if(R.gh){R.setPath=setPath;R.getPath=getPath;if(Object.defineProperties){Object.defineProperties(R,{"path":{enumerable:true,get:getPath,set:setPath}});}}function getHref(){if(this.L){return this.L.get_href();}else{return this.mg;}};function setHref(href){if(href!==null){var bG=typeof href;if(bG!=="undefined"&&bG!=="number"&&bG!=="string"){throw new Error("`href` can only be set to a value that is a Number, String, null, or undefined.");}}this.mg=href;if(this.L){this.L.set_href(href);}if(this.dN){IPCC.V.forEach(this.dN,function(L){L.set_href(href);});}return this;};if(typeof R.mg!=='undefined'){R.setHref=setHref;R.getHref=getHref;if(Object.defineProperties){Object.defineProperties(R,{"href":{enumerable:true,get:getHref,set:setHref}});}}function setMaxLength(maxLength){if(typeof maxLength!=='number'||maxLength<0||maxLength>Number.MAX_VALUE||Math.round(maxLength)!==maxLength){throw new Error('`maxLength` can only be set to a value that is a positive integer.');}this.gN=maxLength;if(this.L){this.L.set_maxLength(this.gN);}return this;};function getMaxLength(){if(this.L){this.gN=this.L.get_maxLength();}return this.gN;};if(typeof R.gN!=='undefined'){R.getMaxLength=getMaxLength;R.setMaxLength=setMaxLength;if(Object.defineProperties){Object.defineProperties(R,{"maxLength":{enumerable:true,get:getMaxLength,set:setMaxLength}});}}function setMaxFontSize(maxFontSize){if(typeof maxFontSize!=='number'||maxFontSize<0||maxFontSize>Number.MAX_VALUE||Math.round(maxFontSize)!==maxFontSize){throw new Error('`maxFontSize` can only be set to a value that is a positive integer.');}this.hX=maxFontSize;if(this.L){this.L.set_maxFontSize(this.hX);}return this;};function getMaxFontSize(){if(this.L){this.hX=this.L.get_maxFontSize();}return this.hX;};if(typeof R.hX!=='undefined'){R.getMaxFontSize=getMaxFontSize;R.setMaxFontSize=setMaxFontSize;if(Object.defineProperties){Object.defineProperties(R,{"maxFontSize":{enumerable:true,get:getMaxFontSize,set:setMaxFontSize}});}}function getMask(){return this.jv;};function setMask(mask){if(mask===null||typeof mask==='undefined'){this.jv=null;if(this.L){this.L.set_mask(this.jv);}return this;}if(typeof mask!=='object'||Array.isArray(mask)){throw new Error('`mask` can only be set to a value that is an Object, null or undefined.');}if(typeof mask.value!=='string'){throw new Error('`mask.value` can only be set to a value that is a string.');}if(typeof mask.translations!=='object'||mask.translations===null||Array.isArray(mask.translations)){throw new Error('`mask.translations` can only be set to a value that is an Object.');}var afN=false;IPCC.V.forEach(mask.translations,function(val,key){afN=true;if(key.length!==1){throw new Error('`'+key+'` does not have a string length of 1.');}if(!(val instanceof RegExp)|| !(/\/$/).exec(val.toString())){throw new Error('`mask.translations['+key+']` must be a regular expression without flags.');}});if(!afN){throw new Error('`mask.translations` must have at least one translation.');}this.jv=mask;if(this.L){this.L.set_mask(this.jv);}return this;};if(typeof R.jv!=='undefined'){R.getMask=getMask;R.setMask=setMask;if(Object.defineProperties){Object.defineProperties(R,{"mask":{enumerable:true,get:getMask,set:setMask}});}}};module.exports=Mark;},{"./../IPCC/IPCC":30,"./PCCViewer.Data":136}],152:[function(require,module,exports){var EventEmitter=require('./PCCViewer.EventEmitter');var iy=function(viewerControl,markReferences){var T=this;if(!viewerControl){throw new Error('`viewerControl` param is missing.');}this.dr=function(){var d=new Date().getTime();var uuid='xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(c){var r=(d+Math.random()*16)%16|0;d=Math.floor(d/16);return(c==='x'?r:(r&0x3|0x8)).toString(16);});return uuid;}();this.bQ=viewerControl;this.ap=undefined;this.Uy=undefined;this.aim=undefined;this.aT=[];this.gq={};this.lP=PCCViewer.Mark.InteractionMode.Full;if(markReferences!==undefined){switch(Object.prototype.toString.call(markReferences)){case "[object Object]":markReferences=[markReferences];break;case "[object Array]":break;default:throw new Error('`markReferences` param is not an object or an array.');}IPCC.V.forEach(markReferences,function(qh){var MN=qh.markUid;qh.markupLayer=T;if(T.gq[MN]){T.gq[MN]=T.gq[MN].concat(qh);}else{T.gq[MN]=[qh];}});}var pA={};EventEmitter.extend(pA);pA.RR=function(FY,dn){var T=this;return setTimeout(function(){T.trigger(FY,dn);},0);};EventEmitter.extend(this);this.cT=new IPCC.Web.UI.Data();PCCViewer.Data.extend(this);this.DN=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);setTimeout(function(){T.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerCreated,{});},0);};iy.EventType={MarkupLayerCreated:"MarkupLayerCreated",MarkupLayerDestroyed:"MarkupLayerDestroyed",MarksAddedToLayer:"MarksAddedToLayer",MarksRemovedFromLayer:"MarksRemovedFromLayer",MarkupLayerInteractionModeChanged:"MarkupLayerInteractionModeChanged",MarkupLayerHidden:"MarkupLayerHidden",MarkupLayerShown:"MarkupLayerShown"};iy.prototype.getViewerControl=function(){return this.bQ;};iy.prototype.addMarks=function(marks){var T=this,awL=function(bZ){bZ.jc=T;};switch(Object.prototype.toString.call(marks)){case "[object Object]":marks=[marks];break;case "[object Array]":break;default:throw new Error('`marks` param is not an object or an array.');}for(var C=0;C<marks.length;C++){if(!(marks[C]instanceof PCCViewer.Mark)){throw new Error('`marks` param contains an item that is not an instanceof `PCCViewer.Mark`');}if(this.hasMark(marks[C].getId())){marks.splice(C,1);continue;}IPCC.V.forEach(marks[C].getConversation().getComments(),awL);}if(marks.length){this.aT=this.aT.concat(marks);this.trigger(PCCViewer.MarkupLayer.EventType.MarksAddedToLayer,{marks:marks});}return this;};iy.prototype.removeMarks=function(marks){switch(Object.prototype.toString.call(marks)){case "[object Object]":marks=[marks];break;case "[object Array]":break;default:throw new Error('`marks` param is not an object or an array.');}for(var C=0;C<this.aT.length;C++){for(var aR=0;aR<marks.length;aR++){if(this.aT[C].getUid()===marks[aR].getUid()){this.aT.splice(C,1);this.trigger(PCCViewer.MarkupLayer.EventType.MarksRemovedFromLayer,{marks:[marks[aR]]});break;}}}};iy.prototype.getMarks=function(){var ajR=[];IPCC.V.forEach(this.aT,function(R){ajR.push(R);});return ajR;};iy.prototype.hasMark=function(markId){if(typeof markId!=='string'){throw new Error('`markId` param is not a string.');}var C=0,aaP=false,R;for(C;C<this.aT.length;C++){R=this.aT[C];if(R.getId()===markId){aaP=true;break;}}return aaP;};iy.prototype.getMarkReferences=function(){var gq=[];for(var mW in this.gq){if(this.gq.hasOwnProperty(mW)){gq=gq.concat(this.gq[mW]);}}return gq;};iy.prototype.hide=function(){var bQ=this.bQ;bQ.hideMarks(this.getMarks());this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerHidden,{});return this;};iy.prototype.show=function(){var bQ=this.bQ;bQ.showMarks(this.getMarks());this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerShown,{});return this;};iy.prototype.copyLayers=function(markupLayers){var bQ=this.bQ,T=this;if(markupLayers instanceof PCCViewer.MarkupLayer){markupLayers=[markupLayers];}if(markupLayers instanceof Array===false){throw new PCCViewer.Error("InvalidArgument","The parameter, markupLayers, is not an Array of MarkupLayers or a single MarkupLayer.");}var aT=[];IPCC.V.forEach(markupLayers,function(jc){bQ.getMarkupLayerCollection().getItem(jc.getId());aT=aT.concat(jc.getMarks());});var copiedMarks=bQ.copyMarks(aT);this.addMarks(copiedMarks);IPCC.V.forEach(this.aT,function(R){IPCC.V.forEach(R.getConversation().getComments(),function(bZ){bZ.jc=T;});});return this;};iy.prototype.getId=function(){return this.dr;};iy.prototype.getName=function(){return this.ap;};iy.prototype.setName=function(name){if(typeof name!=='string'){throw new Error('`name` param is not a string.');}this.ap=name;return this;};iy.prototype.getRecordId=function(){return this.Uy;};iy.prototype.destroy=function(){this.bQ.getMarkupLayerCollection().removeItem(this.dr);this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerDestroyed,{});};iy.prototype.setInteractionMode=function(interactionMode){if(typeof interactionMode!=='string'){throw new Error('`interactionMode` param is not a string.');}this.lP=interactionMode;IPCC.V.forEach(this.aT,function(R){R.setInteractionMode(interactionMode);});this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerInteractionModeChanged,{interactionMode:interactionMode});return this;};iy.prototype.getOriginalXmlName=function(){return this.aim;};iy.prototype.setOriginalXmlName=function(name){if(typeof name!=='string'){throw new Error('`name` param is not a string.');}this.aim=name;return this;};if(Object.defineProperties){Object.defineProperties(iy.prototype,{"id":{enumerable:true,get:function(){return this.getId();}},"recordId":{enumerable:true,get:function(){return this.getRecordId();}},"name":{enumerable:true,get:function(){return this.getName();},set:function(name){return this.setName(name);}},"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}},"originalXmlName":{enumerable:true,get:function(){return this.getOriginalXmlName();},set:function(name){return this.setOriginalXmlName(name);}},});}module.exports=iy;},{"./PCCViewer.EventEmitter":141}],153:[function(require,module,exports){var EventEmitter=require('./PCCViewer.EventEmitter');var MarkupLayerCollection=function(viewerControl){if(!viewerControl){throw new Error('`viewerControl` param is missing.');}this.bQ=viewerControl;this.sI={};this.aT={};this.iX={};this.qD=0;EventEmitter.extend(this);};MarkupLayerCollection.EventType={MarkupLayerAdded:"MarkupLayerAdded",MarkupLayerRemoved:"MarkupLayerRemoved"};MarkupLayerCollection.prototype.getViewerControl=function(){return this.bQ;};MarkupLayerCollection.prototype.forEach=function(iterator,thisArg){if(typeof iterator!=='function'){throw new TypeError('The iterator parameter is not a function');}IPCC.V.forEach(this.sI,iterator,thisArg);return this;};MarkupLayerCollection.prototype.getItem=function(layerId){if(typeof layerId!=='string'){throw new Error('`layerId` param is not a string.');}return this.sI[layerId];};MarkupLayerCollection.prototype.getCount=function(){return this.qD;};MarkupLayerCollection.prototype.getAll=function(){var akD=[],Ye;for(Ye in this.sI){if(this.sI.hasOwnProperty(Ye)){akD.push(this.sI[Ye]);}}return akD;};MarkupLayerCollection.prototype.addItem=function(layer){var T=this,gq,ZC=layer.gq,Gi=function(R,qh){var bZ=R.getConversation().addComment(qh.text);bZ.creationTime=new Date(qh.creationDateTime);bZ.jc=qh.markupLayer;for(var tL in qh.data){if(qh.data.hasOwnProperty(tL)){bZ.setData(tL,qh.data[tL]);}}},aCz=function(aDN){Gi(T.aT[wg],aDN);},ajl=function(R){var mW=R.getUid();T.aT[R.getUid()]=R;if(T.iX[mW]){IPCC.V.forEach(T.iX[mW],function(qT){Gi(R,qT);});delete T.iX[mW];}};if(!(layer instanceof PCCViewer.MarkupLayer)){throw new Error('`layer` param is not an instance of PCCViewer.MarkupLayer.');}this.sI[layer.getId()]=layer;for(var wg in ZC){if(ZC.hasOwnProperty(wg)){gq=ZC[wg];if(T.aT[wg]){IPCC.V.forEach(gq,aCz);}else if(T.iX[wg]){T.iX[wg]=T.iX[wg].concat(gq);}else{T.iX[wg]=gq;}}}IPCC.V.forEach(layer.getMarks(),function(R){ajl(R);});this.qD++;this.trigger(PCCViewer.MarkupLayerCollection.EventType.MarkupLayerAdded,{layerId:layer.getId()});layer.on(PCCViewer.MarkupLayer.EventType.MarksAddedToLayer,function(ev){IPCC.V.forEach(ev.marks,function(R){ajl(R);});});layer.on(PCCViewer.MarkupLayer.EventType.MarksRemovedFromLayer,function(ev){var aCL=ev.ds;IPCC.V.forEach(ev.marks,function(R){var mW=R.getUid();IPCC.V.forEach(T.aT[mW].getConversation().getComments(),function(Kc){if(aCL.id!==Kc.jc.id){var qT={creationDateTime:IPCC.V.wJ(Kc.creationTime),data:Kc.cT.vn(),markUid:R.getUid(),markupLayer:Kc.jc,text:Kc.text};if(T.iX[mW]){T.iX[mW]=T.iX[mW].concat([qT]);}else{T.iX[mW]=[qT];}}});T.ug(R);});});return this;};MarkupLayerCollection.prototype.ug=function(R){var NZ;IPCC.V.forEach(this.sI,function(dS){var akR=dS.hasMark(R.getId());NZ=(typeof NZ!=='undefined')? +akR^NZ: +akR;});if(NZ===0){delete this.aT[R.getUid()];}};MarkupLayerCollection.prototype.removeItem=function(layerId){var dS=this.sI[layerId],T=this,aCY=function(qT,bv){if(qT.markupLayer.getId()===layerId){T.iX[dr].splice(bv);}};if(typeof layerId!=='string'){throw new Error('`layerId` param is not a string.');}IPCC.V.forEach(this.aT,function(R){var hH=R.getConversation().getComments();var NF=dS.hasMark(R.getId());IPCC.V.forEach(hH,function(bZ){if(NF&&bZ.jc.getId()!==layerId){var aem={"markUid":R.getUid(),"markupLayer":bZ.jc,"text":bZ.getText(),"data":bZ.cT.cT,"creationDateTime":IPCC.V.wJ(bZ.getCreationTime())};if(T.iX[R.getUid()]){T.iX[R.getUid()].push(aem);}else{T.iX[R.getUid()]=[aem];}R.getConversation().deleteComments(bZ);}else if(NF&&bZ.jc.getId()===layerId){R.getConversation().deleteComments(bZ);}else if(!NF&&bZ.jc.getId()===layerId){R.getConversation().deleteComments(bZ);}});if(NF&&T.aT[R.getUid()]){T.ug(R);}});for(var dr in this.iX){if(this.iX.hasOwnProperty(dr)){IPCC.V.forEach(this.iX[dr],aCY);}}delete this.sI[layerId];this.qD--;this.trigger(PCCViewer.MarkupLayerCollection.EventType.MarkupLayerRemoved,{layerId:layerId});return this;};MarkupLayerCollection.prototype.removeAll=function(){this.sI={};this.qD=0;return this;};if(Object.defineProperties){Object.defineProperties(MarkupLayerCollection.prototype,{"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}},"count":{enumerable:true,get:function(){return this.getCount();}}});}module.exports=MarkupLayerCollection;},{"./PCCViewer.EventEmitter":141}],154:[function(require,module,exports){'use strict';var Mark=require('./PCCViewer.Marks');function MouseTool(name,type){this.ap=name;var Ir=auy(type);if(Ir===null){throw new RangeError("The value of type was invalid.");}this.bG=Ir;addPropertiesToMouseTool(this);};MouseTool.prototype.getName=function(){return this.ap;};MouseTool.prototype.getType=function(){return this.bG;};if(Object.defineProperties){Object.defineProperties(MouseTool.prototype,{"name":{enumerable:true,get:function(){return this.getName();}},"type":{enumerable:true,get:function(){return this.getType();}}});}function auy(TK){var YX=TK.toLowerCase();for(var standardType in MouseTool.Type){if(MouseTool.Type.hasOwnProperty(standardType)&&standardType.toLowerCase&&standardType.toLowerCase()===YX){return standardType;}}return null;};function addPropertiesToMouseTool(mouseTool){var bG=mouseTool.getType();switch(bG){case MouseTool.Type.Magnifier:break;case MouseTool.Type.SelectToZoom:break;case MouseTool.Type.Pan:mouseTool.xI=false;break;case MouseTool.Type.PanAndEdit:mouseTool.xI=true;break;case MouseTool.Type.SelectText:break;case MouseTool.Type.EditMarks:break;case MouseTool.Type.LineAnnotation:mouseTool.by=new Mark({type:Mark.Type.LineAnnotation});break;case MouseTool.Type.RectangleAnnotation:mouseTool.by=new Mark({type:Mark.Type.RectangleAnnotation});break;case MouseTool.Type.EllipseAnnotation:mouseTool.by=new Mark({type:Mark.Type.EllipseAnnotation});break;case MouseTool.Type.TextAnnotation:mouseTool.by=new Mark({type:Mark.Type.TextAnnotation});break;case MouseTool.Type.StampAnnotation:mouseTool.by=new Mark({type:Mark.Type.StampAnnotation});break;case MouseTool.Type.HighlightAnnotation:mouseTool.by=new Mark({type:Mark.Type.HighlightAnnotation});break;case MouseTool.Type.TextHyperlinkAnnotation:mouseTool.by=new Mark({type:Mark.Type.TextHyperlinkAnnotation});break;case MouseTool.Type.FreehandAnnotation:mouseTool.by=new Mark({type:Mark.Type.FreehandAnnotation});break;case MouseTool.Type.RectangleRedaction:mouseTool.by=new Mark({type:Mark.Type.RectangleRedaction});break;case MouseTool.Type.TransparentRectangleRedaction:mouseTool.by=new Mark({type:Mark.Type.TransparentRectangleRedaction});break;case MouseTool.Type.TextRedaction:mouseTool.by=new Mark({type:Mark.Type.TextRedaction});break;case MouseTool.Type.TextInputSignature:mouseTool.by=new Mark({type:Mark.Type.TextInputSignature});break;case MouseTool.Type.TextAreaSignature:mouseTool.by=new Mark({type:Mark.Type.TextAreaSignature});break;case MouseTool.Type.StampRedaction:mouseTool.by=new Mark({type:Mark.Type.StampRedaction});break;case MouseTool.Type.PlaceSignature:mouseTool.by=new Mark({type:'PlaceSignature',AN:true});break;case MouseTool.Type.TextSelectionRedaction:mouseTool.by=new Mark({type:Mark.Type.TextSelectionRedaction});break;case MouseTool.Type.ImageStampAnnotation:mouseTool.by=new Mark({type:Mark.Type.ImageStampAnnotation});break;case MouseTool.Type.ImageStampRedaction:mouseTool.by=new Mark({type:Mark.Type.ImageStampRedaction});break;case MouseTool.Type.PolylineAnnotation:mouseTool.by=new Mark({type:Mark.Type.PolylineAnnotation});break;case MouseTool.Type.StrikethroughAnnotation:mouseTool.by=new Mark({type:Mark.Type.StrikethroughAnnotation});break;}if(mouseTool.by){mouseTool.getTemplateMark=function(){return this.by;};if(Object.defineProperties){Object.defineProperties(mouseTool,{"templateMark":{enumerable:true,get:mouseTool.getTemplateMark}});}}};MouseTool.prototype.reset=function(){if(this.by){this.by.reset();}};var MouseTools={sQ:{},createMouseTool:function(name,type){if(!this.sQ){this.sQ={};createDefaultMouseTools();}var xA=name.toLowerCase();var existingTool=this.sQ[xA];if(existingTool){if(existingTool.getType().toLowerCase()!==type.toLowerCase()){throw new Error("If calling createMouseTool and providing the name of a mouse tool that already exists, then the type must be the same type as the existing mouse tool.");}existingTool.reset();}else{this.sQ[xA]=new MouseTool(name,type);}return this.sQ[xA];},getMouseTool:function(name){if(name&&name.toLowerCase){if(!this.sQ){this.sQ={};createDefaultMouseTools();}var xA=name.toLowerCase();return this.sQ[xA];}return undefined;}};MouseTool.Type={Magnifier:"Magnifier",SelectToZoom:"SelectToZoom",Pan:"Pan",PanAndEdit:"PanAndEdit",SelectText:"SelectText",EditMarks:"EditMarks",LineAnnotation:"LineAnnotation",RectangleAnnotation:"RectangleAnnotation",EllipseAnnotation:"EllipseAnnotation",TextAnnotation:"TextAnnotation",StampAnnotation:"StampAnnotation",HighlightAnnotation:"HighlightAnnotation",TextHyperlinkAnnotation:"TextHyperlinkAnnotation",FreehandAnnotation:"FreehandAnnotation",RectangleRedaction:"RectangleRedaction",TransparentRectangleRedaction:"TransparentRectangleRedaction",TextRedaction:"TextRedaction",TextInputSignature:"TextInputSignature",TextAreaSignature:"TextAreaSignature",StampRedaction:"StampRedaction",PlaceSignature:"PlaceSignature",TextSelectionRedaction:"TextSelectionRedaction",ImageStampAnnotation:"ImageStampAnnotation",ImageStampRedaction:"ImageStampRedaction",PolylineAnnotation:"PolylineAnnotation",StrikethroughAnnotation:"StrikethroughAnnotation"};function createDefaultMouseTools(){MouseTools.createMouseTool("AccusoftMagnifier",MouseTool.Type.Magnifier);MouseTools.createMouseTool("AccusoftSelectToZoom",MouseTool.Type.SelectToZoom);MouseTools.createMouseTool("AccusoftPan",MouseTool.Type.Pan);MouseTools.createMouseTool("AccusoftPanAndEdit",MouseTool.Type.PanAndEdit);MouseTools.createMouseTool("AccusoftSelectText",MouseTool.Type.SelectText);MouseTools.createMouseTool("AccusoftEditMarks",MouseTool.Type.EditMarks);MouseTools.createMouseTool("AccusoftLineAnnotation",MouseTool.Type.LineAnnotation);MouseTools.createMouseTool("AccusoftArrowAnnotation",MouseTool.Type.LineAnnotation).getTemplateMark().setEndHeadType("FilledTriangle");MouseTools.createMouseTool("AccusoftRectangleAnnotation",MouseTool.Type.RectangleAnnotation);MouseTools.createMouseTool("AccusoftEllipseAnnotation",MouseTool.Type.EllipseAnnotation);MouseTools.createMouseTool("AccusoftTextAnnotation",MouseTool.Type.TextAnnotation);MouseTools.createMouseTool("AccusoftStampAnnotation",MouseTool.Type.StampAnnotation);MouseTools.createMouseTool("AccusoftHighlightAnnotation",MouseTool.Type.HighlightAnnotation);MouseTools.createMouseTool("AccusoftTextHyperlinkAnnotation",MouseTool.Type.TextHyperlinkAnnotation);MouseTools.createMouseTool("AccusoftFreehandAnnotation",MouseTool.Type.FreehandAnnotation);MouseTools.createMouseTool("AccusoftPlaceSignature",MouseTool.Type.PlaceSignature);MouseTools.createMouseTool("AccusoftTextSelectionRedaction",MouseTool.Type.TextSelectionRedaction);MouseTools.createMouseTool("AccusoftRectangleRedaction",MouseTool.Type.RectangleRedaction);MouseTools.createMouseTool("AccusoftTransparentRectangleRedaction",MouseTool.Type.TransparentRectangleRedaction);MouseTools.createMouseTool("AccusoftTextRedaction",MouseTool.Type.TextRedaction);MouseTools.createMouseTool("AccusoftTextInputSignature",MouseTool.Type.TextInputSignature);MouseTools.createMouseTool("AccusoftTextAreaSignature",MouseTool.Type.TextAreaSignature);MouseTools.createMouseTool("AccusoftStampRedaction",MouseTool.Type.StampRedaction);MouseTools.createMouseTool("AccusoftImageStampAnnotation",MouseTool.Type.ImageStampAnnotation);MouseTools.createMouseTool("AccusoftImageStampRedaction",MouseTool.Type.ImageStampRedaction);MouseTools.createMouseTool("AccusoftPolylineAnnotation",MouseTool.Type.PolylineAnnotation);MouseTools.createMouseTool("AccusoftStrikethroughAnnotation",MouseTool.Type.StrikethroughAnnotation);return MouseTools.sQ;};createDefaultMouseTools();module.exports={MouseTool:MouseTool,MouseTools:MouseTools};},{"./PCCViewer.Marks":151}],155:[function(require,module,exports){var EventEmitter=require('./PCCViewer.EventEmitter');var ObservableCollection=function(){var yo=[];var pA={};EventEmitter.extend(pA);pA.RR=function(FY,dn){var T=this;return setTimeout(function(){T.trigger(FY,dn);},0);};this.add=function(item){yo.push(item);pA.RR(this.EventType.ItemAdded,{item:item,count:yo.length});return this;};this.remove=function(item){var T=this;this.forEach(function(e,idx){if(e===item){yo.splice(idx,1);pA.RR(T.EventType.ItemRemoved,{item:item,count:yo.length});}});return this;};this.removeAll=function(){yo=[];pA.RR(this.EventType.ItemRemoved,{count:yo.length});return this;};this.forEach=function(iterator,thisArg){if(typeof iterator!=='function'){throw new TypeError('The iterator parameter is not a function');}IPCC.V.forEach(this.toArray(),iterator,thisArg);return this;};this.toArray=function(){return[].concat(yo);};this.on=function(eventType,handler){pA.on.apply(pA,arguments);return this;};this.off=function(eventType,handler){pA.off.apply(pA,arguments);return this;};};ObservableCollection.prototype.EventType={ItemAdded:"ItemAdded",ItemRemoved:"ItemRemoved"};module.exports=ObservableCollection;},{"./PCCViewer.EventEmitter":141}],156:[function(require,module,exports){var Du={Horizontal:"Horizontal",Vertical:"Vertical"};module.exports=Du;},{}],157:[function(require,module,exports){var PasswordProtectedDocumentLoader=function PasswordProtectedDocumentLoader(Vs){this.Vs=Vs;};PasswordProtectedDocumentLoader.prototype.load=function(password){return this.Vs(password);};module.exports=PasswordProtectedDocumentLoader;},{}],158:[function(require,module,exports){var printAlgorithm={standard:1,contentWindowContents:2};var VJ=function VJ(aY,cE,F){if(aY.addEventListener){aY.addEventListener(cE,F,false);}else if(aY.attachEvent){aY.attachEvent('on'+cE,F);}};var Wx=function Wx(aY,cE,F){if(aY.removeEventListener){aY.removeEventListener(cE,F,false);}else if(aY.detachEvent){aY.detachEvent('on'+cE,F);}};function avX(eK){var agh={};eK=eK.split('&');for(var i=eK.length;i--;){var q=eK[i].split('=');agh[q.shift()]=q.join('=');}return agh;};function axe(){var Aq=document.getElementById('pccPrintFrame');if(Aq){if(Aq.contentWindow&&Aq.contentWindow.destroy){Aq.contentWindow.destroy();}if(Aq.parentElement){Aq.parentElement.removeChild(Aq);}}};function aua(aF){aF.aiT();axe();aF.aiM();if(!aF.algorithm){aF.algorithm=printAlgorithm.standard;}var fO;var gv=document.createElement('iframe');gv.id='pccPrintFrame';gv.className='pccPrintFrame';gv.style.position='absolute';gv.style.bottom=gv.style.right='0px';gv.style.width=gv.style.height='1px';gv.style.zIndex='0';gv.style.border='none';if(aF.algorithm!==printAlgorithm.contentWindowContents){gv.style.visibility='0';}function RS(){Wx(window,'message',alh);};function adL(){Wx(gv,'load',adL);if(gv.contentDocument){fO=gv.contentDocument;}else if(gv.contentWindow){fO=gv.contentWindow.document;}else{fO=gv.document;}if(aF.algorithm===printAlgorithm.contentWindowContents){gv.contentWindow.contents=aF.template;gv.src='javascript:window["contents"]';}else{fO.open();fO.write(aF.template);fO.close();}};var alh=function(message){message.source.PCCViewer.Ajax.setHeaders(PCCViewer.Ajax.getHeaders()).setOverrideMethod(PCCViewer.Ajax.getOverrideMethod());if(message.data.match(/loadArt/)){var amA=JSON.parse(message.data);var aG=aF.aeC(amA.pageIndex);aF.aiT();gv.contentWindow[amA.callbackName](aG);aF.aiM();}else if(message.data==='extra'){var HV=aF.abD(aF);gv.contentWindow['extra'](aF.encryption,HV);}else if(message.data==='done'){if(aF.algorithm===printAlgorithm.contentWindowContents){setTimeout(function(){gv.contentWindow.focus();gv.contentWindow.document.execCommand('print',false,null);window.focus();RS();aF.wx.trigger(PCCViewer.PrintRequest.EventType.PrintCompleted);},2000);}else{setTimeout(function(){gv.contentWindow.focus();gv.contentWindow.print();window.focus();RS();aF.wx.trigger(PCCViewer.PrintRequest.EventType.PrintCompleted);},2000);}}else if(message.data==='fail'){RS();aF.wx.trigger(PCCViewer.PrintRequest.EventType.PrintFailed);}else{var rw=avX(message.data);rw.index= +rw.index;rw.pageNumber= +rw.pageNumber;rw.totalPages= +rw.totalPages;aF.wx.adI= +rw.index+1;aF.wx.trigger(PCCViewer.PrintRequest.EventType.PrintPagePrepared,rw);}};VJ(window,'message',alh);VJ(gv,'load',adL);document.body.appendChild(gv);return RS;};function awT(bQ){return function aeC(aU){return bQ.aw.hA(bQ.dc.getPage(aU));};};function aue(bQ){return function abD(options){var aT,R,uQ=[],zz=[],Ev={},IF={},wY={},fk={},DK='',acE,dC,bv,Gu,bF,Fx,ah,amx={},EN={},C=0,cO=0,aR=0,apS=function(a,b){return a-b;};if(options.includeComments!=='none'||options.includeReasons!=='none'){aT=bQ.getAllMarks();for(C=0;C<options.pages.length;C++){amx[options.pages[C]]=true;}for(cO=0;cO<aT.length;cO++){R=aT[cO];ah=R.ah;if(options.includeReasons!=='none'&&R.getReason){DK=R.getReason();if(DK){if(!wY[ah]){fk[DK]=1;wY[ah]=fk;fk={};}else{if(wY[ah][DK]){wY[ah][DK]+=1;}else{wY[ah][DK]=1;}}}}if(R.pn||R.bG.search("Redaction")!== -1){if(EN[ah]){EN[ah]+=1;}else{EN[ah]=1;}}if(options.range.length&&amx[ah]!==true|| !options.includeRedactions&&R.pn|| !options.includeAnnotations&& !R.pn){continue;}dC=R.getConversation();if(dC&&dC.getComments().length){if(!Gu){Gu=ah;}else if(ah!==Gu){uQ.sort(apS);for(aR=0;aR<uQ.length;aR++){zz=zz.concat(Ev[uQ[aR]]);}IF[Gu]=zz;Gu=ah;uQ=[];Ev={};zz=[];}bv=bQ.getCharacterIndex(R);acE=ah;bF=R.L.get_boundingRectangle();Fx=(bv>0)?bv*10000+bF.y:bF.y;uQ.push(Fx);if(!Ev[Fx]){Ev[Fx]=[dC];}else{Ev[Fx].push(dC);}}}if(uQ.length){uQ.sort(function(a,b){return a-b;});for(C=0;C<uQ.length;C++){zz=zz.concat(Ev[uQ[C]]);}IF[acE]=zz;}}return{IF:IF,wY:wY,EN:EN};};};function ayc(bQ){return function(){if(bQ&&bQ.aw){bQ.aw.remove_markChanged(bQ.nn);}};};function VA(bQ){return function(){if(bQ&&bQ.aw){bQ.aw.add_markChanged(bQ.nn);}};};function print(options){options=options||{};options.range=options.range||'all';options.orientation=(options.orientation&&options.orientation.toLowerCase()==='landscape')?'landscape':'portrait';options.paperSize=options.paperSize||'letter';options.margins=(options.margins&&options.margins.toLowerCase()==='none')?'none':'default';options.includeMarks=options.includeMarks!==undefined?(! !options.includeMarks&&this.canPrintMarks()):undefined;options.includeAnnotations=options.includeAnnotations!==undefined?(! !options.includeAnnotations&&this.canPrintMarks()):undefined;options.includeRedactions=options.includeRedactions!==undefined?(! !options.includeRedactions&&this.canPrintMarks()):undefined;options.includeComments=(options.includeComments)?options.includeComments:'none';options.includeReasons=(options.includeReasons)?options.includeReasons:'none';options.redactionViewMode=(options.redactionViewMode)?options.redactionViewMode:'Normal';if(options.includeAnnotations===undefined){options.includeAnnotations=options.includeMarks;}if(options.includeRedactions===undefined){options.includeRedactions=options.includeMarks;}var dI=PCCViewer.Util.convertPageRangeToArray(options.range.toString().toLowerCase(),{upperLimit:this.getPageCount()});var rn=this.aF.imageHandlerUrl;var aoH=this.aF.documentID;var aod=this.aCC;options.vsID=aoH;options.handler=rn;options.pages=dI;var isOldIE= ! !navigator.appName.match('Microsoft');var isIE= ! !navigator.userAgent.match('Trident');var isSafari= ! !(navigator.userAgent.search('Safari')>=0&&navigator.userAgent.search('Chrome')<0);options.template=aod.replace(/{{viewingSessionId}}/g,options.vsID).replace(/{{handler}}/g,options.handler).replace(/{{pages}}/g,options.pages.join(',')).replace(/{{orientation}}/g,options.orientation).replace(/{{paperSize}}/g,options.paperSize).replace(/{{isIE}}/g,isIE.toString()).replace(/{{isSafari}}/g,isSafari.toString()).replace(/{{includeAnnotations}}/g,options.includeAnnotations).replace(/{{includeRedactions}}/g,options.includeRedactions).replace(/{{includeComments}}/g,options.includeComments).replace(/{{includeReasons}}/g,options.includeReasons).replace(/{{margins}}/g,options.margins).replace(/{{redactionViewMode}}/g,options.redactionViewMode).replace(/{{viewerAssetsPath}}/g,this.aF.viewerAssetsPath);options.encryption= ! !this.aF.encryption;if(isOldIE){options.algorithm=printAlgorithm.contentWindowContents;}var Vk;function ao(){if(! !Vk){Vk();}};var wx=new PCCViewer.PrintRequest(options,dI.length,ao,this);this.trigger(PCCViewer.EventType.PrintRequested,{printRequest:wx});options.wx=wx;options.aeC=awT(this);options.abD=aue(this);options.aiT=ayc(this);options.aiM=VA(this);Vk=aua(options);return wx;};function validatePrintRange(range){return PCCViewer.Util.validatePageRange(range.toString().toLowerCase(),{upperLimit:this.getPageCount()});};function canPrintMarks(){return(document.documentMode!==8);};var PrintRequest=function(options,totalPages,cancelFunc,that){this.aF=options;this.ao=cancelFunc;this.adI=0;PCCViewer.EventEmitter.extend(this);};PrintRequest.EventType={PrintPagePrepared:"PrintPagePrepared",PrintCompleted:"PrintCompleted",PrintCancelled:"PrintCancelled",PrintFailed:"PrintFailed"};PrintRequest.prototype.cancel=function(){this.ao();this.trigger(PCCViewer.PrintRequest.EventType.PrintCancelled);};PrintRequest.prototype.getOptions=function(){return{range:this.aF.pages.toString(),orientation:this.aF.orientation,paperSize:this.aF.paperSize,margins:this.aF.margins,includeMarks:this.aF.includeMarks,includeAnnotations:this.aF.includeAnnotations,includeRedactions:this.aF.includeRedactions,includeComments:this.aF.includeComments,includeReasons:this.aF.includeReasons,redactionViewMode:this.aF.redactionViewMode};};PrintRequest.prototype.getPageCount=function(){return this.aF.pages.length;};PrintRequest.prototype.getPreparedCount=function(){return this.adI;};if(Object.defineProperties){Object.defineProperties(PrintRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"pageCount":{enumerable:true,get:function(){return this.getPageCount();}},"preparedCount":{enumerable:true,get:function(){return this.getPreparedCount();}}});}var PrintControl=function(domElement,options){var aan=[];IPCC.V.abn=true;options.includeAnnotations=options.includeAnnotations!=='false';options.includeRedactions=options.includeRedactions!=='false';domElement.className=domElement.className+' '+options.orientation;function AJ(n){(window.parent)?window.parent.postMessage(n,'*'):window.opener.postMessage(n,'*');};function ayW(ah,Hq){var kQ=[];kQ.push("pageNumber="+(1+ah));kQ.push("index="+Hq);kQ.push("totalPages="+options.pages.length);return kQ.join('&');};function jD(ah,Hq,next){var bb={documentIdentifier:options.vsID,pageNumber:ah,viewFitType:IPCC.Web.UI.FitType.FullImage,imageHandlerUrl:options.handler,encryption:options.encryption};var jn=document.createElement('div');jn.className=options.paperSize+" ";jn.className+=options.isIE?'pageIE':options.isSafari?'pageSafari':'page';jn.id='printpage'+ah;if(options.margins==='none'){jn.className+=' nomargins';}domElement.appendChild(jn);var pv=IPCC.initializePageViewPlugin(jn,bb);pv.set_debug(false);pv.set_requireRequestsOptimize(true);aan.push(pv);var vm=false;function Jz(){AJ(ayW(ah,Hq));next();};pv.add_pageOpened(function(){var bi=pv.kJ(),aq=pv.ia();var xv=(options.orientation==='portrait'&&bi>aq)||(options.orientation==='landscape'&&aq>bi);if(xv){pv.xv(90);}});pv.add_pageDisplayed(function(){if(!vm){Jz();}});pv.add_textPageReady(function(){if(vm){pv.cn();Jz();}});pv.add_pageOpenFailed(function(){AJ('fail');});pv.add_textExtractionFailed(function(){if(vm){AJ('fail');}});if(options.redactionViewMode){if(options.redactionViewMode.toLowerCase()==="draft"){pv.qE(true);}else if(options.redactionViewMode.toLowerCase()==="normal"){pv.qE(false);}}if(PCCViewer.ViewerControl.prototype.canPrintMarks()&&(options.includeAnnotations||options.includeRedactions)){var aiG='loadArt'+ah;var rw={pageIndex:ah,callbackName:aiG};window[aiG]=function(aG){var mN,MF,C,dC={},MO={},zR='',lM,Hl,fk,EJ='';var MI=[];aG.Bj(function(R){if(R.get_type()===IPCC.Web.UI.MarkType.HighlightText){vm=true;}if(options.includeRedactions&&R.lu()){MI.push(R);}if(options.includeAnnotations&& !R.lu()){MI.push(R);}});var aal=new IPCC.Web.UI.ArtPage();IPCC.V.forEach(MI,function(R){R.mC(undefined);aal.addMark(R);});bb.artPage=aal;MO=options.pagedConversations[ah+1];if(options.pagedConversations&&MO&&options.includeComments==='followingPage'){mN=document.createElement('div');mN.className+='commentPage';mN.id='printcommentpage'+ah;if(options.margins==='none'){mN.className+=' nomargins';}MF='<h1>Comments for Page {{pageNumber}}</h1><hr><div class="pageConversations">{{conversationList}}</div>';for(C=0;C<MO.length;C++){dC=MO[C];zR+=aaj(dC,ah+1);}mN.innerHTML=MF.replace('{{pageNumber}}',ah+1).replace('{{conversationList}}',zR);domElement.appendChild(mN);}Hl=options.pagedReasons[ah+1];if(options.pagedReasons&&Hl&&options.includeReasons==='followingPage'){lM=document.createElement('div');lM.className+='reasonPage';lM.id='printreasonpage'+ah;if(options.margins==='none'){lM.className+=' nomargins';}MF='<h1>Redaction Reasons for Page {{pageNumber}}</h1>'+'<div class="redactionReasonPageHeader"><ul><li>Date: {{date}}</li><li>Number of Redactions on this Page: {{count}}</li></div><hr>'+'<div class="pageReasons">{{reasonList}}</div>';for(fk in Hl){if(Hl.hasOwnProperty(fk)){EJ+=abG(fk,Hl[fk]);}}lM.innerHTML=MF.replace('{{pageNumber}}',ah+1).replace('{{reasonList}}',EJ).replace('{{date}}',ahz()).replace('{{count}}',options.pagedRedactionCount[ah+1]);domElement.appendChild(lM);}pv.openPage(bb);IPCC.V.forEach(MI,function(R){R.mC(aG);});};AJ(JSON.stringify(rw));}else{pv.openPage(bb);}};function aaj(dC,ah){var aiD='',ig='',R=dC.getMark(),hH,bZ,C;switch(R.L.iH()){case IPCC.Web.UI.MarkType.Rectangle:ig=(R.L.lu())?'Highlight Redaction ':'Rectangle Annotation';break;case IPCC.Web.UI.MarkType.Ellipse:ig='Ellipse Annotation';break;case IPCC.Web.UI.MarkType.RectangleRedaction:ig='Rectangle Redaction';break;case IPCC.Web.UI.MarkType.Line:ig=(R.pj==='None')?'Line Annotation':'Arrow Annotation';break;case IPCC.Web.UI.MarkType.Polyline:ig='Polyline Annotation';break;case IPCC.Web.UI.MarkType.Polygon:ig='Polygon Annotation';break;case IPCC.Web.UI.MarkType.Text:ig='Text Annotation';break;case IPCC.Web.UI.MarkType.Highlight:ig='Highlight Annotation';break;case IPCC.Web.UI.MarkType.Stamp:ig='Stamp Annotation';break;case IPCC.Web.UI.MarkType.HighlightText:ig='Highlight Text Annotation';break;case IPCC.Web.UI.MarkType.SignaturePath:ig='Signature Path';break;case IPCC.Web.UI.MarkType.Freehand:ig='Freehand Annotation';break;case IPCC.Web.UI.MarkType.SignatureText:ig='Signature Text';break;case IPCC.Web.UI.MarkType.TextLine:ig='Text Input Signature';break;case IPCC.Web.UI.MarkType.TextAreaSignature:ig='Text Area Signature';break;case IPCC.Web.UI.MarkType.SignatureImage:ig='Signature Image';break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:ig='Text Selection Redaction';break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:ig='Image Stamp Annotation';break;case IPCC.Web.UI.MarkType.ImageStampRedaction:ig='Image Stamp Redaction';break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:ig='Text Hyperlink Annotation';break;case IPCC.Web.UI.MarkType.Strikethrough:ig='Strikethrough Annotation';break;default:break;}hH=dC.getComments();for(C=0;C<hH.length;C++){bZ=hH[C];aiD+='<li>'+awk({text:bZ.getText(),createDate:bZ.og.aaB,pageNumber:ah+1})+'</li>';}return '<h3>'+ig+'</h3><ul>'+aiD+'</ul>';};function awk(bZ){var hz=new Date(bZ.createDate),Sz='{{month}}/{{day}}/{{year}} {{hour}}:{{minutes}}{{period}}'.replace('{{month}}',hz.getMonth()+1).replace('{{day}}',hz.getDate()).replace('{{year}}',hz.getFullYear()).replace('{{hour}}',(hz.getHours()<10?'0':'')+hz.getHours()).replace('{{minutes}}',(hz.getMinutes()<10?'0':'')+hz.getMinutes()).replace('{{period}}',hz.getHours()<12?'am':'pm');var aO=bZ.text.replace(/</g,'&#60;').replace(/>/g,'&#62;').replace(/\n/g,'<br/>');return "{{comment}} - {{date}}".replace('{{comment}}',aO).replace('{{date}}',Sz);};function ahz(){var hz=new Date();return '{{month}}/{{day}}/{{year}}'.replace('{{month}}',hz.getMonth()+1).replace('{{day}}',hz.getDate()).replace('{{year}}',hz.getFullYear());};function abG(fk,qD){fk=fk.replace(/</g,'&#60;').replace(/>/g,'&#62;').replace(/\n/g,'<br/>');var amH=(qD>1)?'times':'time';return '<li>"{{reason}}" occurs {{count}} {{times}}</li>'.replace('{{reason}}',fk).replace('{{count}}',qD).replace('{{times}}',amH);};function ayC(){window.onerror=function(ev){AJ('fail');};function sync(funcs,done){var counter=funcs.length;var idx=0;var next=function(){if(--counter===0)done();else funcs[idx++](next);};funcs[idx++](next);};function awo(ah,Hq){return function(next){jD(ah,Hq,next);};};var funcs=[];for(var i=0;i<options.pages.length;i++){var aK= +options.pages[i]-1;funcs.push(awo(aK,i));}sync(funcs,function(){var mN,Ly='',aK,Da='',zR='',dC,R,aiX='<h1>Comments</h1><hr>{{pageSections}}',lM,EJ='',azv='<h1>Redaction Reasons</h1><hr>{{pageSections}}';if(options.includeComments==='documentEnd'){for(aK in options.pagedConversations){if(options.pagedConversations.hasOwnProperty(aK)){if(!mN){mN=document.createElement('div');mN.className+=' commentPage';mN.id='printpage_comments';if(options.margins==='none'){mN.className+=' nomargins';}}Ly='<div class="pageConversations"><h2>Page #{{pageNumber}}</h2><hr><ol>{{conversationList}}</ol></div>';zR='';for(var C=0;C<options.pagedConversations[aK].length;C++){dC=options.pagedConversations[aK][C];R=dC.getMark();zR+=aaj(dC,R.pageNumber);}Da+=Ly.replace('{{pageNumber}}',R.pageNumber).replace('{{conversationList}}',zR);if(zR.length){mN.innerHTML=aiX.replace('{{pageSections}}',Da);domElement.appendChild(mN);}}}}if(options.includeReasons==='documentEnd'){Da='';aiX='';Ly='<div class="pageReasons"><h2>Page #{{pageNumber}}</h2><div class="redactionReasonPageHeader"><ul><li>Date: {{date}}</li><li>Number of Redactions on this Page: {{count}}</li></div><hr><ul>{{reasonList}}</ul></div>';for(aK in options.pagedReasons){if(options.pagedReasons.hasOwnProperty(aK)){if(!lM){lM=document.createElement('div');lM.className+='reasonPage';lM.id='printpage_reason';if(options.margins==='none'){lM.className+=' nomargins';}}EJ='';for(var fk in options.pagedReasons[aK]){if(options.pagedReasons[aK].hasOwnProperty(fk)){EJ+=abG(fk,options.pagedReasons[aK][fk]);}}Da+=Ly.replace('{{pageNumber}}',aK).replace('{{reasonList}}',EJ).replace('{{date}}',ahz()).replace('{{count}}',options.pagedRedactionCount[aK]);}}if(Da.length){lM.innerHTML=azv.replace('{{pageSections}}',Da);domElement.appendChild(lM);}}AJ('done');});};function atU(){window['extra']=function(bool,HV){options.encryption= ! !bool;options.pagedConversations=HV.IF;options.pagedReasons=HV.wY;options.pagedRedactionCount=HV.EN;ayC();window['extra']=function(){};};AJ('extra');};function avZ(){var aG;IPCC.V.forEach(aan,function(aN){aG=aN.get_artPage();if(aG){aG.removeAllMarks();}aN.dispose();aG=undefined;});};window['destroy']=avZ;atU();};module.exports={PrintRequest:PrintRequest,PrintControl:PrintControl,print:print,validatePrintRange:validatePrintRange,canPrintMarks:canPrintMarks};},{}],159:[function(require,module,exports){var aCJ={Draft:"Draft",Normal:"Normal"};module.exports=aCJ;},{}],160:[function(require,module,exports){var Revision=function(){this.dr=0;this.vF=0;this.bG='';};Revision.prototype.getId=function(){return this.dr;};Revision.prototype.getEndPageNumber=function(){return this.vF;};Revision.prototype.getType=function(){return this.bG;};if(Object.defineProperties){Object.defineProperties(Revision.prototype,{"endPageNumber":{enumerable:true,get:function(){return this.vF;}},"id":{enumerable:true,get:function(){return this.dr;}},"type":{enumerable:true,get:function(){return this.bG;}}});}Revision.Type={ContentInserted:"ContentInserted",ContentDeleted:"ContentDeleted",PropertyChanged:"PropertyChanged",ParagraphNumberChanged:"ParagraphNumberChanged",FieldDisplayChanged:"FieldDisplayChanged",RevisionMarkedAsReconciledConflict:"RevisionMarkedAsReconciledConflict",RevisionMarkedAsConflict:"RevisionMarkedAsConflict",StyleChanged:"StyleChanged",ContentReplaced:"ContentReplaced",ParagraphPropertyChanged:"ParagraphPropertyChanged",TablePropertyChanged:"TablePropertyChanged",SectionPropertyChanged:"SectionPropertyChanged",StyleDefinitionChanged:"StyleDefinitionChanged",ContentMovedFrom:"ContentMovedFrom",ContentMovedTo:"ContentMovedTo",TableCellInserted:"TableCellInserted",TableCellDeleted:"TableCellDeleted",TableCellsMerged:"TableCellsMerged",Unknown:"Unknown"};module.exports=Revision;},{}],161:[function(require,module,exports){var IT=function(aF){var kv=new PCCViewer.RevisionsRequest(true);function axW(bG){for(var ZK in PCCViewer.Revision.Type){if(PCCViewer.Revision.Type.hasOwnProperty(ZK)){if(ZK.toLowerCase()===bG.toLowerCase()){return PCCViewer.Revision.Type[ZK];}}}return PCCViewer.Revision.Type.Unknown;};function avT(hk,ak){var yg=[];if(hk.changes&&hk.changes.length){yg=hk.changes.map(function(Tl){var Od=new PCCViewer.Revision();Od.dr=Tl.id;Od.vF=Tl.endPageIndex+1;Od.bG=axW(Tl.type);return Od;});}return yg;};function auS(Qy){var Ri=Qy?'&continueToken='+Qy:'';var apr=aF.imageHandlerUrl+'/v2/viewingSessions/'+aF.documentID;return apr+'/revisionData?limit=100'+Ri;};function agB(Qy){var aC=PCCViewer.Deferred();var aQ=auS(Qy);PCCViewer.Ajax.fq({url:aQ,method:'GET'}).then(function ez(aM){var cT=JSON.parse(aM.responseText);var EC=cT.continueToken;var yg=avT(cT,kv.Hu.length);kv.Hu=kv.Hu.concat(yg);if(EC){if(yg.length){kv.trigger(PCCViewer.EventType.PartialRevisionsAvailable,{partialRevisions:yg});}setTimeout(function(){agB(EC);},cT.continueAfter||0);}else{if(yg.length){kv.trigger(PCCViewer.EventType.PartialRevisionsAvailable,{partialRevisions:yg});}kv.trigger(PCCViewer.EventType.RevisionsAvailable,{completedRevisions:kv.getRevisions()});kv.trigger(PCCViewer.EventType.RevisionsRetrievalCompleted,{completedRevisions:kv.getRevisions()});}aC.resolve();},function fz(ad){var eA='RequestFailed';var dG='The request to get revisions failed.';var nd=ad.response.responseText?JSON.parse(ad.response.responseText):'';var hL=ad.response.status;if(nd&&(hL===580||(hL===480&&nd.errorCode==='DocumentNotProvidedYet'))){eA=nd.errorCode;}kv.eA=eA;kv.dG=dG;kv.trigger(PCCViewer.EventType.RevisionsRetrievalFailed,{errorMessage:kv.getErrorMessage()});kv.trigger(PCCViewer.EventType.RevisionsRetrievalCompleted,{completedRevisions:kv.getRevisions()});aC.reject(ad.error);});};this.aFA=function(){setTimeout(function(){agB();},0);return kv;};};var RevisionsRequest=function(uT){this.Hu=[];this.eA=null;this.dG=null;if(Object.defineProperties){Object.defineProperties(this,{"revisions":{configurable: ! !uT,enumerable:true,get:function(){return this.Hu;}},"errorCode":{configurable: ! !uT,enumerable:true,get:function(){return this.eA;}},"errorMessage":{configurable: ! !uT,enumerable:true,get:function(){return this.dG;}}});}PCCViewer.EventEmitter.extend(this);};RevisionsRequest.prototype.getRevisions=function(){return this.Hu;};RevisionsRequest.prototype.getErrorCode=function(){return this.eA;};RevisionsRequest.prototype.getErrorMessage=function(){return this.dG;};module.exports={RevisionsRequest:RevisionsRequest,IT:IT};},{}],162:[function(require,module,exports){var Cw={Pinch:"Pinch",Zoom:"Zoom",Fit:"Fit",ViewMode:"ViewMode"};module.exports=Cw;},{}],163:[function(require,module,exports){var _Search=function(){this.bf='';this.HS={};this.bX={};this.Pi=0;this.aX=new PCCViewer.SearchRequest();var T=this;this.Rz=function(){var RX=[];for(var C=0;C<T.HS.searchTerms.length;C++){var bf=T.HS.searchTerms[C];var oX=IPCC.V.Oo(bf.type);var NQ;switch(oX){case 'proximity':var xD={uE:bf,bX:[],type:bf.type,highlightColor:this.abP(bf.highlightColor),distance:bf.distance,contextPadding:bf.contextPadding};for(var x=0;x<bf.terms.length;x++){var UZ=bf.terms[x];NQ=this.ahi(UZ);xD.bX=xD.bX.concat(NQ);}RX.push(xD);break;default:NQ=this.ahi(bf);RX=RX.concat(NQ);break;}}return RX;};this.ahi=function(bf){var eS=[];var bX={};if(bf.matchingOptions.exactPhrase===false&&bf.searchTermIsRegex===false){var zs=bf.searchTerm.split(' ');for(var aR=0;aR<zs.length;aR++){bX={};if(zs[aR].length<0){continue;}bX.searchText=zs[aR];bX.uE=bf;if(bf.matchingOptions.matchWholeWord){bX.searchTerm=this.ala(this.Cz(zs[aR]),bf.matchingOptions);}else{if(bf.matchingOptions.wildcard===true){bX.searchTerm=this.aiZ(this.Cz(zs[aR]),bf.matchingOptions);}else if(bf.matchingOptions.beginsWith===true||bf.matchingOptions.endsWith===true){bX.searchTerm=this.ait(this.Cz(zs[aR]),bf.matchingOptions);}else{bX.searchTerm=this.acF(zs[aR],bf.matchingOptions,false);}}bX.highlightColor=this.abP(bf.highlightColor);eS.push(bX);}}else{bX={};bX.searchText=bf.searchTerm;bX.uE=bf;if(bf.matchingOptions.matchWholeWord){bX.searchTerm=this.ala(this.Cz(bf.searchTerm),bf.matchingOptions);}else{if(bf.matchingOptions.wildcard===true){bX.searchTerm=this.aiZ(this.Cz(bf.searchTerm),bf.matchingOptions);}else if(bf.matchingOptions.beginsWith===true||bf.matchingOptions.endsWith===true){bX.searchTerm=this.ait(this.Cz(bf.searchTerm),bf.matchingOptions);}else{bX.searchTerm=this.acF(bf.searchTerm,bf.matchingOptions,bf.searchTermIsRegex);}}bX.highlightColor=this.abP(bf.highlightColor);eS.push(bX);}return eS;};this.ala=function(sJ,xj){var GF=new RegExp('\\b'+sJ+'\\b',this.FJ(xj.matchCase));return GF;};this.ait=function(sJ,xj){if(xj.beginsWith){return new RegExp("\\b"+sJ+'(\\w+)',this.FJ(xj.matchCase));}if(xj.endsWith){sJ=sJ.replace("*","");return new RegExp('(\\w+)'+sJ+"\\b",this.FJ(xj.matchCase));}};this.Cz=function(sJ){return sJ.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");};this.aiZ=function(sY,xj){sY=sY.replace(/[*]{2,}/g,'*').replace(/(\\\*){2,}/g,'\\*');if(sY==='\\*'){var cA=new Error('The search term must contain one or more non-wildcard characters.');cA.aFT=true;throw cA;}var regexFlags='gim';if(xj.matchCase){regexFlags='gm';}sY=sY.replace(/\*/g,'\S*');sY=sY.replace(/\?/g,'\S');var GF=new RegExp('(\\s|^)'+sY+'(?=\\s|$)',regexFlags);return GF;};this.Wj=function(sJ){return sJ.replace(/\ /g,'\\s+');};this.acF=function(NJ,matchingOptions,isRegex){var uJ='';if(isRegex===true){uJ=this.Wj(NJ);}else if(matchingOptions.wildcard===true){uJ=NJ.replace(/[-[\]{}()+,^$|#]/g,"\\$&");uJ=this.Wj(uJ);}else if(matchingOptions.exactPhrase){uJ=NJ.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");uJ=this.Wj(uJ);}else{uJ=NJ.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");}var aCE=uJ.replace(/'/g,'[\'|‘|’]').replace(/"/g,'["|“|”]');return new RegExp(aCE,this.FJ(matchingOptions.matchCase));};this.FJ=function(matchCase){if(matchCase){return 'gm';}else{return 'igm';}};this.aGo=function(sY){var GF=new RegExp('\\b'+sY+'\\b',T.FJ());return GF;};var aaq=["#1c86ee","#ff8c00","#9932cc","#FFBA00","#00c5cd","#ee3a8c","#4169e1","#00cd00","#6959cd","#ff4500"];this.abP=function(cW){if(!cW){return aaq[T.Pi++ %aaq.length];}else{return cW;}};this.TZ=function(eD){if(typeof eD==='string'){eD={searchTerms:[{searchTerm:eD,highlightColor:undefined,contextPadding:25,searchTermIsRegex:false,matchingOptions:{exactPhrase:true,matchCase:false,matchWholeWord:false,beginsWith:false,endsWith:false,wildcard:false}}]};return eD;}IPCC.V.forEach(eD.searchTerms,function(bf){if(!bf.matchingOptions){bf.matchingOptions={};}var oX=IPCC.V.Oo(bf.type);switch(oX){case 'proximity':IPCC.V.forEach(bf.terms,function(UZ){T.ald(UZ);});break;default:T.ald(bf);break;}});return eD;};this.ald=function(bf){if(typeof bf.contextPadding==="undefined"){bf.contextPadding=25;}if(typeof bf.searchTermIsRegex==="undefined"){bf.searchTermIsRegex=false;}if(typeof bf.matchingOptions==="undefined"){bf.matchingOptions={};}if(!bf.matchingOptions.hasOwnProperty('matchCase')){bf.matchingOptions.matchCase=false;}if(!bf.matchingOptions.hasOwnProperty('exactPhrase')){bf.matchingOptions.exactPhrase=true;}if(!bf.matchingOptions.hasOwnProperty('matchWholeWord')){bf.matchingOptions.matchWholeWord=false;}if(!bf.matchingOptions.hasOwnProperty('beginsWith')){bf.matchingOptions.beginsWith=false;}if(!bf.matchingOptions.hasOwnProperty('endsWith')){bf.matchingOptions.endsWith=false;}if(!bf.matchingOptions.hasOwnProperty('wildcard')){bf.matchingOptions.wildcard=false;}if(typeof bf.highlightColor!=='undefined'){try{IPCC.bw.cW(bf.highlightColor,"selectText");}catch(e){bf.highlightColor=undefined;}}};this.aDx=function(){return T.bX;};this.acD=function(e){T.aX.dG=e.message;T.aX.eA="1010";T.aX.tZ=true;setTimeout(function(){T.aX.trigger("SearchFailed",{errorMessage:(e.message)});},10);setTimeout(function(){T.aX.trigger("SearchCompleted",{completedSearchResults:(T.rS)});},10);return T.aX;};this.wm=function(eD,ac){this.bX={};this.HS=eD;this.bf=eD;this.Pi=0;var wm=new PCCViewer.OA();try{T.bX=this.Rz();return wm.ZD(ac,T.bX,eD,T.aX);}catch(e){return T.acD(e);}};this.CZ=function(eD,ac){this.bX={};this.HS=eD;this.bf=eD;this.Pi=0;var CZ=new PCCViewer.Vo();try{T.bX=this.Rz();return CZ.ZD(ac,T.bX,eD,T.aX);}catch(e){return T.acD(e);}};};_Search.prototype.zB=function(searchQuery){this.bX={};this.aX=new PCCViewer.SearchRequest();this.HS=searchQuery;this.aX.eD=searchQuery;this.bf=searchQuery;this.Pi=0;return this.aX;};var SearchTask=function(searchQuery){this.acA(searchQuery);var _search=new PCCViewer._Search();searchQuery=_search.TZ(searchQuery);this.aX=_search.zB(searchQuery);try{_search.bX=_search.Rz();}catch(e){if(e.aFT){throw new Error(e.message);}else{throw new Error(e.message);}}var wm=new PCCViewer.OA();this.search=function(text){wm.rS=[];wm.bV=0;wm.bX=_search.bX;wm.auj(text);return wm.rS;};};SearchTask.prototype.acA=function(searchQuery){if(typeof searchQuery==='string'){return;}var ze;if(searchQuery&&searchQuery.searchTerms&&Object.prototype.toString.call(searchQuery.searchTerms)==='[object Array]'){ze=searchQuery.searchTerms;}else{throw new Error('The `searchQuery` parameter is not a string, or a search terms array was not present in the search query.');}IPCC.V.forEach(ze,function(ve,C){var oX=ve.type?IPCC.V.trim(ve.type).toLowerCase():undefined;switch(oX){case 'proximity':IPCC.V.forEach(ve.terms,function(aCH,am){if(!akf(aCH)){throw new Error("Search term index "+am+" under Proximity search term index "+C+" does not have a valid `searchTerm` string property.");}});break;default:if(!akf(ve)){throw new Error("Search term index "+C+" does not have a valid `searchTerm` string property.");}break;}});function akf(ve){return(typeof ve.searchTerm==='string');}};module.exports={_Search:_Search,SearchTask:SearchTask};},{}],164:[function(require,module,exports){function aub(eD){var ze=eD.map(function(bf,amU){if(bf.type==='proximity'){return{type:'proximity',distance:bf.distance,subTerms:bf.bX.map(function(aao){return{pattern:aao.searchTerm.source,caseSensitive:aao.uE.matchingOptions.matchCase};}),termId:amU.toString(),contextPadding:bf.contextPadding};}return{type:'simple',pattern:bf.searchTerm.source,caseSensitive:bf.uE.matchingOptions.matchCase,termId:amU.toString(),contextPadding:bf.contextPadding};});return{input:{searchTerms:ze}};};var Vo=function(){var T=this;var zB,EC,ajz;var KH=[];this.zf=false;this.zb={};this.Ay=[];function atP(){var Ri=EC?'&continueToken='+EC:'';return T.ac.rc+'/v2/searchTasks/'+zB.processId+'/results?limit=100'+Ri;};function awp(eS){var QJ=T.zb.input.searchTerms.reduce(function(pF,ve){pF[ve.termId]=T.bX[ve.termId];return pF;},{});return eS.map(function(ad){var fJ=new PCCViewer.SearchResult();if(T.bX[0].uE.matchingOptions.wildcard&&(ad.text[0]===" "||ad.text[0]==="\n")){ad.text=ad.text.substring(1);ad.startIndex+=1;ad.startIndexInContext+=1;}fJ.mf=ad.boundingRectangle;fJ.df=ad.context;fJ.zX=ad.startIndexInContext;fJ.nr=ad.id;fJ.bX=T.bX;fJ.aI=ad.lineRectangles;fJ.hF=ad.pageData;fJ.pW=ad.startIndex;fJ.aO=ad.text;fJ.ah=ad.pageIndex+1;fJ.dr=ad.id;fJ.Ic=T.ac.get_documentIdentifier();fJ.bf=QJ[ad.searchTerm.termId].uE;fJ.pM=QJ[ad.searchTerm.termId].highlightColor;return fJ;});};function rV(JU,abJ){switch(JU){case 'failed':setTimeout(function(){T.aX.trigger(PCCViewer.EventType.SearchFailed,abJ);},10);break;case 'complete':T.aX.XJ=T.Ay;T.aX.tZ=true;setTimeout(function(){T.aX.trigger(PCCViewer.EventType.SearchResultsAvailable,{completedSearchResults:(T.aX.getResults())});},10);break;case 'cancelled':break;}setTimeout(function(){T.aX.trigger(PCCViewer.EventType.SearchCompleted,{completedSearchResults:(T.aX.getResults())});},10);};function awG(lH){var aQ=T.ac.rc+'/v2/viewingSessions/'+encodeURIComponent(T.ac.get_documentIdentifier())+'/searchTasks';function ez(aM){var ad=JSON.parse(aM.responseText);zB=ad;if(KH.length){KH.forEach(function(wv){wv();});}KH=[];lH();};function fz(aa){T.aX.off('SearchCancelled',T.aeM);T.aX.dG='The request to create a search task failed.';var aCu=aa&&aa.response&&aa.response.status===501;var aBu=aa&&aa.response&&aa.response.status===480&&(function(aym){try{return JSON.parse(aym).errorCode==='FeatureDisabled';}catch(e){return false;}}(aa.response.responseText));if(aCu||aBu){T.aX.eA='ServerSearchUnavailable';T.aX.dG='Server-side search is not available.';rV('failed',{errorMessage:T.aX.dG});return;}rV('failed',{errorMessage:T.aX.dG});};PCCViewer.Ajax.fq({url:aQ,method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(T.zb)}).then(ez,fz);};function Pk(lH){var aQ=atP();var gk={};if(zB.affinityToken){gk['Accusoft-Affinity-Token']=zB.affinityToken;}if(!T.zf){return;}function ez(aM){if(!T.zf){return;}var ad=JSON.parse(aM.responseText);var Xp=awp(ad.results);T.Ay=ad.pagesWithoutText;T.aX.eS.push.apply(T.aX.eS,Xp);if(Xp.length){setTimeout(function(){IPCC.V.forEach(Xp.reduce(function(pF,ad){var dA=ad.ah;if(!pF[dA]){pF[dA]=[];}pF[dA].push(ad);return pF;},{}),function(eS,dA){T.aX.trigger('PartialSearchResultsAvailable',{partialSearchResults:eS,pagesWithoutText:T.Ay});});},10);}if(ad.continueToken){EC=ad.continueToken;ajz=ad.continueAfter;lH();}else if(T.zf){rV('complete');}};function fz(ad){if(!T.zf){return;}T.zf=false;T.aX.dG='The request to poll the search task failed.';T.aX.tZ=true;rV('failed',{errorMessage:T.aX.dG});};PCCViewer.Ajax.fq({method:'GET',url:aQ,headers:gk}).then(ez,fz);};function awu(){(function awf(){setTimeout(function(){Pk(awf);},ajz||0);}());};function aeM(){rV('cancelled');T.zf=false;function aev(){};if(!zB){KH.push(aev);return;}aev();};this.ZD=function(ac,bX,eD,aX){T.ac=ac;T.bX=bX;T.aX=aX;T.aX.eD=eD;T.zb=aub(T.bX);T.zf=true;T.aX.on('SearchCancelled',aeM);awG(function(){awu();});return T.aX;};};module.exports=Vo;},{}],165:[function(require,module,exports){var ObservableCollection=require('./PCCViewer.ObservableCollection');function afG(clientBB){this.top=clientBB.top;this.bottom=clientBB.bottom;this.left=clientBB.left;this.right=clientBB.right;this.width=clientBB.width||clientBB.right-clientBB.left;this.height=clientBB.height||clientBB.bottom-clientBB.top;};function wd(x,y){this.x=x;this.y=y;this.getDistance=function(point){var x=point.x-this.x,y=point.y-this.y,d=x*x+y*y,squared=false;return squared?d:Math.sqrt(d);};this.equals=function(point){return this===point||point&&(this.x===point.x&&this.y===point.y)||false;};this.close=function(point){return this.getDistance(point)<4;};this.clone=function(){return new wd(this.x,this.y);};};function Vv(aS){return(aS&&aS.nodeType===1);};function RV(gB,IL){var TJ=(IL&&IPCC.V.CG)?'m':'M';var Xn=(IL&&IPCC.V.CG)?'l':'L';return IPCC.V.map(gB,function(el,i){if(i===0){return TJ+el.x+','+el.y;}else{return Xn+el.x+','+el.y;}}).join('');};function adp(df,oj,eH){return function(aa){if(IPCC.V.Bx&&aa.type.match('mouse')){aa.preventDefault();aa.stopPropagation();return false;}if(aa.preventDefault){aa.preventDefault();}else{aa.returnValue=false;}var x,y;if(aa.changedTouches){var gU=aa.changedTouches[0];if(aa.type==='touchstart'){oj=aa.target.getBoundingClientRect();}else if(aa.type==='touchend'){eH&&eH();return;}x=gU.clientX-oj.left;y=gU.clientY-oj.top;}else{x=aa.clientX-oj.left;y=aa.clientY-oj.top;}var ay=new wd(x,y);df.gB.push(ay);var qv=RV(df.gB);if(IPCC.V.CG){df.gh.path=qv.toLowerCase();}else{df.gh.setAttribute('d',qv);}eH&&eH();};};function avx(points){var Ak=3,cs='',tk;var qs=(points.length<Ak)?points:IPCC.V.filter(points,function(el){if(tk&&tk.close(el)){return false;}else{tk=el;return true;}});if(qs.length<Ak){qs=[points[0],points[points.length-1]];}tk=undefined;if(qs.length<Ak){cs+=RV(qs);}else{cs='M'+IPCC.V.bspline(qs);cs=cs.replace(/\d*\.?\d*/g,function(aH){var IR=aH.indexOf('.');if(aH.length&&IR>0){return aH.substr(0,IR+3);}else if(aH!==""){return aH;}else{return aH;}});}return cs;};function SignatureControl(dom){var T=this;if(typeof dom==='string'){this.bK=document.querySelector(dom);if(!(Vv(this.bK))){throw new Error('The query selector "'+dom+'" did not match any DOM element.');}}else if(Vv(dom)){this.bK=dom;}else{throw new Error('The SignatureControl target is not a valid DOM element.');}this.Ii=[];this.oj=new afG(this.bK.getBoundingClientRect());this.eG=IPCC.V.xO.SVG([0,0,this.oj.width,this.oj.height].join(' '));this.bK.appendChild(this.eG);function Bm(ev){var gh=IPCC.V.xO.Path(undefined,{width:2000,height:2000,color:'black',thickness:4});T.eG.appendChild(gh);var df={gB:[],gh:gh,eH:function(){T.Ii.push(df.gB);IPCC.V.removeEvent(T.bK,'mousemove',ye);IPCC.V.removeEvent(T.bK,'mouseup',DB);if(IPCC.V.Bx){IPCC.V.removeEvent(T.bK,IPCC.V.ox['move'],ye);IPCC.V.removeEvent(T.bK,IPCC.V.ox['up'],DB);}if(IPCC.V.HL){IPCC.V.removeEvent(T.bK,'touchmove',ye);IPCC.V.removeEvent(T.bK,'touchend',DB);}}};var ye=adp(df,T.oj);var DB=adp(df,T.oj,df.eH);ye(ev);IPCC.V.addEvent(T.bK,'mousemove',ye);IPCC.V.addEvent(T.bK,'mouseup',DB);if(IPCC.V.Bx){IPCC.V.addEvent(T.bK,IPCC.V.ox['move'],ye);IPCC.V.addEvent(T.bK,IPCC.V.ox['up'],DB);}if(IPCC.V.HL){IPCC.V.addEvent(T.bK,'touchmove',ye);IPCC.V.addEvent(T.bK,'touchend',DB);}};IPCC.V.addEvent(T.bK,'mousedown',Bm);if(IPCC.V.Bx){this.bK.style['-ms-touch-action']='none';this.bK.style['touch-action']='none';IPCC.V.addEvent(T.bK,IPCC.V.ox['down'],Bm);}if(IPCC.V.HL){IPCC.V.addEvent(T.bK,'touchstart',Bm);}this.TO=function(){T.oj=new afG(T.bK.getBoundingClientRect());T.eG.setAttribute('viewBox',[0,0,T.oj.width,T.oj.height].join(' '));};IPCC.V.addEvent(window,'resize',this.TO);this.aip=function(){IPCC.V.removeEvent(window,'resize',T.TO);IPCC.V.removeEvent(T.bK,'mousedown',Bm);if(IPCC.V.Bx){IPCC.V.removeEvent(T.bK,IPCC.V.ox['down'],Bm);}if(IPCC.V.HL){IPCC.V.removeEvent(T.bK,'touchstart',Bm);}while(T.bK.firstChild){T.bK.removeChild(T.bK.firstChild);}};};SignatureControl.prototype.done=function(){var mp,mI,nm,nb,qv='M0,0',agc=this;IPCC.V.forEach(agc.Ii,function(oP){IPCC.V.forEach(oP,function(p){if(mp===undefined||mp>p.x){mp=p.x;}if(mI===undefined||mI>p.y){mI=p.y;}if(nm===undefined||nm<p.x){nm=p.x;}if(nb===undefined||nb<p.y){nb=p.y;}});});IPCC.V.forEach(agc.Ii,function(oP){var azX=IPCC.V.map(oP,function(p){return new wd(p.x-mp,p.y-mI);});qv+=avx(azX);});this.aip();return{type:'path',path:qv,width:(nm-mp)||0,height:(nb-mI)||0};};SignatureControl.prototype.resize=function(){this.TO();return this;};SignatureControl.prototype.clear=function(){var svg=this.eG;while(svg&&svg.firstChild){svg.removeChild(svg.firstChild);}this.Ii=[];return this;};SignatureControl.prototype.undo=function(){if(this.eG.lastChild){this.eG.removeChild(this.eG.lastChild);}this.Ii.pop();return this;};SignatureControl.prototype.cancel=function(){this.aip();return this;};var Signatures=new ObservableCollection();var SignatureDisplay=function(domElement,signature){function handleSignatureAsPath(){if(!signature.path||signature.path.match(/[^MLC0-9.,\s]/)){throw new Error('A valid path is required in the signature object.');}var qc=IPCC.V.abe(signature.path);var eG=IPCC.V.xO.SVG([0,0,qc.width,qc.height].join(' '));var gh=IPCC.V.xO.Path(signature.path,{width:qc.width,height:qc.height,color:'black',thickness:4});if(IPCC.V.CG){var aBX=(qc.height/qc.width)*100;eG.style.width=gh.style.width='100%';eG.style.height=gh.style.height='0px';eG.style.paddingBottom=gh.style.paddingBottom=aBX+'%';}else{eG.style.width='100%';eG.style.maxHeight='100%';eG.setAttribute('preserveAspectRatio','xMinYMin meet');}eG.appendChild(gh);domElement.appendChild(eG);return{width:qc.width,height:qc.height,clear:function(){domElement.removeChild(eG);}};};function handleSignatureAsText(){if(!signature.text||typeof signature.text!=='string'){throw new Error('The signature text is not a valid string.');}var jn=document.createElement('div');var lX=document.createTextNode(signature.text);var jf=(typeof signature.fontName==='string')?signature.fontName:'serif';jn.appendChild(lX);jn.style.textAlign='center';jn.style.fontFamily='"'+jf+'", cursive';jn.style.fontSize='2.5em';jn.style.overflow='hidden';domElement.appendChild(jn);var qc=IPCC.V.tw(signature.text,jf);return{width:qc.width,height:qc.height,clear:function(){domElement.removeChild(jn);}};};if(!Vv(domElement)){throw new Error('The `domElement` parameter is not a valid HTMLElement.');}else if(!signature){throw new Error('The `signature` parameter is required.');}else if(signature.path){return handleSignatureAsPath();}else if(signature.text){return handleSignatureAsText();}else{throw new Error('The signature provided does not have a known type.');}};module.exports={SignatureControl:function(dom){return new SignatureControl(dom);},SignatureDisplay:SignatureDisplay,Signatures:Signatures};},{"./PCCViewer.ObservableCollection":155}],166:[function(require,module,exports){var Vn=function(){},hL={aeA:0,aBY:1,axJ:2};var ThumbnailControl=function(domElement,viewerControl){if(!domElement|| !IPCC.V.uO(domElement)){throw new Error('The "domElement" parameter is not a valid HTML Element');}if(!viewerControl|| !(viewerControl instanceof PCCViewer.ViewerControl)){throw new Error('The "viewerControl" parameter is not a valid PCCViewer.ViewerControl object');}var T=this;this.hL=hL.aeA;this.aF=viewerControl.aF;this._debug= ! !this.aF.debug;this.aFu="Single";this.Iq=[];this.qJ={};if(!this.bQ){this.bQ=viewerControl;}else{throw new Error("This instance of thumbnail already is attached to a ViewerControl.");}PCCViewer.EventEmitter.extend(this);this.bN=domElement;if(viewerControl.oU){T.hL=hL.axJ;T.Xc(viewerControl.getPageCount());T.XY(T.bN);}else{T.hL=hL.aBY;T.Xc(1,0);viewerControl.on('PageCountReady',function(){T.Xc(viewerControl.getPageCount(),1);T.XY(T.bN);});}viewerControl.on('PageRotated',function(aa){IPCC.V.forEach(T.qJ,function(bg){if(bg.aU===(aa.pageNumber-1)){if(bg.yL===true){T.ZW(bg);}}});});viewerControl.on('DocumentRotated',function(aa){IPCC.V.forEach(T.qJ,function(bg){if(bg.yL===true){T.ZW(bg);}});});};ThumbnailControl.prototype.getViewerControl=function(){return this.bQ;};ThumbnailControl.prototype.Xc=function(dY,gu){gu=gu||0;var T=this,IJ=document.createDocumentFragment();for(var i=gu;i<dY;i++){var _parent=document.createElement('div');_parent.className='pccThumbnailWrapper';var ej=document.createElement('div');ej.className='pccThumbnail';var qp=document.createElement('div');qp.className='pccThumbnailView';qp.id='pcc-thumbnailPage-'+i+'-'+IPCC.wE();ej.appendChild(qp);_parent.appendChild(ej);IJ.appendChild(_parent);T.qJ[i]={Vx:_parent,bK:ej,qp:qp,aU:i,aN:{},yL:false,kR:0,kG:0,hg:0};}IPCC.V.forEach(T.qJ,function(bg){var aax=document.createElement('div'),tF=document.createElement('span'),aDi=document.createTextNode(bg.aU+1);aax.className='pccThumbnailLabel';tF.appendChild(aDi);aax.appendChild(tF);bg.bK.appendChild(aax);bg.bK.onclick=function(){T.amQ([bg.aU+1]);};});T.bN.appendChild(IJ);this.SH();return this;};ThumbnailControl.EventType={PageSelectionChanged:"PageSelectionChanged"};ThumbnailControl.prototype.getSelectedPages=function getSelectedPages(){if(!this.hL){return[];}return[].concat(this.Iq);};ThumbnailControl.prototype.setSelectedPages=function setSelectedPages(pageNumbers){if(!this.hL){return this;}var dY=this.bQ.getPageCount();if(typeof pageNumbers==='number'){pageNumbers=[pageNumbers];}else if(Object.prototype.toString.call(pageNumbers)!=='[object Array]'){throw new Error(pageNumbers+' is not a number or an array of numbers');}IPCC.V.forEach(pageNumbers,function(hm,C){if(isNaN(hm)){throw new Error(hm+' (array index '+C+') is not a number');}if(hm<1||hm>dY){throw new Error(hm+' (array index '+C+') is out of range');}});this.amQ([].concat(pageNumbers).sort());return this;};if(Object.defineProperties){Object.defineProperties(ThumbnailControl.prototype,{"selectedPages":{enumerable:true,get:function(){return this.getSelectedPages();},set:function(pageNumbers){return this.setSelectedPages(pageNumbers);}},"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}},"visiblePages":{emunerable:true,get:function(){return this.getVisiblePages();}}});}ThumbnailControl.prototype.scrollTo=function(pageNumber,options){var hm=Number(pageNumber);if(hm!==(hm|0)||hm<1||hm>this.bQ.getPageCount()){throw new Error(pageNumber+' is not a valid page number');}var nh=false,T=this,aF=options||{};IPCC.V.forEach(this.qJ,function(bg){if(nh){return;}if(bg.aU+1===hm){nh=true;T.TS(bg,undefined,! !aF.forceAlignTop);}});return this;};ThumbnailControl.prototype.TS=function(bg,mR,axx){mR=mR||IPCC.V.Za(this.bN.getBoundingClientRect());var uF=IPCC.V.Za(bg.Vx.getBoundingClientRect());if(uF.top>mR.top&&uF.bottom<mR.bottom){return;}var agy=window.getComputedStyle?getComputedStyle(bg.Vx):bg.Vx.currentStyle,fS;if(uF.top<mR.top||axx){fS=uF.top-mR.top+this.bN.scrollTop-parseInt(agy.marginTop,10);}else if(uF.bottom>mR.bottom){fS=uF.bottom-mR.top-mR.height+this.bN.scrollTop+parseInt(agy.marginBottom,10);}if(fS!==undefined){this.bN.scrollTop=fS;}return this;};ThumbnailControl.prototype.amQ=function(ji){if(IPCC.V.ayH(this.Iq,ji)){return this;}var aaa='pcc-thumbnail-selected',Gr=new RegExp(aaa),Tz=false,ajM=[].concat(ji),ali=ajM.shift(),ams=false,mR=IPCC.V.Za(this.bN.getBoundingClientRect()),T=this;IPCC.V.forEach(this.qJ,function(bg){if(bg.aU===ali-1){IPCC.V.afr(bg.bK,aaa);Tz=true;ali=ajM.shift()||0;if(!ams){ams=true;T.TS(bg,mR);}return;}if(Gr.test(bg.bK.className)){IPCC.V.adv(bg.bK,aaa);Tz=true;}});this.Iq=ji;if(Tz){this.trigger(PCCViewer.ThumbnailControl.EventType.PageSelectionChanged,{pageNumbers:[].concat(this.Iq)});}return this;};ThumbnailControl.prototype.aDv=function(){var de=this.PW(),T=this,yU;IPCC.V.forEach(de,function(bg){if(!yU&&IPCC.V.inArray(T.Iq,bg.aU+1)){yU=bg;}});if(!yU){yU=de[0];}return yU;};ThumbnailControl.prototype.reflow=function(){if(!this.hL){return this;}var Bc,BU,bi,aq,Lx,OJ,hg,yU=this.aDv();IPCC.V.forEach(this.qJ,function(bg){if(bg.yL){bg.bK.style.height=bg.qp.style.height='';bg.bK.style.width=bg.qp.style.width='';}});IPCC.V.forEach(this.qJ,function(bg){if(bg.yL&&bg.aN.eE()){Bc=bg.bK.offsetWidth;BU=bg.bK.offsetHeight;hg=bg.aN.aux();if(Math.abs(hg)===90||Math.abs(hg)===270){aq=bg.aN.kJ();bi=bg.aN.ia();}else{bi=bg.aN.kJ();aq=bg.aN.ia();}Lx=bi/aq;OJ=Bc/BU;var kR,kG;if(Lx<OJ){kG=BU;kR=Math.floor(kG*bi/aq);}else{kR=Bc;kG=Math.floor(kR*aq/bi);}bg.kR=kR;bg.kG=kG;}});IPCC.V.forEach(this.qJ,function(bg){if(bg.yL&&bg.aN&&bg.aN.eE()){bg.qp.style.height=bg.kG+'px';bg.qp.style.width=bg.kR+'px';bg.aN.YJ(IPCC.Web.UI.FitType.FullImage);bg.aN.cn();}});if(yU){this.TS(yU);}this.SH();return this;};ThumbnailControl.prototype.destroy=function(){if(!this.hL){return this;}this.hL=hL.aeA;IPCC.V.forEach(this.qJ,function(bg){if(bg.aN&&bg.aN.dispose){bg.aN.dispose();}});while(this.bN.firstChild){this.bN.removeChild(this.bN.firstChild);}this.on=this.off=this.trigger=Vn;this.jr={};};ThumbnailControl.prototype.getVisiblePages=function(){if(!this.hL){return[];}var de=this.PW();return IPCC.V.map(de,function(bg){return bg.aU+1;});};ThumbnailControl.prototype.PW=function PW(){var aCj=this.bN.getBoundingClientRect(),uF;function VI(mR,Pl){return(!(Pl.top>=mR.bottom||Pl.left>=mR.right||Pl.bottom<=mR.top||Pl.right<=mR.left));};return IPCC.V.filter(this.qJ,function(bg){uF=bg.bK.getBoundingClientRect();return VI(aCj,uF);});};ThumbnailControl.prototype.SH=function(){var T=this,de=T.PW();IPCC.V.forEach(de,function(bg){if(!bg.yL){bg.aN=T.jD(bg);bg.yL=true;}});return this;};ThumbnailControl.prototype.XY=function XY(bK){var PP={},T=this;function axZ(ap,wv,oA){if(PP[ap]){clearTimeout(PP[ap]);PP[ap]=undefined;}PP[ap]=setTimeout(wv,oA||0);};IPCC.Web.UI.bS.addHandler(bK,'scroll',function(ev){axZ('scroll',function(){T.SH();},300);});};ThumbnailControl.prototype.jD=function(bg,lH){var T=this;lH=lH||Vn;var bb={documentIdentifier:T.aF.documentID,pageNumber:bg.aU,viewFitType:IPCC.Web.UI.FitType.FullImage,imageHandlerUrl:T.aF.imageHandlerUrl,encryption:T.aF.encryption,handleTouchEvents:false};var aN=IPCC.initializePageViewPlugin(bg.qp,bb);aN.set_debug(T._debug);aN.set_mouseTool(IPCC.Web.UI.MouseTool.None);var vm=false;function Jz(){lH();};aN.add_pageOpened(function(){T.ZW(bg);});aN.add_pageDisplayed(function(){if(!vm){Jz();}});aN.add_textPageReady(function(){if(vm){aN.cn();Jz();}});aN.add_pageOpenFailed(function(){});aN.add_textExtractionFailed(function(){});bb.artPage=T.bQ.aw.hA(T.bQ.dc.getPage(bg.aU));bb.artPage.Bj(function(R){if(R.get_type()===608){vm=true;}});aN.azw(bb);aN.set_mouseTool(IPCC.Web.UI.MouseTool.None);return aN;};ThumbnailControl.prototype.ZW=function(bg){var T=this;var De=T.bQ.aw.abC(bg.aU);var hg=bg.hg;var acI=hg;if(De!==bg.hg){acI=De-hg;}var aN=bg.aN,jn=bg.qp,aq,bi;if(!bg.yL|| !aN.eE()){return;}jn.style.height='';jn.style.width='';if(Math.abs(De)===90||Math.abs(De)===270){aq=aN.kJ();bi=aN.ia();}else{aq=aN.ia();bi=aN.kJ();}var Bc=jn.offsetWidth,BU=jn.offsetHeight;if(bg.hg!==De){aN.rotate(acI);bg.hg=De;}var Lx=bi/aq,OJ=Bc/BU;var kR,kG;if(Lx<OJ){kG=BU;kR=Math.floor(kG*bi/aq);}else{kR=Bc;kG=Math.floor(kR*aq/bi);}jn.style.height=kG+'px';jn.style.width=kR+'px';};module.exports=ThumbnailControl;},{}],167:[function(require,module,exports){function acm(message,value){var err=new Error('PCC Range Error: '+message);err.value=value;return err;};function awc(aBa){var bL=[];var acu=function(n){return!(isNaN(+n));};var agE=aBa.split(',');var Mg,Vq;var QY=0;var vF=0;for(var C=0;C<agE.length;C++){var Gd=agE[C].split('-');var FN=Gd[0].replace(/\s+/g,'');if(FN.length===0){continue;}var HM=FN;if(Gd[1]!==undefined&&Gd[1]!==""){HM=Gd[1].replace(/\s+/g,'');}FN= +(FN);HM= +(HM);if(acu(FN)===true){QY=parseInt(FN);}if(acu(HM)===true){vF=parseInt(HM);}if(QY<vF){Mg=QY;Vq=vF;}else{Mg=vF;Vq=QY;}if(Gd.length>1){for(var bv=Mg;bv<=Vq;bv++){bL.push(bv);}}else{bL.push(Mg);}}bL.sort(function(a,b){return a-b;});for(C=bL.length-1;C>0;C--){if(bL[C-1]===bL[C]){bL.splice(C,1);}}return bL;};var alternateObjectURL=function(blob,str){blob.data=str;var type=blob.type,data_URI_header;if(type===null){type="application/octet-stream";}data_URI_header="data:"+type;if(blob.encoding==="base64"){return data_URI_header+";base64,"+blob.data;}else if(blob.encoding==="URI"){return data_URI_header+","+decodeURIComponent(blob.data);}if(btoa){return data_URI_header+";base64,"+btoa(blob.data);}else{return data_URI_header+","+encodeURIComponent(blob.data);}};var Util={save:function(filename,stringValue){if('Blob'in window){var blob=new Blob([stringValue],{'type':'text/plain;charset=utf-8'});if(window.navigator.msSaveBlob){window.navigator.msSaveBlob(blob,filename);}else if(window.saveAs){window.saveAs(blob,filename);}else if(window.URL&&window.URL.createObjectURL){var a=document.createElement('a');a.href=URL.createObjectURL(blob);a.target='_blank';a.download=filename;a.style.display='none';document.body.appendChild(a);a.click();document.body.removeChild(a);}else{var objectURL=alternateObjectURL(blob,stringValue);window.open(objectURL);}}else{if(document.execCommand){var oWin=window.open('about:blank','_blank');oWin.document.write(stringValue);oWin.document.close();oWin.document.execCommand('SaveAs',true,filename+'.txt');oWin.close();}}},calculateNonOverlappingSelections:function(selections,backgroundColor){var fP;if(!(selections instanceof Array)){fP=[selections];}else{fP=selections;}IPCC.V.forEach(fP,function(db){IPCC.bw.lN(db.startIndex,'selection.startIndex',0,Number.MAX_VALUE);IPCC.bw.lN(db.length,'selection.length',1,Number.MAX_VALUE);IPCC.bw.cW(db.color,'selection.color');IPCC.bw.lN(db.opacity,'selection.opacity',0,255);});IPCC.bw.cW(backgroundColor,'backgroundColor');var aqr=IPCC.V.alD(fP);return IPCC.V.map(aqr,function(aS){aS.length=aS.endIndex-aS.startIndex+1;return aS;});},layerColors:function(colors,backgroundColor){var MP;if(!(colors instanceof Array)){MP=[colors];}else{MP=colors;}IPCC.V.forEach(MP,function(db){IPCC.bw.cW(db.color,'selection.color');IPCC.bw.lN(db.opacity,'selection.opacity',0,255);});IPCC.bw.cW(backgroundColor,'backgroundColor');return IPCC.V.akq(MP,backgroundColor);},validatePageRange:function(pageRange,options){if(pageRange&&typeof pageRange!=='string'){return false;}else{try{PCCViewer.Util.convertPageRangeToArray(pageRange,options);}catch(e){return false;}return true;}},convertPageRangeToArray:function(pageRange,options){options=options||{};var lowerLimit=options.lowerLimit||1,upperLimit=options.upperLimit||Number.MAX_VALUE,allowEmpty=options.allowEmpty||false;if(pageRange!=='all'&&pageRange.match(/[^0-9\-\,\s]/g)){throw acm('Illegal page range value',pageRange);}var dI=[];if(pageRange==='all'){while(upperLimit>=lowerLimit){dI.unshift(upperLimit--);}}else{dI=awc(pageRange);if((dI.length===0&& !allowEmpty)||dI[0]<lowerLimit||dI[dI.length-1]>upperLimit){throw acm('Pages are out of range',dI.join(', '));}}return dI;}};module.exports=Util;},{}],168:[function(require,module,exports){var CP={Document:"Document",EqualWidthPages:"EqualWidthPages",SinglePage:"SinglePage",EqualFitPages:"EqualFitPages"};module.exports=CP;},{}],169:[function(require,module,exports){"use strict";var IPCC=require('./../IPCC/IPCC');var rK=require('./PCCViewer.Helper');var Print=require('./PCCViewer.Print');var EventEmitter=require('./PCCViewer.EventEmitter');var cq=require('./PCCViewer.MarkDeserializer');var fe=require('./PCCViewer.MarkSerializer');function ViewerControl(element,options){if(!(this instanceof ViewerControl)){return new ViewerControl(element,options);}if(!IPCC.V.uO(element)){throw new Error("The 'element' argument is required.");}if(!options.documentID){throw new Error("A valid value for 'options.documentID' is required");}if(!options.imageHandlerUrl){throw new Error("A valid value for 'options.imageHandlerUrl' is required");}var T=this;IPCC.V.Sj(element);var kO=document.createElement('div');kO.className='pccViewerControl';kO.id='pccViewerControl-'+IPCC.wE();element.appendChild(kO);this.dO=kO;this.gS=element;var sm=document.createElement('div');sm.className='pccPageListLoading';kO.appendChild(sm);this.sm=sm;EventEmitter.extend(this);this.yX=false;this.aF=rK.rz({},ViewerControl.AB,options);this.aF.language=rK.rz({},ViewerControl.asQ,(options.language?options.language:{}));if(options.language){PCCViewer.Language.initializeData(options.language);}if(this.aF.pageLayout.toLowerCase()==="vertical"){this.aF.pageLayout=IPCC.PageLayout.VerticalScrollDirection;}else if(this.aF.pageLayout.toLowerCase()==="horizontal"){this.aF.pageLayout=IPCC.PageLayout.HorizontalScrollDirection;}else{throw new Error("The value of 'options.pageLayout' is invalid.");}if(this.aF.viewMode.toLowerCase()==="document"){this.aF.viewMode=IPCC.ViewMode.Document;}else if(this.aF.viewMode.toLowerCase()==="equalwidthpages"){this.aF.viewMode=IPCC.ViewMode.EqualWidthPages;}else if(this.aF.viewMode.toLowerCase()==="equalfitpages"){this.aF.viewMode=IPCC.ViewMode.EqualFitPages;}else if(this.aF.viewMode.toLowerCase()==="singlepage"){this.aF.viewMode=IPCC.ViewMode.SinglePage;}else{throw new Error("The value of 'options.viewMode' is invalid.");}function isValidSearchMethodType(){return-1<['auto','server','client'].indexOf(T.aF.searchMethodType.toLowerCase());};if(!isValidSearchMethodType()){throw new Error("The value of 'options.searchMethodType' should be 'auto', 'server', or 'client'.");}if(isNaN(this.aF.searchMethodPageCountThreshold)&&(typeof this.aF.searchMethodPageCountThreshold!=='number')&&this.aF.searchMethodPageCountThreshold<=1){throw new Error("The value of 'options.searchMethodPageCountThreshold' must be a number greater than 1.");}if(this.aF.redactionViewMode){if(this.aF.redactionViewMode.toLowerCase()==="draft"){this.aF.redactionViewMode=PCCViewer.RedactionViewMode.Draft;}else if(this.aF.redactionViewMode.toLowerCase()==="normal"){this.aF.redactionViewMode=PCCViewer.RedactionViewMode.Normal;}}else{this.aF.redactionViewMode=PCCViewer.RedactionViewMode.Normal;}var hO=this.aF.pageRotation%360;if(hO!==0){var vp=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!hO||vp.indexOf(hO)=== -1){throw new Error("The value of 'options.pageRotation' is invalid.");}}else{if(!hO||IPCC.Web.jk(vp,hO)=== -1){throw new Error("The value of 'options.pageRotation' is invalid.");}}}this.aF.pageRotation=hO;if(this.aF.markHandleMode.toLowerCase()==="hidesidehandleswhenclose"){this.aF.markHandleMode=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;}else if(this.aF.markHandleMode.toLowerCase()==="hidecornerhandleswhenclose"){this.aF.markHandleMode=IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose;}else{throw new Error("The value of 'options.markHandleMode' is invalid.");}if(isNaN(this.aF.serviceResponseTimeout)||typeof this.aF.serviceResponseTimeout!=='number'||this.aF.serviceResponseTimeout<0){throw new Error("The value of 'options.serviceResponseTimeout' is invalid.");}if(typeof this.aF.debug!=='boolean'){throw new Error("The value of 'options.debug' is invalid.");}if(typeof this.aF.viewerAssetsPath!=='string'){throw new Error("The value of 'options.viewerAssetsPath' is invalid.");}this.jr={};this.aQ="";this.dY=1;this.ahK=1;this.ahM=0;this.jX=1;this.aw=undefined;this.Xt=new PCCViewer.Deferred();this.qn=this.Xt.getPromise();this.eh=false;this.ac=undefined;this.MR=0;this.dc=undefined;this.az=PCCViewer.MouseTools.getMouseTool("AccusoftPanAndEdit");this.oU=false;this.AA=false;this.Dw=false;this.Et=[];this.QC=new PCCViewer.Deferred();this.arX=this.QC.getPromise();this.wc=[];this.cw={};this.Ef=[];this.Dq=[];this.aZ=null;this.HQ={};this.hx=null;this.pl=new PCCViewer.MarkupLayerCollection(this);this.un=new PCCViewer.MarkupLayer(this);this.pl.addItem(this.un);this.sT=true;setTimeout(function(){T.aec(kO,T.aF);},0);this.yk=null;this.aX=null;this.xh=false;this.If= -1;this.EY={};this.acJ=false;this.aCC=this.aF.printTemplate||(this.aF.template?this.aF.template.print:"");this.lh=null;this.vN=null;this.lC=function(dC,eR,akV){var cg=document.createElement('div'),ei=cg.style;ei.position='absolute';if(eR.isSelected){ei.backgroundColor='white';}else{ei.backgroundColor='lightgray';}ei.left='10px';ei.right='0';ei.textAlign='left';IPCC.V.forEach(dC.getComments(),function(nT,C){var Su=document.createElement('div'),Mu=Su.style;Mu.position='relative';Mu.padding='5px';Mu.border='1px solid gray';if(C>0){Mu.borderTop='none';}Su.appendChild(document.createTextNode(nT.getText()));cg.appendChild(Su);});return cg;};return T;};ViewerControl.AB={encryption:false,viewMode:"Document",debug:false,pageLayout:"Vertical",resourcePath:"img",serviceResponseTimeout:60*1000,printTemplate:"",pageRotation:0,markHandleMode:"HideSideHandlesWhenClose",debugErrorLevel:IPCC.Web.UI.DebugErrorLevel.Detailed,maxPrefetch:3,displayPagesWhenScrolling:true,maxOutOfViewDisplay:0,scrollDisplayThreshold:0.5,requireRequestsOptimize:true,loadingContent:"",redactionViewMode:"Normal",searchMethodType:'auto',searchMethodPageCountThreshold:80,viewerAssetsPath:'viewer-assets'};ViewerControl.asQ={pageLoadFailed:"Page Load Failed",pageLoadFailedPassword:"Page Load Failed - Password Required",pageLoadFailedRetry:"Retry"};ViewerControl.prototype.aec=function(element,options){if(this.yX){return;}var T=this;var XQ=function(){if(T.aF.viewMode===IPCC.ViewMode.SinglePage||T.yX){return;}var apL=T.aw.get_pageNodeId(T.getPageNumber()-1);var bO=document.getElementById(apL);var SR=T.dO.childNodes[0].childNodes[0].childNodes[0].childNodes;if(!bO){return;}IPCC.V.forEach(SR,function(iK){if(bO!==iK){if(document.documentMode===8&&iK.style.outline){iK.style.outline='';}else if(iK.style.boxShadow){iK.style.boxShadow='';}}});if(document.documentMode===8){bO.style.outline='2px solid #aaa';}else{bO.style.boxShadow='0 0 4px 1px rgba(0,0,0,.4)';}};function avN(){var aC=new PCCViewer.Deferred();function showNagDialog(delaySecondsRemaining){var qj=document.createElement('div'),DU=document.createElement('div'),SB=function(){qj.classList.add('open');},OW=function(){qj.remove();};DU.innerHTML='<h3>Evaluation Mode</h3>'+'<p>Because no license is installed, PrizmDoc Viewer is running in a limited evaluation mode. <b>Viewing is artificially delayed by about 10 seconds</b>, and all pages will be watermarked.</p>'+'<p>To get a trial or paid license which removes these limitations, contact us at <a href="mailto:info@accusoft.com">info@accusoft.com</a>.</p>';var aaZ=document.createElement('p');DU.appendChild(aaZ);function updateRemainingSeconds(){aaZ.innerText='Please wait '+delaySecondsRemaining+' seconds...';};updateRemainingSeconds();qj.className='pccPageListNagModal';qj.appendChild(DU);T.dO.append(qj);SB();var intervalId=setInterval(function(){delaySecondsRemaining--;if(delaySecondsRemaining>0){updateRemainingSeconds();}else{OW();clearInterval(intervalId);}},1000);};function ez(aM){if(aM.status===200){var ad=JSON.parse(aM.responseText);if(ad.delayEnabled){showNagDialog(ad.delaySecondsRemaining);}}};function fz(aM){aC.reject(new PCCViewer.Error("AjaxError","The call to get viewing session restrictions failed."));};PCCViewer.Ajax.fq({method:'GET',url:T.aF.imageHandlerUrl+'/v2/ViewingSessions/'+T.aF.documentID+'/restrictions',headers:{'Content-Type':'application/json'}}).then(ez,fz);};var aih=function(){if(T.sm.parentNode){T.sm.parentNode.removeChild(T.sm);}T.aw.remove_pageOpenFailed(UW);T.aw.remove_pageDisplayed(aih);var aU=arguments[1].pageIndex;setTimeout(function(){T.trigger("PageDisplayed",{pageNumber:(aU+1)});XQ();},10);if(aU!==0){return;}function ez(aM){if(T.yX){return;}var ad;if(aM.status===200){ad=JSON.parse(aM.responseText);if(ad.pageCountConfidence<100){var aQ;if(!(/^[\x00-\x7F]*$/.test(pG))){aQ=T.aF.imageHandlerUrl+'/Document/q/Attributes?DocumentID=e'+pG+'&DesiredPageCountConfidence=100';}else{aQ=T.aF.imageHandlerUrl+'/Document/q/Attributes?DocumentID=u'+encodeURIComponent(T.aF.documentID)+'&DesiredPageCountConfidence=100';}PCCViewer.Ajax.fq({method:'GET',url:aQ,headers:{'Content-Type':'application/json'}}).then(ez,fz);T.dY=ad.pageCount;T.ac.dY=ad.pageCount;T.Dw=true;setTimeout(function(){T.trigger("EstimatedPageCountReady",{pageCount:ad.pageCount});},10);aas();}else{if(T.dY>1){T.ac.dY=ad.pageCount;setTimeout(function(){var C;if(ad.pageCount<T.dY){for(C=T.dY-1;C>=ad.pageCount;C--){T.dc.removePage(C);}}else if(ad.pageCount>T.dY){for(C=T.dY;C<ad.pageCount;C++){var Tp=new IPCC.Web.UI.ImGearPage({pageNumber:C});T.dc.addPage(Tp);}}T.dY=ad.pageCount;if(T.eh===true){T.oU=true;T.AA=true;setTimeout(function(){T.trigger("PageCountReady",{pageCount:ad.pageCount});},30);}},30);}else{T.dY=ad.pageCount;T.ac.dY=ad.pageCount;if(T.eh===true){aas(function(){T.oU=true;T.AA=true;setTimeout(function(){T.trigger("PageCountReady",{pageCount:ad.pageCount});},0);});}}}}};function fz(ad){if(T.yX){return;}var Yi="None",aio,Zf;var ajm=ad.response.getResponseHeader('Accusoft-Status-Message');if(ajm){Yi=ajm;Zf=ad.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.xQ(Zf)){aio=parseInt(Zf,10);}}else if(ad.response.statusText){Yi=ad.response.statusText;}setTimeout(function(){T.trigger("PageLoadFailed",{statusCode:ad.response.status,errorMessage:Yi,accusoftErrorNumber:aio});},1);throw("Unable to obtain document information from the server");};var pG=IPCC.gJ.rA(T.aF.documentID);if(!pG||pG===""){throw("Invalid encoded Identifier");}if(!(/^[\x00-\x7F]*$/.test(pG))){T.aQ=T.aF.imageHandlerUrl+'/Document/q/Attributes?DocumentID=e'+pG+'&DesiredPageCountConfidence=50';}else{T.aQ=T.aF.imageHandlerUrl+'/Document/q/Attributes?DocumentID=u'+encodeURIComponent(T.aF.documentID)+'&DesiredPageCountConfidence=50';}PCCViewer.Ajax.fq({method:'GET',url:T.aQ,headers:{'Content-Type':'application/json'}}).then(ez,fz);};function aas(qL){qL=qL||function(){};var ajE=T.dY;function aej(){T.aw.remove_allPagesAdded(aej);qL();};if(ajE>1){T.aw.add_allPagesAdded(aej);if(!T.akv){T.aw.add_currentPageChanged(function(){if(arguments.length<2){throw("Controls currentPageChanged event did not provide any expected information");}var dn=arguments[1];setTimeout(function(){T.trigger('PageChanged',{pageNumber:dn.pageIndex+1});XQ();},0);});T.aw.add_pageDisplayed(function(){if(arguments.length<2){throw("Controls pageDisplayed event did not provide any expected information");}var dn=arguments[1];if(T.lh){T.lh();T.lh=null;if(T.hx){T.hx.resolve();}T.hx=null;}setTimeout(function(){T.trigger('PageDisplayed',{pageNumber:dn.pageIndex+1});XQ();},0);setTimeout(function(){T.requestPageText(dn.pageIndex+1).then(function Cx(){T.abd(dn.pageIndex+1,T.If);});},10);});T.aw.add_pageOpenFailed(function(){adF(arguments);});T.akv=true;}for(var C=T.MR;C<ajE;C++){T.dc.addPage(new IPCC.Web.UI.ImGearPage({pageNumber:C}));T.MR++;}}else{qL();}};var aBG=function(dn){var bO=document.getElementById(dn.pageNodeID),aS=document.createElement('div'),AT=document.createElement('button'),aha='pccPageLoadFailRetry'+dn.pageIndex,akI=function(){T.aw.KM(dn.pageIndex);},apB=PCCViewer.Language.data.pageLoadFailed,aqh=PCCViewer.Language.getValue("pageLoadFailedPassword"),arf=PCCViewer.Language.data.pageLoadFailedRetry,aBs=dn.exception.statusCode===480&&dn.exception.customErrorCode===4001;if(bO===null){return;}AT.id=aha;AT.innerHTML=arf;aS.className='pccPageLoadFail';if(aBs){aS.innerHTML=aqh+'<br>';bO.appendChild(aS);}else{aS.innerHTML=apB+'<br>';aS.appendChild(AT);bO.appendChild(aS);AT=document.getElementById(aha);if(!AT.addEventListener){AT.attachEvent('onclick',akI);}else{AT.addEventListener('click',akI,false);}}};function adF(Dy){if(Dy.length<2){throw("controls PageOpenFailed event did not provide any expected information");}var aiP,ahU,dn=Dy[1];if(Dy[1].exception.customErrorCode!==undefined){ahU=Dy[1].exception.customErrorCode;}if(Dy[1].exception.message!==undefined){aiP=Dy[1].exception.message;}setTimeout(function(){T.trigger('PageLoadFailed',{statusCode:dn.exception.statusCode,pageNumber:dn.pageIndex+1,errorMessage:aiP,accusoftErrorNumber:ahU});aBG(dn);},0);};function awt(){if(T.aw&&typeof T.aw.dispose==="function"){T.aw.dispose();}T.aQ="";T.aw=undefined;while(T.dO.firstChild){T.dO.removeChild(T.dO.firstChild);}};function aID(alB){var aC=new PCCViewer.Deferred();if(typeof alB==="string"){PCCViewer.Ajax.fq({url:T.aF.imageHandlerUrl+'/ViewingSession/u'+T.aF.documentID+'/Replacement',body:JSON.stringify({password:alB}),method:'POST',headers:{'Content-Type':'application/json;charset=utf-8'}}).then(function aGK(aM){var result=JSON.parse(aM.responseText);var amG=result.viewingSessionId;T.aF.documentID=amG;awt();T.aec(T.dO,T.aF);aC.resolve(amG);},function aHS(err){aC.reject(new PCCViewer.Error("AjaxError","The call to replace the viewing session failed."));});}else{aC.reject(new PCCViewer.Error("InvalidArgument","The value of the 'password' parameter must be a string."));}return aC.getPromise();};function UW(){T.aw.remove_pageOpenFailed(UW);adF(arguments);};var aBP=function(bM,K){T.uR=true;var XP={width:K.width,height:K.height,pageNumber:K.pageNumber};T.trigger("PageOpening",XP);};function aeK(){T.Xt.resolve(T.aw);T.aw.remove_pageOpened(aeK);T.eh=true;var aA=T;setTimeout(function(){T.trigger("ViewerReady",{});if(aA.oU===true&&aA.AA===false){aA.AA=true;setTimeout(function(){T.trigger("PageCountReady",{pageCount:aA.getPageCount()});},10);}},10);T.setCurrentMouseTool("AccusoftPanAndEdit");};var aob=function(bM,K){if(K.containsText===true){T.QC.resolve(true);}var yq= -1;if(Array.prototype.indexOf){yq=(T.wc.indexOf(K.pageIndex)>=0);}else{yq=(IPCC.Web.jk(T.wc,K.pageIndex)>=0);}if(yq===false){T.wc.push(K.pageIndex);if(T.wc.length===T.dY){T.QC.resolve(false);}}setTimeout(function(){T.trigger("PageTextReady",{pageNumber:K.pageIndex+1});},0);};var aov=function(bM,K){var yq= -1;if(Array.prototype.indexOf){yq=(T.wc.indexOf(K.pageIndex)>=0);}else{yq=(IPCC.Web.jk(T.wc,K.pageIndex)>=0);}if(yq===false){T.wc.push(K.pageIndex);if(T.wc.length===T.dY){T.QC.resolve(false);}}};function axs(sender,eventArgs){if(!eventArgs.text||(eventArgs.text.length===0)){return;}var ji=[];for(var i=0;i<eventArgs.pageNumbers.length;i++){ji.push(eventArgs.pageNumbers[i]+1);}var gy=[],uV= -eventArgs.startIndex,ak,cv,jA,aI,j,k;for(j=0;j<ji.length;j++){jA=T.dc.jD(ji[j]-1).dp().hn();uV+=jA.fC();ak=0;if(j===0){ak=eventArgs.startIndex;}if(uV>=eventArgs.text.length){cv=uV-eventArgs.text.length-1;}else{cv=jA.fC()-1;}aI=IPCC.V.ST(jA,ak,cv);for(k=0;k<aI.length;k++){gy.push({x:aI[k].x,y:aI[k].y,width:aI[k].width,height:aI[k].height,pageNumber:ji[j]});}}T.aZ={pageNumber:ji[0],length:eventArgs.text.length,text:eventArgs.text,startIndex:eventArgs.startIndex,rectangles:gy};var R,ahE={selectedText:eventArgs.text,pageNumbers:ji,clientX:eventArgs.clientX,clientY:eventArgs.clientY,handleClientX:eventArgs.handleClientX,handleClientY:eventArgs.handleClientY,textSelection:T.aZ};function avp(){var xa=T.hT;T.amZ=true;T.hT=function(sender,args){T.hT=xa;setTimeout(function(){T.trigger(PCCViewer.EventType.MarkCreated,{mark:R,pageNumber:ji[0],clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};};if(eventArgs.previousFirstMark){R=T.cw[eventArgs.previousFirstMark.get_markID()];T.aw.remove_markRemoved(T.CK);T.aw.remove_markSelectionChanged(T.BK);if(eventArgs.pageNumbers[0]!==eventArgs.previousFirstMark.aU){var azU=R.L.YL;var VG;if(R.getReason){VG=R.L.get_text();}var Vm;if(R.getFillColor){Vm=R.L.get_fillColor();}var UR;if(R.getColor){UR=R.L.get_lineColor();}var VL;if(R.getThickness){VL=R.L.get_lineWidth();}var VU;if(R.getHref){VU=R.L.get_href();}var aAC=new PCCViewer.Conversation(R);var aG=T.aw.hA(T.dc.getPage(R.L.aU));aG.removeMark(R.L);for(var C=R.dN.length-1;C>=0;C--){var kq=R.dN[C];aG=T.aw.hA(T.dc.getPage(kq.aU));aG.removeMark(kq);R.dN.splice(C,1);}R.L=new IPCC.Web.UI.Mark(eventArgs.previousFirstMark.get_type());R.L.aU=eventArgs.pageNumbers[0];R.ah=eventArgs.pageNumbers[0]+1;R.L.kZ=true;R.L.YL=azU;var xa=T.hT;T.hT=null;T.aw.remove_markChanged(T.nn);aG=T.aw.hA(T.dc.getPage(R.L.aU));aG.addMark(R.L);if(VG){R.L.set_text(VG);}if(Vm){R.L.set_fillColor(Vm);}if(UR){R.L.set_lineColor(UR);}if(VL){R.L.set_lineWidth(VL);}if(VU){R.L.set_href(VU);}R.dC=new PCCViewer.Conversation(R);PCCViewer.Conversation.pR(aAC,R.dC);T.aw.add_markChanged(T.nn);T.hT=xa;}R.L.set_selected(true);R.L.set_visible(true);R.setPosition({startIndex:eventArgs.startIndex,length:eventArgs.text.length});T.aw.add_markRemoved(T.CK);T.aw.add_markSelectionChanged(T.BK);T.os(R,eventArgs.pageNumbers[0]);return;}var An=null;switch(eventArgs.mouseTool){case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:An='HighlightAnnotation';break;case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:An='TextSelectionRedaction';break;case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:An='TextHyperlinkAnnotation';break;case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:An='StrikethroughAnnotation';break;case IPCC.Web.UI.MouseTool.SelectText:ayo(eventArgs.text);T.HQ[ji[0]]='selectText';break;}var az=PCCViewer.MouseTools.getMouseTool(T.getCurrentMouseTool());var by=(az&&az.getTemplateMark)?az.getTemplateMark():undefined;var anG=by?by.getType():"";if(An){avp();T.trigger(PCCViewer.EventType.TextSelected,ahE);R=T.addMark(ji[0],An);if(T.sT){T.un.addMarks(R);}R.L.kZ=true;R.setPosition({startIndex:eventArgs.startIndex,length:eventArgs.text.length});if(anG===An){if(by.getFillColor){R.setFillColor(by.getFillColor());}if(by.getReason){R.setReason(by.getReason());}if(by.getHref){R.setHref(by.getHref());}if(by.getColor){R.setColor(by.getColor());}if(by.getThickness){R.setThickness(by.getThickness());}PCCViewer.Data.oq(by,R);}return;}setTimeout(function(){T.trigger(PCCViewer.EventType.TextSelected,ahE);},0);};function awW(){var bO=T.dO,aS=document.createElement('div');aS.className='pccCopyText';bO.appendChild(aS);T.IC=aS;};function ayo(aO){var lX,aHl=aO.split('\n'),IJ=document.createDocumentFragment(),EF,jE;lX=document.createTextNode(aO);IJ.appendChild(lX);IPCC.V.Sj(T.IC);T.IC.appendChild(IJ);if(document.body.createTextRange){EF=document.body.createTextRange();EF.moveToElementText(T.IC);EF.select();}else if(window.getSelection){jE=window.getSelection();EF=document.createRange();EF.selectNodeContents(T.IC);jE.removeAllRanges();jE.addRange(EF);}};this.ac=new IPCC.Web.UI.ImGearDocument({documentIdentifier:this.aF.documentID,imageServicePath:this.aF.imageHandlerUrl});this.ac.set_encryption(this.aF.encryption||false);var Tp=new IPCC.Web.UI.ImGearPage({pageNumber:0});this.ac.get_pages().addPage(Tp);this.dc=this.ac.get_pages();this.aw=IPCC.initializePageListPlugin(element,options);avN();this.aw.get_documents().addDocument(this.ac);this.MR=1;this.aw.add_pageDisplayed(aih);this.aw.add_pageOpenFailed(UW);this.aw.add_pageOpening(aBP);this.aw.add_pageOpened(aeK);this.aw.add_textPageReady(aob);this.aw.add_textExtractionFailed(aov);this.aw.set_conversationDOMFactory(function(L,eR,akV){var R=T.cw[L.get_markID()];if(R){return T.lC(R.getConversation(),eR,akV);}});IPCC.V.apk(element,function(HW){if(!HW&&IPCC.V.yA!=='svg'){console.warn('PrizmDoc cannot use inline font. Enable remote fonts in your browser for faster document rendering.');if(!T.eh){IPCC.V.yA='svg';return;}else if(T.oU){IPCC.V.yA='svg';T.aw.disposeDisplayedPages();T.aw.displayAll();}else{var mO=function(){T.off(PCCViewer.EventType.PageCountReady,mO);IPCC.V.yA='svg';T.aw.disposeDisplayedPages();T.aw.displayAll();};T.on(PCCViewer.EventType.PageCountReady,mO);}}});awW();this.aw.add_selectTextMouseToolCompleted(axs);this.aw.add_propertyChanged(function(ss,cE){var proprtyName=cE.atO();if(proprtyName==="mouseTool"){setTimeout(function(){T.trigger(PCCViewer.EventType.MouseToolChanged,{mouseToolName:T.az.getName()});},0);}});this.aw.add_markAdded(function(sender,eventArgs){if((eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)&&T.cw[eventArgs.mark.get_markID()]===undefined&&eventArgs.mark.bn!==undefined){T.os(eventArgs.mark,eventArgs.pageIndex);}if(T.hT){var aD=eventArgs.mark.get_type();if(aD!==IPCC.Web.UI.MarkType.Highlight&& !(aD===IPCC.Web.UI.MarkType.RectangleRedaction&&eventArgs.mark.bn!==undefined)){T.hT(sender,eventArgs);}}});this.aw.add_markCreating(function(sender,eventArgs){if(T.FP){T.FP(sender,eventArgs);}});this.aw.OB(function(sender,eventArgs){var EB=0;var AI=0;var aes=0;var uK=0;var tO=0;var Nh=0;var apy=T.az.getName().toLowerCase(),aqZ=T.az.getType();if(aqZ===PCCViewer.MouseTool.Type.PlaceSignature){var az=T.az;var by=az.getTemplateMark(),jV=by.getSignature(),akW=by.getRectangle(),R,H={};if(!jV){return;}T.requestPageAttributes(eventArgs.pageIndex+1).then(function(attributes){var vC;if(attributes.width>0){AI=akW.width||(attributes.width/5);}if(jV.path&&jV.path.length>0){vC=IPCC.V.abe(jV.path);H={x:0,y:0,width:vC.width,height:vC.height};R=T.addMark(eventArgs.pageIndex+1,PCCViewer.Mark.Type.FreehandSignature);R.setPath(jV.path);R.setThickness(jV.thickness||4);}if(jV.text&&jV.text.length){vC=IPCC.V.tw(jV.text,jV.fontName);R=T.addMark(eventArgs.pageIndex+1,PCCViewer.Mark.Type.TextSignature);H={x:0,y:0,width:vC.width,height:vC.height};R.setText(jV.text);R.setFontName(jV.fontName);}aes=(H.width/AI);EB=akW.height||(H.height/aes);uK=(eventArgs.imagePoint.x-(AI/2));tO=(eventArgs.imagePoint.y-(EB/2));if(uK<=0){uK=0;}if(tO<=0){tO=0;}if((uK+AI)>=attributes.width){Nh=(uK+AI)-attributes.width;uK=uK-Nh;}if((tO+EB)>=attributes.height){Nh=(tO+EB)-attributes.height;tO=tO-Nh;}H={x:uK,y:tO,width:AI,height:EB};R.setRectangle({x:uK,y:tO,width:AI,height:EB});PCCViewer.Data.oq(by,R);PCCViewer.Conversation.pR(by.getConversation(),R.getConversation());});T.setCurrentMouseTool(apy);}});function MouseEvent(aa){var T=this;for(var i in aa){if(i){T[i]=aa[i];}}};this.aw.Pw(function(sender,eventArgs){var aZ=null,fJ=null,R=null,gp=null,yr=false,Qn=eventArgs.upTarget.type,MX=false;if(eventArgs.domEvent.ctrlKey===true||eventArgs.domEvent.shiftKey===true){MX=true;}if(eventArgs.upTarget.type==='page'&&eventArgs.downTarget.type==='page'&&eventArgs.upTarget.pageIndex===eventArgs.downTarget.pageIndex||eventArgs.upTarget.type==='comments'&&eventArgs.downTarget.element===eventArgs.upTarget.element){yr=true;if(eventArgs.upTarget.type==='page'&&eventArgs.downTarget.type==='page'&&MX===false){T.deselectAllMarks();}}else if(eventArgs.upMark&&typeof eventArgs.downMark!=='undefined'){if((eventArgs.upMark.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink)&&(eventArgs.upMark===eventArgs.downMark)){gp=T.auT(eventArgs.upMark);yr=gp!==null;Qn="documentHyperlink";}else{R=T.cw[eventArgs.upMark.get_markID()];if(R===undefined){for(var jw in T.cw){if(T.cw.hasOwnProperty(jw)){if(T.cw[jw].L.bn===eventArgs.upMark.bn&&T.cw[jw].L.bn===eventArgs.downMark.bn){R=T.cw[jw];eventArgs.pageIndex=R.ah-1;yr=true;var azq=T.getCurrentMouseTool();var azZ=PCCViewer.MouseTools.getMouseTool(azq);var akz=azZ.getType();if(MX===false&&eventArgs.domEvent.button===0){if(akz===PCCViewer.MouseTool.Type.PanAndEdit||akz===PCCViewer.MouseTool.Type.EditMarks){T.deselectAllMarks();R.L.set_selected(true);}}break;}}}}else if(typeof eventArgs.downMark!=='undefined'&&typeof eventArgs.upMark!=='undefined'&&eventArgs.downMark.mF()===eventArgs.upMark.mF()){yr=true;if(MX===false&&eventArgs.downTarget.alreadySelected===false){T.deselectAllMarks();R.L.set_selected(true);}}if(R===undefined){if(T.aX&&T.HQ[eventArgs.upTarget.pageIndex+1]==='search'){var eS=T.aX.getResults();for(var C=0;C<eS.length;C++){if(eS[C].ah===eventArgs.upTarget.pageIndex+1&&typeof eventArgs.downMark.ak!=='undefined'&&typeof eventArgs.upMark.ak!=='undefined'&&typeof eventArgs.downMark.ck!=='undefined'&&typeof eventArgs.upMark.ck!=='undefined'&&eventArgs.downMark.ak>=eS[C].getStartIndexInPage()&&eventArgs.downMark.ak+eventArgs.downMark.ck<=eS[C].getStartIndexInPage()+eS[C].getText().length&&eventArgs.upMark.ak>=eS[C].getStartIndexInPage()&&eventArgs.upMark.ak+eventArgs.upMark.ck<=eS[C].getStartIndexInPage()+eS[C].getText().length){Qn='searchResult';fJ=eS[C];eventArgs.upTarget.pageIndex=fJ.ah-1;yr=true;break;}}}}if(yr===false&&R===undefined&&T.HQ[eventArgs.upTarget.pageIndex+1]==='selectText'&&typeof eventArgs.downMark.ak!=='undefined'&&typeof eventArgs.upMark.ak!=='undefined'&&eventArgs.downMark.ak>=T.aZ.startIndex&&eventArgs.downMark.ak+eventArgs.downMark.ck<=T.aZ.startIndex+T.aZ.length&&eventArgs.upMark.ak>=T.aZ.startIndex&&eventArgs.upMark.ak+eventArgs.upMark.ck<=T.aZ.startIndex+T.aZ.length){Qn='textSelection';aZ=T.aZ;yr=true;}}}var Ta=new MouseEvent(eventArgs.originalEvent);setTimeout(function(){var aCQ=(isNaN(eventArgs.upTarget.pageIndex))?null:eventArgs.upTarget.pageIndex+1;var K={pageNumber:aCQ,targetType:Qn,textSelection:aZ,searchResult:fJ,mark:R,originalEvent:Ta,hyperlink:gp,clientX:eventArgs.clientX,clientY:eventArgs.clientY};if(yr===true){T.trigger('Click',K);}},0);});(function(){var zH=null;T.aw.PL(function(sender,eventArgs){var Ta=new MouseEvent(eventArgs.domEvent);var K={originalEvent:Ta,clientX:eventArgs.windowPoint.x,clientY:eventArgs.windowPoint.y};if(!(eventArgs.mark instanceof IPCC.Web.UI.Mark)){if(zH!==null){K.mark=T.cw[zH];zH=null;setTimeout(function(){T.trigger('MarkMouseLeave',K);},0);}}else{K.mark=T.cw[eventArgs.mark.get_markID()];if(K.mark===undefined){for(var jw in T.cw){if(T.cw.hasOwnProperty(jw)){if(T.cw[jw].L.bn===eventArgs.mark.bn){K.mark=T.cw[jw];break;}}}}if(!K.mark){return;}setTimeout(function(){if(zH!==K.mark.getId()){if(zH!==null){T.trigger('MarkMouseLeave',IPCC.V.extend({},K,{mark:T.cw[zH]}));}zH=K.mark.getId();T.trigger('MarkMouseEnter',K);}T.trigger('MarkMouseOver',K);},0);}});})();this.aw.add_hyperlinkPageReady(function(sender,eventArgs){if(T.Ef[eventArgs.pageIndex]!==undefined){return;}var aU=eventArgs.pageIndex,aK=T.dc.getPage(aU),Fe=aK.get_hyperlinkPage().Kl(),wL=T.Ef[aU]=[];Fe.na(function(AW){wL.push(new PCCViewer.DocumentHyperlink({ah:aU+1,AW:AW}));});if(!T.Dq[aU]){T.Dq[aU]=new PCCViewer.Deferred();}T.Dq[aU].resolve(wL);});this.os=function(R,iL){var Xk=false;function Us(){var kc=false;var cX=T.aw.get_displayedPages();for(var C=0;C<cX.get_length();C++){var aK=cX.getPage(C);if(aK.get_pageNumber()===iL){kc=true;break;}}return kc;};function Qm(hm){if(T.aw){T.aw.cn(hm);}};if(Us()){if(Array.prototype.indexOf){if(IPCC.Web.jk(T.Et,iL)>=0){Xk=true;}}else{if(IPCC.Web.jk(T.Et,iL)>=0){Xk=true;}}if(!Xk){T.Et.push(iL);setTimeout(function(){var cI=T.Et.length;if(cI>0){for(var C=0;C<cI;C++){Qm(T.Et[C]);}T.Et.splice(0,cI);}},10);}}};var Fi={FreehandSignature:{lineColor:'color',lineWidth:'thickness',pathWidth:false,pathHeight:false},FreehandAnnotation:{lineColor:'color',lineWidth:'thickness',pathWidth:false,pathHeight:false},LineAnnotation:{lineColor:'color',lineWidth:'thickness'},PolylineAnnotation:{lineColor:'color',lineWidth:'thickness'},TextSignature:{textColor:false,fillColor:'color'},TextInputSignature:{lineVisible:false},StampAnnotation:{text:'label',fillColor:'color'},StampRedaction:{text:'label'},StrikethroughAnnotation:{lineColor:'color',lineWidth:'thickness',rectangle:'position'},RectangleRedaction:{text:'reason'},TextRedaction:{opacity:false},HighlightAnnotation:{rectangle:'position'},TextSelectionRedaction:{rectangle:'position',text:'reason'},TextHyperlinkAnnotation:{rectangle:'position'}};var Lk={lineColor:"borderColor",lineWidth:"borderThickness",pathString:"path",textColor:"fontColor",textHorizontalAlignment:"horizontalAlignment"};this.nn=function(bM,K){var R=T.cw[K.mark.get_markID()];var bG;if(R){bG=R.bG;}if(bG&&Fi[bG]&&Fi[bG][K.propertyName]===false){return;}var cr;if(bG){cr=Fi[bG]&&Fi[bG][K.propertyName]?Fi[bG][K.propertyName]:Lk[K.propertyName]?Lk[K.propertyName]:K.propertyName;}else{cr=Lk[K.propertyName]?Lk[K.propertyName]:K.propertyName;}if(K.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||K.mark.get_type()===IPCC.Web.UI.MarkType.Highlight||K.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||K.mark.get_type()===IPCC.Web.UI.MarkType.TextHighlightAnnotation||K.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||K.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||(K.mark.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&K.mark.bn!==undefined)){if(R){setTimeout(function(){T.trigger('MarkChanged',{mark:R,pageNumber:K.pageIndex+1,propertyName:cr});},0);}else{for(var jw in T.cw){if(T.cw.hasOwnProperty(jw)){R=T.cw[jw];if(R.bn===K.mark.bn){break;}}}}T.os(R,K.pageIndex);}else if(R&&K.mark.get_type()===IPCC.Web.UI.MarkType.Polyline&&cr==='points'){if(R.Yx){clearTimeout(R.Yx);}R.Yx=setTimeout(function(){R.Yx=undefined;T.os(R,K.pageIndex);T.trigger('MarkChanged',{mark:R,pageNumber:K.pageIndex+1,propertyName:cr});},1);}else if(R){T.os(R,K.pageIndex);setTimeout(function(){T.trigger('MarkChanged',{mark:R,pageNumber:K.pageIndex+1,propertyName:cr});},0);}if(R&&R.type===PCCViewer.Mark.Type.TextRedaction){R.L.set_opacity(0);}if(R&&(R.bG===PCCViewer.Mark.Type.TextInputSignature||R.bG===PCCViewer.Mark.Type.TextAreaSignature)){R.L.set_lineVisible(false);}};this.aw.add_markChanged(T.nn);this.aw.add_markReordered(function(sender,eventArgs){var R=T.cw[eventArgs.mark.get_markID()];setTimeout(function(){T.trigger('MarkReordered',{mark:R,pageNumber:eventArgs.pageIndex+1,index:eventArgs.zIndex,oldIndex:eventArgs.oldZIndex});},0);});this.BK=function(sender,eventArgs){if(eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText){var R;for(var LA in T.cw){if(T.cw.hasOwnProperty(LA)){R=T.cw[LA];if(R.L.bn===eventArgs.mark.bn){R.L.set_selected(eventArgs.mark.get_selected());T.os(R.L,R.L.aU);for(var C=0;C<R.dN.length;C++){R.dN[C].set_selected(eventArgs.mark.get_selected());T.os(R.dN[C],R.dN[C].aU);}}}}}setTimeout(function(){T.trigger('MarkSelectionChanged',{pageNumber:eventArgs.pageIndex+1});},0);};this.aw.add_markSelectionChanged(T.BK);this.aw.add_markTextSelectionChanged(function(sender,eventArgs){T.os(eventArgs.mark,eventArgs.pageIndex);});this.CK=function(sender,eventArgs){var R;if(eventArgs.mark){R=T.cw[eventArgs.mark.get_markID()];if((eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)&&R===undefined&&eventArgs.mark.bn!==undefined){T.os(eventArgs.mark,eventArgs.pageIndex);}else if(R){setTimeout(function(){T.trigger(PCCViewer.EventType.MarkRemoved,{mark:R,pageNumber:eventArgs.pageIndex});},0);}}};this.aw.add_markRemoved(T.CK);this.aw.add_commentAdding(function(sender,eventArgs){var R=T.cw[eventArgs.mark.get_markID()];if(eventArgs.comment.KB.jc===undefined){eventArgs.comment.KB.jc=T.getActiveMarkupLayer();}});this.aw.add_commentAdded(function(sender,eventArgs){var R=T.cw[eventArgs.mark.get_markID()];T.trigger(PCCViewer.EventType.CommentCreated,{conversation:R.getConversation(),comment:eventArgs.comment.KB});});this.aw.add_commentRemoved(function(sender,eventArgs){var R=T.cw[eventArgs.mark.get_markID()];T.trigger(PCCViewer.EventType.CommentRemoved,{conversation:R.getConversation(),comment:eventArgs.comment.KB});});this.aw.add_commentChanged(function(sender,eventArgs){var R=T.cw[eventArgs.mark.get_markID()];T.trigger(PCCViewer.EventType.CommentChanged,{conversation:R.getConversation(),comment:eventArgs.comment.KB});});this.aw.add_scaleChanged(function(sender,eventArgs){var eO;switch(eventArgs.fitType){case 0:eO=PCCViewer.FitType.FullWidth;break;case 1:eO=PCCViewer.FitType.ShrinkToWidth;break;case 2:eO=PCCViewer.FitType.ActualSize;break;case 3:eO=PCCViewer.FitType.FullHeight;break;case 4:eO=PCCViewer.FitType.FullPage;break;default:break;}T.trigger(PCCViewer.EventType.ScaleChanged,{scaleType:eventArgs.scaleType,trigger:eventArgs.scaleTrigger,fitType:eO,scaleFactor:eventArgs.scaleFactor});});};ViewerControl.prototype.getPageCount=function(){return this.dY;};ViewerControl.prototype.getPageNumber=function(){return(this.aw)?(this.aw.alA().get_pageNumber()+1):1;};ViewerControl.prototype.setPageNumber=function(pageNumber){var ah;if(typeof(pageNumber)==='number'){ah=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{ah=Number(pageNumber);}}if(parseInt(ah,10)!==ah){throw new Error("The 'pageNumber' value "+ah+" is not an integer page number.");}if(ah<1||ah>this.getPageCount()|| !isFinite(ah)){throw "The parameter pageNumber is out of range.";}if(this.getPageNumber()===ah){return this;}if(this.aw){this.aw.scrollToPage(ah-1);}return this;};ViewerControl.prototype.changeToFirstPage=function(){if(this.aw){if(this.Dw||this.oU){this.aw.scrollToFirstPage();}}return this;};ViewerControl.prototype.changeToLastPage=function(){if(this.aw){if(this.Dw||this.oU){this.aw.scrollToLastPage();}}return this;};ViewerControl.prototype.changeToNextPage=function(){if(this.aw){if(this.Dw||this.oU){this.aw.scrollToNextPage();}}return this;};ViewerControl.prototype.changeToPrevPage=function(){if(this.aw){if(this.Dw||this.oU){this.aw.scrollToPreviousPage();}}return this;};ViewerControl.prototype.scrollBy=function(offsetX,offsetY){if(!this.eh){throw new Error("The method scrollTo requires the viewer to be in a 'ViewerReady' state.");}var T=this;if(typeof offsetX==='number'&&typeof offsetY==='number'){T.aw.scrollBy(offsetX,offsetY);}else{if(isNaN(+offsetX)||isNaN(+offsetY)){throw new PCCViewer.Error('InvalidArgument','Please provide integer values for offsetX and offsetY properties.');}else{T.aw.scrollBy(Number(+offsetX),Number(+offsetY));}}return this;};ViewerControl.prototype.scrollTo=function(target){if(!this.eh){throw new Error("The method scrollTo requires the viewer to be in a 'ViewerReady' state.");}if(this.hx){this.hx.reject(new PCCViewer.Error("Error","The scrollTo method was called before this scrollToAsync method completed scrolling, so scrolling for this scrollToAsync method has been cancelled."));this.hx=null;this.lh=null;}var T=this;var Hx=function(){T.aw.scrollConversationIntoView(target.getMark().L.get_conversation());if(T.hx){T.hx.resolve();}T.hx=null;T.lh=null;};var vh=function(ev){if(ev.target.vN===target){T.off(PCCViewer.EventType.CommentCreated,vh);T.vN=null;T.scrollTo(target);}else if(ev.target.vN===null){T.off(PCCViewer.EventType.CommentCreated,vh);}if(T.hx){T.hx.resolve();}T.hx=null;T.lh=null;};var GN=function(ah,hq){T.aw.scrollRegionIntoView(ah-1,hq);if(T.hx){T.hx.resolve();}T.hx=null;T.lh=null;};acd(T,target,vh,Hx,GN);return this;};ViewerControl.prototype.scrollToAsync=function(target){if(this.hx){this.hx.reject(new PCCViewer.Error("Error","The scrollToAsync method was called before this scrollToAsync method completed scrolling, so scrolling for this scrollToAsync method has been cancelled."));this.hx=null;this.lh=null;}var aC=PCCViewer.Deferred();var bY=aC.getPromise();var T=this;T.hx=aC;try{var Hx=function(){T.aw.scrollConversationIntoView(target.getMark().L.get_conversation());if(T.hx){T.hx.resolve();}T.hx=null;T.lh=null;};var vh=function(ev){if(ev.target.vN===target){T.off(PCCViewer.EventType.CommentCreated,vh);T.vN=null;T.scrollTo(target);}else if(ev.target.vN===null){T.off(PCCViewer.EventType.CommentCreated,vh);}if(T.hx){T.hx.resolve();}T.hx=null;T.lh=null;};var GN=function(ah,hq){T.aw.scrollRegionIntoView(ah-1,hq);if(T.hx){T.hx.resolve();}T.hx=null;T.lh=null;};if(acd(T,target,vh,Hx,GN)===true){aC.resolve();}}catch(e){T.hx=null;T.lh=null;aC.reject(new PCCViewer.Error("Error",e));}return bY;};function acd(bQ,ds,vh,Hx,GN){var hq,ah,bF;bQ.vN=null;if(ds instanceof PCCViewer.Conversation){if(bQ.cw[ds.getMark().getId()]===undefined){throw new Error("The parameter target is a conversation of a mark unknown to the viewer control.");}var aau=bQ.aw.scrollConversationIntoView(ds.getMark().L.get_conversation());if(aau==="PageOutOfView"){bQ.lh=Hx;bQ.setPageNumber(ds.getMark().getPageNumber());return false;}else if(aau==="ConversationDivDoesNotExist"&&ds.getMark().L.get_conversation().get_length()>0){bQ.vN=ds;bQ.on(PCCViewer.EventType.CommentCreated,vh);return false;}else{bQ.lh=null;return true;}}else if(ds instanceof PCCViewer.SearchResult){if(ds.Ic!==bQ.ac.get_documentIdentifier()){throw new Error("The parameter target is a SearchResult that was not created using the current document viewing session.");}bF=ds.getBoundingRectangle();hq=new IPCC.Web.UI.Rectangle(bF.x,bF.y,bF.width,bF.height);ah=ds.getPageNumber();}else if(ds instanceof PCCViewer.Mark){if(bQ.cw[ds.getId()]===undefined){throw new Error("The parameter target is a mark unknown to the viewer control.");}bF=ds.getBoundingRectangle();hq=new IPCC.Web.UI.Rectangle(bF.x,bF.y,bF.width,bF.height);ah=ds.getPageNumber();}else if(ds!==undefined&&ds!==null){if(typeof ds.x==='number'&&typeof ds.y==='number'){hq=new IPCC.Web.UI.Rectangle(+ds.x,+ds.y,0,0);}else{if(isNaN(+ds.x)||isNaN(+ds.y)){throw new Error('The parameter target does not contain a valid x and y values.');}else{hq=new IPCC.Web.UI.Rectangle(Number(+ds.x),Number(+ds.y),0,0);}}if(ds.width){if(typeof ds.width==='number'){hq.width=ds.width;}else{if(isNaN(+ds.width)){throw new Error('The parameter target does not contain a valid width value.');}else{hq.width=Number(+ds.width);}}}if(ds.height){if(typeof ds.height==='number'){hq.height=ds.height;}else{if(isNaN(+ds.height)){throw new Error('The parameter target does not contain a valid height value.');}else{hq.height=Number(+ds.height);}}}if(typeof ds.pageNumber==='number'){ah= +ds.pageNumber;}else{if(isNaN(+ds.pageNumber)){throw new Error('The parameter target does not contain a valid pageNumber value.');}else{ah=Number(+ds.pageNumber);}}}else{throw new Error('The target parameter must be a Mark, SearchResult, or Point.');}if(ah<1||ah>bQ.getPageCount()|| !isFinite(ah)){throw new RangeError("The parameter pageNumber is out of range.");}if(bQ.aw.scrollRegionIntoView(ah-1,hq)===false){bQ.lh=function(){GN(ah,hq);};bQ.setPageNumber(ah);return false;}else{bQ.lh=null;return true;}};ViewerControl.prototype.rotatePage=function(degreesClockwise){if(!this.eh){throw "The method rotatePage requires the viewer to be in a 'ViewerReady' state.";}if(xK(this.getPageNumber()-1,this)===false){this.aw.cn(this.getPageNumber()-1);}var hO=degreesClockwise%360,T=this;if(hO!==0){var vp=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!hO||vp.indexOf(hO)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}else{if(!hO||IPCC.Web.jk(vp,hO)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}this.aw.rotate(hO);}setTimeout(function(){T.trigger("PageRotated",{degreesClockwise:hO,pageNumber:(T.getPageNumber())});},0);return this;};ViewerControl.prototype.rotateDocument=function(degreesClockwise){if(!this.eh){throw "The method rotateDocument requires the viewer to be in a 'ViewerReady' state.";}if(xK(this.getPageNumber()-1,this)===false){this.aw.cn(this.getPageNumber()-1);}var hO=degreesClockwise%360,T=this;if(hO!==0){var vp=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!hO||vp.indexOf(hO)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}else{if(!hO||IPCC.Web.jk(vp,hO)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}this.aw.aey(hO);}setTimeout(function(){T.trigger("DocumentRotated",{degreesClockwise:hO});},0);return this;};ViewerControl.prototype.getScaleFactor=function(){if(!this.uR){throw "The getScaleFactor method cannot be called before the initial PageOpening event.";}return this.aw.get_scaleFactor();};ViewerControl.prototype.setScaleFactor=function(scaleFactor){if(!this.uR){throw "The setScaleFactor method cannot be called before the initial PageOpening event.";}if(isNaN(+scaleFactor)||(+scaleFactor<this.getMinScaleFactor())||(+scaleFactor>this.getMaxScaleFactor())){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('scaleFactor',scaleFactor,'The value must be a number between the values returned by the getMinScaleFactor and getMaxScaleFactor methods.');}this.aw.set_scaleFactor(+scaleFactor);return this;};ViewerControl.prototype.getMinScaleFactor=function(){if(!this.uR){throw "The getMinScaleFactor method cannot be called before the initial PageOpening event.";}return this.aw.getMinMaxZoom().minFactor;};ViewerControl.prototype.getMaxScaleFactor=function(){if(!this.uR){throw "The getMaxScaleFactor method cannot be called before the initial PageOpening event.";}return this.aw.getMinMaxZoom().maxFactor;};ViewerControl.prototype.zoomIn=function(zoomFactor){if(!this.uR){throw "The zoomIn method cannot be called before the initial PageOpening event.";}if(isNaN(+zoomFactor)||(+zoomFactor<1.01)||(+zoomFactor>20)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('zoomFactor',zoomFactor,'The value must be a number between 1.01 and 20 inclusive.');}if(this.aw){this.aw.zoomIn(+zoomFactor);}return this;};ViewerControl.prototype.zoomOut=function(zoomFactor){if(!this.uR){throw "The zoomOut method cannot be called before the initial PageOpening event.";}if(isNaN(+zoomFactor)||(+zoomFactor<1.01)||(+zoomFactor>20)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('zoomFactor',zoomFactor,'The value must be a number between 1.01 and 20 inclusive.');}if(this.aw){this.aw.zoomOut(+zoomFactor);}return this;};ViewerControl.prototype.getViewMode=function(){var mH;if(this.aw&&this.aw.get_viewMode){mH=this.aw.get_viewMode();}else{mH=this.aF.viewMode;}if(mH===IPCC.ViewMode.EqualWidthPages){return PCCViewer.ViewMode.EqualWidthPages;}else if(mH===IPCC.ViewMode.EqualFitPages){return PCCViewer.ViewMode.EqualFitPages;}else if(mH===IPCC.ViewMode.SinglePage){return PCCViewer.ViewMode.SinglePage;}else{return PCCViewer.ViewMode.Document;}};ViewerControl.prototype.setViewMode=function(viewMode){var mH;switch(viewMode){case PCCViewer.ViewMode.Document:mH=IPCC.ViewMode.Document;break;case PCCViewer.ViewMode.EqualWidthPages:mH=IPCC.ViewMode.EqualWidthPages;break;case PCCViewer.ViewMode.EqualFitPages:mH=IPCC.ViewMode.EqualFitPages;break;case PCCViewer.ViewMode.SinglePage:mH=IPCC.ViewMode.SinglePage;break;default:throw new RangeError("The value of viewMode is not a supported value.");}if(this.aw&&this.aw.set_viewMode){var JH=this.aw.get_viewMode();if(JH!==mH){if(JH===IPCC.ViewMode.SinglePage){throw new Error("The view mode may not be changed from SinglePage to another view mode after initializing the viewer.");}else if(mH===IPCC.ViewMode.SinglePage){throw new Error("The view mode may not be changed to SinglePage after initializing the viewer. Please use the viewMode viewer parameter instead.");}this.aw.set_viewMode(mH);}}else{this.aF.viewMode=mH;}return this;};ViewerControl.prototype.getPageLayout=function(){var wl;if(this.aw&&this.aw.get_pageLayout){wl=this.aw.get_pageLayout();}else{wl=this.aF.pageLayout;}if(wl===IPCC.PageLayout.HorizontalScrollDirection){return PCCViewer.PageLayout.Horizontal;}else{return PCCViewer.PageLayout.Vertical;}};ViewerControl.prototype.setPageLayout=function(pageLayout){var wl;if(this.aF.viewMode!==IPCC.ViewMode.SinglePage){switch(pageLayout){case PCCViewer.PageLayout.Vertical:wl=IPCC.PageLayout.VerticalScrollDirection;break;case PCCViewer.PageLayout.Horizontal:if(this.aw&&this.aw.closeCommentsPanel){this.aw.closeCommentsPanel();var T=this;setTimeout(function(){T.trigger("CommentsPanelToggled",{isOpen:false});},10);}wl=IPCC.PageLayout.HorizontalScrollDirection;break;default:throw new RangeError("The value of pageLayout is not a supported value.");}}if(this.aw&&this.aw.set_pageLayout){this.aw.set_pageLayout(wl);}else{this.aF.pageLayout=wl;}return this;};ViewerControl.prototype.getAtMaxScale=function(){if(!this.uR){throw "The getAtMaxScale method cannot be called before the initial PageOpening event.";}return this.aw.getMinMaxZoom().atMax;};ViewerControl.prototype.getAtMinScale=function(){if(!this.uR){throw "The getAtMinScale method cannot be called before the initial PageOpening event.";}return this.aw.getMinMaxZoom().atMin;};ViewerControl.prototype.fitContent=function(fitType){if(!this.uR){throw "The fitContent method cannot be called before the initial PageOpening event.";}var DO;switch(fitType){case PCCViewer.FitType.FullWidth:DO=IPCC.FitType.FitToWidth;break;case PCCViewer.FitType.ShrinkToWidth:DO=IPCC.FitType.ShrinkToWidth;break;case PCCViewer.FitType.ActualSize:if(this.getViewMode()===PCCViewer.ViewMode.EqualWidthPages||this.getViewMode()===PCCViewer.ViewMode.EqualFitPages){throw new Error("Fitting content actual size is not supported when in EqualFitPages view mode.");}DO=IPCC.FitType.ActualSize;break;case PCCViewer.FitType.FullHeight:DO=IPCC.FitType.FitToHeight;break;case PCCViewer.FitType.FullPage:DO=IPCC.FitType.BestFit;break;default:throw new RangeError("The value of fitType is not a supported value.");}this.qn.then(function(ss){ss.fitPages(DO);});return this;};ViewerControl.prototype.getPageRotation=function(pageNumber){if(!this.eh){throw new Error("The method getPageRotation requires the viewer to be in a 'ViewerReady' state.");}var ah;if(arguments.length>0){if(typeof(pageNumber)==='number'){ah=pageNumber;}else{if(isNaN(+pageNumber)){throw new Error("The parameter pageNumber is not a number.");}else{ah=Number(pageNumber);}}if(parseInt(ah,10)!==ah){throw new Error("The 'pageNumber' value "+ah+" is not an integer page number.");}if(ah<1||ah>this.getPageCount()|| !isFinite(ah)){throw new Error("The parameter pageNumber is out of range.");}return this.aw.abC(ah-1);}else{return this.aw.abC();}};ViewerControl.prototype.search=function(eD){var aF=this.aF;var aDK=aF.searchMethodType.toLowerCase();var aoL=aF.searchMethodPageCountThreshold;var T=this;var VZ;var jd;var ET=new PCCViewer.SearchRequest(true);if(Object.defineProperties){Object.defineProperties(ET,{"searchQuery":{enumerable:true,get:function(){return jd.getSearchQuery();}},"results":{enumerable:true,get:function(){return jd.getResults();}},"isComplete":{enumerable:true,get:function(){return jd.getIsComplete();}},"errorCode":{enumerable:true,get:function(){return jd.getErrorCode();}},"errorMessage":{enumerable:true,get:function(){return jd.getErrorMessage();}}});}function Jo(ap){return function(){ET.trigger.apply(ET,[ap].concat([].slice.call(arguments)));};};var abr=Jo(PCCViewer.EventType.SearchCompleted);var abT=Jo(PCCViewer.EventType.SearchCancelled);var aag=Jo(PCCViewer.EventType.SearchResultsAvailable);var aak=Jo(PCCViewer.EventType.PartialSearchResultsAvailable);var abh=function(aa){var eA=VZ.getErrorCode();if(eA==='ServerSearchUnavailable'){T.acJ=true;T.xh=false;aFa();jd=T.clientSearch(eD);amw();}else{Jo(PCCViewer.EventType.SearchFailed).apply(null,arguments);}};var amw=function(){jd.on(PCCViewer.EventType.SearchCompleted,abr);jd.on(PCCViewer.EventType.SearchFailed,abh);jd.on(PCCViewer.EventType.SearchCancelled,abT);jd.on(PCCViewer.EventType.SearchResultsAvailable,aag);jd.on(PCCViewer.EventType.PartialSearchResultsAvailable,aak);};var aFa=function(){jd.off(PCCViewer.EventType.SearchCompleted,abr);jd.off(PCCViewer.EventType.SearchFailed,abh);jd.off(PCCViewer.EventType.SearchCancelled,abT);jd.off(PCCViewer.EventType.SearchResultsAvailable,aag);jd.off(PCCViewer.EventType.PartialSearchResultsAvailable,aak);};var CZ=function(){if(T.acJ===false){VZ=T.serverSearch(eD);jd=VZ;amw();IPCC.V.forEach(['getSearchQuery','getResults','getIsComplete','getErrorCode','getErrorMessage','cancel','getPagesWithoutText'],function(ap){ET[ap]=function(){return jd[ap].apply(jd,arguments);};});return ET;}else{return T.clientSearch(eD);}};switch(aDK){case('auto'):if(aoL>=this.dY){return this.clientSearch(eD);}else{return CZ();}break;case('client'):return this.clientSearch(eD);case('server'):return CZ();default:throw new Error("The value of 'options.searchMethodType' should be 'auto', 'server', or 'client'.");}};ViewerControl.prototype.ahO=function(eD,aFU){var T=this;var bX=new PCCViewer._Search();this.aX=bX.aDx();PCCViewer.SearchTask.prototype.acA(eD);if(aFU===true){if(T.AA!==true){T.qn.then(function(ss){var HT=function(){T.off('PageCountReady',HT);T.clientSearch(eD);};T.on('PageCountReady',HT);return T.aX;});}if(!this.ac.aDm()){this.ac.Ox(0,this.ac.dY-1,this.ac.dY);}}this.yk=null;this.EY={};this.aw.clearAllSelectedText();return bX;};ViewerControl.prototype.agj=function(){var aA=this;this.aX.on('PartialSearchResultsAvailable',function(cE){if(aA.yX){return;}var HA=[];var Nz={};HA=cE.partialSearchResults;var ad=HA[0];if(aA.EY[ad.getPageNumber()]!==undefined){Nz=aA.EY[ad.getPageNumber()];}else{Nz.ak=ad.getId();}ad=HA[HA.length-1];Nz.cv=ad.getId();aA.EY[ad.getPageNumber()]=Nz;function Cx(aK){if(aA.yX){return;}aA.ahI(aK.get_pageNumber(),HA);};var cX=aA.aw.get_displayedPages();for(var C=0;C<cX.get_length();C++){var aK=cX.getPage(C);if(aK.get_pageNumber()+1===ad.getPageNumber()){aA.requestPageText(aK.get_pageNumber()+1).then(Cx.bind(null,aK));}}});this.aX.on('SearchCompleted',function(cE){aA.xh=false;});this.aX.on('SearchCancelled',function(cE){aA.xh=false;});this.trigger('SearchPerformed',{searchRequest:this.aX});};ViewerControl.prototype.clientSearch=function(searchQuery){var aA=this;var bX=aA.ahO(searchQuery,true);searchQuery=bX.TZ(searchQuery);if(this.xh===false){aA.aw.set_retainPageText(true);this.aX=bX.wm(searchQuery,this.ac);this.xh=true;}else{throw new Error("You cannot run multiple searches concurrently. Retry after the current search is completed.");}aA.agj();return this.aX;};ViewerControl.prototype.serverSearch=function(searchQuery){var aA=this;var bX=aA.ahO(searchQuery,false);searchQuery=bX.TZ(searchQuery);if(this.xh===false){this.aX=bX.CZ(searchQuery,this.ac);this.xh=true;}else{throw new Error("You cannot run multiple searches concurrently. Retry after the current search is completed.");}aA.agj();return this.aX;};ViewerControl.prototype.getSearchRequest=function(){return this.aX;};ViewerControl.prototype.clearSearch=function(){if(!this.eh){throw "The clearSearch method requires the viewer to be in a 'ViewerReady' state.";}var T=this;if(this.getSelectedSearchResult()){this.yk=null;setTimeout(function(){T.trigger(PCCViewer.EventType.SearchResultSelectionChanged,{});},0);}this.aw.clearAllSelectedText();this.aX=null;setTimeout(function(){T.trigger(PCCViewer.EventType.SearchCleared,{});},0);return this;};ViewerControl.prototype.validateSearch=function(eD){var fo={errorsExist:false};var searchTermObj,anl,C,aR,ZO,KF,QU;if(typeof eD!=='object'&&typeof eD!=='string'){fo.errorsExist=true;fo.summaryMsg="Search query must be either an object or string.";return fo;}if(typeof eD==='string'&&eD.length<0){fo.errorsExist=true;fo.summaryMsg="Search term must contain at least 3 characters.";return fo;}else if(typeof eD==='string'){return fo;}if(!eD.hasOwnProperty('searchTerms')){fo.errorsExist=true;fo.summaryMsg="Search options must have a 'searchTerms' key.";return fo;}if(Object.prototype.toString.call(eD.searchTerms)!=='[object Array]'){fo.errorsExist=true;fo.summaryMsg="Search terms value must be an array.";return fo;}if(!eD.searchTerms.length){fo.errorsExist=true;fo.summaryMsg="Search terms array must contain at least one value.";return fo;}fo.searchTerms=[];IPCC.V.forEach(eD.searchTerms,function(searchTermObj){var Ip=amB(searchTermObj);if(Ip.errorsExist){fo.errorsExist=true;}fo.searchTerms=fo.searchTerms.concat(Ip.searchTerms);});return fo;};function amB(lB){var fo={errorsExist:false,searchTerms:[]};var amj=lB.type?IPCC.V.trim(lB.type).toLowerCase():undefined;if(amj==='proximity'){if(Object.prototype.toString.call(lB.terms)!=='[object Array]'){fo.searchTerms.push({isValid:false,message:"Proximity search terms property must be an array"});fo.errorsExist=true;return fo;}if(lB.terms.length<2){fo.searchTerms.push({isValid:false,message:"Proximity search terms array must contain at least two values"});fo.errorsExist=true;return fo;}if(!lB.distance){fo.searchTerms.push({isValid:false,message:"Proximity search term must have a distance specified"});fo.errorsExist=true;return fo;}IPCC.V.forEach(lB.terms,function(aBD){var Ip=amB(aBD);if(Ip.errorsExist){fo.errorsExist=true;}fo.searchTerms=fo.searchTerms.concat(Ip.searchTerms);});return fo;}var ZO,QU;var KF=(typeof lB.matchingOptions!=='undefined'&&lB.matchingOptions.hasOwnProperty('matchCase'))?lB.matchingOptions.matchCase:false;if(typeof lB.searchTerm==='undefined'||typeof lB.searchTerm!=='string'||(lB.searchTermIsRegex===true&& !aEK(lB.searchTerm,KF))){fo.errorsExist=true;fo.searchTerms.push({isValid:false,message:"Search term must be a string containing either plain text or a valid regular expression."});return fo;}ZO=(typeof lB.matchingOptions!=='undefined'&&lB.matchingOptions.hasOwnProperty('exactPhrase'))?lB.matchingOptions.exactPhrase:false;if(ZO){if(lB.searchTerm.length<0){fo.errorsExist=true;fo.searchTerms.push({isValid:false,message:"Search term must contain at least 3 characters."});return fo;}}else{var anl=lB.searchTerm.split(' ');IPCC.V.forEach(anl,function(QU){if(QU.length>0&&QU.length<0){fo.errorsExist=true;fo.searchTerms.push({isValid:false,message:"Search term must contain at least 3 characters."});}});}if(!fo.searchTerms.length){fo.searchTerms.push({isValid:true,message:null});}return fo;};var aEK=function(UF,KF){var azb,Sr,PG;if(KF){Sr='gm';}else{Sr='igm';}if(!UF&&UF!==null){PG=false;}else{try{azb=new RegExp(UF,Sr);PG=true;}catch(err){PG=false;}}return PG;};ViewerControl.prototype.requestRevisions=function(){this.kv=new PCCViewer.IT({imageHandlerUrl:this.aF.imageHandlerUrl,documentID:this.aF.documentID});return this.kv.aFA();};ViewerControl.prototype.gD=function(Yp){var zc=false,cX=this.aw.get_displayedPages();for(var C=0;C<cX.get_length();C++){var aK=cX.getPage(C);if(aK.get_pageNumber()===Yp){zc=true;}}return zc;};ViewerControl.prototype.getDownloadDocumentURL=function(){var aQ;if(!(/^[\x00-\x7F]*$/.test(this.ac))){aQ=this.aF.imageHandlerUrl+'/SaveDocument/q?DocumentID=e'+this.aF.documentID+'/SourceFile';}else{aQ=this.aF.imageHandlerUrl+'/SaveDocument/q?DocumentID=u'+encodeURIComponent(this.aF.documentID);}return aQ;};ViewerControl.prototype.requestDocumentHyperlinks=function(pageNumber){var ah;var aC=PCCViewer.Deferred();var bY=aC.getPromise();var bQ=this;try{if(typeof(pageNumber)==='number'){ah=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{ah=parseInt(pageNumber,10);}}if(ah<1||ah>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}var YV=this.Dq[ah-1];if(!YV){YV=this.Dq[ah-1]=new PCCViewer.Deferred();this.qn.then(function(){var aK=bQ.dc.getPage(ah-1);aK.yP();});}aC.resolve(YV.getPromise());}catch(e){aC.reject(new PCCViewer.Error('Error',e));}return bY;};ViewerControl.prototype.auT=function(aGc){var i,j,wL;for(j=0;j<this.Ef.length;j++){wL=this.Ef[j];if(wL){for(i=0;i<wL.length;i++){if(wL[i].AW.Oc()===aGc){return wL[i];}}}}return null;};ViewerControl.prototype.print=Print.print;ViewerControl.prototype.validatePrintRange=Print.validatePrintRange;ViewerControl.prototype.canPrintMarks=Print.canPrintMarks;ViewerControl.prototype.deserializeMarks=function deserializeMarks(values){if(this.eh===false){throw new Error("The method addMark is not available until 'ViewerReady' state is reached.");}var T=this;var dY=T.getPageCount();var eJ;if(typeof values==='string'){try{eJ=JSON.parse(values);}catch(e){throw new Error('JSON parse error: '+e.message);}}else{eJ=values;}if(eJ.constructor!==Array){eJ=[eJ];}function Xz(fk,bV){throw new Error('Cannot serialize mark (at index '+bV+') because of '+fk);};var aaS=IPCC.V.map(T.getAllMarks(),function(R){return R.getUid();});IPCC.V.forEach(eJ,function validateObject(aY,bV){if(!aY.pageNumber||isNaN(+aY.pageNumber)||aY.pageNumber<1||aY.pageNumber>dY){Xz('unknown page number '+aY.pageNumber,bV);}if(!PCCViewer.Mark.Type[aY.type]){Xz('unknown type '+aY.type,bV);}if(IPCC.V.contains(aaS,aY.uid)){Xz('uid '+aY.uid+' is being duplicated or already exists',bV);}else if(aY.uid!==undefined){aaS.push(aY.uid);}});if(eJ.length===0){return[];}var dI=T.ac.get_pages();var ayT=[];dI.na(function(aK){ayT.push(T.aw.hA(aK));});var aT=IPCC.V.reduce(eJ,function(ad,aY){var aK=dI.jD(aY.pageNumber-1);var Tk=aK.get_pageWidth();var acB=aK.get_pageHeight();var hF=aY.pageData;if(!hF&&(!Tk|| !acB)){var aEz=IPCC.V.find(aY.lineGroups,function(adE){return(adE.pageNumber&&adE.pageNumber===aY.pageNumber);});hF=aEz.pageData;}var bi=Tk||hF.width;var aq=acB||hF.height;var R=cq[aY.type].call(T,aY,{bi:bi,aq:aq});if(aY.uid===undefined){aaS.push(R.getUid());}if(!Tk){aK.Bk=true;aK.ajQ(bi);aK.akr(aq);}if(!R.L.has_unsafe_href()){ad.push(R);}else{T.deleteMarks(R);}return ad;},[]);return aT;};ViewerControl.prototype.serializeMarks=function serializeMarks(marks){var aC=PCCViewer.Deferred();var bY=aC.getPromise();var T=this,aT,aDV=false;function acQ(fk){setTimeout(function(){aC.reject(fk);},0);};if(Object.prototype.toString.call(marks)==='[object Array]'){aT=marks;}else if(marks){aT=[marks];aDV=true;}else{acQ(new PCCViewer.Error('InvalidArgument','`marks` is not defined or falsy.'));return bY;}var Ob;aT=IPCC.V.filter(aT,function(ka,bV){var Gh=ka instanceof PCCViewer.Mark&&ka===T.getMarkById(ka.getId())&& ! !fe[ka.getType()];if(!Gh&& !Ob){Ob=bV;}return Gh;});if(Ob){acQ(new PCCViewer.Error('InvalidArgument','Cannot serialize object at index '+Ob+' because it is not a valid mark or a mark known to ViewerControl'));return bY;}var WM=T.ac.get_pages();var dI=IPCC.V.reduce(aT,function(ft,ka){var ah=ka.getPageNumber();if(ft[ah]){return ft;}ft[ah]=WM.getPage(ah-1);return ft;},{});function awi(R,aK,azm){return function(lH){fe[R.getType()]({mark:R,page:aK,vc:T},function(cA,cT){if(!cA){azm(cT);lH();}else{aC.reject(cA);}});};};var sR=[];var aup=IPCC.V.map(aT,function(ka,bV){return awi(ka,dI[ka.getPageNumber()],function(cT){sR[bV]=cT;});});IPCC.V.ZY(aup,function(){aC.resolve(sR);});return bY;};ViewerControl.prototype.setRedactionViewMode=function(redactionViewMode){var MW,Xy;switch(redactionViewMode){case PCCViewer.RedactionViewMode.Draft:MW=true;Xy=PCCViewer.RedactionViewMode.Draft;break;case PCCViewer.RedactionViewMode.Normal:MW=false;Xy=PCCViewer.RedactionViewMode.Normal;break;default:throw new RangeError("The value of RedactionViewMode is not a supported value.");}if(this.aw&&this.aw.set_redactionDraftMode){var arj=this.aw.get_redactionDraftMode();if(arj!==MW){this.aw.set_redactionDraftMode(MW);}}else{this.aF.redactionViewMode=Xy;}return this;};ViewerControl.prototype.getRedactionViewMode=function(){var ajT;if(this.aw&&this.aw.get_redactionDraftMode){ajT=this.aw.get_redactionDraftMode();if(ajT===true){return PCCViewer.RedactionViewMode.Draft;}else{return PCCViewer.RedactionViewMode.Normal;}}else{return this.aF.redactionViewMode;}};ViewerControl.prototype.convertToRedaction=function(searchResult){var T=this;var fJ=searchResult;if(this.eh===false){throw "The convertToRedaction method can not be used until 'ViewerReady' state is reached.";}else if(fJ instanceof Array){throw new Error("Argument for this method cannot be an array.");}else if(fJ instanceof PCCViewer.SearchResult===false){throw new Error("The argument is not an instance of SearchResult.");}else if(fJ.Ic!==this.ac.get_documentIdentifier()){throw new Error("The SearchResult argument was not created using the current document viewing session.");}var aK=T.dc.getPage(fJ.getPageNumber()-1);if(!(aK.dp()&&aK.dp().vj()&&aK.dp().oa()===true)){throw new Error("The text has not been retrieved for this page.");}var ik=fJ.getStartIndexInPage();var eH=fJ.getStartIndexInPage()+fJ.getText().length;var ko=IPCC.wE();var aG=T.aw.hA(aK);var gY=aK.dp().hn();var dF=aql(aG,gY,ik,eH,ko,fJ.getPageNumber()-1);var R=new PCCViewer.Mark({type:'TextSelectionRedaction',igMark:dF,pageNumber:fJ.getPageNumber()});R.L=dF;R.dN=[];this.cw[dF.get_markID()]=R;var xa=T.hT;T.hT=function(sender,eventArgs){if(T.sT){T.un.addMarks(R);}setTimeout(function(){T.trigger('MarkCreated',{mark:R,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};aG.addMark(dF);T.hT=xa;T.aw.display(fJ.getPageNumber()-1);return R;};var aql=function(aG,gY,ik,eH,ko,ans){var dF=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);dF.bn=ko;dF.aU=ans;var R=null;var kf={hJ:Number.MAX_VALUE,it:0,_top:Number.MAX_VALUE,jT:0};for(var aR=ik;aR<eH;aR++){var dX=gY.jO(aR);if(R){var xV=R.get_rectangle();if(Math.abs(dX.av.y-xV.y)<1&&Math.abs(dX.av.height-xV.height)<1&&dX.av.x+dX.av.width>=xV.x+xV.width){R.set_rectangle(new IPCC.Web.UI.Rectangle(xV.x,xV.y,dX.av.x+dX.av.width-xV.x,xV.height));}else{akj(aG,dF,R,kf);R=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);R.set_rectangle(dX.av);R.kU(true);R.set_fillColor('#000000');R.set_text(dF.aO);R.set_lineWidth(0);R.bn=ko;}}else{R=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);R.set_rectangle(dX.av);R.kU(true);R.set_fillColor('#000000');R.set_text(dF.aO);R.set_lineWidth(0);R.bn=ko;}R.aU=ans;}if(R!==null){akj(aG,dF,R,kf);}dF.set_rectangle(new IPCC.Web.UI.Rectangle(kf.hJ,kf._top,kf.it-kf.hJ,kf.jT-kf._top));return dF;};var akj=function(aG,dF,R,kf){var H=R.get_rectangle();if(H.x<kf.hJ){kf.hJ=H.x;}if(H.y<kf._top){kf._top=H.y;}if(H.x+H.width>kf.it){kf.it=H.x+H.width;}if(H.y+H.height>kf.jT){kf.jT=H.y+H.height;}aG.addMark(R);dF.aI.push(R);};ViewerControl.prototype.convertToHighlight=function(searchResult){var fJ=searchResult;if(this.eh===false){throw "The convertToHighlight method can not be used until 'ViewerReady' state is reached.";}if(fJ instanceof Array){throw new Error("Argument for this method cannot be an array.");}if(fJ instanceof PCCViewer.SearchResult===false){throw new Error("The argument is not an instance of SearchResult.");}if(fJ.Ic!==this.ac.get_documentIdentifier()){throw new Error("The SearchResult argument was not created using the current document viewing session.");}var dF;var ajg;var aG;var ad=fJ;var ik=ad.getStartIndexInPage();var eH=ad.getStartIndexInPage()+ad.getText().length;var ko=IPCC.wE();var T=this;var R;aG=this.aw.hA(this.dc.getPage(ad.getPageNumber()-1));dF=amF(IPCC.Web.UI.MarkType.HighlightText,ad,ik,ko);R=new PCCViewer.Mark({type:'HighlightAnnotation',igMark:dF,pageNumber:ad.getPageNumber()});for(ik;ik<eH;ik++){ajg=amF(IPCC.Web.UI.MarkType.Highlight,ad,ik,ko);aG.addMark(ajg);}this.cw[dF.get_markID()]=R;var xa=this.hT;this.hT=function(sender,eventArgs){if(T.sT){T.un.addMarks(R);}setTimeout(function(){T.trigger('MarkCreated',{mark:R,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};aG.addMark(dF);T.hT=xa;this.aw.display(ad.getPageNumber()-1);R.fillColor=ad.getHighlightColor();return R;};var amF=function(aD,ad,aBr,ko){var R=new IPCC.Web.UI.Mark(aD);if(aD===IPCC.Web.UI.MarkType.HighlightText){R.cf=ad.getText();}R.ak=aBr;R.set_rectangle({x:0,y:0,width:0,height:0});R.ck=ad.getText().length;R.aEW=ad.getStartIndexInPage()+ad.getText().length;R.cz=127;R.dP=ad.getHighlightColor();R.jm='y';R.bn=ko;return R;};ViewerControl.prototype.ahI=function(aU,eS){var ad={};for(var aR=0;aR<eS.length;aR++){ad=eS[aR];this.aw.selectText(ad.getPageNumber()-1,ad.getStartIndexInPage(),ad.getText().length,ad.getHighlightColor());}this.aw.display(ad.getPageNumber()-1);this.HQ[ad.getPageNumber()]='search';};ViewerControl.prototype.abd=function(aU,searchResult){var ad={};if(this.aX===null||typeof this.aX.getResults!=='function'){return;}var eS=this.aX.getResults();this.aw.clearSelectedText(aU-1);var abS=this.EY[aU];if(!abS){return;}for(var aR=abS.ak;aR<abS.cv+1;aR++){ad=eS[aR];if(ad.getPageNumber()===aU){this.aw.selectText(ad.getPageNumber()-1,ad.getStartIndexInPage(),ad.getText().length,ad.getHighlightColor());if(searchResult===ad.getId()){this.aw.selectText(ad.getPageNumber()-1,ad.getStartIndexInPage(),ad.getText().length,ad.getHighlightColor());}}}this.aw.display(ad.getPageNumber()-1);this.HQ[ad.getPageNumber()]='search';};ViewerControl.prototype.setSelectedSearchResult=function(searchResult,scrollTo){if(!this.eh){throw "The setSelectedSearchResult method requires the viewer to be in a 'ViewerReady' state.";}if(searchResult===null){this.If= -1;}else{if(!(searchResult instanceof PCCViewer.SearchResult)){throw "The parameter searchResult is not an instance of PCCViewer.SearchResult.";}if(!this.aX){throw "There is no current SearchRequest object available.";}var alH=this.aX.getResults();if(alH[searchResult.getId()].nr!==searchResult.nr){throw "The parameter searchResult is not current. There is a newer version of search result available.";}alH=null;this.If=searchResult.getId();if(scrollTo){var bF=searchResult.getBoundingRectangle();var hq=new IPCC.Web.UI.Rectangle(bF.x,bF.y,bF.width,bF.height);if(this.aw.scrollRegionIntoView(searchResult.getPageNumber()-1,hq)===false){this.lh=function(){T.aw.scrollRegionIntoView(searchResult.getPageNumber()-1,hq);};this.setPageNumber(searchResult.getPageNumber());}else{this.lh=null;}}}var T=this;var aBF=searchResult!==null?searchResult.getPageNumber(): -1;if(this.yk&&this.yk.getPageNumber()!==aBF){T.requestPageText(T.yk.getPageNumber()).then(function Cx(){T.abd(T.yk.getPageNumber(),T.If);});}if(searchResult){T.requestPageText(searchResult.getPageNumber()).then(function Cx(){T.abd(searchResult.getPageNumber(),T.If);});}this.yk=searchResult;setTimeout(function(){T.trigger(PCCViewer.EventType.SearchResultSelectionChanged,{});},0);return this;};ViewerControl.prototype.clearSelectedSearchResult=function(){if(!this.eh){throw "The clearSelectedSearchResult method requires the viewer to be in a 'ViewerReady' state.";}this.setSelectedSearchResult(null);return this;};ViewerControl.prototype.getSelectedSearchResult=function(){return this.yk;};ViewerControl.prototype.requestPageText=function(pageNumber){var ah;var aC=PCCViewer.Deferred();var bY=aC.getPromise();var T=this;try{if(typeof(pageNumber)==='number'){ah=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{ah=parseInt(pageNumber,10);}}if(ah<1||ah>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}this.qn.then(function(ss){var aK=T.dc.getPage(ah-1);var es=aK.dp();es.ack(true);if(es&&es.vj()){if(es.oa()===true){var aO=aK.dp().BY();aC.resolve(aO);}else{aC.resolve("");}}else{var IV=function(bM,dn){if(dn.containsText===true){var aO=es.BY();aC.resolve(aO);}else{aC.resolve("");}aK.CL(IV);aK.AX(II);};var II=function(bM,dn){if(dn.exception&&dn.exception.message){aC.reject(new PCCViewer.Error("TextExtractionFailed",dn.exception.message));}else{aC.reject(new PCCViewer.Error("TextExtractionFailed","Text extraction failed."));}aK.CL(IV);aK.AX(II);};aK.AP(IV);aK.Ar(II);aK.yP();}});}catch(e){aC.reject(new PCCViewer.Error("Error",e));}return bY;};ViewerControl.prototype.disposePageText=function(pageNumber){var ah;var T=this;if(!this.eh){throw new Error("The disposePageText method requires the viewer to be in a 'ViewerReady' state.");}if(T.aw.get_retainPageText()===true){return this;}if(typeof(pageNumber)==='number'){ah=pageNumber;}else{if(isNaN(+pageNumber)){throw new Error("The parameter pageNumber is not a number.");}else{ah=parseInt(pageNumber,10);}}if(ah<1||ah>this.getPageCount()|| !isFinite(pageNumber)){throw new Error("The specified page is out of range.");}var cX=T.aw.get_displayedPages();for(var C=0;C<cX.get_length();C++){var adt=cX.getPage(C);if(adt.get_pageNumber()===ah-1){adt.dp().ack(false);return this;}}var aK=T.dc.getPage(ah-1);aK.aku();return this;};ViewerControl.prototype.isPageTextReady=function(pageNumber){IPCC.bw.lN(pageNumber,"pageNumber",1,this.getPageCount());var aK;return(this.aw&&this.dc&&(aK=this.dc.getPage(pageNumber-1))&&aK.dp()&&aK.dp().vj())===true;};ViewerControl.prototype.documentHasText=function(){return this.arX;};ViewerControl.prototype.requestPageAttributes=function(pageNumber){var ah;var aC=PCCViewer.Deferred();var bY=aC.getPromise();var T=this;try{if(typeof(pageNumber)==='number'){ah=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{ah=parseInt(pageNumber,10);}}if(ah<1||ah>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}this.qn.then(function(ss){var aK=T.dc.getPage(ah-1);if(aK.kJ()>0||aK.ia()>0){aC.resolve({'width':aK.kJ(),'height':aK.ia()});}else{var zI=function(be,ba){aC.resolve({'width':be,'height':ba});};var AK=function(errorMessage){aC.reject(new PCCViewer.Error("RequestPageAttributesFailed",errorMessage));};ss.requestPageAttributes(aK,zI,AK);}});}catch(e){aC.reject(new PCCViewer.Error("Error",e));}return bY;};ViewerControl.prototype.destroy=function(){if(!this.yX){this.Ef=undefined;this.Dq=undefined;this.un=undefined;this.pl=undefined;this.kv=undefined;this.ir=undefined;if(this.aw&&typeof this.aw.dispose==="function"){this.aw.dispose();}this.aQ="";this.dY=0;delete this.aw;this.ac=undefined;this.MR=0;this.dc=undefined;this.akv=false;if(this.gS){IPCC.V.Sj(this.gS);this.gS=this.dO=undefined;}this.oU=false;this.AA=false;this.Dw=false;this.aw=undefined;this.Xt=undefined;this.qn=undefined;PCCViewer.MouseTools.sQ=undefined;this.lC=undefined;this.Ef=undefined;this.IC=undefined;for(var GZ in this.cw){if(this.cw.hasOwnProperty(GZ)){this.cw[GZ].cT=undefined;this.cw[GZ].dC=undefined;this.cw[GZ].L=undefined;this.cw[GZ]=undefined;}}this.cw=undefined;this.eh=false;this.yX=true;this.trigger=function Vn(){};this.jr=undefined;this.jr={};}};ViewerControl.prototype.getMarkById=function(markId){var T=this;if(!isNaN(markId)){markId=parseInt(markId,10);}else{throw "The parameter, markId, contains a value that is not a number.";}if(T.cw[markId]){return T.cw[markId];}else{return null;}};ViewerControl.prototype.getMarksByType=function(markType){var ZP=[];if(typeof markType!=="string"){throw "The parameter, markType, is not a String.";}agt(markType);if(!this.aw){return ZP;}var C=0;var da=this.dc.get_length();var T=this;function avj(L){var R=T.cw[L.get_markID()];if(R&&R.getType().toLowerCase()===markType.toLowerCase()){ZP.push(R);}};for(C=0;C<da;C++){var aG=this.aw.hA(this.dc.getPage(C));if(aG){aG.forEachMark(avj);}}return ZP;};ViewerControl.prototype.getAllMarks=function(){var DI=[];if(!this.aw){return DI;}var da=this.dc.get_length();var T=this;var C=0;var R;function NV(L){var R=T.cw[L.get_markID()];if(typeof R!=='undefined'){DI.push(R);}};for(C=0;C<da;C++){var aG=this.aw.hA(this.dc.getPage(C));if(aG){aG.forEachMark(NV);}}return DI;};function agt(markType){var eP;switch(markType.toLowerCase()){case "lineannotation":eP=IPCC.Web.UI.MarkType.Line;break;case "rectangleannotation":eP=IPCC.Web.UI.MarkType.Rectangle;break;case "ellipseannotation":eP=IPCC.Web.UI.MarkType.Ellipse;break;case "textannotation":eP=IPCC.Web.UI.MarkType.Text;break;case "stampannotation":eP=IPCC.Web.UI.MarkType.Stamp;break;case "highlightannotation":eP=IPCC.Web.UI.MarkType.HighlightText;break;case "texthyperlinkannotation":eP=IPCC.Web.UI.MarkType.TextHyperlinkAnnotation;break;case "freehandannotation":eP=IPCC.Web.UI.MarkType.Freehand;break;case "rectangleredaction":eP=IPCC.Web.UI.MarkType.RectangleRedaction;break;case "transparentrectangleredaction":eP=IPCC.Web.UI.MarkType.Rectangle;break;case "textredaction":eP=IPCC.Web.UI.MarkType.Text;break;case "stampredaction":eP=IPCC.Web.UI.MarkType.Stamp;break;case "freehandsignature":eP=IPCC.Web.UI.MarkType.SignaturePath;break;case "textsignature":eP=IPCC.Web.UI.MarkType.SignatureText;break;case "textinputsignature":eP=IPCC.Web.UI.MarkType.TextLine;break;case "textareasignature":eP=IPCC.Web.UI.MarkType.TextAreaSignature;break;case "textselectionredaction":eP=IPCC.Web.UI.MarkType.TextSelectionRedaction;break;case "imagestampannotation":eP=IPCC.Web.UI.MarkType.ImageStampAnnotation;break;case "imagestampredaction":eP=IPCC.Web.UI.MarkType.ImageStampRedaction;break;case "polylineannotation":eP=IPCC.Web.UI.MarkType.Polyline;break;case "strikethroughannotation":eP=IPCC.Web.UI.MarkType.Strikethrough;break;default:throw "The parameter, markType, does not specify a valid mark type.";}return eP;};ViewerControl.prototype.addMarkFromSearchResult=function(searchResult,markType){var T=this,hF;if(T.eh===false){throw "The method addMarkFromSearchResult is not available until 'ViewerReady' state is reached.";}if(!(searchResult instanceof PCCViewer.SearchResult)){throw new PCCViewer.Error("InvalidArgument","searchResult is not a valid instance of PCCViewer.SearchResult");}if([PCCViewer.Mark.Type.TextSelectionRedaction,PCCViewer.Mark.Type.HighlightAnnotation,PCCViewer.Mark.Type.TextHyperlinkAnnotation,PCCViewer.Mark.Type.StrikethroughAnnotation].indexOf(markType)=== -1){throw new PCCViewer.Error("InvalidArgument","The mark type must be: 'TextSelectionRedaction', 'HighlightAnnotation', 'TextHyperlinkAnnotation' or 'StrikethroughAnnotation'.");}if(searchResult.hF.width===0){var Iy=T.ac.dI.jD(0);hF={width:Iy.kJ(),height:Iy.ia()};}else{hF=searchResult.hF;}var adk=IPCC.V.wJ(new Date());var markInfo=[{conversation:{comments:[],data:{}},creationDateTime:adk,data:{},interactionMode:'Full',lineGroups:[{lines:searchResult.aI,pageData:hF,pageNumber:searchResult.pageNumber,startIndex:searchResult.startIndexInPage,textLength:searchResult.text.length}],modificationDateTime:adk,pageNumber:searchResult.pageNumber,pageData:hF,reason:"",selectedText:searchResult.text,startIndex:searchResult.startIndexInPage,textLength:searchResult.text.length,type:markType}];var QO=T.deserializeMarks(markInfo);return QO[0];};ViewerControl.prototype.addMark=function(pageNumber,markType){if(this.eh===false){throw "The method addMark is not available until 'ViewerReady' state is reached.";}var ah;if(typeof(pageNumber)==='number'){ah=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter, pageNumber, contains a value that is not a number.";}else{ah=parseInt(pageNumber,10);}}if(ah<1||ah>this.dc.get_length()|| !isFinite(ah)){throw "The specified page is out of range.";}if(typeof markType!=="string"){throw "The parameter, markType, is not a String.";}var R=this.akS(ah,markType);return this.amT(R);};ViewerControl.prototype.akS=function(ah,aD,aF){var T=this;aF=aF||{};var eP=agt(aD);var L=new IPCC.Web.UI.Mark(eP);L.aU=ah-1;var TM={type:aD,igMark:L,pageNumber:ah,uid:aF.uid,viewerControl:this};if(aD.toLowerCase()==="highlightannotation"||aD.toLowerCase()==="textselectionredaction"||aD.toLowerCase()==="strikethroughannotation"||aD.toLowerCase()==="texthyperlinkannotation"){TM.dc=T.dc;TM.aw=T.aw;}var R=new PCCViewer.Mark(TM);return R;};ViewerControl.prototype.amT=function(R){var T=this;if(T.amZ===true){T.amZ=false;}else{var xa=T.hT;T.hT=function(sender,eventArgs){T.hT=xa;if(T.sT){T.un.addMarks(R);}setTimeout(function(){T.trigger('MarkCreated',{mark:R,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};}var aG=this.aw.hA(this.dc.getPage(R.ah-1));aG.addMark(R.L);T.cw[R.L.get_markID()]=R;T.os(R,R.ah-1);return R;};ViewerControl.prototype.deleteMarks=function(marks){var T=this;var C=0;var R;if(!this.eh){throw "The method deleteMarks can not be used until 'ViewerReady' state is reached.";}function Qx(nD){var aU=nD.getPageNumber()-1;var bn='';var bG='';var Fg=aU;var aG=T.aw.hA(T.dc.getPage(aU));aG.removeMark(nD.L);if(T.cw[nD.getId()]){bn=nD.L.bn;bG=nD.getType();delete T.cw[nD.getId()];}var Nf=bG.toLowerCase();if((Nf==='highlightannotation'||Nf==='textselectionredaction'||Nf==='strikethroughannotation'||Nf==='texthyperlinkannotation')&&(nD.dN&&nD.dN.length)){for(var C=0;C<nD.dN.length;C++){var kq=nD.dN[C];aG=T.aw.hA(T.dc.getPage(kq.aU));aG.removeMark(kq);T.os(kq,kq.aU);}}T.pl.forEach(function(dS){if(dS.hasMark(nD.getId())){dS.removeMarks(nD);}});};if(marks instanceof Array){for(C=0;C<marks.length;C++){R=marks[C];if(!(R instanceof PCCViewer.Mark)){throw "The parameter, marks, contains an item that is not a Mark.";}if(!(T.cw[R.getId()])){throw "The parameter, marks, contains a Mark that is not on the document.";}}for(C=0;C<marks.length;C++){Qx(marks[C]);T.os(marks[C],marks[C].getPageNumber()-1);}}else{if(marks instanceof PCCViewer.Mark){if(!(T.cw[marks.getId()])){throw "The parameter, marks, contains a Mark that is not on the document.";}Qx(marks);T.os(marks,marks.getPageNumber()-1);}else{throw "The parameter, marks, is not an Array of Marks or a single Mark.";}}return this;};ViewerControl.prototype.deleteAllMarks=function(){var DI=this.getAllMarks();if(DI.length>0){return this.deleteMarks(DI);}return this;};ViewerControl.prototype.hideMarks=function(marks){aco(this,marks,false,'hideMarks');return this;};ViewerControl.prototype.showMarks=function(marks){aco(this,marks,true,'showMarks');return this;};function aco(bQ,aT,vM,azN){var C=0;var R;if(!bQ.eh){throw new PCCViewer.Error("InvalidArgument","The method "+azN+" can not be used until 'ViewerReady' state is reached.");}if(aT instanceof Array){for(C=0;C<aT.length;C++){R=aT[C];if(!(R instanceof PCCViewer.Mark)){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains an item that is not a Mark.");}if(!(bQ.cw[R.getId()])){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}}for(C=0;C<aT.length;C++){aT[C].setVisible(vM);}}else{if(aT instanceof PCCViewer.Mark){if(!(bQ.cw[aT.getId()])){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}aT.setVisible(vM);}else{throw new PCCViewer.Error("InvalidArgument","The parameter, marks, is not an Array of Marks or a single Mark.");}}};function xK(aDh,jN){var kc=false;var cX=jN.aw.get_displayedPages();for(var C=0;C<cX.get_length();C++){var aK=cX.getPage(C);if(aK.get_pageNumber()===aDh){kc=true;break;}}return kc;};ViewerControl.prototype.moveMarkToFront=function(mark){var aG;var iL;if(!this.eh){throw "The method moveMarkToFront is not available until ViewerReady state is reached.";}if(mark instanceof PCCViewer.Mark){iL=mark.getPageNumber();if(mark.getPageNumber()>0){aG=this.aw.hA(this.dc.getPage(iL-1));}else{throw "The mark object has not been added to any page yet";}}else{throw "The parameter, mark object is not a PCCViewer.Mark object";}if(!mark.L){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(aG){if(mark.L instanceof IPCC.Web.UI.Mark){mark.L.moveToFront();if(xK(iL-1,this)===true){var jN=this;setTimeout(function(){jN.aw.cn(iL-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};ViewerControl.prototype.moveMarkToBack=function(mark){var aG;var iL;if(!this.eh){throw "The method moveMarkToBack is not available until ViewerReady state is reached.";}if(!(mark instanceof PCCViewer.Mark)){throw "The parameter, mark object is not a PCCViewer.Mark object";}iL=mark.getPageNumber();if(iL>=1){aG=this.aw.hA(this.dc.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.L){throw "The parameter, mark may be a templateMark or has not been initialized";}if(aG){if(mark.L instanceof IPCC.Web.UI.Mark){mark.L.moveToBack();if(xK(iL-1,this)===true){var jN=this;setTimeout(function(){jN.aw.cn(iL-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};ViewerControl.prototype.moveMarkForward=function(mark){var aG,iL;if(!this.eh){throw "The method moveMarkForward is not available until 'ViewerReady' state is reached.";}if(!(mark instanceof PCCViewer.Mark)){throw "The parameter, mark object is not a PCCViewer.Mark object";}iL=mark.getPageNumber();if(iL>=1){aG=this.aw.hA(this.dc.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.L){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(aG){if(mark.L instanceof IPCC.Web.UI.Mark){mark.L.moveForward();if(xK(iL-1,this)===true){var jN=this;setTimeout(function(){jN.aw.cn(iL-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};ViewerControl.prototype.moveMarkBackward=function(mark){var aG,iL;if(!this.eh){throw "The method moveMarkBackward is not available until ViewerReady state is reached.";}if(!(mark instanceof PCCViewer.Mark)){throw "The parameter, mark object is not a PCCViewer.Mark object";}iL=mark.getPageNumber();if(iL>=1){aG=this.aw.hA(this.dc.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.L){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(aG){if(mark.L instanceof IPCC.Web.UI.Mark){mark.L.moveBackward();if(xK(iL-1,this)===true){var jN=this;setTimeout(function(){jN.aw.cn(iL-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};ViewerControl.prototype.getSelectedMarks=function(){var aT=[];var TW=[];if(this.eh===false){return aT;}var da=this.dc.get_length(),aG,fc;var T=this;function avs(Rn){if(Rn){var RI=Rn.get_type();if(RI===IPCC.Web.UI.MarkType.HighlightText||RI===IPCC.Web.UI.MarkType.TextSelectionRedaction||RI===IPCC.Web.UI.MarkType.Strikethrough||RI===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation){for(var jw in T.cw){if(T.cw.hasOwnProperty(jw)){fc=T.cw[jw];if(Rn.bn===fc.L.bn){for(var C=0;C<TW.length;C++){if(fc.L.bn===TW[C]){return;}}TW.push(fc.L.bn);break;}}}}else{fc=T.cw[Rn.get_markID()];}if(fc&&fc instanceof PCCViewer.Mark){aT.push(fc);}else{return aT;}}};for(var C=0;C<da;C++){aG=this.aw.hA(this.dc.getPage(C));if(aG){aG.get_selectedMarks().forEach(avs,{});}}return aT;};function aaT(aT,are,jN){var fc,C;function Us(hm){var kc=false;var cX=jN.aw.get_displayedPages();for(var C=0;C<cX.get_length();C++){var aK=cX.getPage(C);if(aK.get_pageNumber()===hm){kc=true;break;}}return kc;};if(!aT.length){return;}for(C=0;C<aT.length;C++){if(aT[C]instanceof PCCViewer.Mark){fc=jN.cw[parseInt(aT[C].getId(),10)];if(fc&&fc instanceof PCCViewer.Mark){if(fc.L&&fc.L instanceof IPCC.Web.UI.Mark){if(fc.getId()!==fc.L.get_markID().toString()){throw "The mark ID does not match the ID of the mark loaded in the viewer";}}else{throw "The mark provided may not have been added to the document pages in the viewer";}}else{throw "The parameter, marks, contains a Mark that is not on the document.";}}else{throw "The mark provided in the position : "+(C+1)+" is invalid";}}var oD=[];var uz=false;for(C=0;C<aT.length;C++){fc=jN.cw[parseInt(aT[C].getId(),10)];uz=false;if(fc){if(fc.getId()===fc.L.get_markID().toString()){fc.L.set_selected(are);if(Array.prototype.IndexOf){uz=(oD.IndexOf(fc.getPageNumber())>=0);}else{uz=(IPCC.Web.jk(oD,fc.getPageNumber())>=0);}}if(!uz){var dA=fc.getPageNumber();if(Us(dA-1)){oD.push(dA);}}}}if(oD.length>0){setTimeout(function(){for(C=0;C<oD.length;C++){jN.aw.cn(oD[C]-1);}},1);}};ViewerControl.prototype.selectMarks=function(marks){if(this.eh===false){throw "The method selectMarks is not available until 'ViewerReady' state is reached.";}var aT=[];if(marks===undefined){return this;}if(marks&& !(marks instanceof Array)){if(marks instanceof PCCViewer.Mark){aT.push(marks);}}else{aT=marks;}if(aT.length===0){return this;}aaT(aT,true,this);return this;};ViewerControl.prototype.deselectMarks=function(marks){if(this.eh===false){throw "The method deselectMarks is not available until 'ViewerReady' state is reached.";}var aT=[];if(marks===undefined){return this;}if(marks&& !(marks instanceof Array)){if(marks instanceof PCCViewer.Mark){aT.push(marks);}}else{aT=marks;}if(aT.length===0){return this;}aaT(aT,false,this);return this;};ViewerControl.prototype.deselectAllMarks=function(){var oD=[];var aT=this.getSelectedMarks();var uz=false,C,fc;for(C=0;C<aT.length;C++){fc=this.cw[parseInt(aT[C].getId(),10)];uz=false;if(fc){if(fc.getId()===fc.L.get_markID().toString()){fc.L.set_selected(false);if(Array.prototype.IndexOf){uz=(oD.IndexOf(fc.getPageNumber())>=0);}else{uz=(IPCC.Web.jk(oD,fc.getPageNumber())>=0);}}if(!uz){var dA=fc.getPageNumber();if(xK(dA-1,this)===true){oD.push(dA);}}}}if(oD.length>0){var jN=this;setTimeout(function(){for(C=0;C<oD.length;C++){jN.aw.cn(oD[C]-1);}},1);}return this;};ViewerControl.prototype.copyMarks=function(marks){var bQ=this,QO;if(marks instanceof PCCViewer.Mark){marks=[marks];}if(marks instanceof Array===false){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, is not an Array of Marks or a single Mark.");}var aT=[];IPCC.V.forEach(marks,function(R){if(R instanceof PCCViewer.Mark){if(bQ.cw[R.getId()]===undefined){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}aT.push(R);}else{throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains an item that is not a Mark.");}});var sR=[];IPCC.V.forEach(aT,function(R,bv){fe[R.getType()]({mark:R},function(cA,cT){cT.uid=undefined;sR[bv]=cT;});});this.sT=false;QO=bQ.deserializeMarks(sR);this.sT=true;return QO;};ViewerControl.prototype.enterTextMarkEditingMode=function(R){var bQ=this,aw=this.aw;var adQ=function(Yp){var zc=false,cX=aw.get_displayedPages();for(var C=0;C<cX.get_length();C++){var aK=cX.getPage(C);if(aK.get_pageNumber()===Yp){zc=true;}aw.pY(aK.get_pageNumber());}return zc;};if(typeof R==="undefined"||R===null){adQ(-1);}else{if(this.eh===false){throw PCCViewer.Error("ViewerNotReady","The method selectMarks is not available until 'ViewerReady' state is reached.");}if(!(R instanceof PCCViewer.Mark)){throw new PCCViewer.Error("InvalidArgument","The argument 'mark' must be an instance of PCCViewer.Mark.");}var agQ=this.cw[parseInt(R.getId(),10)];if(!(agQ&&agQ instanceof PCCViewer.Mark)){throw new PCCViewer.Error("InvalidArgument","The provided mark is not on the document.");}if(!(R.L&&R.L instanceof IPCC.Web.UI.Mark)){throw new PCCViewer.Error("InvalidArgument","The provided mark may not have been added to the document pages in the viewer");}if(R.getId()!==R.L.get_markID().toString()){throw new PCCViewer.Error("InvalidArgument","The mark ID does not match the ID of the mark loaded in the viewer");}var aD=R.getType();if(aD!==PCCViewer.Mark.Type.TextAnnotation&&aD!==PCCViewer.Mark.Type.TextRedaction&&aD!==PCCViewer.Mark.Type.TextInputSignature&&aD!==PCCViewer.Mark.Type.TextAreaSignature){throw new PCCViewer.Error("InvalidArgument","The mark type must be: 'TextAnnotation', 'TextRedaction', 'TextInputSignature', or 'TextAreaSignature'.");}var zc=adQ(R.getPageNumber()-1);if(zc){bQ.aw.wq(R.getPageNumber()-1,R.L);}}return this;};ViewerControl.prototype.getCharacterIndex=function(sortableObject){if(this.eh===false){throw new Error("The getCharacterIndex method can not be used until 'ViewerReady' state is reached.");}var IY= -1;var dz;var bF;var ah=0;if(sortableObject instanceof PCCViewer.Mark){if(sortableObject.getStartPoint){dz=sortableObject.getStartPoint();}else{bF=(sortableObject.L)?sortableObject.L.get_boundingRectangle():sortableObject.getRectangle();dz={x:bF.x,y:bF.y};}ah=sortableObject.getPageNumber();}else if(sortableObject instanceof PCCViewer.SearchResult){return sortableObject.startIndexInPage;}else if(sortableObject!==undefined&&sortableObject!==null){if(typeof sortableObject.x==='number'&&typeof sortableObject.y==='number'){dz={x: +sortableObject.x,y: +sortableObject.y};}else{if(isNaN(+sortableObject.x)||isNaN(+sortableObject.y)){throw new Error('The parameter sortableObject does not contain valid x and y values.');}else{dz={x:Number(+sortableObject.x),y:Number(+sortableObject.y)};}}if(typeof sortableObject.pageNumber==='number'){ah= +sortableObject.pageNumber;}else{if(isNaN(+sortableObject.pageNumber)){throw new Error('The parameter sortableObject does not contain a valid pageNumber value.');}else{ah=Number(+sortableObject.pageNumber);}}}else{throw new Error('The sortableObject parameter must be a Mark, SearchResult, or Point.');}if(ah<1||ah>this.getPageCount()|| !isFinite(ah)){throw new RangeError("The parameter pageNumber is out of range.");}if(!this.isPageTextReady(ah)){return-2;}var aK=this.dc.getPage(ah-1);var vf=aK.dp().Yg();var gY=aK.dp().hn();function ace(bbox,point){if(point.x>bbox.x&&point.x<bbox.x+bbox.width&&point.y>bbox.y&&point.y<bbox.y+bbox.height){return true;}return false;};function adJ(dk,fp){var am=Math.max(Math.min(fp.x,dk.x+dk.width),dk.x);var dv=Math.max(Math.min(fp.y,dk.y+dk.height),dk.y);return(fp.x-am)*(fp.x-am)+(fp.y-dv)*(fp.y-dv);};var Bu;var Mh=Number.MAX_VALUE;for(var C=0;C<vf.fC();C++){var ic=vf.aCW(C);if(ace(ic.fs(),dz)){for(var aR=ic.ako();aR<ic.anx();aR++){var Tx=gY.jO(aR);var si=Tx.vR();if(ace(si,dz)){return aR;}Bu=adJ(si,dz);if(Bu<Mh){IY=aR;Mh=Bu;}}return IY;}Bu=adJ(ic.fs(),dz);if(Bu<Mh){if(ic.fs().y>dz.y){IY=ic.ako()-1;}else{IY=ic.anx();}Mh=Bu;}}return IY;};ViewerControl.prototype.getCurrentMouseTool=function(){return this.az.getName();};ViewerControl.prototype.setCurrentMouseTool=function(name){var T=this;if(this.eh===false){throw "The method setCurrentMouseTool is not available until 'ViewerReady' state is reached.";}var xA=name.toLowerCase();var az=PCCViewer.MouseTools.getMouseTool(xA);if(!az){throw new Error("The name argument for setCurrentMouseTool(name) must be the name of a known mouse tool.");}var gA,hj;switch(az.getType()){case PCCViewer.MouseTool.Type.Magnifier:gA=IPCC.Web.UI.MouseTool.Magnifier;break;case PCCViewer.MouseTool.Type.SelectToZoom:gA=IPCC.Web.UI.MouseTool.RectangleZoom;break;case PCCViewer.MouseTool.Type.PanAndEdit:case PCCViewer.MouseTool.Type.Pan:gA=IPCC.Web.UI.MouseTool.HandPan;break;case PCCViewer.MouseTool.Type.SelectText:gA=IPCC.Web.UI.MouseTool.SelectText;break;case PCCViewer.MouseTool.Type.EditMarks:gA=IPCC.Web.UI.MouseTool.EditMarks;break;case PCCViewer.MouseTool.Type.LineAnnotation:gA=IPCC.Web.UI.MouseTool.CreateLineMark;hj=avf(az.getTemplateMark());break;case PCCViewer.MouseTool.Type.RectangleAnnotation:gA=IPCC.Web.UI.MouseTool.CreateRectangleMark;hj=adR(az.getTemplateMark());break;case PCCViewer.MouseTool.Type.RectangleRedaction:gA=IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark;hj=ayO(az.getTemplateMark());break;case PCCViewer.MouseTool.Type.TransparentRectangleRedaction:gA=IPCC.Web.UI.MouseTool.CreateRectangleMark;hj=axB(az.getTemplateMark());break;case PCCViewer.MouseTool.Type.EllipseAnnotation:gA=IPCC.Web.UI.MouseTool.CreateEllipseMark;hj=adR(az.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextAnnotation:gA=IPCC.Web.UI.MouseTool.CreateTextMark;hj=ayg(az.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextRedaction:gA=IPCC.Web.UI.MouseTool.CreateTextMark;hj=WF(az.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextInputSignature:gA=IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark;hj=WF(az.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextAreaSignature:gA=IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark;hj=WF(az.getTemplateMark());break;case PCCViewer.MouseTool.Type.StampAnnotation:case PCCViewer.MouseTool.Type.StampRedaction:gA=IPCC.Web.UI.MouseTool.CreateStampMark;hj=ayx(az.getTemplateMark());break;case PCCViewer.MouseTool.Type.HighlightAnnotation:gA=IPCC.Web.UI.MouseTool.CreateHighlightTextMark;hj=OU(az.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextHyperlinkAnnotation:gA=IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark;hj=OU(az.getTemplateMark());break;case PCCViewer.MouseTool.Type.FreehandAnnotation:gA=IPCC.Web.UI.MouseTool.CreateFreehandMark;hj=awl(az.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextSelectionRedaction:gA=IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction;hj=OU(az.getTemplateMark());break;case PCCViewer.MouseTool.Type.PlaceSignature:var aqc=this.aF.resourcePath+'/placeSignatureCursor.cur';this.aw.set_mouseTool(IPCC.Web.UI.MouseTool.None);this.aw.set_allowMarkEdits(false);this.aw.set_mouseCursor('url('+aqc+'), pointer');this.az=az;return this;case PCCViewer.MouseTool.Type.ImageStampAnnotation:gA=IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark;hj=acl(az.getTemplateMark());break;case PCCViewer.MouseTool.Type.ImageStampRedaction:gA=IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark;hj=acl(az.getTemplateMark());break;case PCCViewer.MouseTool.Type.PolylineAnnotation:gA=IPCC.Web.UI.MouseTool.CreatePolylineMark;hj=awj(az.getTemplateMark());break;case PCCViewer.MouseTool.Type.StrikethroughAnnotation:gA=IPCC.Web.UI.MouseTool.CreateStrikethroughMark;hj=OU(az.getTemplateMark());break;default:throw new Error("An unexpected error occurred. The MouseTool type is not known.");}var arC=this.aw.get_mouseTool();if(this.az!==az&&arC===gA){setTimeout(function(){T.trigger(PCCViewer.EventType.MouseToolChanged,{mouseToolName:T.az.getName()});},0);}this.az=az;if(hj){this.FP=hj.onCreating;this.hT=hj.onAdded;}else{this.FP=undefined;this.hT=undefined;}this.aw.set_mouseTool(gA);this.aw.set_allowMarkEdits((az.getType()===PCCViewer.MouseTool.Type.PanAndEdit));return this;};function VT(bQ,Qv,lk){if(bQ.AA!==true){var HT=function(){bQ.off('PageCountReady',HT);VT(bQ,Qv,lk);};bQ.on('PageCountReady',HT);return;}var aA=bQ;var wH;var ku={},vO={},qY=[];var gR=aA.dY;var jY;var aF;if(Qv){aF=Qv;}var age=[];var WM=aA.ac.get_pages();var aDg=function(aK,done){var aIA=false;var jD=aK;var ah=aK.get_pageNumber();var er=jD.get_pageWidth();var dV=jD.get_pageHeight();try{if(jD){var hA=aA.aw.hA(jD),CU=0,Ey=0,fk="",aIu=false;var getArt=function getArt(){var Og;if(aF&&aF.Fo&&aF.Fo[ah]){Og=IPCC.V.extend({},aF);Og.Fo=aF.Fo[ah];}else{Og=aF;}var aR,abj;var He=hA.aEh(ah,CU,Ey,Og);if(He.ku){ku[ah]=He.ku;}else{var ayz=aEr(ah,jY,Ey,CU);ku[ah]=ayz;}if(He.qY){for(aR=0;aR<He.qY.length;aR++){abj=He.qY[aR];vO[abj.aV.imageStampId]=abj;}}done();};if(hA){if(!er|| !dV){if(hA.get_markCount()>0){aA.aw.LL(aK,function(be,ba){CU=be;if(CU){jD.LE(CU);}Ey=ba;if(Ey){jD.Mw(Ey);}getArt();},function(nR){done(nR);});}else{getArt();}}else{CU=er;Ey=dV;getArt();}}else{done(new Error("No art page was found"));}}}catch(ex){done(new Error("Error while saving annotation, error:"+ex.message));}};WM.forEach(function(aK,bV,ir){age.push(function(done){aDg(aK,done);});});var ZB=function(bO,aK){var wN="";var C;if(!bO.fl){if(bO.toString()){return bO.toString();}else{return '<![CDATA[]]>';}}if((gR===1||aK===0||(aK>0&&bO.fl!=="documentAnnotations"&&bO.fl!=="pages"))&&bO.fl!=="highlights"){wN='<'+bO.fl;for(var AQ in bO.aV){if(bO.aV.hasOwnProperty(AQ)){var QZ=bO.aV[AQ];if(QZ===undefined||QZ===null){continue;}var aV=QZ.toString();aV=aV.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;');wN=wN+' '+AQ+'="'+aV+'"';}}wN+='>';}for(C=0;C<bO.dM.length;C++){wN+=ZB(bO.dM[C],aK);}if(gR===1||(aK===gR-1)||(aK!==gR-1&&bO.fl!=="documentAnnotations"&&bO.fl!=="pages"&&bO.fl!=="highlights")){if(bO.fl!=="highlights"){wN+='</'+bO.fl+'>';}else{wN+='<'+bO.fl+' />';}}return wN;};IPCC.V.ZY(age,function(cA){if(cA){lk(cA);return;}wH='<?xml version="1.0"?>';for(var C=0;C<(aA.dY);C++){wH=wH+ZB(ku[C],C);}var stampImageXml='';for(var FF in vO){if(vO.hasOwnProperty(FF)){stampImageXml+=ZB(vO[FF],1);}}if(stampImageXml.length){var stampImagesXml='<stampImages>'+stampImageXml+'</stampImages></documentAnnotations>';wH=wH.replace('</documentAnnotations>',stampImagesXml);}lk(undefined,wH);});};ViewerControl.prototype.saveMarkup=function(recordName,options){var aC=PCCViewer.Deferred();var bY=aC.getPromise();var aF;if(options){aF=options;}else{aF={includeAnnotations:true,includeRedactions:true,includeSignatures:false};}try{if(typeof recordName!=="string"){aC.reject(new PCCViewer.Error("InvalidArgument","The parameter, recordName, is not a String."));return bY;}if(!aoW(recordName)){aC.reject(new PCCViewer.Error("InvalidCharactersFilename",'Invalid characters in the annotations filename.'));return bY;}var aA=this;this.qn.then(function(ss){var xs=recordName;VT(aA,aF,function(err,wH){if(err){aC.reject(new PCCViewer.Error("Error",err));return bY;}var PD=IPCC.gJ.rA(xs);var aQ;if(!(/^[\x00-\x7F]*$/.test(aA.ac.get_documentIdentifier()))){aQ=aA.aF.imageHandlerUrl+'/Document/q/Art/q?DocumentID=e'+aA.aF.documentID+'&AnnotationID=e'+PD;}else{aQ=aA.aF.imageHandlerUrl+'/Document/q/Art/q?DocumentID=u'+encodeURIComponent(aA.aF.documentID)+'&AnnotationID=u'+encodeURIComponent(xs);}function ez(aM){aC.resolve(xs);setTimeout(function(){aA.trigger('MarkupSaved',{name:xs});},0);};function fz(ad){aC.reject(new PCCViewer.Error("AjaxError","Status Code "+ad.response.status+" "+ad.response.statusText));};PCCViewer.Ajax.fq({method:'POST',url:aQ,headers:{'Content-Type':'application/xml'},body:wH}).then(ez,fz);});});}catch(e){aC.reject(new PCCViewer.Error("Error",e.message));}return bY;};var aoW=function(recordName){return!/[\\\/:*?"<>|\x00-\x1f]/.test(recordName);};var Vp=function(kP){var am=kP.firstChild;while(am.nodeType!==1){am=am.nextSibling;}return am;};var aEr=function(dA,jY,dV,er){var ku={fl:'documentAnnotations',dM:[],aV:{}};var aks={fl:'pages',dM:[],aV:{}};ku.dM.push(aks);var jL={fl:'highlights',dM:[],aV:{}};var aK={fl:'page',dM:[],aV:{id:(dA+1).toString(),pageWidth:er,pageHeight:dV}};ku.dM.push(jL);try{if(jY){var am=jY.getElementsByTagName("documentAnnotations");if(am.length>1){throw 'ERROR: Invalid PCC annotations XML';}var Re;var GH;if(document.documentMode<9){var Tg=jY.firstChild.nodeName;if(Tg.toLowerCase()==='xml'){Re=jY.firstChild.nextSibling;}else{Re=jY.firstChild;}}else{Re=jY.firstChild;}var dI=Vp(Re);if(dI.nodeName!=='pages'){throw 'ERROR: Problem with pages node in the PCC annotations XML';}if(dI.hasChildNodes()){var C;var nh=false;for(C=0;C<dI.childNodes.length;C++){GH=dI.childNodes[C];if(GH.nodeName!=='page'){continue;}var Am=GH.getAttribute('id');nh=false;if(Am&&parseFloat(Am)===dA+1){nh=true;for(var aR=0;aR<GH.childNodes.length;aR++){var ag=GH.childNodes[aR];var aJ={fl:'annotation',dM:[],aV:{}};if(ag.nodeName!=='annotation'){continue;}var PF=GH.childNodes[aR].attributes;if(PF.length>0){for(var cO=0;cO<PF.length;cO++){aJ.aV[PF[cO].name]=PF[cO].value;}}if(ag.childNodes[0].data){aJ.dM.push('<![CDATA['+ag.childNodes[0].data+']]>');}else{aJ.dM.push('');}aK.dM.push(aJ);}break;}}}}aks.dM.push(aK);return ku;}catch(e){throw(e.message);}};ViewerControl.prototype.loadMarkup=function(recordName,options){var Fv=recordName;var aC=PCCViewer.Deferred(),bY=aC.getPromise(),aA=this;var aF=options||{};var yK=aF.retainExistingMarks;var jc=aF.markupLayer;var vU=aF.loadAsHidden;this.qn.then(function(ss){var aQ,PD,aw=aA.aw,dc=aA.dc;if(typeof Fv!=="string"){aC.reject(new PCCViewer.Error("InvalidArgument","The parameter, recordName, is not a String."));}if(yK!==undefined){if(typeof yK!=='boolean'){aC.reject(new PCCViewer.Error('InvalidArgument','The parameter `retainExistingMarks` must be a boolean value if it is specified.'));}}if(jc!==undefined){if(!(jc instanceof PCCViewer.MarkupLayer)){aC.reject(new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` must be an instance of PCCViewer.MarkupLayer if it is specified.'));}if(aA.pl.getItem(jc.getId())===undefined){aC.reject(new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` is a markup layer unknown to the viewer.'));}}function ez(aM){var abo,Nx=aM.responseText,KK;if(Nx.indexOf('xml')=== -1){aC.reject(new PCCViewer.Error("InvalidAnnotationRecord","Did not receive valid annotation record from web server."));return;}Nx=Nx.replace(/(comment\s+text=")((?:.|[\r\n])*?)("\s+created=")/g,function(match,p1,p2,p3){return p1+IPCC.V.qO(p2)+p3;});if(window.DOMParser){KK=function(xmlStr){return(new window.DOMParser()).parseFromString(xmlStr,"text/xml");};}else if(typeof window.ActiveXObject!=="undefined"&&new window.ActiveXObject("Microsoft.XMLDOM")){KK=function(xmlStr){var xmlDoc=new window.ActiveXObject("Microsoft.XMLDOM");xmlDoc.async="false";xmlDoc.loadXML(xmlStr);return xmlDoc;};}else{KK=function(){return null;};}abo=KK(Nx);var ajk=abo.getElementsByTagName('stampImage');var qY={};var aaJ=function(bv){R.bo.push(aex.getPoint(bv));};for(var C=0;C<ajk.length;C++){var SM=ajk[C];qY[SM.getAttribute('imageStampId')]={imageStampId:SM.getAttribute('imageStampId'),base64format:SM.getAttribute('base64format')};}aw.set_annotationXmlDom(abo,qY,yK===true,vU===true);if(yK!==true){aA.cw={};}var da=aA.dc.get_length();var R;var aD,eP;var wB={};var JD=[];for(C=0;C<da;C++){var aG=aA.aw.hA(aA.dc.getPage(C));if(aG){var Dh={};var aR=0;for(aR=0;aR<aG.get_markCount();aR++){var L=aG.getMark(aR);if(aA.cw[L.get_markID()]!==undefined){continue;}eP=L.get_type();switch(eP){case IPCC.Web.UI.MarkType.Rectangle:if(L.lu()===true){if(L.get_opacity()===255){aD=PCCViewer.Mark.Type.RectangleRedaction;}else{aD=PCCViewer.Mark.Type.TransparentRectangleRedaction;}R=new PCCViewer.Mark({type:aD,igMark:L,pageNumber:C+1,uid:L.aV.iF});}else{aD=PCCViewer.Mark.Type.RectangleAnnotation;R=new PCCViewer.Mark({type:aD,igMark:L,pageNumber:C+1,uid:L.aV.iF});R.mU=L.get_lineWidth();R.dP=L.get_fillColor();R.nZ=L.get_lineColor();R.cz=L.get_opacity();}break;case IPCC.Web.UI.MarkType.Ellipse:aD=PCCViewer.Mark.Type.EllipseAnnotation;R=new PCCViewer.Mark({type:aD,igMark:L,pageNumber:C+1,uid:L.aV.iF});R.mU=L.get_lineWidth();R.dP=L.get_fillColor();R.nZ=L.get_lineColor();R.cz=L.get_opacity();break;case IPCC.Web.UI.MarkType.Line:aD=PCCViewer.Mark.Type.LineAnnotation;R=new PCCViewer.Mark({type:aD,igMark:L,pageNumber:C+1,uid:L.aV.iF});R.nI=L.get_lineWidth();R.cW=L.get_lineColor();R.cz=L.get_opacity();if(L.get_endHeadType()===IPCC.Web.UI.LineHeadType.Solid){R.pj="FilledTriangle";}else{R.pj="None";}break;case IPCC.Web.UI.MarkType.Stamp:if(L.lu()===true){aD=PCCViewer.Mark.Type.StampRedaction;R=new PCCViewer.Mark({type:aD,igMark:L,pageNumber:C+1,uid:L.aV.iF});}else{aD=PCCViewer.Mark.Type.StampAnnotation;R=new PCCViewer.Mark({type:aD,igMark:L,pageNumber:C+1,uid:L.aV.iF});R.cW=L.get_fillColor();}R.tF=L.get_text();break;case IPCC.Web.UI.MarkType.Text:if(L.lu()===true){aD=PCCViewer.Mark.Type.TextRedaction;R=new PCCViewer.Mark({type:aD,igMark:L,pageNumber:C+1,uid:L.aV.iF});}else{aD=PCCViewer.Mark.Type.TextAnnotation;R=new PCCViewer.Mark({type:aD,igMark:L,pageNumber:C+1,uid:L.aV.iF});R.mU=L.get_lineWidth();R.dP=L.get_fillColor();R.nZ=L.get_lineColor();R.cz=L.get_opacity();}R.gN=L.get_maxLength();R.gl=L.get_fontName();R.gn=L.get_textColor();R.co=L.get_fontSize();var du=L.get_fontStyle();var sG=[];if((du&IPCC.Web.UI.FontStyle.Bold)===IPCC.Web.UI.FontStyle.Bold){sG.push("Bold");}if((du&IPCC.Web.UI.FontStyle.Italic)===IPCC.Web.UI.FontStyle.Italic){sG.push("Italic");}if((du&IPCC.Web.UI.FontStyle.Strikeout)===IPCC.Web.UI.FontStyle.Strikeout){sG.push("Strikeout");}if((du&IPCC.Web.UI.FontStyle.Underline)===IPCC.Web.UI.FontStyle.Underline){sG.push("Underline");}R.du=sG;var oQ;switch(L.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:oQ="center";break;case IPCC.Web.UI.HorizontalAlignment.Left:oQ="left";break;case IPCC.Web.UI.HorizontalAlignment.Right:oQ="right";break;}R.nk=oQ;break;case IPCC.Web.UI.MarkType.TextAreaSignature:aD=PCCViewer.Mark.Type.TextAreaSignature;R=new PCCViewer.Mark({type:aD,igMark:L,pageNumber:C+1,uid:L.aV.iF});R.mU=L.get_lineWidth();R.gN=L.get_maxLength();R.gl=L.get_fontName();R.gn=L.get_textColor();R.hX=L.get_maxFontSize();du=L.get_fontStyle();sG=[];if((du&IPCC.Web.UI.FontStyle.Bold)===IPCC.Web.UI.FontStyle.Bold){sG.push("Bold");}if((du&IPCC.Web.UI.FontStyle.Italic)===IPCC.Web.UI.FontStyle.Italic){sG.push("Italic");}if((du&IPCC.Web.UI.FontStyle.Strikeout)===IPCC.Web.UI.FontStyle.Strikeout){sG.push("Strikeout");}if((du&IPCC.Web.UI.FontStyle.Underline)===IPCC.Web.UI.FontStyle.Underline){sG.push("Underline");}R.du=sG;switch(L.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:oQ="center";break;case IPCC.Web.UI.HorizontalAlignment.Left:oQ="left";break;case IPCC.Web.UI.HorizontalAlignment.Right:oQ="right";break;}R.nk=oQ;break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:aD=(eP===IPCC.Web.UI.MarkType.HighlightText)?PCCViewer.Mark.Type.HighlightAnnotation:(eP===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)?PCCViewer.Mark.Type.TextHyperlinkAnnotation:(eP===IPCC.Web.UI.MarkType.Strikethrough)?PCCViewer.Mark.Type.StrikethroughAnnotation:PCCViewer.Mark.Type.TextSelectionRedaction;var ZI=L.bn;if(typeof wB[ZI]==='undefined'){R=new PCCViewer.Mark({type:aD,igMark:L,pageNumber:C+1,dc:dc,aw:aw,uid:L.aV.iF});R.dN=[];if(aD===PCCViewer.Mark.Type.HighlightAnnotation){R.dP=L.get_fillColor();}wB[ZI]=R;L.aU=C;L.kZ=true;}else{L.aU=C;wB[ZI].dN.push(L);}break;case IPCC.Web.UI.MarkType.Freehand:aD=PCCViewer.Mark.Type.FreehandAnnotation;R=new PCCViewer.Mark({type:aD,igMark:L,pageNumber:C+1,uid:L.aV.iF});R.nI=L.get_lineWidth();R.cW=L.get_lineColor();R.cz=L.get_opacity();break;case IPCC.Web.UI.MarkType.SignaturePath:aD=PCCViewer.Mark.Type.FreehandSignature;R=new PCCViewer.Mark({type:aD,igMark:L,pageNumber:C+1,uid:L.aV.iF});R.nI=L.get_lineWidth();R.cW=L.get_lineColor();break;case IPCC.Web.UI.MarkType.SignatureText:aD=PCCViewer.Mark.Type.TextSignature;R=new PCCViewer.Mark({type:aD,igMark:L,pageNumber:C+1,uid:L.aV.iF});R.gl=L.get_fontName();R.cW=L.get_fillColor();R.aO=L.get_text();break;case IPCC.Web.UI.MarkType.TextLine:aD=PCCViewer.Mark.Type.TextInputSignature;R=new PCCViewer.Mark({type:aD,igMark:L,pageNumber:C+1,uid:L.aV.iF});R.gl=L.get_fontName();R.gn=L.get_textColor();R.aO=L.get_text();R.gN=L.get_maxLength();R.jv=L.get_mask();break;case IPCC.Web.UI.MarkType.RectangleRedaction:if(!L.bn){aD=PCCViewer.Mark.Type.RectangleRedaction;R=new PCCViewer.Mark({type:aD,igMark:L,pageNumber:C+1,dc:dc,aw:aw,uid:L.aV.iF});R.mU=L.get_lineWidth();R.dP=L.get_fillColor();R.nZ=L.get_lineColor();R.cz=L.get_opacity();}else{if(Dh[L.bn]===undefined){Dh[L.bn]=[];}Dh[L.bn].push(L);}break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:aD=(eP===IPCC.Web.UI.MarkType.ImageStampAnnotation)?PCCViewer.Mark.Type.ImageStampAnnotation:PCCViewer.Mark.Type.ImageStampRedaction;R=new PCCViewer.Mark({type:aD,igMark:L,pageNumber:C+1,uid:L.aV.iF});R.setImage({dataUrl:L.get_image(),id:L.pD});break;case IPCC.Web.UI.MarkType.Polyline:aD=PCCViewer.Mark.Type.PolylineAnnotation;R=new PCCViewer.Mark({type:aD,igMark:L,pageNumber:C+1,uid:L.aV.iF});R.nI=L.get_lineWidth();R.cW=L.get_lineColor();R.cz=L.get_opacity();var aex=L.get_points();R.bo=[];for(var bC=0;bC<aex.get_length();bC++){aaJ(bC);}break;default:R=undefined;continue;}if(typeof R!=='undefined'&&eP!==IPCC.Web.UI.MarkType.HighlightText&& !(eP===IPCC.Web.UI.MarkType.RectangleRedaction&&L.bn!==undefined)&&eP!==IPCC.Web.UI.MarkType.TextSelectionRedaction&&eP!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation&&eP!==IPCC.Web.UI.MarkType.Strikethrough){aA.cw[L.get_markID()]=R;JD.push(R);}}for(var NG in Dh){if(Dh.hasOwnProperty(NG)&&wB[NG]){var Ft=wB[NG];var anq=Ft.L;if(Ft.dN&&Ft.dN.length>0){for(var Mf=0;Mf<Ft.dN.length;Mf++){if(Ft.dN[Mf].aU===C){anq=Ft.dN[Mf];}}}var aI=Dh[NG];for(var VN=0;VN<aI.length;VN++){anq.aI.push(aI[VN]);}}}}}for(var oP in wB){if(wB.hasOwnProperty(oP)){var xc=wB[oP];aA.cw[xc.L.get_markID()]=xc;JD.push(xc);if(xc.dN&&xc.dN.length>0){xc.dN[xc.dN.length-1].lj=true;}else{xc.L.lj=true;}}}aC.resolve(Fv);if(jc!==undefined){jc.addMarks(JD);}else{aA.getActiveMarkupLayer().addMarks(JD);}aA.trigger('MarkupLoaded',{name:Fv,loadedMarks:JD});};function fz(ad){aC.reject(new PCCViewer.Error("Error","Status Code "+ad.response.status+" "+ad.response.statusText));};PD=IPCC.gJ.rA(Fv);if(!(/^[\x00-\x7F]*$/.test(aA.ac.get_documentIdentifier()))){aQ=aA.aF.imageHandlerUrl+'/Document/q/Art/q?DocumentID=e'+aA.aF.documentID+'&AnnotationID=e'+PD;}else{aQ=aA.aF.imageHandlerUrl+'/Document/q/Art/q?DocumentID=u'+encodeURIComponent(aA.aF.documentID)+'&AnnotationID=u'+encodeURIComponent(Fv);}PCCViewer.Ajax.fq({method:'GET',url:aQ,headers:{'Content-Type':'application/x-www-form-urlencoded'}}).then(ez,fz);});return bY;};function acK(context,message){var qj=document.createElement('div'),DU=document.createElement('div'),mi=document.createElement('button'),SB=function(){qj.classList.add('open');},OW=function(){qj.remove();};mi.innerHTML='&#215;';mi.setAttribute('type','button');DU.innerHTML='<p>Because no license is installed, PrizmDoc Viewer is running in a limited evaluation mode. <b>'+message+'</b>';qj.className='pccPageListNagModal';qj.appendChild(mi);qj.appendChild(DU);context.dO.append(qj);SB();if(!mi.addEventListener){mi.attachEvent('onclick',OW);}else{mi.addEventListener('click',OW,false);}};ViewerControl.prototype.getSavedMarkupNames=function(){var aC=PCCViewer.Deferred();var bY=aC.getPromise();var T=this;try{var C=0,GV=0;var xs='';var aQ=this.aF.imageHandlerUrl+'/AnnotationList/q/Art/q?DocumentID=u'+encodeURIComponent(this.aF.documentID)+'&AnnotationID=u'+encodeURIComponent(xs);var ez=function(aM){var ru;if(typeof aM.responseText!=='unknown'&&aM.responseText.length>0){try{ru=JSON.parse(aM.responseText);}catch(e){}}var Xg=[],GV=0;for(var C=0,cI=ru.annotationFiles.length;C<cI;C++){if(ru.annotationFiles[C].annotationLabel){Xg[GV]={};Xg[GV].name=ru.annotationFiles[C].annotationLabel;GV++;}}aC.resolve(Xg);};var fz=function(ad){var error=new PCCViewer.Error("MarkupListFail","Unable to retrieve markup list from server.");if(ad&&ad.response){var hL=ad.response.status;var mX;try{mX=JSON.parse(ad.response.responseText);}catch(e){}if(hL===480&&mX&&mX.errorCode==='LicenseCouldNotBeVerified'){acK(T,'Loading is disabled in evaluation mode.');error=new PCCViewer.Error(mX.errorCode,"License error.");}}aC.reject(error);};PCCViewer.Ajax.fq({method:'GET',url:aQ}).then(ez,fz);}catch(e){aC.reject(new PCCViewer.Error("Error",e.message));}return bY;};ViewerControl.prototype.getMarkupLayerCollection=function(){if(!this.pl){this.pl=new PCCViewer.MarkupLayerCollection(this);}return this.pl;};ViewerControl.prototype.requestMarkupLayerNames=function(metadata){var aC=PCCViewer.Deferred(),bY=aC.getPromise(),aQ,aAL=function(obj){var parts=[];for(var key in obj){if(obj.hasOwnProperty(key)&&(typeof obj[key]==='string'||typeof obj[key]==='boolean'||typeof obj[key]==='number')){parts.push(encodeURIComponent(key)+'='+encodeURIComponent(obj[key]));}}return "?"+parts.join('&');};if(!(/^[\x00-\x7F]*$/.test(this.ac.get_documentIdentifier()))){aQ=this.aF.imageHandlerUrl+'/MarkupLayers/e'+this.aF.documentID+'/';}else{aQ=this.aF.imageHandlerUrl+'/MarkupLayers/u'+encodeURIComponent(this.aF.documentID)+'/';}if(metadata){var aAW=aAL(metadata);aQ+=aAW;}aQ+='?nocache='+new Date().getTime();PCCViewer.Ajax.fq({url:aQ,method:'GET'}).then(function ez(aM){var aCZ=JSON.parse(aM.responseText);aC.resolve(aCZ);},function fz(ad){aC.reject(ad.error);});return bY;};ViewerControl.prototype.getActiveMarkupLayer=function(){return this.un;};ViewerControl.prototype.setActiveMarkupLayer=function(markupLayer){if(!(markupLayer instanceof PCCViewer.MarkupLayer)){throw new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` must be an instance of PCCViewer.MarkupLayer.');}if(this.pl.getItem(markupLayer.getId())===undefined){throw new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` is a markup layer unknown to the viewer.');}this.un=markupLayer;};ViewerControl.prototype.loadMarkupLayers=function(layerRecordIds,options){var Yh,T=this;Yh=new PCCViewer.LoadMarkupLayersRequest(layerRecordIds,this,options||{});function wy(){setTimeout(function(){Yh.CF();},20);};function mO(){T.off(PCCViewer.EventType.PageCountReady,mO);wy();};if(this.oU===false){T.on(PCCViewer.EventType.PageCountReady,mO);}else{wy();}return Yh;};ViewerControl.prototype.saveMarkupLayer=function(id){var aC=PCCViewer.Deferred();var bY=aC.getPromise();var T=this;if(typeof id!=='string'|| !id){aC.reject(new PCCViewer.Error('InvalidArgument','The parameter `id` is not a string.'));return bY;}var dS=this.pl?this.pl.getItem(id):undefined;if(!dS){aC.reject(new PCCViewer.Error('UnknownLayerRecord','The layer record '+id+' is not known to ViewerControl'));return bY;}function ayp(qL){var Mx=dS.getMarks();if(!Mx.length){qL(undefined,[]);}else{T.serializeMarks(Mx).then(function gZ(aT){qL(undefined,IPCC.V.map(aT,function(R){if(R.conversation&&R.conversation.comments){delete R.conversation.comments;}return R;}));},function _f(fk){qL(fk);});}};function axP(qL){var Mx=dS.getMarks();var Xe=function(ft,hH,ld){var Sh=IPCC.V.filter(hH,function(nT){return!nT.jc||nT.jc===dS;});IPCC.V.forEach(Sh,function(bZ){var aY=fe.Comment(bZ);aY.markUid=ld;ft.push(aY);});return ft;};var Rs=IPCC.V.reduce(Mx,function(ft,R){var dC=R.getConversation();var hH=dC.getComments();return hH.length?Xe(ft,hH,R.getUid()):ft;},[]);qL(undefined,Rs);};function axH(qL){var auL=IPCC.V.reduce(T.pl.getAll(),function(ft,aiV){return ft.concat(dS===aiV?[]:aiV.getMarks());},[]);var Xe=function(ft,hH,ld){var Sh=IPCC.V.filter(hH,function(nT){return nT.jc===dS;});IPCC.V.forEach(Sh,function(nT){var aY=fe.Comment(nT);aY.markUid=ld;ft.push(aY);});return ft;};var Rs=IPCC.V.reduce(auL,function(ft,R){var dC=R.getConversation();var hH=dC.getComments();return hH.length?Xe(ft,hH,R.getUid()):ft;},[]);qL(undefined,Rs);};var aeY=[],apz=function(qT){if(qT.markupLayer===dS){aeY.push({text:qT.text,data:qT.data,creationDateTime:qT.creationDateTime,markUid:qT.markUid});}};for(var ahW in this.pl.iX){if(this.pl.iX.hasOwnProperty(ahW)){IPCC.V.forEach(this.pl.iX[ahW],apz);}}var Bs={layerRecordId:dS.getRecordId(),name:dS.getName(),originalXmlName:dS.getOriginalXmlName(),comments:aeY,data:fe.Data(dS)};var xJ;IPCC.V.ZY([function(lH){ayp(function(cA,cT){if(cA&& !xJ){xJ=cA;}else{Bs.marks=cT;}lH();});},function(lH){axP(function(cA,cT){if(cA&& !xJ){xJ=cA;}else{Bs.comments=Bs.comments.concat(cT);}lH();});},function(lH){axH(function(cA,cT){if(cA&& !xJ){xJ=cA;}else{Bs.comments=Bs.comments.concat(cT);}lH();});}],function(){if(!xJ){ayV(Bs);}else{aC.reject(new PCCViewer.Error('SerializationError',xJ.message));}});function ayV(aGI){var Ng,hs={method:'POST',body:JSON.stringify(Bs),headers:{'Content-Type':'application/json'}};if(!(/^[\x00-\x7F]*$/.test(T.ac.get_documentIdentifier()))){Ng=T.aF.imageHandlerUrl+'/MarkupLayers/e'+T.aF.documentID+'/';}else{Ng=T.aF.imageHandlerUrl+'/MarkupLayers/u'+encodeURIComponent(T.aF.documentID)+'/';}if(dS.getRecordId()){hs.url=Ng+dS.getRecordId();hs.headers['X-HTTP-Method-Override']='PUT';}else{hs.url=Ng;}PCCViewer.Ajax.fq(hs).then(ez,fz);};function ez(aM){if(aM.responseText&&typeof aM.responseText==='string'){var mX;try{mX=JSON.parse(aM.responseText);}catch(e){}if(mX&&mX.layerRecordId){dS.Uy=mX.layerRecordId;}}aC.resolve({layerRecordId:dS.getRecordId()});};function fz(ad){var error=new PCCViewer.Error("AjaxError",ad.error.message||'An unknown server error occurred.');if(ad&&ad.response){var hL=ad.response.status;var mX;try{mX=JSON.parse(ad.response.responseText);}catch(e){}if(hL===480&&mX&&mX.errorCode==='LicenseCouldNotBeVerified'){acK(T,'Saving is disabled in evaluation mode.');error=new PCCViewer.Error(mX.errorCode,'License error.');}}aC.reject(error);};return bY;};ViewerControl.prototype.burnMarkup=function(burnOptions){var me={burnSignatures:true,burnRedactions:true,burnAnnotations:false};var IW;var afP;var Wa;var aGe=false;if(burnOptions){if(typeof burnOptions.marks==='object'){if(burnOptions.marks instanceof PCCViewer.Mark){IW=[burnOptions.marks];}else if(burnOptions.marks instanceof Array){IW=burnOptions.marks;}me={marks:IW};}else{me.burnSignatures=(burnOptions.burnSignatures!==undefined)? ! !burnOptions.burnSignatures:me.burnSignatures;me.burnRedactions=(burnOptions.burnRedactions!==undefined)? ! !burnOptions.burnRedactions:me.burnRedactions;me.burnAnnotations=(burnOptions.burnAnnotations!==undefined)? ! !burnOptions.burnAnnotations:me.burnAnnotations;}if(typeof burnOptions.filename==='string'){me.filename=burnOptions.filename;}if(burnOptions.removeFormFields!==undefined){if(burnOptions.removeFormFields instanceof Array){if(burnOptions.removeFormFields.length>0){var ND,Gh=true;for(ND=0;ND<burnOptions.removeFormFields.length;ND++){if(burnOptions.removeFormFields[ND]!=='acroform'){Gh=false;}}if(Gh){me.removeFormFields=['acroform'];}else{me.nR={code:'InvalidArgument',message:'The burnOptions.removeFormFields parameter contains an invalid form type.'};}}else{me.nR={code:'InvalidArgument',message:'The burnOptions.removeFormFields parameter must specify a valid form type.'};}}else{me.nR={code:'InvalidArgument',message:'The burnOptions.removeFormFields parameter must be an Array if defined.'};}}}var zg=new PCCViewer.BurnRequest(me),T=this;if(IW){var ef=[];for(var C=0,cI=this.getPageCount();C<cI;C++){ef[C]=[];}ef=IPCC.V.reduce(IW,function(aT,aS){var ah=aS.getPageNumber()-1;if(!(typeof aS==='object'&&aS instanceof PCCViewer.Mark&&aS.L)){zg.Tq(new Error('The burnOptions.marks parameter is an invalid object.'));return aT;}if(!T.getMarkById(aS.dr)){zg.Tq(new Error('The burnOptions.marks parameter contains a mark not known to Viewer Control.'));return aT;}aT[ah].push(aS.L);if(aS.L.aI){for(var C=0,cI=aS.L.aI.length;C<cI;C++){if(aS.L.aI[C]instanceof IPCC.Web.UI.Mark){aT[ah].push(aS.L.aI[C]);}}}if(aS.dN){for(var aR=0,aEm=aS.dN.length;aR<aEm;aR++){aT[ah+1+aR].push(aS.dN[aR]);if(aS.dN[aR].aI){for(var cO=0,aEl=aS.dN[aR].aI.length;cO<aEl;cO++){if(aS.dN[aR].aI[cO]instanceof IPCC.Web.UI.Mark){aT[ah+1+aR].push(aS.dN[aR].aI[cO]);}}}}}return aT;},ef);Wa={Fo:ef,vg:true};}else{Wa={includeAnnotations:me.burnAnnotations,includeRedactions:me.burnRedactions,includeSignatures:me.burnSignatures,vg:true};}function adu(){VT(T,Wa,function(cA,afP){if(cA){setTimeout(function(){zg.Tq(cA);},20);}else{zg.Mv({ac:T.ac,aF:T.aF});zg.apK(afP);setTimeout(function(){zg.CF();},20);}});};function mO(){T.off(PCCViewer.EventType.PageCountReady,mO);adu();};if(this.oU===false){T.on(PCCViewer.EventType.PageCountReady,mO);}else{adu();}return zg;};ViewerControl.prototype.convertDocument=function(Ti){var ur,T=this,AB={targetExtension:'pdf',filename:'document'},aF={};rK.rz(aF,AB,Ti);aF.Af=1;ur=new PCCViewer.ConversionRequest(aF);function wy(){ur.Mv({ac:T.ac,aF:T.aF});setTimeout(function(){ur.CF(aF);},20);};function mO(){T.off(PCCViewer.EventType.PageCountReady,mO);wy();};if(this.oU===false){T.on(PCCViewer.EventType.PageCountReady,mO);}else{wy();}return ur;};ViewerControl.prototype.requestDocumentConversion=function(Ti){var ur,T=this,AB={targetExtension:'pdf',filename:'document'},aF={};rK.rz(aF,AB,Ti);aF.Af=2;ur=new PCCViewer.ConversionRequest(aF);function wy(){ur.Mv({ac:T.ac,aF:T.aF});setTimeout(function(){ur.CF(aF);},20);};function mO(){T.off(PCCViewer.EventType.PageCountReady,mO);wy();};if(this.oU===false){T.on(PCCViewer.EventType.PageCountReady,mO);}else{wy();}return ur;};ViewerControl.prototype.loadAttachments=function(){var aC=PCCViewer.Deferred();var bY=aC.getPromise();try{var C=0,GV=0;var xs='';var aQ=this.aF.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(this.aF.documentID)+'/Attachments';var aAc=function(aM){var Ff=JSON.parse(aM.responseText);if(Ff===null||Ff.status!=='complete'){setTimeout(alr,500);return;}aC.resolve(Ff.attachments||[]);};var fz=function(ad){aC.reject(new PCCViewer.Error("AttachmentListFail","Unable to retrieve attachment list from server."));};var alr=function(){PCCViewer.Ajax.fq({method:'GET',url:aQ}).then(aAc,fz);};alr();}catch(e){aC.reject(new PCCViewer.Error("Error",e.message));}return bY;};function rU(){return function(sender,eventArgs){var T=this;var R=T.cw[eventArgs.mark.get_markID()];if(T.sT){T.un.addMarks(R);}setTimeout(function(){if(R){T.trigger('MarkCreated',{mark:R,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});}},0);};};function avf(by){return{onCreating:function(bM,K){var R=new PCCViewer.Mark({type:by.getType(),igMark:K.mark,pageNumber:K.pageIndex+1});this.cw[K.mark.get_markID()]=R;R.setThickness(by.getThickness());R.setColor(by.getColor());R.setOpacity(by.getOpacity());R.setEndHeadType(by.getEndHeadType());PCCViewer.Data.oq(by,R);PCCViewer.Conversation.pR(by.getConversation(),R.getConversation());},onAdded:rU()};};function adR(by){return{onCreating:function(bM,K){var R=new PCCViewer.Mark({type:by.getType(),igMark:K.mark,pageNumber:K.pageIndex+1});this.cw[K.mark.get_markID()]=R;R.setBorderThickness(by.getBorderThickness());R.setFillColor(by.getFillColor());R.setBorderColor(by.getBorderColor());R.setOpacity(by.getOpacity());PCCViewer.Data.oq(by,R);PCCViewer.Conversation.pR(by.getConversation(),R.getConversation());},onAdded:rU()};};function axB(by){return{onCreating:function(bM,K){var R=new PCCViewer.Mark({type:by.getType(),igMark:K.mark,pageNumber:K.pageIndex+1});this.cw[K.mark.get_markID()]=R;},onAdded:rU()};};function ayO(by){return{onCreating:function(bM,K){var R=new PCCViewer.Mark({type:by.getType(),igMark:K.mark,pageNumber:K.pageIndex+1});this.cw[K.mark.get_markID()]=R;R.setReason(by.getReason());R.setBorderThickness(by.getBorderThickness());R.setFillColor(by.getFillColor());R.setBorderColor(by.getBorderColor());R.setFontColor(by.getFontColor());PCCViewer.Data.oq(by,R);PCCViewer.Conversation.pR(by.getConversation(),R.getConversation());},onAdded:rU()};};function ayg(by){return{onCreating:function(bM,K){var R=new PCCViewer.Mark({type:by.getType(),igMark:K.mark,pageNumber:K.pageIndex+1});this.cw[K.mark.get_markID()]=R;R.setBorderThickness(by.getBorderThickness());R.setFillColor(by.getFillColor());R.setBorderColor(by.getBorderColor());R.setOpacity(by.getOpacity());R.setFontName(by.getFontName());R.setFontColor(by.getFontColor());R.setFontSize(by.getFontSize());R.setFontStyle(by.getFontStyle());R.setHorizontalAlignment(by.getHorizontalAlignment());PCCViewer.Data.oq(by,R);PCCViewer.Conversation.pR(by.getConversation(),R.getConversation());},onAdded:rU()};};function WF(by){return{onCreating:function(bM,K){var R=new PCCViewer.Mark({type:by.getType(),igMark:K.mark,pageNumber:K.pageIndex+1});this.cw[K.mark.get_markID()]=R;R.setFontName(by.getFontName());R.setFontColor(by.getFontColor());R.setText(by.getText());if(R.setFontSize){R.setFontSize(by.getFontSize());}PCCViewer.Data.oq(by,R);PCCViewer.Conversation.pR(by.getConversation(),R.getConversation());},onAdded:rU()};};function ayx(by){return{onCreating:function(bM,K){var R=new PCCViewer.Mark({type:by.getType(),igMark:K.mark,pageNumber:K.pageIndex+1});this.cw[K.mark.get_markID()]=R;if(by.getType()===PCCViewer.MouseTool.Type.StampAnnotation){R.setColor(by.getColor());}R.setLabel(by.getLabel());PCCViewer.Data.oq(by,R);PCCViewer.Conversation.pR(by.getConversation(),R.getConversation());},onAdded:rU()};};var aHE;function OU(by){return{onCreating:function(bM,K){},onAdded:rU()};};function awl(by){return{onCreating:function(bM,K){var R=new PCCViewer.Mark({type:by.getType(),igMark:K.mark,pageNumber:K.pageIndex+1});this.cw[K.mark.get_markID()]=R;R.setThickness(by.getThickness());R.setColor(by.getColor());R.setOpacity(by.getOpacity());PCCViewer.Data.oq(by,R);PCCViewer.Conversation.pR(by.getConversation(),R.getConversation());},onAdded:rU()};};function acl(by){return{onCreating:function(bM,K){var R=new PCCViewer.Mark({type:by.getType(),igMark:K.mark,pageNumber:K.pageIndex+1});this.cw[K.mark.get_markID()]=R;R.setImage(by.getImage());PCCViewer.Data.oq(by,R);PCCViewer.Conversation.pR(by.getConversation(),R.getConversation());},onAdded:rU()};};function awj(by){return{onCreating:function(bM,K){var R=new PCCViewer.Mark({type:by.getType(),igMark:K.mark,pageNumber:K.pageIndex+1});this.cw[K.mark.get_markID()]=R;R.setThickness(by.getThickness());R.setColor(by.getColor());R.setOpacity(by.getOpacity());PCCViewer.Data.oq(by,R);PCCViewer.Conversation.pR(by.getConversation(),R.getConversation());},onAdded:rU()};};ViewerControl.prototype.setMarkHandleMode=function(markHandleMode){var wX;switch(markHandleMode){case PCCViewer.MarkHandleMode.HideCornerHandlesWhenClose:wX=IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose;break;case PCCViewer.MarkHandleMode.HideSideHandlesWhenClose:wX=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;break;default:throw new RangeError("The value of markHandleMode is not a supported value.");}if(this.aw&&this.aw.set_markHandleMode){this.aw.set_markHandleMode(wX);}else{this.aF.markHandleMode=wX;}return this;};ViewerControl.prototype.getMarkHandleMode=function(){var wX;if(this.aw&&this.aw.get_markHandleMode){wX=this.aw.get_markHandleMode();}else{wX=this.aF.markHandleMode;}if(wX===IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose){return PCCViewer.MarkHandleMode.HideCornerHandlesWhenClose;}else{return PCCViewer.MarkHandleMode.HideSideHandlesWhenClose;}};ViewerControl.prototype.setConversationDOMFactory=function(factoryFunction){if(typeof(factoryFunction)!=='function'){throw new Error("The parameter factoryFunction is not a function.");}this.lC=factoryFunction;return this;};ViewerControl.prototype.getConversationDOMFactory=function(){return this.lC;};ViewerControl.prototype.refreshConversations=function(conversations){var TU,aeg=(conversations===undefined);function aki(dC,bV){throw new Error(dC+((bV!==undefined)?' (Array index '+bV+')':'')+' is not a valid PCCViewer.Conversation object.');};function ayj(dC,bV){throw new Error(dC+((bV!==undefined)?' (Array index '+bV+')':'')+' is not a known conversation in this ViewerControl.');};if(conversations instanceof PCCViewer.Conversation){TU=[conversations];}else if(conversations instanceof Array){TU=conversations;}else if(!aeg){aki(conversations);}var adM=IPCC.V.map(this.getAllMarks(),function(aS){return aS.getConversation();});var YC=IPCC.V.map(TU||adM,function(aS,C){if(!(aS instanceof PCCViewer.Conversation)){aki(aS,C);}if(!aeg&& !IPCC.V.inArray(adM,aS)){ayj(aS,C);}return aS.getMark().dr;});this.aw.refreshConversations(YC);return this;};ViewerControl.prototype.openCommentsPanel=function(){if(this.eh===false){throw new Error("The method openCommentsPanel is not available until 'ViewerReady' state is reached.");}if(this.getPageLayout()===PCCViewer.PageLayout.Horizontal){throw new Error("The page layout must be set to vertical to use the comments panel.");}this.aw.openCommentsPanel();var T=this;setTimeout(function(){T.trigger("CommentsPanelToggled",{isOpen:true});},10);return this;};ViewerControl.prototype.closeCommentsPanel=function(){if(this.eh===false){throw new Error("The method closeCommentsPanel is not available until 'ViewerReady' state is reached.");}this.aw.closeCommentsPanel();var T=this;setTimeout(function(){T.trigger("CommentsPanelToggled",{isOpen:false});},10);return this;};ViewerControl.prototype.getIsCommentsPanelOpen=function(){if(this.eh===false){throw new Error("The method getIsCommentsPanelOpen is not available until 'ViewerReady' state is reached.");}if(this.getPageLayout()===PCCViewer.PageLayout.Horizontal){return false;}return this.aw.get_isCommentsPanelOpen();};ViewerControl.prototype.setSelectedConversation=function(conversation){if(this.eh===false){throw new Error("The method setSelectedConversation is not available until 'ViewerReady' state is reached.");}if(conversation===null||conversation===undefined){this.aw.set_selectedConversation(undefined);return this;}if(!(conversation instanceof PCCViewer.Conversation)){throw new Error("The parameter conversation is not an instance of PCCViewer.Conversation.");}var kq=conversation.getMark();if(kq){var yO=kq.L.get_conversation();this.aw.set_selectedConversation(yO);}else{throw new Error("The conversation is unknown to the viewer control.");}return this;};ViewerControl.prototype.getSelectedConversation=function(){if(this.eh===false){return null;}var iG=this.aw.get_selectedConversation();if(iG){var kq=this.cw[iG.get_mark().get_markID()];if(kq){return kq.getConversation();}}return null;};ViewerControl.prototype.clearMouseSelectedText=function(textSelection){if(!textSelection){throw new Error('textSelection is a required parameter');}else if(typeof textSelection.startIndex!=='number'||textSelection.startIndex<0){throw new Error('Start index value '+textSelection.startIndex+' is not a valid value.');}else if(typeof textSelection.pageNumber!=='number'||textSelection.pageNumber<1||textSelection.pageNumber>this.getPageCount()){throw new Error('Page number value '+textSelection.pageNumber+' is not a valid value.');}else if(typeof textSelection.length!=='number'||textSelection.length<1){throw new Error('Length value '+textSelection.pageNumber+' is not a valid value.');}var T=this,zb=T.aX;function ahD(aU,ik,da){var WT=[aU+1];var aK=T.dc.getPage(aU),es=aK.dp();if(es.oa()){var aO=es.BY(),ahv=aO.substr(ik);if(ahv.length>da){return WT;}else{return WT.concat(ahD(aU+1,0,da-ahv.length));}}else{return WT;}};this.aw.uy();function Cx(Ss,ah){T.ahI(ah,Ss);};if(zb&&zb.getResults().length){var dI=ahD(textSelection.pageNumber-1,textSelection.startIndex,textSelection.length),eS=zb.getResults(),aiJ=false,LF={};if(eS.length){IPCC.V.forEach(eS,function(aS){var ary=IPCC.V.contains(dI,aS.ah);if(ary){aiJ=true;LF[aS.ah]=LF[aS.ah]||[];LF[aS.ah].push(aS);}});}if(aiJ){IPCC.V.forEach(LF,function(Ss,ah){T.requestPageText(ah).then(Cx.bind(null,Ss,ah));});}}return this;};ViewerControl.prototype.convertPageToWindowCoordinates=function(pageNumber,points){if(this.eh===false){throw new Error("The method setSelectedConversation is not available until 'ViewerReady' state is reached.");}if(!pageNumber||typeof pageNumber!=='number'||pageNumber<1||pageNumber>this.getPageCount()){throw new PCCViewer.Error('InvalidArgument','pageNumber is not a known page number in the document');}var xQ=function(n){return typeof n==='number'&& !isNaN(n);};var vH,adP=true;if(points&&points.constructor===Array){vH=points;}else{vH=[points];adP=false;}var aeW=function(ay,bV,aH){throw new PCCViewer.Error('InvalidArgument',ay+' (Array index '+bV+') does not have a valid '+aH+' property');};if(vH.length===0|| !points){throw new PCCViewer.Error('InvalidArgument','At least one point is required');}IPCC.V.forEach(vH,function(ay,bV){if(!xQ(ay.x)){aeW(ay,bV,'x');}if(!xQ(ay.y)){aeW(ay,bV,'y');}});var CB=this.aw.aDw(pageNumber,vH);if(CB===null){return null;}else if(adP){return CB;}else{return CB[0];}};ViewerControl.prototype.selectEditorText=function(){if(this.eh===false){throw new Error("The method selectEditorText is not available until 'ViewerReady' state is reached.");}var T=this;var aw=T.aw;var Xd=aw.Bo();if(!Xd){throw new Error("The method selectEditorText is not available unless there is an active editor on the page.");}if(Xd==='singleline'){aw.Kn();}else if(Xd==='multiline'){throw new PCCViewer.Error('InvalidArgument','Only TextInputSignature Marks are supported at this time');}return T;};ViewerControl.prototype.setSharpening=function(amount){if(amount!==Math.floor(amount)||typeof amount!=='number'||amount<0||amount>100){throw new PCCViewer.Error('InvalidArgument','Amount must be an integer between 0 and 100 inclusive');}var T=this;T.ahM=amount;if(this.eh===false){this.qn.then(function(ss){var aw=T.aw;aw.Ep(amount);});}else{var aw=T.aw;aw.Ep(amount);}return T;};ViewerControl.prototype.getSharpening=function(){var T=this;if(this.eh===false){return T.ahM;}else{var aw=T.aw;return aw.aDb();}};ViewerControl.prototype.setGamma=function(amount){if(typeof amount!=='number'||amount<0||amount>10){throw new PCCViewer.Error('InvalidArgument','Amount must be a number between 0 and 10 inclusive');}var T=this;T.ahK=amount;if(this.eh===false){this.qn.then(function(ss){var aw=T.aw;aw.Cy(amount);});}else{var aw=T.aw;aw.Cy(amount);}return T;};ViewerControl.prototype.getGamma=function(){var T=this;if(this.eh===false){return T.ahK;}else{var aw=T.aw;return aw.aEH();}};ViewerControl.prototype.setSvgLineWidthMultiplier=function(amount){if(typeof amount!=='number'||amount<=0||amount>100){throw new PCCViewer.Error('InvalidArgument','Amount must be greater than 0 and not greater than 100.');}var T=this;T.jX=amount;if(this.eh===false){this.qn.then(function(ss){T.aw.DQ(amount);});}else{T.aw.DQ(amount);}return T;};ViewerControl.prototype.getSvgLineWidthMultiplier=function(){var T=this;if(this.eh===false){return T.jX;}else{var aw=T.aw;return aw.aDC();}};if(Object.defineProperties){Object.defineProperties(ViewerControl.prototype,{"pageCount":{enumerable:true,get:function(){return this.getPageCount();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();},set:function(value){return this.setPageNumber(value);}},"searchRequest":{enumerable:true,get:function(){return this.aX;}},"selectedSearchResult":{enumerable:true,get:function(){return this.getSelectedSearchResult();},set:function(val){return this.setSelectedSearchResult(val,true);}},"currentMouseTool":{enumerable:true,get:function(){return this.getCurrentMouseTool();},set:function(value){return this.setCurrentMouseTool(value);}},"atMaxScale":{enumerable:true,get:ViewerControl.prototype.getAtMaxScale},"atMinScale":{enumerable:true,get:ViewerControl.prototype.getAtMinScale},"scaleFactor":{enumerable:true,get:function(){return this.getScaleFactor();},set:function(value){return this.setScaleFactor(value);}},"selectedMarks":{enumerable:true,get:ViewerControl.prototype.getSelectedMarks},"viewMode":{enumerable:true,get:function(){return this.getViewMode();},set:function(value){return this.setViewMode(value);}},"isCommentsPanelOpen":{enumerable:true,get:function(){return this.getIsCommentsPanelOpen();}},"selectedConversation":{enumerable:true,get:function(){return this.getSelectedConversation();},set:function(conversation){return this.setSelectedConversation(conversation);}},"redactionViewMode":{enumerable:true,get:function(){return this.getRedactionViewMode();},set:function(value){return this.setRedactionViewMode(value);}},"markHandleMode":{enumerable:true,get:function(){return this.getMarkHandleMode();},set:function(value){return this.setMarkHandleMode(value);}}});}module.exports=ViewerControl;},{"./../IPCC/IPCC":30,"./PCCViewer.EventEmitter":141,"./PCCViewer.Helper":144,"./PCCViewer.MarkDeserializer":148,"./PCCViewer.MarkSerializer":150,"./PCCViewer.Print":158}],170:[function(require,module,exports){var PCCViewer={ViewMode:require('./PCCViewer.ViewMode'),MarkHandleMode:require('./PCCViewer.MarkHandleMode'),RedactionViewMode:require('./PCCViewer.RedactionViewMode'),PageLayout:require('./PCCViewer.PageLayout'),EventType:require('./PCCViewer.EventType'),Event:require('./PCCViewer.Event'),ScaleTrigger:require('./PCCViewer.ScaleTrigger'),FitType:require('./PCCViewer.FitType'),Promise:require('./PCCViewer.Deferred').Promise,Deferred:require('./PCCViewer.Deferred').Deferred,EventEmitter:require('./PCCViewer.EventEmitter'),Util:require('./PCCViewer.Util'),ObservableCollection:require('./PCCViewer.ObservableCollection'),aGy:require('prizmdoc-input-mask'),Data:require('./PCCViewer.Data').Data,SessionData:require('./PCCViewer.Data').SessionData,Ajax:require('./PCCViewer.Ajax').Ajax,AjaxResponse:require('./PCCViewer.Ajax').AjaxResponse,Language:require('./PCCViewer.Language'),Error:require('./PCCViewer.Error'),ViewerControl:require('./PCCViewer.ViewerControl'),rK:require('./PCCViewer.Helper'),MouseTool:require('./PCCViewer.MouseTool').MouseTool,MouseTools:require('./PCCViewer.MouseTool').MouseTools,Conversation:require('./PCCViewer.Comments').Conversation,Comment:require('./PCCViewer.Comments').Comment,ImageStamps:require('./PCCViewer.ImageStamps'),DocumentHyperlink:require('./PCCViewer.DocumentHyperlink'),_Search:require('./PCCViewer.Search')._Search,SearchTask:require('./PCCViewer.Search').SearchTask,SearchRequest:require('./searchRequest'),SearchResult:require('./searchResult').SearchResult,Vo:require('./PCCViewer.ServerSearch'),SearchTaskResult:require('./searchResult').SearchTaskResult,OA:require('./PCCViewer.ClientSearch'),Gq:require('prizmdoc-search'),Signatures:require('./PCCViewer.Signature').Signatures,SignatureControl:require('./PCCViewer.Signature').SignatureControl,SignatureDisplay:require('./PCCViewer.Signature').SignatureDisplay,ThumbnailControl:require('./PCCViewer.ThumbnailControl'),Revision:require('./PCCViewer.Revision'),IT:require('./PCCViewer.RevisionsRequest').IT,RevisionsRequest:require('./PCCViewer.RevisionsRequest').RevisionsRequest,ConversionRequest:require('./PCCViewer.ConversionRequest'),BurnRequest:require('./PCCViewer.BurnRequest'),PrintRequest:require('./PCCViewer.Print').PrintRequest,PrintControl:require('./PCCViewer.Print').PrintControl,Mark:require('./PCCViewer.Marks'),MarkupLayer:require('./PCCViewer.MarkupLayer'),LoadMarkupLayersRequest:require('./PCCViewer.LoadMarkupLayersRequest'),MarkupLayerCollection:require('./PCCViewer.MarkupLayerCollection'),PasswordProtectedDocumentLoader:require('./PCCViewer.PasswordProtectedDocumentLoader'),};module.exports=PCCViewer;},{"./PCCViewer.Ajax":131,"./PCCViewer.BurnRequest":132,"./PCCViewer.ClientSearch":133,"./PCCViewer.Comments":134,"./PCCViewer.ConversionRequest":135,"./PCCViewer.Data":136,"./PCCViewer.Deferred":137,"./PCCViewer.DocumentHyperlink":138,"./PCCViewer.Error":139,"./PCCViewer.Event":140,"./PCCViewer.EventEmitter":141,"./PCCViewer.EventType":142,"./PCCViewer.FitType":143,"./PCCViewer.Helper":144,"./PCCViewer.ImageStamps":145,"./PCCViewer.Language":146,"./PCCViewer.LoadMarkupLayersRequest":147,"./PCCViewer.MarkHandleMode":149,"./PCCViewer.Marks":151,"./PCCViewer.MarkupLayer":152,"./PCCViewer.MarkupLayerCollection":153,"./PCCViewer.MouseTool":154,"./PCCViewer.ObservableCollection":155,"./PCCViewer.PageLayout":156,"./PCCViewer.PasswordProtectedDocumentLoader":157,"./PCCViewer.Print":158,"./PCCViewer.RedactionViewMode":159,"./PCCViewer.Revision":160,"./PCCViewer.RevisionsRequest":161,"./PCCViewer.ScaleTrigger":162,"./PCCViewer.Search":163,"./PCCViewer.ServerSearch":164,"./PCCViewer.Signature":165,"./PCCViewer.ThumbnailControl":166,"./PCCViewer.Util":167,"./PCCViewer.ViewMode":168,"./PCCViewer.ViewerControl":169,"./searchRequest":171,"./searchResult":172,"prizmdoc-input-mask":2,"prizmdoc-search":7}],171:[function(require,module,exports){var SearchRequest=function(uT){this.jr={};this.eD={};this.eS=[];this.tZ=false;this.eA=null;this.dG=null;this.XJ=[];if(Object.defineProperties){Object.defineProperties(this,{"searchQuery":{configurable: ! !uT,enumerable:true,get:function(){return this.eD;}},"results":{configurable: ! !uT,enumerable:true,get:function(){return this.eS;}},"isComplete":{configurable: ! !uT,enumerable:true,get:function(){return this.tZ;}},"errorCode":{configurable: ! !uT,enumerable:true,get:function(){return this.eA;}},"errorMessage":{configurable: ! !uT,enumerable:true,get:function(){return this.dG;}}});}PCCViewer.EventEmitter.extend(this);};SearchRequest.prototype.getSearchQuery=function(){return this.eD;};SearchRequest.prototype.getResults=function(){return this.eS;};SearchRequest.prototype.getIsComplete=function(){return this.tZ;};SearchRequest.prototype.getErrorCode=function(){return this.eA;};SearchRequest.prototype.getErrorMessage=function(){return this.dG;};SearchRequest.prototype.getPagesWithoutText=function(){return this.XJ;};SearchRequest.prototype.cancel=function(){this.pu=true;this.trigger('SearchCancelled');};module.exports=SearchRequest;},{}],172:[function(require,module,exports){var SearchResult=function(){this.dr=0;this.ah=0;this.ak=0;this.aO='';this.pM='';this.pW=0;this.df='';this.zX=0;this.bf='';this.Ic='';this.mf=null;};SearchResult.prototype.getId=function(){return this.dr;};SearchResult.prototype.getPageNumber=function(){return this.ah;};SearchResult.prototype.getText=function(){return this.aO;};SearchResult.prototype.getHighlightColor=function(){return this.pM;};SearchResult.prototype.getStartIndexInPage=function(){return this.pW;};SearchResult.prototype.getContext=function(){return this.df;};SearchResult.prototype.getStartIndexInContext=function(){return this.zX;};SearchResult.prototype.getSearchTerm=function(){return this.bf;};SearchResult.prototype.getBoundingRectangle=function(){return this.mf;};if(Object.defineProperties){Object.defineProperties(SearchResult.prototype,{"pageNumber":{enumerable:true,get:function(){return this.ah;}},"id":{enumerable:true,get:function(){return this.dr;}},"text":{enumerable:true,get:function(){return this.aO;}},"highlightColor":{enumerable:true,get:function(){return this.pM;}},"startIndexInPage":{enumerable:true,get:function(){return this.pW;}},"context":{enumerable:true,get:function(){return this.df;}},"startIndexInContext":{enumerable:true,get:function(){return this.zX;}},"searchTerm":{enumerable:true,get:function(){return this.bf;}},"boundingRectangle":{enumerable:true,get:function(){return this.getBoundingRectangle();}}});}var SearchTaskResult=function(){this.dr=0;this.ak=0;this.aO='';this.pM='';this.pW=0;this.df='';this.zX=0;this.bf='';};SearchTaskResult.prototype.getId=function(){return this.dr;};SearchTaskResult.prototype.getText=function(){return this.aO;};SearchTaskResult.prototype.getHighlightColor=function(){return this.pM;};SearchTaskResult.prototype.getStartIndexInInput=function(){return this.pW;};SearchTaskResult.prototype.getContext=function(){return this.df;};SearchTaskResult.prototype.getStartIndexInContext=function(){return this.zX;};SearchTaskResult.prototype.getSearchTerm=function(){return this.bf;};if(Object.defineProperties){Object.defineProperties(SearchTaskResult.prototype,{"id":{enumerable:true,get:function(){return this.dr;}},"text":{enumerable:true,get:function(){return this.aO;}},"highlightColor":{enumerable:true,get:function(){return this.pM;}},"startIndexInInput":{enumerable:true,get:function(){return this.pW;}},"context":{enumerable:true,get:function(){return this.df;}},"startIndexInContext":{enumerable:true,get:function(){return this.zX;}},"searchTerm":{enumerable:true,get:function(){return this.bf;}}});}module.exports={SearchTaskResult:SearchTaskResult,SearchResult:SearchResult};},{}],173:[function(require,module,exports){if(typeof window==='undefined'){throw new Error('The viewer-core module can only be used in a browser environment (where a window object exists).');}require('./../css/viewercontrol.css');var IPCC=require('./IPCC/IPCC');var PCCViewer=require('./PCCViewer/PCCViewer');window.IPCC=IPCC;window.PCCViewer=PCCViewer;module.exports=PCCViewer;},{"./../css/viewercontrol.css":11,"./IPCC/IPCC":30,"./PCCViewer/PCCViewer":170}]},{},[173])(173)}); 