// See license at https://www.npmjs.com/package/@prizmdoc/viewer-core
// @prizmdoc/viewer-core@13.12.15
(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.viewerCore=f()}})(function(){var define,module,exports;return(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){'use strict';var styleElementsInsertedAtTop=[];var insertStyleElement=function(styleElement,options){var head=document.head||document.getElementsByTagName('head')[0];var lastStyleElementInsertedAtTop=styleElementsInsertedAtTop[styleElementsInsertedAtTop.length-1];options=options||{};options.insertAt=options.insertAt||'bottom';if(options.insertAt==='top'){if(!lastStyleElementInsertedAtTop){head.insertBefore(styleElement,head.firstChild);}else if(lastStyleElementInsertedAtTop.nextSibling){head.insertBefore(styleElement,lastStyleElementInsertedAtTop.nextSibling);}else{head.appendChild(styleElement);}styleElementsInsertedAtTop.push(styleElement);}else if(options.insertAt==='bottom'){head.appendChild(styleElement);}else{throw new Error('Invalid value for parameter \'insertAt\'. Must be \'top\' or \'bottom\'.');}};module.exports={createLink:function(href,attributes){var head=document.head||document.getElementsByTagName('head')[0];var link=document.createElement('link');link.href=href;link.rel='stylesheet';for(var key in attributes){if(!attributes.hasOwnProperty(key)){continue;}var value=attributes[key];link.setAttribute('data-'+key,value);}head.appendChild(link);},createStyle:function(cssText,attributes,extraOptions){extraOptions=extraOptions||{};var style=document.createElement('style');style.type='text/css';for(var key in attributes){if(!attributes.hasOwnProperty(key)){continue;}var value=attributes[key];style.setAttribute('data-'+key,value);}if(style.sheet){style.innerHTML=cssText;style.sheet.cssText=cssText;insertStyleElement(style,{insertAt:extraOptions.insertAt});}else if(style.styleSheet){insertStyleElement(style,{insertAt:extraOptions.insertAt});style.styleSheet.cssText=cssText;}else{style.appendChild(document.createTextNode(cssText));insertStyleElement(style,{insertAt:extraOptions.insertAt});}}};},{}],2:[function(require,module,exports){var cursor=require('./util/cursor.js');var mask=require('./util/mask.js');function InputMask(elem,options){var originalPlaceholder=elem.placeholder;var regexMask=mask.getRegex(options.value,options.translations);function onInput(){var cursorPos=cursor.get(elem);var oldVal=elem.value;var newVal=mask.getValue(oldVal,options.value,options.translations,cursorPos);elem.value=newVal.val;setTimeout(function(){cursor.set(elem,cursorPos+newVal.cursorAdjustment);},1);};function clearInvalidValue(){elem.value=mask.fill(elem.value,options.value,options.translations);if(!regexMask.test(elem.value)){elem.value='';}}(function init(){clearInvalidValue();elem.placeholder=mask.getPlaceholder(options.value,options.translations);elem.addEventListener('input',onInput);elem.addEventListener('focusout',clearInvalidValue);elem.addEventListener('blur',clearInvalidValue);}());this.destroy=function(){clearInvalidValue();elem.placeholder=originalPlaceholder;elem.removeEventListener('input',onInput);elem.removeEventListener('focusout',clearInvalidValue);elem.removeEventListener('blur',clearInvalidValue);};};module.exports=InputMask;},{"./util/cursor.js":3,"./util/mask.js":4}],3:[function(require,module,exports){function getCursor(elem){var position=0;if(elem.selectionEnd){position=elem.selectionEnd;}return Number(position);};function setCursor(elem,position){elem.setSelectionRange(position,position);};module.exports={get:getCursor,set:setCursor};},{}],4:[function(require,module,exports){var reRegExpChar=/[\\^$.*+?()[\]{}|]/g;var reHasRegExpChar=new RegExp(reRegExpChar.source);function getMaskRegex(mask,translations){var maskRegex='';var char,translation,i;for(i=0;i<mask.length;i++){char=mask.charAt(i);translation=translations[char];if(translation){maskRegex+=translation.toString().replace(/.{1}$|^.{1}/g,'');}else if(reHasRegExpChar.test(char)){maskRegex+=char.replace(reRegExpChar,'\\$&');}else{maskRegex+=char;}}return new RegExp(maskRegex);};function getMaskPlaceholder(mask,translations){var placeholder=mask;var key;for(key in translations){if(translations.hasOwnProperty(key)){if(reHasRegExpChar.test(key)){key=key.replace(reRegExpChar,'\\$&');}placeholder=placeholder.replace(new RegExp(key,'g'),'_');}}return placeholder;};function getMaskValue(value,mask,translations,cursorPos){var result={val:'',cursorAdjustment:0};var m=0;var v=0;var lastUntranslatedMaskChar,maskChar,valChar,translation;while(m<mask.length&&v<value.length){maskChar=mask.charAt(m);valChar=value.charAt(v);translation=translations[maskChar];if(translation){if(valChar.match(translation)){result.val+=valChar;m+=1;}else if(v<cursorPos){result.cursorAdjustment-=1;}else if(valChar===lastUntranslatedMaskChar){lastUntranslatedMaskChar=null;}v+=1;}else{result.val+=maskChar;if(valChar===maskChar){v+=1;}else{if(v<cursorPos){result.cursorAdjustment+=1;}lastUntranslatedMaskChar=maskChar;}m+=1;}}return result;};function fillMask(value,mask,translations){var newVal=value;var index=value.length;var maskChar;while(index<mask.length){maskChar=mask[index];if(translations[maskChar]){break;}newVal+=maskChar;index+=1;}return newVal;};module.exports={getRegex:getMaskRegex,getPlaceholder:getMaskPlaceholder,getValue:getMaskValue,fill:fillMask};},{}],5:[function(require,module,exports){var util=require('./util.js');var regexSearch=require('./regex-search.js');var proximitySearch=require('./proximity-search.js');function isSimpleSearchInput(input){return(typeof input.pattern==='string'&&(typeof input.caseSensitive==='boolean'||typeof input.caseSensitive==='undefined'));};function isProximitySearchInput(input){if(!util.isPositiveInteger(input.distance)|| !(input.subTerms instanceof Array)){return false;}return util.every(input.subTerms,isSimpleSearchInput);};function isSearchInput(input){if(util.isPlainObject(input)&&typeof input.type==='string'){if(input.type==='simple'){return isSimpleSearchInput(input);}if(input.type==='proximity'){return isProximitySearchInput(input);}}return false;};function isArrayOfSearchInputs(input){if(!(input instanceof Array)){return false;}return util.every(input,isSearchInput);};function getRegExp(searchInput){return(new RegExp(searchInput.pattern,searchInput.caseSensitive?'g':'gi'));};function cleanSearchResult(searchInput){return function(val){return{input:searchInput,text:val.text,startIndex:val.startIndex};};};function getRegexResults(text,searchInput){var regex=getRegExp(searchInput);var results=regexSearch.getResultsForTerm(text,regex);return results.map(cleanSearchResult(searchInput));};function getProximityResults(text,searchInput){var regexes=searchInput.subTerms.map(getRegExp);var results=proximitySearch.getResults(text,regexes,searchInput.distance);return results.map(cleanSearchResult(searchInput));};function getResults(text,searchInputs){if(typeof text!=='string'){throw util.inputError('text','string');}if(!isArrayOfSearchInputs(searchInputs)){throw util.inputError('searchInputs','array of search inputs');}var combinedResults=[];searchInputs.forEach(function(term,i){if(term.type==='simple'){combinedResults=combinedResults.concat(getRegexResults(text,term));}else if(term.type==='proximity'){combinedResults=combinedResults.concat(getProximityResults(text,term));}else{throw util.inputError('searchInputs['+i+'].type','string equal to "simple" or "proximity"');}});util.sortResults(combinedResults);return combinedResults;};module.exports={getResults:getResults};},{"./proximity-search.js":8,"./regex-search.js":9,"./util.js":10}],6:[function(require,module,exports){var util=require('./util.js');function validateGetContextOptions(options){var rules=[{property:'options',validator:function(){return util.isPlainObject(options);},error:'object'},{property:'options.text',validator:function(){return(typeof options.text==='string');},error:'string'},{property:'options.startIndex',validator:function(){return util.isMinInteger(options.startIndex,0);},error:'integer that is at least 0'},{property:'options.endIndex',validator:function(){return util.isMinInteger(options.endIndex,0);},error:'integer that is at least 0'},{property:'options.padding',validator:function(){return util.isMinInteger(options.padding,0);},error:'integer that is at least 0'},{property:'options.startIndex',validator:function(){return(options.startIndex<options.text.length);},error:'integer that is less than "options.text.length"'},{property:'options.endIndex',validator:function(){return(options.endIndex<options.text.length);},error:'integer that is less than "options.text.length"'},{property:'options.startIndex',validator:function(){return(options.startIndex<=options.endIndex);},error:'integer that is at most "options.endIndex"'}];util.validateInput(rules);};function validateRectangleOptions(options){var rules=[{property:'options',validator:function(){return util.isPlainObject(options);},error:'object'},{property:'options.rectangles',validator:function(){return(options.rectangles instanceof Array);},error:'array'},{property:'options.startIndex',validator:function(){return util.isMinInteger(options.startIndex,0);},error:'integer that is at least 0'},{property:'options.endIndex',validator:function(){return util.isMinInteger(options.endIndex,0);},error:'integer that is at least 0'},{property:'options.startIndex',validator:function(){return util.isMaxInteger(options.startIndex,options.endIndex);},error:'integer that is at most "options.endIndex"'}];util.validateInput(rules);};function getContext(options){validateGetContextOptions(options);var startIndex=Math.max(options.startIndex-options.padding,0);var endIndex=Math.min(options.endIndex+options.padding,options.text.length-1);return{startIndex:(startIndex===0)?options.startIndex:options.padding,context:options.text.substring(startIndex,endIndex+1)};};function getBoundingRectangle(options){validateRectangleOptions(options);var boundingRectangle={left:Number.MAX_VALUE,right:0,top:Number.MAX_VALUE,bottom:0};var rectangle;for(var i=options.startIndex;i<=options.endIndex;i++){rectangle=options.rectangles[i];boundingRectangle.left=Math.min(rectangle[0],boundingRectangle.left);boundingRectangle.right=Math.max(rectangle[0]+rectangle[2],boundingRectangle.right);boundingRectangle.top=Math.min(rectangle[1],boundingRectangle.top);boundingRectangle.bottom=Math.max(rectangle[1]+rectangle[3],boundingRectangle.bottom);}return{x:boundingRectangle.left,y:boundingRectangle.top,width:boundingRectangle.right-boundingRectangle.left,height:boundingRectangle.bottom-boundingRectangle.top};};function getLineRectangles(options){validateRectangleOptions(options);var lineRectangles=[];function processCharacter(rectangle){var character=util.getRectangleObject(rectangle);var line=lineRectangles[lineRectangles.length-1];if(util.isCharacterAtEndOfLine(character,line)){lineRectangles.splice(-1,1,util.joinRectangles(line,character));return;}lineRectangles.push(character);};for(var i=options.startIndex;i<=options.endIndex;i++){processCharacter(options.rectangles[i]);}return lineRectangles;};module.exports={getContext:getContext,getBoundingRectangle:getBoundingRectangle,getLineRectangles:getLineRectangles};},{"./util.js":10}],7:[function(require,module,exports){var formatter=require('./formatter.js');var regexSearch=require('./regex-search.js');var proximitySearch=require('./proximity-search.js');var combinedSearch=require('./combined-search.js');module.exports={formatter:formatter,regex:regexSearch,proximity:proximitySearch,combined:combinedSearch};},{"./combined-search.js":5,"./formatter.js":6,"./proximity-search.js":8,"./regex-search.js":9}],8:[function(require,module,exports){var regexSearch=require('./regex-search.js');var util=require('./util.js');function isAProximityResult(matching,searchTerms){return(Object.keys(matching).length===searchTerms.length);};function getStartIndex(wordIndex,searchResult){var startIndex= -1;for(var i=1;i<wordIndex.length;i++){if(wordIndex[i]>searchResult.startIndex){startIndex=i-1;break;}}if(startIndex=== -1&&searchResult.startIndex>wordIndex[wordIndex.length-1]){startIndex=wordIndex.length-1;}return startIndex;};function getEndIndex(wordIndex,searchResult,termsLength,distance){var startIndex=getStartIndex(wordIndex,searchResult);var endIndex=null;if(distance===0){endIndex=startIndex+termsLength-1;}else{endIndex=startIndex+((termsLength-1)*distance+termsLength)-1;}return wordIndex[endIndex<wordIndex.length?endIndex:wordIndex.length-1];};function getWordIndex(text){if(typeof text!=='string'){throw util.inputError('text','string');}var wordIndex=[];var regex=(/[^\s]+/gm);var regexResult;while((regexResult=regex.exec(text))!==null){wordIndex.push(regexResult.index);}return wordIndex;};function getResults(text,searchTerms,distance){if(!util.isPositiveInteger(distance)){throw util.inputError('distance','integer that is greater than 0');}var wordIndex=getWordIndex(text);var searchResults=regexSearch.getResults(text,searchTerms);var proximityResults=[];searchResults.forEach(function(searchResult,i){var opts={nextIndex: -1,currentIndex:i,matches:{},nextResult:null};opts.endIndex=getEndIndex(wordIndex,searchResult,searchTerms.length,distance);opts.matches[searchResult.term]=true;while(opts.nextIndex<opts.endIndex&& !isAProximityResult(opts.matches,searchTerms)&&opts.currentIndex+1<searchResults.length){opts.nextResult=searchResults[++opts.currentIndex];opts.nextIndex=opts.nextResult.startIndex;if(opts.nextIndex<=opts.endIndex){opts.matches[opts.nextResult.term]=true;}}if(isAProximityResult(opts.matches,searchTerms)){proximityResults.push({text:text.substring(searchResult.startIndex,opts.nextResult.startIndex+opts.nextResult.text.length),startIndex:searchResult.startIndex});}});return proximityResults;};module.exports={getWordIndex:getWordIndex,getResults:getResults};},{"./regex-search.js":9,"./util.js":10}],9:[function(require,module,exports){var util=require('./util.js');function isRegExp(input){return(input instanceof RegExp);};function isArrayOfRegExp(input){if(!(input instanceof Array)){return false;}return util.every(input,isRegExp);};function validateGetResultsForTerm(text,searchTerm){if(typeof text!=='string'){throw util.inputError('text','string');}if(!isRegExp(searchTerm)){throw util.inputError('searchTerm','regular expression');}};function getResultsForTerm(text,searchTerm){validateGetResultsForTerm(text,searchTerm);var searchResults=[];var regexResult;while((regexResult=searchTerm.exec(text))!==null){if(regexResult[0]){searchResults.push({term:searchTerm.toString(),text:regexResult[0],startIndex:regexResult.index});}else{searchTerm.lastIndex+=1;}}return searchResults;};function getResults(text,searchTerms){if(typeof text!=='string'){throw util.inputError('text','string');}if(!isArrayOfRegExp(searchTerms)){throw util.inputError('searchTerms','array of regular expressions');}var combinedResults=[];for(var i=0;i<searchTerms.length;i++){combinedResults=combinedResults.concat(getResultsForTerm(text,searchTerms[i]));}util.sortResults(combinedResults);return combinedResults;};module.exports={getResultsForTerm:getResultsForTerm,getResults:getResults};},{"./util.js":10}],10:[function(require,module,exports){function inputError(property,expected){var a=(['a','e','i','o','u'].indexOf(expected.charAt(0))> -1)?'an':'a';return new Error('Invalid argument. Argument "'+property+'" must be '+a+' '+expected+'.');};function isInteger(input){return(typeof input==='number'&&Math.round(input)===input);};function isMinInteger(input,min){if(typeof min!=='number'){throw inputError('min','number');}return(isInteger(input)&&input>=min);};function isMaxInteger(input,max){if(typeof max!=='number'){throw inputError('max','number');}return(isInteger(input)&&input<=max);};function isPositiveInteger(input){return isMinInteger(input,0);};function isPlainObject(input){return(typeof input==='object'&&input!==null&& !(input instanceof Array)&&input.constructor===Object);};function validateInput(rules){rules.forEach(function(rule){if(!rule.validator()){throw inputError(rule.property,rule.error);}});return true;};function every(obj,fn){for(var key in obj){if(obj.hasOwnProperty(key)){if(!fn(obj[key],key)){return false;}}}return true;};function sortResults(results){results.sort(function(a,b){return a.startIndex-b.startIndex;});};function joinRectangles(rectA,rectB){var left=Math.min(rectA.x,rectB.x);var top=Math.min(rectA.y,rectB.y);var right=Math.max(rectA.x+rectA.width,rectB.x+rectB.width);var bottom=Math.max(rectA.y+rectA.height,rectB.y+rectB.height);return{x:left,y:top,width:right-left,height:bottom-top};};function isCharacterAtEndOfLine(character,line){if(line&&Math.abs(character.y-line.y)<1&&Math.abs(character.height-line.height)<1&&(character.x+character.width)>=(line.x+line.width)){return true;}return false;};function getRectangleObject(rect){return{x:rect[0],y:rect[1],width:rect[2],height:rect[3]};};module.exports={inputError:inputError,isInteger:isInteger,isMinInteger:isMinInteger,isMaxInteger:isMaxInteger,isPositiveInteger:isPositiveInteger,isPlainObject:isPlainObject,validateInput:validateInput,every:every,sortResults:sortResults,joinRectangles:joinRectangles,isCharacterAtEndOfLine:isCharacterAtEndOfLine,getRectangleObject:getRectangleObject};},{}],11:[function(require,module,exports){var css="/* page list specific */\n.pccViewerControl {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  /* promote to a new layer */\n  -webkit-transform: translateZ(0);\n  transform: translateZ(0);\n  /* iOS momentum scrolling */\n  -webkit-overflow-scrolling: touch;\n  /* helps touch zoom not overlap any other element */\n  overflow: hidden;\n}\n/* normalize override */\nsvg:not(:root) {\n  overflow: visible!important;\n}\n.pccPageListContainer {\n  box-sizing: border-box;\n}\n.pccPageListContainerWrapper {\n  -ms-transform: scale(1,1) translate(0px,0px);\n  -moz-transform: scale(1,1) translate(0px,0px);\n  -webkit-transform: scale3d(1,1,1) translate3d(0px,0px,0px);\n  transform: scale3d(1,1,1) translate3d(0px,0px,0px);\n  -ms-transform-origin: 0% 0%;\n  -moz-transform-origin: 0% 0%;\n  -webkit-transform-origin: 0% 0%;\n  transform-origin: 0% 0%;\n  will-change: transform, -webkit-transform;\n}\n.pccPageListLoading {\n  height: 30px;\n  margin: -15px;\n  left: 50%;\n  position: absolute;\n  top: 50%;\n  width: 30px;\n}\n.pccPageListComments {\n  position: relative;\n  min-width: 300px;\n  height: auto;\n  vertical-align: top;\n  display: table-cell;\n  box-sizing: border-box;\n  z-index: 2;\n}\n.pccPageListComments > div {\n  position: absolute;\n}\n.pccHidden {\n  display: none;\n}\n.pccPageListItem {\n  background: #fff;\n  overflow: hidden;\n  margin: 13px;\n  vertical-align: middle;\n  border-bottom: 1px solid #d4d6db;\n}\n/* Single Page view mode */\n.pccSinglePageView .pccPageListItem {\n  -webkit-transform: translateZ(0);\n  transform: translateZ(0);\n  -webkit-animation-duration: 1s;\n  animation-duration: 1s;\n  -webkit-animation-timing-function: ease-out;\n  animation-timing-function: ease-out;\n}\n/* Next and previous page list items for single page view mode */\n.pccSinglePageView .pccNextPage {\n  opacity: 0;\n  z-index: 0;\n}\n.pccSinglePageView .pccPreviousPage {\n  opacity: 0;\n  z-index: 0;\n}\n.pccSinglePageView .pccCurrentPage {\n  opacity: 1;\n  z-index: 1;\n}\n/* Default animations for single page view mode */\n.pccSinglePageView .pccNextPageIn {\n  animation-name: moveInFromRight;\n  -webkit-animation-name: moveInFromRight;\n}\n.pccSinglePageView .pccPreviousPageIn {\n  animation-name: moveInFromLeft;\n  -webkit-animation-name: moveInFromLeft;\n}\n.pccSinglePageView .pccPageForward {\n  animation-name: moveLeft;\n  -webkit-animation-name: moveLeft;\n}\n.pccSinglePageView .pccPageBack {\n  animation-name: moveRight;\n  -webkit-animation-name: moveRight;\n}\n@keyframes moveRight {\n  0% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n\n  100% {\n    transform: translate3d(110%, 0, 0);\n    opacity: 0;\n  }\n}\n@-webkit-keyframes moveRight {\n  0% {\n    -webkit-transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n\n  100% {\n    -webkit-transform: translate3d(110%, 0, 0);\n    opacity: 0;\n  }\n}\n@keyframes moveLeft {\n  0% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n\n  100% {\n    transform: translate3d(-110%, 0, 0);\n    opacity: 0;\n  }\n}\n@-webkit-keyframes moveLeft {\n  0% {\n    -webkit-transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n\n  100% {\n    -webkit-transform: translate3d(-110%, 0, 0);\n    opacity: 0;\n  }\n}\n@keyframes moveInFromLeft {\n  0% {\n    transform: translate3d(-110%, 0, 0);\n    opacity: 0;\n  }\n\n  100% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n@-webkit-keyframes moveInFromLeft {\n  0% {\n    -webkit-transform: translate3d(-110%, 0, 0);\n    opacity: 0;\n  }\n\n  100% {\n    -webkit-transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n@keyframes moveInFromRight {\n  0% {\n    transform: translate3d(110%, 0, 0);\n    opacity: 0;\n  }\n\n  100% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n@-webkit-keyframes moveInFromRight {\n  0% {\n    -webkit-transform: translate3d(110%, 0, 0);\n    opacity: 0;\n  }\n\n  100% {\n    -webkit-transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n/*\n.pccPageListItem * {\n    -ms-touch-action: pinch-zoom pan-x pan-y;\n    touch-action: pinch-zoom pan-x pan-y;\n} */\n.pccPageListItem .pccPageListItemLoading {\n  margin: 30% auto;\n  display: block;\n  filter: Alpha(Opacity=50);\n  background-color: #fff;\n}\n.pccPageListItem .pccPageLoadFail {\n  margin: 35% auto;\n  text-align: center;\n  line-height: 2;\n  color: #777;\n}\n/* PageList container fix */\n.pccPageListItem .igAnchor,\n.pccPageListItem .igViewerScroller,\n.pccPageListItem .igViewerGraphics,\n.pccThumbnailView .igAnchor {\n  /* never recalculate these values */\n  width: 100% !important;\n  height: 100% !important;\n}\n.igAnchor > svg {\n  width: 100%;\n  height: 100%;\n}\n.igMagnifierFrame .igAnchor > svg {\n  width: auto;\n  height: auto;\n}\n.igViewerScroller,\n.igViewerGraphics,\n.igAnchor,\n.igAnchor > svg,\n.igAnchor svg svg {\n  -webkit-user-select: none !important;\n  -webkit-touch-callout: none !important;\n  -webkit-tap-highlight-color: rgba(0,0,0,0) !important;\n}\n.igAnchor svg svg use {\n  pointer-events: none;\n}\n/* do not show textarea outline on text marks */\n.pccViewerControl textarea {\n  outline: none;\n}\n/* copy text */\n.pccCopyText {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 0;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n  opacity: 0;\n  filter: alpha(opacity=0);\n  color: #000;\n}\n/* about modal */\n.pccPageListAboutModal {\n  background: #383a3f;\n  position: absolute;\n  top: -300px;\n  left: 0;\n  right: 0;\n  margin: 0 auto;\n  width: 280px;\n  padding: 10px;\n  visibility: hidden;\n  opacity: 0;\n  z-index: 5;\n  border-radius: 3px;\n  text-align: center;\n  -webkit-box-shadow: 0 2px 4px -1px rgba(0, 0, 0, .4);\n  box-shadow: 0 2px 4px -1px rgba(0, 0, 0, .4);\n  -webkit-transition: all 400ms;\n  transition: all 400ms;\n}\n.pccPageListAboutModal * {\n  text-align: left;\n  font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n  -webkit-text-size-adjust: 100%;\n  -ms-text-size-adjust: 100%;\n  text-size-adjust: 100%;\n}\n.pccPageListAboutModal h3 {\n  margin: 10px 0;\n  font-size: 18px;\n  color: #fff;\n  font-weight: bold;\n}\n.pccPageListAboutModal p {\n  font-size: 12px;\n  color: #c2c5ce;\n}\n.pccPageListAboutModal p:last-child {\n  color: #c2c5ce;\n}\n.pccPageListAboutModal a {\n  color: #afc3eb;\n}\nhtml .pccPageListAboutModal button {\n  position: absolute;\n  top: 0;\n  right: 0;\n  font-size: 20px;\n  color: #fff;\n  background: none;\n  border: none;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  height: auto;\n}\n.pccPageListAboutModal.open {\n  visibility: visible;\n  opacity: 1;\n  top: 122px;\n}\n/* nag modal */\n.pccPageListNagModal {\n  background: #e7e9ef;\n  position: absolute;\n  top: -300px;\n  left: 0;\n  right: 0;\n  margin: 0 auto;\n  width: 480px;\n  padding: 10px;\n  visibility: hidden;\n  opacity: 0;\n  z-index: 5;\n  border-radius: 3px;\n  text-align: center;\n  -webkit-box-shadow: 0 6px 6px -1px rgba(0, 0, 0, .5);\n  box-shadow: 0 6px 6px -1px rgba(0, 0, 0, .5);\n  -webkit-transition: all 400ms;\n  transition: all 400ms;\n}\n.pccPageListNagModal * {\n  text-align: left;\n  font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n  -webkit-text-size-adjust: 100%;\n  -ms-text-size-adjust: 100%;\n  text-size-adjust: 100%;\n}\n.pccPageListNagModal h3 {\n  margin: 10px 0;\n  font-size: 18px;\n  color: #000000;\n  font-weight: bold;\n}\n.pccPageListNagModal p {\n  font-size: 12px;\n  color: #000000;\n}\n.pccPageListNagModal p:last-child {\n  color: #000000;\n}\n.pccPageListNagModal a {\n  color: #263fea;\n}\nhtml .pccPageListNagModal button {\n  position: absolute;\n  top: 0;\n  right: 0;\n  font-size: 20px;\n  color: #000000;\n  background: none;\n  border: none;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  height: auto;\n}\n.pccPageListNagModal.open {\n  visibility: visible;\n  opacity: 1;\n  top: 20px;\n}\n.pccEditMarkButton {\n  display: inline-block;\n  background: no-repeat url(../../../../src/img/EditTextMark.png);\n  border: none;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  height: 26px;\n  width: 26px;\n  -webkit-background-size: 26px 26px;\n  background-size: 26px;\n  cursor: pointer !important;\n}\n/* svg elements can have body tags inside them, so we protect styling of them */\n/* viewer marks that do not look correct can likely be affected by conflicting styles */\n.pccViewerControl body {\n  background-color: initial;\n  min-height: initial;\n  position: static;\n  height: 100%;\n}\n/* style for thumbnail views */\n.pccThumbnailWrapper {\n  position: relative;\n  display: block;\n  width: 100px;\n  height: 100px;\n  margin: 5px 0 2em 0;\n}\n.pccThumbnail {\n  width: 100%;\n  height: 100%;\n}\n.pccThumbnailView {\n  /* it's important not to edit these width and height\n     * they are depended upon in the actual size calculation */\n  height: 100%;\n  width: 100%;\n  margin: auto !important;\n}\n.pccThumbnailLabel {\n  position: absolute;\n  top: 100%;\n  left: 0;\n  width: 100%;\n  text-align: center;\n}\n/* mark selection handles */\n.pccMarkHandleTopLeft,\n.pccMarkHandleTopCenter,\n.pccMarkHandleTopRight,\n.pccMarkHandleMidLeft,\n.pccMarkHandleMidRight,\n.pccMarkHandleBottomLeft,\n.pccMarkHandleBottomCenter,\n.pccMarkHandleBottomRight,\n.pccMarkHandlePoint,\n.pccMarkHandleTextSelectionStart,\n.pccMarkHandleTextSelectionEnd {\n  position: absolute;\n  width: 40px;\n  height: 40px;\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpkMmJhOTYxOS02NDJjLTQzOTUtYTI2Mi1iZTQ5NzM5MDEzYjEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDQ3M0M1RkFDMUM2MTFFNDlBMzZFODY3RUQwOTI4QjgiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDQ3M0M1RjlDMUM2MTFFNDlBMzZFODY3RUQwOTI4QjgiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowYzJmZjg5Ny1iMWRmLTQ4MGItOGRlNy01N2VkNGE0ZjJmZDgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6ZDJiYTk2MTktNjQyYy00Mzk1LWEyNjItYmU0OTczOTAxM2IxIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+SvzVDQAAAn9JREFUeNrsWMFr01AcTvvSNsnG1jQqOIeTTQ/z4EA9WFQQPYpn0epFL/4DiiBMFATRf0AvXtSJdwU9bHhY3UlBQQdThxVRUNN2wzVd26R+v/ILVA9r0iVQWR58zXuP9/3yNXnv9/tIrNlsSr3c4lKPt0hgJDASGAn8jwTKgAEMSAEHXU/TgRPAQWC0LV4dWADywDOg1O0NYn5K3ZEbc63riytZevKngTNAqgNtFXgATIHvMD+8J4jgGi7XgP3uXKVmi/xCMf3ll6XKIt4czihWdpe+pCWFzX/gPDAB7lWIrIT2BHnP3gb20qC0Uk/cnSmMTL8zh+q289d+Toi4c3S38e3CsZGC3peo8/Rr4CLghCXwLHCOOp9+VNRLj+YnzN81ZS2C0Z+s3jo1/mZsi2bx1D3gfhinOAPk+MnJlx/P7+kkjhqtobXE4akcxwpc4HH3QNyZLuz4uVxTvRJpLXF4mOJYgQs8RD/LVkOeeW8O+T1c4GxdWbUFDw8HLVDmPCfNfSyl/z0QXho44uWHYpqHo14ziNcbDboBv5qWInXZKA1xV3DMjVOLl4AGdYYNtdrtzbZvUt1UY3PMwASSuEXqHBjTy5SE/YoDx87u1Ms8XHT/cJCvON/ajJrcoArhVyA43/sV2ebhbBhp5gkXfonK1+aBpOWVSGvB+dxmHp6GIbAIPGx5LNTWmyfH31IZ60SiNbQWHPeVUgxzY5oF8oNst64D+9x5qhCzsFvIkRrslrMto1TpQPSlhN1GfwVMkt3y4we7NayCDWvOo2GdolcLvu3XsMbW+fHI4MK/luV/zvs3fMvvoV4PchIuBxU0Fn1+iwRGAiOBkcDebn8EGACEVf6TPnvOjAAAAABJRU5ErkJggg==);\n}\n@media screen and (-webkit-min-device-pixel-ratio: 2), \n       screen and (min-resolution: 2dppx),\n       screen and (min-resolution: 192dpi) {\n  .pccMarkHandleTopLeft,\n  .pccMarkHandleTopCenter,\n  .pccMarkHandleTopRight,\n  .pccMarkHandleMidLeft,\n  .pccMarkHandleMidRight,\n  .pccMarkHandleBottomLeft,\n  .pccMarkHandleBottomCenter,\n  .pccMarkHandleBottomRight,\n  .pccMarkHandlePoint,\n  .pccMarkHandleTextSelectionStart,\n  .pccMarkHandleTextSelectionEnd {\n    -webkit-background-size: 40px 40px;\n    background-size: 40px;\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGsAAABrCAYAAABwv3wMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpkMmJhOTYxOS02NDJjLTQzOTUtYTI2Mi1iZTQ5NzM5MDEzYjEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6N0QwNDg4NENDNDAzMTFFNDgxM0JDREZDMUY0RTFFODIiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6N0QwNDg4NEJDNDAzMTFFNDgxM0JDREZDMUY0RTFFODIiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2MjI3ZGMxZS0xNjg1LTQ2YTktOTI5Mi0wYzNkMTM4YjU3MWMiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo2YWNjOTM4MC0wYzZkLTExNzgtYmZjOS1jNTk5OGE2MjYzNGUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4Xpv3rAAAGnklEQVR42uycXUxbZRjHT1u++gHjoxTWjTLYxpTBytxUEE3IdiHzxo8tzvmRyIwXRC+cNyaiJk42k11si0a9ME4v/LyYmTeCF1tIJo6YMCgwVMJnmQzKR7cWWr7a+jxyMLjsnNMWes7b0+ef/APJe9r3Of31fc97Tp/n1YRCIY4UH9LSR0CwSASLYJEIFolgESwSwSIRLIJFIlgkgkWwSASLRLAIFolgkQgWwSIRLBLBIlgkgkUiWASLxJ6SVHAOFvA28GZwFjgVbALPghfAbvAt8DDYRbDklRH8CHg/+AGwOYLXToGvg9vBreC5eDpxTRzluu8GPw1+lB896xWOuqvgS+AbBGtjZAfX8X9jJQf4S/4vwYpCOeB68EEZ+8SR9hE/XdJqMEwdAH8lMyjUY/wIO0ALjHuo5tS1//5vaajCL89r4GcUDAlXku/y18hPIL7gmvhoNch/ECnw5x3+2x2R3HNLyf0Tc/rhSb/BtxjQzS8FdGnJuoAhRRfYlqv37cgz+rOMyUsRvi1+YXIhrkYAtkgj6/+gToP3hfua7lGvqcnhynM4PVlj7nmT2JVXA7Zmpc3abRnuQ3bLRHlB+mwE0+JpiK8BgC3QAmPluvkBf+8kKoy02eEyf982Vjgy5U+PtsNCs977XKV1pNZumdKE95Lf+KkxmOiw8Bp1JJyRdLZpsGRo0pexUR0X5Ro8b9QW9cGIC2ek/Qj+OJFh4TTzPj9TCY6mCy3Ord9eG9seCIY0Gx2ATqsJPV9lHTheY7sZxps3gi8nIqwcfnluEjpgcTmofe9i3662fnderIN5aHumq/HIrj9TkrRiUx2OwJfB04l2n1UvBerNb3rL5ACF+n3gtuXE171l2K/Esr4+0W6K7WI3vDjWcUT13PRmyxnUjb+92divxFxzkIvtoy/mYNWJNcI1qkCuEXW3sN8voH+Jw44nCqxysW8mrvpgMVGk5KrnO+gfRrVJ5JA9/HmoHtZTYtPf+ebBnbDqU/SZJfZ/rmlwZyjK81ALLAO4Wqjx505X7oDLt4mFpyoYB8Yjckg1fz6qhSX6w+EPbWM2jiFJxJPKRfEcM55g7RdqcDg9Jud09I+QYiGMB+MSOWSfmmHtFWpo7prM4xhUk8OVH835xDssMyeS3NIxfCebRVidI54siXOyqBGW4L0L/h41cWfByCKscYgL4xM5pCihYPWNzxlYTtvB+ESaN6sRluA0Nzrt1zPMSiq+TDXCEpzmZueXdSzDkojPoEZYgvP+/FKQaVgS8aWoEZZgwkpasjbAMiyJ+BbVCEswr9yQmsQ0LFOaaHw+NcKaEWooNOv9LMMqyBGN77YaYY0KNZTkG30sw5KI71ZCwcIEzPxNqUyW30BcPokE0SE1wpriRBL+Kwoz3CzCgrhmJM7JpUZYqA6hhkN2yziLsCTi6pAzFrlhtQs1YKKlLUfvZQkUxiORANquZlhY/ySYM3600upkCZZEPKuVk6qFhauqVqHGJyosk8UWg4cFUBgHxiNySKuc91hKwEJdEmrA9OUTtcV9Oq1G0QIA7B/j0ER5HmqC1Q3uEmrEcpxjVdYhJWFh/xJlQV38eageFuqCWOMrNbbRyh1ZE0oEhv1i/+uJX22wsCr+sth0ePJwyV9lW9Nn5Axq95b0GexXYvq7wilU1a9kMuVn3EpVxj2F1RxnXyjtkWuEPVic6Tr3YmlPGFUknyr1gSkJC8tmznAribiCwD48et8fL1Vv6cc6qhgtJkL4/meO3d8rAQp1nlOo3OffGYeBysfXwYclVyWjXhOmVm9kxi4uz3HVF2aNccJXPq6O7rBrijGlGTNl15MQijXFzz5sdeJ9FNUURyDcB6OloQpTkU9xEWS4do540n/pnrR0OT3ZY+55YxjV+nN7bBkzj5fnuioKMyJ5rIUbc72N1fpK74PBBCzUevfBwHQx55RfP7ewrFtYDupSk7QBY2pSwGbW+/H3qCj2wVh9SnFydR8MgsXeDjNrr1FM7TDD6kZbWG3yFidScxxDzfKr1KusfSisbrT1K7dSFX9F5n4RUB2LoFgeWWtVAX4VXBrDPnrBn+O6heUPIp528sTymie5lYrDjdhzaplfQPzEyfyLb7SKpz1yO3in88D28kv9nAifmlznjaC8cXT+cTWyhHT37tNp3EpePWZLzXO0+zRTcsU7hHhfDZIIFsEiESwSwSJYJIJFIlgEi0SwSASLYJEIFolgESwSwSIRLIJFIlgkgkWwSASLYJEIFolgJbT+EWAAqiM7sRyeWSQAAAAASUVORK5CYII=);\n  }\n}\n.pccv input.no-ms-clear::-ms-clear {\n  display: none;\n}\n.pcc-image-stamp-img {\n  height: auto;\n  max-height: available;\n  width: 100%;\n  max-width: 100%;\n  position: relative;\n}\n.pccv .pcc-load,\n.pccv .pccPageListLoading,\n.pccv .pccPageListItemLoading {\n  -webkit-animation-duration: 1s;\n  animation-duration: 1s;\n  -webkit-animation-iteration-count: infinite;\n  animation-iteration-count: infinite;\n  -webkit-animation-timing-function: linear;\n  animation-timing-function: linear;\n  -webkit-animation-name: pcc-anim-load;\n  animation-name: pcc-anim-load;\n}\n@-webkit-keyframes pcc-anim-load {\n  0% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n\n  100% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n}\n@keyframes pcc-anim-load {\n  0% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n\n  100% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n}\n.pccv .pccPageListLoading svg,\n.pccv .pccPageListItemLoading svg {\n  fill: #7d7f85;\n  height: 26px;\n  width: 26px;\n}\n.pccv .pccPageListLoading,\n.pccv .pccPageListItemLoading {\n  display: block;\n}\n@media print {\n  .no-clip-on-print {\n    clip-path: none !important;\n  }\n\n  .expand-on-print {\n    transform: scale(9999, 9999);\n  }\n}\n";(require("browserify-css").createStyle(css,{"href":"src\\css\\viewercontrol.css"},{"insertAt":"bottom"}));module.exports=css;},{"browserify-css":1}],12:[function(require,module,exports){var lf=function(){this.bM=false;this.F=false;this.aE=IPCC.bA.AddFreehandMark;};lf.prototype.mI=function(F){this.F=F;};lf.prototype.eu=function(){this.F=false;};lf.prototype.aR=function(){if(this.bM){this.T=null;this.nJ=null;this.F.oM(null);this.bM=false;this.F.cF();}};lf.prototype.pR=function(){this.aR();};lf.prototype.kf=function(G){this.aR();if(G.domEvent.button===0){this.bM=true;this.T=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Polyline);this.T.get_points().addPoint(G.imagePoint);this.nJ=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Freehand);this.F.oM(this.T,this.nJ);this.T.set_lineWidth(this.nJ.eC);this.T.set_lineColor(this.nJ.kS);this.T.set_opacity(this.nJ.di);this.sr=G.imagePoint;this.sA=G.windowPoint;this.F.cF();}};lf.prototype.ly=function(G){if(G.domEvent.button!==0){this.aR();}if(this.bM){this.T.get_points().addPoint(G.imagePoint);this.F.cF();}};lf.prototype.zf=function(G){if(this.bM){this.aR();}};lf.prototype.kE=function(G){if(this.bM&&G.domEvent.button===0){this.T.get_points().addPoint(G.imagePoint);var afP=this.T.get_points();var bF=[];var gi=Number.MAX_VALUE,iX=0,_top=Number.MAX_VALUE,kU=0;var L=0;for(L=0;L<afP.get_length();L++){var sS=afP.getPoint(L);if(sS.x<gi){gi=sS.x;}if(sS.x>iX){iX=sS.x;}if(sS.y<_top){_top=sS.y;}if(sS.y>kU){kU=sS.y;}bF.push({x:sS.x,y:sS.y});}var An=3;var rO;var pU=(bF.length<An)?bF:IPCC.V.filter(bF,function(bJ){if(rO){var aT=bJ.x-rO.x,dI=bJ.y-rO.y,fE=aT*aT+dI*dI;if(Math.sqrt(fE)<4){return false;}}bJ.x=bJ.x-gi;bJ.y=bJ.y-_top;rO=bJ;return true;});if(pU.length<An){pU=[bF[0],bF[bF.length-1]];}var dw='';rO=undefined;if(pU.length<An){dw+=this.Pv(pU);}else{dw='M'+IPCC.V.bspline(pU);dw=dw.replace(/\d*\.?\d*/g,function(bK){var Fm=bK.indexOf('.');if(bK.length&&Fm>0){return bK.substr(0,Fm+3);}else if(bK!==""){return bK;}else{return bK;}});}var ag=iX-gi;var cq=kU-_top;if(cq===0&&ag===0){this.aR();return;}var qQ={clientX:G.domEvent.clientX,clientY:G.domEvent.clientY};this.nJ.set_rectangle({x:gi,y:_top,width:ag,height:cq});this.nJ.set_pathString(dw);this.nJ.set_pathWidth(ag);this.nJ.set_pathHeight(cq);this.F.oM(null);this.F.ep().addMark(this.nJ,qQ);this.F.cF();}this.aR();};lf.prototype.Pv=function(zo,IK){var TC=(IK&&IPCC.V.EI)?'m':'M';var XM=(IK&&IPCC.V.EI)?'l':'L';return IPCC.V.map(zo,function(bJ,L){if(L===0){return TC+bJ.x+','+bJ.y;}else{return XM+bJ.x+','+bJ.y;}}).join('');};lf.prototype.nV=function(G){var af=this.F.eG();if(G.windowPoint.x<=0||G.windowPoint.x>=af.width-2){this.aR();}if(G.windowPoint.y<=0||G.windowPoint.y>=af.height-2){this.aR();}};lf.prototype.na=function(){this.aR();};module.exports=lf;},{}],13:[function(require,module,exports){var mH=function(){this.bM=false;this.F=false;this.aE=IPCC.bA.AddLineMark;};mH.prototype.mI=function(F){this.F=F;};mH.prototype.eu=function(){this.F=false;};mH.prototype.aR=function(){if(this.bM){this.T=null;this.F.oM(null);this.bM=false;this.F.cF();}};mH.prototype.pR=function(){this.aR();};mH.prototype.kf=function(G){this.aR();if(G.domEvent.button===0){this.bM=true;this.T=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Line);this.T.get_points().setPoint(0,G.imagePoint);this.T.get_points().setPoint(1,G.imagePoint);this.F.oM(this.T);this.sr=G.imagePoint;this.sA=G.windowPoint;}};mH.prototype.ly=function(G){if(G.domEvent.button!==0){this.aR();}if(this.bM){this.T.get_points().setPoint(1,G.imagePoint);this.F.cF();}};mH.prototype.kE=function(G){if(this.bM&&G.domEvent.button===0){var fu=G.windowPoint.x-this.sA.x;var gF=fu*fu;fu=G.windowPoint.y-this.sA.y;gF+=fu*fu;if(gF>25){var F=this.F;var qQ={clientX:G.domEvent.clientX,clientY:G.domEvent.clientY};this.T.get_points().setPoint(1,G.imagePoint);this.F.oM(null);this.F.ep().addMark(this.T,qQ);F.cF();}}this.aR();};mH.prototype.nV=function(G){var af=this.F.eG();if(G.windowPoint.x<=0||G.windowPoint.x>=af.width-2){this.aR();}if(G.windowPoint.y<=0||G.windowPoint.y>=af.height-2){this.aR();}};mH.prototype.na=function(){this.aR();};module.exports=mH;},{}],14:[function(require,module,exports){var kc=function(ad){this.bM=false;this.F=false;this.ad=ad;switch(this.ad){case IPCC.Web.UI.MarkType.Polygon:this.aE=IPCC.bA.AddPolygonMark;break;case IPCC.Web.UI.MarkType.Polyline:this.aE=IPCC.bA.AddPolylineMark;this.Zj=false;break;}};kc.prototype.mI=function(F){this.F=F;};kc.prototype.eu=function(){this.F=false;};kc.prototype.aR=function(){if(this.bM){if(arguments[0]){if(arguments[0]===true){if(this.T&&this.Zj===false){this.F.ep().addMark(this.T);this.Zj=true;this.F.cF();}}}this.T=null;this.F.oM(null);this.bM=false;this.F.cF();}};kc.prototype.pR=function(){this.aR();};kc.prototype.kf=function(G){if(G.domEvent.button===0){if(!this.bM){this.bM=true;this.T=new IPCC.Web.UI.Mark(this.ad);this.T.get_points().addPoint(G.imagePoint);this.F.oM(this.T);}var bF=this.T.get_points();if(bF.get_length()>0){bF.setPoint(bF.get_length()-1,G.imagePoint);}bF.addPoint(G.imagePoint);this.sr=G.imagePoint;this.sA=G.windowPoint;this.F.cF();}else{this.aR();}};kc.prototype.zf=function(G){if(this.bM&&G.domEvent.button===0){var bF=this.T.get_points(),cj=bF.get_length(),UZ,Un;if(cj>2){var adc=true;while(adc){cj=bF.get_length();UZ=bF.getPoint(cj-1);Un=bF.getPoint(cj-2);if(UZ.x===Un.x&&UZ.y===Un.y){bF.removePoint(cj-1);}else{adc=false;}}}if(bF.get_length()>0){bF.setPoint(bF.get_length()-1,G.imagePoint);}this.F.oM(null);var qQ={clientX:G.domEvent.clientX,clientY:G.domEvent.clientY};this.F.ep().addMark(this.T,qQ);this.Zj=true;this.F.cF();}this.aR();};kc.prototype.ly=function(G){if(G.domEvent.button!==0){this.aR();}if(this.bM){var bF=this.T.get_points();if(bF.get_length()>0){bF.setPoint(bF.get_length()-1,G.imagePoint);}this.F.cF();}};kc.prototype.nV=function(G){var af=this.F.eG();if(G.windowPoint.x<=0||G.windowPoint.x>=af.width-2){this.aR();}if(G.windowPoint.y<=0||G.windowPoint.y>=af.height-2){this.aR();}};kc.prototype.na=function(){this.aR();};module.exports=kc;},{}],15:[function(require,module,exports){var eW=function(ad){this.bM=false;this.F=false;this.ad=ad;switch(this.ad){case IPCC.Web.UI.MarkType.Rectangle:this.aE=IPCC.bA.AddRectangleMark;break;case IPCC.Web.UI.MarkType.Ellipse:this.aE=IPCC.bA.AddEllipseMark;break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:this.aE=IPCC.bA.AddTextMark;break;case IPCC.Web.UI.MarkType.Stamp:this.aE=IPCC.bA.AddStampMark;break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:this.aE=IPCC.bA.AddImageStampMark;break;case IPCC.Web.UI.MarkType.RectangleRedaction:this.aE=IPCC.bA.AddRectangleRedactionMark;break;case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:this.aE=IPCC.bA.AddRectangleMark;break;}};eW.prototype.mI=function(F){this.F=F;};eW.prototype.eu=function(){this.F=false;};eW.prototype.aR=function(){if(this.bM){this.T=null;this.F.oM(null);this.bM=false;this.F.cF();}};eW.prototype.pR=function(){this.aR();};eW.prototype.kf=function(G){this.aR();if(G.domEvent.button===0){this.bM=true;this.T=new IPCC.Web.UI.Mark(this.ad);this.T.set_rectangle({x:G.imagePoint.x,y:G.imagePoint.y,width:0,height:0});this.F.oM(this.T);this.sr=G.imagePoint;this.sA=G.windowPoint;}};eW.prototype.ly=function(G){if(G.domEvent.button!==0){this.aR();}if(this.bM){var kG={x:Math.min(G.imagePoint.x,this.sr.x),y:Math.min(G.imagePoint.y,this.sr.y)};kG.width=Math.max(G.imagePoint.x,this.sr.x)-kG.x;kG.height=Math.max(G.imagePoint.y,this.sr.y)-kG.y;this.T.set_rectangle(kG);this.F.cF();}};eW.prototype.kE=function(G){if(this.bM&&G.domEvent.button===0){var fu=G.windowPoint.x-this.sA.x;var gF=fu*fu;fu=G.windowPoint.y-this.sA.y;gF+=fu*fu;if(gF>25){var kG={x:Math.min(G.imagePoint.x,this.sr.x),y:Math.min(G.imagePoint.y,this.sr.y)};kG.width=Math.max(G.imagePoint.x,this.sr.x)-kG.x;kG.height=Math.max(G.imagePoint.y,this.sr.y)-kG.y;this.F.oM(null);this.T.set_rectangle(kG);var av=this.T;var F=this.F;var qQ={clientX:G.domEvent.clientX,clientY:G.domEvent.clientY};this.F.ep().addMark(this.T,qQ);if(av.jc()===IPCC.Web.UI.MarkType.Text||av.jc()===IPCC.Web.UI.MarkType.TextLine||av.jc()===IPCC.Web.UI.MarkType.TextAreaSignature){F.vQ(av);}F.cF();}}this.aR();};eW.prototype.nV=function(G){var af=this.F.eG();if(G.windowPoint.x<=0||G.windowPoint.x>=af.width-2){this.aR();}if(G.windowPoint.y<=0||G.windowPoint.y>=af.height-2){this.aR();}};eW.prototype.na=function(){this.aR();};module.exports=eW;},{}],16:[function(require,module,exports){var ce={};var aBl=require('./ArtUIDirector');var OC=require('./ArtSVGUIDirector');ce.tL={HC:function(){var uO=IPCC.ce.tL;if(uO.tN===null){
/*@cc_on@if(@_jscript)uO.tN=document.documentMode>8;@else@*/ uO.tN=true;/*@end@*/}return uO.tN;},tN:null};ce.BE=1;ce.dF=aBl;ce.OC=OC;module.exports=ce;},{"./ArtSVGUIDirector":17,"./ArtUIDirector":18}],17:[function(require,module,exports){var ali=function(){};ali.prototype={apB:function(F,aN,aa){this.F=F;this.aj=F.bw();this.aN=aN;this.eJ=aa.width;this.er=aa.height;this.Hk=aa.hC;this.aGX=aa.fO;aN.BU=this.df('g');this.cv(aN.BU,{'fill-opacity':1});aN.yn.appendChild(aN.BU);},aqt:function(K){var iS='',C,J=this;switch(K.T.get_type()){case IPCC.Web.UI.MarkType.Rectangle:K.aD=this.df('rect');if(K.T.kF()&&K.T.get_opacity()===255){K.aD.addEventListener("mouseover",function(G){if(K.T.get_selected()===false&&K.aD&&(G.which===0||G.buttons===0)){K.aD.style.opacity=127/255;}},false);K.aD.addEventListener("mouseout",function(G){if(K.aD&&(G.which===0||G.buttons===0)){K.aD.style.opacity=K.T.get_opacity()/255;}},false);}break;case IPCC.Web.UI.MarkType.HighlightText:iS="highlighttextannotation-"+K.T.jJ();K.aD=this.df('g');K.iR=this.df('g');K.aD.appendChild(K.iR);K.kK=this.df('g');K.kK.setAttribute('data-pcc-mark',iS);K.aD.appendChild(K.kK);break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:iS="texthyperlinkannotation-"+K.T.jJ();K.aD=this.df('g');K.aD.style.cursor=IPCC.bA.fc(IPCC.bA.Link);K.iR=this.df('g');K.aD.appendChild(K.iR);K.kK=this.df('g');K.kK.style.opacity=IPCC.ce.dF.ahZ();K.kK.style.fill="blue";K.kK.setAttribute('data-pcc-mark',iS);K.aD.appendChild(K.kK);K.kb=this.df('g');K.kb.style.stroke="blue";K.kb.style.opacity=IPCC.ce.dF.HT(false);K.kb.setAttribute('data-pcc-mark',iS);K.aD.appendChild(K.kb);K.aD.addEventListener("mouseover",function(G){if(K.kb){K.kb.style.opacity=IPCC.ce.dF.HT(true,K.T.get_selected());}},false);K.aD.addEventListener("mouseout",function(G){if(K.kb){K.kb.style.opacity=IPCC.ce.dF.HT(false,K.T.get_selected());}},false);break;case IPCC.Web.UI.MarkType.DocumentHyperlink:iS="documenthyperlink-"+K.T.jJ();K.aD=this.df('g');K.aD.style.cursor=IPCC.bA.fc(IPCC.bA.Link);K.C=this.df('rect');K.C.style['fill-opacity']=IPCC.ce.dF.ahZ();if(K.T.PF!=='Underline'){K.C.style.stroke=K.T.kS;K.C.style['stroke-width']=K.T.eC+'px';K.C.style['stroke-opacity']=(K.T.eC===0)?0:K.T.ro/255;if(K.T.PF==='Dashed'){K.C.style['stroke-dasharray']=K.T.Bp.join(', ');}K.C.setAttribute('rx',K.T.HH);K.C.setAttribute('ry',K.T.FE);}else{K.wm=this.df('line');K.wm.style.stroke=K.T.kS;K.wm.style['stroke-opacity']=K.T.ro/255;K.wm.style['stroke-width']=K.T.eC+'px';K.aD.appendChild(K.wm);}K.C.style.fill='transparent';K.C.setAttribute('data-pcc-mark',iS);K.aD.appendChild(K.C);break;case IPCC.Web.UI.MarkType.RectangleRedaction:iS="textmark-"+K.T.jJ();K.aD=this.df('g');K.ey=this.df('rect');K.fS=this.df('g');K.fS.setAttribute('data-pcc-mark',iS);if(IPCC.V.vj.aBk){K.fS.style.cursor='pointer';}K.zk=document.createTextNode('');if(document.documentMode>8||IPCC.V.vj.zE){K.dc=this.df('text');K.dc.setAttribute('data-pcc-mark',iS);K.dc.appendChild(K.zk);K.xC=this.df('clipPath');K.CG=this.df('rect');K.fS.appendChild(K.xC);K.xC.appendChild(K.CG);K.fS.appendChild(K.dc);K.Io="PCC"+IPCC.ce.BE;IPCC.ce.BE++;this.cv(K.xC,{id:K.Io,clipPathUnits:"userSpaceOnUse"});C=K.T.get_rectangle();this.cv(K.CG,{x:0,y:0,width:C.width,height:C.height,"data-pcc-mark":iS});var abf=function(G){if(K.T.get_selected()===false&&K.ey&&(G.which===0||G.buttons===0)){if(J.F.nY()===false){K.aD.style.opacity=0.5;K.dc.style.opacity=0;}}};K.aD.addEventListener("mouseover",function(G){abf(G);},false);K.fS.addEventListener("mouseover",function(G){abf(G);},false);K.fS.addEventListener("mouseout",function(G){if(K.ey&&(G.which===0||G.buttons===0)){if(J.F.nY()===false){K.aD.style.opacity=1;K.dc.style.opacity=1;}}},false);K.aD.addEventListener("mouseout",function(G){if(K.ey&&(G.which===0||G.buttons===0)){if(J.F.nY()===false){K.aD.style.opacity=1;K.dc.style.opacity=1;}}},false);}else{K.mV=document.createElement('div');this.cv(K.mV,{"data-pcc-mark":iS});K.mV.appendChild(K.zk);K.Pr=document.createElement('div');this.cv(K.Pr,{"data-pcc-mark":iS});K.Pr.appendChild(K.mV);K.wM=document.createElement('body');this.cv(K.wM,{xmlns:'http://www.w3.org/1999/xhtml',style:'margin:0;overflow:hidden;background-color:transparent;white-space:pre-wrap;',"data-pcc-mark":iS});K.wM.appendChild(K.Pr);K.Fc=this.df('foreignObject');K.Fc.appendChild(K.wM);K.fS.appendChild(K.Fc);K.wM.addEventListener("mouseover",function(G){if(K.T.get_selected()===false&&K.ey&&(G.which===0||G.buttons===0)){K.ey.style.opacity=0.5;K.mV.style.opacity=0;}},false);K.wM.addEventListener("mouseout",function(G){if(K.ey&&(G.which===0||G.buttons===0)){if(J.F.nY()===false){K.ey.style.opacity=1;K.mV.style.opacity=1;}}},false);}K.aD.appendChild(K.ey);break;case IPCC.Web.UI.MarkType.Ellipse:K.aD=this.df('ellipse');break;case IPCC.Web.UI.MarkType.Highlight:K.aD=this.df('rect');break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:K.aD=this.df('g');K.iR=K.aD;break;case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:K.aD=this.df('g');K.rv=this.df('polyline');K.XH=this.df('path');K.Rs=this.df('path');K.aD.appendChild(K.rv);K.aD.appendChild(K.XH);K.aD.appendChild(K.Rs);K.rv.setAttribute('stroke-linejoin','miter');K.rv.setAttribute('stroke-linecap','butt');K.rv.setAttribute('stroke-miterlimit','4');break;case IPCC.Web.UI.MarkType.Polygon:K.aD=this.df('polygon');break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.TextAreaSignature:iS="textmark-"+K.T.jJ();K.aD=this.df('g');K.HM=this.df('polygon');K.rv=this.df('path');K.aag=this.df('path');K.fS=this.df('g');K.aD.appendChild(K.HM);K.aD.appendChild(K.rv);K.aD.appendChild(K.aag);this.cv(K.HM,{style:'stroke:none;'});K.fS.setAttribute('data-pcc-mark',iS);K.zk=document.createTextNode('');if(document.documentMode>8||IPCC.V.vj.zE){K.dc=this.df('text');K.dc.setAttribute('data-pcc-mark',iS);K.dc.appendChild(K.zk);K.xC=this.df('clipPath');K.CG=this.df('rect');K.fS.appendChild(K.xC);K.xC.appendChild(K.CG);K.aim=this.df('g');K.fS.appendChild(K.aim);K.fS.appendChild(K.dc);K.Io="PCC"+IPCC.ce.BE;IPCC.ce.BE++;this.cv(K.xC,{id:K.Io,clipPathUnits:"userSpaceOnUse"});C=K.T.get_rectangle();this.cv(K.CG,{x:0,y:0,width:C.width,height:C.height,"data-pcc-mark":iS});}else{K.mV=document.createElement('div');K.mV.appendChild(K.zk);K.wM=document.createElement('body');this.cv(K.wM,{xmlns:'http://www.w3.org/1999/xhtml',style:'margin:0;overflow:hidden;background-color:transparent;white-space:pre-wrap;',"data-pcc-mark":iS});K.wM.appendChild(K.mV);K.Fc=this.df('foreignObject');K.Fc.appendChild(K.wM);K.fS.appendChild(K.Fc);}K.HM.setAttribute('data-pcc-mark',iS);break;case IPCC.Web.UI.MarkType.Stamp:K.aD=this.df('g');K.vX=this.df('rect');K.vX.style='fill:rgba(255, 255, 255, 0);stroke:none;';K.ey=this.df('rect');K.GS=this.Uo(K);K.aD.appendChild(K.vX);K.aD.appendChild(K.ey);K.aD.appendChild(K.GS);break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:K.aD=this.df('g');K.vX=this.df('rect');K.vX.style='fill:rgba(255, 255, 255, 0);stroke:none;';K.ey=this.df('rect');K.ahR=this.aqj(K);K.ahR.setAttribute('data-pcc-mark',"mark-"+K.T.jJ());K.aD.appendChild(K.vX);K.aD.appendChild(K.ey);K.aD.appendChild(K.ahR);break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Freehand:var T=K.T;var aef=T.ca();var ag=aef.width;var cq=aef.height;var Ik=T.get_pathWidth();var Iy=T.get_pathHeight();var tX=T.get_pathString();var hx=IPCC.V.xf.Path(tX,{width:ag,height:cq,multiplier:100,thickness:T.get_lineWidth(),color:T.get_lineColor()});var ef=IPCC.V.xf.SVG('0 0 '+Ik+' '+Iy,100);var aL=IPCC.V.xf.Rect(Ik,Iy,'fill:rgba(255, 255, 255, 0);stroke:none;');ef.appendChild(aL);ef.appendChild(hx);K.aD=ef;K.azy=hx;K.afk=aL;this.abl(K.aD,T.iv);break;case IPCC.Web.UI.MarkType.SignatureText:K.aD=this.df('g');K.ey=this.df('rect');K.ey.style='fill:rgba(255, 255, 255, 0);stroke:none;';K.GS=this.Uo(K);K.aD.appendChild(K.ey);K.aD.appendChild(K.GS);K.T.jF=false;break;case IPCC.Web.UI.MarkType.TextLine:K.aD=this.df('g');K.ey=this.df('rect');K.ey.style='fill:rgba(255, 255, 255, 0);stroke:none;';K.GS=this.Uo(K);K.aD.appendChild(K.ey);K.aD.appendChild(K.GS);break;case IPCC.Web.UI.MarkType.Strikethrough:iS="strikethroughannotation-"+K.T.jJ();K.aD=this.df('g');K.iR=this.df('g');K.aD.appendChild(K.iR);K.kK=this.df('g');K.kK.setAttribute('data-pcc-mark',iS);K.aD.appendChild(K.kK);K.xa=this.df('g');K.xa.setAttribute('data-pcc-mark',iS);K.aD.appendChild(K.xa);break;}K.aD.ImGearMarkRelation=K;K.aD.setAttribute('data-pcc-mark',"mark-"+K.T.jJ());this.aN.BU.appendChild(K.aD);if(K.fS){K.fS.ImGearMarkRelation=K;this.aN.BU.appendChild(K.fS);}this.adK(K);},Uo:function(K){var T=K.T;var Dp=T.bp;if(!Dp){Dp=T.dO[0];if(!Dp){if(T.get_type()===IPCC.Web.UI.MarkType.Stamp){Dp="APPROVED";}else{Dp="";}}}var C=T.ca();K.dc=this.df('text');K.Io="PCC"+IPCC.ce.BE;IPCC.ce.BE++;var nl=document.createTextNode(Dp);K.dc.setAttribute("font-size","22px");if(T.get_type()===IPCC.Web.UI.MarkType.TextLine){K.dc.setAttribute("style",'white-space:pre;');}switch(K.T.iv){case IPCC.Web.UI.HorizontalAlignment.Left:K.dc.setAttribute('text-anchor','start');K.dc.setAttribute('x',C.x);break;case IPCC.Web.UI.HorizontalAlignment.Right:K.dc.setAttribute('text-anchor','end');K.dc.setAttribute("x",C.x+C.width);break;default:K.dc.setAttribute('text-anchor','middle');K.dc.setAttribute("x",C.x+(C.width/2));break;}K.dc.setAttribute('y',C.y+(C.height/2));K.dc.appendChild(nl);return K.dc;},aqj:function(K){var T=K.T;K.ajt=document.createElementNS('http://www.w3.org/2000/svg','svg');K.xo=document.createElementNS('http://www.w3.org/2000/svg','image');K.xo.setAttribute('id','childimg');K.xo.setAttributeNS('http://www.w3.org/1999/xlink','href',T.get_image());K.ajt.appendChild(K.xo);return K.ajt;},apI:function(K,iv){var T=K.T;var C=T.ca();var bp=T.bp;var Ks=bp.split('\n');var dc=K.dc;var VB=0;var Vk=0;var ZA=0;var xs=0;var aiK=0;var agv=this.Hk/72;var acN=T.dh*agv;var xR=[];var aFz=/(.*\s)(.*)/;var nl,jk,GP,DV,_parent,aes,JT,IU,adh,yW,agG,Fh;aes=dc.childNodes.length;if(aes>=1){_parent=dc.parentNode;JT=this.df('text');JT.setAttribute('data-pcc-mark',K.fS.getAttribute('data-pcc-mark'));JT.setAttribute('width',K.fS.getAttribute('width')-K.T.eC);_parent.replaceChild(JT,dc);K.dc=JT;K.dc.appendChild(K.zk);K.fS.appendChild(K.dc);dc={};dc=K.dc;}dc.style.fontSize=T.dh*this.Hk/72+'px';dc.style.fontFamily=T.gI;dc.width-=4;IU=(T.eC/2);if(iv){switch(iv){case IPCC.Web.UI.HorizontalAlignment.Center:IU=(C.width/2)-(T.eC/2);break;case IPCC.Web.UI.HorizontalAlignment.Right:IU=C.width-T.eC;break;}}for(var L=0;L<Ks.length;L++){yW='';agG=1;if(Ks[L].length>0){GP=Ks[L].split('');jk=this.df('tspan');jk.setAttributeNS(null,"x",IU);if(L>0){jk.setAttributeNS(null,"dy",acN*(ZA+1));}nl=window.document.createTextNode(GP[0]);jk.appendChild(nl);dc.appendChild(jk);for(var aw=1;aw<GP.length;aw++){aiK=jk.firstChild.data.length;DV=GP[aw];jk.firstChild.data+=GP[aw];yW+=DV;adh=yW.length*(T.dh*agv);VB=jk.getComputedTextLength();if(VB===0){Vk=adh;}else{Vk=VB;}if(Vk>=(C.width-T.eC-2)){agG++;yW='';Fh=jk.firstChild.data.match(aFz);if(Fh){DV=Fh[2];}if(Fh&&Fh[1].length>0){jk.firstChild.data=Fh[1];yW+=DV;}else{jk.firstChild.data=jk.firstChild.data.slice(0,aiK);yW+=DV;}if(yW.length>=1){xR.push({bL:xs,acf:jk});jk=this.df('tspan');jk.setAttributeNS(null,"x",IU);jk.setAttributeNS(null,"dy",acN);nl=window.document.createTextNode(DV);jk.appendChild(nl);dc.appendChild(jk);}}}if(jk.firstChild.data.length>0){xR.push({bL:xs,acf:jk});}xs+=jk.firstChild.data.length+1;ZA=0;}else{ZA++;}}return xR;},aEu:function(lp,aeA,iR,xs){if(lp.length>0){var ank=aeA.getNumberOfChars();if(lp[0].bL>xs+ank){return;}for(var L=Math.max(lp[0].bL-xs,0);L<ank;L++){var C=aeA.getExtentOfChar(L);var aL=this.df('rect');this.cv(aL,{x:C.x,y:C.y,width:C.width,height:C.height,fill:lp[0].DH});iR.appendChild(aL);if(lp[0].cl===L+xs){lp.shift();if(lp.length===0){return;}L=lp[0].bL-xs-1;}}}},CC:function(dR,rQ,rw){var hx='M',L;for(L=0;L<rQ.length;L++){if(L>0){hx+=' L';}hx+=rQ[L].x+','+rQ[L].y;}if(rw){hx+='Z';}this.cv(dR,{d:hx});},YV:function(dR,rQ,rw){var La='',L;for(L=0;L<rQ.length;L++){if(L>0){La+=' ';}La+=rQ[L].x+','+rQ[L].y;}if(rw&&rQ.length>2){La+=' '+rQ[0].x+','+rQ[0].y;}this.cv(dR,{points:La});},acq:function(gL,kL,zL,sI,AM,ZU,Go){var cz=this.avk(gL,kL,zL,sI,AM);var fK='';fK+='stroke:'+ZU+';';switch(AM){case IPCC.Web.UI.LineHeadType.None:fK='display:none;';break;case IPCC.Web.UI.LineHeadType.Pointer:this.CC(Go,[cz.Bf,gL,cz.CE],false);break;case IPCC.Web.UI.LineHeadType.Solid:this.CC(Go,[cz.Bf,gL,cz.CE],true);fK+='fill:'+ZU+';';break;case IPCC.Web.UI.LineHeadType.Open:this.CC(Go,[cz.Bf,gL,cz.CE],true);break;case IPCC.Web.UI.LineHeadType.PointerSolid:this.CC(Go,[cz.Bf,gL,cz.CE,cz.FI],true);fK+='fill:'+ZU+';';break;}this.cv(Go,{style:fK});return cz;},arM:function(K){var T=K.T;var bF,hm,L,aeB,aho,iM='',AW;bF=T.get_points();hm=[];for(L=0;L<bF.get_length();L++){hm.push(bF.getPoint(L));}if(hm.length<2||T.rw){this.cv(K.XH,{style:'display:none;'});this.cv(K.Rs,{style:'display:none;'});}else{T.Ar=T.kS;AW=this.alv(hm,true);aeB=this.acq(AW.gL,AW.kL,T.Fi,T.GJ,T.GT,T.Ar,K.XH);AW=this.alv(hm,false);aho=this.acq(AW.gL,AW.kL,T.Jb,T.JO,T.mW,T.Ar,K.Rs);hm[0]=aeB.FI;hm[hm.length-1]=aho.FI;}this.YV(K.rv,hm,T.rw);var wJ=this.WN(T.iM);if(wJ!==''){iM+='stroke-dasharray:'+wJ+';';}this.cv(K.rv,{style:iM});},acC:function(K){var Fs=this.auo(K);this.YV(K.HM,Fs.aiU,false);var aja='',iM='fill:none;',rg='fill:none;';if(Fs.Zv){aja='stroke:none;';}if(Fs.WQ){this.CC(K.rv,Fs.WQ,false);}else{iM+='display:none;';}if(Fs.OZ){this.CC(K.aag,Fs.OZ,false);}else{rg+='display:none;';}var T=K.T;if(T.xv){rg+='stroke:'+T.Bw+';stroke-width:'+T.AZ+';';var wJ=this.WN(T.rg);if(wJ!==''){rg+='stroke-dasharray:'+wJ+';';}}this.cv(K.rv,{style:iM});this.cv(K.aag,{style:rg});this.cv(K.HM,{style:aja});},XQ:function(K){var T=K.T,FY;if(!T){return;}var C=T.ca();var EJ=T.dh*this.Hk/72;T.EJ=EJ;var qr=C.width,re=C.height,Hu=false,fu;var hI,fA=0,fo=0;var ub=1;if(T.jF){ub+=T.eC/2;}switch(T.yK){case IPCC.Web.UI.Orientation.TopLeft:hI='1,0,0,1';break;case IPCC.Web.UI.Orientation.TopRight:hI='-1,0,0,1';fA=qr-ub;break;case IPCC.Web.UI.Orientation.BottomRight:hI='-1,0,0,-1';fA=qr-ub;fo=re-ub;break;case IPCC.Web.UI.Orientation.BottomLeft:hI='1,0,0,-1';fo=re-ub;break;case IPCC.Web.UI.Orientation.LeftTop:hI='0,1,1,0';Hu=true;break;case IPCC.Web.UI.Orientation.RightTop:hI='0,1,-1,0';fA=qr-ub;Hu=true;break;case IPCC.Web.UI.Orientation.RightBottom:hI='0,-1,-1,0';fA=qr-ub;fo=re-ub;Hu=true;break;case IPCC.Web.UI.Orientation.LeftBottom:hI='0,-1,1,0';fo=re-ub;Hu=true;break;}if(T.dJ==="#c0c0c0"){T.dJ='#ffffff';}if(T.get_type()===IPCC.Web.UI.MarkType.Text){if(T.kF()===true){T.dJ='#ffffff';}else{T.set_opacity(T.di);}}if(Hu){fu=qr;qr=re;re=fu;}if(qr<0){qr=0;}if(re<0){re=0;}var ZX='normal';var cJ='normal';var lG='';var rs;lG+='word-wrap:break-word;background-color:transparent;line-height:1;';var AT=0;if(T.rk.length===7&&T.rk.charAt(0)==='#'){AT=parseInt(T.rk.slice(1),16);}var di=Math.min(1,Math.max(0,T.yI/255));if(document.documentMode>8||IPCC.V.vj.zE){cJ='normal';if(T.cJ&IPCC.Web.UI.FontStyle.Italic){cJ='italic';}ZX='normal';if(T.cJ&IPCC.Web.UI.FontStyle.Bold){ZX='bold';}rs='none';if((T.cJ&IPCC.Web.UI.FontStyle.Underline)&&(T.cJ&IPCC.Web.UI.FontStyle.Strikeout)){rs='underline line-through';}else if(T.cJ&IPCC.Web.UI.FontStyle.Underline){rs='underline';}else if(T.cJ&IPCC.Web.UI.FontStyle.Strikeout){rs='line-through';}}else{lG+='color:rgba('+(AT>>16)+','+((AT>>8)&255)+','+(AT&255)+','+di+');';lG+='font-family:'+T.gI+';';lG+='font-size:'+EJ+'px;';if(T.cJ&IPCC.Web.UI.FontStyle.Italic){lG+='font-style:italic;';}if(T.cJ&IPCC.Web.UI.FontStyle.Bold){lG+='font-weight:bold;';}if((T.cJ&IPCC.Web.UI.FontStyle.Underline)&&(T.cJ&IPCC.Web.UI.FontStyle.Strikeout)){lG+='text-decoration:underline line-through;';}else if(T.cJ&IPCC.Web.UI.FontStyle.Underline){lG+='text-decoration:underline;';}else if(T.cJ&IPCC.Web.UI.FontStyle.Strikeout){lG+='text-decoration:line-through;';}}var Cz={x:2,anchor:'start'};switch(T.iv){case IPCC.Web.UI.HorizontalAlignment.Left:lG+='text-align:left;';break;case IPCC.Web.UI.HorizontalAlignment.Center:lG+='text-align:center;';Cz.x=(C.width/2)-3;Cz.anchor='middle';break;case IPCC.Web.UI.HorizontalAlignment.Right:lG+='text-align:right;';Cz.x=C.width-8;Cz.anchor='end';break;default:break;}if(typeof document.documentMode==='undefined'&& !IPCC.V.vj.zE){switch(T.vq){case IPCC.Web.UI.VerticalAlignment.Center:if(T.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){this.cv(K.Pr,{style:'display:table; width: 100%;'});lG+='display: table-cell; white-space: normal; vertical-align: middle; height:'+re+'px;';}break;case IPCC.Web.UI.VerticalAlignment.Bottom:break;default:break;}this.cv(K.mV,{style:lG+'padding:2px;'});this.cv(K.fS,{transform:'matrix('+hI+','+(fA+C.x+(T.eC/2))+','+(fo+C.y+(T.eC/2))+')',});this.cv(K.Fc,{x:0,y:0,width:qr>T.eC?qr-T.eC:qr,height:re>T.eC?re-T.eC:re,});this.ate(K);}else{var xR=this.apI(K,T.iv);var amO=xR.length;switch(T.vq){case IPCC.Web.UI.VerticalAlignment.Center:if(T.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){FY=(C.height/2)+(T.dh/4);if(amO>1){FY-=(amO-1)*(T.dh/2);}if(FY<0){FY=T.dh;}}break;case IPCC.Web.UI.VerticalAlignment.Bottom:break;default:break;}this.cv(K.CG,{x:0,y:0,width:C.width-T.eC,height:C.height-T.eC});var atk="url(#"+K.Io+")";var abk={x:Cz.x,y:(this.Hk/72)*T.dh,width:C.width-T.eC,height:C.height-T.eC,'font-family':T.gI,'font-size':EJ,fill:'rgba('+(AT>>16)+', '+((AT>>8)&255)+', '+(AT&255)+', '+di+')','font-weight':ZX,'font-style':cJ,'text-decoration':rs,'text-anchor':Cz.anchor};if(typeof FY!=='undefined'){delete abk.y;abk.dy=FY;}this.cv(K.dc,abk);K.dc.style.opacity=di;this.cv(K.fS,{transform:'matrix('+hI+','+(fA+C.x+(T.eC/2))+','+(fo+C.y+(T.eC/2))+')','clip-path':atk});var iR=K.aim;while(iR&&iR.firstChild){iR.removeChild(iR.firstChild);}if(T.fG){var lp=this.aeu(T.fG);for(var L=0;L<xR.length;L++){this.aEu(lp,xR[L].acf,iR,xR[L].bL);}}}},Xq:function(K){var T=K.T;if(T.bE===null||T.bE===undefined){return;}if(T.bE.length===0&&T.cr>0&&this.F.bY().mB()){T.bE=IPCC.V.Sl(this.F.bY().hc(),T.bL,T.bL+T.cr-1);}if(!K.bL|| !K.cr||K.bL!==T.bL||K.cr!==T.cr||T.cV===false||T.cV===true){while(K.kK.firstChild){K.kK.removeChild(K.kK.firstChild);}if(K.kb){while(K.kb.firstChild){K.kb.removeChild(K.kb.firstChild);}}if(K.xa){while(K.xa.firstChild){K.xa.removeChild(K.xa.firstChild);}}if(T.cV===false){return;}IPCC.V.forEach(K.T.bE,function(gO){var aaU=this.df('rect');K.kK.appendChild(aaU);this.cv(aaU,{x:gO.x,y:gO.y,width:gO.width,height:gO.height});if(K.kb){var wm=this.df('line');this.cv(wm,{x1:gO.x,y1:gO.y+gO.height-1,x2:gO.x+gO.width,y2:gO.y+gO.height-1,"stroke-width":2});K.kb.appendChild(wm);}if(K.xa){aaU.setAttribute('fill','transparent');var acG=this.df('line');var strikethroughY=gO.y+(gO.height/2);this.cv(acG,{x1:gO.x,y1:strikethroughY,x2:gO.x+gO.width,y2:strikethroughY,stroke:K.T.kS,"stroke-width":K.T.eC});K.xa.appendChild(acG);}},this);K.bL=T.bL;K.cr=T.cr;}},adK:function(K){var T=K.T;if(!T){return;}var aD=K.aD;var C,fK='',bF,jF=true,os,xq,yp,ZW,uC,DY;var kO=false;switch(T.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:kO=true;this.arM(K);break;case IPCC.Web.UI.MarkType.Rectangle:C=T.get_rectangle();this.cv(aD,{x:C.x,y:C.y,width:C.width,height:C.height});break;case IPCC.Web.UI.MarkType.HighlightText:this.Xq(K);K.kK.style.fill=T.dJ;K.kK.style.opacity=(T.di/255);this.NL(K);break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:this.Xq(K);K.kK.style.fill=T.dJ;K.kb.style.stroke=T.dJ;if(K.T.get_selected()){K.kb.style.opacity=IPCC.ce.dF.HT(false,K.T.get_selected());}else{K.kb.style.opacity=IPCC.ce.dF.HT(false,K.T.get_selected());}this.NL(K);break;case IPCC.Web.UI.MarkType.DocumentHyperlink:C=T.get_rectangle();this.cv(K.C,{x:C.x,y:C.y,width:C.width,height:C.height});if(K.wm){this.cv(K.wm,{x1:C.x,y1:C.y+C.height,x2:C.x+C.width,y2:C.y+C.height});}break;case IPCC.Web.UI.MarkType.RectangleRedaction:if(typeof K.ey!=='undefined'){if(this.F.nY()===true){K.ey.style.opacity=0.5;if(typeof K.mV!=='undefined'){K.mV.style.opacity=0;}else{K.dc.style.opacity=0;}}else{K.ey.style.opacity=1;if(typeof K.mV!=='undefined'){K.mV.style.opacity=1;}}}C=T.get_rectangle();this.cv(aD,{x:C.x,y:C.y,width:C.width,height:C.height});this.cv(K.ey,{x:C.x,y:C.y,width:C.width,height:C.height});if(this.F.nY()===false){this.XQ(K);}break;case IPCC.Web.UI.MarkType.Ellipse:C=T.get_rectangle();this.cv(aD,{cx:C.x+C.width/2,cy:C.y+C.height/2,rx:C.width/2,ry:C.height/2});break;case IPCC.Web.UI.MarkType.Polygon:bF=this.YC(T);this.YV(aD,bF,false);fK+='fill-rule:evenodd;';break;case IPCC.Web.UI.MarkType.Text:this.acC(K);this.XQ(K);break;case IPCC.Web.UI.MarkType.TextAreaSignature:var cD=IPCC.V.ajx();var qR=IPCC.V.ahM();qR.nodeValue=T.get_text();var hN=T.hN;var aY=this.F.mD().iy();C=T.get_rectangle();cD.style.width=(C.width-T.eC/2)+'px';cD.style.height=(C.height-T.eC/2)+'px';cD.style.fontFamily=T.gI;cD.style.padding='2px';cD.style.fontStyle=T.cJ;T.dh=IPCC.V.SI(cD,hN,aY)*72/this.Hk;this.acC(K);this.XQ(K);break;case IPCC.Web.UI.MarkType.Stamp:C=T.get_rectangle();this.cv(aD,{x:C.x,y:C.y,width:C.width,height:C.height});this.cv(K.vX,{x:C.x,y:C.y,width:C.width,height:C.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});K.vX.style.opacity=1;this.cv(K.ey,{x:C.x,y:C.y,width:C.width,height:C.height,'stroke':T.dJ,'stroke-width':'5','fill':'none','rx':10,'ry':10});var textFontSize=(C.width/6);if(textFontSize>C.height){textFontSize=(C.height-(C.height/6));}os=K.T.get_text();if(!os){os='APPROVED';}K.dc.childNodes[0].data=os;var sc=os.length*textFontSize;if(sc>C.width){textFontSize=((C.width/os.length));}DY=Math.round(textFontSize);T.stampSize=DY.toString();this.cv(K.dc,{x:C.x+(C.width/2),y:C.y+(C.height/2+(textFontSize/3)),'font-size':textFontSize,'stroke':T.dJ,'font-family':"Arial"});break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:C=T.get_rectangle();this.cv(aD,{x:C.x,y:C.y,width:C.width,height:C.height});this.cv(K.vX,{x:C.x,y:C.y,width:C.width,height:C.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});K.vX.style.opacity=1;this.cv(K.ey,{x:C.x,y:C.y,width:C.width,height:C.height,'stroke':T.dJ,'stroke-width':'0','fill':'none'});K.xo.setAttribute('height',C.height);K.xo.setAttribute('width',C.width);K.xo.setAttribute('x',C.x);K.xo.setAttribute('y',C.y);K.xo.setAttributeNS('http://www.w3.org/1999/xlink','href',T.get_image());break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:this.NL(K);break;case IPCC.Web.UI.MarkType.Highlight:C=T.get_rectangle();if(C.x===0&&C.y===0){var gh=this.F.bY().hc();if(gh.eN()>0){var en=gh.kB(T.bL);C=en.bo;}T.jD='y';}this.cv(aD,{x:C.x,y:C.y,width:C.width,height:C.height});break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Freehand:C=T.get_rectangle();this.cv(aD,{x:C.x,y:C.y,width:C.width,height:C.height});var LF=K.azy;if(T.ajq===true){T.ajq=false;LF.setAttribute("d",T.get_pathString());var Ik=T.get_pathWidth();var Iy=T.get_pathHeight();aD.setAttribute('viewBox','0 0 '+Ik+' '+Iy);K.afk.setAttribute('width',Ik);K.afk.setAttribute('height',Iy);}if(T.get_visible()){K.aD.style.display='block';}else{K.aD.style.display='none';}this.abl(K.aD,T.iv);LF.style.stroke=T.get_lineColor();LF.style.strokeWidth=T.get_lineWidth()+'px';LF.style.opacity=T.get_opacity()/255;break;case IPCC.Web.UI.MarkType.SignatureText:C=T.get_rectangle();this.cv(aD,{x:C.x,y:C.y,width:C.width,height:C.height});this.cv(K.ey,{x:C.x,y:C.y,width:C.width,height:C.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});K.ey.style.opacity=1;var aok=K.T.get_text()||"";K.dc.childNodes[0].data=aok;xq=12*C.width/(T.Ag||1);yp=12*C.height/(T.zK||1);uC=Math.min(xq,yp);var apj=Math.floor(uC);T.stampSize=apj.toString();switch(T.iv){case IPCC.Web.UI.HorizontalAlignment.Left:K.dc.setAttribute('text-anchor','start');K.dc.setAttribute('x',C.x);break;case IPCC.Web.UI.HorizontalAlignment.Right:K.dc.setAttribute('text-anchor','end');K.dc.setAttribute("x",C.x+C.width);break;default:K.dc.setAttribute('text-anchor','middle');K.dc.setAttribute("x",C.x+(C.width/2));break;}this.cv(K.dc,{y:C.y+(C.height/2+(uC/3)),'font-size':uC,'stroke':"none",'fill':T.get_fillColor(),'font-family':T.get_fontName()});if(T.get_visible()){K.aD.style.display='block';}else{K.aD.style.display='none';}break;case IPCC.Web.UI.MarkType.TextLine:this.cv(aD,{style:'fill:none;opacity:1;'+T.cV?'display:block;':'display:none;'});C=T.get_rectangle();this.cv(aD,{x:C.x,y:C.y,width:C.width,height:C.height});fK='stroke:'+(T.jF?'black':'none')+';stroke-width:1;';this.cv(K.ey,{x:C.x,y:C.y,width:C.width,height:C.height,'stroke':T.jF?'black':'none','fill':'rgba(255, 255, 255, 0)','style':fK});K.dc.style.opacity=1;os=K.T.get_text()||"";K.dc.childNodes[0].data=os;ZW=IPCC.V.aix(os,T.get_fontName(),C.width,C.height,{ud:"pre",ef:K.aD});uC=ZW.fontSize;T.EJ=uC;T.stampSize=uC;T.FM=true;T.oI=ZW;switch(T.iv){case IPCC.Web.UI.HorizontalAlignment.Center:K.dc.setAttribute('text-anchor','middle');K.dc.setAttribute("x",C.x+(C.width/2));break;case IPCC.Web.UI.HorizontalAlignment.Right:K.dc.setAttribute('text-anchor','end');K.dc.setAttribute("x",C.x+C.width);break;default:K.dc.setAttribute('text-anchor','start');K.dc.setAttribute('x',C.x);break;}this.cv(K.dc,{y:C.y+(C.height/2+(uC/3)),'font-size':uC,'stroke':"none",'fill':T.get_textColor(),'font-family':T.get_fontName(),'white-space':'pre'});break;case IPCC.Web.UI.MarkType.Strikethrough:this.Xq(K);this.NL(K);break;default:throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('type',T.get_type());}if(T.get_type()!==IPCC.Web.UI.MarkType.SignaturePath&&T.get_type()!==IPCC.Web.UI.MarkType.Freehand&&T.get_type()!==IPCC.Web.UI.MarkType.SignatureText&&T.get_type()!==IPCC.Web.UI.MarkType.HighlightText&&T.get_type()!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation&&T.get_type()!==IPCC.Web.UI.MarkType.DocumentHyperlink&&T.get_type()!==IPCC.Web.UI.MarkType.Strikethrough&&T.get_type()!==IPCC.Web.UI.MarkType.TextSelectionRedaction){if(kO){fK+='fill:none;';}else{if(T.Hn){fK+='fill:'+T.dJ+';';}else{fK+='fill:none;';}jF=T.jF;var wJ=this.WN(T.iM);if(wJ!==''){fK+='stroke-dasharray:'+wJ+';';}}if(jF){fK+='stroke:'+T.get_lineColor()+';';fK+='stroke-width:'+T.eC+';';}else{fK+='stroke:none;';}if(T.get_type()===IPCC.Web.UI.MarkType.SignatureText){fK+='opacity:'+1+';';}else{fK+='opacity:'+(T.di/255)+';';}if(!T.cV){fK+='display:none;';if(K.fS){K.fS.style.display='none';}}else{if(K.fS){K.fS.style.display='block';}}this.cv(aD,{style:fK});}if(T.get_type()===IPCC.Web.UI.MarkType.Freehand){if(!T.cV){fK+='display:none;';}else{fK+='display:block;';}this.cv(aD,{style:fK});}var aE;if(!this.F.get_areMarksEditable()){aE=this.F.get_cursor();}else if(T.mY===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled&&T.get_type()!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation&&T.get_type()!==IPCC.Web.UI.MarkType.DocumentHyperlink){aE='default';}else if(T.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||T.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink){aE=IPCC.bA.Link;}else if(T.get_type()!==IPCC.Web.UI.MarkType.Highlight&&T.get_type()!==IPCC.Web.UI.MarkType.HighlightText&&T.get_type()!==IPCC.Web.UI.MarkType.Strikethrough&&T.get_type()!==IPCC.Web.UI.MarkType.TextSelectionRedaction&& !(T.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&T.ac)){aE=IPCC.bA.Move;}else{aE=IPCC.bA.Arrow;}aD.style.cursor=IPCC.bA.fc(aE);if(K.fS){K.fS.style.cursor=IPCC.bA.fc(aE);}},abl:function(aD,JI){switch(JI){case IPCC.Web.UI.HorizontalAlignment.Left:aD.setAttribute('preserveAspectRatio','xMinYMid');break;case IPCC.Web.UI.HorizontalAlignment.Center:aD.setAttribute('preserveAspectRatio','xMidYMid');break;case IPCC.Web.UI.HorizontalAlignment.Right:aD.setAttribute('preserveAspectRatio','xMaxYMid');break;}},NL:function(K){var T=K.T,aDS=T.get_visible();var C=T.get_rectangle();if(C.x===0&&C.y===0){return;}var iR=K.iR;while(iR.firstChild){iR.removeChild(iR.firstChild);}var jx;for(var L=0;L<T.fG.length;L++){for(var aw=0;aw<T.fG[L].length;aw++){var aeO=this.F.bY().hc();if(aeO.eN()>0){var asE=aeO.kB(T.fG[L].startIndex+aw);jx=asE.bo;}var aL=this.df('rect');this.cv(aL,{x:jx.x,y:jx.y,width:jx.width,height:jx.height,fill:T.fG[L].color,display:(aDS)?'block':'none'});aL.style.opacity=(T.fG[L].opacity)?(T.fG[L].opacity)/255.0:0.5;iR.appendChild(aL);}}},WN:function(iM){switch(iM){case IPCC.Web.UI.LineStyle.Dash:return '7,7';case IPCC.Web.UI.LineStyle.Dot:return '1,7';case IPCC.Web.UI.LineStyle.DashDot:return '7,7,1,7';case IPCC.Web.UI.LineStyle.DashDotDot:return '7,7,1,7,1,7';default:break;}return '';},Qc:function(K){if(K.aD){this.aN.BU.removeChild(K.aD);}if(K.fS){this.aN.BU.removeChild(K.fS);}delete K.aD;},aFC:function(){},ata:function(){this.aN=undefined;},df:function(bx){return document.createElementNS('http://www.w3.org/2000/svg',bx);},cv:function(aD,ak){var L;for(L in ak){if(ak.hasOwnProperty(L)){var attr=ak[L];aD.setAttribute(L,attr!==undefined&&attr!==null?attr.toString():'');}}}};module.exports=ali;},{}],18:[function(require,module,exports){var OC=require('./ArtSVGUIDirector');var dF=OC;dF.HT=function(isMouseOver,isSelected){return(isSelected?127:(isMouseOver?127:63))/255;};dF.ahZ=function(){return 39/255;};dF.aGx=function(isSelected){return isSelected?"purple":"blue";};dF.prototype.avk=function(gL,kL,zL,sI,AM){var cz={gL:gL,kL:kL,zL:zL,sI:sI,AM:AM};if(gL.x===kL.x&&gL.y===kL.y){cz.AM=IPCC.Web.UI.LineHeadType.None;}var NG=Math.atan2(gL.x-kL.x,-(gL.y-kL.y))+Math.PI/2;zL*=Math.PI/180;var jC=NG+zL;cz.Bf={x:gL.x+Math.cos(jC)*sI,y:gL.y+Math.sin(jC)*sI};jC=NG-zL;cz.CE={x:gL.x+Math.cos(jC)*sI,y:gL.y+Math.sin(jC)*sI};switch(cz.AM){case IPCC.Web.UI.LineHeadType.Solid:case IPCC.Web.UI.LineHeadType.Open:cz.FI={x:(cz.Bf.x+cz.CE.x)/2,y:(cz.Bf.y+cz.CE.y)/2};break;case IPCC.Web.UI.LineHeadType.PointerSolid:cz.FI={x:gL.x+Math.cos(NG)*sI/2,y:gL.y+Math.sin(NG)*sI/2};break;default:cz.FI=gL;break;}return cz;};dF.prototype.auo=function(K){var T=K.T;var C=T.get_rectangle();var Gj={x:T.nc.x+C.x+0.00001,y:T.nc.y+C.y+0.00001};var ah={};var gj=[{x:C.x,y:C.y},{x:C.x+C.width,y:C.y},{x:C.x+C.width,y:C.y+C.height},{x:C.x,y:C.y+C.height}];if(!T.yd){ah.aiU=gj;ah.Zv= !T.jF;return ah;}var L,aaD=[];for(L=0;L<4;L++){aaD.push({x:(gj[L].x+gj[(L+3)%4].x)/2,y:(gj[L].y+gj[(L+3)%4].y)/2,ayl:true});}for(L=3;L>=0;L--){gj.splice(L,0,aaD[L]);}function ami(II){var wo,aeD;wo=(Gj.x-(gj[II].x+gj[(II+1)%8].x)/2)*C.height;aeD=wo*wo;wo=(Gj.y-(gj[II].y+gj[(II+1)%8].y)/2)*C.width;return aeD+wo*wo;};var QF=0,ahX=ami(0),gF;for(L=1;L<8;L++){gF=ami(L);if(gF<ahX){ahX=gF;QF=L;}}gj=gj.slice(QF+1).concat(gj.slice(0,QF+1));var Dz=gj[0],BO=gj[7];for(L=gj.length-1;L>=0;L--){if(gj[L].ayl){gj.splice(L,1);}}switch(T.CB){case IPCC.Web.UI.CalloutType.Triangle:gj.splice(0,0,{x:(Dz.x*3+BO.x)/4,y:(Dz.y*3+BO.y)/4});gj.push({x:(Dz.x+BO.x*3)/4,y:(Dz.y+BO.y*3)/4});if(T.xv){ah.Zv=true;ah.WQ=[].concat(gj);ah.OZ=[gj[0],Gj,gj[gj.length-1]];}gj.push(Gj);break;default:case IPCC.Web.UI.CalloutType.Line:ah.OZ=[{x:(Dz.x+BO.x)/2,y:(Dz.y+BO.y)/2},Gj];break;}ah.aiU=gj;if(!T.jF){ah.Zv=true;delete ah.WQ;delete ah.OZ;}return ah;};dF.prototype.YC=function(T){var bF=T.get_points();var hm=[],L;for(L=0;L<bF.get_length();L++){hm.push(bF.getPoint(L));}return hm;};dF.prototype.alv=function(hm,aCX){var aV=0,LH=1,aec=hm.length-2,gL,kL;if(!aCX){aV=hm.length-1;LH= -1;}gL=hm[aV];aV+=LH;kL=hm[aV];aV+=LH;while(gL.x===kL.x&&gL.y===kL.y&&aec>0){kL=hm[aV];aV+=LH;aec--;}return{gL:gL,kL:kL};};dF.prototype.ady=function(F,aN,bq,lg){if(IPCC.V.Yy){return;}if(!aN.mG){aN.mG=[];}var mG=aN.mG;if(bq.length<1&&mG.length<1){if(aN.yT.firstChild){aN.yT.innerHTML='';}return;}var bk=F.ep();var fk=bk.zH();if(this.ht===undefined){this.ht=40;var AJ=document.createElement("div");AJ.className='pccMarkHandleTopLeft';AJ.visibility='hidden';document.body.appendChild(AJ);if(AJ.currentStyle){this.ht=parseInt(AJ.currentStyle.width,10)||0;}else if(document.defaultView&&document.defaultView.getComputedStyle){var aoE=document.defaultView.getComputedStyle(AJ);this.ht=parseInt(aoE.width,10)||0;}document.body.removeChild(AJ);}var L,Gp=[];for(L=0;L<bq.length;L++){if(bq[L].get_visible()===true){if(fk.GV(bq[L])>=0||(bq[L].get_selected()===true&&(bq[L].ky===true||bq[L].ll===true))||bq[L].xk===true){Gp.push(bq[L]);}}}for(L=0;L<mG.length;L++){while(L<mG.length&&(L>=Gp.length||mG[L].T!==Gp[L])){aN.yT.removeChild(mG[L].gQ);mG.splice(L,1);}if(L<mG.length){this.acy(mG[L],lg);}}for(L=mG.length;L<Gp.length;L++){mG[L]={T:Gp[L]};this.apU(aN.yT,mG[L]);this.acy(mG[L],lg);}};dF.prototype.uZ=function(gQ,anV,Bk,tP,avd,aE,cR){var dn=[],L,ai;if(cR===undefined){cR='handle';}for(L=0;L<anV;L++){ai={aD:document.createElement('div')};ai.aD.ImGearMarkHandle=ai;ai.aE=aE;ai.bx=tP;ai.aV=avd+L;gQ.appendChild(ai.aD);ai.aD.setAttribute('data-pcc-mark',cR+'-'+gQ.ImGearMarkRelation.T.jJ());dn.push(ai);}return dn;};dF.prototype.atg=function(as){if(as.dn===undefined||this.F.get_areMarksEditable()===false){return;}var L;for(L=0;L<as.dn.length;L++){var ai=as.dn[L];ai.aD.style.cursor=IPCC.bA.fc(ai.aE);}};dF.prototype.apU=function(yT,as){as.gQ=document.createElement('div');as.gQ.style.width='0px';as.gQ.style.height='0px';as.gQ.style.left='0px';as.gQ.style.top='0px';as.gQ.style.zIndex='1';var L,T=as.T,ai;as.gQ.ImGearMarkRelation=as;switch(T.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:as.dn=this.uZ(as.gQ,2,this.ht,this.FF,0,IPCC.bA.Move);as.dn=as.dn.concat(this.uZ(as.gQ,2,this.ht,this.IF,0,IPCC.bA.Move));break;case IPCC.Web.UI.MarkType.Polygon:as.dn=[];break;case IPCC.Web.UI.MarkType.Freehand:as.dn=[];as.iW=document.createElement('div');as.iW.style.border='1px solid gray';as.iW.style.position='absolute';as.gQ.appendChild(as.iW);break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:if(T.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&T.ac!==undefined){break;}as.iW=document.createElement('div');as.iW.style.border='1px solid gray';as.iW.style.position='absolute';as.gQ.appendChild(as.iW);as.dn=this.uZ(as.gQ,4,this.ht,this.Vt,0,-1);as.dn=as.dn.concat(this.uZ(as.gQ,4,this.ht,this.VI,0,-1));for(L=4;L<8;L++){ai=as.dn[L];ai.aql=as.dn[L-4];ai.apb=as.dn[(L+1)%4];}if(T.get_type()===IPCC.Web.UI.MarkType.Text){as.dn=as.dn.concat(this.uZ(as.gQ,1,this.ht,this.Yq,0,IPCC.bA.Move));}break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:as.dn=this.uZ(as.gQ,1,this.ht,this.FF,0,IPCC.bA.Move,'texthandlestart');as.dn=as.dn.concat(this.uZ(as.gQ,1,this.ht,this.FF,1,IPCC.bA.Move,'texthandleend'));break;}if(T.jc()===IPCC.Web.UI.MarkType.Text||T.jc()===IPCC.Web.UI.MarkType.TextLine||T.jc()===IPCC.Web.UI.MarkType.TextAreaSignature){var oQ=document.createElement('div');oQ.className='pccEditMarkButton';oQ.setAttribute('data-pcc-mark','edit-'+T.jJ());oQ.onclick=function(by){by=by||{};by.stopPropagation?by.stopPropagation():by.cancelBubble=true;by.preventDefault?by.preventDefault():by.returnValue=false;var qM;var tQ=as.gQ;while(tQ&&(tQ.parentNode||tQ.ownerSVGElement)){if(tQ.parentNode.id&&tQ.parentNode.id.indexOf("__pViewId")!== -1){qM=tQ.parentNode;}tQ=tQ.ownerSVGElement||tQ.parentNode;}qM&&qM.aB.aAD(by,T);};as.gQ.appendChild(oQ);var amc={aD:oQ};as.dn.push(amc);}yT.appendChild(as.gQ);};dF.jT={TopLeft:0,TopRight:1,BottomLeft:2,BottomRight:3,TopCenter:4,MidRight:5,BottomCenter:6,MidLeft:7,Point:8,TextSelectionStart:9,TextSelectionEnd:10,Callout:11};dF.prototype.Vt=0;dF.prototype.VI=1;dF.prototype.IF=2;dF.prototype.FF=3;dF.prototype.Yq=4;dF.prototype.abw=function(ai,aoz){switch(aoz){case IPCC.ce.dF.jT.TopLeft:ai.aD.className='pccMarkHandleTopLeft';break;case IPCC.ce.dF.jT.TopCenter:ai.aD.className='pccMarkHandleTopCenter';break;case IPCC.ce.dF.jT.TopRight:ai.aD.className='pccMarkHandleTopRight';break;case IPCC.ce.dF.jT.MidLeft:ai.aD.className='pccMarkHandleMidLeft';break;case IPCC.ce.dF.jT.MidRight:ai.aD.className='pccMarkHandleMidRight';break;case IPCC.ce.dF.jT.BottomLeft:ai.aD.className='pccMarkHandleBottomLeft';break;case IPCC.ce.dF.jT.BottomCenter:ai.aD.className='pccMarkHandleBottomCenter';break;case IPCC.ce.dF.jT.BottomRight:ai.aD.className='pccMarkHandleBottomRight';break;case IPCC.ce.dF.jT.Point:ai.aD.className='pccMarkHandlePoint';break;case IPCC.ce.dF.jT.TextSelectionStart:ai.aD.className='pccMarkHandleTextSelectionStart';break;case IPCC.ce.dF.jT.TextSelectionEnd:ai.aD.className='pccMarkHandleTextSelectionEnd';break;default:ai.aD.className='pccMarkHandlePoint';break;}};dF.prototype.AE=function(ai,axp,lg,Bk,mo){ai.bS=lg.transform(axp);ai.aD.style.left=(ai.bS.x-Bk/2)+'px';ai.aD.style.top=(ai.bS.y-Bk/2)+'px';ai.aD.style.display='block';ai.aD.style.zIndex='1';this.abw(ai,mo);};dF.prototype.afu=function(ai,Bk,mo){ai.aD.style.left=(ai.bS.x-Bk/2)+'px';ai.aD.style.top=(ai.bS.y-Bk/2)+'px';ai.aD.style.display='block';ai.aD.style.zIndex='1';this.abw(ai,mo);};dF.prototype.ss=function(ai){ai.aD.style.display='none';};dF.prototype.acy=function(as,lg){if(this.F.get_areMarksEditable()===true){as.gQ.style.cursor='move';}var L,T=as.T,dn=as.dn,ai;var hm,C,pP,kH,tP,eB;var gF,Ez,fA,fo,Pj;switch(T.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:hm=this.YC(T);Ez=hm.length+2-dn.length;if(Ez>0){as.dn=as.dn.concat(this.uZ(as.gQ,Ez,this.ht,this.IF,dn.length-2,IPCC.bA.Move));dn=as.dn;}for(L=0;L<hm.length;L++){this.AE(dn[L+2],hm[L],lg,this.ht,IPCC.ce.dF.jT.Point);}for(L=hm.length+2;L<dn.length;L++){this.ss(dn[L+2]);}break;case IPCC.Web.UI.MarkType.Polygon:hm=this.YC(T);Ez=hm.length-dn.length;if(Ez>0){as.dn=as.dn.concat(this.uZ(as.gQ,Ez,this.ht,this.IF,dn.length,IPCC.bA.Move));dn=as.dn;}for(L=0;L<hm.length;L++){this.AE(dn[L],hm[L],lg,this.ht,IPCC.ce.dF.jT.Point);}for(L=hm.length;L<dn.length;L++){this.ss(dn[L]);}break;case IPCC.Web.UI.MarkType.Freehand:C=T.ca();pP=lg.transform({x:C.x,y:C.y});kH=lg.transform({x:C.x+C.width,y:C.y+C.height});eB={x:Math.min(pP.x,kH.x),y:Math.min(pP.y,kH.y)};eB.width=Math.max(pP.x,kH.x)-eB.x;eB.height=Math.max(pP.y,kH.y)-eB.y;as.iW.style.left=eB.x+'px';as.iW.style.top=eB.y+'px';as.iW.style.width=eB.width+'px';as.iW.style.height=eB.height+'px';as.iW.setAttribute('data-pcc-mark','outline-'+T.jJ());break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:if(T.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&T.ac!==undefined){break;}C=T.ca();dn[0].bS=lg.transform({x:C.x,y:C.y});dn[1].bS=lg.transform({x:C.x+C.width,y:C.y});dn[2].bS=lg.transform({x:C.x+C.width,y:C.y+C.height});dn[3].bS=lg.transform({x:C.x,y:C.y+C.height});eB={x:Math.min(dn[0].bS.x,dn[2].bS.x),y:Math.min(dn[0].bS.y,dn[2].bS.y)};eB.width=Math.max(dn[0].bS.x,dn[2].bS.x)-eB.x;eB.height=Math.max(dn[0].bS.y,dn[2].bS.y)-eB.y;Pj={x:eB.x+eB.width/2,y:eB.y+eB.height/2};for(L=0;L<4;L++){ai=dn[L];tP=(ai.bS.x<Pj.x)?((ai.bS.y<Pj.y)?0:2):((ai.bS.y<Pj.y)?1:3);this.afu(ai,this.ht,tP);switch(tP){case 0:ai.aE=IPCC.bA.ResizeNW;break;case 1:ai.aE=IPCC.bA.ResizeNE;break;case 2:ai.aE=IPCC.bA.ResizeSW;break;case 3:ai.aE=IPCC.bA.ResizeSE;break;}}as.iW.style.left=eB.x+'px';as.iW.style.top=eB.y+'px';as.iW.style.width=eB.width+'px';as.iW.style.height=eB.height+'px';as.iW.setAttribute('data-pcc-mark','outline-'+T.jJ());var aAB=eB.x+eB.width/4;var auH=eB.x+eB.width*3/4;var azV=eB.y+eB.height/4;var auS=eB.y+eB.height*3/4;if(this.aj.yR()===IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose){pP=dn[0].bS;kH=dn[1].bS;var axF=dn[2].bS;fA=pP.x-kH.x;fo=kH.y-axF.y;var aoO=fA*fA;var aot=fo*fo;if(Math.min(aoO,aot)<this.ht*this.ht*5){this.ss(dn[0]);this.ss(dn[1]);this.ss(dn[2]);this.ss(dn[3]);}}for(L=4;L<8;L++){ai=dn[L];pP=ai.aql.bS;kH=ai.apb.bS;fA=pP.x-kH.x;fo=pP.y-kH.y;gF=fA*fA+fo*fo;if(this.aj.yR()===IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose&&gF<this.ht*this.ht*5){this.ss(ai);}else{ai.bS={x:(pP.x+kH.x)/2,y:(pP.y+kH.y)/2};this.afu(ai,this.ht,L);if(ai.bS.x<aAB){ai.aE=IPCC.bA.ResizeW;}else if(ai.bS.x>auH){ai.aE=IPCC.bA.ResizeE;}else if(ai.bS.y<azV){ai.aE=IPCC.bA.ResizeN;}else if(ai.bS.y>auS){ai.aE=IPCC.bA.ResizeS;}}}if(T.get_type()===IPCC.Web.UI.MarkType.Text){if(T.yd){this.AE(dn[8],{x:C.x+T.nc.x,y:C.y+T.nc.y},lg,this.ht,IPCC.ce.dF.jT.Callout);}else{this.ss(dn[8]);}}break;case IPCC.Web.UI.MarkType.DocumentHyperlink:return;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:as.gQ.style.cursor='move';var en,jx,xt;var IM=this.F.bY();var gh=IM.hc();if(T.ky===true){xt=T.bL;if(xt>=gh.eN()){en=gh.kB(gh.eN()-1);jx=en.vo();this.AE(dn[0],new IPCC.Web.UI.Point(jx.x+jx.width,jx.y),lg,this.ht,IPCC.ce.dF.jT.TextSelectionStart);break;}en=gh.kB(T.bL);jx=en.vo();this.AE(dn[0],new IPCC.Web.UI.Point(jx.x,jx.y),lg,this.ht,IPCC.ce.dF.jT.TextSelectionStart);}else{this.ss(dn[0]);}if(T.ll===true){xt=T.bL+T.cr-1;if(xt<0){en=gh.kB(0);jx=en.vo();this.AE(dn[1],new IPCC.Web.UI.Point(jx.x,jx.y+jx.height),lg,this.ht,IPCC.ce.dF.jT.TextSelectionEnd);break;}en=gh.kB(xt);jx=en.vo();this.AE(dn[1],new IPCC.Web.UI.Point(jx.x+jx.width,jx.y+jx.height),lg,this.ht,IPCC.ce.dF.jT.TextSelectionEnd);}else{this.ss(dn[1]);}break;}if(T.get_type()===IPCC.Web.UI.MarkType.Text||T.get_type()===IPCC.Web.UI.MarkType.TextLine||T.get_type()===IPCC.Web.UI.MarkType.TextAreaSignature){var uN=dn[dn.length-1];if(uN.aD.className.match(/pcc/)){var Uj=as.iW.clientHeight;var UN=as.iW.clientWidth;var amx=as.iW.offsetTop;var amb=as.iW.offsetLeft;var akn=uN.aD.clientHeight;var aaE=uN.aD.clientWidth;uN.aD.style.position='absolute';uN.aD.style.zIndex='2';if(Uj>akn+10&&UN>aaE+10){uN.aD.style.top=(Uj-akn)/2+amx+'px';uN.aD.style.left=(UN-aaE)/2+amb+'px';}else{uN.aD.style.top=Uj+amx+10+'px';uN.aD.style.left=(UN-aaE)/2+amb+'px';}}}this.atg(as);};dF.prototype.aeu=function(hH,tZ){var awN=IPCC.V.afL(hH,tZ||'#ffffff'),avV=IPCC.V.map(awN,function(bJ){return{bL:bJ.startIndex,cl:bJ.endIndex,DH:bJ.color};});return avV;};dF.prototype.ate=function(K){var T=K.T;if(T.fG){var lp=this.aeu(T.fG);var Gg=T.bp;var zG='';for(var L=lp.length-1;L>=0;L--){var XL=lp[L];var bL=XL.bL;var cl=XL.cl;var dG=XL.DH;var cu=IPCC.V.KA(Gg.substr(bL,cl-bL+1));var asH=IPCC.V.KA(Gg.substr(cl+1,Gg.length-cl+1));Gg=Gg.substr(0,bL);zG="<span style='background-color:"+dG+";'>"+cu+'</span>'+asH+zG;}zG=IPCC.V.KA(Gg)+zG;zG=zG.replace(/\n/g,'<br/>');K.mV.innerHTML=zG;}else{K.zk.data=T.bp;}};module.exports=dF;},{"./ArtSVGUIDirector":17}],19:[function(require,module,exports){var tL={HC:function(){var uO=IPCC.tL;if(uO.tN===null){
/*@cc_on@if(@_jscript)uO.tN=document.documentMode>8;@else@*/ uO.tN=true;/*@end@*/}return uO.tN;},tN:null};module.exports=tL;},{}],20:[function(require,module,exports){var fd=function(WG,awQ){this.F=false;this.WG=WG;var mN=IPCC.Web.UI;var bO=awQ;if(!bO||bO===null){bO=IPCC.afA;}this.bO=bO;var apZ={bp:bO.zoomInMenuItem,hg:IPCC.eP.abT,h:1.25};var aoY={bp:bO.zoomOutMenuItem,hg:IPCC.eP.abE,h:1.25};var atq={bp:bO.fullImageMenuItem,h:mN.FitType.FullImage};var auX={bp:bO.fullWidthMenuItem,h:mN.FitType.FullWidth};var auy={bp:bO.fullHeightMenuItem,h:mN.FitType.FullHeight};var aAv={bp:bO.oneToOneRatioMenuItem,h:mN.FitType.OneToOne};var avw={bp:bO.actualSizeMenuItem,h:mN.FitType.ActualSize};var aDj={bp:bO.rotateRightMenuItem,hg:IPCC.eP.aaF,h:90};var aEE={bp:bO.rotateLeftMenuItem,hg:IPCC.eP.aaF,h: -90};var ayy={bp:bO.mirrorHorizontalMenuItem,hg:IPCC.eP.afX};var ayA={bp:bO.mirrorVerticalMenuItem,hg:IPCC.eP.air};var Tx={bp:bO.panToolMenuItem,h:mN.MouseTool.HandPan};var Xi={bp:bO.areaSelectionToolMenuItem,h:mN.MouseTool.Select};var TY={bp:bO.zoomRectangleToolMenuItem,h:mN.MouseTool.RectangleZoom};var TM={bp:bO.flyingMagnifierToolMenuItem,h:mN.MouseTool.Magnifier};var anx={bp:bO.createTextMarkToolMenuItem,h:mN.MouseTool.CreateTextMark};var aqr={bp:bO.createLineMarkToolMenuItem,h:mN.MouseTool.CreateLineMark};var aqB={bp:bO.createRectangleMarkToolMenuItem,h:mN.MouseTool.CreateRectangleMark};var aqR={bp:bO.createEllipseMarkToolMenuItem,h:mN.MouseTool.CreateEllipseMark};var arZ={bp:bO.editMarksToolMenuItem,h:mN.MouseTool.EditMarks};var aqx={bp:bO.createStampMarkToolMenuItem,h:mN.MouseTool.CreateStampMark};var aqM={bp:bO.createHighlightMarkToolMenuItem,h:mN.MouseTool.CreateHighlightTextMark};var acv={ag:55,cf:[{bp:bO.thicknessMenu.item1,h:1},{bp:bO.thicknessMenu.item2,h:2},{bp:bO.thicknessMenu.item3,h:3},{bp:bO.thicknessMenu.item4,h:4},{bp:bO.thicknessMenu.item5,h:5},{bp:bO.thicknessMenu.item6,h:6},{bp:bO.thicknessMenu.item7,h:7},{bp:bO.thicknessMenu.item8,h:8}]};var azq={ag:145,cf:[{bp:bO.opacityMenu.translucent,h:127},{bp:bO.opacityMenu.opaque,h:255}]};var PG={bp:bO.borderThicknessMenuItem,hg:IPCC.eP.Km,aJ:'lineWidth',nj:acv};var OB={bp:bO.borderColorMenuItem,hg:IPCC.eP.KI,aJ:'lineColor'};var HY={bp:bO.fillColorMenuItem,hg:IPCC.eP.KI,aJ:'fillColor'};var ahn={bp:bO.lineThicknessMenuItem,hg:IPCC.eP.Km,aJ:'lineWidth',nj:acv};var ahu={bp:bO.lineColorMenuItem,hg:IPCC.eP.KI,aJ:'lineColor'};var avy={bp:bO.fontMenuItem,hg:IPCC.eP.agR};var MF={bp:bO.opacityMenuItem,hg:IPCC.eP.Km,aJ:'opacity',nj:azq};var awO={bp:bO.moveToBackMenuItem,hg:IPCC.eP.agt};var axb={bp:bO.moveBackwardMenuItem,hg:IPCC.eP.agc};var avL={bp:bO.moveForwardMenuItem,hg:IPCC.eP.ahc};var awA={bp:bO.moveToFrontMenuItem,hg:IPCC.eP.agu};var tp={bp:bO.deleteMarkMenuItem,hg:IPCC.eP.amV};var anF={ag:180,cf:[atq,auX,auy,aAv,avw]};var aoL={bp:bO.zoomToFitMenuItem,hg:IPCC.eP.abX,nj:anF};var aBg={ag:200,cf:[aDj,aEE,ayy,ayA]};var aBx={bp:bO.orientationMenuItem,nj:aBg};var KC;if(IPCC.ce){if(IPCC.hb===false){KC={ag:180,cf:[Tx,TY,TM,Xi,null]};}else{KC={ag:180,cf:[Tx,TY,TM,Xi,null,arZ,anx,aqr,aqB,aqR,aqx,aqM]};}}else{KC={ag:180,cf:[Tx,TY,TM,Xi]};}var axJ={bp:bO.mouseToolsMenuItem,hg:IPCC.eP.aaM,nj:KC};var awD={ag:150,cf:[HY,PG,OB,null,MF]};var asr={ag:150,cf:[HY,PG,OB,null,null]};var awo={ag:150,bp:bO.rectangleMarkPropertiesMenuItem,nj:awD};var art={ag:150,bp:bO.rectangleMarkPropertiesMenuItem,nj:asr};var atD={ag:150,cf:[avy,HY,PG,OB,null,null,null,MF]};var ave={bp:bO.textMarkPropertiesMenuItem,nj:atD};var axY={ag:150,cf:[HY,PG,OB,null,MF]};var axA={bp:bO.polygonMarkPropertiesMenuItem,nj:axY};var ayn={ag:140,cf:[ahn,ahu,null,MF]};var axk={bp:bO.polylineMarkPropertiesMenuItem,nj:ayn};var aEG={ag:140,cf:[ahn,ahu,null,null]};var aDc={bp:bO.lineMarkPropertiesMenuItem,nj:aEG};var axm={ag:140,cf:[awA,avL,axb,awO]};var vO={bp:bO.markOrderingMenuItem,nj:axm};var aoD={ag:150,cf:[HY]};var acm={bp:bO.stampMarkPropertiesMenuItem,nj:aoD};this.auN={ag:180,cf:[apZ,aoY,aoL,aBx,axJ]};this.atv={ag:140,cf:[ave,vO,tp]};this.awr={ag:140,cf:[awo,vO,tp]};this.aoU={ag:140,cf:[acm,vO,tp]};this.aos={ag:140,cf:[null,vO,tp]};this.asN={ag:140,cf:[art,vO,tp]};this.ayb={ag:140,cf:[axA,vO,tp]};this.ayY={ag:140,cf:[axk,vO,tp]};this.aEK={ag:140,cf:[aDc,vO,tp]};this.aCB={ag:140,cf:[acm,null,tp]};};fd.prototype.mI=function(F){this.F=F;};fd.prototype.eu=function(){this.F=false;};fd.prototype.aR=function(){};fd.prototype.WO=function(G){var hv;if(G.mark&&this.WG){var Ng=G.mark.kF();switch(G.mark.get_type()){case IPCC.Web.UI.MarkType.Line:hv=this.aEK;break;case IPCC.Web.UI.MarkType.Polyline:hv=this.ayY;break;case IPCC.Web.UI.MarkType.Rectangle:hv=this.awr;break;case IPCC.Web.UI.MarkType.Ellipse:hv=this.asN;break;case IPCC.Web.UI.MarkType.Polygon:hv=this.ayb;break;case IPCC.Web.UI.MarkType.Text:hv=this.atv;break;case IPCC.Web.UI.MarkType.Stamp:if(Ng===true){hv=this.aos;}else{hv=this.aoU;}break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.Highlight:if(G.mark.jD==='y'){hv=this.aCB;}break;}}if(!hv){hv=this.auN;}var tY=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var ty=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var aax=new IPCC.Web.UI.Point(G.domEvent.clientX+tY,G.domEvent.clientY+ty);var J=this;function wW(aF){if(sh){var aS=aF.target;if(aS&&aS===null){return;}var Bq,amj;while(aS&&aS!==document.body&&aS.parentNode!==null){if(aS&&aS!==null){if(aS===sh){amj=true;}if(!Bq&&aS.ImGearCommand){Bq=aS.ImGearCommand;}aS=aS.parentNode;}}if(!amj||Bq){IPCC.Web.UI.aC.removeHandler(document.body,'mousedown',wW);IPCC.Web.UI.aC.removeHandler(document.body,'mousemove',adL);document.body.removeChild(sh);sh=null;if(Bq){Bq.VX=G;J.asx(Bq);}}}};function Xn(Ic,zd,zW,FO){var cV=false,L,aS;for(L=0;L<zd.length;L++){if(Ic===zd[L]){cV=true;}}if(!cV&&Ic.ImGearType==='menu'){Ic.style.display='none';}else{Ic.style.display='block';}aS=Ic.firstChild;while(aS){if(aS.ImGearType==='menuItemHighlight'){if(aS===FO){aS.style.display='block';}else{aS.style.display='none';}}if(aS.firstChild){Xn(aS,zd,zW,FO);}aS=aS.nextSibling;}};function adL(aF){if(sh){var aS=aF.target;if(aS&&aS===null){return;}var zd=[sh],zW,FO;while(aS&&aS!==document.body&&aS.parentNode!==null){if(!zW&&aS.ImGearType==='menuItem'){zW=aS;}if(aS.ImGearType==='menu'){zd.push(aS);}aS=aS.parentNode;}if(zW){aS=zW.firstChild;while(aS){if(aS.ImGearType==='menuItemHighlight'){FO=aS;}else if(aS.ImGearType==='menu'){zd.push(aS);}aS=aS.nextSibling;}}Xn(sh,zd,zW,FO);}};var bo;if(window.innerWidth){bo={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){bo={x:tY,y:ty,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{bo={x:tY,y:ty,width:document.body.clientWidth,height:document.body.clientHeight};}var sh=this.agI(hv,false,false,aax,aax,true,bo,document.body,G.mark);Xn(sh,[sh],null,null);document.body.appendChild(sh);IPCC.Web.UI.aC.addHandler(document.body,'mousedown',wW);IPCC.Web.UI.aC.addHandler(document.body,'mousemove',adL);};fd.prototype.agI=function(hv,hg,aJ,XG,Yx,EN,bo,aAN,T){var ajE=24,acK=1;var L,SV=0;for(L=0;L<hv.cf.length;L++){var axx=hv.cf[L];if(axx){SV+=ajE;}else{SV+=acK;}}var PK;if(EN){PK=Yx.x+hv.ag;if(PK>bo.x+bo.width){EN=false;}}if(!EN){PK=XG.x-hv.ag;if(PK<bo.x){EN=true;}}var qu={x:Yx.x,y:Yx.y};if(!EN){qu={x:XG.x-hv.ag-2,y:XG.y-2};}var ajg=bo.y+bo.height-SV-8;if(qu.y>ajg){qu.y=ajg;}if(qu.y<bo.y+2){qu.y=bo.y+2;}function gP(qL){var vs=document.createElement('div');var L;for(L in qL){if(qL.hasOwnProperty(L)){vs.style[L]=qL[L];}}return vs;};var Mr=gP({zIndex:2,width:hv.ag+'px',left:qu.x+'px',top:qu.y+'px',margin:'0px',padding:'0px',border:'1px solid #C0C0C0',position:'absolute',backgroundColor:'#F0F0F0',color:'Black',fontSize:'11px',fontFamily:'Arial, Helvetica, sans-serif',fontWeight:'bold',boxShadow:'0 2px 3px rgba(0,0,0,.2)'});Mr.ImGearType='menu';for(L=0;L<hv.cf.length;L++){var xE=hv.cf[L];var uf;if(xE){uf=gP({position:'relative',height:'24px'});uf.ImGearType='menuItem';var yF=gP({position:'absolute',width:'24px',overflow:'hidden',borderRight:'1px solid #E0E0E0',height:'24px',textAlign:'center'});uf.appendChild(yF);var aiT=gP({textOverflow:'ellipsis',whiteSpace:'nowrap',width:hv.ag-44+'px',position:'absolute',left:'25px',padding:'0 0 0 4px',overflow:'hidden',borderLeft:'1px solid #FFFFFF',height:'24px',lineHeight:'24px'});uf.appendChild(aiT);var aig=gP({display:'none',position:'absolute',height:'24px',width:hv.ag+'px',backgroundColor:'#00C0E0',filter:'progid:DXImageTransform.Microsoft.Alpha(opacity=30)',opacity:'.3'});aig.ImGearType='menuItemHighlight';uf.appendChild(aig);aiT.appendChild(document.createTextNode(xE.bp));var NN=xE.hg||hg;var HS=xE.aJ||aJ;if(HS){if(NN===IPCC.eP.Km){var awt=T['get_'+HS]();if(awt===xE.h){if(this.F.us()){yF.style.backgroundImage='url(\''+this.F.us()+'/MenuIcons.png'+'\')';}else{yF.style.backgroundImage='url(\''+'<%=WebResource("IPCC.Web.UI.MenuIcons.png")%>'+'\')';}yF.style.backgroundPosition='0px';}}else if(NN===IPCC.eP.afQ){var avM=T['get_'+HS]();if(avM){if(this.F.us()){yF.style.backgroundImage='url(\''+this.F.us()+'/MenuIcons.png'+'\')';}else{yF.style.backgroundImage='url(\''+'<%=WebResource("IPCC.Web.UI.MenuIcons.png")%>'+'\')';}yF.style.backgroundPosition='24px 0px';}}}if(!xE.nj){uf.ImGearCommand={hg:NN,aJ:HS,h:xE.h};}else{var awm={x:bo.x-qu.x,y:bo.y-qu.y,width:bo.width,height:bo.height};this.agI(xE.nj,NN,HS,{x:0,y: -1},{x:hv.ag,y: -1},EN,awm,uf,T);}qu.y+=ajE;}else{uf=gP({height:'1px',overflow:'hidden',backgroundColor:'#E0E0E0'});qu.y+=acK;}Mr.appendChild(uf);}aAN.appendChild(Mr);return Mr;};fd.prototype.ast=function(T,cg,F){var tY=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var ty=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var bo;if(window.innerWidth){bo={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){bo={x:tY,y:ty,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{bo={x:tY,y:ty,width:document.body.clientWidth,height:document.body.clientHeight};}var mK=bo.x+bo.width/2;var mw=bo.y+bo.height/2;var js=document.createElement('div');js.innerHTML='	<div style="z-index:2;border:1px solid #000000;font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:normal;font-variant:normal;'+'background-color:#F0F0F0;position:absolute;top:'+(mw-85)+'px;left:'+(mK-80)+'px;width:160px;height:170px;">'+'<div style="padding:4px;background-color:#666666;color:#FFFFFF;font-size:14px;">'+this.bO.selectColor+'</div>'+'<div style="position:relative;">'+'<div style="position:absolute;left:8px;top:10px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.bO.red+':</div>'+'<input id="ImGearColorRed" type="text" style="position:absolute;left:80px;top:8px;width:52px;" />'+'<div style="position:absolute;left:8px;top:40px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.bO.green+':</div>'+'<input id="ImGearColorGreen" style="position:absolute;left:80px;top:38px;width:52px" type="text" />'+'<div style="position:absolute;left:8px;top:70px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.bO.blue+':</div>'+'<input id="ImGearColorBlue" style="position:absolute;left:80px;top:68px;width:52px" type="text" />'+'<button id="ImGearColorOKButton" style="font-size:12px;position:absolute;left:9px;top:108px;width:65px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.bO.ok+'</button>'+'<button id="ImGearColorCancelButton" style="font-size:12px;position:absolute;left:81px;top:108px;width:71px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.bO.cancel+'</button>'+'</div>'+'</div>';document.body.appendChild(js);var TJ=document.getElementById('ImGearColorRed');var aiR=document.getElementById('ImGearColorGreen');var aju=document.getElementById('ImGearColorBlue');var Gv=document.getElementById('ImGearColorOKButton');var Hf=document.getElementById('ImGearColorCancelButton');var UR=T['get_'+cg]();var NP;if(UR.length===7&&UR.charAt(0)==='#'){NP=parseInt(UR.slice(1),16);}TJ.value=(NP>>16);aiR.value=((NP>>8)&255);aju.value=(NP&255);function Ub(Yz){var h=Math.floor(+(Yz.value));if(!isFinite(h)){h=0;}if(h<0){h=0;}if(h>255){h=255;}return h;};function zh(){IPCC.Web.UI.aC.removeHandler(Gv,'click',FK);IPCC.Web.UI.aC.removeHandler(Hf,'click',EP);IPCC.Web.UI.aC.removeHandler(document.body,'mousedown',wW);};function FK(){var dG=Ub(TJ)*65536+Ub(aiR)*256+Ub(aju);T['set_'+cg]('#'+(0x1000000+dG).toString(16).slice(1));zh();document.body.removeChild(js);js=null;F.cF();};function EP(){zh();document.body.removeChild(js);js=null;};function wW(aF){if(js){var aS=aF.target;var GH;while(aS!==document.body){if(aS===js){GH=true;}aS=aS.parentNode;}if(!GH){zh();document.body.removeChild(js);js=null;}}};IPCC.Web.UI.aC.addHandler(Gv,'click',FK);IPCC.Web.UI.aC.addHandler(Hf,'click',EP);IPCC.Web.UI.aC.addHandler(document.body,'mousedown',wW);TJ.focus();};fd.prototype.ars=function(T,F){var tY=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var ty=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var bo;if(window.innerWidth){bo={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){bo={x:tY,y:ty,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{bo={x:tY,y:ty,width:document.body.clientWidth,height:document.body.clientHeight};}var mK=bo.x+bo.width/2;var mw=bo.y+bo.height/2;var js=document.createElement('div');js.innerHTML='<div style="z-index:2;border:1px solid #000000;font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:normal;font-variant:normal;'+'background-color:#F0F0F0;position:absolute;top:'+(mw-85)+'px;left:'+(mK-200)+'px;width:400px;height:170px;z-index:2">'+'<div style="padding:4px;background-color:#666666;color:#FFFFFF;font-size:14px;">'+this.bO.selectFont+'</div>'+'<div style="position:relative;">'+'<div style="position:absolute;left:8px;top:10px;width:90px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.bO.font+':</div>'+'<input id="ImGearFontFamily" style="position:absolute;left:100px;top:8px;width:280px" type="text" />'+'<div style="position:absolute;left:8px;top:40px;width:90px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.bO.size+':</div>'+'<input id="ImGearFontSize" style="position:absolute;left:100px;top:38px;width:54px" type="text" />'+'<div style="position:absolute;left:8px;top:70px;"><input id="ImGearFontItalic" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.bO.italic+'</div></div>'+'<div style="position:absolute;left:100px;top:70px;"><input id="ImGearFontBold" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.bO.bold+'</div></div>'+'<div style="position:absolute;left:200px;top:70px;"><input id="ImGearFontUnderline" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.bO.underline+'</div></div>'+'<div style="position:absolute;left:300px;top:70px;"><input id="ImGearFontStrikeout" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.bO.strikeout+'</div></div>'+'<button id="ImGearFontOKButton" style="font-size:12px;position:absolute;left:240px;top:108px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.bO.ok+'</button>'+'<button id="ImGearFontCancelButton" style="font-size:12px;position:absolute;left:315px;top:108px;width:71px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.bO.cancel+'</button>'+'</div>'+'</div>';document.body.appendChild(js);var aaI=document.getElementById('ImGearFontFamily');var afU=document.getElementById('ImGearFontSize');var ahx=document.getElementById('ImGearFontItalic');var agK=document.getElementById('ImGearFontBold');var agp=document.getElementById('ImGearFontUnderline');var ahC=document.getElementById('ImGearFontStrikeout');var Gv=document.getElementById('ImGearFontOKButton');var Hf=document.getElementById('ImGearFontCancelButton');var azj=T.get_fontName();var azi=T.get_fontSize();var sV=T.get_fontStyle();aaI.value=azj;afU.value=azi;ahx.checked=sV&IPCC.Web.UI.FontStyle.Italic;agK.checked=sV&IPCC.Web.UI.FontStyle.Bold;agp.checked=sV&IPCC.Web.UI.FontStyle.Underline;ahC.checked=sV&IPCC.Web.UI.FontStyle.Strikeout;function azb(Yz){var h=Math.floor(+(Yz.value));if(!isFinite(h)){h=12;}if(h<0.1){h=0.1;}if(h>288){h=288;}return h;};function zh(){IPCC.Web.UI.aC.removeHandler(Gv,'click',FK);IPCC.Web.UI.aC.removeHandler(Hf,'click',EP);IPCC.Web.UI.aC.removeHandler(document.body,'mousedown',wW);};function FK(){T.set_fontName(aaI.value);var dh=azb(afU);T.set_fontSize(dh);var fK=0;if(ahx.checked){fK|=IPCC.Web.UI.FontStyle.Italic;}if(agK.checked){fK|=IPCC.Web.UI.FontStyle.Bold;}if(agp.checked){fK|=IPCC.Web.UI.FontStyle.Underline;}if(ahC.checked){fK|=IPCC.Web.UI.FontStyle.Strikeout;}T.set_fontStyle(fK);zh();document.body.removeChild(js);js=null;F.cF();};function EP(){zh();document.body.removeChild(js);js=null;};function wW(aF){if(js){var aS=aF.target;var GH;while(aS!==document.body){if(aS===js){GH=true;}aS=aS.parentNode;}if(!GH){zh();document.body.removeChild(js);js=null;}}};IPCC.Web.UI.aC.addHandler(Gv,'click',FK);IPCC.Web.UI.aC.addHandler(Hf,'click',EP);IPCC.Web.UI.aC.addHandler(document.body,'mousedown',wW);aaI.focus();};fd.prototype.asx=function(G){var T=G.VX.mark;switch(G.hg){case IPCC.eP.Km:T['set_'+G.aJ](G.h);this.F.cF();break;case IPCC.eP.KI:this.ast(T,G.aJ,this.F);break;case IPCC.eP.agR:this.ars(T,this.F);break;case IPCC.eP.afQ:T['set_'+G.aJ](!T['get_'+G.aJ]());this.F.cF();break;case IPCC.eP.agt:T.moveToBack();this.F.cF();break;case IPCC.eP.agc:T.moveBackward();this.F.cF();break;case IPCC.eP.ahc:T.moveForward();this.F.cF();break;case IPCC.eP.agu:T.moveToFront();this.F.cF();break;case IPCC.eP.amV:T.removeFromPage();this.F.cF();break;default:this.F.azv(G);break;}};module.exports=fd;},{}],21:[function(require,module,exports){var bA={Default:0,Arrow:1,Crosshair:2,Link:3,HandOpen:4,HandClosed:5,Magnifier:6,None:7,RectangleZoom:8,AddRectangleMark:9,AddEllipseMark:10,AddLineMark:11,AddFreehandLineMark:12,AddPolygonMark:13,AddPolylineMark:14,AddTextMark:15,Move:16,ResizeN:17,ResizeE:18,ResizeS:19,ResizeW:20,ResizeNW:21,ResizeNE:22,ResizeSE:23,ResizeSW:24,EditMarks:25,RunMarks:26,Text:27,AddStampMark:28,AddRectangleRedactionMark:29,AddImageStampMark:30,fc:function(aE){if(typeof aE==='string'){return aE;}switch(aE){case IPCC.bA.Default:case IPCC.bA.Magnifier:case IPCC.bA.None:case IPCC.bA.RunMarks:return 'auto';case IPCC.bA.Arrow:case IPCC.bA.EditMarks:return 'default';case IPCC.bA.Crosshair:case IPCC.bA.RectangleZoom:case IPCC.bA.AddRectangleMark:case IPCC.bA.AddEllipseMark:case IPCC.bA.AddLineMark:case IPCC.bA.AddFreehandLineMark:case IPCC.bA.AddPolygonMark:case IPCC.bA.AddPolylineMark:case IPCC.bA.AddTextMark:case IPCC.bA.AddRectangleRedactionMark:case IPCC.bA.AddImageStampMark:case IPCC.bA.AddStampMark:return 'crosshair';case IPCC.bA.Link:return 'pointer';case IPCC.bA.HandOpen:case IPCC.bA.HandClosed:case IPCC.bA.Move:return 'move';case IPCC.bA.ResizeN:return 'n-resize';case IPCC.bA.ResizeE:return 'e-resize';case IPCC.bA.ResizeS:return 's-resize';case IPCC.bA.ResizeW:return 'w-resize';case IPCC.bA.ResizeNW:return 'nw-resize';case IPCC.bA.ResizeNE:return 'ne-resize';case IPCC.bA.ResizeSE:return 'se-resize';case IPCC.bA.ResizeSW:return 'sw-resize';case IPCC.bA.Text:return 'text';}return 'auto';}};module.exports=bA;},{}],22:[function(require,module,exports){var jg={qd:function(jA,KZ){var bx,dw,eD;if(jA===null){return 'null';}if(!KZ){KZ=0;}bx=typeof(jA);if(bx==='undefined'){return 'undefined';}else if(bx==='number'||bx==='boolean'){return jA.toString();}else if(bx==='string'){return '\''+jA+'\'';}else if(bx==='function'){return 'function';}else{if(KZ<0){return 'jA';}dw='{';for(eD in jA){if(jA.hasOwnProperty(eD)){if(dw.length>2){dw+=', ';}dw+=eD;dw+=': ';dw+=IPCC.jg.qd(jA[eD],KZ-1);}}dw+='}';return dw;}},Pl:function(bp){var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value+=bp+'\n';}},aFN:function(){var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value='';}},lO:function(jW,Ki,bv,Fq,Ae){var bp="PCC Controls - ";bp+=(Fq)?Fq:" ";bp+=" parent Div id = ";bp+=(Ae)?Ae:" ";if(Ki){switch(Ki){case 0:bp+=" FunctionCall ";break;case 1:bp+=" Exception ";break;case 2:bp+=" Custom ";break;case 3:bp+=" UserAction ";break;case 4:bp+=" Warning ";break;default:bp+=" unknown ";}}bp+=" - "+jW;if((typeof(Debug)!=='undefined')&&Debug.writeln){Debug.writeln(bp);}if(window.console&&window.console.log){window.console.log(bp);}if(window.opera){window.opera.postError(bp);}if(window.debugService){window.debugService.trace(bp);}var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value+=bp+'\n';}var Lw;try{Lw=onPCCItemLogged;}catch(ex){}if(Lw&&(typeof(Lw)).toLowerCase()==='function'){var cC=new IPCC.Web.UI.LogItemEventArgs();cC.message=jW;cC.cause=Ki;cC.level=bv;cC.id=Ae;Lw(cC);}}};module.exports=jg;},{}],23:[function(require,module,exports){var lh=function(){this.bM=false;this.F=false;};lh.prototype.mI=function(F){this.F=F;this.F.abG(true);this.aj=F.bw();};lh.prototype.eu=function(){if(arguments[0]){if(arguments[0]===true){this.F=false;return;}}this.F.abG(false);this.F=false;};lh.prototype.aR=function(){if(this.bM){this.F.CP(true);this.aj.oU();this.bM=false;this.F.cF();}};lh.prototype.zf=function(G){this.aR();var T=G.mark;if(T&&T.jc()===IPCC.Web.UI.MarkType.Text){this.F.vQ(T);this.F.cF();}};lh.prototype.kf=function(G){this.aR();var jt=G.domEvent;if(jt.button===0){var dA=jt.target;this.ai=dA.ImGearMarkHandle;if(this.ai){this.tP=this.ai.bx;this.mo=this.ai.aV;}else{this.tP=null;this.mo=null;}while(!(dA.ImGearMarkRelation)&&dA.parentNode&&dA!==document.body){dA=dA.parentNode;}this.K=dA.ImGearMarkRelation;if(this.K){this.T=this.K.T;}else{this.T=null;}this.bM=true;this.Lj=G.imagePoint;this.GC=G.imagePoint;var T=this.T;if(!T||T.get_interactionMode()===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){if(!jt.shiftKey){this.F.ep().zH().removeAllMarks();}this.aj.Bv(G.imagePoint);}else{var hn,C;switch(this.tP){case IPCC.ce.dF.prototype.Vt:this.hU=T.ca();this.Yl=Math.abs(this.hU.width);this.Ij=Math.abs(this.hU.height);hn={x:this.hU.x,y:this.hU.y};this.Lx={x:this.hU.x+this.hU.width,y:this.hU.y+this.hU.height};if(this.mo>0&&this.mo<3){hn.x+=this.hU.width;this.Lx.x-=this.hU.width;}if(this.mo>1){hn.y+=this.hU.height;this.Lx.y-=this.hU.height;}this.aGZ=hn;break;case IPCC.ce.dF.prototype.VI:C=T.ca();this.hU=C;hn={x:C.x+C.width/2,y:C.y+C.height/2};switch(this.mo){case 0:this.Ax=C.y+C.height;hn.y=C.y;break;case 1:this.Ax=C.x;hn.x=C.x+C.width;break;case 2:this.Ax=C.y;hn.y=C.y+C.height;break;case 3:this.Ax=C.x+C.width;hn.x=C.x;break;}break;case IPCC.ce.dF.prototype.IF:this.bF=T.pH();if(this.mo<0||this.mo>this.bF.eN()){this.aR();}hn=this.bF.getPoint(this.mo);break;case IPCC.ce.dF.prototype.FF:break;case IPCC.ce.dF.prototype.Yq:C=T.ca();hn={x:C.x+T.nc.x,y:C.y+T.nc.y};break;default:var vt=T.get_selected();if(jt.ctrlKey||jt.shiftKey){vt= !vt;T.set_selected(vt);}else{if(!vt){vt=true;this.F.ep().zH().removeAllMarks();if(T.get_type()===IPCC.Web.UI.MarkType.Highlight){for(var L=0;L<this.F.ep().get_markCount();L++){var SX=this.F.ep().getMark(L);if(SX.jc()===608&&SX.ac===T.ac){SX.set_selected(vt);}}}else{T.set_selected(vt);}}}if(!vt){this.aR();}break;}if(this.bM&&hn){this.are=hn.x-this.Lj.x;this.aqi=hn.y-this.Lj.y;if(this.ai){this.aj.aBe(this.ai.aE);}}}if(this.bM){this.F.CP(false);}}this.F.cF();};lh.prototype.ly=function(G){var jt=G.domEvent;var GC;function aCU(aBb){aBb.JG(G.imagePoint.x-GC.x,G.imagePoint.y-GC.y);};if(jt.button!==0){this.aR();}if(this.bM){var T=this.T;if(!T||T.get_interactionMode()===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){this.aj.xK(G.imagePoint);}else{var hn={x:G.imagePoint.x+this.are,y:G.imagePoint.y+this.aqi};var C;switch(this.tP){case IPCC.ce.dF.prototype.Vt:var nA={x:hn.x,y:hn.y};var lk={x:this.Lx.x,y:this.Lx.y};if(jt.ctrlKey){lk.x=this.hU.x+this.hU.width/2;lk.y=this.hU.y+this.hU.height/2;}if(jt.shiftKey){var rN=Math.abs(nA.x-lk.x);var tf=Math.abs(nA.y-lk.y);if(rN*this.Ij<tf*this.Yl){if(this.Ij>0.001){rN=tf*this.Yl/this.Ij;}}else{if(this.Ij>0.001){tf=rN*this.Ij/this.Yl;}}if(nA.x<lk.x){rN= -rN;}if(nA.y<lk.y){tf= -tf;}nA.x=lk.x+rN;nA.y=lk.y+tf;}if(jt.ctrlKey){lk={x:lk.x-(nA.x-lk.x),y:lk.y-(nA.y-lk.y)};}C={};C.x=Math.min(lk.x,nA.x);C.width=Math.max(lk.x,nA.x)-C.x;C.y=Math.min(lk.y,nA.y);C.height=Math.max(lk.y,nA.y)-C.y;T.set_rectangle(C);break;case IPCC.ce.dF.prototype.VI:C=T.ca();var Ei;if(this.mo&1){if(jt.ctrlKey){Ei=this.hU.x+this.hU.width/2;C.width=Math.abs(hn.x-Ei)*2;C.x=Ei-C.width/2;}else{C.x=Math.min(hn.x,this.Ax);C.width=Math.max(hn.x,this.Ax)-C.x;}}else{if(jt.ctrlKey){Ei=this.hU.y+this.hU.height/2;C.height=Math.abs(hn.y-Ei)*2;C.y=Ei-C.height/2;}else{C.y=Math.min(hn.y,this.Ax);C.height=Math.max(hn.y,this.Ax)-C.y;}}T.set_rectangle(C);break;case IPCC.ce.dF.prototype.IF:this.bF=T.pH();hn=this.bF.setPoint(this.mo,hn);break;case IPCC.ce.dF.prototype.FF:break;case IPCC.ce.dF.prototype.Yq:C=T.ca();T.set_calloutPoint({x:hn.x-C.x,y:hn.y-C.y});break;default:GC=this.GC;this.GC=G.imagePoint;this.F.ep().zH().lj(aCU);break;}}this.F.cF();}};lh.prototype.kE=function(){function azx(T){var Hs=T.akE();if(adu.contains(Hs)&&adu.contains({x:Hs.x+Hs.width,y:Hs.y+Hs.height})){T.set_selected(true);}};if(this.bM){if(!this.T){var adu=this.aj.vZ();this.F.ep().EU(azx);this.aj.oU();}this.aR();}};lh.prototype.nV=function(G){var af=this.F.eG();if(G.windowPoint.x<=0||G.windowPoint.x>=af.width-2){this.aR();}if(G.windowPoint.y<=0||G.windowPoint.y>=af.height-2){this.aR();}};lh.prototype.na=function(){this.aR();};module.exports=lh;},{}],24:[function(require,module,exports){var cd=require('./IPCC.Util').regClass;var Ps=function(){return this;};Ps.registerClass=cd;Ps.prototype={};Ps.registerClass('IPCC.ExceptionEventArgs');module.exports=Ps;},{"./IPCC.Util":28}],25:[function(require,module,exports){var dV=require('./IPCC.Util').regEnum;var nP=function(){};nP.registerEnum=dV;nP.prototype={FitToWidth:0,ShrinkToWidth:1,ActualSize:2,FitToHeight:3,BestFit:4};nP.registerEnum('IPCC.FitType',false);module.exports=nP;},{"./IPCC.Util":28}],26:[function(require,module,exports){var wt=function(){function Cb(){return Math.floor((Math.random()*10)).toString();};var iu=new Date();return Cb()+Cb()+'_'+iu.getTime()+"_"+Cb()+Cb()+Cb()+Cb();};module.exports=wt;},{}],27:[function(require,module,exports){var oY=function(){this.bM=false;this.F=false;};oY.prototype.mI=function(F){this.F=F;};oY.prototype.eu=function(){this.F=false;};oY.prototype.aR=function(){if(this.bM){this.bM=false;}};oY.prototype.pR=function(){this.aR();};oY.prototype.kf=function(G){this.aR();if(G.domEvent.button===0){this.bM=true;this.Lj=G.imagePoint;}};oY.prototype.ly=function(G){if(G.domEvent.button!==0){this.aR();}if(this.bM){var F=this.F;var aj=F.bw();var bh=aj.fC();var af=F.eG();bh.XY(this.Lj,G.windowPoint);bh.iE(F.cU(),af);F.bH('userModifiedViewState',{});aj.it(bh);F.cF();}};oY.prototype.kE=function(){this.aR();};oY.prototype.nV=function(G){var af=this.F.eG();if(G.windowPoint.x<=0||G.windowPoint.x>=af.width-2){this.aR();}if(G.windowPoint.y<=0||G.windowPoint.y>=af.height-2){this.aR();}};oY.prototype.na=function(){this.aR();};module.exports=oY;},{}],28:[function(require,module,exports){var V={};V.aaa=(function(){var la={};var xW=[];la.get=function aFK(rX){if(xW.length===0){return;}for(var i=0;i<rX.length;i++){if(xW[i]&&xW[i].rX===rX){return xW[i].jd;}}};la.set=function aFM(rX,jd){xW.push({rX:rX,jd:jd});if(xW.length>10){xW.shift();}};la.contains=function jv(rX){return la.get(rX)!==undefined;};la.cacheReponse=function aHC(rX,jd){if(jd.readyState===4){la.set(rX,jd);}else{var aDy=jd.onreadystatechange;jd.onreadystatechange=function(){if(jd.readyState===XMLHttpRequest.DONE&&jd.status===200){la.set(rX,jd);}aDy();};}};return la;})();V.Yy=false;V.Oi=(function(){var Oi=false;var sv=navigator.userAgent,Zp=((sv.indexOf('Mozilla/5.0')> -1&&sv.indexOf('Android ')> -1&&sv.indexOf('AppleWebKit')> -1)&& !(sv.indexOf('Chrome')> -1)),aeZ=new RegExp(/AppleWebKit\/([\d.]+)/),ayk=aeZ.exec(sv),akd=(ayk===null?null:parseFloat(aeZ.exec(sv)[1]));Oi=Zp&&akd!==null&&akd<537;return Oi;})();V.aGv=(function(){var ajS=false;var sv=navigator.userAgent,Zp=/Android/i.test(sv),aCw=/iPhone|iPad|iPod/i.test(sv),aBJ=/IEMobile/i.test(sv);ajS=(Zp||aCw||aBJ);return ajS;})();V.CT=(function(){var CT=false;if(document.documentMode===8||document.documentMode===9||document.documentMode===10){CT=true;}return CT;})();V.yQ=(function(){var asZ=navigator.userAgent;if(document.documentMode===10||V.Oi){return 'svg';}else if(document.documentMode===9){return 'svga';}else if(/Apple Computer/.test(navigator.vendor||'')&&/Mac OS X.*?Version\/9\..*?Safari/i.test(asZ)&& !V.aGv){return 'svga';}else{return 'svgb';}})();V.EI=(function(){if(document.documentMode===8){document.namespaces.add('v','urn:schemas-microsoft-com:vml');document.createStyleSheet().addRule("v\\: *","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:roundrect","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:oval","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:roundrect","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:fill","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:line","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:shape","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:polyline","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:stroke","behavior:url(#default#VML); position:absolute");return true;}return false;})();V.DM=(function(){return window.navigator.pointerEnabled||window.navigator.msPointerEnabled;})();V.Kv=V.DM||(function(){return('ontouchstart'in document.documentElement);})();V.aFV=(function(){return(navigator.platform)? ! !navigator.platform.match(/iPad|iPhone|iPod/g):false;})();V.aij=function(){return V.aBa.btoa((Math.random().toString(36).slice(-4))+'_'+V.uF(new Date())+'_'+(Math.random().toString(36).slice(-6)));};V.inArray=function(bW,dk){for(var i=0,l=bW.length;i<l;i++){if(bW[i]===dk){return true;}}return false;};V.forEach=function(az,am,cc){var oP=[].forEach,aDC=Object.prototype.hasOwnProperty;if(oP&&az.forEach===oP){am&&az.forEach(am,cc);}else if(az.length=== +az.length){for(var i=0,length=az.length;i<length;i++){am&&am.call(cc,az[i],i,az);}}else{for(var aJ in az){if(aDC.call(az,aJ)){am&&am.call(cc,az[aJ],aJ,az);}}}};V.map=function(bW,am,cc){var oP=[].map,uu=[];if(oP&&bW.map===oP){uu=bW.map(am,cc);}else{V.forEach(bW,function(el,i){uu.push(am.call(cc,el,i,bW));});}return uu;};V.filter=function(bW,am,cc){var oP=[].filter,uu=[],aac=false;if(oP&&bW.filter===oP){uu=bW.filter(am,cc);}else{V.forEach(bW,function(bJ,i){aac=am.call(cc,bJ,i,bW);if(aac){uu.push(bJ);}});}return uu;};V.find=function(obj,cb,context){var hasProp=Object.prototype.hasOwnProperty;cb=(typeof cb==='function')?cb:function(){};if(obj.length=== +obj.length){for(var i=0,length=obj.length;i<length;i++){if(! !cb.call(context,obj[i],i,obj)){return obj[i];}}}else{for(var name in obj){if(hasProp.call(obj,name)){if(! !cb.call(context,obj[name],name,obj)){return obj[name];}}}}return undefined;};V.remove=function(bW,am,cc){var So=[];var apM=V.filter(bW,am,cc);V.forEach(apM,function(dk){var aV=V.indexOf(bW,dk);if(aV=== -1){return;}So=So.concat(bW.splice(aV,1));});return So;};V.keys=function(az){if(Object&&Object.keys){return Object.keys(az);}else{var oR=[];for(var L in az){if(az.hasOwnProperty&&az.hasOwnProperty(L)){oR.push(L);}}return oR;}};V.indexOf=function(bW,aeW,agW){if(Array.prototype.indexOf){return bW.indexOf(aeW,agW);}var k;if(bW==null){throw new TypeError('"bW" is null or not defined');}var O=Object(bW);var len=O.length>>>0;if(len===0){return-1;}var n= +agW||0;if(Math.abs(n)===Infinity){n=0;}if(n>=len){return-1;}k=Math.max(n>=0?n:len-Math.abs(n),0);while(k<len){if(k in O&&O[k]===aeW){return k;}k++;}return-1;};V.reduce=function(bW,am,fs,cc){var oP=[].reduce;var Fa=(arguments.length===2)?undefined:fs;if(oP&&typeof oP==='function'&&bW.reduce===oP&&cc===undefined){if(fs!==undefined){return bW.reduce(am,fs,cc);}return bW.reduce(am);}IPCC.V.forEach(bW,function(bK,aM){if(Fa===undefined){Fa=bK;return;}Fa=am.call(cc,Fa,bK,aM,bW);});return Fa;};V.reduceLeft=function(bW,am,fs,cc){var uu=bW.reverse();return V.reduce.call(undefined,uu,am,fs,cc);};V.contains=function(bW,bK){var da=bW.length;while(da--){if(bW[da]===bK){return true;}}return false;};V.aBR=function(ZP,ala){if(ZP.length!==ala.length){return false;}for(var i=0,l=ZP.length;i<l;i++){if(ZP[i]!==ala[i]){return false;}}return true;};V.extend=function(target){"use strict";var source;if(!target){throw new IPCC.Web.UI.ImGearArgumentException("target","target must be defined.");}else if(typeof target!=='object'){throw new IPCC.Web.UI.ImGearArgumentException("target","typeof target must be 'object'");}else{for(var i=1;i<arguments.length;i++){source=arguments[i];for(var property in source){if(source.hasOwnProperty(property)){target[property]=source[property];}}}}return target;};V.trim=function(dw){if(String.prototype.trim){return dw.trim();}return dw.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,'');};V.getPageFromPoint=function(aT,dI,cc){var asq=function(fQ){return fQ.left<=aT&&aT<=fQ.right&&fQ.top<=dI&&dI<=fQ.bottom;};var arT=function(){return V.filter(cc.querySelectorAll('[id*=__pViewId]:not(.pccPreviousPage):not(.pccNextPage)'),function(iV){return asq(iV.getBoundingClientRect());});};if(!cc){cc=document;}return arT(aT,dI)[0];};V.regEnum=function(name,flags){for(var i in this.prototype){if(this.prototype.hasOwnProperty(i)){this[i]=this.prototype[i];}}this.__typeName=name;this.__flags=flags;this.__enum=true;};V.regClass=function(typeName,baseType,interfaceTypes){this.prototype.constructor=this;this.__typeName=typeName;this.__class=true;if(baseType){this.__baseType=baseType;for(var Mj in baseType.prototype){if(baseType.prototype.hasOwnProperty(Mj)){var axl=baseType.prototype[Mj];if(!this.prototype[Mj]){this.prototype[Mj]=axl;}}}}return this;};V.akh=function(ZH,ZB,akg){if(ZB){if(!akg){ZB.apply(ZH);}else{ZB.apply(ZH,akg);}}return ZH;};V.acF=function acF(yb,atw,alc){var oC;return function(){var cc=this,cC=arguments;var aDr=function(){oC=undefined;if(!alc){yb.apply(cc,cC);}};var anC=alc&& !oC;clearTimeout(oC);oC=setTimeout(aDr,atw);if(anC){yb.apply(cc,cC);}};};V.abV=function abV(dM,tk){if(dM.classList){dM.classList.add(tk);}else{dM.className+=' '+tk;}};V.aaY=function aaY(dM,tk){if(dM.classList){dM.classList.remove(tk);}else{dM.className=dM.className.replace(tk,'');}};V.Wj=function(jw){return{width:jw.width||(jw.right-jw.left),height:jw.height||(jw.bottom-jw.top),top:jw.top,bottom:jw.bottom,left:jw.left,right:jw.right};};V.agL=function(alphabet,size){var qF='';for(var L=0;L<size;L++){qF+=alphabet[Math.floor(Math.random()*1000)%alphabet.length];}return qF;};V.ase=function(){var aCA='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';var aFT='AQgw';return V.agL(aCA,21)+V.agL(aFT,1);};V.ahW=function(){var iH={'Accusoft-Gid':V.ase(),'Accusoft-Parent-Name':'ViewerControl','Accusoft-Parent-Pid':0,'Accusoft-Parent-Taskid':0};return iH;};V.qJ=function(aA){if(aA instanceof V.qJ){return aA;}this.iH=V.reduce(aA.headers||{},function(qX,bK,aG){aG=aG.toLowerCase();if(qX[aG]){qX[aG]+=', '+bK;}else{qX[aG]=bK;}return qX;},{});this.status=aA.status;this.statusText=aA.statusText;this.responseText=aA.responseText;if(typeof aA.responseBody!=='undefined'){this.responseBody=aA.responseBody;}return this;};V.qJ.prototype.getResponseHeader=function(Cl){var aA=this.iH[Cl.toLowerCase()];return aA!==undefined?aA:null;};V.mx=(function(){var xF={};xF.iH={};xF.Ns=undefined;function acV(aiD){if(!aiD){return{};}return aiD.split('\r\n').reduce(function(MZ,mp){var aV=mp.indexOf(': ');if(aV>0){var aG=mp.slice(0,aV);var h=mp.slice(aV+2);if(MZ[aG]){h=MZ[aG]+', '+h;}MZ[aG]=h;}return MZ;},{});};xF.fa=function(axj){var AK={method:'GET',url:null,headers:{},body:null,timeout:null,mimeType:null,cache:false},ke=PCCViewer.Deferred(),de=ke.getPromise(),pK;var bI=V.extend({},AK,axj);bI.headers=V.extend({},xF.iH,bI.headers);if(typeof xF.Ns==='function'){pK=xF.Ns(bI);if(typeof pK==='object'&&typeof pK.then==='function'){pK.then(function(ah){ke.resolve(ah);},function(ah){ke.reject(ah);});return de;}}if(bI.cache&&V.aaa.contains(bI.url)){var jd=V.aaa.get(bI.url);var aA,vD={};vD={status:jd.status,headers:acV(jd.getAllResponseHeaders())};try{vD.responseText=jd.responseText;}catch(e){}if(typeof jd.responseBody!=='undefined'){vD.responseBody=jd.responseBody;}aA=new V.qJ(vD);if(jd.status>=200&&jd.status<300||status===304){ke.resolve(aA);}else{ke.reject({response:aA,error:new PCCViewer.Error("Error","An AJAX problem occurred: "+jd.status+" "+jd.statusText)});}return de;}var hX,oC;try{hX=new XMLHttpRequest();}catch(e){ke.reject(new PCCViewer.Error("Error",e.message));}if(hX){hX.open(bI.method,bI.url,true);if(bI.timeout){oC=window.setTimeout(function(){hX.abort();ke.reject({error:new PCCViewer.Error("Error","Request timed out")});},bI.timeout);}hX.onreadystatechange=function(){var aA,vD={};if(hX.readyState===4){if(oC){window.clearTimeout(oC);}vD={status:hX.status,headers:acV(hX.getAllResponseHeaders())};try{vD.responseText=hX.responseText;}catch(e){}if(typeof hX.responseBody!=='undefined'){vD.responseBody=hX.responseBody;}aA=new V.qJ(vD);if(hX.status>=200&&hX.status<300||status===304){ke.resolve(aA);}else{ke.reject({response:aA,error:new PCCViewer.Error("Error","An AJAX problem occurred: "+hX.status+" "+hX.statusText)});}}};var YL=V.extend({},bI.headers,V.ahW());for(var aG in YL){if(YL.hasOwnProperty(aG)){hX.setRequestHeader(aG,YL[aG]);}}if(typeof bI.mimeType==='string'&&typeof hX.overrideMimeType==='function'){hX.overrideMimeType(bI.mimeType);}if(bI.cache){V.aaa.cacheReponse(bI.url,hX);}hX.send(bI.body);}return de;};return xF;})();V.Sl=function(gh,iz,eu){var fZ=[],rq=null,uI=null,aw;var aBv=function(uI,rq){if(!rq){return false;}else{return Math.abs(uI.y-rq.y)<1&&Math.abs(uI.height-rq.height)<1&&uI.x+uI.width>=rq.x+rq.width;}};for(aw=iz;aw<eu+1;aw++){uI=gh.kB(aw).bo;if(aBv(uI,rq)){rq.union(uI);}else{rq=uI.clone();fZ.push(rq);}}return fZ;};V.addEvent=function addEvent(obj,event,handler){if(obj.addEventListener){obj.addEventListener(event,handler,false);}else if(obj.attachEvent){obj.attachEvent('on'+event,handler);}};V.removeEvent=function(obj,event,handler){if(obj.removeEventListener){obj.removeEventListener(event,handler,false);}else if(obj.detachEvent){obj.detachEvent('on'+event,handler);}};V.bspline=(function(){var d3_svg_lineBasisBezier1=[0,2/3,1/3,0],d3_svg_lineBasisBezier2=[0,1/3,2/3,0],d3_svg_lineBasisBezier3=[0,1/6,2/3,1/6];function d3_svg_lineLinear(points){return points.join("L");};function d3_svg_lineDot4(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3];};function d3_svg_lineBasisBezier(path,x,y){path.push("C",d3_svg_lineDot4(d3_svg_lineBasisBezier1,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier1,y),",",d3_svg_lineDot4(d3_svg_lineBasisBezier2,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier2,y),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,y));};function d3_svg_lineBasis(points){if(points.length<3){return d3_svg_lineLinear(points);}var i=1,n=points.length,pi=points[0],x0=pi[0],y0=pi[1],px=[x0,x0,x0,(pi=points[1])[0]],py=[y0,y0,y0,pi[1]],path=[x0,",",y0,"L",d3_svg_lineDot4(d3_svg_lineBasisBezier3,px),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,py)];points.push(points[n-1]);while(++i<=n){pi=points[i];px.shift();px.push(pi[0]);py.shift();py.push(pi[1]);d3_svg_lineBasisBezier(path,px,py);}points.pop();path.push("L",pi);return path.join("");};return function(bF){var aou=V.map(bF,function(bJ){return[bJ.x,bJ.y];});return d3_svg_lineBasis(aou);};})();V.aGj=function(dw){if(dw.match(/[^a-zA-Z0-9\s\,\.]/)){throw new Error('The path data attribute is not valid. It cannot be parsed.');}var aqH=V.filter(dw.replace(/[Mm]/g,'|').split('|'),function(g){return! !g.length;});var aqZ=V.map(aqH,function(el){var apW=el.replace(/[a-zA-Z]/g,'|').split('|');return V.map(apW,function(hg){var alK=hg.split(',');return{x: +alK[0],y: +alK[1]};});});return aqZ;};V.aix=function(dw,ik,jj,kP,bI){bI.dh="12px";var jo=V.tG(dw,ik,bI),xq=12*jj/(jo.width||1),yp=12*kP/(jo.height||1),aqp=Math.min(xq,yp);bI.dh=aqp;return V.ajh(dw,ik,jj,kP,bI);};V.ajh=function(dw,ik,jj,kP,bI,PS){PS=PS||1;var nB={},jo=V.tG(dw,ik,bI),dh=bI.dh;nB.width=jo.width;nB.height=jo.height;nB.fontSize=dh;if(PS>3){return nB;}if((jo.width<jj+1)&&(jo.height<kP+1)){return nB;}else{var xq=dh*jj/(jo.width||1),yp=dh*kP/(jo.height||1),zn=Math.min(xq,yp);if(zn>=bI.dh){return nB;}else{bI.dh=zn;return V.ajh(dw,ik,jj,kP,bI,PS+1);}}};V.tG=function(dw,ik,bI){bI=bI||{};if(document.createElementNS){return V.anE(dw,ik,bI);}else{return V.akx(dw,ik,bI);}};V.anE=function(dw,ik,bI){var svg,akr=false;if(bI.ef){svg=bI.ef;}else{svg=document.createElementNS("http://www.w3.org/2000/svg","svg");svg.setAttribute('style','border: 1px solid black');svg.setAttribute('width','600');svg.setAttribute('height','600');akr=true;document.body.appendChild(svg);}var dh=bI.dh||"12px";if(typeof dh==="number"){dh=dh+"px";}var dc=document.createElementNS("http://www.w3.org/2000/svg","text");V.forEach({x:0,y:0,'font-size':dh,'stroke':"none",'fill':"#000000",'font-family':ik},function(value,name){dc.setAttribute(name,value);});if(bI.ud){dc.setAttribute('style','white-space:'+bI.ud);}var nl=document.createTextNode(dw);dc.appendChild(nl);svg.appendChild(dc);var tE=dc.getBBox(),Gc=tE.width,FB=tE.height;svg.removeChild(dc);if(akr){document.body.removeChild(svg);}if(Gc===0&&FB===0&&dw!=="M"){return V.tG("M",ik,bI);}else{return{width:Gc,height:FB};}};V.akx=function(dw,ik,bI){var nl=document.createTextNode(dw),BL=document.createElement('div');var dh=bI.dh||"12px";if(typeof dh==="number"){dh=dh+"px";}V.forEach({position:'absolute',display:'inline-block',top:0,left:0,visibility:'hidden',fontSize:dh,fontFamily:ik},function(value,name){BL.style[name]=value;});if(bI.ud){BL.style.whiteSpace=bI.ud;}BL.appendChild(nl);document.body.appendChild(BL);var tE=BL.getBoundingClientRect(),Gc=tE.width||tE.right-tE.left,FB=tE.height||tE.bottom-tE.top;document.body.removeChild(BL);if(Gc===0&&FB===0&&dw!=="M"){return V.akx("M",ik,dh);}else{return{width:Gc,height:FB};}};V.WI=function(svgPath){var regexp=/[\s,]*(M)[\s,]*([\d\.]+)[\s,]+([\d\.]+)|[\s,]*(C)[\s,]?([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)|[\s,]*(L)[\s,]*([\d\.]+)[\s,]+([\d\.]+)/g;var match=regexp.exec(svgPath);var xArr=[],yArr=[];function updateBounds(x,y){xArr.push(Number(x));yArr.push(Number(y));};while(match!==null){if(match[1]){updateBounds(match[2],match[3]);}else if(match[4]){updateBounds(match[5],match[6]);updateBounds(match[7],match[8]);updateBounds(match[9],match[10]);}else if(match[11]){updateBounds(match[12],match[13]);}match=regexp.exec(svgPath);}return{width:Math.max.apply(Math,xArr),height:Math.max.apply(Math,yArr)};};V.xf={SVG:function SVG(arN){var ef=document.createElementNS("http://www.w3.org/2000/svg","svg");ef.setAttribute('viewBox',arN);return ef;},Path:function Path(yr,kW){var hx=document.createElementNS("http://www.w3.org/2000/svg","path");hx.style.fill='none';hx.style.stroke=kW.color||'#000000';hx.style.strokeWidth=kW.thickness||4;if(yr){hx.setAttribute('d',yr.toString().trim());}return hx;},Rect:function Rect(ag,cq,fK){var aL=document.createElementNS("http://www.w3.org/2000/svg","rect");aL.setAttribute('width',ag||0);aL.setAttribute('height',cq||0);if(fK){aL.setAttribute('style',fK);}return aL;}};V.JY=function JY(ng){var regexIso8601=/^(\d{4}|\+\d{6})(?:-(\d{2})(?:-(\d{2})(?:T(\d{2}):(\d{2}):(\d{2})(?:\.(\d{1,3}))?(?:Z|([\-+])(\d{2}):(\d{2}))?)?)?)?$/;var m=regexIso8601.exec(ng);if(m){return Date.UTC(m[1],(m[2]||1)-1,m[3]||1,m[4]-(m[8]?m[8]+m[9]:0)||0,m[5]-(m[8]?m[8]+m[10]:0)||0,m[6]||0,((m[7]||0)+'00').substr(0,3));}else{return new Error(ng+' cannot be parsed as an ISO 8601 date.');}};V.uF=function aGp(iu){if(iu.toISOString&&typeof iu.toISOString==='function'){return iu.toISOString();}else{return new Error(iu+' is not a Date object.');}};V.wx=function wx(o){return(!o?false:typeof Node==="object"?o instanceof Node:o&&typeof o==="object"&&typeof o.nodeType==="number"&&typeof o.nodeName==="string");};V.Qp=function Qp(o){if(V.wx(o)){while(o.firstChild){o.removeChild(o.firstChild);}}};V.aar=function sync(funcs,done){var counter=funcs.length;var idx=0;var next=function(err){if(err){done(err);}else if(--counter===0){done();}else{funcs[idx++](next);}};funcs[idx++](next);};V.akN=function(bK){bK=String(bK).replace(/[^0-9a-f]/gi,"");if(bK.length<6){bK=bK[0]+bK[0]+bK[1]+bK[1]+bK[2]+bK[2];}var SZ=function(dw){return parseInt(dw,16);};var r=SZ(bK.substring(0,2));var g=SZ(bK.substring(2,4));var b=SZ(bK.substring(4,6));return{r:r,g:g,b:b};};V.aDO=function(bK){var RW="";var Ni=function(n){while(n.length<2){n='0'+n;}return n;};var TA=function(n){return Ni(n.toString(16));};RW+=TA(Math.floor(bK.r));RW+=TA(Math.floor(bK.g));RW+=TA(Math.floor(bK.b));return '#'+RW;};V.aod=function(asO,apA,arR){var Eh=arR,UH=V.akN(asO),nZ=V.akN(apA);nZ.r=(1-Eh)*nZ.r+(UH.r*Eh);nZ.g=(1-Eh)*nZ.g+(UH.g*Eh);nZ.b=(1-Eh)*nZ.b+(UH.b*Eh);nZ.r=Math.floor(nZ.r);nZ.g=Math.floor(nZ.g);nZ.b=Math.floor(nZ.b);return V.aDO(nZ);};V.ahq=function(atc,tZ){var avg=V.reduceLeft(atc,function(fs,dG){if(dG.opacity===undefined){dG.opacity=127;}var aAU=dG.opacity/255;return V.aod(dG.color,fs,aAU);},tZ);return avg;};V.afL=function(hH){if(hH.length===0){return hH;}var fG=hH.slice(0);fG.sort(function(a,b){return a.startIndex-b.startIndex;});var UG=null;var lp=[];var UK=0,PO=[];var L=fG[0].startIndex;while(fG.length>0){UK=0;PO=null;PO=[];var aw=0;while(aw<fG.length&&fG[aw].startIndex<=L){if(L<=fG[aw].startIndex+fG[aw].length-1){UK++;PO.push(fG[aw]);aw++;}else{fG.splice(aw,1);}}if(UK>0){var DH=V.ahq(PO,'#ffffff');if(DH===UG){lp[lp.length-1].endIndex=L;}else{lp.push({startIndex:L,endIndex:L,color:DH});}UG=DH;L++;}else{if(fG.length>0){L=fG[0].startIndex;}UG=null;}}return lp;};V.KA=function(VG){return VG.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");};V.akc=function(an){var blackListPattern=/^\s*(file|data|javascript|[a-z]):.*$/i;return blackListPattern.test(an);};V.Ni=function(hG,da){var dw=""+hG;while(dw.length<da){dw='0'+dw;}return dw;};V.aGo=function(fE){var hB=fE.getTimezoneOffset();hB=((hB<0?'+':'-')+V.Ni(parseInt(Math.abs(hB/60),10),2)+V.Ni(Math.abs(hB%60),2));return hB;};V.ani=['Sun','Mon','Tue','Wed','Thurs','Fri','Sat'];V.Te=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];V.adH=function(UU){var avj=/^\s*\w+\s+(\w+)\s+(\d+)\s+(\d+):(\d+):(\d+)\s+GMT[+-]?\d+\s+(\d+)\s*$/i,ah=avj.exec(UU),ahK,Et,amh,ajk,ahO,yw,acU;if(!ah){return null;}else{ahK=ah[1].toLowerCase();amh=ah[2];ajk=ah[3];ahO=ah[4];yw=ah[5];acU=ah[6];for(Et=0;Et<12;Et++){if(V.Te[Et].toLowerCase()===ahK){break;}}if(Et>=12){return null;}return new Date(Date.UTC(acU,Et,amh,ajk,ahO,yw));}};V.ajl=function(fE){return(V.ani[fE.getUTCDay()]+" "+V.Te[fE.getUTCMonth()]+" "+fE.getUTCDate()+" "+fE.getUTCHours()+':'+fE.getUTCMinutes()+':'+fE.getUTCSeconds()+" "+"GMT+0000 "+fE.getUTCFullYear());};V.apg=function(fE){return(V.ani[fE.getUTCDay()]+" "+V.Te[fE.getUTCMonth()]+" "+fE.getUTCDate()+" "+fE.getUTCFullYear());};V.aoR=function(fE){return(fE.getUTCHours()+':'+fE.getUTCMinutes()+':'+fE.getUTCSeconds()+" "+"GMT+0000");};V.nL=function(text){return text.replace(/[&<>\"\']/g,function(char){switch(char){case "&":return "&amp;";case "<":return "&lt;";case ">":return "&gt;";case "\"":return "&quot;";case "'":return "&apos;";default:throw new Error("Did not find a replacement character.");}});};V.xQ=function(text){return text.replace(/&amp;/g,'&').replace(/&gt;/g,'>').replace(/&lt;/g,'<').replace(/&quot;/g,'"').replace(/&apos;/g,'\'');};V.aBa=(function(chars){chars='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';function InvalidCharacterError(message){this.message=message;};InvalidCharacterError.prototype=new Error;InvalidCharacterError.prototype.name='InvalidCharacterError';function btoa(input){var str=String(input);for(var block,charCode,idx=0,map=chars,output='';str.charAt(idx|0)||(map='=',idx%1);output+=map.charAt(63&block>>8-idx%1*8)){charCode=str.charCodeAt(idx+=3/4);if(charCode>0xFF){throw new InvalidCharacterError("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");}block=block<<8|charCode;}return output;};function atob(input){var str=String(input).replace(/=+$/,'');if(str.length%4==1){throw new InvalidCharacterError("'atob' failed: The string to be decoded is not correctly encoded.");}for(var bc=0,bs,buffer,idx=0,output='';buffer=str.charAt(idx++);~buffer&&(bs=bc%4?bs*64+buffer:buffer,bc++ %4)?output+=String.fromCharCode(255&bs>>(-2*bc&6)):0){buffer=chars.indexOf(buffer);}return output;};return{btoa:btoa,atob:atob};})();V.ot=(function(){var ot=['down','enter','leave','move','out','over','up'];if(window.navigator.pointerEnabled){var acA={};ot.forEach(function(acR){acA[acR]='pointer'+acR;});return acA;}if(window.navigator.msPointerEnabled){var agQ={};for(var L=0;L<ot.length;L++){var VS=ot[L];var aww='MSPointer'+VS.charAt(0).toUpperCase()+VS.slice(1);agQ[VS]=aww;}return agQ;}return{};})();V.vj=(function(){return{zE: ! !navigator.userAgent.match('Edge'),aEZ:document.documentMode!==undefined,aFS:document.documentMode===8,aFQ:document.documentMode===9,aFR:document.documentMode===10,aFB:document.documentMode===11,aBk:(navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i)),aDD:/^((?!chrome|android).)*safari/i.test(navigator.userAgent)};})();V.Oc=(function(oi){if(!oi|| !IPCC.V.trim(oi)){return 'regular';}return IPCC.V.trim(oi).toLowerCase();});V.aIF=function(arg,value){return typeof arg!=='undefined'?arg:value;};V.Ml=function(value){return Number(value.replace(/[a-z]+$/,''));};V.MD=function(elem,propertyName){if(elem.currentStyle){return elem.currentStyle[propertyName];}else{return window.getComputedStyle(elem,null).getPropertyValue(propertyName);}};V.ahM=function(){if(this.qR===undefined){this.qR=document.createTextNode('');}return this.qR;};V.ajx=function(){if(this.cD===undefined){this.cD=document.createElement('textarea');this.qR=document.createTextNode('');this.cD.appendChild(V.qR);this.cD.style.position='absolute';this.cD.style.overflow='hidden';this.cD.style.width='80px';this.cD.style.height='80px';this.cD.style.resize='none';this.cD.style.top='-9999px';this.cD.style.left='-9999px';this.cD.style.whiteSpace='pre-wrap';this.cD.style.border=0;this.cD.style.padding='2px';document.body.appendChild(this.cD);}return this.cD;};V.SI=function(cD,Ey,aY){var aaR=0.1;var IG;if(Ey===0||Ey>aY){Ey=aY;}while(aaR<=Ey){IG=(aaR+Ey)/2;cD.style.fontSize=IG+'px';if(cD.scrollHeight<=cD.offsetHeight){aaR=IG+0.1;}else{Ey=IG-0.1;}}var agO=(IG-0.5)*0.95;cD.style.fontSize=agO+'px';return agO;};V.PB=function(yb,qz,Vw,pK){if(yb(qz,Vw)!==Vw){return typeof(pK)==='number'?pK:Vw;}return qz;};V.LO=function(qz,aya,pK){return V.PB(Math.min,qz,aya,pK);};V.LP=function(qz,ayh,pK){return V.PB(Math.max,qz,ayh,pK);};V.aru=(function(){var Kz;return function(atn,lm,arJ){if(Kz!==undefined&& !arJ){setTimeout(lm.bind(null,Kz),0);return;}auL(atn,function(qF){Kz=qF;lm(qF);});};function auL(LB,lm){var ik='jctqxvjmncyjagibfltptfzhknc';var iZ='@font-face {font-family:'+ik+';src:url(data:application/x-font-woff;charset=utf-8;base64,d09GRk9UVE8AAAQoAAkAAAAAA+QAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABDRkYgAAAC+AAAARkAAAEZ9R5YPk9TLzIAAAFEAAAAYAAAAGBKDUcOY21hcAAAAqwAAAAsAAAALAAMAFZoZWFkAAAA4AAAADYAAAA2+UdJt2hoZWEAAAEYAAAAJAAAACQIOgMbaG10eAAABBQAAAAUAAAAFAhtAW5tYXhwAAABPAAAAAYAAAAGAAVQAG5hbWUAAAGkAAABBQAAAQVCmPyecG9zdAAAAtgAAAAgAAAAIAADAAAAAQAAAAEAAM9NZw1fDzz1AAAD6AAAAADLUgMfAAAAAMtSAx8Ac//5AxwCmwAAAAgAAgAAAAAAAAABAAACm//5Ag4DHABzAAADHAABAAAAAAAAAAAAAAAAAAAABQAAUAAABQAAAAQCzwGQAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAEFDQ1UAQAAfACMCm//5AkACmwAHAAAAAQAAAAAAAAAAAAAAIAAAAAAABgBOAAEAAAAAAAEAGwAAAAEAAAAAAAIABwBRAAEAAAAAAAYAGwBmAAMAAQQJAAEANgAbAAMAAQQJAAIADgBYAAMAAQQJAAYANgCBamN0cXh2am1uY3lqYWdpYmZsdHB0Znpoa25jAGoAYwB0AHEAeAB2AGoAbQBuAGMAeQBqAGEAZwBpAGIAZgBsAHQAcAB0AGYAegBoAGsAbgBjUmVndWxhcgBSAGUAZwB1AGwAYQByamN0cXh2am1uY3lqYWdpYmZsdHB0Znpoa25jAGoAYwB0AHEAeAB2AGoAbQBuAGMAeQBqAGEAZwBpAGIAZgBsAHQAcAB0AGYAegBoAGsAbgBjAAAAAAAAAQADAAEAAAAMAAQAIAAAAAQABAABAAAAI///AAAAIP///+EAAQAAAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEABAQAAQEBHGpjdHF4dmptbmN5amFnaWJmbHRwdGZ6aGtuYwABAQEq+Bv4HIsMHvgdAvgdA/cHhPmw+S8FiwwfkAwi95sMJPc5DCX3NA/3QREABAEBBg8qRUFkb2JlSWRlbnRpdHkwamN0cXh2am1uY3lqYWdpYmZsdHB0Znpoa25jamN0cXh2am1uY3lqYWdpYmZsdHB0Znpoa25jAAACAAEAAwMAAQAAAAAFAAUBAQIDFDNSDg7Q9xX5JxX5J4uL/Sf9J4sFDtj3LvkOFYv89fj1i4v49QWs/RUV/TaLi/k2+TaLBQ77JvcHixWL+NH4XouL/NEF/FCZFfhCi4v4tfxCiwUOAAEBAQn4HgwmkPeoEosU+WMVAAAAAAAAAAAAAAADFACBAxwAegI9AHM=)}';var fK;var oh;var akH;var agy,ahB;aAL();avi(function(qF){arO();lm(qF);});function aAL(){fK=document.createElement('style');fK.innerText=iZ;LB.appendChild(fK);oh=document.createElement('div');oh.style.cssText='position: absolute;width: 100%;top:-9999px;left: -9999px;visibility: hidden;pointer-events: none;';agy=adW(oh,'monospace');ahB=adW(oh,'arial');LB.appendChild(oh);};function arO(){clearInterval(akH);LB.removeChild(oh);LB.removeChild(fK);};function avi(am){var asa=Date.now();var oC=500;var aBY=25;akH=setInterval(function(){var agU=agy.offsetWidth===ahB.offsetWidth;if(agU||Date.now()-asa>oC){am(agU);}},aBY);};function adW(oh,iZ){var ara='!!';var aek=document.createElement('div');var Fg=document.createElement('span');Fg.style.cssText='font-size: 30px; font-weight: normal; font-style: normal; letter-spacing: 0px; white-space: nowrap;';Fg.innerText=ara;Fg.style.fontFamily=ik+', '+iZ;aek.appendChild(Fg);oh.appendChild(aek);return Fg;}}})();V.aqQ=function(gU,xH,mO){var ut=document.createElement('div');if(!IPCC.V.vj.aDD){gU=gU.replace(/href="#/g,'href="#'+mO);gU=gU.replace(/url\("?#(.+?)"?\)/g,'url(#'+mO+'$1)');gU=gU.replace(/ id="/g,' id="'+mO);ut.innerHTML=gU;return ut;}ut.innerHTML=gU;var aDn=ut.querySelectorAll('[id]');var aDH=ut.querySelectorAll("*");var aop=xH.replace(/"/g,'\\$&');var aDJ=['href','xlink:href'];var asy=['fill','filter','clip-path','mask','marker-start','marker-mid','marker-end'];IPCC.V.forEach(aDn,function(bJ){bJ.id=mO+bJ.id;});IPCC.V.forEach(aDH,function(bJ){IPCC.V.forEach(aDJ,function(qk){if(bJ.hasAttribute(qk)&&bJ.getAttribute(qk).indexOf('#')===0){bJ.setAttribute(qk,bJ.getAttribute(qk).replace('#',xH+'#'+mO));}});IPCC.V.forEach(asy,function(qk){if(bJ.hasAttribute(qk)&&bJ.getAttribute(qk).match(/^url\("?#/)){bJ.setAttribute(qk,bJ.getAttribute(qk).replace(/^url\("?#(.+?)\"?\)$/,'url("'+xH+'#'+mO+'$1")'));}});if(bJ.hasAttribute('style')){var EF=bJ.style.cssText;EF=EF.replace(/url\("?#(.+?)"?\)/g,'url("'+aop+'#'+mO+'$1")');bJ.style.cssText=EF;}});return ut;};module.exports=V;},{}],29:[function(require,module,exports){var AV=require('./Type');AV.registerNamespace('IPCC');module.exports={Pagecounter:1,hb:true,afA:null,initializePageViewPlugin:require('./initializePageViewPlugin'),initializePageListPlugin:require('./initializePageListPlugin'),pN:require('./predefinedContextMenu'),Yh:require('./indexOf'),QW:require('./setProperties'),bj:require('./PageItem'),wt:require('./GetUniqueID'),UM:require('./ViewerState'),tL:require('./Configuration'),bA:require('./Cursor'),lw:require('./Res'),aq:require('./Validate'),jg:require('./Debug'),eP:require('./MenuCommand'),PageLayout:require('./PageLayout'),ViewMode:require('./ViewMode'),FitType:require('./FitType'),ScaleTrigger:require('./ScaleTrigger'),PageEventArgs:require('./PageEventArgs'),ExceptionEventArgs:require('./ExceptionEventArgs'),OpenPageEventArgs:require('./OpenPageEventArgs'),PageList:require('./PageList'),Web:require('./Web/Web'),Type:AV,V:require('./IPCC.Util'),ce:require('./Art'),kI:require('./SelectTextController'),eo:require('./Matrix'),VT:require('./ViewerModel'),fd:require('./ContextMenuController'),dX:require('./SvgUIDirector'),nz:require('./PropertyChangedEventArgs'),zS:require('./StringBuilder'),cT:require('./MultiTouchController'),sD:require('./ImagePyramid'),dq:require('./SingleTouchController'),kc:require('./AddPolyMarkController'),pd:require('./SelectController'),eW:require('./AddRectangularMarkController'),lf:require('./AddFreehandMarkController'),mH:require('./AddLineMarkController'),ds:require('./MouseWheelController'),oY:require('./HandPanController'),lW:require('./RectangleZoomController'),qe:require('./MagnifierController'),lh:require('./EditMarksController'),AP:require('./RunMarksController'),BB:require('./Space'),hz:require('./Image'),Qu:require('./ImagePool'),CW:require('./PyramidLevel'),vK:require('./PyramidTile'),};},{"./AddFreehandMarkController":12,"./AddLineMarkController":13,"./AddPolyMarkController":14,"./AddRectangularMarkController":15,"./Art":16,"./Configuration":19,"./ContextMenuController":20,"./Cursor":21,"./Debug":22,"./EditMarksController":23,"./ExceptionEventArgs":24,"./FitType":25,"./GetUniqueID":26,"./HandPanController":27,"./IPCC.Util":28,"./Image":30,"./ImagePool":31,"./ImagePyramid":32,"./MagnifierController":33,"./Matrix":34,"./MenuCommand":35,"./MouseWheelController":36,"./MultiTouchController":37,"./OpenPageEventArgs":38,"./PageEventArgs":39,"./PageItem":40,"./PageLayout":41,"./PageList":42,"./PropertyChangedEventArgs":43,"./PyramidLevel":44,"./PyramidTile":45,"./RectangleZoomController":46,"./Res":47,"./RunMarksController":48,"./ScaleTrigger":49,"./SelectController":50,"./SelectTextController":51,"./SingleTouchController":52,"./Space":53,"./StringBuilder":54,"./SvgUIDirector":55,"./Type":56,"./Validate":57,"./ViewMode":58,"./ViewerModel":59,"./ViewerState":60,"./Web/Web":124,"./indexOf":125,"./initializePageListPlugin":126,"./initializePageViewPlugin":127,"./predefinedContextMenu":128,"./setProperties":129}],30:[function(require,module,exports){var hz=function(kh,aP,ag,cq,hC,fO){IPCC.BB.call(this,0,0,0,0);this.width=ag;this.height=cq;this.hC=hC;this.fO=fO;this.aP=aP||0;this.fN=0;this.sF=true;this.aEp={};this.zz=false;var J=this;this.aP=aP;this.get_url=function(gy,fm,aI){fm=fm||'Image';aI=aI||'';var Do=hz.Gk(kh);var Df=false;if(/^[\x00-\x7F]*$/.test(Do)){Df=true;}if(aI===null||aI===''){if(fm==='Attributes'){var vF='';if(!IPCC.tL.HC()){vF='&ContentType=png';}if(!Df){return gy+'/Page/q/'+aP.toString()+'/'+fm+'?DocumentID=e'+kh+vF;}else{return gy+'/Page/q/'+aP.toString()+'/'+fm+'?DocumentID=u'+encodeURIComponent(Do)+vF;}}else{if(fm==='SvgImage'){if(!Df){return gy+'/Page/q/'+aP.toString()+'?DocumentID=e'+kh+'&'+aI;}else{return gy+'/Page/q/'+aP.toString()+'?DocumentID=u'+encodeURIComponent(Do)+'&'+aI;}}if(!Df){return gy+'/Page/q/'+aP.toString()+'/'+fm+'?DocumentID=e'+kh+'&'+aI;}else{return gy+'/Page/q/'+aP.toString()+'/'+fm+'?DocumentID=u'+encodeURIComponent(Do)+'&'+aI;}}}else{if(fm==='SvgImage'){if(!Df){return gy+'/Page/q/'+aP.toString()+'?DocumentID=e'+kh+'&'+aI;}else{return gy+'/Page/q/'+aP.toString()+'?DocumentID=u'+encodeURIComponent(Do)+'&'+aI;}}if(!Df){return gy+'/Page/q/'+aP.toString()+'/'+fm+'?DocumentID=e'+kh+'&'+aI;}else{return gy+'/Page/q/'+aP.toString()+'/'+fm+'?DocumentID=u'+encodeURIComponent(Do)+'&'+aI;}}};this.get_urlArt=function(gy,fm,aI){fm=fm||'Art';aI=aI||'';if(aI===null||aI===''){if(fm==='Art'){return gy+'/Page/q/'+aP.toString()+'/'+fm+'?DocumentID=e'+kh;}}else{return gy+'/Page/q/'+aP.toString()+'/'+fm+'?DocumentID=e'+kh+'&'+aI;}};this.get_identifier=function(){return IPCC.hz.Gk(kh);};this.get_encodedIdentifier=function(){return kh;};this.toString=function(){return 'Image("'+kh+'", '+this.aP+', '+this.width+' x '+this.height+', '+this.hC+', '+this.fO+')';};function acg(alO,F){if(F.Xr()){J.sF=true;J.zz=false;return;}var UD=alO.split(',');var mF=false;for(var bD=0;bD<UD.length;bD++){if(UD[bD]==="SVG"||UD[bD]==="svg"){if(IPCC.tL.HC()){J.zz=true;J.sF=false;}else{J.zz=false;}mF=true;break;}}if(!mF){J.zz=false;J.sF=true;}if(F){if(F.Qy){F.Qy(J.zz);}}};this.Vp=function(gy,F,Ak){F.aP=this.aP;var lN=0;var lL=F.xI();if(lL){if(document.documentMode<9){lL=false;}}var rF=true;if(F.kN()===0){rF=false;}var rd=function(fi,aA){try{if(fi===null){throw new IPCC.Web.UI.ImGearArgumentException(null,'Unable to load the specified image. Failed to obtain Image attributes. Returned JSON from the server is null');}if(fi.errorCode){if(fi.errorCode==='SvgNotAvailable'){lL=false;J.width= +(fi.pageAttributes.imageWidth);J.height= +(fi.pageAttributes.imageHeight);J.hC= +(fi.pageAttributes.imageXResolution);if(J.hC<=0){J.hC=72;}J.fO= +(fi.pageAttributes.imageYResolution);if(J.fO<=0){J.fO=72;}J.fN= +(fi.pageAttributes.pageCount);J.sF=fi.pageAttributes.isRaster!=='false';acg(fi.pageAttributes.contentType,F);}}else{J.width= +(fi.imageWidth);J.height= +(fi.imageHeight);J.hC= +(fi.imageXResolution);if(J.hC<=0){J.hC=72;}J.fO= +(fi.imageYResolution);if(J.fO<=0){J.fO=72;}J.fN= +(fi.pageCount);J.sF=fi.isRaster!=='false';acg(fi.contentType,F);}var nQ=aA.getResponseHeader("Accusoft-Data-Encrypted");var GE=false;if(nQ==="true"){GE=true;}F.acH(GE);if(Ak){Ak();}}catch(e){F.bG('openPage',e);if(typeof(F.bH)==='function'){var co=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();co.exception=e;co.pageNumber=F.aP;F.bH('pageOpenFailed',co);}}};function Mb(){lL=false;if(lN<1){var hj={method:'GET',url:J.get_url(gy,'Attributes'),headers:{'Content-Type':'application/json'}};if(rF===true){hj.timeout=F.kN();}IPCC.V.mx.fa(hj).then(fB,fh);lN++;}};var aBX=function(gU,aA){var ag;var cq;function auC(){var ZZ;try{ZZ=JSON.parse(gU);}catch(aF){ZZ=undefined;lL=true;}return ZZ;};try{ag=gU.match(/width=\"([0-9.]+)\"/);cq=gU.match(/height=\"([0-9.]+)\"/);if(ag&&cq){ag=Number(ag[1]);cq=Number(cq[1]);}else{throw "error";}if(isNaN(ag)||isNaN(cq)){throw "error";}J.width=ag;J.height=cq;J.hC=72;J.fO=72;J.zz=true;J.sF=false;if(F){if(typeof(F.Qy==='function')){F.Qy(J.zz);}}if(Ak){Ak();}}catch(e){var ah=auC();if(ah){rd(ah,aA);return;}if(lL){if(lN<1){lL=false;setTimeout(Mb,10);return;}}F.bG('openPage',e);if(typeof(F.bH)==='function'){var co=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();co.exception=e;co.pageNumber=F.aP;F.bH('pageOpenFailed',co);}}};function fB(aA){var ah=null,dm;try{if(!lL){ah=JSON.parse(aA.responseText);rd(ah,aA);}else{var nh;var nQ=aA.getResponseHeader("Accusoft-Data-Encrypted");if(nQ==='true'&&F.hS()===true){var tM=IPCC.Web.hl.qf.tn(aA.getResponseHeader("Accusoft-Data-SK"));var aG=IPCC.Web.Fb(tM,iT);var eL=IPCC.Web.FJ(aA);var tS=IPCC.Web.DF(eL,aG,iT);nh=IPCC.Web.hl.HA.ni(tS);}else{nh=aA.responseText;}var YB;if(nh.length>=1000){YB=nh.substring(0,1000);}else{YB=nh.substring(0,nh.length);}aBX(YB,aA);}}catch(ex){if(lL){lL=false;if(lN<1){setTimeout(Mb,10);return;}}dm="Attributes parsing error, Error message = "+ex.message;throw new IPCC.Web.UI.ImGearArgumentException(null,dm);}};function fh(ah){try{var dm,mq,lK;if(!ah.response){throw new IPCC.Web.UI.ImGearHttpException(ah.response.status,"Client timed out on load");}if(ah.response.status===403){lN++;if(ah.response.statusText&&ah.response.statusText!==""){dm="Expired viewer session ID, error message from the server: "+ah.response.statusText;}else{dm="Expired viewer session ID. Np error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(ah.response.status,dm);}if(lL){lL=false;if(lN<1){setTimeout(Mb,10);return;}}lK=ah.response.getResponseHeader('Accusoft-Status-Message');if(lK){var sb;mq=ah.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.yX(mq)){sb=parseInt(mq,10);}throw new IPCC.Web.UI.ImGearHttpException(ah.response.status,lK,sb);}else{if(ah.response.statusText&&ah.response.statusText!==""){dm="Error message from the service: "+ah.response.statusText;}else{dm="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(ah.response.status,dm);}}catch(e){if(lL){lL=false;if(lN<1){setTimeout(Mb,10);return;}}F.bG('openPage',e);if(typeof(F.bH)==='function'){var co=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();co.exception=e;co.pageNumber=F.aP;F.bH('pageOpenFailed',co);}}};var iT=IPCC.Web.FT.aih(4,IPCC.Web.Oo());var qs=IPCC.Web.hl.Fu.ni(iT);var hj={method:'GET',cache:true};if(!lL){hj.url=this.get_url(gy,'Attributes');hj.headers={'Content-Type':'application/json'};}else{var an;if(F.hS()===true){iT=IPCC.Web.FT.Wt(4,IPCC.Web.Oo());qs=IPCC.Web.hl.Fu.ni(iT);an=this.get_url(gy,'SvgImage','Scale=1&ContentType='+IPCC.V.yQ+'&iv='+qs);}else{an=this.get_url(gy,'SvgImage','Scale=1&ContentType='+IPCC.V.yQ);}hj.url=an;}IPCC.V.mx.fa(hj).then(fB,fh);};this.azA=function(gy,F,Ak){F.aP=this.aP;var lN=0;var rF=true;if(F.kN()===0){rF=false;}var rd=function(fi,aA){try{if(fi===null){throw new IPCC.Web.UI.ImGearArgumentException(null,'Unable to load the specified image. Failed to obtain Image attributes. Returned JSON from the server is null');}J.width= +(fi.imageWidth);J.height= +(fi.imageHeight);J.hC= +(fi.imageXResolution);if(J.hC<=0){J.hC=72;}J.fO= +(fi.imageYResolution);if(J.fO<=0){J.fO=72;}J.fN= +(fi.pageCount);J.sF=true;var nQ=aA.getResponseHeader("Accusoft-Data-Encrypted");var GE=false;if(nQ==="true"){GE=true;}F.acH(GE);if(Ak){Ak();}}catch(e){F.bG('openPage',e);if(typeof(F.bH)==='function'){var co=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();co.exception=e;co.pageNumber=F.aP;F.bH('pageOpenFailed',co);}}};function fB(aA){try{var fX=aA.status,ah,dm;if(fX===200){ah=null;try{ah=JSON.parse(aA.responseText);rd(ah,aA);}catch(ex){dm="Attributes parsing error, Error meesage = "+ex.message;throw new IPCC.Web.UI.ImGearArgumentException(null,dm);}}}catch(e){F.bG('openPageForRaster',e);if(typeof(F.bH)==='function'){var co=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();co.exception=e;co.pageNumber=F.aP;F.bH('pageOpenFailed',co);}}};function fh(ah){try{var fX=ah.response.status,dm,lK,mq;if(!ah.response){throw new IPCC.Web.UI.ImGearHttpException(fX,"Client timed out on load");}if(fX===403){lN++;if(ah.response.statusText&&ah.response.statusText!==""){dm="Expired viewer session ID, error message from the server: "+ah.response.statusText;}else{dm="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(fX,dm);}lK=ah.response.getResponseHeader('Accusoft-Status-Message');if(lK){var sb;mq=ah.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.yX(mq)){sb=parseInt(mq,10);}throw new IPCC.Web.UI.ImGearHttpException(fX,lK,sb);}else{if(ah.response.statusText&&ah.response.statusText!==""){dm="Error message from the service: "+ah.response.statusText;}else{dm="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(fX,dm);}}catch(e){F.bG('openPageForRaster',e);if(typeof(F.bH)==='function'){var co=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();co.exception=e;co.pageNumber=F.aP;F.bH('pageOpenFailed',co);}}};var acS={method:'GET',url:this.get_url(gy,'Attributes'),headers:{'Content-Type':'application/json'}};if(rF===true){acS.timeout=F.kN();}IPCC.V.mx.fa(acS).then(fB,fh);};return this;};hz.prototype.clone=function(){var Sb=new hz(this.get_encodedIdentifier(),this.aP,this.width,this.height,this.hC,this.fO);Sb.fN=this.fN;Sb.sF=this.sF;return Sb;};hz.prototype.equals=function(h){if(this.get_encodedIdentifier()!==h.get_encodedIdentifier()){return false;}if(this.aP!==h.aP){return false;}return true;};hz.prototype.qw=8;hz.prototype.sX=0.000001;hz.ajn=function(aI){var JD=aI.referenceDocumentIdentifier;var aed=hz.rR(JD);var hE=aI.encodedDocumentIdentifier;var jh=aI.documentIdentifier;var fu;if(hE===''){hE=undefined;}if(jh===''){jh=undefined;}if(JD&&JD!==''){if(hE===aed){hE=undefined;}if(jh===JD){jh=undefined;}}if(jh){fu=IPCC.hz.rR(jh);if(hE){if(hE!==fu){throw new IPCC.Web.UI.ImGearArgumentException('documentIdentifier','When both are specified, documentIdentifier and encodedDocumentIdentifier must reference the same document (and encodedDocumentIdentifier must be base64-encoded).');}}else{hE=fu;}}else{if(hE){jh=IPCC.hz.Gk(hE);}}if(!hE){jh=JD;hE=aed;}var be=aI.pageNumber;var agg=aI.referencePageNumber;if(be===agg){be=undefined;}if(be!==0&& !be){be=agg;}aI.encodedDocumentIdentifier=hE;aI.documentIdentifier=jh;aI.pageNumber=be;};hz.rR=function(hY){if(!hY||hY===''){return '';}var ml=[];var L;for(L=0;L<hY.length;L++){ml.push(hY.charCodeAt(L)%256);ml.push(Math.floor(hY.charCodeAt(L)/256));}ml.push(0);ml.push(0);var Rg='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_';var oW=[],sp;for(L=0;L<ml.length-1;L+=3){sp=ml[L]*0x10000+ml[L+1]*0x100+ml[L+2];oW.push(Rg.charAt(Math.floor(sp/0x40000)));oW.push(Rg.charAt(Math.floor(sp/0x1000)%0x40));oW.push(Rg.charAt(Math.floor(sp/0x40)%0x40));oW.push(Rg.charAt(sp%0x40));}var Sp=Math.ceil(hY.length*16/6);while(oW.length>Sp){oW.pop();}if((oW.length%4)===3){oW.push('1');}else if((oW.length%4)===2){oW.push('2');}else if((oW.length%4)===0){oW.push('0');}return oW.join('');};hz.Gk=function(kh){if(!kh||kh===''){return '';}var agH=kh.length-1;var Oy=[],sp;var pD,ml=[],pa=[];var L;for(L=0;L<agH;L++){pD=kh.charCodeAt(L);if(pD>64&&pD<91){pa.push(pD-65);}else if(pD>96&&pD<123){pa.push(pD-97+26);}else if(pD>47&&pD<58){pa.push(pD-48+52);}else if(pD===45){pa.push(62);}else if(pD===95){pa.push(63);}else{return '';}}pa.push(0);pa.push(0);pa.push(0);for(L=0;L<pa.length-3;L+=4){sp=pa[L]*0x40000+pa[L+1]*0x1000+pa[L+2]*0x40+pa[L+3];ml.push(Math.floor(sp/0x10000));ml.push(Math.floor(sp/0x100)%256);ml.push(sp%256);}for(L=0;L<ml.length-1;L+=2){Oy.push(String.fromCharCode(ml[L]+ml[L+1]*0x100));}var Sp=Math.floor(agH*6/16);while(Oy.length>Sp){Oy.pop();}return Oy.join('');};module.exports=hz;},{}],31:[function(require,module,exports){var Qu=function(){this.cf=[];this.parentElementID='';this.lockTile=function(fl){var dk,L,RY,SJ;if(this.Rf(fl)){return;}RY=0;for(L=this.cf.length-1;L>=0;L--){if(!(this.cf[L].locked)){RY++;SJ=L;}}if(RY>4){dk=this.cf[SJ];this.uiDirector.aku(dk);this.cf.splice(SJ,1);}dk=new aBj();dk.pool=this;this.uiDirector.aCz(dk);this.cf.push(dk);dk.locked=true;dk.tile=fl;fl.poolItem=dk;return;};this.Rf=function(fl){var dk,L;if(this.locked){return true;}for(L=0;L<this.cf.length;L++){if(this.cf[L].tile===fl){dk=this.cf[L];dk.locked=true;fl.poolItem=dk;return true;}}return false;};this.afH=function(fl){var jm,L;jm=fl.poolItem;if(jm!==undefined&&jm.locked){this.uiDirector.aFs(jm);jm.locked=false;fl.poolItem=undefined;for(L=0;L<this.cf.length;L++){if(this.cf[L]===jm){this.cf.splice(L,1);this.cf.push(jm);return;}}}};return this;};Qu.prototype.asP=function(){var L;for(L=0;L<this.cf.length;L++){if(!this.cf[L].locked){this.uiDirector.aku(this.cf[L]);}}};var aBj=function(){this.locked=false;this.loaded=false;this.tile=undefined;this.pool=undefined;this.elementID='';return this;};module.exports=Qu;},{}],32:[function(require,module,exports){var sD=function(){this.fp=[];return this;};sD.prototype.aBM=function(cY,cO){var dE=cY.qt();var L,mk,pn;var di=1;var aco;var yY=[];var uG=[];var xS=[];var BG,PU;pn=this.fp.length;for(L=0;L<this.fp.length;L++){if(this.fp[L].dE>dE){pn=L;break;}}mk=pn-1;if(mk<0){mk=0;}if(pn>=this.fp.length){pn=this.fp.length-1;}if(mk!==pn){aco=(dE-this.fp[mk].dE)/(this.fp[pn].dE-this.fp[mk].dE);di=aco*1.0;if(di>=0.15){di=1;mk=pn;}if(di<=0.15){di=1;pn=mk;}}uG=this.fp[mk].Nb(cO);xS=this.fp[pn].Nb(cO);var Ly=function(nF){var L;for(L=0;L<nF.length;L++){nF[L].level.pool.Rf(nF[L]);}};var Yu=function(nF){var aiQ=[];var L;for(L=0;L<nF.length;L++){if(!nF[L].get_isLockedAndLoaded()){aiQ.push(nF[L]);}}return aiQ;};var ahP=function(nF){var aga=[];var L;for(L=0;L<nF.length;L++){if(nF[L].get_isLockedAndLoaded()){aga.push(nF[L]);}}return aga;};if(mk>0&&mk===pn&&this.fp[pn].tiles.length>1){mk=pn-1;uG=this.fp[mk].Nb(cO);}Ly(uG);yY=Yu(uG);if(yY.length>0){for(BG=mk-1;BG>=0;BG--){PU=this.fp[BG].Nb(cO);Ly(PU);if(Yu(PU).length<1){break;}}if(BG<0){uG=ahP(uG);}else{mk=BG;uG=PU;di=1;}}else{Ly(xS);yY=Yu(xS);}Ly(xS);xS=ahP(xS);if(yY.length>3){yY.splice(3,yY.length-3);}function aui(){var ah;function Vh(BC){var ah='',L,bv;if(BC.length<1){return '';}bv=BC[0].level;ah+='level '+bv.id.toString()+' - ';for(L=0;L<BC.length;L++){if(L>0){ah+=', ';}ah+='('+(BC[L].x/bv.mL).toString()+','+(BC[L].y/bv.zg).toString()+')';if(BC[L].get_isLockedAndLoaded()){ah+='*';}}return ah;};ah='tilesToRequest: '+Vh(yY)+'<br/>';ah+='opaqueTiles: '+Vh(uG)+'<br/>';ah+='translucentTiles: '+Vh(xS)+'<br/>';ah+='opacity: '+di.toString()+'<br/>';ah+='apr: '+dE.toString()+'<br/>';ah+='cY: '+cY.toString()+'<br/>';return ah;};return{opaqueTiles:uG,translucentTiles:xS,opacity:di,tilesToRequest:yY,toString:aui,apr:dE,cY:cY.toString()};};sD.prototype.aDi=function(oB){var Eg=[];var tg=[];var L,j;var bv,tile;for(L=0;L<this.fp.length;L++){bv=this.fp[L];for(j=0;j<bv.tiles.length;j++){tile=bv.tiles[j];if(tile.poolItem!==undefined){Eg.push(tile);}}}var akq=function(Xf,aip){var L,j,Tq,Ts;for(L=0;L<aip.length;L++){Tq=aip[L];Ts=true;for(j=0;j<Xf.length;j++){if(Tq===Xf[j]){Ts=false;break;}}if(Ts){Xf.push(Tq);}}};tg=oB.tilesToRequest.concat();akq(tg,oB.opaqueTiles);akq(tg,oB.translucentTiles);for(L=Eg.length-1;L>=0;L--){var auV=Eg[L];for(j=0;j<tg.length;j++){if(tg[j]===auV){Eg.splice(L,1);break;}}}for(L=0;L<Eg.length;L++){Eg[L].unlock();}for(L=0;L<tg.length;L++){tg[L].relock();}for(L=0;L<tg.length;L++){if(tg[L].poolItem===undefined){tg[L].lock();}}};sD.prototype.unlockAllItems=function(){var L,j,bv;for(L=0;L<this.fp.length;L++){bv=this.fp[L];for(j=0;j<bv.tiles.length;j++){if(bv.tiles[j].poolItem!==undefined){bv.pool.afH(bv.tiles[j]);}}}};sD.prototype.aHT=function(){var L;for(L=0;L<this.fp.length;L++){this.fp[L].pool.asP();}};sD.prototype.toString=function(){var ah='',L,j,bv;for(L=0;L<this.fp.length;L++){bv=this.fp[L];ah+='Level '+L.toString()+':   scaleFactor='+bv.dE.toString()+'  image='+bv.width.toString()+'x'+bv.height.toString()+'  tile='+bv.mL.toString()+'x'+bv.zg.toString()+'\n';for(j=0;j<bv.tiles.length;j++){if(j>0){ah+=', ';}ah+='('+bv.tiles[j].x.toString()+', '+bv.tiles[j].y.toString()+')';}ah+='\n';}return ah;};sD.prototype.expandTile=function(fl,WX,WM,aew,aem,bv){fl.x=IPCC.V.LO(WX-fl.vp,0,WX,WX-fl.vp);fl.y=IPCC.V.LO(WM-fl.yv,0,WM,WM-fl.yv);fl.ag=IPCC.V.LP(aew+(2*fl.vp),bv.width,aew);fl.cq=IPCC.V.LP(aem+(2*fl.yv),bv.height,aem);if(fl.x+fl.ag>bv.width){fl.x=fl.x-fl.vp;fl.ag=bv.width-fl.x;fl.vp=0;}if(fl.y+fl.cq>bv.height){fl.y=fl.y-fl.yv;fl.yv=0;fl.cq=bv.height-fl.y;}return fl;};sD.prototype.createPyramid=function(jI,F){var ayc=6000000;var aji=5000;var mL=1024;var avt=mL*mL*3*150;var acB=0.5;var axW=2;var ar=F.cU();var Cd=ar.width*ar.height*3;var vl;var bv;var dE;var L;var aT,dI;var tile;var Fv,ES;this.fp=[];if(ar.sF){dE=1.0;vl=Cd*dE*dE;while(this.fp.length<axW||vl>aji){bv=new IPCC.CW();bv.dE=dE;this.fp.unshift(bv);dE*=acB;vl=Cd*dE*dE;}}else{if(F.og()===true){Cd=ar.width*ar.height;}dE=Math.sqrt(aji/Cd);var aEb=dE*ar.hC;dE=Math.ceil(aEb)/ar.hC;vl=Cd*dE*dE;if(F.og()===false){while(vl<avt){bv=new IPCC.CW();bv.dE=dE;this.fp.push(bv);dE/=acB;vl=Cd*dE*dE;}}else{bv=new IPCC.CW();bv.dE=1;this.fp.push(bv);}}ar.qw=this.fp[this.fp.length-1].dE*8;for(L=0;L<this.fp.length;L++){bv=this.fp[L];bv.KR=85;if(L===this.fp.length-1){bv.KR=100;}bv.pyramid=this;bv.id=L;bv.pool=new IPCC.Qu();bv.pool.uiDirector=jI;vl=Cd*bv.dE*bv.dE;bv.width=Math.round(ar.width*bv.dE);bv.height=Math.round(ar.height*bv.dE);bv.mL=bv.width;bv.zg=bv.height;if(L>2&&L>this.fp.length-2){bv.mL=Math.min(mL/2,bv.width);bv.zg=Math.min(mL/2,bv.height);}if(vl>ayc){bv.mL=Math.min(mL,bv.width);bv.zg=Math.min(mL,bv.height);}bv.tiles=[];Fv=bv.mL;for(aT=0;aT<bv.width;aT+=Fv){Fv=bv.mL;if(aT+Fv*1.25>bv.width){Fv=bv.width-aT;}ES=bv.zg;for(dI=0;dI<bv.height;dI+=ES){ES=bv.zg;if(dI+ES*1.25>bv.height){ES=bv.height-dI;}tile=new IPCC.vK();tile.level=bv;if(F.og()===false){var Ry='jpeg';if(bv.KR>=100){Ry='png';}tile.contentType=Ry;tile.yv=2;tile.vp=2;tile=this.expandTile(tile,aT,dI,Fv,ES,bv);if(tile.ag!==bv.width||tile.cq!==bv.height){tile.url=F.aaL('Tile/'+tile.x.toString()+'/'+tile.y.toString()+'/'+tile.ag.toString()+'/'+tile.cq.toString(),'Scale='+bv.dE.toString()+'&Quality='+bv.KR+'&ContentType='+Ry);}else{tile.url=F.aaL('','Scale='+bv.dE.toString()+'&Quality='+bv.KR+'&ContentType='+Ry);}}else{tile.url=F.aaL('','Scale='+bv.dE.toString()+'&ContentType='+IPCC.V.yQ);tile.aGn=jI.amU();}tile.right=tile.x+tile.ag;tile.bottom=tile.y+tile.cq;bv.tiles.push(tile);}}}};module.exports=sD;},{}],33:[function(require,module,exports){var qe=function(){this.bM=false;this.F=false;};qe.prototype.mI=function(F){this.F=F;};qe.prototype.eu=function(){this.F=false;};qe.prototype.aR=function(){if(this.bM){this.F.bw().hideMagnifier();this.bM=false;}};qe.prototype.pR=function(){this.aR();};qe.prototype.kf=function(G){this.aR();if(G.domEvent.button===0){this.bM=true;this.F.bw().showMagnifier(G.windowPoint);this.F.cF();}};qe.prototype.ly=function(G){if(G.domEvent.button!==0){this.aR();}if(this.bM){this.F.bw().showMagnifier(G.windowPoint);this.F.cF();}};qe.prototype.kE=function(){this.aR();this.F.cF();};qe.prototype.nV=function(G){var af=this.F.eG();if(G.windowPoint.x<=0||G.windowPoint.x>=af.width-2){this.aR();}if(G.windowPoint.y<=0||G.windowPoint.y>=af.height-2){this.aR();}};module.exports=qe;},{}],34:[function(require,module,exports){var eo=function(hu,jl,iJ,gr,fH,es){if(arguments.length===0){hu=gr=1;jl=iJ=fH=es=0;}this.alB=function(){return hu*gr-jl*iJ;};this.aHz=function(){return hu===1&&jl===0&&iJ===0&&gr===1&&fH===0&&es===0;};this.nM=function(){return hu;};this.rj=function(){return jl;};this.sG=function(){return iJ;};this.rE=function(){return gr;};this.wH=function(){return fH;};this.vA=function(){return es;};this.append=function(cY){var Kc=hu*cY.nM()+jl*cY.sG();var IT=hu*cY.rj()+jl*cY.rE();var Jq=iJ*cY.nM()+gr*cY.sG();var JN=iJ*cY.rj()+gr*cY.rE();var Jd=fH*cY.nM()+es*cY.sG()+cY.wH();var Jz=fH*cY.rj()+es*cY.rE()+cY.vA();hu=Kc;jl=IT;iJ=Jq;gr=JN;fH=Jd;es=Jz;};this.equals=function(h){if(hu!==h.nM()){return false;}if(jl!==h.rj()){return false;}if(iJ!==h.sG()){return false;}if(gr!==h.rE()){return false;}if(fH!==h.wH()){return false;}if(es!==h.vA()){return false;}return true;};this.vT=function(){if(!this.alg()){throw new IPCC.Web.UI.ImGearArgumentException(null,'Matrix has no inverse');}var Dv=this.alB();var Kc=gr/Dv;var IT= -jl/Dv;var Jq= -iJ/Dv;var JN=hu/Dv;var Jd=(iJ*es-gr*fH)/Dv;var Jz=(jl*fH-hu*es)/Dv;hu=Kc;jl=IT;iJ=Jq;gr=JN;fH=Jd;es=Jz;};this.HB=function(cY){var Kc=cY.nM()*hu+cY.rj()*iJ;var IT=cY.nM()*jl+cY.rj()*gr;var Jq=cY.sG()*hu+cY.rE()*iJ;var JN=cY.sG()*jl+cY.rE()*gr;var Jd=cY.wH()*hu+cY.vA()*iJ+fH;var Jz=cY.wH()*jl+cY.vA()*gr+es;hu=Kc;jl=IT;iJ=Jq;gr=JN;fH=Jd;es=Jz;};this.wg=function(kC,rn,mK,mw){fH-=mK;es-=mw;this.scale(kC,rn);fH+=mK;es+=mw;};this.aBq=function(){hu=gr=1;jl=iJ=fH=es=0;};this.transform=function(bS){var aT=bS.x*hu+bS.y*iJ+fH;var dI=bS.y*gr+bS.x*jl+es;return new IPCC.Web.UI.Point(aT,dI);};this.lV=function(aaQ,aaq){fH+=aaQ;es+=aaq;};this.avC=function(h){if(Math.abs(hu-h.nM())>1e-8){return false;}if(Math.abs(jl-h.rj())>1e-8){return false;}if(Math.abs(iJ-h.sG())>1e-8){return false;}if(Math.abs(gr-h.rE())>1e-8){return false;}if(Math.abs(fH-h.wH())>1e-8){return false;}if(Math.abs(es-h.vA())>1e-8){return false;}return true;};this.toString=function(){return '{'+hu.toFixed(6)+', '+jl.toFixed(6)+', '+iJ.toFixed(6)+', '+gr.toFixed(6)+', '+fH.toFixed(3)+', '+es.toFixed(3)+'}';};this.parse=function(){};this.clone=function(){return new IPCC.eo(hu,jl,iJ,gr,fH,es);};this.RA=function(gA){hu=gA.nM();jl=gA.rj();iJ=gA.sG();gr=gA.rE();fH=gA.wH();es=gA.vA();};this.aEt=function(aa,af){hu=1;gr=af.fO*aa.hC/(aa.fO*af.hC);jl=iJ=fH=es=0;};this.VN=function(bx,aa,af){switch(bx){case IPCC.Web.UI.FitType.FullImage:this.asd(aa,af);break;case IPCC.Web.UI.FitType.FullWidth:this.afz(aa,af);break;case IPCC.Web.UI.FitType.FullHeight:this.afa(aa,af);break;case IPCC.Web.UI.FitType.ActualSize:this.afD(aa,af);break;case IPCC.Web.UI.FitType.OneToOne:if(!(aa.sF)){this.afD(aa,af);}else{this.ash(aa,af);}break;}};this.afz=function(aa,af){var nG=this.pY(aa);var xw=af.width-2;if(xw<1){xw=1;}var bb=xw/nG.width;this.scale(bb,bb);nG=this.pY(aa);if(nG.y<0){this.lV(0,-nG.y);}};this.afa=function(aa,af){var nG=this.pY(aa);var xw=af.height-2;if(xw<1){xw=1;}var bb=xw/nG.height;this.scale(bb,bb);nG=this.pY(aa);if(nG.x<0){this.lV(-nG.x,0);}};this.asd=function(aa,af){var kZ=this.clone();kZ.afz(aa,af);this.afa(aa,af);if(Math.max(Math.abs(hu),Math.abs(jl))>Math.max(Math.abs(kZ.nM()),Math.abs(kZ.rj()))){this.RA(kZ);}};this.afD=function(aa,af){var nG=this.pY({x:0,y:0,width:aa.hC,height:aa.fO});var bb=af.hC/nG.width;this.scale(bb,bb);};this.ash=function(aa,af){var nG=this.pY({x:0,y:0,width:1,height:1});var bb=1/Math.min(nG.width,nG.height);this.scale(bb,bb);if(Math.abs(hu-1)<0.0001){hu=1;}if(Math.abs(gr-1)<0.0001){gr=1;}};return this;};eo.prototype.alg=function(){return Math.abs(this.alB())>1e-14;};eo.prototype.rotate=function(Bi){this.aeL(Bi,0,0);};eo.prototype.aeL=function(Bi,mK,mw){var FW=Bi*Math.PI*2/360;var he=Math.sin(FW);var fD=Math.cos(FW);var cY=new IPCC.eo(fD,he,-he,fD,mK*(1-fD)+mw*he,mw*(1-fD)-mK*he);this.append(cY);};eo.prototype.aDw=function(Bi,mK,mw){var FW=Bi*Math.PI*2/360;var he=Math.sin(FW);var fD=Math.cos(FW);var cY=new IPCC.eo(fD,he,-he,fD,mK*(1-fD)+mw*he,mw*(1-fD)-mK*he);this.HB(cY);};eo.prototype.aHG=function(Bi){this.aDw(Bi,0,0);};eo.prototype.scale=function(kC,rn){var cY=new IPCC.eo(kC,0,0,rn,0,0);this.append(cY);};eo.prototype.aHf=function(kC,rn,mK,mw){var cY=new IPCC.eo(kC,0,0,rn,mK*(1-kC),mw*(1-rn));this.HB(cY);};eo.prototype.aHN=function(kC,rn){var cY=new IPCC.eo(kC,0,0,rn,0,0);this.HB(cY);};eo.prototype.skew=function(qm,pO){var cY=new IPCC.eo(1,Math.tan(pO*Math.PI*2/360),Math.tan(qm*Math.PI*2/360),1,0,0);this.append(cY);};eo.prototype.aFo=function(qm,pO){var cY=new IPCC.eo(1,Math.tan(pO*Math.PI*2/360),Math.tan(qm*Math.PI*2/360),1,0,0);this.HB(cY);};eo.prototype.aGw=function(aaQ,aaq){var cY=new IPCC.eo(1,0,0,1,aaQ,aaq);this.HB(cY);};eo.prototype.yA=function(C){var eD=this.transform({x:C.x,y:C.y});var kl=eD.x;var nN=eD.x;var lq=eD.y;var po=eD.y;eD=this.transform({x:C.x+C.width,y:C.y});kl=Math.min(kl,eD.x);nN=Math.max(nN,eD.x);lq=Math.min(lq,eD.y);po=Math.max(po,eD.y);eD=this.transform({x:C.x+C.width,y:C.y+C.height});kl=Math.min(kl,eD.x);nN=Math.max(nN,eD.x);lq=Math.min(lq,eD.y);po=Math.max(po,eD.y);eD=this.transform({x:C.x,y:C.y+C.height});kl=Math.min(kl,eD.x);nN=Math.max(nN,eD.x);lq=Math.min(lq,eD.y);po=Math.max(po,eD.y);return new IPCC.Web.UI.Rectangle(kl,lq,nN-kl,po-lq);};eo.prototype.asJ=function(aa,af,eB){var alh=this.clone();alh.vT();var azJ=alh.transform({x:eB.x+eB.width/2,y:eB.y+eB.height/2});var bb=Math.min(af.width/eB.width,af.height/eB.height);bb-=1e-10;var jV=this.qt();if(jV*bb>aa.qw){bb=aa.qw/jV;}if(jV*bb<aa.sX){bb=aa.sX/jV;}this.scale(bb,bb);this.aep(af,azJ);};eo.prototype.Ph=function(aa,af,cO){this.asJ(aa,af,this.yA(cO));};eo.prototype.aHv=function(af){this.wg(1,-1,af.width/2,af.height/2);};eo.prototype.asf=function(af){this.wg(-1,1,af.width/2,af.height/2);};eo.prototype.XY=function(aDg,agr){var alj=this.transform(aDg);this.lV(agr.x-alj.x,agr.y-alj.y);};eo.prototype.aep=function(af,db){var aie=this.transform(db);this.lV(af.width/2-aie.x,af.height/2-aie.y);};eo.prototype.iE=function(ar,af){var aT=0,dI=0,end;var oS=this.pY(ar);if(oS.width<af.width){aT=(af.width-oS.width)/2-oS.x;}else{end=oS.x+oS.width;if(end<af.width){aT=af.width-end;}if(oS.x>0){aT= -oS.x;}}if(oS.height<af.height){dI=(af.height-oS.height)/2-oS.y;}else{end=oS.y+oS.height;if(end<af.height){dI=af.height-end;}if(oS.y>0){dI= -oS.y;}}this.lV(aT,dI);};eo.prototype.pY=function(ar){return this.yA({x:0,y:0,width:ar.width,height:ar.height});};eo.prototype.aof=function(){var gv,zQ,iX,wB,ade,jC;gv=this.transform({x:0,y:0});zQ=this.transform({x:0,y:1});iX=this.transform({x:1,y:0});wB=Math.atan2(zQ.y-gv.y,zQ.x-gv.x);ade=Math.atan2(iX.y-gv.y,iX.x-gv.x);jC=wB-ade;if(jC>Math.PI){jC=jC-2*Math.PI;}if(jC< -Math.PI){jC=jC+2*Math.PI;}return jC<0;};eo.prototype.ahY=function(){var gv,zQ,wB;gv=this.transform({x:0,y:0});zQ=this.transform({x:0,y:1});wB=Math.atan2(zQ.y-gv.y,zQ.x-gv.x)-Math.PI/2;if(wB<0){wB=wB+2*Math.PI;}return wB*360/(Math.PI*2);};eo.prototype.qt=function(){var gF;var gv,qx;var fA,fo,dE;gv=this.transform({x:0,y:0});qx=this.transform({x:1,y:0});fA=qx.x-gv.x;fo=qx.y-gv.y;gF=fA*fA+fo*fo;qx=this.transform({x:0,y:1});fA=qx.x-gv.x;fo=qx.y-gv.y;dE=Math.min(gF,fA*fA+fo*fo);qx=this.transform({x:1,y:1});fA=qx.x-gv.x;fo=qx.y-gv.y;dE=Math.min(gF,fA*fA+fo*fo);qx=this.transform({x:1,y: -1});fA=qx.x-gv.x;fo=qx.y-gv.y;dE=Math.min(gF,fA*fA+fo*fo);return Math.sqrt(gF);};eo.aIg=function(){return new IPCC.eo(1,0,0,1,0,0);};module.exports=eo;},{}],35:[function(require,module,exports){var eP={abT:1,abE:2,aaF:3,afX:4,air:5,Km:6,KI:7,agR:8,afQ:9,agt:10,agc:11,ahc:12,agu:13,amV:14,abX:15,aaM:16};module.exports=eP;},{}],36:[function(require,module,exports){var ds=function(){this.F=false;this.atG=1.5;};ds.prototype.mI=function(F){this.F=F;};ds.prototype.eu=function(){this.F=false;};ds.prototype.aR=function(){};ds.prototype.na=function(G){var aj=this.F.bw();var aa=this.F.cU();var af=this.F.eG();var bh=aj.fC();var OE=G.wheelDelta/120;if(G.domEvent.ctrlKey){G.domEvent.preventDefault();var bb=((this.atG-1)/2)+1;if(OE<0){bb=1/bb;}var jV=bh.qt();if(jV*bb>aa.qw){bb=aa.qw/jV;}if(jV*bb<aa.sX){bb=aa.sX/jV;}bh.wg(bb,bb,G.windowPoint.x,G.windowPoint.y);bh.iE(aa,af);this.F.bH('userModifiedViewState',{});aj.it(bh);}else{var adi=bh.transform({x:0,y:0});bh.lV(0,OE*af.fO);bh.iE(aa,af);var adO=bh.transform({x:0,y:0});if(Math.abs(adi.x-adO.x)>0.001||Math.abs(adi.y-adO.y)>0.001){G.domEvent.preventDefault();this.F.bH('userModifiedViewState',{});aj.it(bh);}}this.F.cF();};module.exports=ds;},{}],37:[function(require,module,exports){var cT=function(agX){this.agX=agX;this.Sj=0;this.LN=1;this.Ma=2;this.Sk=3;this.RJ=4;this.bX=this.Sj;this.F=false;this.mO=0;};cT.prototype.mI=function(F){this.F=F;this.aj=F.bw();};cT.prototype.eu=function(){this.F=false;};cT.prototype.aR=function(){if(this.bX===this.Ma){this.F.bw().hideMagnifier();}this.bX=this.Sj;};cT.prototype.ND=function(G){var aF=G.domEvent.rawEvent;switch(this.bX){case this.Sj:if(aF.touches.length===1){this.asm(G);}else if(aF.touches.length===2){this.afO(G);}else if(aF.touches.length===3){this.Sh(G);}else{this.aR();}break;case this.LN:if(aF.touches.length===2){this.afO(G);}else if(aF.touches.length===3){this.Sh(G);}else{this.aR();}break;case this.RJ:if(aF.touches.length!==3){this.aR();}break;case this.Ma:this.aR();break;case this.Sk:if(aF.touches.length===3){this.Sh(G);}else if(aF.touches.length!==2){this.aR();}break;}};cT.prototype.NJ=function(G){switch(this.bX){case this.LN:this.mO++;break;case this.Ma:this.adG(G);break;case this.Sk:this.aAf(G);break;case this.RJ:this.asw(G);break;}};cT.prototype.NT=function(){this.aR();};cT.prototype.IE=function(){this.aR();};cT.prototype.asm=function(G){this.bX=this.LN;this.mO++;var avU=this.mO;var J=this;function ayK(){if(J.bX===this.LN&&avU===J.mO){J.ary(G);}};setTimeout(ayK,1000);};cT.prototype.ary=function(G){this.F.ge('pR',G);this.adG(G);this.bX=this.Ma;};cT.prototype.Sh=function(G){var aF=G.domEvent.rawEvent;if(aF.touches.length!==3){this.aR();return;}var gb=aF.touches[0];var cn={x:gb.screenX,y:gb.screenY};var cY=this.aj.fC();cY.vT();this.KV=cn;this.aAc=cn;this.Zo=cY.transform(cn);this.bX=this.RJ;this.aIx=this.aj.fC();this.agZ=true;this.agC=true;};cT.prototype.asw=function(G){var aF=G.domEvent.rawEvent;if(aF.touches.length!==3){this.aR();return;}var gb=aF.touches[0];var cn={x:gb.screenX,y:gb.screenY};var avK=Math.abs(cn.x-this.KV.x);var awJ=Math.abs(cn.y-this.KV.y);if(avK>35){this.agC=false;}if(awJ>35){this.agZ=false;}if(this.agZ){cn.y=this.KV.y;}if(this.agC){cn.x=this.KV.x;}this.aAc=cn;var bh=this.aj.fC();var af=this.F.eG();var aa=this.F.cU();bh.XY(this.Zo,cn);bh.iE(aa,af);this.aj.it(bh);};cT.prototype.aID=function(){};cT.prototype.ajv=function(G){var aF=G.domEvent.rawEvent;if(aF.touches.length!==2){this.aR();return{};}var OG=aF.touches[0];var Qb=aF.touches[1];var fA=OG.screenX-Qb.screenX;var fo=OG.screenY-Qb.screenY;var wj=Math.sqrt(fA*fA+fo*fo);var jC=Math.atan2(fA,fo)*180/Math.PI;var bS={x:(OG.screenX+Qb.screenX)/2,y:(OG.screenY+Qb.screenY)/2};return{wj:wj,jC:jC,ajm:bS};};cT.prototype.afO=function(G){this.bX=this.Sk;this.aCf=this.ajv(G);this.MB=this.aCf;var cY=this.aj.fC();cY.vT();this.Zo=cY.transform(this.MB.ajm);this.FP=this.MB.jC;};cT.prototype.adG=function(G){var aF=G.domEvent.rawEvent;var gb=aF.touches[0];var cn={x:gb.screenX,y:gb.screenY};this.aj.showMagnifier(cn);};cT.prototype.aAf=function(G){var wU=this.ajv(G);var dE=wU.wj/this.MB.wj;var bh=this.aj.fC();var af=this.F.eG();var aa=this.F.cU();bh.scale(dE,dE);var Dn=this.FP-wU.jC;var alp=this.FP-wU.jC-360;var akQ=this.FP-wU.jC+360;if(Math.abs(Dn)>Math.abs(alp)){Dn=alp;}if(Math.abs(Dn)>Math.abs(akQ)){Dn=akQ;}if(Dn< -40){bh.rotate(-90);this.FP=wU.jC;}else if(Dn>40){bh.rotate(90);this.FP=wU.jC;}bh.XY(this.Zo,wU.ajm);bh.iE(aa,af);this.aj.it(bh);this.MB=wU;};cT.prototype.aGH=function(G){var bh=this.aj.fC();var af=this.F.eG();var aa=this.F.cU();bh.VN(IPCC.Web.UI.FitType.FullImage,aa,af);bh.iE(aa,af);this.aj.it(bh);};cT.prototype.na=function(){this.aR();};module.exports=cT;},{}],38:[function(require,module,exports){var cd=require('./IPCC.Util').regClass;var MT=function(){return this;};MT.registerClass=cd;MT.prototype={};MT.registerClass('IPCC.OpenPageEventArgs');module.exports=MT;},{"./IPCC.Util":28}],39:[function(require,module,exports){var cd=require('./IPCC.Util').regClass;var Lb=function(){return this;};Lb.registerClass=cd;Lb.prototype={};Lb.registerClass('IPCC.PageEventArgs');module.exports=Lb;},{"./IPCC.Util":28}],40:[function(require,module,exports){var bj=function(aI){this.eT=aI.page;this.bf=0;this.aY=0;this.gs=0;this.gH=0;var bm=new IPCC.Web.UI.gp();this.anh=undefined;this.fR=false;this.aCH=false;this.Ko=0;this.aHL=undefined;this.AC=false;this.xr=false;this.Dc=false;this.ha=0;this.CA=0;this.DA=false;this.Kp=false;this.bk=new IPCC.Web.UI.ArtPage();this.eR=new IPCC.Web.UI.ArtPage();this.cG=this.eT.get_pageNumber();this.aO=this.eT.bP.Nn+'_'+this.cG+'__pViewId';this.bP=this.eT.bP;this.cQ=function(cg){var H=bm.getHandler('propertyChanged');if(H){H(this,new IPCC.nz(cg));}};return this;};bj.prototype.kr=function(){if(this.eT){return this.eT.ki()||this.bf;}return this.bf;};bj.prototype.qN=function(){if(this.eT){return this.eT.iy()||this.aY;}return this.aY;};bj.prototype.YN=function(bool){bool= ! !bool;if(this.eT){this.eT.DA=bool;}this.DA=bool;};bj.prototype.aiP=function(){if(this.eT){return this.eT.DA||this.DA;}return this.DA;};module.exports=bj;},{}],41:[function(require,module,exports){var dV=require('./IPCC.Util').regEnum;var DO=function(){};DO.registerEnum=dV;DO.prototype={VerticalScrollDirection:0,HorizontalScrollDirection:1};DO.registerEnum('IPCC.PageLayout',false);module.exports=DO;},{"./IPCC.Util":28}],42:[function(require,module,exports){var cd=require('./IPCC.Util').regClass;var aoM=function(){this.ck=undefined;return this;};var Mx=function(element){var J=this;var IZ=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(func){return setTimeout(func,16);};var awE=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||function(id){return clearTimeout(id);};var bm=new IPCC.Web.UI.gp();var ba=[];var aoX;var ae='';var FV='';var ab='';var jS='';var JH='';var Fp=0;this.zl=new IPCC.Web.UI.ImGearDocumentCollection();var Je=[];this.aHm=0;this.aHR={x:0,y:0};var ks=0;var op=IPCC.Web.UI.DebugErrorLevel.Production;var _debug=false;var lC=false;var cL=0;var tK=false;var Qm=[];var Jn='';var cN=1;var sB=0;var mU=1;var pL=1;var au=IPCC.Web.UI.MouseTool.None;var Bm=false;var sP=true;var aE=IPCC.bA.None;var hT;var gl=0;var hK=0;var agT=0;var fF=0;var eA=15;var iI=0;var gR=15;var oT=0;var lD=0;var pB=0;var pl=0;var aug=0;var fV=0;var hs=0;var oE=1;var fe=IPCC.PageLayout.VerticalScrollDirection;var dr=IPCC.ViewMode.Document;var nt=null;var VC=null;var Oh=0;var Tp=0;var wz=0;var zs=false;var jy=null;var Hy=0;var FQ='';var Ed='';var qK=[];var CV=0;var xc=3;var NV=0.5;var HD=true;var OM=false;var Mw=false;var Wh;var rW=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;var wT=true;var jR;var dQ={};var sy=false;var mn=function(){return null;};var hV=null;var agY="font-size:11px;color:#888;text-align:center;cursor:pointer;";var atZ=agY+"padding:18px 0 20px;display:table-caption;caption-side:bottom;";var atu=agY+"white-space:nowrap;line-height:50px;display:table-cell;vertical-align:middle;padding-right:10px;";var dz=96;var bU;function mi(IA){if(!_debug){return false;}return op>=IA;};this.bG=function(hQ,hZ){if(!mi(IPCC.Web.UI.DebugErrorLevel.Production)){return;}var dv=hQ+'() threw an exception ('+hZ.name+'), "'+hZ.message+'"';dv=dv.replace(/\n/g," ");IPCC.jg.lO(dv,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production,'PageList',this.mJ().id);var nH=new IPCC.ExceptionEventArgs();nH.functionName=hQ;nH.exception=hZ;this.bH('exceptionThrown',nH);};this.bu=function(hQ,jZ,rS){if(!mi(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var dv=hQ+'(';var L;for(L=0;L<jZ.length;L++){if(L>0){dv+=', ';}dv+=IPCC.jg.qd(jZ[L],(rS?rS:0));}dv+=')';this.tA(dv,IPCC.Web.UI.DebugErrorLevel.Development);};this.BW=function(hQ,jZ,nB,rS){if(!mi(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var dv=hQ+'(';var L;for(L=0;L<jZ.length;L++){if(L>0){dv+=', ';}dv+=IPCC.jg.qd(jZ[L],(rS?rS:0));}dv+=') = ';dv+=IPCC.jg.qd(nB,1);this.tA(dv,IPCC.Web.UI.DebugErrorLevel.Development);};this.cK=function(hQ,jZ,nB){if(!mi(IPCC.Web.UI.DebugErrorLevel.Detailed)){return;}var dv=hQ+'(';var L;for(L=0;L<jZ.length;L++){if(L>0){dv+=', ';}dv+=IPCC.jg.qd(jZ[L],0);}dv+=') = ';dv+=IPCC.jg.qd(nB,1);this.tA(dv,IPCC.Web.UI.DebugErrorLevel.Detailed);};this.tA=function(jW,bv){IPCC.jg.lO(jW,IPCC.Web.UI.DebugItemCause.FunctionCall,bv,'PageList',this.mJ().id);};this.lO=function(jW){IPCC.jg.lO(jW,IPCC.Web.UI.DebugItemCause.Custom,IPCC.Web.UI.DebugErrorLevel.Production,'PageList',this.mJ().id);};this.Ka=function(){return _debug;};this.YQ=function(h){var Ha= ! !h;if(_debug===Ha){return;}_debug=Ha;var cw=iP();var cS=[];if(cw){cS=ri(cw);}var L=0;for(L=0;L<cS.length;L++){var aK;if(ba[cS[L]].aO){aK=document.getElementById(ba[cS[L]].aO).aB;}if(aK){aK.set_debug(_debug);}}this.cQ('debug');};this.AL=function(){return op;};this.KB=function(h){IPCC.aq.iq(h,'value',IPCC.Web.UI.DebugErrorLevel);if(op===h){return;}op=h;var cw=iP();var cS=[];if(cw){cS=ri(cw);}var L=0;for(L=0;L<cS.length;L++){var aK;if(ba[cS[L]].aO){aK=document.getElementById(ba[cS[L]].aO).aB;}if(aK){aK.set_debugErrorLevel(op);}}this.cQ('debugErrorLevel');};function cW(cZ,H){bm.addHandler(cZ,H);};function dg(cZ,H){bm.removeHandler(cZ,H);};this.LZ=function(H){cW('mouseDown',H);};this.SR=function(H){dg('mouseDown',H);};this.Lm=function(H){cW('mouseMove',H);};this.SF=function(H){dg('mouseMove',H);};this.LC=function(H){cW('mouseUp',H);};this.Sn=function(H){dg('mouseUp',H);};this.Wq=function(H){cW('selectTextMouseToolCompleted',H);};this.Sq=function(H){dg('selectTextMouseToolCompleted',H);};this.yO=function(H){cW('textPageReady',H);};this.DR=function(H){dg('textPageReady',H);};this.RM=function(H){cW('hyperlinkPageReady',H);};this.aav=function(H){dg('hyperlinkPageReady',H);};this.avT=function(H){cW('allPagesAdded',H);};this.ayv=function(H){dg('allPagesAdded',H);};this.TG=function(H){cW('pageOpening',H);};this.Sr=function(H){dg('pageOpening',H);};this.SS=function(H){cW('pageOpened',H);};this.Uc=function(H){dg('pageOpened',H);};this.Jm=function(H){cW('pageOpenFailed',H);};this.IR=function(H){dg('pageOpenFailed',H);};this.ST=function(H){cW('pageDisplayed',H);};this.SG=function(H){dg('pageDisplayed',H);};this.kJ=function(H){cW('propertyChanged',H);};this.lP=function(H){dg('propertyChanged',H);};this.Qv=function(H){cW('exceptionThrown',H);};this.TF=function(H){dg('exceptionThrown',H);};this.yj=function(H){cW('textExtractionFailed',H);};this.Db=function(H){dg('textExtractionFailed',H);};this.yZ=function(H){cW('markAdded',H);};this.xJ=function(H){dg('markAdded',H);};this.Tk=function(H){cW('markCreating',H);};this.SB=function(H){dg('markCreating',H);};this.Ky=function(H){cW('markChanged',H);};this.HL=function(H){dg('markChanged',H);};this.Kw=function(H){cW('markReordered',H);};this.GR=function(H){dg('markReordered',H);};this.GU=function(H){cW('markSelectionChanged',H);};this.HI=function(H){dg('markSelectionChanged',H);};this.HZ=function(H){cW('markTextSelectionChanged',H);};this.Hc=function(H){dg('markTextSelectionChanged',H);};this.zV=function(H){cW('markRemoved',H);};this.zr=function(H){dg('markRemoved',H);};this.awa=function(H){cW('commentAdding',H);};this.axe=function(H){dg('commentAdding',H);};this.wG=function(H){cW('commentAdded',H);};this.EH=function(H){dg('commentAdded',H);};this.wv=function(H){cW('commentRemoved',H);};this.Dq=function(H){dg('commentRemoved',H);};this.sj=function(H){cW('commentChanged',H);};this.va=function(H){dg('commentChanged',H);};this.SN=function(H){cW('scaleChanged',H);};this.TN=function(H){dg('scaleChanged',H);};this.Qf=function(){var aB=document.getElementById(ba[cL].aO).aB;if(aB){return aB.get_currentState();}else{return null;}};this.ald=function(){var ap=IPCC.V.find(ba,function(eD){return eD.cG===cL;});if(!ap){return;}return ap.eT;};this.anz=function(aP){var ap=IPCC.V.find(ba,function(eD){return eD.cG===cL;});if(!ap){return;}return ap.aO;};this.qt=function(){return cN;};this.aDF=function(dE){iF(dE,undefined,undefined,undefined,undefined,undefined,IPCC.ScaleTrigger.Zoom);};this.Sf=function(bb,qT,VP,eV){eV=eV||IPCC.ScaleTrigger.Zoom;iF(cN*bb,VP,undefined,undefined,undefined,qT,eV);};this.apN=function(bb,aT,dI,DN,eV){eV=eV||IPCC.ScaleTrigger.Zoom;if(cN*bb<8){iF(cN*bb,false,aT,dI,DN,undefined,eV);}else{iF(8,false,aT,dI,DN);}};this.SP=function(bb,eV){eV=eV||IPCC.ScaleTrigger.Zoom;iF(cN/bb,false,undefined,undefined,undefined,undefined,eV);};this.aro=function(){return abn();};this.adg=function(eV,dZ,Yg){var IL,Jv,bf,aY;var Ws=0;var L=0;for(L=0;L<ba.length;L++){bf=ba[L].kr();aY=ba[L].qN();if(ie(ba[L].ha)===true){var IJ=bf;bf=aY;aY=IJ;}if(bf>0&&aY>0){var ET=bf/aY;if(ET>Ws){Ws=ET;IL=aY;Jv=bf;}}}if(Ws>0){var aub=(ae.offsetWidth-IPCC.Web.oV()-uK()-(eA+gR+lD+pl));var awY=aub/(Jv*dz/ba[0].gs);var fr=gl;var fj=hK;if(ie(ba[0].ha)===true){fr=hK;fj=gl;}var ahr=IL/fj*awY;var ka=(ae.clientHeight-(fF+iI+oT+pB))/(fj*dz/ba[0].gH);var Ff=ahr;if(Yg===true&&ahr>ka){Ff=ka;}iF(Ff,true,undefined,undefined,undefined,undefined,eV,dZ);}};this.adn=function(eV,dZ,Yg){var IL,Jv,bf,aY;var Xy=0;var L=0;for(L=0;L<ba.length;L++){bf=ba[L].kr();aY=ba[L].qN();if(ie(ba[L].ha)===true){var IJ=bf;bf=aY;aY=IJ;}if(bf>0&&aY>0){var ET=aY/bf;if(ET>Xy){Xy=ET;IL=aY;Jv=bf;}}}if(Xy>0){var atH=(ae.offsetHeight-IPCC.Web.oV()-(fF+iI+oT+pB));var auF=atH/(IL*dz/ba[0].gH);var fr=gl;var fj=hK;if(ie(ba[0].ha)===true){fr=hK;fj=gl;}var ago=Jv/fr*auF;var ka=(ae.clientWidth-uK()-(eA+gR+lD+pl))/(fr*dz/ba[0].gs);var Ff=ago;if(Yg===true&&ago>ka){Ff=ka;}iF(Ff,true,undefined,undefined,undefined,undefined,eV,dZ);}};this.auU=function(dZ,eV){if(J.yo&&typeof J.yo==='function'){J.yo();}var bf;var aY;var fb;var jH=1;eV=eV||IPCC.ScaleTrigger.Fit;if(dZ===IPCC.FitType.FitToWidth){if(dr===IPCC.ViewMode.Document){jH=(ae.offsetWidth-IPCC.Web.oV()-uK()-(eA+gR+lD+pl))/(fV/cN);iF(jH,true,undefined,undefined,undefined,undefined,eV,dZ);}else if(dr===IPCC.ViewMode.SinglePage){if(ie(ba[cL].ha)===true){bf=ba[cL].qN();fb=dz/ba[cL].gH;}else{bf=ba[cL].kr();fb=dz/ba[cL].gs;}jH=(ae.offsetWidth-IPCC.Web.oV()-uK()-(eA+gR+lD+pl))/(bf*fb);iF(jH,true,undefined,undefined,undefined,undefined,eV,dZ);}else{if(fe===IPCC.PageLayout.VerticalScrollDirection){Ys(eV,dZ);}else{J.adg(eV,dZ);}}}else if(dZ===IPCC.FitType.ShrinkToWidth){var aoW=ae.clientWidth-uK();var aqg=20;var Xa=aoW-aqg;if(dr===IPCC.ViewMode.SinglePage){if(ie(ba[cL].ha)===true){bf=ba[cL].qN();fb=dz/ba[cL].gH;}else{bf=ba[cL].kr();fb=dz/ba[cL].gs;}if(Xa<cN*bf*fb){jH=(ae.offsetWidth-IPCC.Web.oV()-uK()-(eA+gR+lD+pl))/(bf*fb);iF(jH,true,undefined,undefined,undefined,undefined,eV,dZ);}}else{if(Xa<fV){iF(cN*Xa/fV,true,undefined,undefined,undefined,undefined,eV,dZ);}}}else if(dZ===IPCC.FitType.ActualSize){if(dr===IPCC.ViewMode.Document||dr===IPCC.ViewMode.SinglePage){iF(1,true,undefined,undefined,undefined,undefined,eV,dZ);}}else if(dZ===IPCC.FitType.FitToHeight){if(dr===IPCC.ViewMode.Document){jH=(ae.offsetHeight-IPCC.Web.oV()-(fF+iI+oT+pB))/(hs/cN);iF(jH,true,undefined,undefined,undefined,undefined,eV,dZ);}else if(dr===IPCC.ViewMode.SinglePage){if(ie(ba[cL].ha)===true){aY=ba[cL].kr();fb=dz/ba[cL].gs;}else{aY=ba[cL].qN();fb=dz/ba[cL].gH;}jH=(ae.offsetHeight-IPCC.Web.oV()-(fF+iI+oT+pB))/(aY*fb);iF(jH,true,undefined,undefined,undefined,undefined,eV,dZ);}else{if(fe===IPCC.PageLayout.HorizontalScrollDirection){Ys(eV,dZ);}else{J.adn(eV,dZ);}}}else if(dZ===IPCC.FitType.BestFit){var GA;if(dr===IPCC.ViewMode.Document){jH=(ae.offsetWidth-IPCC.Web.oV()-(eA+gR+lD+pl))/(fV/cN);GA=(ae.offsetHeight-IPCC.Web.oV()-(fF+iI+oT+pB))/(hs/cN);if(GA<jH){jH=GA;}iF(jH,true,undefined,undefined,undefined,undefined,eV,dZ);}else if(dr===IPCC.ViewMode.SinglePage){if(ie(ba[cL].ha)===true){bf=ba[cL].qN();aY=ba[cL].kr();fb=dz/ba[cL].gs;}else{bf=ba[cL].kr();aY=ba[cL].qN();fb=dz/ba[cL].gH;}jH=(ae.offsetWidth-IPCC.Web.oV()-uK()-(eA+gR+lD+pl))/(bf*fb);GA=(ae.offsetHeight-IPCC.Web.oV()-(fF+iI+oT+pB))/(aY*fb);if(GA<jH){jH=GA;}iF(jH,true,undefined,undefined,undefined,undefined,eV,dZ);}else{if(fe===IPCC.PageLayout.HorizontalScrollDirection){J.adg(eV,dZ,true);}else{J.adn(eV,dZ,true);}}}};this.aqf=function(be,bF){var ap=ba[be-1];var ay=document.getElementById(ap.aO);var Ea=[];if(ay){var fz,DG,bS;try{fz=Zi(ay);}catch(e){return null;}Ea=IPCC.V.map(bF,function(eD){DG=ay.aB.transformPagePointToWindow(new IPCC.Web.UI.Point(eD.x,eD.y),true);bS=aeK(ay,DG.x,DG.y,fz);return{clientX:bS.x,clientY:bS.y};});return Ea;}else{return null;}};this.asL=function(){var L=0;for(L=0;L<ba.length;L++){J.cF(L);}iP();pq();};this.cF=function(aP){var aH;if(ba[aP].aO){aH=document.getElementById(ba[aP].aO);}J.wR(aH,aP);};this.Gl=function(aP){var aH;if(ba[aP].aO){aH=document.getElementById(ba[aP].aO);}if(aH){var aK=aH.aB;aK.Gl();}};this.wR=function(aH,aP){if(aH&&aH.aB&&aH.aB.fv()===true){var aK=aH.aB;aK.display();ba[aP].fR=true;if(dr===IPCC.ViewMode.SinglePage){var mf= -1;if(Array.prototype.indexOf){mf=qK.indexOf(aP);}else{mf=IPCC.Web.kA(qK,aP);}if(mf!== -1){qK.splice(mf,1);}}}};function adX(cS){var aH;for(var L=0;L<cS.get_length();L++){var ap=cS.getPage(L);var aP=ap.get_pageNumber();if(ba[aP].aO){aH=document.getElementById(ba[aP].aO);}if(aH&&aH.aB&&aH.aB.BY()!==null){return aH.aB;}}return null;};this.HU=function(){var cS=this.get_displayedPages();var PY=adX(cS);PY.HU();};this.BJ=function(bb){var hh=0;var fT=ba.length-1;for(var bD=hh;bD<=fT;bD++){var aK;var aH=document.getElementById(ba[bD].aO);if(aH){aK=aH.aB;}else{continue;}aK.set_sharpening(bb);if(aK&&ba[bD].fR===true&&aK.fv()===true){aK.display();}}sB=bb;};this.apf=function(){return sB;};this.Bn=function(bb){var hh=0;var fT=ba.length-1;for(var bD=hh;bD<=fT;bD++){var aK;var aH=document.getElementById(ba[bD].aO);if(aH){aK=aH.aB;}else{continue;}aK.set_gamma(bb);if(aK&&ba[bD].fR===true&&aK.fv()===true){aK.display();}}pL=bb;};this.apx=function(){return pL;};this.Ef=function(bb){var hh=0;var fT=ba.length-1;for(var bD=hh;bD<=fT;bD++){var aK;var aH=document.getElementById(ba[bD].aO);if(aH){aK=aH.aB;}else{continue;}aK.set_svgLineWidthMultiplier(bb);if(aK&&ba[bD].fR===true&&aK.fv()===true){aK.display();}}mU=bb;};this.anP=function(){return mU;};this.BY=function(){var cS=this.get_displayedPages();var PY=adX(cS);if(PY){return PY.BY();}return null;};this.vQ=function(aP,T){var aH;if(ba[aP].aO){aH=document.getElementById(ba[aP].aO);}if(aH&&aH.aB){aH.aB.vQ(T);}};this.pM=function(aP){var aH;if(ba[aP].aO){aH=document.getElementById(ba[aP].aO);}if(aH&&aH.aB){aH.aB.pM();}};var ts='';this.wP=function(h){ts=h;};this.mJ=function(){return ts;};this.bH=function(cZ,G){try{var H=bm.getHandler(cZ);if(H!==null){H(J,G);}}catch(e){J.bG(cZ+'Event',e);}};this.cQ=function(cg){var H=bm.getHandler('propertyChanged');if(H){H(this,new IPCC.nz(cg));}};this.avJ=function(H){bm.addHandler('currentPageChanged',H);};this.ayW=function(H){bm.removeHandler('currentPageChanged',H);};this.Ap=function(dR,h){dR.style.cursor='move';dR.style.cursor='-webkit-'+h;dR.style.cursor='-moz-'+h;dR.style.cursor=h;};this.ajU=function(){return ab.style.cursor||'auto';};this.aBC=function(h){ab.style.cursor=h||'auto';var L=0;for(L=0;L<ba.length;L++){if(ba[L].aO){var aH=document.getElementById(ba[L].aO);if(aH){var aK=aH.aB;aH.style.cursor=h;if(aK){aK.set_cursor(h);if(ba[L].fR===true&&aK.fv()===true){aK.display();}}}}}};this.ZY=function(){return au;};this.FN=function(h){IPCC.aq.iq(h,'value',IPCC.Web.UI.MouseTool);var nq=false;if(au!==h){hT=null;au=h;switch(au){case IPCC.Web.UI.MouseTool.HandPan:aE='grab';J.Ap(ab,'grab');break;case IPCC.Web.UI.MouseTool.SelectText:J.uE();aE=IPCC.bA.Text;ab.style.cursor=IPCC.bA.fc(aE);break;case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:J.uE();aE=IPCC.bA.Text;ab.style.cursor=IPCC.bA.fc(aE);break;case IPCC.Web.UI.MouseTool.None:aE=IPCC.bA.None;ab.style.cursor=IPCC.bA.fc(aE);break;case IPCC.Web.UI.MouseTool.Magnifier:aE=IPCC.bA.Magnifier;ab.style.cursor=IPCC.bA.fc(aE);break;case IPCC.Web.UI.MouseTool.RectangleZoom:aE=IPCC.bA.RectangleZoom;ab.style.cursor=IPCC.bA.fc(aE);break;case IPCC.Web.UI.MouseTool.CreateRectangleMark:aE=IPCC.bA.AddRectangleMark;ab.style.cursor=IPCC.bA.fc(aE);nq=true;hT=function(){return[new IPCC.eW(IPCC.Web.UI.MarkType.Rectangle)];};break;case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:aE=IPCC.bA.AddRectangleRedactionMark;ab.style.cursor=IPCC.bA.fc(aE);nq=true;hT=function(){return[new IPCC.eW(IPCC.Web.UI.MarkType.RectangleRedaction)];};break;case IPCC.Web.UI.MouseTool.CreateEllipseMark:aE=IPCC.bA.AddEllipseMark;ab.style.cursor=IPCC.bA.fc(aE);nq=true;hT=function(){return[new IPCC.eW(IPCC.Web.UI.MarkType.Ellipse)];};break;case IPCC.Web.UI.MouseTool.CreateLineMark:aE=IPCC.bA.AddLineMark;ab.style.cursor=IPCC.bA.fc(aE);nq=true;hT=function(){return[new IPCC.mH()];};break;case IPCC.Web.UI.MouseTool.CreateStampMark:aE=IPCC.bA.AddStampMark;ab.style.cursor=IPCC.bA.fc(aE);nq=true;hT=function(){return[new IPCC.eW(IPCC.Web.UI.MarkType.Stamp)];};break;case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:aE=IPCC.bA.AddImageStampMark;ab.style.cursor=IPCC.bA.fc(aE);nq=true;hT=function(){return[new IPCC.eW(IPCC.Web.UI.MarkType.ImageStampAnnotation)];};break;case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:aE=IPCC.bA.AddImageStampMark;ab.style.cursor=IPCC.bA.fc(aE);nq=true;hT=function(){return[new IPCC.eW(IPCC.Web.UI.MarkType.ImageStampRedaction)];};break;case IPCC.Web.UI.MouseTool.CreateTextMark:aE=IPCC.bA.AddTextMark;ab.style.cursor=IPCC.bA.fc(aE);nq=true;hT=function(){return[new IPCC.eW(IPCC.Web.UI.MarkType.Text)];};break;case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:aE=IPCC.bA.AddTextMark;ab.style.cursor=IPCC.bA.fc(aE);nq=true;hT=function(){return[new IPCC.eW(IPCC.Web.UI.MarkType.TextLine)];};break;case IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark:aE=IPCC.bA.AddTextMark;ab.style.cursor=IPCC.bA.fc(aE);nq=true;hT=function(){return[new IPCC.eW(IPCC.Web.UI.MarkType.TextAreaSignature)];};break;case IPCC.Web.UI.MouseTool.CreateFreehandMark:aE=IPCC.bA.AddFreehandLineMark;ab.style.cursor=IPCC.bA.fc(aE);nq=true;hT=function(){return[new IPCC.lf()];};break;case IPCC.Web.UI.MouseTool.CreatePolylineMark:aE=IPCC.bA.AddPolylineMark;ab.style.cursor=IPCC.bA.fc(aE);nq=true;hT=function(){return[new IPCC.kc(IPCC.Web.UI.MarkType.Polyline)];};break;case IPCC.Web.UI.MouseTool.EditMarks:aE=IPCC.bA.EditMarks;ab.style.cursor=IPCC.bA.fc(aE);nq=true;hT=function(){return[new IPCC.lh(IPCC.Web.UI.MarkType.Text)];};break;default:aE=IPCC.bA.None;ab.style.cursor=IPCC.bA.fc(aE);break;}var L=0;for(L=0;L<ba.length;L++){if(ba[L].aO){var aH=document.getElementById(ba[L].aO);if(aH){var aK=aH.aB;if(aE==='grab'){J.Ap(aH,'grab');}else{aH.style.cursor=IPCC.bA.fc(aE);}if(aK){aK.set_cursor(aE);aK.LM(au===IPCC.Web.UI.MouseTool.HandPan||au===IPCC.Web.UI.MouseTool.EditMarks);if(nq===true){aK.FU(hT());}else{aK.set_mouseTool(IPCC.Web.UI.MouseTool.None);}if(ba[L].fR===true&&aK.fv()===true){aK.display();}}}}}this.cQ('mouseTool');}};this.auW=function(){return Bm;};this.aBo=function(bool){Bm= ! !bool;};this.yR=function(){return rW;};this.Gb=function(h){if(rW!==h){rW=h;var cw=iP();var cS=[];if(cw){cS=ri(cw);}var L=0;for(L=0;L<cS.length;L++){var aH;var aK;aH=document.getElementById(ba[cS[L]].aO);aK=aH.aB;if(aK){aK.set_markHandleMode(rW);this.wR(aH,L);}}this.cQ('markHandleMode');}};this.jN=function(){return sP;};this.HW=function(h){if(sP!==h){sP=h;var cw=iP();var cS=[];if(cw){cS=ri(cw);}var L=0;for(L=0;L<cS.length;L++){var aK;if(ba[cS[L]].aO){aK=document.getElementById(ba[cS[L]].aO).aB;}if(aK){aK.set_textRequired(sP);}}this.cQ('textRequired');}};this.alN=function(){return xc;};this.aBU=function(h){if(h<0){h=0;}if(xc!==h){xc=h;this.cQ('maxPrefetch');}};this.anA=function(){return HD;};this.aEm=function(h){if(HD!==h){HD=h;this.cQ('displayPagesWhenScrolling');}};this.anK=function(){return CV;};this.aBE=function(h){if(h<0){h=0;}if(CV!==h){CV=h;this.cQ('maxOutOfViewDisplay');}};this.apk=function(){return OM;};this.aEC=function(h){if(OM!==h){OM= ! !h;this.cQ('discardOutOfViewText');}};this.apv=function(){return Mw;};this.aEc=function(h){if(Mw!==h){Mw= ! !h;this.cQ('retainPageText');}};this.apG=function(){return NV;};this.aCW=function(h){if(h<0){h=0;}if(NV!==h){NV=h;this.cQ('scrollDisplayThreshold');}};this.amk=function(){return fe;};this.aBO=function(h){if(fe===h){return;}fe=h;if(ae===''||ae.clientHeight<=0||dr===IPCC.ViewMode.SinglePage){this.cQ('pageLayout');return;}var tz=cL;var FA=dr;if(dr===IPCC.ViewMode.EqualWidthPages||dr===IPCC.ViewMode.EqualFitPages){J.Rx(IPCC.ViewMode.Document);}ae.scrollLeft=0;ae.scrollTop=0;var L=0;var aH;if(fe===IPCC.PageLayout.VerticalScrollDirection){if(JH){JH.setAttribute('style',atZ);}FV.insertBefore(jS,JH);for(L=0;L<ba.length;L++){aH=document.getElementById(ba[L].aO);aH.style.display='block';if(gl>0){aH.style.margin=fF+'px auto '+iI+'px auto';}}ab.style.margin='0px '+eA+'px 0px '+gR+'px';ae.scrollLeft=(fV-ae.clientWidth)/2+eA+lD;}else{if(JH){JH.setAttribute('style',atu);}FV.removeChild(jS);for(L=0;L<ba.length;L++){aH=document.getElementById(ba[L].aO);if(aH){aH.style.display='inline-block';if(gl>0){aH.style.margin=fF+'px '+eA+'px '+iI+'px '+gR+'px';}}}ab.style.margin='0px';ae.scrollTop=(hs-ae.clientHeight)/2+fF+oT;}if(FA===IPCC.ViewMode.EqualWidthPages){J.Rx(IPCC.ViewMode.EqualWidthPages);}else if(FA===IPCC.ViewMode.EqualFitPages){J.Rx(IPCC.ViewMode.EqualFitPages);}this.qg(tz);pq();this.cQ('layout');};this.aqq=function(){return dr;};this.Rx=function(h,eV){eV=eV||IPCC.ScaleTrigger.ViewMode;if(dr===h){return;}dr=h;if(ae===''||ae.clientHeight<=0){this.cQ('viewMode');return;}var tz=cL;this.qg(tz);if(dr===IPCC.ViewMode.Document){var ka=1;var bf=gl;var aY=hK;if(ie(pV)===true){bf=hK;aY=gl;}if(fe===IPCC.PageLayout.VerticalScrollDirection){ka=(ae.clientWidth-(eA+gR+lD+pl))/bf;}else{ka=(ae.clientHeight-(fF+iI+oT+pB))/aY;}iF(ka,true,undefined,undefined,undefined,undefined,eV);}else{Ys(eV);}this.qg(tz);this.cQ('viewMode');Ai(dQ,true);kk(dQ,true);};var pV=0;this.anv=function(){return pV;};this.aBp=function(h){if(pV!==h){pV=h;var L=0;for(L=0;L<ba.length;L++){if(ba[L].CA===0){ba[L].ha=pV;}}this.cQ('pageRotation');}};this.WR=function(be){var cG;if(arguments.length>0){if(!isNaN(be)){cG=be;}else{cG=cL;}}else{cG=cL;}for(var L=0;L<ba.length;L++){if(cG===L){return ba[L].ha;}}return 0;};var ou=false;this.hS=function(){return ou;};this.np=function(h){if(typeof h!=="boolean"){return;}if(h===ou){return;}ou=h;};this.atO=function(){return Wh;};this.aDP=function(h,qS,vu,wZ){if(Wh!==h){Wh=h;for(var L=0;L<ba.length;L++){ba[L].bk.aCV(h,L,ba[L].kr(),ba[L].qN(),ba[L].eT,qS,vu,wZ);var ayj= !ba[L].kr();ba[L].YN(ayj);}this.cQ('annotationXmlDom');}};var rh;this.Iv=function(h){rh=h;};this.us=function(){return rh;};var ow=false;this.nY=function(){return ow;};this.qU=function(h){if(typeof h!=="boolean"){return;}if(h===ow){return;}ow=h;IPCC.V.forEach(ba,function(bj,L){var aK;if(ba[L].aO){var aH=document.getElementById(ba[L].aO);if(aH){aK=aH.aB;}}if(aK){aK.qU(ow);aK=undefined;}});};this.aBN=function(h){if(Jn!==h){Jn=h;this.cQ('loadingContent');}};this.aoi=function(){return Jn;};this.apl=function(){var cw=iP();var cS=[];if(cw){cS=ri(cw);}var acs=new IPCC.Web.UI.ImGearPageCollection();var L=0;for(L=0;L<cS.length;L++){acs.ahA(ba[cS[L]].eT);}return acs;};this.aqS=function(aP){if(ba[aP]){return ba[aP].aO;}};this.xI=function(){return wT;};this.HO=function(h){wT=h;};this.kN=function(){return jR;};this.yE=function(h){jR=h;};this.Mo=function(ap,zF,zu){var J=this;if(ap.ki()>0||ap.iy()>0){zF(ap.ki(),ap.iy());return;}ap.requestPageAttributes(function(ag,cq){if(ba[ap.get_pageNumber()].aiP()===true){var gY=ag/ap.akM();if(gY!==1){var bk=J.gN(ap);if(bk){alP(bk,gY);}}}ba[ap.get_pageNumber()].YN(false);zF(ag,cq);},function(fw){zu(fw);});};this.aAy=function(){if(sy===true){return;}sy=true;this.dS(jS,'pccHidden');Ai(dQ,true);kk(dQ,true);};this.arD=function(){if(sy===false){return;}sy=false;this.kx(jS,'pccHidden');};this.apm=function(){return sy;};this.kx=function(dR,tk){var Jg=new RegExp('(?:^|\\s)'+tk+'(?!\\S)','g');if(dR.className.match(Jg)===null){dR.className=dR.className+' '+tk;}};this.dS=function(dR,tk){var Jg=new RegExp('(?:^|\\s)'+tk+'(?!\\S)','g');dR.className=dR.className.replace(Jg,'');};this.apQ=function(){return mn;};this.aDk=function(h){mn=h;};this.apL=function(){return hV;};this.aDu=function(h){if(hV===h){return;}var T,ck,uy;if(hV){T=hV.get_mark();uy=dQ[T.get_markID()];ck=mn(T,{isSelected:true},(uy)?uy.ck:undefined);if(uy){FS(T,dQ,ck);}}T=ck=uy=undefined;hV=h;if(hV){T=hV.get_mark();uy=dQ[T.get_markID()];ck=mn(T,{isSelected:true},(uy)?uy.ck:undefined);if(uy){FS(T,dQ,ck);}}kk(dQ,true);};this.awp=function(aaB){var ku=yl();IPCC.V.forEach(aaB,function(Lq){var dk=dQ[Lq];if(dk){var kD=mn(dk.T,{isSelected:(dk.T.get_conversation()===hV)},dk.ck);if(!IPCC.V.wx(kD)){throw new Error(kD+' is not a valid HTMLElement');}if(kD!==dk.ck){FS(dk.T,dQ,kD);}}});kk(dQ,false,ku);};this.initialize=function(){var dB=this.mJ();var L;for(L=dB.childNodes.length-1;L>=0;L--){if(dB.childNodes[L].tagName!=='INPUT'){dB.removeChild(dB.childNodes[L]);}}this.zl.add_documentAdded(aEs);this.zl.add_pageAdded(QV);this.zl.add_pageRemoved(Sm);this.aab(true);dB.aB=this;acY();var Xo='webkit moz o'.split(' '),DU='';if(ab.style.animationName!==undefined){FQ='animationend';Ed='transitionend';return;}for(L=0;L<Xo.length;L++){if(ab.style[Xo[L]+'Animation']!==undefined){DU=Xo[L];FQ=DU+'AnimationEnd';Ed=DU+'TransitionEnd';break;}}};this.anI=function(){return lC;};this.aab=function(h){lC=h;this.cQ('enabled');};this.aFk=function(){if(cL+1<ba.length){J.qg(cL+1);}};this.aEU=function(){var Ta=cL-1;if(Ta<0){Ta=0;}J.qg(Ta);};function ED(G){IPCC.Web.UI.aC.removeHandler(G.target,FQ,ED);IPCC.Web.UI.aC.removeHandler(G.target,Ed,ED);if(Hy>cL){J.dS(G.target,'pccNextPageIn');J.dS(G.target,'pccPreviousPageIn');J.dS(G.target,'pccCurrentPage');J.dS(G.target,'pccPageBack');J.dS(G.target,'pccPageForward');J.kx(G.target,'pccNextPage');}else if(Hy<cL){J.dS(G.target,'pccNextPageIn');J.dS(G.target,'pccPreviousPageIn');J.dS(G.target,'pccCurrentPage');J.dS(G.target,'pccPageBack');J.dS(G.target,'pccPageForward');J.kx(G.target,'pccPreviousPage');}J.dS(ab,'pccPageListContainerPageChanging');ae.style.overflow='auto';jy=null;ab.style.overflow='hidden';var lc=IPCC.V.filter(dQ,function(bJ){return bJ.be===cL+1;});Md(lc);setTimeout(function(){pq();},60);};this.qg=function aFL(aP){var Fd=cL;var lc;if(dr===IPCC.ViewMode.SinglePage){lc=IPCC.V.filter(dQ,function(bJ){return bJ.be!==aP+1;});EY(lc);}else{tK=true;var agw=afV(aP);if(fe===IPCC.PageLayout.VerticalScrollDirection){ae.scrollTop=agw;}else{ae.scrollLeft=agw;}}var Al=[];if(cL!==aP){cL=aP;var bj=ba[cL];var G=new IPCC.PageEventArgs();G.imGearPage=J.get_currentPage();G.pageIndex=cL;G.pageNodeID=bj.aO;J.bH('currentPageChanged',G);if(dr===IPCC.ViewMode.SinglePage){var gG=document.getElementById(ba[cL].aO);var sZ=document.getElementById(ba[Fd].aO);if(gG===null){gG=Ig(ba[cL].eT);Al.push(ba[cL]);gG.className='pccPageListItem pccCurrentPage';qK.push(cL);if(gl>0){var kW=VQ(ba[cL]);gG.style.width=kW.ag+'px';gG.style.height=kW.cq+'px';}else{gG.style.width=ab.clientWidth-eA-gR+'px';gG.style.height=ab.clientWidth*0.8+'px';}gG.style.display='block';gG.setAttribute('id',ba[cL].aO);ab.appendChild(gG);}if(Ed.length>0){ae.style.overflow='hidden';ab.style.width=gG.style.width;ab.style.height=gG.style.height;ab.style.overflow='visible';if(jy!==null){IPCC.Web.UI.aC.removeHandler(jy,FQ,ED);IPCC.Web.UI.aC.removeHandler(jy,Ed,ED);if(Hy>cL){this.dS(jy,'pccNextPageIn');this.dS(jy,'pccPreviousPageIn');this.dS(jy,'pccCurrentPage');this.dS(jy,'pccPageForward');this.dS(jy,'pccPageBack');this.kx(jy,'pccNextPage');}else if(Hy<cL){this.dS(jy,'pccNextPageIn');this.dS(jy,'pccPreviousPageIn');this.dS(jy,'pccCurrentPage');this.dS(jy,'pccPageForward');this.dS(jy,'pccPageBack');this.kx(jy,'pccPreviousPage');}}IPCC.Web.UI.aC.addHandler(sZ,FQ,ED);IPCC.Web.UI.aC.addHandler(sZ,Ed,ED);jy=sZ;Hy=Fd;this.kx(ab,'pccPageListContainerPageChanging');if(cL>Fd){this.kx(sZ,'pccPageForward');this.dS(gG,'pccPageBack');this.dS(gG,'pccPreviousPage');this.dS(gG,'pccPreviousPageIn');this.dS(gG,'pccNextPage');this.kx(gG,'pccCurrentPage');this.kx(gG,'pccNextPageIn');}else{this.kx(sZ,'pccPageBack');this.dS(gG,'pccPageForward');this.dS(gG,'pccPreviousPage');this.dS(gG,'pccNextPage');this.dS(gG,'pccNextPageIn');this.kx(gG,'pccCurrentPage');this.kx(gG,'pccPreviousPageIn');}}else{ab.style.width=gG.style.width;ab.style.height=gG.style.height;if(cL>Fd){this.dS(sZ,'pccNextPage');this.dS(sZ,'pccCurrentPage');this.kx(sZ,'pccPreviousPage');}else{this.dS(sZ,'pccPreviousPage');this.dS(sZ,'pccCurrentPage');this.kx(sZ,'pccNextPage');}this.dS(gG,'pccPreviousPage');this.dS(gG,'pccNextPage');this.kx(gG,'pccCurrentPage');lc=IPCC.V.filter(dQ,function(el){return el.be===aP+1;});Md(lc);setTimeout(function(){pq();},60);}IPCC.V.forEach(Al,aal);}}};this.aFb=function(){if(ba.length>0){J.qg(0);}};this.aFX=function(){if(cL<ba.length-1){J.qg(ba.length-1);}};this.aGg=function(dP){if(sy===false){return "CommentsPanelClosed";}var ee=dQ[dP.get_mark().get_markID()];if(!ee){return "ConversationDivDoesNotExist";}if(dr===IPCC.ViewMode.SinglePage&&ee.be-1!==cL){return "SinglePageModePageNotShown";}var ap=document.getElementById(ba[ee.be-1].aO);if(ba[ee.be-1].fR===false||ap===undefined||ap.aB===undefined||ap.aB===null||ap.aB.fv()===false){return "PageOutOfView";}var C=dP.get_mark().get_boundingRectangle();var pS=ap.aB.transformPagePointToWindow(new IPCC.Web.UI.Point(C.x,C.y),true);var AR=ap.aB.transformPagePointToWindow(new IPCC.Web.UI.Point(C.x+C.width,C.y),true);pS.x=ab.offsetWidth;AR.x=ab.offsetWidth+uK();J.aeS(ap.offsetTop,ap.offsetLeft,pS,AR);return "Success";};this.aDU=function(aP,C){if(dr===IPCC.ViewMode.SinglePage&&aP!==cL){return true;}var ap=document.getElementById(ba[aP].aO);if(ba[aP].fR===false||ap===undefined||ap.aB===undefined||ap.aB===null||ap.aB.fv()===false){return false;}var pS=ap.aB.transformPagePointToWindow(new IPCC.Web.UI.Point(C.x,C.y),true);var AR=ap.aB.transformPagePointToWindow(new IPCC.Web.UI.Point(C.x+C.width,C.y+C.height),true);J.aeS(ap.offsetTop,ap.offsetLeft,pS,AR);return true;};this.aFw=function(apY,anG){ae.scrollTop+=Math.round(anG);ae.scrollLeft+=Math.round(apY);};this.aeS=function(azP,aAp,pS,AR){var abr=AR.x-pS.x;var aaV=AR.y-pS.y;var cn=new IPCC.Web.UI.Point(0,0);if(abr>ae.clientWidth){cn.x=pS.x;}else{cn.x=pS.x+(abr/2);}if(aaV>ae.clientHeight){cn.y=pS.y;}else{cn.y=pS.y+(aaV/2);}if(fe===IPCC.PageLayout.VerticalScrollDirection){ae.scrollTop=azP+cn.y-ae.clientHeight/2;ae.scrollLeft=cn.x-ae.clientWidth/2;}else{ae.scrollLeft=aAp+cn.x-ae.clientWidth/2;ae.scrollTop=cn.y-ae.clientHeight/2;}};this.asv=function(){var L=0;for(L=0;L<ba.length;L++){EV(L,true);}};this.aso=function(){var cw=iP();var cS=[];if(cw){cS=ri(cw);}var L=0;for(L=0;L<cS.length;L++){EV(cS[L]);}if(J.zl.get_length()>0){J.zl.removeAllDocuments();}};this.YS=function(aP,bL,cl,dG){if(ba[aP]&&ba[aP].fR===true){var aH=document.getElementById(ba[aP].aO);if(aH&&aH.aB&&aH.aB.fv()===true){if(dG){IPCC.aq.dG(dG,"selectText");var gq=aH.aB.Bl();var aze=gq.kS;var aBs=gq.dJ;gq.kS=dG;gq.dJ=dG;aH.aB.showTextSelection(bL,cl);gq.kS=aze;gq.dJ=aBs;}else{aH.aB.showTextSelection(bL,cl);}}}};this.aqk=function(){var cw=iP();var cS=[];if(cw){cS=ri(cw);}var L;for(L=0;L<cS.length;L++){if(ba[cS[L]].fR===true){var ed=document.getElementById(ba[cS[L]].aO),aB=ed?ed.aB:undefined;if(aB&&aB.fv()===true){aB.showEmptyTextSelection(0);aB.extendTextSelection(undefined);aB.display();}}}};this.arS=function(aP){if(ba[aP]&&ba[aP].fR===true){var ed=document.getElementById(ba[aP].aO),aB=ed?ed.aB:undefined;if(aB&&aB.fv()===true){aB.showEmptyTextSelection(0);aB.extendTextSelection(undefined);aB.display();}}};this.uE=function(){var ap,dM,aB;bU=null;IPCC.V.forEach(Qm,function(L){ap=ba[L];dM=document.getElementById(ap.aO);if(dM){aB=dM.aB;}if(aB){if(aB.fv()&&aB.EL()){aB.showEmptyTextSelection(0);aB.extendTextSelection(undefined);if(ap.fR){aB.display();}}}ap=dM=aB=undefined;});};this.xd=function(aP,sY){var aH;var aK;var afB=function(awu,aws){return(awu+aws)%360;};ba[aP].ha=afB(ba[aP].ha,sY);if(ba[aP].aO){aH=document.getElementById(ba[aP].aO);}if(aH===undefined||aH===null){return;}aK=aH.aB;if(aK&&aK.fv()===false){ba[aP].CA=afB(ba[aP].CA,sY);return;}tK=true;if(aK&&aK.fv()===true){aK.rotate(sY);}var bf=0;var aY=0;var fr=gl;var fj=hK;if(ie(pV)===true){fr=hK;fj=gl;}if(ie(ba[aP].ha)===true){if(aK&&aK.fv()===true){bf=aK.get_pageHeight();aY=aK.get_pageWidth();}else{bf=hK;aY=gl;}}else{if(aK&&aK.fv()===true){bf=aK.get_pageWidth();aY=aK.get_pageHeight();}else{bf=gl;aY=hK;}}tK=true;if(dr===IPCC.ViewMode.SinglePage){aH.style.width=bf*cN*dz/ba[aP].gs+'px';aH.style.height=aY*cN*dz/ba[aP].gH+'px';if(aP===cL){ab.style.width=bf*cN*dz/ba[aP].gs+'px';ab.style.height=aY*cN*dz/ba[aP].gH+'px';}}else if(dr===IPCC.ViewMode.Document){aH.style.width=bf*cN*dz/ba[aP].gs+'px';aH.style.height=aY*cN*dz/ba[aP].gH+'px';var L=0;if(fe===IPCC.PageLayout.VerticalScrollDirection){if(bf*cN*dz/ba[aP].gs>fV){fV=bf*cN*dz/ba[aP].gs;}else if(aH.clientHeight>=fV-10){fV=0;for(L=0;L<ba.length;L++){aH=document.getElementById(ba[L].aO);if(aH&&aH.clientWidth>fV){fV=aH.clientWidth;}}}if(aY*cN*dz/ba[aP].gH>hs){hs=aY*cN*dz/ba[aP].gH;}}else{if(aY*cN*dz/ba[aP].gH>hs){hs=aY*cN*dz/ba[aP].gH;}else if(aH.clientWidth>=hs-10){hs=0;for(L=0;L<ba.length;L++){aH=document.getElementById(ba[L].aO);if(aH&&aH.clientHeight>hs){hs=aH.clientHeight;}}}if(bf*cN*dz/ba[aP].gs>fV){fV=bf*cN*dz/ba[aP].gs;}}}else{var fU;if(fe===IPCC.PageLayout.VerticalScrollDirection){fU=fr/bf*cN*dz/ba[aP].gH;if(aK&&aK.fv()===true){aK.zoom(fU);}tK=true;aH.style.width=fr*cN*dz/ba[aP].gs+'px';aH.style.height=fU*aY+'px';}else{fU=fj/aY*cN*dz/ba[aP].gH;if(aK&&aK.fv()===true){aK.zoom(fU);}tK=true;aH.style.height=fj*cN*dz/ba[aP].gH+'px';aH.style.width=fU*bf+'px';}if(fr*cN*dz/ba[aP].gs>fV){fV=fr*cN*dz/ba[aP].gs;}if(fj*cN*dz/ba[aP].gH>hs){hs=fj*cN*dz/ba[aP].gH;}}if(aK&&aK.fv()===true){tK=true;this.wR(aH,aP);setTimeout(function(){if(sy===false){return;}var ku=yl();var lc=IPCC.V.filter(dQ,function(el){return aP===el.be-1;});Ai(lc);kk(lc,true,ku);},0);}};this.aDf=function(sY){var tz=cL;this.xd(cL,sY);if(dr!==IPCC.ViewMode.SinglePage){var J=this;setTimeout(function(){J.qg(tz);},10);}};this.afp=function(sY){var tz=cL;var cw=iP();if(dr!==IPCC.ViewMode.SinglePage){this.qg(tz);}var hh=0;var fT=ba.length-1;var L;for(L=hh;L<=fT;L++){this.xd(L,sY);}if(dr!==IPCC.ViewMode.SinglePage){var J=this;setTimeout(function(){afl(cw);J.qg(tz);},10);}};function aea(zX,mX){var nr=0;var qD=0;var EZ=false;tK=true;var cw=iP();if(cw){IPCC.V.forEach(cw.JQ,function(bK){var hB=fe===IPCC.PageLayout.VerticalScrollDirection?bK.cq+fF:bK.ag+eA+gR;var azS=zX.JQ[bK.aM];if(azS.wQ){EZ=true;return;}if(mX&&bK.aM>=mX.kq&&bK.aM<=mX.ij){var aH=document.getElementById(ba[bK.aM].aO);if(aH){return;}}if(EZ){qD+=hB;}else{nr+=hB;}});}return{qD:qD,nr:nr};};function afl(zX){if(dr===IPCC.ViewMode.SinglePage){return;}var mX=PQ(zX);var qi=aea(zX,mX);if(fe===IPCC.PageLayout.VerticalScrollDirection){ab.style.paddingTop=qi.nr+'px';ab.style.paddingBottom=qi.qD+'px';}else{ab.style.paddingLeft=qi.nr+'px';ab.style.paddingRight=qi.qD+'px';}};function axs(zX){if(dr===IPCC.ViewMode.SinglePage){return;}var MV;var mX;if(fe===IPCC.PageLayout.VerticalScrollDirection){MV=parseInt(window.getComputedStyle(ab,null).getPropertyValue('padding-top'),10);}else{MV=parseInt(window.getComputedStyle(ab,null).getPropertyValue('padding-left'),10);}mX=PQ(zX);var qi=aea(zX,mX);if(fe===IPCC.PageLayout.VerticalScrollDirection){ab.style.paddingTop=qi.nr+'px';ab.style.paddingBottom=qi.qD+'px';ae.scrollTop=ae.scrollTop+qi.nr-MV;}else{ab.style.paddingLeft=qi.nr+'px';ab.style.paddingRight=qi.qD+'px';ae.scrollLeft=ae.scrollLeft+qi.nr-MV;}};this.Nh=function(aP){IPCC.aq.kY(aP,'pageIndex',0,ba.length-1);var ap=ba[aP];if(ap&&ap.aO&&(ap.Dc===true||ap.xr===false)){var bN;var aH=document.getElementById(ap.aO);if(aH.aB){aH.aB.dispose();}alI(aH);bN=new IPCC.Web.UI.PageView(aH,false,ae);if(bN){bN.set_autoUpdate(false);bN.wP(aH);bN.initialize();bN.set_imageHandlerUrl(ap.bP.sf);bN.set_requireRequestsOptimize(wT);if(jR!==undefined){bN.set_serviceResponseTimeout(jR);}bN.set_scrollBars(IPCC.Web.UI.ScrollBars.None);bN.LM(au===IPCC.Web.UI.MouseTool.HandPan||au===IPCC.Web.UI.MouseTool.EditMarks);VE(bN,ap);VK(bN);Wc(bN);WD(bN);XN(bN);}bN.set_textRequired(sP);bN.set_markHandleMode(rW);bN.set_debug(_debug);bN.set_gamma(pL);bN.set_sharpening(sB);bN.set_svgLineWidthMultiplier(mU);bN.set_debugErrorLevel(op);bN.np(J.hS());if(rh){bN.set_resourcePath(rh);}if(hT){bN.FU(hT());}else{bN.set_mouseTool(IPCC.Web.UI.MouseTool.None);}bN.qU(J.nY());ap.Dc=false;ap.AC=false;var zi={encodedDocumentIdentifier:ap.bP.get_encodedDocumentIdentifier(),pageNumber:aP,artServiceOption:0,documentArtPage:ap.eR,viewRotationDegreesClockwise:ap.ha};if(ap.bk){zi.artPage=ap.bk;}if(ap.eR){zi.documentArtPage=ap.eR;}bN.openPage(zi);ap.xr=true;ks++;}};function Ys(eV,dZ){if(gl<=0){return;}var fr=gl;var fj=hK;var fb=dz/ba[0].gs;if(ie(pV)===true){fr=hK;fj=gl;fb=dz/ba[0].gH;}var ka=1;if(fe===IPCC.PageLayout.VerticalScrollDirection){ka=(ae.clientWidth-uK()-(eA+gR+lD+pl))/(fr*fb);}else{ka=(ae.clientHeight-(fF+iI+oT+pB))/(fj*fb);}var vh;if(cN<=ka){vh=false;}else if(cN>ka){vh=true;}if(isNaN(ka)||ka<=0||Math.abs(ka)===Infinity){return;}cN=ka;fV=0;hs=0;var hh=0;var fT=ba.length-1;var bD=0;var aK;for(bD=hh;bD<=fT;bD++,aK=undefined){var aH=document.getElementById(ba[bD].aO);if(aH){aK=aH.aB;}if(aK===undefined){continue;}var bf=fr;var aY=fj;if(ba[bD].kr()>0){if(ie(ba[bD].ha)===true){bf=ba[bD].qN();aY=ba[bD].kr();}else{bf=ba[bD].kr();aY=ba[bD].qN();}}var fU=1;if(fe===IPCC.PageLayout.VerticalScrollDirection){fU=fr/bf*cN*fb;aH.style.width=fr*cN*fb+'px';aH.style.height=aY*fU+'px';if(fr*cN*fb>fV){fV=fr*cN*fb;}if(aY*fU*dz/ba[bD].gH>hs){hs=aY*fU*fb;}}else{fU=fj/aY*cN;aH.style.height=fj*cN*fb+'px';aH.style.width=bf*fU*fb+'px';if(bf*cN*dz/ba[bD].gs>fV){fV=bf*cN*fb;}if(fj*fU*fb>hs){hs=fj*fU*fb;}}if(aK&&ba[bD].fR===true&&aK.fv()===true){aK.zoom(fU);}if(aK&&ba[bD].fR===true&&aK.fv()===true){aK.display();}aK=undefined;}iP();pq();setTimeout(function(){Ai(dQ);kk(dQ);},0);J.bH('scaleChanged',{scaleType:(vh)?"scaledDown":"scaledUp",scaleTrigger:eV,fitType:dZ,scaleFactor:cN});};function ie(eQ){switch(eQ){case 90:case 270:case-90:case-270:return true;default:return false;}};function gP(qL){var vs=document.createElement('div');var L;for(L in qL){if(qL.hasOwnProperty(L)){vs.style[L]=qL[L];}}return vs;};this.aqA=function(){if(Fp===undefined||Fp===null){Fp=1;}var cR=this.mJ().id.toString()+'_'+Fp.toString();Fp++;return cR;};this.abq=function(){return this.zl;};this.gN=function(aDG){for(var sn=0;sn<ba.length;sn++){var arA=ba[sn];if(aDG===arA.eT){return ba[sn].bk;}}return null;};this.aFG=function(iU){var aH=document.getElementById(ba[iU.get_pageNumber()].aO);if(aH){return aH.aB.mu();}return null;};function aEs(ax,G){QK(G);};function QK(aI){var gT=aI.imGearDocument;var asV=J.aqA();gT.Nn=asV;var cX=gT.get_pages();var cj=cX.get_length();if(cj>0){var Nr=document.createDocumentFragment();for(var bD=0;bD<cj;bD++){var ap=cX.getPage(bD);if(!ap.bP){ap.bP=gT;}Ig(ap,ap.get_pageNumber()===0?null:Nr);}ab.appendChild(Nr);}};var atz=IPCC.V.acF(function(){if(Je.length>0&&lC){var cG;var JX;var HJ=0;IPCC.V.forEach(Je,aay);var amZ=iP();if(!amZ){return;}var kW=amZ.JQ;IPCC.V.forEach(Je,function(ap,aM){cG=ap.oZ();JX=kW[cG];if(fe===IPCC.PageLayout.VerticalScrollDirection){HJ+=JX.cq+fF;}else{HJ+=JX.ag+eA;}});if(HJ&&dr!==IPCC.ViewMode.SinglePage){if(fe===IPCC.PageLayout.VerticalScrollDirection){ab.style.paddingBottom=HJ+'px';}else{ab.style.paddingRight=HJ+'px';}}Ai(dQ,true);kk(dQ,true);if(J.zl.Na(0).fN===ba.length){J.bH('allPagesAdded');}pq();}Je=[];},10);function QV(ax,G){if(G.imGearPage.get_pageNumber()===0){Ig(G.imGearPage);return;}Je.push(G.imGearPage);atz();};function Sm(ax,G){var cG=G.imGearPage.get_pageNumber();var Vo=G.imGearPage.bP.get_documentIdentifier();for(var bD=0;bD<ba.length;bD++){if(ba[bD].eT.get_pageNumber()===cG&&ba[bD].eT.bP.get_documentIdentifier()===Vo){var aH=document.getElementById(ba[bD].aO);if(aH){ab.removeChild(aH);if(aH.aB){aH.aB.dispose();var lc=IPCC.V.filter(dQ,function(el){return el.be===ba[bD].cG+1;});EY(lc);}}ba.splice(bD,1);}}};function aay(iU){if(!IPCC.V.contains(ba,iU)){var bj=new IPCC.bj({page:iU});if(pV){bj.ha=pV;}if(!bj.bP){bj.bP=iU.bP;}ba.push(bj);IPCC.Pagecounter++;ba=ba.sort(function(dK,fI){return dK.cG-fI.cG;});avh(iU);atU(iU);alG(iU);bj.aCH=false;bj.AC=false;atp(bj);anL(bj);Xb(bj);alY(bj);amt(bj);auB(bj);anH(bj);aqo(bj);apF(bj);apX(bj);return bj;}};function Ig(ap,Nr){var PV=ap.get_pageNumber();var dB=J.mJ();var gT=null;var Zf;var cj=J.get_documents().get_length();for(var aw=0;aw<cj;aw++){gT=J.get_documents().getDocument(aw);if(gT!==null){Zf=gT.Nn;if(Zf===ap.bP.Nn){break;}}}var gf=IPCC.V.find(ba,function(bj){return bj.eT&&bj.eT===ap;});if(!gf){gf=aay(ap);}gf.Kp=true;var afw=gf.aO;if(gf.Ko===1){return document.getElementById(afw);}gf.Ko=1;if(ab===''){acY();}var lz=(function(){var aS;if(dr!==IPCC.ViewMode.SinglePage){aS=gP({overflow:'hidden',position:'relative'});}else{aS=gP({overflow:'hidden',position:'absolute',margin:'0px'});if(gf.cG>cL){J.kx(aS,'pccNextPage');}else if(gf.cG<cL){J.kx(aS,'pccPreviousPage');}else{J.kx(aS,'pccCurrentPage');}}qK.push(ap.cG);J.kx(aS,'pccPageListItem');alI(aS);var Dk=VQ(gf);aS.style.width=Dk.ag+'px';aS.style.height=Dk.cq+'px';var cw=iP();var Pe;if(fe===IPCC.PageLayout.VerticalScrollDirection||dr===IPCC.ViewMode.SinglePage){aS.style.display='block';if(gl>0){aS.style.margin=fF+'px auto '+iI+'px auto';}if(cw.cV.length>0&&dr!==IPCC.ViewMode.SinglePage){Pe=cw.cV[0];if(PV<Pe.aM){var auK=IPCC.V.MD(ab,'padding-top');var atr=IPCC.V.Ml(auK);var Ww=atr-Dk.cq-fF;if(Ww<0){Ww=0;}ab.style.paddingTop=Ww+'px';}else{var atQ=IPCC.V.MD(ab,'padding-bottom');var aue=IPCC.V.Ml(atQ);var UC=aue-Dk.cq-fF;if(UC<0){UC=0;}ab.style.paddingBottom=UC+'px';}}}else{aS.style.display='inline-block';if(gl>0){aS.style.margin=fF+'px '+eA+'px '+iI+'px '+gR+'px';}if(cw.cV.length>0&&dr!==IPCC.ViewMode.SinglePage){Pe=cw.cV[0];if(PV<Pe.aM){var auT=IPCC.V.MD(ab,'padding-left');var auh=IPCC.V.Ml(auT);var VA=auh-Dk.ag-eA;if(VA<0){VA=0;}ab.style.paddingLeft=VA+'px';}else{var atL=IPCC.V.MD(ab,'padding-right');var auO=IPCC.V.Ml(atL);var Vd=auO-Dk.ag-eA;if(Vd<0){Vd=0;}ab.style.paddingRight=Vd+'px';}}}aS.setAttribute('id',afw);return aS;}());gf.eT=gf.eT||ap;gf.anh=gf.anh||Zf;gf.ha=gf.ha!==undefined?gf.ha:pV;gf.fR=false;function aCJ(ed){var Ss=ed.childNodes;var aCQ=IPCC.V.find(ba,function(bj){if(bj.cG<=PV){return;}var iV=IPCC.V.find(Ss,function(iV){return iV.id&&iV.id===bj.aO;});if(!iV){return;}if(bj.cG>PV){iV.parentElement.insertBefore(lz,iV);return true;}});if(!aCQ){ed.appendChild(lz);}}(function aGG(){if(ba.length===1){ab.appendChild(lz);}else{return aCJ(Nr||ab);}}());var aGc=false;if(lz&&dB.clientWidth>0){var asp=dB.clientWidth/(lz.clientWidth+(lz.clientLeft*2));var aEH=dB.clientHeight/(lz.clientHeight+(lz.clientTop*2));if(ba.length<(asp*aEH)){aGc=true;}}if(ba.length<2){var bN=new IPCC.Web.UI.PageView(lz,false,ae);if(bN){bN.set_autoUpdate(false);bN.wP(lz);bN.initialize();bN.set_imageHandlerUrl(ap.bP.sf);bN.set_imGearPage(gf.eT);bN.set_artPage(gf.bk);bN.set_documentArtPage(gf.eR);bN.set_requireRequestsOptimize(wT);if(jR!==undefined){bN.set_serviceResponseTimeout(jR);}bN.set_scrollBars(IPCC.Web.UI.ScrollBars.None);bN.set_textRequired(sP);bN.set_markHandleMode(rW);bN.set_debug(_debug);bN.set_gamma(pL);bN.set_sharpening(sB);bN.set_svgLineWidthMultiplier(mU);bN.set_debugErrorLevel(op);bN.np(J.hS());if(rh){bN.set_resourcePath(rh);}if(hT){bN.FU(hT());}else{bN.set_mouseTool(IPCC.Web.UI.MouseTool.None);}bN.qU(J.nY());bN.LM(au===IPCC.Web.UI.MouseTool.HandPan||au===IPCC.Web.UI.MouseTool.EditMarks);}VE(bN,gf);Wc(bN);WD(bN);VK(bN);XN(bN);bN.openPage({encodedDocumentIdentifier:ap.bP.get_encodedDocumentIdentifier(),pageNumber:ap.get_pageNumber(),artServiceOption:0,imGearPage:gf.eT,artPage:gf.bk,documentArtPage:gf.eR,viewRotationDegreesClockwise:gf.ha});gf.xr=true;ks++;}return lz;};function adz(bj){return bj.Kp;};function pq(){if(ks>0||lC===false||jy!==null){return;}if(zs){return;}var cw=iP();if(!cw){return;}ba.forEach(function(ap,aM){if(!ap.fR){return;}J.Gl(aM);});var Al=apE(cw);IPCC.V.forEach(Al||[],function(aM){var ap=ba[aM];if(ap){aal(ap);}});IPCC.V.forEach(cw.cV,function(JX){var bj=ba[JX.aM];if(adz(bj)&& !bj.fR&&bj.Ko){Op(bj);}});var mX=PQ(cw);for(var aM=mX.kq;aM<=mX.ij;aM++){var bj=ba[aM];if(!adz(bj)){bj.Kp=true;var XO=J.abq();var gT=XO.Na(0);var iU=gT.cX.jE(aM);Ig(iU);ads(bj,false);}}atM();};function apE(cw){var aCq=ri(cw);var Al=[];IPCC.V.forEach(aCq,function(aM){var ap=ba[aM];if(ap&&ap.Ko===0){var XO=J.abq();var gT=XO.Na(0);var iU=gT.cX.jE(aM);Ig(iU);Al.push(aM);}});return Al;};function atM(){var uJ=ae.scrollTop;var tI=ae.scrollLeft;var vJ=ae.clientHeight;var uR=ae.clientWidth;var tO=ae.scrollWidth;var tW=ae.scrollHeight;var cw=Us({uJ:uJ,tI:tI,vJ:vJ,uR:uR,tO:tO,tW:tW});var mX=PQ(cw);var ang=aqY(cw);var nr=0;var qD=0;var EZ=false;IPCC.V.forEach(cw.JQ,function(bK){var hB=fe===IPCC.PageLayout.VerticalScrollDirection?bK.cq+fF:bK.ag+eA+gR;var aM= +bK.aM;if(bK.wQ||(dr===IPCC.ViewMode.SinglePage&&aM===cL)){EZ=true;return;}if(aM>=mX.kq&&aM<=mX.ij){if(aM>=ang.kq&&aM<=ang.ij){return;}if(EZ){if(EV(aM,true)> -1){qD+=hB;}}else{if(EV(aM,true)> -1){nr+=hB;}}return;}if(EZ){qD+=hB;EV(aM);}else{nr+=hB;EV(aM);}});if(dr===IPCC.ViewMode.SinglePage){return;}if(fe===IPCC.PageLayout.VerticalScrollDirection){ab.style.paddingTop=nr+'px';ab.style.paddingBottom=qD+'px';}else{ab.style.paddingLeft=nr+'px';ab.style.paddingRight=qD+'px';}};function EV(bD,azF){var ap=ba[bD];if(!ap){return-1;}var cG=ap.cG;if(azF===true&& !ap.fR){return-1;}ap.AC=false;ap.xr=false;ap.fR=false;ap.Ko=0;ap.Kp=false;if(OM&& !ap.eT.bY().ape()&&Mw!==true){ap.eT.amq();}var Ay=document.getElementById(ap.aO);if(!Ay){return-1;}if(Ay.aB){Ay.aB.dispose();var lc=IPCC.V.filter(dQ,function(el){return el.be===cG+1;});EY(lc);Ay.parentElement.removeChild(Ay);return bD;}else{Ay.parentElement.removeChild(Ay);}return-1;};function Op(bj){var aS=document.getElementById(bj.aO);J.wR(aS,bj.cG);};function aal(bj){ads(bj,true);Op(bj);};function ads(ap,awH){var aS=document.getElementById(ap.aO);if(aS===null){return;}var bN=new IPCC.Web.UI.PageView(aS,false,ae);bN.set_autoUpdate(false);bN.wP(document.getElementById(ap.aO));bN.initialize();bN.set_imageHandlerUrl(ap.bP.sf);bN.set_imGearPage(ap.eT);bN.set_artPage(ap.bk);bN.set_requireRequestsOptimize(wT);if(jR!==undefined){bN.set_serviceResponseTimeout(jR);}bN.set_scrollBars(IPCC.Web.UI.ScrollBars.None);bN.set_textRequired(sP);bN.set_markHandleMode(rW);bN.set_debug(_debug);bN.set_gamma(pL);bN.set_sharpening(sB);bN.set_svgLineWidthMultiplier(mU);bN.set_debugErrorLevel(op);bN.np(J.hS());if(rh){bN.set_resourcePath(rh);}if(hT){bN.FU(hT());}else{bN.set_mouseTool(IPCC.Web.UI.MouseTool.None);}bN.qU(J.nY());bN.LM(au===IPCC.Web.UI.MouseTool.HandPan||au===IPCC.Web.UI.MouseTool.EditMarks);VE(bN,ap);Wc(bN);WD(bN);VK(bN);XN(bN);if(awH===true){bN.add_pageOpened(function aHM(by){J.wR(aS,ap.cG);});}if(ap.AC===false&&ap.eT){ap.Kp=true;var zi={encodedDocumentIdentifier:ap.eT.bP.get_encodedDocumentIdentifier(),pageNumber:ap.eT.get_pageNumber(),imGearPage:ap.eT,viewRotationDegreesClockwise:ap.ha};if(ap.bk){zi.artPage=ap.bk;}if(ap.eR){zi.documentArtPage=ap.eR;}bN.openPage(zi);ap.xr=true;ks++;}};function alP(bk,gY){var aL;bk.forEachMark(function(T){switch(T.get_type()){case IPCC.Web.UI.MarkType.Line:var bF=T.get_points();var bS=bF.Am(0);var kH=bF.Am(1);bF.setPoint(0,new IPCC.Web.UI.Point(bS.x*gY,bS.y*gY));bF.setPoint(1,new IPCC.Web.UI.Point(kH.x*gY,kH.y*gY));break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.TextSelectionRedaction:aL=T.get_rectangle();T.set_rectangle({x:aL.x*gY,y:aL.y*gY,width:aL.width*gY,height:aL.height*gY});break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.Strikethrough:aL=T.get_rectangle();T.set_rectangle({x:aL.x*gY,y:aL.y*gY,width:aL.width*gY,height:aL.height*gY});var bE=T.bE,gO;for(var i=0;i<bE.length;i++){gO=bE[i];gO.x=gO.x*gY;gO.y=gO.y*gY;gO.width=gO.width*gY;gO.height=gO.height*gY;}break;default:break;}});};function VE(bN,ap){function axz(sender,evnt){var adb=function(ag,cq,be){var TQ={'width':ag,'height':cq,'pageNumber':be};J.bH('pageOpening',TQ);};var cG=evnt.pageNumber;var Vo=evnt.documentIdentifier;ap.bf=bN.get_pageWidth();ap.aY=bN.get_pageHeight();var hC=bN.get_pageXResolution();var fO=bN.get_pageYResolution();if(!isNaN(parseFloat(hC))&&isFinite(hC)){ap.gs=hC;}if(!isNaN(parseFloat(fO))&&isFinite(fO)){ap.gH=fO;}bN=null;for(var bD=0;bD<ba.length;bD++){if(lC&&ba[bD].eT.get_pageNumber()===cG&&ba[bD].eT.bP.get_documentIdentifier()===Vo){ba[bD].xr=false;ba[bD].AC=true;ba[bD].Dc=false;if(dr===IPCC.ViewMode.SinglePage){var mf= -1;if(Array.prototype.indexOf){mf=qK.indexOf(bD);}else{mf=IPCC.Web.kA(qK,bD);}if(mf!== -1){qK.splice(mf,1);}}var ahH=false;for(var aw=0;aw<Qm.length;aw++){if(Qm[aw]===bD){ahH=true;}}if(ahH===false){Qm.push(bD);}var ko=0;var kv=0;var aH=document.getElementById(ba[bD].aO);var aK=aH.aB;var fr;var fj;var Vc;if(gl===0&&(bD===0||ba[0].Dc===true)){if(aH.currentStyle){oT=parseInt(aH.currentStyle.borderTopWidth,10)||0;fF=parseInt(aH.currentStyle.marginTop,10)||0;lD=parseInt(aH.currentStyle.borderLeftWidth,10)||0;eA=parseInt(aH.currentStyle.marginLeft,10)||0;pB=parseInt(aH.currentStyle.borderBottomWidth,10)||0;iI=parseInt(aH.currentStyle.marginBottom,10)||0;pl=parseInt(aH.currentStyle.borderRightWidth,10)||0;gR=parseInt(aH.currentStyle.marginRight,10)||0;}else if(document.defaultView&&document.defaultView.getComputedStyle){var vz=document.defaultView.getComputedStyle(aH);oT=parseInt(vz.borderTopWidth,10)||0;fF=parseInt(vz.marginTop,10)||0;lD=parseInt(vz.borderLeftWidth,10)||0;eA=parseInt(vz.marginLeft,10)||0;pB=parseInt(vz.borderBottomWidth,10)||0;iI=parseInt(vz.marginBottom,10)||0;pl=parseInt(vz.borderRightWidth,10)||0;gR=parseInt(vz.marginRight,10)||0;}if(dr===IPCC.ViewMode.SinglePage){aH.style.margin=fF+'px 0px '+iI+'px 0px';ab.style.margin="0px auto";}else{if(fe===IPCC.PageLayout.VerticalScrollDirection){aH.style.margin=fF+'px auto '+iI+'px auto';}else{aH.style.margin=fF+'px '+gR+'px '+iI+'px '+eA+'px';ab.style.margin='0px '+gR+'px 0px '+eA+'px';}}gl=aK.get_pageWidth();hK=aK.get_pageHeight();agT=hC;fr=gl;fj=hK;var fb=dz/ba[bD].gs;if(ie(ba[bD].ha)===true){fj=gl;fr=hK;fb=dz/ba[bD].gH;}if(dr===IPCC.ViewMode.SinglePage){var asF=(ae.offsetWidth-(eA+gR+lD+pl));var asB=(ae.offsetHeight-(fF+iI+oT+pB+aug));oE=asF/(fr*fb);Vc=asB/(fj*fb);if(Vc<oE){oE=Vc;}aK.zoom(oE*fb);}else if(fe===IPCC.PageLayout.VerticalScrollDirection){oE=(ae.offsetWidth-IPCC.Web.oV()-(eA+gR+lD+pl))/(fr*fb);aK.zoom(oE*fb);}else{oE=(ae.offsetHeight-IPCC.Web.oV()-(fF+iI+oT+pB))/(fj*fb);aK.zoom(oE*fb);}ko=fr*oE*fb;kv=fj*oE*fb;aH.style.width=ko+'px';aH.style.height=kv+'px';if(dr===IPCC.ViewMode.SinglePage){ab.style.width=ko+'px';ab.style.height=kv+'px';}if(dr!==IPCC.ViewMode.SinglePage){for(var sn=0;sn<ba.length;sn++){if(ba[sn].fR===false&&sn!==bD){if(ba[sn].aO){aH=document.getElementById(ba[sn].aO);aH.style.width=fr*oE+'px';aH.style.height=fj*oE+'px';if(fe===IPCC.PageLayout.VerticalScrollDirection){aH.style.margin=fF+'px auto '+iI+'px auto';}else{aH.style.margin=fF+'px '+gR+'px '+iI+'px '+eA+'px';}}}}}cN=oE;adb(ap.bf,ap.aY,cG+1);aH.aB.display();}else{if(dr===IPCC.ViewMode.Document||dr===IPCC.ViewMode.SinglePage){if(ie(ba[bD].ha)===true){ko=aK.get_pageHeight()*cN*dz/ba[bD].gs;kv=aK.get_pageWidth()*cN*dz/ba[bD].gH;}else{ko=aK.get_pageWidth()*cN*dz/ba[bD].gs;kv=aK.get_pageHeight()*cN*dz/ba[bD].gH;}}else{var fU;var bf=aK.get_pageWidth();var aY=aK.get_pageHeight();fr=gl;fj=hK;if(ie(pV)===true){fr=hK;fj=gl;}if(ie(ba[bD].ha)===true){bf=aK.get_pageHeight();aY=aK.get_pageWidth();}if(fe===IPCC.PageLayout.VerticalScrollDirection){fU=fr/bf*cN*dz/ba[0].gH;ko=fr*cN*dz/ba[0].gs;kv=aY*fU;}else{fU=fj/aY*cN*dz/ba[0].gs;kv=fj*cN*dz/ba[0].gH;ko=bf*fU;}}if(ko!==Math.round(ko)){ko=Math.floor(ko*100)/100;}if(kv!==Math.round(kv)){kv=Math.floor(kv*100)/100;}if(aH.style.width!==ko+'px'||aH.style.height!==kv+'px'){if(fe===IPCC.PageLayout.VerticalScrollDirection){aH.style.width=ko+'px';aH.style.height=kv+'px';}else{aH.style.width=ko+'px';aH.style.height=kv+'px';}Ai(dQ,true);kk(dQ,true);}adb(ap.bf,ap.aY,cG+1);}if(ko>fV){fV=ko;if(fe===IPCC.PageLayout.VerticalScrollDirection){ae.scrollLeft=(fV-ae.clientWidth)/2;}}if(kv>hs){hs=kv;if(fe===IPCC.PageLayout.HorizontalScrollDirection){ae.scrollTop=(hs-ae.clientHeight)/2;}}if(ba[bD].CA>0){var Xj=document.getElementById(ba[bD].aO).aB;if(Xj){Xj.rotate(ba[bD].CA);Xj.display();ba[bD].CA=0;}}if(ks>0){ks=ks-1;}if(ba[bD].aiP()===true){var iU=ba[bD].eT;var gY=ba[bD].kr()/iU.akM();if(gY!==1){var bk=J.gN(iU);if(bk){alP(bk,gY);}}}ba[bD].YN(false);iP();var Ib=new IPCC.OpenPageEventArgs();Ib.pageIndex=evnt.pageNumber;Ib.imGearPage=evnt.imGearPage;Ib.viewRotationDegreesClockwise=evnt.viewRotationDegreesClockwise;Ib.pageNodeID=ba[bD].aO;J.bH('pageOpened',Ib);break;}}if(ks===0&&nt===null&&jy===null){setTimeout(function(){pq();},60);}};bN.add_pageOpened(axz);};function Wc(bN){function ayU(ax,ao){if(lC===false){return;}var yu;if(ao.pageNumber>=0){if(ba[ao.pageNumber].aO){yu=ba[ao.pageNumber].aO;}}ba[ao.pageNumber].Dc=true;ba[ao.pageNumber].xr=false;ba[ao.pageNumber].AC=false;ba[ao.pageNumber].fR=false;var nH=new IPCC.ExceptionEventArgs();nH.exception=ao.exception;nH.pageIndex=ao.pageNumber;nH.pageNodeID=yu;J.bH('pageOpenFailed',nH);if(ks>0){ks=ks-1;if(ks===0){setTimeout(function(){pq();},60);}}};bN.add_pageOpenFailed(ayU);};function WD(bN){function ayP(ax,ao){if(lC===false){return;}var G=new IPCC.PageEventArgs();G.pageIndex=ao.be;G.imGearPage=ba[ao.be].eT;G.pageNodeID=ba[ao.be].aO;ba[ao.be].fR=true;if(dr===IPCC.ViewMode.SinglePage){var mf= -1;if(Array.prototype.indexOf){mf=qK.indexOf(ao.be);}else{mf=IPCC.Web.kA(qK,ao.be);}if(mf!== -1){qK.splice(mf,1);}}J.bH('pageDisplayed',G);setTimeout(function(){var lc=IPCC.V.filter(dQ,function(el){if(dr===IPCC.ViewMode.SinglePage){return ao.be===el.be-1&&el.be-1===cL;}else{return ao.be===el.be-1;}});Ai(lc);kk(lc);},0);};bN.add_pageDisplayed(ayP);};function atU(ap){function Ja(ax,ao){if(lC===false){return;}J.bH('textPageReady',{pageIndex:ao.pageNumber,containsText:ao.containsText});var cw=iP();var cS=[];if(cw){cS=ri(cw);}if(ao.containsText===true&&ao.pageNumber>=cS[0]&&ao.pageNumber<=cS[cS.length-1]){if(ba[ao.pageNumber].bk&&ba[ao.pageNumber].bk.get_markCount()>0){var aH=document.getElementById(ba[ao.pageNumber].aO);J.wR(aH,ao.pageNumber);}}};ap.yO(Ja);};function alG(ap){function ayJ(ax,ao){if(lC===false){return;}var eR=ba[ao.pageNumber].eR;ap.ajQ().Iq().lj(function(ii){var T=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.DocumentHyperlink),aL=ii.ca();T.set_rectangle(new IPCC.Web.UI.Rectangle(aL.x,aL.y,aL.width,aL.height));T.set_href(ii.akR());T.set_lineColor(ii.auu());T.set_lineWidth(ii.atE());T.set_borderPattern(ii.atm());T.set_borderType(ii.atR());T.set_borderHorizontalRadius(ii.arF());T.set_borderVerticalRadius(ii.atP());T.set_borderOpacity(ii.atC());eR.addMark(T);ii.aCu(T);});J.bH('hyperlinkPageReady',{pageIndex:ao.pageNumber});var cw=iP();var cS=[];if(cw){cS=ri(cw);}if(ao.pageNumber>=cS[0]&&ao.pageNumber<=cS[cS.length-1]){var aH=document.getElementById(ba[ao.pageNumber].aO);J.wR(aH,ao.pageNumber);}};ap.RM(ayJ);};function avh(ap){function GX(ax,ao){if(lC===false){return;}var yu;if(ao.pageNumber>=0){if(ba[ao.pageNumber].aO){yu=ba[ao.pageNumber].aO;}}J.bH('textExtractionFailed',{'exception':ao.exception,'pageIndex':ao.pageNumber,'pageNodeID':yu});};ap.yj(GX);};function VK(bN){function aDb(ax,ao){if(lC===false){return;}var yu;if(isNaN(ao.pageNumber)===false){if(ao.pageNumber>=0){if(ba[ao.pageNumber].aO){yu=ba[ao.pageNumber].aO;}}ba[ao.pageNumber].Dc=true;ba[ao.pageNumber].xr=false;ba[ao.pageNumber].AC=false;ba[ao.pageNumber].fR=false;}var nH=new IPCC.ExceptionEventArgs();nH.functionName=ao.function_name;nH.exception=ao.exception;nH.pageIndex=ao.pageNumber;nH.pageNodeID=yu;J.bH('exceptionThrown',nH);if(ks>0){ks=ks-1;if(ks===0){setTimeout(function(){pq();},60);}}};bN.add_exceptionThrown(aDb);};function XN(bN){function Hj(ax,ao){J.bH('markCreating',ao);};bN.add_markCreating(Hj);};function atp(bj){function abR(){if(lC===false){return;}var cw=iP();var cS=[];if(cw){cS=ri(cw);}if(bj.cG>=cS[0]&&bj.cG<=cS[cS.length-1]){var aH=document.getElementById(bj.aO);J.wR(aH,bj.cG);}var G=new IPCC.Web.UI.MarkEventArgs();G.pageIndex=bj.cG;J.bH('marksLoaded',G);};bj.bk.add_marksLoaded(abR);};function anL(bj){function iC(ax,ao){var G=new IPCC.Web.UI.MarkEventArgs();G.pageIndex=bj.cG;G.mark=ao.mark;G.zIndex=ao.zIndex;G.clientX=ao.clientX;G.clientY=ao.clientY;J.bH('markAdded',G);};bj.bk.add_markAdded(iC);};function Xb(bj){var aad,pu=false,WT,Wr;function Fo(R,ee){if(sy===false){return;}var ku=yl();aml(R,ee,ku);kk(dQ,true,ku);};function aAP(R,ee){WT=R;Wr=ee;if(pu&& !aad){aad=IZ(function(){pu=false;aad=undefined;if(WT&&Wr){Fo(WT,Wr);}else{Fo(R,ee);}});}};function lJ(ax,ao){if(ao.mark.xk===true){return;}var G=new IPCC.Web.UI.MarkEventArgs();G.pageIndex=bj.cG;G.mark=ao.mark;G.zIndex=ao.zIndex;G.propertyName=ao.propertyName;J.bH('markChanged',G);var ee=dQ[ao.mark.get_markID()];if(ee&&(ao.propertyName==='rectangle'||ao.propertyName==='points'||ao.propertyName==='startPoint'||ao.propertyName==='endPoint')){pu=true;aAP(ao.mark,ee);}else if(ee&&ao.propertyName==='visible'){var aGm=ao.mark.get_visible();var ZK=(function(dk){return IPCC.V.inArray(OY(),dk.be-1);})(ee);if(aGm&&ZK){Md([ee]);kk(dQ,true,yl());}else{EY([ee]);}}};bj.bk.add_markChanged(lJ);};function alY(bj){function abb(ax,ao){var G=new IPCC.Web.UI.MarkEventArgs();G.pageIndex=bj.cG;G.mark=ao.mark;G.zIndex=ao.zIndex;G.oldZIndex=ao.oldZIndex;J.bH('markReordered',G);};bj.bk.add_markReordered(abb);};function amt(bj){function Es(ax,ao){if(ao.mark.xk===true){return;}var G=new IPCC.Web.UI.MarkEventArgs();G.pageIndex=bj.cG;G.mark=ao.mark;G.zIndex=ao.zIndex;J.bH('markSelectionChanged',G);};bj.bk.add_markSelectionChanged(Es);};function anH(bj){function El(ax,ao){if(ao.mark){var G=new IPCC.Web.UI.MarkEventArgs();G.pageIndex=bj.cG;G.mark=ao.mark;G.zIndex=ao.zIndex;J.bH('markRemoved',G);var ee=dQ[ao.mark.get_markID()];if(ee){if(ao.mark.get_conversation()===hV){hV=null;}ee.ck.parentElement.removeChild(ee.ck);delete dQ[ao.mark.get_markID()];kk(dQ,true);}}};bj.bk.add_markRemoved(El);};function auB(bj){function Aa(ax,ao){var G=new IPCC.Web.UI.MarkEventArgs();G.pageIndex=bj.cG;G.mark=ao.mark;G.zIndex=ao.zIndex;J.bH('markTextSelectionChanged',G);};bj.bk.add_markTextSelectionChanged(Aa);};function aml(R,ee,RK){var bj=ba[ee.be-1],ap=document.getElementById(bj.aO),EC=VU(R,bj.cG+1);if(ap.aB){var cn=ap.aB.transformPagePointToWindow(new IPCC.Web.UI.Point(EC.x,EC.y),true);var qI=(fF*bj.cG);var Kf=(ap.offsetTop-qI+cn.y)/(RK-(fF*ba.length));ee.aL=EC;ee.Sy=Kf;}};function EY(iK,be){var aFJ=typeof be==='undefined';IPCC.V.forEach(iK,function(bJ){if(bJ&&(aFJ||bJ.pageNumber===be)){bJ.ck.style.display='none';bJ.wQ=false;}});};function uK(){if(jS.currentStyle&&jS.currentStyle.display==='none'){return 0;}return jS.clientWidth;};function yl(){if(jS.currentStyle&&jS.currentStyle.display==='none'){return 0;}return jS.offsetHeight;};function Md(iK,be){var aEh=typeof be==='undefined';IPCC.V.forEach(iK,function(el){if(aEh||el.pageNumber===be){el.ck.style.display='';el.wQ=true;if(el&&el.T&&el.T.get_visible()===false){el.ck.style.display='none';el.wQ=false;}}});};function Ai(iK,SM){if(sy===false){return;}var MW=(! !SM)?IPCC.V.filter(dQ,function(dk){return IPCC.V.contains(OY(),dk.be-1);}):iK;var ku=yl();IPCC.V.forEach(MW,function(el){aml(el.T,el,ku);});};function axh(a,b){return(a.aL.y!==b.aL.y)?(a.aL.y-b.aL.y):(a.aL.x!==b.aL.x)?(a.aL.x-b.aL.x):(a.xL-b.xL);};function axQ(a,b){return(a.aL.x!==b.aL.x)?(a.aL.x-b.aL.x):(a.aL.y!==b.aL.y)?(b.aL.y-a.aL.y):(a.xL-b.xL);};function ayo(a,b){return(a.aL.y!==b.aL.y)?(b.aL.y-a.aL.y):(a.aL.x!==b.aL.x)?(b.aL.x-a.aL.x):(a.xL-b.xL);};function ayz(a,b){return(a.aL.x!==b.aL.x)?(b.aL.x-a.aL.x):(a.aL.y!==b.aL.y)?(a.aL.y-b.aL.y):(a.xL-b.xL);};function avZ(Wg,ku,zv){zv=zv||0;var _top,ajB,If,Ud=(fF*ba.length),WA=ku-Ud;IPCC.V.forEach(Wg,function(dk){If=(fF*(dk.be-1));ajB=(dk.Sy*WA)+If;_top=Math.max(zv+5,ajB);if(dk.ck.style.top!==_top+'px'){dk.ck.style.top=_top+'px';}zv=_top+dk.Xc;});};function azI(Wg,ku){var Nd,_top,Lh,If,aly,Ud=(fF*ba.length),WA=ku-Ud;IPCC.V.forEach(Wg,function(dk){If=(fF*(dk.be-1));Lh=(dk.Sy*WA)+If;if(Nd===undefined){Nd=Lh;}if(dk.T.get_conversation()===hV){_top=Lh;aly=_top+dk.Xc;}else{_top=Math.min(Nd-5-dk.Xc,Lh);}if(dk.ck.style.top!==_top+'px'){dk.ck.style.top=_top+'px';}Nd=_top;});return aly;};function kk(iK,SM,ku){if(sy===false){return;}if(!ku){ku=yl();}var aqP=function(a,b){if(a.be!==b.be){return(a.be-b.be);}var ap=ba[a.be-1],eQ=ap.ha;switch(eQ){case 90:return axQ(a,b);case 180:return ayo(a,b);case 270:return ayz(a,b);default:return axh(a,b);}};var MW=(! !SM)?IPCC.V.filter(dQ,function(dk){return IPCC.V.inArray(OY(),dk.be-1);}):iK;Md(MW);var asl=IPCC.V.map(MW,function(dk,aG){dk.Xc=dk.ck.offsetHeight;return dk;});var Wf=asl.sort(aqP);var Oa=[],XZ=[],ZS=false;if(hV){var aBI=dQ[hV.get_mark().get_markID()];if(!IPCC.V.inArray(Wf,aBI)){ZS=true;}IPCC.V.forEach(Wf,function(dk){if(ZS){XZ.push(dk);}else if(dk.T.get_conversation()===hV){Oa.unshift(dk);ZS=true;}else{Oa.unshift(dk);}});}else{XZ=Wf;}var zv=0;if(Oa.length){zv=azI(Oa,ku);}avZ(XZ,ku,zv);};function axX(iK,R,cG){var dk=iK[R.jJ()];dk.be=cG;dk.T=R;dk.aL=VU(R,cG);dk.xL=R.ep().oc(R);};function FS(R,iK,kD){var ee=iK[R.get_markID()];if(ee){ee.ck.parentElement.replaceChild(kD,ee.ck);ee.ck=kD;}return ee;};function apD(R,iK,kD,aAg,aEV,Kf,cG){var ee=new aoM();ee.ck=kD;dQ[R.get_markID()]=ee;axX(dQ,R,cG);ee.Sy=Kf;aAg.appendChild(kD);return ee;};function VU(R,be){var aL=(R.get_boundingRectangle)?R.get_boundingRectangle():{},eQ=ba[be-1].ha;switch(eQ){case 90:return{x:aL.x,y:aL.y+(aL.height||0)};case 180:return{x:aL.x+(aL.width||0),y:aL.y+(aL.height||0)};case 270:return{x:aL.x+(aL.width||0),y:aL.y};default:return{x:aL.x,y:aL.y};}};function aqo(bj){function Od(ax,ao){var G=new IPCC.Web.UI.CommentEventArgs();G.pageIndex=bj.cG;G.mark=ao.mark;G.index=ao.index;G.comment=ao.comment;var ap=document.getElementById(bj.aO);J.bH('commentAdding',G);setTimeout(function(){var RK=yl(),ee,ck;if(ao.index===0){ck=mn(ao.mark,{isSelected:false},null);if(!ck){return;}else if(!IPCC.V.wx(ck)){throw new Error(ck+' is not a valid HTMLElement');}var EC=VU(ao.mark,bj.cG+1),axn=EC.x,azD=EC.y;var cn;if(ap&&ap.aB){cn=ap.aB.transformPagePointToWindow(new IPCC.Web.UI.Point(axn,azD),true);}else{cn=new IPCC.Web.UI.Point(0,0);}var qI=(fF*(bj.cG));var Kf=(afV(bj.cG)-qI+cn.y)/(RK-(fF*ba.length));ee=apD(ao.mark,dQ,ck,jS,cn,Kf,bj.cG+1);}else{var Gr=ao.mark.get_conversation()===hV;var currentConversationDiv=dQ[ao.mark.get_markID()];if(!currentConversationDiv){return;}ck=mn(ao.mark,{isSelected:Gr},currentConversationDiv.ck);if(!ck){return;}else if(!IPCC.V.wx(ck)){throw new Error(ck+' is not a valid HTMLElement');}ee=FS(ao.mark,dQ,ck);}if(IPCC.V.contains(OY(),bj.cG)){kk(dQ,true,RK);}else{EY([ee]);}J.bH('commentAdded',G);},0);};bj.bk.add_commentAdded(Od);};function apF(bj){function Ld(ax,ao){var ck=null;if(dQ[ao.mark.get_markID()]){ck=dQ[ao.mark.get_markID()].ck;var Gr=ao.mark.get_conversation()===hV;ck=mn(ao.mark,{isSelected:Gr},ck);}if(!ck){J.bH('commentChanged',ao);return;}else if(!IPCC.V.wx(ck)){throw new Error(ck+' is not a valid HTMLElement');}if(ck){var ku=yl();FS(ao.mark,dQ,ck);kk(dQ,true,ku);}J.bH('commentChanged',ao);};bj.bk.add_commentChanged(Ld);};function apX(bj){function KN(ax,ao){var ck=null;if(dQ[ao.mark.get_markID()]){ck=dQ[ao.mark.get_markID()].ck;}var Gr=ao.mark.get_conversation()===hV;ck=mn(ao.mark,{isSelected:Gr},ck);if(IPCC.V.wx(ck)){FS(ao.mark,dQ,ck);}else{var ee=dQ[ao.mark.get_markID()];if(ee){if(ao.mark.get_conversation()===hV){hV=null;}ee.ck.parentElement.removeChild(ee.ck);delete dQ[ao.mark.get_markID()];}}kk(dQ,true);J.bH('commentRemoved',ao);};bj.bk.add_commentRemoved(KN);};function abn(){var cq=hK;var ag=gl;var aoy=function(jw){return{width:jw.width||(jw.right-jw.left),height:jw.height||(jw.bottom-jw.top),top:jw.top,bottom:jw.bottom,left:jw.left,right:jw.right};};var abI=aoy(ae.getBoundingClientRect());var lE={height:abI.height/2};lE.width=lE.height*ag/cq;if(lE.width>ag/2){lE.width=ag/2;}if(lE.height>cq/2){lE.height=cq/2;}var XF=8;var ajc={height:cq*XF,width:ag*XF};var aBr=ag*cN<lE.width+5;var aBT=ag*cN>ajc.width-5;return{min:lE,max:ajc,page:{width:ag,height:cq},viewport:abI,atMin:aBr,atMax:aBT,maxFactor:XF,minFactor:lE.width/ag};};function iF(bb,VP){if(VP){aeV.apply(this,arguments);return;}var vh=(bb<cN)?true:false;var pb=abn();if((pb.atMin&&vh)||(pb.atMax&& !vh)){return;}if(bb>pb.maxFactor){bb=pb.maxFactor;}else if(bb<pb.minFactor){bb=pb.minFactor;}if(!pb.atMax|| !pb.atMin){aeV.apply(this,arguments);}};function aeV(bb,aIc,aT,dI,DN,qT,eV,dZ){if(isNaN(bb)||bb<=0||Math.abs(bb)===Infinity){return;}var Vl=cL;var cw=iP();var vh=(bb<cN)?true:false;var hh=0;var fT=ba.length-1;if(dr===IPCC.ViewMode.SinglePage){if(cL-xc>=0){hh=cL-xc;}if(cL+xc<ba.length-1){fT=cL+xc;}}var QN=bb/cN;cN=bb;var DI=ae.getBoundingClientRect();var adf=(qT&&qT.x!==undefined)?qT.x:ae.scrollLeft+(DI.width/2);var adm=(qT&&qT.y!==undefined)?qT.y:ae.scrollTop+(DI.height/2);var aqW=qT&&qT.x!==undefined&&qT.y!==undefined;fV=0;hs=0;for(var bD=hh;bD<=fT;bD++){var aK;var aH=document.getElementById(ba[bD].aO);if(aH){aK=aH.aB;}else{continue;}if(bD===Vl){var RS=aH.getBoundingClientRect();if(!aqW){if(fe===IPCC.PageLayout.HorizontalScrollDirection&&DI.height>RS.height){adm-=((DI.height-RS.height)/2);}else if(fe===IPCC.PageLayout.VerticalScrollDirection&&DI.width>RS.width){adf-=((DI.width-RS.width)/2);}}}var gd=bb*dz/ba[bD].gs;var bf=gl;var aY=hK;var fr=gl;var fj=hK;if(ie(pV)===true){fr=hK;fj=gl;}if(ba[bD].kr()>0){if(ie(ba[bD].ha)===true){bf=ba[bD].qN();aY=ba[bD].kr();}else{bf=ba[bD].kr();aY=ba[bD].qN();}}else{gd=bb*dz/ba[0].gs;if(ie(ba[bD].ha)===true){var IJ=bf;bf=aY;aY=IJ;gd=bb*dz/ba[0].gH;}}var HG,Hg,fU;if(dr===IPCC.ViewMode.SinglePage){Hg=bf*gd;HG=aY*gd;aH.style.width=Hg+'px';aH.style.height=HG+'px';if(bD===cL){ab.style.width=Hg+'px';ab.style.height=HG+'px';}if(aK&&ba[bD].fR===true&&aK.fv()===true){aK.zoom(gd);}}else if(dr===IPCC.ViewMode.Document){Hg=bf*gd;HG=aY*gd;aH.style.width=Hg+'px';aH.style.height=HG+'px';if(aK&&ba[bD].fR===true&&aK.fv()===true){aK.zoom(gd);}if(bf*gd>fV){fV=bf*gd;}if(aY*gd>hs){hs=aY*gd;}}else{gd=bb*dz/ba[0].gs;if(fe===IPCC.PageLayout.VerticalScrollDirection){fU=fr/bf*gd;aH.style.width=fr*gd+'px';aH.style.height=aY*fU+'px';if(fr*gd>fV){fV=fr*gd;}if(aY*gd>hs){hs=aY*gd;}}else{fU=fj/aY*gd;aH.style.height=fj*gd+'px';aH.style.width=bf*fU+'px';if(bf*gd>fV){fV=bf*gd;}if(fj*gd>hs){hs=fj*gd;}}if(aK&&ba[bD].fR===true&&aK.fv()===true){aK.zoom(fU);}}if(aK&&ba[bD].fR===true&&aK.fv()===true){aK.display();if(IPCC.V.vj.zE){var aCg=ae.style.display;ae.style.display='none';ae.style.display=aCg;att();}}}if(fe===IPCC.PageLayout.VerticalScrollDirection){Oh=ae.scrollTop;}else{Oh=ae.scrollLeft;}var QM,RU,Le=0,LQ=0;if(DN){QM=DN.offsetLeft+QN*aT;RU=DN.offsetTop+QN*dI;ae.scrollLeft=QM-(ae.clientWidth/2)+Le;ae.scrollTop=RU-(ae.clientHeight/2)+LQ;axs(cw);}else{if(fe===IPCC.PageLayout.VerticalScrollDirection){LQ=fF*(Vl+1);}else{Le=gR+((eA+gR)*(Vl+1));}QM=QN*(adf-Le);RU=QN*(adm-LQ);afl(cw);ae.scrollLeft=QM-(ae.clientWidth/2)+Le;ae.scrollTop=RU-(ae.clientHeight/2)+LQ;}if(dr!==IPCC.ViewMode.SinglePage&&(eV===IPCC.ScaleTrigger.Pinch||vh===true)){pq();}kk(dQ,true);J.bH('scaleChanged',{scaleType:(vh)?"scaledDown":"scaledUp",scaleTrigger:eV,fitType:dZ,scaleFactor:cN});};function att(){var dummy=document.createElement('div');setTimeout(function(){ae.appendChild(dummy);ae.removeChild(dummy);},0);};function aeK(ay,eS,ej,fz){var gw=ay.igElements;fz=fz||Zi(ay);if(fz&&(fz.right-fz.left)>0&&(fz.bottom-fz.top)>0){return new IPCC.Web.UI.Point(eS+fz.left+gw.nm.scrollLeft,ej+fz.top+gw.nm.scrollTop);}else{return;}};function Zi(ay){var gw=ay.igElements;var fz=null;if(!ay|| !gw|| !gw.mz){return null;}if(gw.mz.getBoundingClientRect){try{fz=gw.mz.getBoundingClientRect();}catch(aF){return;}}else{var ed=gw.mz;var uS=document.documentElement;fz={left:uS.clientLeft-uS.scrollLeft,top:uS.clientTop-uS.scrollTop};ed=ed.offsetParent;while(ed){fz.top+=ed.offsetTop-ed.scrollTop;fz.left+=ed.offsetLeft-ed.scrollLeft;ed=ed.offsetParent;}}return fz;};function acY(){var dB=J.mJ();var JA=dB.id;var xN;var ys;var mt;var XV;var Xh;var bM=false;var ay;var ox=[];var wb= -1;var hq=0;var ph;var CI;var zj;var lv=0;var ct=0;var tj=null;var ve=null;if(ab===''){ae=gP({width:'100%',height:'100%',position:'relative',margin:'0px',overflow:'auto',textAlign:'center'});ae.className='pccPageListContainerWrapper';ae.tabIndex=2;var Wu=function(eS,ej){return IPCC.V.getPageFromPoint(eS,ej,ae)||false;};var Zm=function(ay,eS,ej){var gw=ay.igElements;var fz=Zi(ay);if(fz&&(fz.right-fz.left)>0&&(fz.bottom-fz.top)>0){return new IPCC.Web.UI.Point(eS-fz.left-gw.nm.scrollLeft,ej-fz.top-gw.nm.scrollTop);}else{return;}};var aBK=function(qM){qM.FU([new IPCC.lh(IPCC.Web.UI.MarkType.Text)]);};var aFy=function(qM){qM.set_mouseTool(IPCC.Web.UI.MouseTool.None);};var Nu=false,axt="";var alQ=function aFr(aF,ic,ap){if(ic.match(/edit/)){Nu=true;return;}aBK(ap.aB);Nu=true;axt=ic;ap.aB.GW("touchstart",aF);};var akj=function(ap){Nu=false;aFy(ap.aB);};var YP=function(aF){if(aF.target&&aF.target.attributes&&aF.target.getAttribute('data-pcc-mark')){return aF.target;}else if(aF.target.parentElement&&aF.target.parentElement.attributes&&aF.target.parentElement.getAttribute('data-pcc-mark')){return aF.target.parentElement;}else if(aF.target.parentNode&&aF.target.parentNode.attributes&&aF.target.parentNode.getAttribute('data-pcc-mark')){return aF.target.parentNode;}else{return undefined;}};var Yt=function(aF){var dR=YP(aF);if(dR){return dR.getAttribute('data-pcc-mark');}return undefined;};var akO=function(qM){if(qM&&qM.ep()){qM.ep().EU(function(T){T.set_selected(false);});qM.display();}};var Ll,XI=false;var Np=function(aF,G){var nf={dA:undefined,T:undefined,aP:null};var kg=YP(aF);if(kg){if(typeof ay!=='undefined'&&ay!==false&&ay.aB&&ay.igElements&&ay.aB.fv()===true){nf.aP=ay.aB.oZ();}if(kg.ImGearMarkRelation){nf.dA='mark';nf.T=kg.ImGearMarkRelation.T;nf.Zl=nf.T.get_selected();return nf;}else{while(!(kg.ImGearMarkRelation)&&kg.parentNode&&kg!==document.body){kg=kg.parentNode;if(kg.ImGearMarkRelation){nf.dA='mark';nf.T=kg.ImGearMarkRelation.T;nf.Zl=nf.T.get_selected();return nf;}}}}if(typeof ay!=='undefined'&&ay!==false&&ay.aB&&ay.igElements&&ay.aB.fv()===true){nf.aP=ay.aB.oZ();var aP=0;for(aP=0;aP<ba.length;aP++){if(ba[aP].aO===ay.id){if(typeof G.targetType==='undefined'||G.targetType===null){nf.dA='page';return nf;}break;}}}return nf;};var Mt=function(aP,rV,iw,axZ){if(bU===null||bU===undefined){return;}var WZ=false;if(rV===undefined){rV=bU.rV;WZ=true;}if(iw===undefined){iw=bU.iw;WZ=true;}var T;var ap=document.getElementById(ba[aP].aO);if(axZ===true){T=bU.xB;}else{T=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);T.set_rectangle({x:0,y:0,width:0,height:0});T.di=127;T.dJ='#3366CC';T.bE=null;ap.aB.mu().addMark(T);}T.set_selected(true);if(WZ===true){if(bU.hh===bU.fT){T.bL=hq;T.cr=iw-hq+1;T.ky=true;T.ll=true;ap.aB.display();}else if(aP===bU.hh){T.bL=hq;T.cr=ap.aB.bY().hc().eN()-1-rV;T.ky=true;T.ll=false;ap.aB.display();}else if(aP===bU.fT){T.bL=0;T.cr=iw+1;T.ky=false;T.ll=true;ap.aB.display();}else{T.bL=0;T.cr=ap.aB.bY().hc().eN()-1-hq;T.ky=false;T.ll=false;}}else{if(bU.hh===bU.fT){T.ky=true;T.ll=true;}else if(aP===bU.hh){T.ky=true;T.ll=false;}else if(aP===bU.fT){T.ky=false;T.ll=true;}else{T.ky=false;T.ll=false;}}bU.eE[aP]=T;};var ahL=function(dR,aT,dI,PP){if(dR){var MJ=dR.getBoundingClientRect();aT=IPCC.V.LO(aT,MJ.left+PP);aT=IPCC.V.LP(aT,MJ.right-PP);dI=IPCC.V.LO(dI,MJ.top+PP);dI=IPCC.V.LP(dI,MJ.bottom-PP);}return{x:aT,y:dI};};var kf=function(aF){if(zj){if(zj.clientX===aF.clientX&&zj.clientY===aF.clientY){if(aF.rawEvent.preventDefault){aF.rawEvent.preventDefault();}else if(aF.preventDefault){aF.preventDefault();}if(aF.rawEvent.stopPropagation){aF.rawEvent.stopPropagation();}else if(aF.stopPropagation){aF.stopPropagation();}XI=true;zj=undefined;return false;}}Ll=aF;aiG(aF,aF.clientX,aF.clientY,aF.button);};var ain=function(aF,G){mt=Np(aF,G);};var aiG=function(aF,eS,ej,oQ){var G=new IPCC.Web.UI.MouseEventArgs();ay=Wu(eS,ej);ain(aF,G);var ic;var kg=YP(aF);if(kg){ic=kg.getAttribute('data-pcc-mark');}var Re=false;var Ln=ic&&ic.substring(0,10);if(ic&&Ln==='texthandle'){CI=true;Re=true;Ln=ic.substring(10,13);var T=kg.parentNode.ImGearMarkRelation.T;if(bU&&T.bE===null){ox=bU.qp.slice();ox[G.pageIndex]=undefined;}else{bU=null;ox=[];J.uE();}var abL=function(awU){hq=bU.rV;var L;for(L=bU.fT;L>=bU.hh;L--){var ap=document.getElementById(ba[L].aO);if(ap.aB===undefined||ap.aB===null){continue;}var Ab=hq;if(L!==bU.hh){Ab=0;}var pI;if(L===bU.fT){pI=bU.iw;}else{pI=ap.aB.get_textPage().hc().eN()-1;}awU(ap,Ab,pI);if(L!==bU.pQ){Mt(L);}}tj=au;au=IPCC.Web.UI.MouseTool.SelectText;bM=true;};var L,aP,bk,KX,eU,tc,cu;if(Ln==='sta'){if(bU===null||bU===undefined){aP=T.aP;bU={};bU.eE=[];bU.hh=aP;bU.rV=T.bL;hq=T.bL;while(aP<ba.length){bk=ba[aP].bk;KX=bk.get_markCount();for(L=0;L<KX;L++){eU=bk.getMark(L);if(T.ac===eU.ac&&eU.get_type()===T.get_type()){bU.eE[aP]=eU;for(tc=eU.bE.length-1;tc>=0;tc--){if(eU.bE[tc].set_visible){eU.bE[tc].set_visible(false);}else{eU.set_visible(false);break;}}if(aP===T.aP){ve=eU;}else{ox[aP]=cu.substring(eU.bL,eU.cr);eU.set_selected(false);}cu=eU.cu.substring(eU.cr);if(eU.ll===true){bU.iw=eU.bL+eU.cr-1;bU.fT=aP;break;}}}aP++;}}ph=bU.iw+1;lv=bU.fT;var aBV=function(ap,Ab,pI){ap.aB.showEmptyTextSelection(pI+1);ap.aB.extendTextSelection(undefined);ap.aB.extendTextSelection(pI);ap.aB.extendTextSelection(Ab);};bU.eE[bU.hh].xk=true;bU.pQ=bU.hh;bU.xB=bU.eE[bU.hh];abL(aBV);}else if(Ln==='end'){if(bU===null||bU===undefined){aP=T.aP;bU={};bU.eE=[];bU.fT=aP;bU.iw=T.bL+T.cr-1;while(aP>=0){bk=ba[aP].bk;KX=bk.get_markCount();for(L=0;L<KX;L++){eU=bk.getMark(L);if(T.ac===eU.ac&&eU.get_type()===T.get_type()){bU.eE[aP]=eU;for(tc=eU.bE.length-1;tc>=0;tc--){if(eU.bE[tc].set_visible){eU.bE[tc].set_visible(false);}else{eU.set_visible(false);break;}}if(aP===T.aP){cu=eU.cu;}else{ox[aP]=cu.substring(cu.length-eU.cr);eU.set_selected(false);}cu=eU.cu.substring(0,cu.length-eU.cr);if(eU.ky===true){bU.rV=eU.bL;hq=eU.bL;bU.hh=aP;ve=eU;break;}}}aP--;}}ph=bU.rV;lv=bU.hh;var aAX=function(ap,Ab,pI){ap.aB.showEmptyTextSelection(Ab);ap.aB.extendTextSelection(undefined);ap.aB.extendTextSelection(Ab);ap.aB.extendTextSelection(pI);};bU.eE[bU.fT].xk=true;bU.pQ=bU.fT;bU.xB=bU.eE[bU.fT];abL(aAX);}if(ve){ay.aB.display();}}var As=aF.target.tagName&&aF.target.tagName.toLowerCase()==='textarea';if(As){return;}var za=aF.target.tagName&&aF.target.tagName.toLowerCase()==='input'&&aF.target.type&&aF.target.type.toLowerCase()==='text';if(za){return;}if(au===IPCC.Web.UI.MouseTool.HandPan&&Bm&&ic&&Re===false){if(!mt||mt.T.get_interactionMode()!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){alQ(aF,ic,ay);return;}}var db;var ft;if(ay!==false&&ay.aB&&ay.igElements&&ay.aB.fv()===true){var aV=0;for(aV=0;aV<ba.length;aV++){if(ba[aV].aO===ay.id){G.pageIndex=aV;break;}}G.pointLiesWithinImage=true;ft=Zm(ay,eS,ej);if(ft){db=ay.aB.Ow(ft,false);G.imagePoint=db;G.constrainedImagePoint=db;}else{G.pointLiesWithinImage=false;}}else{G.pointLiesWithinImage=false;}G.domEvent=aF;G.windowPoint=new IPCC.Web.UI.Point(eS,ej);if(Re===true){wb= -1;ct=G.pageIndex;aF.preventDefault();J.bH('mouseDown',G);return;}switch(au){case IPCC.Web.UI.MouseTool.None:aF.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:aF.preventDefault();xN=ej;ys=eS;XV=ae.scrollTop;Xh=ae.scrollLeft;bM=true;J.Ap(ab,'grabbing');if(ay&&ay.aB){J.Ap(ay,'grabbing');ay.aB.set_cursor('grabbing');ay.aB.display();}break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:aF.preventDefault();if(oQ===0&&ay&&ay.aB&&db){J.uE();ox=[];wb= -1;CI=undefined;var bZ=ay.aB.transformPagePointToTextIndex(db);hq=bZ;ph=bZ;bM=true;if(bZ===undefined){J.bH('mouseDown',G);return;}ay.aB.showEmptyTextSelection(bZ);ay.aB.extendTextSelection(undefined);ay.aB.extendTextSelection(bZ);ay.aB.display();lv=G.pageIndex;ct=G.pageIndex;}break;case IPCC.Web.UI.MouseTool.Magnifier:aF.preventDefault();if(oQ===0&&ay&&ay.aB&&ft){var lA=IPCC.bA.fc(IPCC.bA.None);ab.style.cursor=lA;ay.aB.showMagnifier(ft);ay.aB.display();}bM=true;break;case IPCC.Web.UI.MouseTool.RectangleZoom:aF.preventDefault();if(oQ===0&&ay&&ay.aB&&db){bM=true;xN=ft.y;ys=ft.x;ay.aB.showEmptySelection(db);ay.aB.display();}break;}J.bH('mouseDown',G);};var ly=function(aF){aiY(aF,aF.clientX,aF.clientY,aF.button);};var aiu=function(G,eS,ej,du){G.windowPoint=new IPCC.Web.UI.Point(eS,ej);du=Wu(eS,ej);var db,ft;if(du!==false&&du.aB&&du.igElements&&du.aB.fv()===true){G.pointLiesWithinImage=true;ft=Zm(du,eS,ej);if(ft){db=du.aB.Ow(ft,false);G.imagePoint=db;G.constrainedImagePoint=db;}else{G.pointLiesWithinImage=false;}}else{G.pointLiesWithinImage=false;}return{G:G,eS:eS,ej:ej,du:du,db:db,ft:ft};};var aiY=function(aF,eS,ej,oQ){var As=aF.target.tagName&&aF.target.tagName.toLowerCase()==='textarea';if(As){return;}var za=aF.target.tagName&&aF.target.tagName.toLowerCase()==='input'&&aF.target.type&&aF.target.type.toLowerCase()==='text';if(za){return;}var G=new IPCC.Web.UI.MouseEventArgs();var db,ft,du;var Ga=function(eS,ej){var pk=aiu(G,eS,ej,du);G=pk.G;G.domEvent=aF;eS=pk.eS;ej=pk.ej;du=pk.du;db=pk.db;ft=pk.ft;};Ga(eS,ej);var kg=Np(aF,G);if(kg&&kg.T){G.mark=kg.T;}var lA;switch(au){case IPCC.Web.UI.MouseTool.None:aF.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:aF.preventDefault();if(bM){var alH=ej;var alW=eS;var aAo=xN-alH;var azo=ys-alW;ae.scrollTop=XV+aAo;ae.scrollLeft=Xh+azo;}break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:aF.preventDefault();if(bM){if(oQ!==0){Ek();}var hA;if(!du){J.bH('mouseMove',G);return;}if(hq===undefined){ay=du;}else if(du!==ay&&du.aB&&ft){wb= -1;var jr=0;var L=0;for(L=0;L<ba.length;L++){if(ba[L].aO===du.id){jr=L;break;}}if(jr>ct){if(jr>lv){hA=ay.aB.get_textPage().hc().eN()-1;if(hA<0){Ek();J.bH('mouseMove',G);return;}ay.aB.extendTextSelection(hA);if(bU){hA=ay.aB.get_textPage().hc().eN()-1;bU.eE[ct].set_startIndex(ay.aB.MG());bU.eE[ct].set_textLength(ay.aB.CD());bU.fT=jr;hq=ay.aB.MG();}ox[ct]=ay.aB.getSelectedText();du.aB.showEmptyTextSelection(0);du.aB.extendTextSelection(undefined);wb=0;ay.aB.display();ay=du;}else{hq=0;ox[ct]=undefined;ox[jr]=undefined;ay.aB.showEmptyTextSelection(0);ay.aB.extendTextSelection(undefined);if(bU&&bU.eE[ct]){bU.eE[ct].ky=false;}ay.aB.display();ay=du;if(bU&&bU.eE[ct]){bU.eE[ct]=undefined;bU.hh=jr;bU.eE[jr].set_startIndex(0);bU.eE[jr].set_textLength(bU.eE[jr].get_startIndex()+bU.eE[jr].get_textLength());bU.eE[jr].ky=true;ay.aB.display();}}}else if(jr<ct){if(jr<lv){hA=ay.aB.get_currentTextIndex();if(hA!==0){ay.aB.extendTextSelection(0);}if(bU){bU.eE[ct].set_startIndex(ay.aB.MG());bU.eE[ct].set_textLength(ay.aB.CD());bU.hh=jr;}ox[ct]=ay.aB.getSelectedText();ay.aB.display();hA=du.aB.bY().hc().eN()-1;wb=hA;hq=0;du.aB.showEmptyTextSelection(hA+1);du.aB.extendTextSelection(undefined);ay=du;ay.aB.display();}else{ox[ct]=undefined;ox[jr]=undefined;ay.aB.showEmptyTextSelection(0);ay.aB.extendTextSelection(undefined);if(bU&&bU.eE[ct]){bU.eE[ct].ll=false;}ay.aB.display();ay=du;if(bU&&bU.eE[ct]){bU.eE[ct]=undefined;bU.fT=jr;hA=ay.aB.bY().hc().eN()-1;bU.eE[jr].set_textLength(du.aB.CD());bU.eE[jr].ll=true;ay.aB.display();}}}ct=jr;}var arE=(ct<lv),atb=(ct>lv);if(ay&&ay.aB&&ay.aB.fv()===true&&ft){ft=Zm(ay,eS,ej);db=ay.aB.Ow(ft,false);var bZ=ay.aB.transformPagePointToTextIndex(db);if(hq===undefined){hq=bZ;ph=bZ;if(bZ===undefined){J.bH('mouseMove',G);return;}ay.aB.showEmptyTextSelection(bZ);ay.aB.extendTextSelection(undefined);ay.aB.extendTextSelection(bZ);ay.aB.display();var aw=0;for(aw=0;aw<ba.length;aw++){if(ba[aw].aO===ay.id){lv=aw;ct=aw;break;}}}else{if(hq=== +hq&&bZ=== +bZ){if(arE){hq=bZ;}else if(!atb){hq=Math.min(ph,bZ);}}}hA=ay.aB.get_currentTextIndex();if(hA===bZ||bZ===undefined){J.bH('mouseMove',G);return;}if(wb!== -1){if(bZ!==wb){ay.aB.extendTextSelection(wb);}wb= -1;}if((bZ>ph&&ct===lv)||ct>lv){if(bU){if(bU.eE[ct]===undefined||bU.eE[ct]===null){Mt(ct,0,0,ct===bU.pQ);if(ct-1>=0&&bU.eE[ct-1]){bU.eE[ct-1].ll=false;document.getElementById(ba[ct-1].aO).aB.display();}}bU.eE[ct].ll=true;}if(CI===undefined){CI=false;}}else if(bZ<ph||ct<lv){if(bU){if(bU.eE[ct]===undefined||bU.eE[ct]===null){Mt(ct,ay.aB.bY().hc().eN()-1,0,ct===bU.pQ);if(bU.eE[ct+1]){bU.eE[ct+1].ky=false;document.getElementById(ba[ct+1].aO).aB.display();}}bU.eE[ct].ky=true;}if(CI===undefined){CI=true;ph++;ay.aB.showEmptyTextSelection(ph);ay.aB.extendTextSelection(undefined);var pI=ay.aB.bY().hc().eN();if(ph>=pI){ay.aB.extendTextSelection(pI-1);}else{ay.aB.extendTextSelection(ph);}}}ay.aB.extendTextSelection(bZ);if(bU&&bU.eE[ct]){bU.eE[ct].set_startIndex(ay.aB.MG());bU.eE[ct].set_textLength(ay.aB.CD());}ay.aB.display();}}break;case IPCC.Web.UI.MouseTool.Magnifier:aF.preventDefault();if(bM){if(oQ!==0||(ay&&ay.aB&&ay!==du)){ay.aB.hideMagnifier();lA=IPCC.bA.fc(IPCC.bA.Magnifier);ab.style.cursor=lA;ay.aB.display();}if(du&&du.aB&&ft){ay=du;lA=IPCC.bA.fc(IPCC.bA.None);ab.style.cursor=lA;du.aB.showMagnifier(ft);du.aB.display();}}break;case IPCC.Web.UI.MouseTool.RectangleZoom:aF.preventDefault();if(bM){var Gm=ahL(ay,eS,ej,1);Ga(Gm.x,Gm.y);if(du&&du.aB&&db&&du===ay){if(oQ!==0){du.aB.hideSelection();du.aB.display();bM=false;}else{du.aB.extendSelection(db);du.aB.display();}}}break;}J.bH('mouseMove',G);};var kE=function(aF){if(XI!==true){Wv(aF,aF.clientX,aF.clientY);}else{XI=false;}};var ais=function(aF,G){G.upTargetType=null;var DP=Np(aF,G);G.originalEvent=aF.rawEvent;G.clientX=aF.clientX;G.clientY=aF.clientY;G.downTarget={type:undefined,pageIndex:undefined};if(typeof mt!=='undefined'&&typeof mt.dA!=='undefined'){G.downTarget.type=mt.dA;}if(typeof mt!=='undefined'&&typeof mt.aP!=='undefined'){G.downTarget.pageIndex=mt.aP;}if(typeof mt!=='undefined'&&typeof mt.Zl!=='undefined'){G.downTarget.alreadySelected=mt.Zl;}G.downMark=(typeof mt!=='undefined')?mt.T:undefined;G.upMark=DP.T;switch(DP.dA){case 'page':case 'mark':G.upTarget={type:DP.dA,pageIndex:DP.aP};break;}if(G.pointLiesWithinImage===false&&DP.dA==='page'){DP.aP= -1;}};var Wv=function(aF,eS,ej){var G=new IPCC.Web.UI.MouseEventArgs();var du;var db;var ft;var Ga=function(eS,ej){var pk=aiu(G,eS,ej,du);G=pk.G;G.domEvent=aF;eS=pk.eS;ej=pk.ej;du=pk.du;db=pk.db;ft=pk.ft;};Ga(eS,ej);if(aF){ais(aF,G);J.bH('mouseUp',G);}mt=undefined;var lA;switch(au){case IPCC.Web.UI.MouseTool.None:aF.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:aF.preventDefault();if(bM){ys=undefined;xN=undefined;XV=undefined;Xh=undefined;bM=false;lA='move';J.Ap(ab,'grab');if(ay&&ay.aB){J.Ap(ay,'grab');ay.aB.set_cursor('grab');ay.aB.display();}}break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:if(aF){aF.preventDefault();}if(bM){var oH=new IPCC.Web.UI.TextSelectedEventArgs(),ir=[],L,vn,Ad;var iw;var Kn=ay.aB.getSelectedText();var qp=ox.slice();if(Kn.length>0){qp[ct]=ay.aB.getSelectedText();}else{if(ct>lv){ct--;ay=document.getElementById(ba[ct].aO);if(qp[ct]){Kn=qp[ct];}}else if(ct<lv){ct++;ay=document.getElementById(ba[ct].aO);if(qp[ct]){Kn=qp[ct];}}}oH.text=qp.join('');var Si=true;if(ct>=lv){if(ct===lv){if(ay.aB.get_currentTextIndex()>=ph){Si=false;}iw=hq+Kn.length-1;}else{iw=Kn.length-1;}if(iw<0){iw=0;}vn=lv;Ad=ct;}else{Si=false;iw=ph-1;vn=ct;Ad=lv;}for(L=vn;L<=Ad;L++){ir.push(L);}if(oH.text.length===0){Ek();ir=[];}oH.pageNumbers=ir;oH.clientX=eS;oH.clientY=ej;if(hq!==undefined){if(au===IPCC.Web.UI.MouseTool.SelectText){var aqK=function(ap,xt){var IM=ap.aB.bY();var gh=IM.hc();var en=gh.kB(xt);return en.vo();};var hA=ay.aB.get_currentTextIndex();var OP=aqK(ay,hA);var fH=0,es=0;if(Si===false){fH=OP.width;es=OP.height;}var DG=ay.aB.transformPagePointToWindow(new IPCC.Web.UI.Point(OP.x+fH,OP.y+es),true);var cn=aeK(ay,DG.x,DG.y);oH.handleClientX=cn.x;oH.handleClientY=cn.y;}var ayd=bU===undefined||bU===null;if(ve){oH.previousFirstMark=ve;oH.firstMark=bU.eE[vn];if(bU.pQ<vn||bU.pQ>Ad){var Kd=document.getElementById(ba[bU.pQ].aO);if(Kd.aB){Kd.aB.mu().removeMark(bU.xB);}}bU.xB.xk=false;J.uE();if(tj!==null){au=tj;}tj=null;}else if(ayd===true){if(au===IPCC.Web.UI.MouseTool.SelectText){bU={hh:vn,rV:hq,fT:Ad,iw:iw,qp:qp.slice(),eE:[]};for(L=0;L<ir.length;L++){Mt(ir[L]);}}else{J.uE();}}else{if(bU.pQ<vn||bU.pQ>Ad){var akX=document.getElementById(ba[bU.pQ].aO);if(akX.aB){akX.aB.mu().removeMark(bU.xB);}}bU.xB.xk=false;bU.hh=vn;bU.rV=hq;bU.fT=Ad;bU.iw=iw;bU.qp=qp.slice();if(tj!==null){au=tj;}tj=null;}oH.mouseTool=au;oH.startIndex=hq;J.bH('selectTextMouseToolCompleted',oH);if(ve){ve=null;bU=null;}}bM=false;}break;case IPCC.Web.UI.MouseTool.Magnifier:aF.preventDefault();if(du&&du.aB){du.aB.hideMagnifier();lA=IPCC.bA.fc(IPCC.bA.Magnifier);ab.style.cursor=lA;du.aB.display();}bM=false;break;case IPCC.Web.UI.MouseTool.RectangleZoom:aF.preventDefault();var Gm=ahL(ay,eS,ej,1);Ga(Gm.x,Gm.y);if(bM&&ft){var BD=0;var Bh=0;var Zn=0;var YY=0;if(ft.x<ys){BD=ys-ft.x;Zn=ft.x+BD/2;}else{BD=ft.x-ys;Zn=ys+BD/2;}if(ft.y<xN){Bh=xN-ft.y;YY=ft.y+Bh/2;}else{Bh=ft.y-xN;YY=xN+Bh/2;}var aaW=ae.clientWidth/BD;var aat=ae.clientHeight/Bh;var pj=aaW;if(aaW>aat){pj=aat;}if(du&&du.aB){du.aB.oU();du.aB.display();}bM=false;if(BD*2+Bh*2>25){J.apN(pj,Zn,YY,du);}}break;}var As=false;var za=false;if(aF){As=aF.target.tagName&&aF.target.tagName.toLowerCase()==='textarea';za=aF.target.tagName&&aF.target.tagName.toLowerCase()==='input'&&aF.target.type&&aF.target.type.toLowerCase()==='text';}if(Nu&& !As&& !za){akj(ay);}else if(au===IPCC.Web.UI.MouseTool.HandPan&&Ll&& !As&& !za&&aF&&Ll.clientX===aF.clientX&&Ll.clientY===aF.clientY&&aF.shiftKey!==true&&aF.ctrlKey!==true){akO(ay.aB);}};var apn=function(){var lA;switch(au){case IPCC.Web.UI.MouseTool.None:break;case IPCC.Web.UI.MouseTool.HandPan:J.Ap(ab,'grab');bM=false;break;case IPCC.Web.UI.MouseTool.SelectText:Ek();break;case IPCC.Web.UI.MouseTool.Magnifier:if(ay&&ay.aB){ay.aB.hideMagnifier();lA=IPCC.bA.fc(IPCC.bA.Magnifier);ab.style.cursor=lA;ay.aB.display();}bM=false;break;case IPCC.Web.UI.MouseTool.RectangleZoom:if(ay&&ay.aB){ay.aB.hideSelection();ay.aB.display();bM=false;}break;}};var azH=function(){apn();};var avo=function(){if(au===IPCC.Web.UI.MouseTool.Magnifier){if(ay&&ay.aB){ay.aB.hideMagnifier();var lA=IPCC.bA.fc(IPCC.bA.Magnifier);ab.style.cursor=lA;ay.aB.display();}bM=false;}else if(au===IPCC.Web.UI.MouseTool.RectangleZoom){if(ay&&ay.aB){ay.aB.hideSelection();ay.aB.display();bM=false;}}else if(au===IPCC.Web.UI.MouseTool.SelectText){Ek();}};var na=function(aF){if(aF.ctrlKey){switch(au){case IPCC.Web.UI.MouseTool.None:break;case IPCC.Web.UI.MouseTool.SelectText:break;default:break;case IPCC.Web.UI.MouseTool.HandPan:var OE=aF.rawEvent.wheelDelta;aF.preventDefault();if(OE<0){J.zoomOut(1.5);}else{J.zoomIn(1.5);}break;}}else{aF.preventDefault();ae.scrollTop-=aF.rawEvent.wheelDelta*0.72;}if(au===IPCC.Web.UI.MouseTool.Magnifier){if(ay&&ay.aB){ay.aB.hideMagnifier();var lA=IPCC.bA.fc(IPCC.bA.Magnifier);ab.style.cursor=lA;ay.aB.display();}bM=false;}else if(au===IPCC.Web.UI.MouseTool.RectangleZoom){if(ay&&ay.aB){ay.aB.hideSelection();ay.aB.display();bM=false;}}else if(au===IPCC.Web.UI.MouseTool.SelectText){Ek();}};var anZ=function(by){var G=new IPCC.Web.UI.MouseEventArgs();G.upTarget={type:'comments',element:by.target};G.downTarget={type:'comments',element:by.target};G.originalEvent=by.rawEvent;G.clientX=by.clientX;G.clientY=by.clientY;G.pageIndex=undefined;J.bH('mouseUp',G);};var Ek=function(){if(bM===true){if(bU&&bU.pQ!==undefined){if(ve){Wv(null,0,0);return;}else{var Kd=document.getElementById(ba[bU.pQ].aO);if(Kd.aB){Kd.aB.mu().removeMark(bU.xB);}bU.xB.xk=false;}}J.uE();ve=null;bM=false;if(tj!==null){au=tj;}tj=null;}};FV=gP({position:'relative',width:'auto',height:'auto',display:'table',tableLayout:'fixed',borderSpacing:'0px',margin:'0px auto',clear:'both',boxSizing:'border-box'});if(dr===IPCC.ViewMode.SinglePage){ab=gP({position:'relative',whiteSpace:'nowrap',width:'auto',height:'auto',overflow:'hidden'});ab.className='pccPageListContainer pccSinglePageView';}else{ab=gP({position:'relative',whiteSpace:'nowrap',width:'auto',height:'auto',display:'table-cell',verticalAlign:'top'});ab.className='pccPageListContainer';}IPCC.Web.UI.aC.addHandler(ae,"mousedown",kf);IPCC.Web.UI.aC.addHandler(ae,"mouseup",kE);IPCC.Web.UI.aC.addHandler(ae,"mousemove",ly);IPCC.Web.UI.aC.addHandler(ae,"mouseleave",azH);IPCC.Web.UI.aC.addHandler(ae,"mousewheel",na);IPCC.Web.UI.aC.addHandler(ae,"DOMMouseScroll",avo);ae.onscroll=(! !IZ)?axg:ayQ;ab.setAttribute('id',JA+'_ListContainer');ae.setAttribute('id',JA+'_ListWrapper');aoX=JA+'_ListWrapper';jS=gP();jS.className='pccPageListComments pccHidden';jS.setAttribute('id',JA+'_CommentsPanel');var Tm=[];if(IPCC.V.aFV){Tm.push('touchend');}else{Tm.push('click');}IPCC.V.forEach(Tm,function(evName){IPCC.Web.UI.aC.addHandler(jS,evName,anZ);});FV.appendChild(ab);FV.appendChild(jS);ae.appendChild(FV);dB.appendChild(ae);if(navigator.userAgent.match('MSIE 10')&&document.documentMode===10){var ag='',cq='',rN='',tf='',pf;var yo=function(){pf=getComputedStyle(dB);rN=pf.getPropertyValue('width');tf=pf.getPropertyValue('height');if(rN!==ag||tf!==cq){ag=rN;cq=tf;ae.style.width=ag;ae.style.height=cq;}};setInterval(yo,1000);window.addEventListener('resize',yo);yo();J.yo=yo;}var aDI=IPCC.V.Kv;if(document.documentElement.getBoundingClientRect&&Array.prototype.forEach&&aDI&&window.addEventListener&&document.querySelector){aDZ(ae);}var aEq=function(ab,aHe){var jK;var YM=function(by){var cZ=by.rawEvent,gb=cZ.touches[0]||cZ.changedTouches[0];by.clientX=gb.clientX;by.clientY=gb.clientY;by.preventDefault=function(){cZ.preventDefault();};by.stopPropagation=function(){cZ.stopPropagation();};return by;};var Dj=function(io,by){var G=new IPCC.Web.UI.MouseEventArgs(),Eu=(io==='touchstart')?'mouseDown':(io==='touchend')?'mouseUp':null;var DJ=(io==='touchstart')?aiG:(io==='touchmove')?aiY:(io==='touchend')?Wv:null;jK=Wu(by.clientX,by.clientY);if(io==='doubleTap'){jK&&jK.aB&&jK.aB.GW(io,by);}var ic;ic=Yt(by);if(ic){if(ic.substring(0,5)==='texth'){by.preventDefault();by.stopPropagation();if(io==='touchstart'){zj=by;}DJ&&DJ(by,by.clientX,by.clientY,0);return;}}switch(au){case IPCC.Web.UI.MouseTool.CreateLineMark:case IPCC.Web.UI.MouseTool.CreatePolylineMark:case IPCC.Web.UI.MouseTool.CreateRectangleMark:case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:case IPCC.Web.UI.MouseTool.CreateEllipseMark:case IPCC.Web.UI.MouseTool.CreateTextMark:case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:case IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark:case IPCC.Web.UI.MouseTool.CreateStampMark:case IPCC.Web.UI.MouseTool.CreateFreehandMark:case IPCC.Web.UI.MouseTool.EditMarks:case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:jK&&jK.aB&&jK.aB.GW(io,by);if(Eu==='mouseUp'){ais(by,G);}else if(Eu==='mouseDown'){ain(by,G);}J.bH(io,G);break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:by.preventDefault();by.stopPropagation();if(io==='touchstart'){zj=by;if(ic){J.uE();break;}}DJ&&DJ(by,by.clientX,by.clientY,0);break;case IPCC.Web.UI.MouseTool.Magnifier:case IPCC.Web.UI.MouseTool.RectangleZoom:by.preventDefault();by.stopPropagation();if(io==='touchstart'){zj=by;}DJ&&DJ(by,by.clientX,by.clientY,0);break;case IPCC.Web.UI.MouseTool.HandPan:if(ic===undefined){ic=Yt(by);}var K=Np(by,{});if(ic&&Bm){if(!K||K.T.get_interactionMode()!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){if(io==='touchstart'){alQ(by,ic,jK);}else if(io==='touchmove'){jK&&jK.aB&&jK.aB.GW(io,by);}else if(io==='touchend'){jK&&jK.aB&&jK.aB.GW(io,by);akj(jK);}}}break;}};var BH,zR,tF;var aDh=function(by){if(by.rawEvent.touches.length>1){clearTimeout(tF);tF=zR=BH=undefined;return;}by=YM(by);BH=by;if(au===IPCC.Web.UI.MouseTool.CreatePolylineMark){by.preventDefault();}zR=function(){Dj('touchstart',by);tF=zR=BH=undefined;};tF=setTimeout(function(){zR();},200);};var Fn,De;var aDN=function(by){by=YM(by);pu=false;var apy=function(){if(!De){return false;}var fA=De.clientX-by.clientX;var fo=De.clientY-by.clientY;var gF=fA*fA+fo*fo;return gF<2500;};var adv=function(){Fn=De=undefined;var ic=Yt(by);if(!ic&&au===IPCC.Web.UI.MouseTool.HandPan&&Bm&&jK){akO(jK.aB);}};var aud=function(){var adV=zR;if(Fn&&apy()){clearTimeout(Fn);De=Fn=undefined;adV();Dj('touchend',by);Dj('doubleTap',by);}else{Fn=setTimeout(function(){adV();Dj('touchend',by);adv();},300);De=by;}};if(BH&&tF){clearTimeout(tF);if(au===IPCC.Web.UI.MouseTool.CreatePolylineMark){aud();}else{adv();}tF=zR=BH=undefined;return;}Dj('touchend',by);};var agk,pu=false;var aEI=function(by){if(by.rawEvent.touches.length>1){return;}agk=by;if(BH&&tF){clearTimeout(tF);zR();}avO();};function avO(){var by=YM(agk);Dj('touchmove',by);};IPCC.Web.UI.aC.addHandler(ab,"touchstart",aDh);IPCC.Web.UI.aC.addHandler(ab,"touchmove",aEI);IPCC.Web.UI.aC.addHandler(ab,"touchend",aDN);};aEq(ab,jS);}};function aDZ(hF){var afs=function(){},dE=1;function amg(aeP,adT,gv,axu){hF.style['-ms-transform']=aeP;hF.style['-moz-transform']=aeP;hF.style['-webkit-transform']=adT;hF.style['transform']=adT;hF.style['-ms-transform-origin']=gv;hF.style['-moz-transform-origin']=gv;hF.style['-webkit-transform-origin']=gv;hF.style['transform-origin']=gv;hF.style.overflow=axu||'';};function amJ(){amg('scale(1,1) translate(0px,0px)','scale3d(1,1,1) translate3d(0px,0px,0px)','0% 0%','auto');};amJ();function avX(pj,hB,NR,tw,afd){var fH=(-hB.x/pj)-NR.x,es=(-hB.y/pj)-NR.y,aEa="scale3d("+pj+","+pj+",1) translate3d("+fH+"px,"+es+"px,0px)",aEJ="scale("+pj+", "+pj+") translate("+fH+"px,"+es+"px)";var asX=afd.x+'px '+afd.y+'px';amg(aEJ,aEa,asX,'visible');afs=function(){var bo=hF.getBoundingClientRect();var Uu={x:(hF.clientWidth/2+ -bo.left+tw.left)/pj,y:(hF.clientHeight/2+ -bo.top+tw.top)/pj};if(fe===IPCC.PageLayout.VerticalScrollDirection&&tw.akZ){Uu.x=Uu.x-(tw.akZ/2);}amJ();J.Sf(pj,Uu,undefined,IPCC.ScaleTrigger.Pinch);zs=false;};return hF;};function afG(x,y,x0,y0){return Math.sqrt((x-=x0)*x+(y-=y0)*y);};function aee(x,y,x0,y0){return{x:(x+x0)/2,y:(y+y0)/2};};function aqN(alM,JG){return{x:alM.x-JG.x,y:alM.y-JG.y};};var RX=false;hF.addEventListener('touchstart',function(ev){if(zs){return;}if(!RX&&ev.touches.length===2){aex(ev);}});var standardizeMSTouch=function(ev){var event={};event.identifier=ev.pointerId;event.x=event.clientX=ev.clientX;event.y=event.clientY=ev.clientY;event.preventDefault=ev.preventDefault;event.stopPropagation=ev.stopPropagation;event.rawEvent=ev;event.touches=[event];event.changedTouches=[event];return event;};var yM,Za=false,yf={};PCCViewer.EventEmitter.extend(yf);hF.addEventListener(IPCC.V.ot['down'],function(by){Za=true;by=standardizeMSTouch(by);if(yM){var cZ={};cZ.touches=[yM,by];cZ.changedTouches=[yM,by];cZ.preventDefault=function(){yM.rawEvent.preventDefault();by.rawEvent.preventDefault();};cZ.stopPropagation=function(){yM.rawEvent.stopPropagation();by.rawEvent.stopPropagation();};aex(cZ);}else{yM=by;}});hF.addEventListener(IPCC.V.ot['move'],function(by){yf.trigger('touchmove',{rawEvent:by});});hF.addEventListener(IPCC.V.ot['up'],function(by){yf.trigger('touchend',{rawEvent:by});yM=undefined;});function aex(ev){zs=true;var NR={x:hF.scrollLeft,y:hF.scrollTop};var tw=hF.getBoundingClientRect();var pb=abn();var JZ=hF.querySelector('.pccPageListItem');if(fe===IPCC.PageLayout.VerticalScrollDirection&&JZ.clientWidth<tw.width-30){tw.akZ=tw.width-JZ.clientWidth;}var hB={x:0,y:0,set:function(ahv){this.x=ahv.x;this.y=ahv.y;return this;}};var pu=false;RX=true;ev.preventDefault();ev.stopPropagation();function Ql(gb){gb.x=gb.clientX||gb.pageX||gb.screenX;gb.y=gb.clientY||gb.pageY||gb.screenY;return gb;};var kq=Ql(ev.touches[0]);var yw=Ql(ev.touches[1]);var wj=afG(kq.x,kq.y,yw.x,yw.y);var aiL=aee(kq.x,kq.y,yw.x,yw.y);var xG,zU;function Uk(by){by.preventDefault();[].forEach.call(by.changedTouches,function(t){if(t.identifier===kq.identifier){xG=Ql(t);}else if(t.identifier===yw.identifier){zU=Ql(t);}});if(!xG|| !zU){return;}var avY=afG(xG.x,xG.y,zU.x,zU.y);var avD=aee(xG.x,xG.y,zU.x,zU.y);dE=avY/wj;if((cN*dE)<pb.minFactor){dE=pb.minFactor/cN;}else if((cN*dE)>pb.maxFactor){dE=pb.maxFactor/cN;}hB.set(aqN(aiL,avD));if(!pu){pu=true;Fo();}};function Uv(){RX=false;pu=false;hF.removeEventListener('touchmove',Uk);hF.removeEventListener('touchend',Uv);if(Za){yf.off('touchmove',ajj);yf.off('touchend',aiB);}if(!xG|| !zU){zs=false;return;}IZ(afs);};var ajj=function(by){var adP=standardizeMSTouch(by.rawEvent);adP.preventDefault=function(){};Uk(adP);};var aiB=function(by){Uv(standardizeMSTouch(by.rawEvent));};hF.addEventListener('touchmove',Uk);hF.addEventListener('touchend',Uv);if(Za){yf.on('touchmove',ajj);yf.on('touchend',aiB);}function Fo(){if(pu){IZ(function(){if(!pu){return;}avX(dE,hB,NR,tw,aiL);Fo();});}}}};function axg(){if(dr===IPCC.ViewMode.SinglePage){return;}if(zs){return;}if(nt){clearTimeout(nt);}if(VC){awE(VC);}azL();nt=setTimeout(function(){nt=null;VC=IZ(function aGb(){if(zs){return;}pq();});},40);};function ayQ(){if(lC===false||dr===IPCC.ViewMode.SinglePage){return;}iP(true);if(nt!==null){clearTimeout(nt);}var aEy=ae.scrollHeight/ba.length;var RQ=0;if(fe===IPCC.PageLayout.VerticalScrollDirection){RQ=ae.scrollTop;}else{RQ=ae.scrollLeft;}var aFj=RQ-Oh;Oh=RQ;var avH=new Date().getTime();var SY=avH-wz;if(SY>1000){SY=1000;}Tp=aFj/aEy*1000/SY;nt=setTimeout(function(){nt=null;wz=0;wz=new Date().getTime();pq();},1000);wz=new Date().getTime();if(Tp!==0&&Math.abs(Tp)<NV){if(HD&&nt!==null){clearTimeout(nt);nt=null;}wz=0;wz=new Date().getTime();setTimeout(function(){if(HD&&nt!==null){clearTimeout(nt);nt=null;}wz=0;wz=new Date().getTime();pq();},40);}};function asz(){function xP(avP,awx,bd,di){var JK=document.createElementNS('http://www.w3.org/2000/svg','circle');JK.setAttribute('cx',avP);JK.setAttribute('cy',awx);JK.setAttribute('r',bd);JK.setAttribute('opacity',di);return JK;};var qC=document.createElementNS('http://www.w3.org/2000/svg','svg');qC.setAttribute('viewBox','0 0 52 52');qC.appendChild(xP(26,13.813,2.813,1));qC.appendChild(xP(24,38.188,2.813,0.4));qC.appendChild(xP(13.813,26,2.813,0.1));qC.appendChild(xP(38.188,26,2.813,0.7));qC.appendChild(xP(34.618,34.618,2.813,0.55));qC.appendChild(xP(17.382,34.618,2.813,0.25));qC.appendChild(xP(34.618,17.382,2.813,0.85));return qC;};function alI(lz){var aw=0;var aiA=false;var Lc;var Ke;var qC;for(aw=0;aw<lz.childNodes.length;aw++){if(lz.childNodes[aw].className==="pccPageListItemLoading"){aiA=true;}}if(aiA===false){Ke=document.createElement('div');Ke.className='pccPageListItemLoading';qC=asz();lz.innerHTML="";lz.appendChild(Ke);Ke.appendChild(qC);if(Jn.length>0){Lc=document.createElement('div');Lc.className='pccPageListItemLoadingContent';Lc.innerHTML=Jn;Ke.appendChild(Lc);}}};function azL(){var uJ=ae.scrollTop;var tI=ae.scrollLeft;var vJ=ae.clientHeight;var uR=ae.clientWidth;var tO=ae.scrollWidth;var tW=ae.scrollHeight;var cw=Us({uJ:uJ,tI:tI,vJ:vJ,uR:uR,tO:tO,tW:tW});var L=cw.alm;if(lC&&tK===false&&cL!==L&&L>=0){cL=L;var G=new IPCC.PageEventArgs();G.imGearPage=J.get_currentPage();G.pageIndex=cL;G.pageNodeID=ba[cL].aO;J.bH('currentPageChanged',G);}};function VQ(bj){var ag=bj.bf||gl;var cq=bj.aY||hK;if(bj.ha%180){var sk=ag;ag=cq;cq=sk;}var qF=bj.gs||agT;return{ag:ag*(cN*dz/qF),cq:cq*(cN*dz/qF),aHg:qF,aM:bj.cG};};function Wd(azK){return IPCC.V.reduce(azK,function(fs,bK,aM){fs[aM]=VQ(bK);return fs;},{});};function afV(aP){var tJ,CQ,yV,wc,qI;if(fe===IPCC.PageLayout.VerticalScrollDirection){tJ=ae.scrollTop;CQ=ae.scrollHeight;yV=ae.clientHeight;wc='cq';qI=fF;}else{tJ=ae.scrollLeft;CQ=ae.scrollWidth;yV=ae.clientWidth;wc='ag';qI=eA+gR;}var kW=Wd(ba);var Jf=fe===IPCC.PageLayout.VerticalScrollDirection?fF:eA;var amM=false;IPCC.V.forEach(kW,function(bK,aM){if(bK.aM===aP){amM=true;}if(amM){return;}Jf+=bK[wc]+qI;});return Jf-(qI/2);};function ri(cw){var Cg=IPCC.V.map(cw.cV,function(bK){return+bK.aM;}).sort();var kq=Cg[0];var ij=Cg[Cg.length-1];var fN=ba.length;for(var L=CV;L;L--){kq-=1;ij+=1;if(kq>=0){Cg.unshift(kq);}if(ij<fN){Cg.push(ij);}}return Cg.sort();};function PQ(cw){var kq=Math.max(cw.cV[0].aM-xc,0);var ij=Math.min(cw.cV[cw.cV.length-1].aM+xc,ba.length-1);return{kq:kq,ij:ij};};function aqY(cw){var kq=Math.max(cw.cV[0].aM-CV,0);var ij=Math.min(cw.cV[cw.cV.length-1].aM+CV,ba.length-1);return{kq:kq,ij:ij};};function Us(aZ){if(dr===IPCC.ViewMode.SinglePage){return aeq();}var tJ,CQ,yV,wc,qI;if(fe===IPCC.PageLayout.VerticalScrollDirection){tJ=aZ.uJ;CQ=aZ.tW;yV=aZ.vJ;wc='cq';qI=fF;}else{tJ=aZ.tI;CQ=aZ.tO;yV=aZ.uR;wc='ag';qI=eA+gR;}var atV=tJ;var auJ=tJ+yV;var kW=Wd(ba);var Jf=fe===IPCC.PageLayout.VerticalScrollDirection?fF:eA;var aEg=tJ/CQ;var MN=(aEg*yV)+tJ;var Xu=Number.MAX_VALUE;var mp= -1;var cV=[];IPCC.V.forEach(kW,function(bK,aM){var iz=Jf;var eu=iz+bK[wc];if(iz<auJ&&eu>atV){bK.wQ=true;cV.push(bK);}var akS=Math.min(Math.abs(iz-MN),Math.abs(eu-MN));if(iz<MN&&eu>MN){Xu=0;mp=aM;}else if(akS<Xu){mp=aM;Xu=akS;}Jf+=bK[wc]+qI;});if(cV.length===0&&kW[mp]!==undefined){cV.push(kW[mp]);}return{cV:cV,alm:Number(mp)||0,JQ:kW};};function aeq(){var kW=Wd(ba);var avb=[cL];var cV=IPCC.V.filter(kW,function(bK){return IPCC.V.contains(avb,+bK.aM);});return{cV:cV,alm:cL,JQ:kW};};function OY(){var cw=iP();if(!cw){return[];}return IPCC.V.map(cw.cV,function(bK){return bK.aM;});};function iP(){if(dr===IPCC.ViewMode.SinglePage){return aeq();}if(ae===''||ae.clientHeight<=0){return;}var uJ=ae.scrollTop;var tI=ae.scrollLeft;var vJ=ae.clientHeight;var uR=ae.clientWidth;var tO=ae.scrollWidth;var tW=ae.scrollHeight;var auE=Us({uJ:uJ,tI:tI,vJ:vJ,uR:uR,tO:tO,tW:tW});tK=false;return auE;}};Mx.prototype={dispose:function(){this.bu('dispose',arguments);this.aab(false);this.aso();},disposeDisplayedPages:function(){this.asv();},get_debug:function(){try{var bd=this.Ka();this.cK('get_debug',arguments,bd);return bd;}catch(e){this.bG('get_debug',e);throw e;}},set_debug:function(value){try{this.bu('set_debug',arguments);var AG=this.Ka();this.YQ(value);if(!AG){this.bu('set_debug',arguments);}}catch(e){this.bG('set_debug',e);throw e;}},get_debugErrorLevel:function(){try{var bd=this.AL();this.cK('get_debugErrorLevel',arguments,bd);return bd;}catch(e){this.bG('get_debugErrorLevel',e);throw e;}},set_debugErrorLevel:function(value){try{this.bu('set_debugErrorLevel',arguments);var AG=this.AL();this.KB(value);if(AG<IPCC.Web.UI.DebugErrorLevel.Development){this.bu('set_debugErrorLevel',arguments);}}catch(e){this.bG('set_debugErrorLevel',e);throw e;}},add_mouseDown:function(handler){try{this.LZ(handler);}catch(e){this.bG('add_mouseDown',e);throw e;}},remove_mouseDown:function(handler){try{this.SR(handler);}catch(e){this.bG('remove_mouseDown',e);throw e;}},add_mouseMove:function(handler){try{this.Lm(handler);}catch(e){this.bG('add_mouseMove',e);throw e;}},remove_mouseMove:function(handler){try{this.SF(handler);}catch(e){this.bG('remove_mouseMove',e);throw e;}},add_mouseUp:function(handler){try{this.LC(handler);}catch(e){this.bG('add_mouseUp',e);throw e;}},remove_mouseUp:function(handler){try{this.Sn(handler);}catch(e){this.bG('remove_mouseUp',e);throw e;}},add_selectTextMouseToolCompleted:function(handler){try{this.Wq(handler);}catch(e){this.bG('add_selectTextMouseToolCompleted',e);throw e;}},remove_selectTextMouseToolCompleted:function(handler){try{this.Sq(handler);}catch(e){this.bG('remove_selectTextMouseToolCompleted',e);throw e;}},add_currentPageChanged:function(handler){try{this.avJ(handler);}catch(e){this.bG('add_currentPageChanged',e);throw e;}},remove_currentPageChanged:function(handler){try{this.ayW(handler);}catch(e){this.bG('remove_currentPageChanged',e);throw e;}},add_textPageReady:function(handler){try{this.yO(handler);}catch(e){this.bG('add_textPageReady',e);throw e;}},remove_textPageReady:function(handler){try{this.DR(handler);}catch(e){this.bG('remove_textPageReady',e);throw e;}},add_hyperlinkPageReady:function(handler){try{this.RM(handler);}catch(e){this.bG('add_hyperlinkPageReady',e);throw e;}},remove_hyperlinkPageReady:function(handler){try{this.aav(handler);}catch(e){this.bG('remove_hyperlinkPageReady',e);throw e;}},add_textExtractionFailed:function(handler){this.yj(handler);},remove_textExtractionFailed:function(handler){this.Db(handler);},add_allPagesAdded:function(handler){try{this.avT(handler);}catch(e){this.bG('add_allPagesAdded',e);throw e;}},remove_allPagesAdded:function(handler){try{this.ayv(handler);}catch(e){this.bG('remove_allPagesAdded',e);throw e;}},add_pageOpening:function(handler){try{this.TG(handler);}catch(e){this.bG('add_pageOpening',e);throw e;}},remove_pageOpening:function(handler){try{this.Sr(handler);}catch(e){this.bG('remove_pageOpening',e);throw e;}},add_pageOpened:function(handler){try{this.SS(handler);}catch(e){this.bG('add_pageOpened',e);throw e;}},remove_pageOpened:function(handler){try{this.Uc(handler);}catch(e){this.bG('remove_pageOpened',e);throw e;}},add_pageOpenFailed:function(handler){try{this.Jm(handler);}catch(e){this.bG('add_pageOpenFailed',e);throw e;}},remove_pageOpenFailed:function(handler){try{this.IR(handler);}catch(e){this.bG('remove_pageOpenFailed',e);throw e;}},add_pageDisplayed:function(handler){try{this.ST(handler);}catch(e){this.bG('add_pageDisplayed',e);throw e;}},remove_pageDisplayed:function(handler){try{this.SG(handler);}catch(e){this.bG('remove_pageDisplayed',e);throw e;}},add_propertyChanged:function(handler){try{this.kJ(handler);}catch(e){this.bG('add_propertyChanged',e);throw e;}},remove_propertyChanged:function(handler){try{this.lP(handler);}catch(e){this.bG('remove_propertyChanged',e);throw e;}},add_markAdded:function(handler){try{this.yZ(handler);}catch(e){this.bG('add_markAdded',e);throw e;}},remove_markAdded:function(handler){try{this.xJ(handler);}catch(e){this.bG('remove_markAdded',e);throw e;}},add_markCreating:function(handler){try{this.Tk(handler);}catch(e){this.bG('add_markCreating',e);throw e;}},remove_markCreating:function(handler){try{this.SB(handler);}catch(e){this.bG('remove_markCreating',e);throw e;}},add_markChanged:function(handler){try{this.Ky(handler);}catch(e){this.bG('add_markChanged',e);throw e;}},remove_markChanged:function(handler){try{this.HL(handler);}catch(e){this.bG('remove_markChanged',e);throw e;}},add_markReordered:function(handler){try{this.Kw(handler);}catch(e){this.bG('add_markReordered',e);throw e;}},remove_markReordered:function(handler){try{this.GR(handler);}catch(e){this.bG('remove_markReordered',e);throw e;}},add_markSelectionChanged:function(handler){try{this.GU(handler);}catch(e){this.bG('add_markSelectionChanged',e);throw e;}},remove_markSelectionChanged:function(handler){try{this.HI(handler);}catch(e){this.bG('remove_markSelectionChanged',e);throw e;}},add_markTextSelectionChanged:function(handler){try{this.HZ(handler);}catch(e){this.bG('add_markTextSelectionChanged',e);throw e;}},remove_markTextSelectionChanged:function(handler){try{this.Hc(handler);}catch(e){this.bG('remove_markTextSelectionChanged',e);throw e;}},add_markRemoved:function(handler){try{this.zV(handler);}catch(e){this.bG('add_markRemoved',e);throw e;}},remove_markRemoved:function(handler){try{this.zr(handler);}catch(e){this.bG('remove_markRemoved',e);throw e;}},add_commentAdding:function(handler){try{this.awa(handler);}catch(e){this.bG('add_commentAdding',e);throw e;}},remove_commentAdding:function(handler){try{this.axe(handler);}catch(e){this.bG('remove_commentAdding',e);throw e;}},add_commentAdded:function(handler){try{this.wG(handler);}catch(e){this.bG('add_commentAdded',e);throw e;}},remove_commentAdded:function(handler){try{this.EH(handler);}catch(e){this.bG('remove_commentAdded',e);throw e;}},add_commentRemoved:function(handler){try{this.wv(handler);}catch(e){this.bG('add_commentRemoved',e);throw e;}},remove_commentRemoved:function(handler){try{this.Dq(handler);}catch(e){this.bG('remove_commentRemoved',e);throw e;}},add_commentChanged:function(handler){try{this.sj(handler);}catch(e){this.bG('add_commentChanged',e);throw e;}},remove_commentChanged:function(handler){try{this.va(handler);}catch(e){this.bG('remove_commentChanged',e);throw e;}},add_scaleChanged:function(handler){try{this.SN(handler);}catch(e){this.bG('add_scaleChanged',e);throw e;}},remove_scaleChanged:function(handler){try{this.TN(handler);}catch(e){this.bG('remove_scaleChanged',e);throw e;}},add_exceptionThrown:function(handler){this.Qv(handler);},remove_exceptionThrown:function(handler){this.TF(handler);},writeToLog:function(message){try{this.lO(message);}catch(e){this.bG('writeToLog',e);throw e;}},get_currentState:function(){try{var bd=this.Qf();this.cK('get_currentState',arguments,bd);return bd;}catch(e){this.bG('get_currentState',e);throw e;}},get_scaleFactor:function(){try{var bd=this.qt();this.cK('get_scaleFactor',arguments,bd);return bd;}catch(e){this.bG('get_scaleFactor',e);throw e;}},set_scaleFactor:function(scaleFactor){try{this.bu('set_scaleFactor',arguments);this.aDF(scaleFactor);}catch(e){this.bG('set_scaleFactor',e);throw e;}},zoomIn:function(factor){try{this.bu('zoomIn',arguments);this.Sf(factor);}catch(e){this.bG('zoomIn',e);throw e;}},zoomOut:function(factor){try{this.bu('zoomOut',arguments);this.SP(factor);}catch(e){this.bG('zoomOut',e);throw e;}},getMinMaxZoom:function(){return this.aro();},displayAll:function(){try{this.bu('displayAll',arguments,1);this.asL();}catch(e){this.bG('displayAll',e);throw e;}},display:function(pageIndex){try{this.bu('display',arguments);this.cF(pageIndex);}catch(e){this.bG('display',e);throw e;}},get_textRequired:function(){try{var bd=this.jN();this.cK('get_textRequired',arguments,bd);return bd;}catch(e){this.bG('get_textRequired',e);throw e;}},set_textRequired:function(value){try{this.bu('set_textRequired',arguments);this.HW(value);}catch(e){this.bG('set_textRequired',e);throw e;}},selectText:function(pageIndex,startIndex,endIndex,color){try{this.bu('selectText',arguments,1);this.YS(pageIndex,startIndex,endIndex,color);}catch(e){this.bG('selectText',e);throw e;}},clearSelectedText:function(pageIndex){try{this.bu('clearSelectedText',arguments,1);this.arS(pageIndex);}catch(e){this.bG('clearSelectedText',e);throw e;}},clearAllSelectedText:function(){try{this.bu('clearAllSelectedText',arguments);this.aqk();}catch(e){this.bG('clearAllSelectedText',e);throw e;}},get_maxPrefetch:function(){try{var bd=this.alN();this.cK('get_maxPrefetch',arguments,bd);return bd;}catch(e){this.bG('get_maxPrefetch',e);throw e;}},set_maxPrefetch:function(value){try{this.bu('set_maxPrefetch',arguments);this.aBU(value);}catch(e){this.bG('set_maxPrefetch',e);throw e;}},get_displayPagesWhenScrolling:function(){try{var bd=this.anA();this.cK('get_displayPagesWhenScrolling',arguments,bd);return bd;}catch(e){this.bG('get_displayPagesWhenScrolling',e);throw e;}},set_displayPagesWhenScrolling:function(value){try{this.bu('set_displayPagesWhenScrolling',arguments);this.aEm(value);}catch(e){this.bG('set_displayPagesWhenScrolling',e);throw e;}},get_maxOutOfViewDisplay:function(){try{var bd=this.anK();this.cK('get_maxOutOfViewDisplay',arguments,bd);return bd;}catch(e){this.bG('get_maxOutOfViewDisplay',e);throw e;}},set_maxOutOfViewDisplay:function(value){try{this.bu('set_maxOutOfViewDisplay',arguments);this.aBE(value);}catch(e){this.bG('set_maxOutOfViewDisplay',e);throw e;}},get_discardOutOfViewText:function(){try{var bd=this.apk();this.cK('get_discardOutOfViewText',arguments,bd);return bd;}catch(e){this.bG('get_discardOutOfViewText',e);throw e;}},set_discardOutOfViewText:function(value){try{this.bu('set_discardOutOfViewText',arguments);this.aEC(value);}catch(e){this.bG('set_discardOutOfViewText',e);throw e;}},get_scrollDisplayThreshold:function(){try{var bd=this.apG();this.cK('get_scrollDisplayThreshold',arguments,bd);return bd;}catch(e){this.bG('get_scrollDisplayThreshold',e);throw e;}},set_scrollDisplayThreshold:function(value){try{this.bu('set_scrollDisplayThreshold',arguments);this.aCW(value);}catch(e){this.bG('set_scrollDisplayThreshold',e);throw e;}},get_mouseCursor:function(){try{var bd=this.ajU();this.cK('get_mouseCursor',arguments,bd);return bd;}catch(e){this.bG('ajU',e);throw e;}},set_mouseCursor:function(value){try{this.bu('set_mouseCursor',arguments);this.aBC(value);}catch(e){this.bG('set_mouseCursor',e);throw e;}},get_mouseTool:function(){try{var bd=this.ZY();this.cK('get_mouseTool',arguments,bd);return bd;}catch(e){this.bG('get_mouseTool',e);throw e;}},set_mouseTool:function(value){try{this.bu('set_mouseTool',arguments);this.FN(value);}catch(e){this.bG('set_mouseTool',e);throw e;}},get_markHandleMode:function(){try{var bd=this.yR();this.bu('get_markHandleMode',arguments);return bd;}catch(e){this.bG('get_markHandleMode',e);throw e;}},set_markHandleMode:function(h){try{this.bu('set_markHandleMode',arguments);this.Gb(h);}catch(e){this.bG('set_markHandleMode',e);throw e;}},get_retainPageText:function(){try{var bd=this.apv();this.bu('get_retainPageText',arguments);return bd;}catch(e){this.bG('get_retainPageText',e);throw e;}},set_retainPageText:function(h){try{this.bu('set_retainPageText',arguments);this.aEc(h);}catch(e){this.bG('set_retainPageText',e);throw e;}},get_allowMarkEdits:function(){try{var bd=this.auW();this.bu('get_allowMarkEdits',arguments);return bd;}catch(e){this.bG('get_allowMarkEdits',e);throw e;}},set_allowMarkEdits:function(bool){try{this.bu('set_allowMarkEdits',arguments);this.aBo(! !bool);}catch(e){this.bG('set_allowMarkEdits',e);throw e;}},get_currentPage:function(){try{var bd=this.ald();this.cK('get_currentPage',arguments,bd);return bd;}catch(e){this.bG('get_currentPage',e);throw e;}},get_pageNodeId:function(pageIndex){try{var amw=this.anz(pageIndex);this.cK('get_pageNodeId',arguments,amw);return amw;}catch(e){this.bG('get_pageNodeId',e);throw e;}},scrollToNextPage:function(){try{this.bu('scrollToNextPage',arguments);this.aFk();}catch(e){this.bG('scrollToNextPage',e);throw e;}},scrollToPreviousPage:function(){try{this.bu('scrollToPreviousPage',arguments);this.aEU();}catch(e){this.bG('scrollToPreviousPage',e);throw e;}},scrollToFirstPage:function(){try{this.bu('scrollToFirstPage',arguments);this.aFb();}catch(e){this.bG('scrollToFirstPage',e);throw e;}},scrollToLastPage:function(){try{this.bu('scrollToLastPage',arguments);this.aFX();}catch(e){this.bG('scrollToLastPage',e);throw e;}},scrollToPage:function(pageIndex){try{this.bu('scrollToPage',arguments,1);this.qg(pageIndex);}catch(e){this.bG('scrollToPage',e);throw e;}},rotate:function(degreesClockwise){try{this.bu('rotate',arguments,1);this.aDf(degreesClockwise);}catch(e){this.bG('rotate',e);throw e;}},rotateAll:function(degreesClockwise){try{this.bu('rotateAll',arguments,1);this.afp(degreesClockwise,true);}catch(e){this.bG('rotateAll',e);throw e;}},get_enabled:function(){try{var bd=this.anI();this.cK('get_enabled',arguments,bd);return bd;}catch(e){this.bG('get_enabled',e);throw e;}},get_pageLayout:function(){try{var bd=this.amk();this.cK('get_pageLayout',arguments,bd);return bd;}catch(e){this.bG('get_pageLayout',e);throw e;}},set_pageLayout:function(value){try{this.bu('set_pageLayout',arguments);this.aBO(value);}catch(e){this.bG('set_pageLayout',e);throw e;}},get_viewMode:function(){try{var bd=this.aqq();this.cK('get_viewMode',arguments,bd);return bd;}catch(e){this.bG('get_viewMode',e);throw e;}},set_viewMode:function(value){try{this.bu('set_viewMode',arguments);this.Rx(value);}catch(e){this.bG('set_viewMode',e);throw e;}},get_loadingContent:function(){try{var bd=this.aoi();this.cK('get_loadingContent',arguments,bd);return bd;}catch(e){this.bG('get_loadingContent',e);throw e;}},set_loadingContent:function(value){try{this.bu('set_loadingContent',arguments);this.aBN(value);}catch(e){this.bG('set_loadingContent',e);throw e;}},fitPages:function(fitType){try{this.bu('fitPages',arguments,1);this.auU(fitType);}catch(e){this.bG('fitPages',e);throw e;}},openPage:function(pageIndex){try{this.bu('openPage',arguments,1);this.Nh(pageIndex);}catch(e){this.bG('openPage',e);throw e;}},requestPageAttributes:function(page,attributesRetrievedCallback,attributesRetrievalFailedCallback){try{this.bu('requestPageAttributes',arguments,1);this.Mo(page,attributesRetrievedCallback,attributesRetrievalFailedCallback);}catch(e){this.bG('requestPageAttributes',e);throw e;}},scrollRegionIntoView:function(pageIndex,rectangle){try{this.bu('scrollRegionIntoView',arguments,1);return this.aDU(pageIndex,rectangle);}catch(e){this.bG('scrollRegionIntoView',e);throw e;}},scrollBy:function(xVal,yVal){try{this.bu('scrollBy',arguments,1);return this.aFw(xVal,yVal);}catch(e){this.bG('scrollBy',e);throw e;}},scrollConversationIntoView:function(conversation){try{this.bu('scrollConversationIntoView',arguments,1);return this.aGg(conversation);}catch(e){this.bG('scrollConversationIntoView',e);throw e;}},get_documents:function(){return this.abq();},get_encryption:function(){try{var bd=this.hS();this.cK('get_encryption',arguments,bd);return bd;}catch(e){this.bG('get_encryption',e);throw e;}},set_encryption:function(value){try{this.bu('set_encryption',arguments);this.np(value);}catch(e){this.bG('set_encryption',e);throw e;}},get_annotationXmlDom:function(){try{var bd=this.atO();return bd;}catch(e){this.bG('get_annotationXmlDom',e);throw e;}},set_annotationXmlDom:function(value,stampImages,retainExistingMarks,loadAsHidden){try{this.aDP(value,stampImages,retainExistingMarks,loadAsHidden);}catch(e){this.bG('set_annotationXmlDom',e);throw e;}},get_resourcePath:function(){try{var bd=this.us();this.cK('get_resourcePath',arguments,bd);return bd;}catch(e){this.bG('get_resourcePath',e);throw e;}},set_resourcePath:function(h){try{this.bu('set_resourcePath',arguments);this.Iv(h);}catch(e){this.bG('set_resourcePath',e);throw e;}},get_redactionDraftMode:function(){try{var bd=this.nY();this.cK('get_redactionDraftMode',arguments,bd);return bd;}catch(e){this.bG('get_redactionDraftMode',e);throw e;}},set_redactionDraftMode:function(value){try{this.bu('set_redactionDraftMode',arguments);this.qU(value);}catch(e){this.bG('set_redactionDraftMode',e);throw e;}},get_displayedPages:function(){try{var bd=this.apl();this.cK('get_displayedPages',arguments,bd);return bd;}catch(e){this.bG('get_displayedPages',e);throw e;}},get_requireRequestsOptimize:function(){try{var bd=this.xI();this.cK('get_requireRequestsOptimize',arguments,bd);return bd;}catch(e){this.bG('xI',e);throw e;}},set_requireRequestsOptimize:function(value){try{this.bu('set_requireRequestsOptimize',arguments);this.HO(value);}catch(e){this.bG('set_requireRequestsOptimize',e);throw e;}},get_serviceResponseTimeout:function(){try{var bd=this.kN();this.cK('get_serviceResponseTimeout',arguments,bd);return bd;}catch(e){this.bG('get_serviceResponseTimeout',e);throw e;}},set_serviceResponseTimeout:function(value){try{this.bu('set_serviceResponseTimeout',arguments);this.yE(value);}catch(e){this.bG('set_serviceResponseTimeout',e);throw e;}},get_pageRotation:function(){try{var bd=this.anv();this.cK('get_pageRotation',arguments,bd);return bd;}catch(e){this.bG('get_pageRotation',e);throw e;}},set_pageRotation:function(value){try{this.bu('set_pageRotation',arguments);this.aBp(value);}catch(e){this.bG('set_pageRotation',e);throw e;}},getNodeID:function(pageIndex){try{this.bu('getNodeID',arguments,1);return this.aqS(pageIndex);}catch(e){this.bG('getNodeID',e);throw e;}},get_isCommentsPanelOpen:function(){try{var bd=this.apm();this.cK('get_isCommentsPanelOpen',arguments,bd);return bd;}catch(e){this.bG('get_isCommentsPanelOpen',e);throw e;}},openCommentsPanel:function(){try{this.bu('openCommentsPanel',arguments);this.aAy();}catch(e){this.bG('openCommentsPanel',e);throw e;}},closeCommentsPanel:function(){try{this.bu('closeCommentsPanel',arguments);this.arD();}catch(e){this.bG('closeCommentsPanel',e);throw e;}},get_conversationDOMFactory:function(){try{var bd=this.apQ();this.cK('get_conversationDOMFactory',arguments,bd);return bd;}catch(e){this.bG('get_conversationDOMFactory',e);throw e;}},set_conversationDOMFactory:function(value){try{this.bu('set_conversationDOMFactory',arguments);this.aDk(value);}catch(e){this.bG('set_conversationDOMFactory',e);throw e;}},get_selectedConversation:function(){try{var bd=this.apL();this.cK('get_selectedConversation',arguments,bd);return bd;}catch(e){this.bG('get_selectedConversation',e);throw e;}},set_selectedConversation:function(value){try{this.bu('set_selectedConversation',arguments);this.aDu(value);}catch(e){this.bG('set_selectedConversation',e);throw e;}},refreshConversations:function(markIDs){try{this.bu('refreshConversations',arguments);this.awp(markIDs);}catch(e){this.bG('refreshConversations',e);throw e;}}};Mx.registerClass=cd;Mx.registerClass('IPCC.PageList',{});module.exports=Mx;},{"./IPCC.Util":28}],43:[function(require,module,exports){var nz=function(cg,vr){var J=this;this.cg=cg;this.vr=vr;this.aqI=function(){return J.cg;};this.aHJ=function(){return J.vr;};};nz.prototype.get_propertyName=function(){return this.cg;};nz.prototype.get_propertyInfo=function(){return this.vr;};module.exports=nz;},{}],44:[function(require,module,exports){var CW=function(){this.dE=1;this.width=0;this.height=0;this.mL=0;this.zg=0;this.pool=undefined;return this;};CW.prototype.Nb=function(cO){if(cO.width<1||cO.height<1){return[];}var kl=Math.floor(cO.x*this.dE);var lq=Math.floor(cO.y*this.dE);var nN=Math.ceil((cO.x+cO.width)*this.dE);var po=Math.ceil((cO.y+cO.height)*this.dE);var nF=[];var L,fl;var cj=this.tiles.length;for(L=0;L<cj;L++){fl=this.tiles[L];if(fl.x<=nN&&fl.right>=kl&&fl.y<=po&&fl.bottom>=lq){nF.push(fl);}}return nF;};module.exports=CW;},{}],45:[function(require,module,exports){var vK=function(){this.x=0;this.y=0;this.right=0;this.bottom=0;this.ag=0;this.cq=0;this.vp=0;this.yv=0;this.url='';this.poolItem=undefined;this.level=undefined;return this;};vK.prototype.unlock=function(){this.level.pool.afH(this);};vK.prototype.lock=function(){this.level.pool.lockTile(this);};vK.prototype.relock=function(){return this.level.pool.Rf(this);};vK.prototype.get_isLockedAndLoaded=function(){if(this.poolItem===undefined|| !this.poolItem.loaded){return false;}return true;};vK.prototype.toString=function(){var ah='x:'+this.x.toString()+', y:'+this.y.toString()+', right:'+this.right.toString()+', bottom:'+this.bottom.toString();if(this.level){ah='scale:'+this.level.dE.toString()+', '+ah;}return ah;};module.exports=vK;},{}],46:[function(require,module,exports){var lW=function(){this.bM=false;this.F=false;};lW.prototype.mI=function(F){this.F=F;};lW.prototype.eu=function(){this.F=false;};lW.prototype.aR=function(){if(this.bM){this.F.bw().oU();this.bM=false;this.F.cF();}};lW.prototype.pR=function(){this.aR();this.F.cF();};lW.prototype.kf=function(G){this.aR();if(G.domEvent.button===0){var aj=this.F.bw();this.bM=true;aj.Bv(G.constrainedImagePoint);this.sA=G.windowPoint;this.F.cF();}};lW.prototype.ly=function(G){if(G.domEvent.button!==0){this.aR();}if(this.bM){var aj=this.F.bw();aj.xK(G.constrainedImagePoint);this.F.cF();}};lW.prototype.kE=function(G){if(this.bM&&G.domEvent.button===0){var fu=G.windowPoint.x-this.sA.x;var gF=fu*fu;fu=G.windowPoint.y-this.sA.y;gF+=fu*fu;if(gF>25){var F=this.F;var aj=F.bw();var bh=aj.fC();var af=F.eG();var aAz=af.width;var azm=af.height;var aa=F.cU();aj.xK(G.constrainedImagePoint);var kj=aj.vZ();aj.oU();F.bH('userModifiedViewState',{});bh.Ph(aa,af,kj);bh.iE(aa,af);aj.it(bh);F.cF();if(aAz!==af.width||azm!==af.height){bh=aj.fC();bh.Ph(aa,af,kj);bh.iE(aa,af);aj.it(bh);}}}this.aR();};lW.prototype.nV=function(G){var af=this.F.eG();if(G.windowPoint.x<=0||G.windowPoint.x>=af.width-2){this.aR();}if(G.windowPoint.y<=0||G.windowPoint.y>=af.height-2){this.aR();}};lW.prototype.na=function(){this.aR();};module.exports=lW;},{}],47:[function(require,module,exports){var lw={'paramName':'Parameter name: {0}','svctype':'License','argumentNull':'Value cannot be null.','spc':' ','actualValue':'Actual value was {0}.','fwdslash':'/','prodInfo':'prodInfoPass','argumentOutOfRange':'Specified argument was out of the range of valid values.','argumentTypeWithTypes':'Object of type \'{0}\' cannot be converted to type \'{1}\'.','argumentType':'Object cannot be converted to the required type.','invalidOperation':'Operation is not valid due to the current state of the object.','notImplemented':'The method or operation is not implemented.','argument':'Value does not fall within the expected range.','prodFailInfo':'prodInfoFail','svcReqStr':'','viewer':'ClientViewer','querySymb':'?','version':'v=','iv':'iv=','param':'p='};module.exports=lw;},{}],48:[function(require,module,exports){var AP=function(){};AP.prototype.mI=function(F){this.F=F;this.aj=F.bw();};AP.prototype.eu=function(){this.F=false;};AP.prototype.aR=function(){};module.exports=AP;},{}],49:[function(require,module,exports){var dV=require('./IPCC.Util').regEnum;var DB=function(){};DB.registerEnum=dV;DB.prototype={Pinch:"Pinch",Zoom:"Zoom",Fit:"Fit",ViewMode:"ViewMode"};DB.registerEnum('IPCC.ScaleTrigger',false);module.exports=DB;},{"./IPCC.Util":28}],50:[function(require,module,exports){var pd=function(){this.bM=false;this.F=false;};pd.prototype.mI=function(F){this.F=F;};pd.prototype.eu=function(){this.F=false;};pd.prototype.aR=function(){if(this.bM){this.F.oU();this.bM=false;this.F.cF();}};pd.prototype.pR=function(){this.aR();};pd.prototype.kf=function(G){this.aR();if(G.domEvent.button===0){var aj=this.F.bw();this.bM=true;aj.Bv(G.constrainedImagePoint);this.F.cF();}};pd.prototype.ly=function(G){if(G.domEvent.button!==0){this.aR();}if(this.bM){var aj=this.F.bw();aj.xK(G.constrainedImagePoint);this.F.cF();}};pd.prototype.kE=function(G){if(G.domEvent.button===0){this.bM=false;}this.aR();};pd.prototype.nV=function(G){var af=this.F.eG();if(G.windowPoint.x<=0||G.windowPoint.x>=af.width-2){this.aR();}if(G.windowPoint.y<=0||G.windowPoint.y>=af.height-2){this.aR();}};pd.prototype.na=function(){this.aR();};module.exports=pd;},{}],51:[function(require,module,exports){var kI=function(){this.bM=false;this.F=false;};kI.prototype.mI=function(F){this.F=F;};kI.prototype.eu=function(){this.F=false;};kI.prototype.aR=function(){if(this.bM){this.F.bw().YG();this.bM=false;}};kI.prototype.pR=function(){this.aR();};kI.prototype.kf=function(G){if(G.domEvent.button===0){var aj=this.F.bw();this.bM=true;var bZ=this.F.Kx(G.constrainedImagePoint);this.F.hq=bZ;if(!bZ){return;}this.F.Az(bZ);aj.Az(bZ);aj.uk(undefined);this.F.cF();}};kI.prototype.ly=function(G){var F=this.F;F.aGq=true;if(G.domEvent.button!==0){this.aR();}if(this.bM){var aj=F.bw();var bZ=F.Kx(G.constrainedImagePoint);var hA=aj.BK();if(hA===bZ){return;}F.uk(bZ);F.cF();}};kI.prototype.kE=function(G){if(G.domEvent.button===0){this.bM=false;}var F=this.F;var aj=this.F.bw();var da=aj.iO.length;if(da===0){this.aR();return;}var bL=aj.iO[0].bZ;var cl=aj.iO[da-1].bZ;if(F.Ir===true){if(bL>cl){bL=cl;}var L;var jM=IPCC.wt();this.T=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);this.T.bL=bL;this.T.cu=F.EL();this.T.cr=da;this.T.set_fillColor(F.qZ);this.T.jD='y';this.T.ac=jM;for(L=0;L<aj.iO.length;L++){var az=aj.iO[L];var Cn=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);var xg=az.T.ca();Cn.set_fillColor(F.qZ);Cn.set_opacity(az.T.get_opacity());Cn.set_rectangle(xg);Cn.ac=jM;Cn.jD='y';this.F.ep().addMark(Cn);}aj.iO=[];if(da>0){this.F.ep().addMark(this.T);}F.mu().removeAllMarks();}da=aj.iO.length;var acP=new IPCC.Web.UI.TextSelectedEventArgs();acP.text=F.EL();F.bH('selectTextMouseToolCompleted',acP);F.cF();this.aR();};kI.prototype.nV=function(G){var af=this.F.eG();if(G.windowPoint.x<=0||G.windowPoint.x>=af.width-2){this.aR();}if(G.windowPoint.y<=0||G.windowPoint.y>=af.height-2){this.aR();}};kI.prototype.na=function(){this.aR();};module.exports=kI;},{}],52:[function(require,module,exports){var dq=function(){this.F=false;this.Gi=0;this.azf=1;this.afy=2;this.afm=3;};dq.prototype.mI=function(F){this.F=F;this.bX=this.Gi;};dq.prototype.eu=function(){this.F=false;};dq.prototype.aR=function(){this.bX=this.Gi;};dq.prototype.ahS=function(G){var arC=new Date()-this.apH;if(arC<750){var fA=this.adS.x-G.windowPoint.x;var fo=this.adS.y-G.windowPoint.y;var gF=fA*fA+fo*fo;if(gF<2500){return true;}}return false;};dq.prototype.aeY=function(G){this.apH=new Date();this.adS=new IPCC.Web.UI.Point(G.windowPoint.x,G.windowPoint.y);};dq.prototype.ND=function(G){var aF=G.domEvent.rawEvent;if(aF.touches.length===1){if(this.bX===this.afy&&this.ahS(G)){this.bX=this.afm;}else{this.bX=this.azf;}this.aeY(G);this.F.ge('kf',G);}else{this.bX=this.Gi;this.F.ge('pR',G);}};dq.prototype.NJ=function(G){var aF=G.domEvent.rawEvent;if(aF.touches.length===1){this.F.ge('ly',G);}};dq.prototype.NT=function(G){var aF=G.domEvent.rawEvent;if(aF.touches.length===0){if(this.ahS(G)){if(this.bX===this.afm){this.bX=this.Gi;this.F.ge('kE',G);this.F.ge('zf',G);}else{this.aeY(G);this.bX=this.afy;this.F.ge('kE',G);}}else{this.bX=this.Gi;this.F.ge('kE',G);}}};dq.prototype.IE=function(G){this.F.ge('pR',G);};module.exports=dq;},{}],53:[function(require,module,exports){var BB=function(ag,cq,hC,fO){IPCC.Web.UI.Rectangle.call(this,0,0,0,0);this.width=ag;this.height=cq;this.hC=hC;this.fO=fO;return this;};BB.prototype.toString=function(){return 'Space('+this.width+' x '+this.height+', '+this.hC+', '+this.fO+')';};module.exports=BB;},{}],54:[function(require,module,exports){var zS=function(LG){this.xO=(typeof(LG)!=='undefined'&&LG!==null&&LG!=='')?[LG.toString()]:[];this.h={};this.cj=0;};zS.prototype.aEP=function(bp){this.xO[this.xO.length]=bp;};zS.prototype.aGE=function(bp){this.xO[this.xO.length]=((typeof(bp)==='undefined')||(bp===null)||(bp===''))?'\r\n':bp+'\r\n';};zS.prototype.aFa=function(){this.xO=[];this.h={};this.cj=0;};zS.prototype.aFA=function(){if(this.xO.length===0){return true;}return this.toString()==='';};zS.prototype.aHl=function(At){At=At||'';var parts=this.xO;if(this.cj!==parts.length){this.h={};this.cj=parts.length;}var val=this.h;if(typeof(val[At])==='undefined'){if(At!==''){for(var i=0;i<parts.length;){if((typeof(parts[i])==='undefined')||(parts[i]==='')||(parts[i]===null)){parts.splice(i,1);}else{i++;}}}val[At]=this.xO.join(At);}return val[At];};module.exports=zS;},{}],55:[function(require,module,exports){var dX=function(F,qj){this.OR=false;this.Wn=false;this.EK=true;this.Xk=false;this.Lz=false;this.xe=0;this.yt=0;var bQ=this;this.azG='opacity';this.aAG=function(di){return di.toString();};var alb=function alb(aN,et,nX,aa,lT,nd){var hI;if(this.F.og()===true){aN.vH.setAttribute('width',nX.width);aN.vH.setAttribute('height',nX.height);aN.tZ.setAttribute('width',nX.width);aN.tZ.setAttribute('height',nX.height);hI=et.nM().toString()+','+et.rj().toString()+','+et.sG().toString()+','+et.rE().toString()+','+(et.wH()+lT).toString()+','+(et.vA()+nd).toString();this.gc(aN.yn,'transform','matrix('+hI+')');}else{aN.vH.setAttribute('width',nX.width);aN.vH.setAttribute('height',nX.height);aN.tZ.setAttribute('width',nX.width);aN.tZ.setAttribute('height',nX.height);hI=et.nM().toString()+','+et.rj().toString()+','+et.sG().toString()+','+et.rE().toString()+','+(et.wH()+lT).toString()+','+(et.vA()+nd).toString();this.gc(aN.yn,'transform','matrix('+hI+')');}};function axN(aN){var pathList=aN.vH.getElementsByTagName('path');var gList=aN.vH.getElementsByTagName('g');aN.Ot=[];function amX(pathItem,index){if(!pathItem.hasAttribute('data-pcc-mark')){if(pathItem.hasAttribute('stroke-width')||pathItem.style.strokeWidth){pathItem.originalStrokeWidth=pathItem.getAttribute('stroke-width')||pathItem.style.strokeWidth;aN.Ot.push(pathItem);}}};IPCC.V.forEach(pathList,amX);IPCC.V.forEach(gList,amX);};this.adM=function(aN){var aj=F.bw();var aur=1;var mU=aj.apR();function setStrokeWidthToOriginalValue(pathItem,index){if(pathItem.hasAttribute('stroke-width')){pathItem.setAttribute('stroke-width',parseFloat(pathItem.originalStrokeWidth));}else{var strokeWidth=parseFloat(pathItem.originalStrokeWidth);pathItem.style.strokeWidth=strokeWidth;}};function updateStrokeWidthByLineWidthMultiplier(pathItem,index){if(pathItem.hasAttribute('stroke-width')){pathItem.setAttribute('stroke-width',parseFloat(pathItem.originalStrokeWidth*mU));}else{var strokeWidth=parseFloat(pathItem.originalStrokeWidth);pathItem.style.strokeWidth=strokeWidth*mU;}};if(aN.Ot===undefined){axN(aN);}if(mU===aur){IPCC.V.forEach(aN.Ot,setStrokeWidthToOriginalValue);}else{IPCC.V.forEach(aN.Ot,updateStrokeWidthByLineWidthMultiplier);}aj.aCn(false);};function aAd(aN,bb){aN.ru.setAttribute('exponent',bb);aN.ta.setAttribute('exponent',bb);aN.sO.setAttribute('exponent',bb);};function ayT(aN,bb){var aqw=841;var jU=(bb/aqw)* -1;var hI;if(IPCC.V.CT){hI='{00} {01} {02} '+'{10} {11} {12} '+'{20} {21} {22}';hI=hI.replace('{00}',jU).replace('{01}',jU).replace('{02}',jU).replace('{10}',jU).replace('{11}',1).replace('{12}',jU).replace('{20}',jU).replace('{21}',jU).replace('{22}',jU);}else{hI='{00} {01} {02} {03} {04} '+'{10} {11} {12} {13} {14} '+'{20} {21} {22} {23} {24} '+'{30} {31} {32} {33} {34} '+'{40} {41} {42} {43} {44}';hI=hI.replace('{00}',0).replace('{01}',0).replace('{02}',0).replace('{03}',0).replace('{04}',0).replace('{10}',0).replace('{11}',jU).replace('{12}',jU).replace('{13}',jU).replace('{14}',0).replace('{20}',0).replace('{21}',jU).replace('{22}',1).replace('{23}',jU).replace('{24}',0).replace('{30}',0).replace('{31}',jU).replace('{32}',jU).replace('{33}',jU).replace('{34}',0).replace('{40}',0).replace('{41}',0).replace('{42}',0).replace('{43}',0).replace('{44}',0);}aN.mT.setAttribute('kernelMatrix',hI);};this.asI=function(aN){var aj=F.bw();var pL=aj.aoF();var sB=aj.apP();if(sB===0&&pL===1){aN.yn.removeAttribute('filter','url(#'+aN.HE+')');}else{aN.yn.setAttribute('filter','url(#'+aN.HE+')');}aAd(aN,pL);ayT(aN,sB);};var XA,Wp;this.aeh=function(aN,et,nX,aa,lT,nd){if(aN.YX.match('maglevel')){alb.apply(this,arguments);return;}var bo=aN.gz.parentElement.getBoundingClientRect();var kC=bo.width/aa.width;var akC=function(val){return Math.abs(val)<1.0e-14;};var fH=0,es=0;var aps=function(){var qm=et.rj();if(akC(qm)){qm=0;}var pO=et.sG();if(akC(pO)){pO=0;}var aAm=et.nM();var eQ=(qm>=0&&pO<0)?90:(qm<0&&pO>=0)?270:(aAm<0)?180:(qm>=0&&pO>=0)?0:0;switch(eQ){case 90:fH=bo.width;break;case 180:fH=bo.width;es=bo.height;break;case 270:es=bo.height;break;}return eQ*(Math.PI/180);};var eQ=aps();if(parseInt(eQ,10)===1||parseInt(eQ,10)===4){kC=bo.height/aa.width;}if(kC===XA&&eQ===Wp){return;}else{XA=kC;Wp=eQ;}var fD=1,he=0;if(eQ!==0){fD=Math.cos(eQ);he=Math.sin(eQ);}var bh={kC:fD*kC,rn:fD*kC,qm:he*kC,pO:he* -1*kC,fH:fH,es:es};var aBd=new IPCC.eo(bh.kC,bh.qm,bh.pO,bh.rn,bh.fH,bh.es);et.RA(aBd);F.bw().it(et);var hI='matrix({scaleX},{skewX},{skewY},{scaleY},{moveX},{moveY})';hI=hI.replace('{scaleX}',bh.kC).replace('{scaleY}',bh.rn).replace('{skewX}',bh.qm).replace('{skewY}',bh.pO).replace('{moveX}',bh.fH).replace('{moveY}',bh.es);this.gc(aN.yn,'transform',hI);};this.asi=function(){XA=undefined;Wp=undefined;};this.aCe(F);this.aoq=function(dR){var af=new IPCC.BB(dR.clientWidth,dR.clientHeight,96,96);return af;};this.aeC=function(aF){aF.preventDefault();bQ.kf(aF);};this.agq=function(aF){aF.preventDefault();bQ.ly(aF);};this.ahj=function(aF){aF.preventDefault();bQ.kE(aF);};this.agf=function(aF){bQ.kf(aF);};this.adU=function(aF){bQ.zf(aF);};this.ahp=function(aF){bQ.ly(aF);};this.Qr=function(aF){bQ.na(aF);};this.ahh=function(aF){bQ.kE(aF);};this.afY=function(aF){bQ.zf(aF);};this.akU=function(aF){bQ.WO(aF);};this.OV=function(aF){if(aF.target!==document.activeElement){bQ.aAw(aF);}};this.acT=function(aF){if(aF.target!==document.activeElement){bQ.azQ(aF);}};this.nV=function(aF){try{aF.preventDefault();var G=new IPCC.Web.UI.MouseEventArgs();G.domEvent=aF;bQ.pF(G);F.awK(G);}catch(ex){F.bG('mouseOut',ex);}};this.ND=function(aF){try{aF.preventDefault();var G=new IPCC.Web.UI.MouseEventArgs();G.domEvent=aF;bQ.pF(G);F.awS(G);}catch(ex){F.bG('touchStart',ex);}};this.NJ=function(aF){try{aF.preventDefault();var G=new IPCC.Web.UI.MouseEventArgs();G.domEvent=aF;bQ.pF(G);F.avW(G);}catch(ex){F.bG('touchMove',ex);}};this.NT=function(aF){try{aF.preventDefault();var G=new IPCC.Web.UI.MouseEventArgs();G.domEvent=aF;bQ.pF(G);F.awh(G);}catch(ex){F.bG('touchEnd',ex);}};this.IE=function(aF){try{aF.preventDefault();var G=new IPCC.Web.UI.MouseEventArgs();G.domEvent=aF;bQ.pF(G);F.awv(G);}catch(ex){F.bG('touchCancel',ex);}};this.ajT=function(aF){try{aF.preventDefault();}catch(ex){F.bG('dragStart',ex);}};this.aDE=function(){var eZ=F.lU().igElements.mz;IPCC.Web.UI.aC.addHandler(eZ,"mousewheel",this.Qr);IPCC.Web.UI.aC.addHandler(eZ,"DOMMouseScroll",this.Qr);if(qj){IPCC.Web.UI.aC.addHandler(eZ,"touchstart",this.ND);IPCC.Web.UI.aC.addHandler(eZ,"touchmove",this.NJ);IPCC.Web.UI.aC.addHandler(eZ,"touchend",this.NT);IPCC.Web.UI.aC.addHandler(eZ,"touchcancel",this.IE);}IPCC.Web.UI.aC.addHandler(eZ,"mouseout",this.nV);IPCC.Web.UI.aC.addHandler(eZ,"dragstart",this.ajT);};this.apV=function(){var eZ=F.lU().igElements.mz;IPCC.Web.UI.aC.removeHandler(eZ,"DOMMouseScroll",this.Qr);IPCC.Web.UI.aC.removeHandler(eZ,"mouseout",this.nV);if(qj){IPCC.Web.UI.aC.removeHandler(eZ,"touchstart",this.ND);IPCC.Web.UI.aC.removeHandler(eZ,"touchmove",this.NJ);IPCC.Web.UI.aC.removeHandler(eZ,"touchend",this.NT);IPCC.Web.UI.aC.removeHandler(eZ,"touchcancel",this.IE);}IPCC.Web.UI.aC.removeHandler(eZ,"dragstart",this.ajT);};function ato(aN,ig){var oO=document.createElementNS('http://www.w3.org/2000/svg','filter');var HE='filter'+ig;aN.HE=HE;oO.setAttribute('id',HE);oO.setAttribute('x','0');oO.setAttribute('y','0');oO.setAttribute('filterUnits','objectBoundingBox');oO.setAttribute('color-interpolation-filters','sRGB');return oO;};function atl(ig){var mT=document.createElementNS('http://www.w3.org/2000/svg','feConvolveMatrix');mT.setAttribute('in','SourceGraphic');mT.setAttribute('result',ig+'mT');mT.setAttribute('preserveAlpha','true');if(IPCC.V.CT){mT.setAttribute('order','3 3');mT.setAttribute('kernelMatrix','0 0 0 0 1 0 0 0 0');}else{mT.setAttribute('order','5 5');mT.setAttribute('kernelMatrix','0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0');}return mT;};function arL(ig){var nR=document.createElementNS('http://www.w3.org/2000/svg','feComponentTransfer');nR.setAttribute('in',ig+'mT');nR.setAttribute('result',ig+'nR');return nR;};function arw(ig){var ru=document.createElementNS('http://www.w3.org/2000/svg','feFuncR');ru.setAttribute('type','gamma');ru.setAttribute('amplitude','1');ru.setAttribute('exponent','1');ru.setAttribute('offset','0');var ta=document.createElementNS('http://www.w3.org/2000/svg','feFuncG');ta.setAttribute('type','gamma');ta.setAttribute('amplitude','1');ta.setAttribute('exponent','1');ta.setAttribute('offset','0');var sO=document.createElementNS('http://www.w3.org/2000/svg','feFuncB');sO.setAttribute('type','gamma');sO.setAttribute('amplitude','1');sO.setAttribute('exponent','1');sO.setAttribute('offset','0');return{ru:ru,ta:ta,sO:sO};};function aFi(aN,ig){var GM=document.createElementNS('http://www.w3.org/2000/svg','feMerge');var ahD=document.createElementNS('http://www.w3.org/2000/svg','feMergeNode');var agJ=document.createElementNS('http://www.w3.org/2000/svg','feMergeNode');ahD.setAttribute('in',ig+'mT');agJ.setAttribute('in',ig+'nR');GM.appendChild(ahD);GM.appendChild(agJ);return GM;};this.aqm=function(aN,gz,sJ,ig){var L,bv,dR,Ze;var QO=function(bx,cR,ak){var dR=document.createElementNS('http://www.w3.org/2000/svg',bx);var L;if(cR){dR.setAttribute('id',cR);}for(L in ak){if(ak.hasOwnProperty(L)){dR.setAttribute(L,ak[L]);}}return dR;};var ef=QO('svg',null,{xmlns:'http://www.w3.org/2000/svg',version:'1.1',xlink:'http://www.w3.org/1999/xlink','image-rendering':'optimizeQuality'});var oO=ato(aN,ig);aN.aIB=oO;var mT=atl(ig);aN.mT=mT;oO.appendChild(mT);var nR=arL(ig);aN.nR=nR;oO.appendChild(nR);var CU=arw();nR.appendChild(CU.ru);nR.appendChild(CU.ta);nR.appendChild(CU.sO);aN.ru=CU.ru;aN.ta=CU.ta;aN.sO=CU.sO;var GM=aFi(aN,ig);oO.appendChild(GM);ef.appendChild(oO);aN.tZ=QO('rect',null,{x:0,y:0,'fill-opacity':'0.005',fill:'#808080'});ef.appendChild(aN.tZ);var QX=QO('g',null,{});aN.yn=QX;ef.appendChild(QX);var cj;if(F.og()===false){cj=sJ.fp.length;}else{cj=1;}for(L=0;L<cj;L++){bv=sJ.fp[L];bv.pool.parentElementID=ig+L.toString();Ze=1/bv.dE;dR=QO('g',bv.pool.parentElementID,{transform:'matrix('+Ze.toString()+',0,0,'+Ze.toString()+',0,0)'});QX.appendChild(dR);}aN.vH=ef;gz.appendChild(ef);};this.aCz=function(jm){var arx=this.amU();jm.elementID=arx;};this.aFs=function(jm){var dR=document.getElementById(jm.elementID);this.gc(dR,'display','none');};this.aku=function(jm){var dR=document.getElementById(jm.elementID);if(dR===null){jm.elementID='';return;}dR.setAttributeNS('http://www.w3.org/1999/xlink','href','');dR.parentNode.removeChild(dR);jm.elementID='';};var aAt=function(aF){try{aF.target.onload=undefined;aF.target.onerror=undefined;aF.target.onabort=undefined;var jm=aF.target.poolItem;jm.loaded=true;bQ.AH();}catch(ex){F.bG('downloadImage',ex);}};var ajO=function(aF){try{aF.target.onload=undefined;aF.target.onerror=undefined;aF.target.onabort=undefined;aF.target.setAttributeNS('http://www.w3.org/1999/xlink','href','');aF.target.setAttribute('display','none');throw new IPCC.Web.UI.ImGearException('An image failed to download or the user cancelled it',{name:'IPCC.Web.UI.ImGearHttpException'});}catch(ex){F.bG('downloadImage',ex);var co=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();co.exception=ex;co.pageNumber=F.aP;F.bH('pageOpenFailed',co);}};this.aEM=function(zB){var L;var cj=zB.length;if(F.og()===false){cj=zB.length;}else{cj=1;}for(L=0;L<cj;L++){var ff=zB[L];var dR=document.getElementById(ff.poolItem.elementID);if(dR===null){var jm=ff.poolItem;var Mf=jm.pool;var gz=document.getElementById(Mf.parentElementID);dR=document.createElementNS('http://www.w3.org/2000/svg','image');this.gc(dR,'id',jm.elementID);this.gc(dR,'externalResourcesRequired','true');dR.poolItem=jm;dR.onload=aAt;dR.onerror=ajO;dR.onabort=ajO;if(document.documentMode>8||IPCC.V.vj.zE){jm.loaded=true;}dR.setAttributeNS('http://www.w3.org/1999/xlink','href','data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7');this.axc(dR,ff.url,'image/'+ff.contentType);gz.appendChild(dR);this.gc(dR,'display','block');var ag=ff.right-ff.x;var cq=ff.bottom-ff.y;this.gc(dR,'x',ff.x);this.gc(dR,'y',ff.y);this.gc(dR,'width',ag);this.gc(dR,'height',cq);if(cj>1){var arH=ag-ff.vp;var asb=cq-ff.yv;var MY=document.createElementNS('http://www.w3.org/2000/svg','clipPath');MY.id=dR.id+'_clip';var ey=document.createElementNS('http://www.w3.org/2000/svg','rect');this.gc(ey,'x',ff.x-ff.vp);this.gc(ey,'y',ff.y-ff.yv);this.gc(ey,'width',arH);this.gc(ey,'height',asb);this.gc(ey,'class','expand-on-print');MY.appendChild(ey);var insertBeforeElement=null;for(var i=0;i<gz.childNodes.length;i++){if(gz.childNodes.item(i).getAttribute('x')<ff.x||gz.childNodes.item(i).getAttribute('y')<ff.y){insertBeforeElement=gz.childNodes.item(i);break;}}gz.insertBefore(dR,insertBeforeElement);gz.appendChild(MY);this.gc(dR,'style','clip-path: url(#'+MY.id+')');this.gc(dR,'class','no-clip-on-print');}}this.gc(dR,'display','block');}if((document.documentMode>8||IPCC.V.vj.zE)&&zB.length>0){bQ.AH();}};this.axc=function(dR,an,vF){var rF=true;var lN=0;if(F.kN()===0){rF=false;}function fB(aA){var dm,co;try{var eL=IPCC.Web.FJ(aA),Zy;var nQ=aA.getResponseHeader("Accusoft-Data-Encrypted");if(nQ==='true'&&F.hS()===true){var tM=IPCC.Web.hl.qf.tn(aA.getResponseHeader("Accusoft-Data-SK"));var aG=IPCC.Web.Fb(tM,iT);var tS=IPCC.Web.DF(eL,aG,iT);Zy=IPCC.Web.hl.qf.ni(tS,0,0);}else{Zy=IPCC.Web.hl.qf.ni(eL,0,0);}dR.setAttributeNS('http://www.w3.org/1999/xlink','href','data:'+vF+';base64,'+Zy);}catch(ex){dm="Image error, Error message = "+ex.message;co=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();co.exception=ex;co.pageNumber=F.aP;F.bH('pageOpenFailed',co);throw new IPCC.Web.UI.ImGearArgumentException(null,dm);}};function fh(ah){var fX=ah.response.status,dm,lK,mq;if(!ah.response){throw new IPCC.Web.UI.ImGearHttpException(fX,"Client Image load timeout");}if(fX===403){lN++;if(ah.response.statusText&&ah.response.statusText!==""){dm="Expired viewer session ID, error message from the server: "+ah.response.statusText;}else{dm="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(fX,dm);}lK=ah.response.getResponseHeader('Accusoft-Status-Message');if(lK){var sb;mq=ah.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.yX(mq)){sb=parseInt(mq,10);}throw new IPCC.Web.UI.ImGearHttpException(fX,lK,sb);}else{if(ah.response.statusText&&ah.response.statusText!==""){dm=ah.response.statusText;}else{dm="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(fX,dm);}};var hj={method:'GET'};if(rF===true){hj.timeout=F.kN();}if(F.anW()&&F.hS()===true){var iT=IPCC.Web.FT.aih(4);var qs=IPCC.Web.hl.Fu.ni(iT);var aqE=an+'&iv='+qs;hj.url=aqE;}else{hj.mimeType='text/plain; charset=x-user-defined';hj.url=an;}IPCC.V.mx.fa(hj).then(fB,fh);};this.aDd=function(aN){var J=this;if(aN.Rh){return;}var lN=0;var ff=aN.sJ.fp[0].tiles[0];if(!ff){return;}var Mf=ff.level.pool;var gz=document.getElementById(Mf.parentElementID);var rF=true;if(F.kN()===0){rF=false;}var vE=F.aaG();if(aN.Ju){if(vE===2){delete aN.Ju;if(gz.childNodes.length>0){gz.removeChild(gz.childNodes[0]);}}else if(vE===1){if(gz.childNodes.length>0){gz.removeChild(gz.childNodes[0]);}}else{if(gz.childNodes.length===0){gz.appendChild(aN.aog);}}F.wn=true;return;}if(vE>0){return;}function fB(aA){var co,dm;aN.Rh=false;try{try{var nh;var nQ=aA.getResponseHeader("Accusoft-Data-Encrypted");if(nQ==='true'&&F.hS()===true){var tM=IPCC.Web.hl.qf.tn(aA.getResponseHeader("Accusoft-Data-SK"));var aG=IPCC.Web.Fb(tM,iT);var eL=IPCC.Web.FJ(aA);var tS=IPCC.Web.DF(eL,aG,iT);nh=IPCC.Web.hl.HA.ni(tS);}else{nh=aA.responseText;}aBy(nh);}catch(ex){dm="SVG image error, Error message = "+ex.message;co=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();co.exception=ex;co.pageNumber=F.aP;F.bH('pageOpenFailed',co);throw new IPCC.Web.UI.ImGearArgumentException(null,dm);}}catch(e){F.bG('openPage',e);if(typeof(F.bH)==='function'){co=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();co.exception=e;co.pageNumber=F.aP;F.bH('pageOpenFailed',co);}}};function fh(ah){var co,dm,lK,mq;aN.Rh=false;try{if(!ah.response){throw new IPCC.Web.UI.ImGearHttpException(0,"Client SVG load timeout");}var fX=ah.response.status;if(fX===480){lN++;if(ah.response.statusText&&ah.response.statusText!==""){dm=dm="PDF file password required, error message from the server: "+ah.response.statusText;}else{dm="PDF file password required.";}throw new IPCC.Web.UI.ImGearHttpException(fX,dm);}if(fX===403){lN++;if(ah.response.statusText&&ah.response.statusText!==""){dm="Expired viewer session ID, error message from the server: "+ah.response.statusText;}else{dm="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(fX,dm);}lK=ah.response.getResponseHeader('Accusoft-Status-Message');if(lK){var sb;mq=ah.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.yX(mq)){sb=parseInt(mq,10);}throw new IPCC.Web.UI.ImGearHttpException(fX,lK,sb);}else{if(ah.response.statusText&&ah.response.statusText!==""){dm=ah.response.statusText;}else{dm="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(fX,dm);}}catch(e){F.bG('openPage',e);if(typeof(F.bH)==='function'){co=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();co.exception=e;co.pageNumber=F.aP;F.bH('pageOpenFailed',co);}}};var arK=function(){var aj=F.bw();var zw=aj.alw();F.wn=true;F.bH('pageDisplayed',{be:F.aP});if(zw){J.adM(aN);}};var aBy=function(gU){var mO=Mf.parentElementID.toString();var LV=(IPCC.V.CT||IPCC.V.Yy)?'':window.location.href.replace(window.location.hash,'').replace(/#$/,'');var ut=IPCC.V.aqQ(gU,LV,mO);var pf=ut.querySelectorAll('style');IPCC.V.forEach(pf,function(bJ){var EF=(bJ.styleSheet)?bJ.styleSheet.cssText:bJ.textContent;if(bJ.styleSheet){bJ.styleSheet.cssText=EF;}else{bJ.appendChild(document.createTextNode(EF));}});var le=null;var Ip=ut.firstChild;while(Ip!==null){if(Ip.nodeName==='svg'){le=Ip;break;}Ip=Ip.nextSibling;}if(le===null){throw new IPCC.Web.UI.ImGearInvalidOperationException('Unable to process SVG image data.');}if(!aN.Ju){aN.aog=le;gz.appendChild(le);aN.Ju=true;if(!F.wn&&aN.Ju){setTimeout(arK,1);}}};var an;var iT,qs;F.wn=false;if(F.hS()===true){iT=IPCC.Web.FT.Wt(4,IPCC.Web.Oo());qs=IPCC.Web.hl.Fu.ni(iT);an=ff.url+'&iv='+qs;}else{an=ff.url;}var hj={method:'GET',url:an,cache:true};if(rF===true){hj.timeout=F.kN();}aN.Rh=true;IPCC.V.mx.fa(hj).then(fB,fh);};this.aoH=function(ff,di){if(!ff){return;}var BI=document.getElementById(ff.poolItem.elementID);this.gc(BI,'x',ff.x);this.gc(BI,'y',ff.y);this.gc(BI,'width',ff.right-ff.x);this.gc(BI,'height',ff.bottom-ff.y);this.gc(BI,'opacity',di);this.gc(BI,'display','block');};this.ael=function(zB,di,et){var L;if(F.og()===false){for(L=0;L<zB.length;L++){this.aoH(zB[L],di);}}};return this;};dX.viewerCounter=0;dX.tileCounter=0;dX.imageIDCounter=0;dX.prototype.aCe=function(F){this.ig=IPCC.dX.viewerCounter.toString();IPCC.dX.viewerCounter++;this.F=F;if(IPCC.ce){this.od=new IPCC.Web.UI.MarkCollection();}var J=this;function aAC(ax,G){J.azr(G);};function yB(ax,G){J.awR(G);};F.kJ(aAC);F.add_markAdded(yB);F.add_markChanged(yB);F.add_inProgressMarkChanged(yB);F.add_markRemoved(yB);F.add_markReordered(yB);F.add_marksLoaded(yB);F.add_markSelectionChanged(yB);F.add_markTextSelectionChanged(yB);};dX.prototype.amU=function(){var cR='igtile'+IPCC.dX.tileCounter.toString();IPCC.dX.tileCounter++;return cR;};dX.prototype.AH=function(){this.OR=true;this.EK=this.EK&&this.Wn;var J=this;var aAI=function(){if(!J.OR){return;}J.cF(J.F.cU(),J.F.bw(),J.F.eG());J.EK=true;};window.setTimeout(aAI,0);};dX.prototype.azr=function(G){var vb=G.get_propertyName();switch(vb){case 'magnifierWindowSize':case 'magnifierWindowPosition':case 'magnifierMagnification':if(!this.F.bw().get_magnifierIsVisible()){return;}break;case 'cursor':case 'markCursor':this.Jr=true;if(this.F.yS()===true){this.AH();}return;case 'displayedPageRectangle':if(this.F.wn===true){this.AH();return;}break;case 'redactionDraftMode':this.Jr=true;this.AH();return;}if(this.F.yS()===true){this.AH();}};dX.prototype.awR=function(G){if(G.mark&& !this.Jr){this.od.addMark(G.mark);}else{this.Jr=true;}if(this.F.yS()===true){this.AH();}};dX.prototype.Xv=function(){this.ld=this.et.clone();this.ld.lV(this.aam,this.aaT);this.ld.iE(this.F.cU(),this.F.eG());this.pW=this.ld.clone();this.pW.vT();};dX.prototype.cF=function(ar,aj,af){try{this.OR=false;if(this.Qn===true){return;}var dB=this.F.lU();if(dB===null){return;}var cs=dB.igElements;try{this.Qn=true;if(this.Gn===undefined||ar===undefined|| !(this.Gn.equals(ar))){if(this.Xk){if(this.jz){this.apV(this.jz);var eZ=cs.mz;IPCC.Web.UI.aC.removeHandler(eZ,"mousedown",this.agf);IPCC.Web.UI.aC.removeHandler(eZ,"mousemove",this.ahp);IPCC.Web.UI.aC.removeHandler(eZ,"mouseup",this.ahh);IPCC.Web.UI.aC.removeHandler(eZ,"dblclick",this.afY);IPCC.Web.UI.aC.removeHandler(eZ,"contextmenu",this.akU);IPCC.Web.UI.aC.removeHandler(cs.ez,"blur",this.OV);IPCC.Web.UI.aC.removeHandler(cs.gC,"blur",this.acT);IPCC.Web.UI.aC.removeHandler(cs.cD,"blur",this.OV);}delete this.jz;this.ana(cs.oy);this.ana(cs.Cv);this.Xk=false;if(this.IP!==undefined){this.IP.unlockAllItems();}if(this.IW!==undefined){this.IW.unlockAllItems();}this.IP=undefined;this.IW=undefined;dB.igElements.nm.onscroll=null;dB.igElements.nm.onresize=null;}if(dB.querySelectorAll){if(dB.querySelectorAll(".pccPageLoadFail").length===0){dB.innerHTML='';}}this.F.pM(true);if(ar===undefined){this.Qn=false;this.Gn=undefined;this.asi();return;}this.Gn=ar.clone();this.IP=new IPCC.sD();this.IP.createPyramid(this,this.F);this.IW=new IPCC.sD();this.IW.createPyramid(this,this.F);this.Xk=true;this.aqd(this.ig);}this.et=aj.fC();var Ro=this.et.pY(ar);this.et.lV(-Ro.x,-Ro.y);this.aED=this.et.clone();this.aED.vT();this.aam=Math.round(Ro.x);this.aaT=Math.round(Ro.y);this.Xv();this.asK(ar,aj,af);if(ar.aP===0){this.Xv();}}finally{this.Qn=false;this.Jr=false;if(this.od){this.od.removeAllMarks();}}this.adQ(true);}catch(e){this.F.bG('display',e);throw e;}};dX.prototype.aFd=function(xV,ww,we){if(xV[ww]===we){return;}xV[ww]=we;};dX.prototype.gc=function(xV,ww,we){if(xV.getAttribute(ww)===we){return;}xV.setAttribute(ww,we);};dX.prototype.zx=function(xV,ww,we){if(xV.style[ww]===we){return;}xV.style[ww]=we;};dX.prototype.adQ=function(atS){if(this.Qn){return;}if(this.OR&& !this.EK){return;}if(!atS){try{this.Wn=true;var dB=this.F.lU();if(dB){this.xe=dB.igElements.nm.scrollLeft;this.yt=dB.igElements.nm.scrollTop;}this.asW();this.Xv();this.F.bw().it(this.ld);this.F.bH('userModifiedViewState',{});this.F.pM(false);}finally{this.Wn=false;}}};dX.prototype.aBw=function(aN,et,arY){var sJ=aN.sJ;var oB=sJ.aBM(et,arY);if(!this.F.wn&&oB.tilesToRequest.length===0&&(oB.opaqueTiles.length+oB.translucentTiles.length)>0){this.F.wn=true;this.F.bH('pageDisplayed',{be:this.F.aP});}sJ.aDi(oB);if(this.F.og()===false){this.aEM(oB.tilesToRequest);this.ael(oB.opaqueTiles,1,et);this.ael(oB.translucentTiles,oB.opacity,et);}};dX.prototype.aqd=function(ig){var F=this.F;var dB=F.lU();var aj=F.bw();var bQ=this;function gP(qL){var vs=document.createElement('div');var L;for(L in qL){if(qL.hasOwnProperty(L)){vs.style[L]=qL[L];}}return vs;};var cs={};dB.igElements=cs;var jB=gP({width:'100%',height:'100%',position:'relative',overflow:aj.get_overflow(),margin:'0px',borderWidth:'0px','-moz-user-select':'text','-webkit-user-select':'text'});cs.nm=jB;jB.setAttribute('class','igViewerScroller');jB.onscroll=function(){bQ.adQ(false);};jB.onresize=function(){var af=F.eG();af.width=jB.clientWidth;af.height=jB.clientHeight;F.bH('resize',{});};var eZ=gP({width:'2px',height:'2px',position:'relative',overflow:'hidden',margin:'0px',left:'0',top:'0','-ms-touch-action':'none'});jB.appendChild(eZ);cs.mz=eZ;eZ.setAttribute('class','igViewerGraphics');this.zt=2;this.zP=2;this.xe=0;this.yt=0;var aN={};aN.sJ=this.IP;aN.YX='ig'+ig+'level';cs.oy=aN;this.anq(aN,eZ,gP);aN.si=this.si;var kV;if(F.og()===false){kV=gP({position:'absolute',display:'none',width:(aj.vd().width+4)+'px',height:(aj.vd().height+4)+'px',backgroundColor:'#000000'});}else{kV=gP({position:'absolute',display:'none',width:(aj.vd().width+4)+'px',height:(aj.vd().height+4)+'px',backgroundColor:'#cccccc'});}eZ.appendChild(kV);cs.kV=kV;kV.setAttribute('class','igMagnifierFrame');var qh=gP({width:'0px',height:'0px',position:'absolute',overflow:'hidden',margin:'0px',left:'0',top:'0'});cs.qh=qh;kV.appendChild(qh);aN={};aN.sJ=this.IW;aN.YX='ig'+ig+'maglevel';cs.Cv=aN;this.anq(aN,qh,gP);aN.si=this.aBA;var Ox=document.createTextNode('');cs.Ox=Ox;var ez=document.createElement('textarea');ez.appendChild(Ox);ez.style.position='absolute';ez.style.overflow='auto';ez.style.width='80px';ez.style.height='80px';ez.style.resize='none';ez.style.display='none';jB.appendChild(ez);cs.ez=ez;var abM=document.createTextNode('');cs.abM=abM;var gC=document.createElement('input');gC.type="text";gC.style.position='absolute';gC.style.overflow='hidden';gC.style.width='80px';gC.style.height='80px';gC.style.resize='none';gC.style.display='none';gC.style.padding='0px';gC.style.margin='0px';gC.style.lineHeight='normal';gC.className="no-ms-clear";var akY=function(ev){var xz=gC,ag=parseFloat(xz.style['width']),cq=parseFloat(xz.style['height']),ik=xz.style['fontFamily'];var axE=xz.value.length>xz.placeholder.length?xz.value:xz.placeholder;var jo=IPCC.V.tG(axE,ik,{ud:'pre',ef:cs.oy.vH}),xq=12*ag/(jo.width||1),yp=12*cq/(jo.height||1),zn=Math.floor(Math.min(xq,yp))*0.9;xz.style.fontSize=zn+'px';};gC.onkeyup=akY;gC.onfocus=function(ev){akY(ev);if(gC.setSelectionRange){var fQ=gC.value.length*2;gC.setSelectionRange(fQ,fQ);}};jB.appendChild(gC);cs.gC=gC;var qR=document.createTextNode('');cs.qR=qR;var cD=document.createElement('textarea');cD.appendChild(qR);cD.style.position='absolute';cD.style.overflow='hidden';cD.style.width='80px';cD.style.height='80px';cD.style.resize='none';cD.style.display='none';cD.style.whiteSpace='pre-wrap';cD.style.border=0;cD.style.padding='2px';cD.style.fontStyle='normal';var azY=function(by){var aua=F.Kq();var dE=F.bw().fC().qt();var hN=aua.hN*dE;var aY=F.mD().iy()*dE;IPCC.V.SI(cD,hN,aY);};cD.onkeyup=azY;jB.appendChild(cD);cs.cD=cD;this.jz={};this.aDE(this.jz);IPCC.Web.UI.aC.addHandler(eZ,"mousedown",this.agf);IPCC.Web.UI.aC.addHandler(eZ,"mousemove",this.ahp);IPCC.Web.UI.aC.addHandler(eZ,"mouseup",this.ahh);IPCC.Web.UI.aC.addHandler(eZ,"dblclick",this.afY);IPCC.Web.UI.aC.addHandler(eZ,"contextmenu",this.akU);IPCC.Web.UI.aC.addHandler(ez,"blur",this.OV);IPCC.Web.UI.aC.addHandler(gC,"blur",this.acT);IPCC.Web.UI.aC.addHandler(cD,"blur",this.OV);dB.appendChild(jB);};dX.prototype.anq=function(aN,gz,gP){var so=gP({width:'2px',height:'2px',position:'absolute'});aN.gz=gz;gz.appendChild(so);aN.agb=so;so.setAttribute('class','igAnchor');this.aqm(aN,so,aN.sJ,aN.YX);aN.yT=gP({position:'absolute',width:'10px',height:'10px',left:'0px',top:'0px',overflow:'visible'});so.appendChild(aN.yT);var kj=gP({overflow:'hidden',display:'none',position:'absolute',backgroundColor:'#00C0E0',border:'#006070 2px solid'});kj.style[this.azG]=this.aAG(0.5);so.appendChild(kj);aN.kj=kj;};dX.prototype.ana=function(aN){if(aN&&aN.Lz){aN.si.ata();aN.Lz=false;}aN.gz=null;};dX.prototype.asK=function(ar,aj,af){var F=this.F;var mc=this.ld.pY(ar);var dB=F.lU();var ath=F.auq();var zp=F.apo();var cs=dB.igElements;var oy=cs.oy;var Cv=cs.Cv;var jB=cs.nm;var eZ=cs.mz;var so=oy.agb;var kV=cs.kV;var qh=cs.qh;var afZ=Cv.agb;var FL=Math.max(0,-mc.x);var Gh=Math.max(0,-mc.y);var aqO=Math.max(mc.width,af.width);var aoA=Math.max(mc.height,af.height);var lT=Math.max(0,mc.x);var nd=Math.max(0,mc.y);var abg=false;var BZ=false;if(aj.Aj()){BZ=aj.vZ();}var azW=this.zt;this.zt=Math.floor(aqO-1);if(this.zt<0){this.zt=0;}var aAx=this.zP;this.zP=Math.floor(aoA-1);if(this.zP<0){this.zP=0;}if(F.og()===true){if(this.zP===0){this.zP=2;}if(this.zt===0){this.zt=2;}}var aAs=this.xe;var aAr=this.yt;if(!this.EK){this.xe=Math.floor(FL);this.yt=Math.floor(Gh);}if(this.abt){this.zx(so,'left',lT+'px');this.zx(so,'top',nd+'px');}var et=aj.fC();et.lV(FL-lT,Gh-nd);this.acc(oy,aj.fC(),et,ar,af,BZ,lT,nd);this.zx(jB,'overflow',aj.get_overflow());if(af.width!==jB.clientWidth||af.height!==jB.clientHeight){af.width=jB.clientWidth;af.height=jB.clientHeight;abg=true;}this.aFd(so.style,'visibility','visible');if(aj.get_magnifierIsVisible()){var uY=aj.get_magnifierWindowPosition();var xA=aj.vd();var Mh=aj.PH();var KY=aj.Pz();var SK=aj.apa();var ayM=Math.round(uY.x-xA.width/2+FL+Mh);var aye=Math.round(uY.y-xA.height/2+Gh+KY);var KT=SK.pY(ar);var axf=Math.max(0,-KT.x);var axC=Math.max(0,-KT.y);this.zx(afZ,'left',KT.x+'px');this.zx(afZ,'top',KT.y+'px');var LW=2;kV.style.width=(xA.width+LW*2)+'px';kV.style.height=(xA.height+LW*2)+'px';qh.style.width=xA.width+'px';qh.style.height=xA.height+'px';qh.style.left=LW+'px';qh.style.top=LW+'px';kV.style.left=ayM+'px';kV.style.top=aye+'px';var amW=SK.clone();amW.lV(axf,axC);this.acc(Cv,SK,amW,ar,xA,BZ,0,0);kV.style.display='block';}else{kV.style.display='none';}if(F.aky()){var ix=F.Kq();var auZ=ix.ca();var gZ=this.ld.yA(auZ);var lE=(ix.get_type()===IPCC.Web.UI.MarkType.Text)?64:0;var abe=ix.eC* -1,aiw=ix.eC* -1;if(gZ.width<lE){gZ.width=lE;}if(gZ.height<lE){gZ.height=lE;}if(gZ.width>af.width){gZ.width=af.width;}if(gZ.height>af.height){gZ.height=af.height;}if(gZ.x<0){gZ.x=0;}if(gZ.y<0){gZ.y=0;}if(gZ.x+gZ.width+1>=af.width){gZ.x=af.width-gZ.width;abe= -8;}if(gZ.y+gZ.height+1>=af.height){gZ.y=af.height-gZ.height;aiw= -8;}var ip=this.FX(ix);ip.style.left=this.xe+gZ.x+1+(ix.eC/2)+'px';ip.style.top=this.yt+gZ.y+1+(ix.eC/2)+'px';ip.style.width=gZ.width+abe-1+'px';ip.style.height=gZ.height+aiw-1+'px';if(ip.style.display!=='block'){ip.style.display='block';ip.style.whiteSpace='pre-wrap';var sV=ix.cJ;var rs='';if(sV&IPCC.Web.UI.FontStyle.Italic){ip.style.fontStyle="italic";}if(sV&IPCC.Web.UI.FontStyle.Bold){ip.style.fontWeight="bold";}if(sV&IPCC.Web.UI.FontStyle.Underline){rs+="underline";}if(sV&IPCC.Web.UI.FontStyle.Strikeout){if(sV&IPCC.Web.UI.FontStyle.Underline){rs+=" line-through";}else{rs="line-through";}}ip.style.textDecoration=rs;ip.style.color=ix.rk;ip.style.backgroundColor=ix.dJ;ip.style.fontFamily=ix.gI;ip.style['z-index']=100;var zn=ix.EJ*this.ld.qt();if(zn){ip.style.fontSize=zn+"px";}switch(ix.iv){case IPCC.Web.UI.HorizontalAlignment.Center:ip.style.textAlign='center';break;case IPCC.Web.UI.HorizontalAlignment.Right:ip.style.textAlign='right';break;default:ip.style.textAlign='left';break;}if(ix.hf){setTimeout(function(){cs.ez.maxLength=ix.hf;cs.gC.maxLength=ix.hf;cs.cD.maxLength=ix.hf;},0);}if(ix.jn){if(zp){zp.destroy();F.Zw(null);}F.Zw(new PCCViewer.aBS(ip,ix.jn));}if(ix.jc()===IPCC.Web.UI.MarkType.TextAreaSignature){var cD=IPCC.V.ajx();cD.style.width=cs.cD.style.width;cD.style.height=cs.cD.style.height;cD.style.fontFamily=cs.cD.style.fontFamily;cD.style.fontStyle=cs.cD.style.fontStyle;cD.style.fontWeight=cs.cD.style.fontWeight;var dE=F.bw().fC().qt();var hN=ix.hN*dE;var aY=F.mD().iy()*dE;IPCC.V.ahM().nodeValue=ix.bp||'m';cs.cD.style.fontSize=IPCC.V.SI(cD,hN,aY)+'px';}ip.focus();}}else{cs.ez.style.display='none';cs.gC.style.display='none';cs.cD.style.display='none';cs.ez.removeAttribute('maxlength');cs.gC.removeAttribute('maxlength');cs.cD.removeAttribute('maxlength');if(zp){zp.destroy();F.Zw(null);}if(document.activeElement===cs.ez){cs.ez.blur();}if(document.activeElement===cs.gC){cs.gC.blur();}if(document.activeElement===cs.cD){cs.cD.blur();}}if(abg){F.bH('resize',{});}if(this.zt!==azW){this.zx(eZ,'width','100%');}if(this.zP!==aAx){this.zx(eZ,'height','100%');}if(this.xe!==aAs){jB.scrollLeft=this.xe;}if(this.yt!==aAr){jB.scrollTop=this.yt;}if(ath==="PageView"&& !this.EK){aj=F.bw();var bh=aj.fC();var wk=(+bh.qt().toFixed(6));if(F.Ny!==wk){F.Ny=wk;setTimeout(function(){F.bH('scaleChanged',{scaleFactor:wk,pageNumber:F.aP});},1);F.bH('scaleChanged',{scaleFactor:wk,pageNumber:F.aP});}}};dX.prototype.acc=function(aN,ld,et,aa,af,BZ,lT,nd){var mc=ld.pY(aa);var nX={};nX.width=Math.max(mc.width,af.width);nX.height=Math.max(mc.height,af.height);this.arr(aN,ld,et,aa,af,lT,nd);this.aeh(aN,et,nX,aa,lT,nd);if(this.F.og()===false){this.ahk(aN,af,ld,et);}else{this.aDd(aN);var aj=this.F.bw();var zw=aj.alw();if(this.F.wn&&zw){this.adM(aN);}}this.asI(aN);if(BZ){var CL=et.yA(BZ);if(this.abt){aN.kj.style.left=(CL.x-2)+'px';aN.kj.style.top=(CL.y-2)+'px';}else{aN.kj.style.left=(CL.x-2+lT)+'px';aN.kj.style.top=(CL.y-2+nd)+'px';}aN.kj.style.width=CL.width+'px';aN.kj.style.height=CL.height+'px';aN.kj.style.display='block';}else{aN.kj.style.display='none';}};dX.prototype.ahk=function(aN,af,ld,et){var adB=this.F.arn();var IB={x:0,y:0,width:af.width,height:af.height};if(adB){var yN=adB.getBoundingClientRect();var hJ=aN.gz.getBoundingClientRect();var Sa;if(hJ.left<yN.left){Sa=yN.left-hJ.left;IB.x=(Sa/hJ.width)*af.width;}if(hJ.right>yN.right){IB.width=yN.width;}if(hJ.top<yN.top){Sa=yN.top-hJ.top;IB.y=(Sa/hJ.height)*af.height;}if(hJ.bottom>yN.bottom){IB.height=yN.height;}}var pW=ld.clone();pW.vT();var auY=pW.yA(IB);this.aBw(aN,et,auY);};dX.prototype.arr=function(aN,ld,et,aa,af,lT,nd){var bk=this.F.ep();var gW=this.F.mu();var eR=this.F.OQ();var ajL=0;var J=this;if(aN.mE){ajL=aN.mE.length;}if(!aN.si|| !bk){return;}var oX=this.F.aoC();if(bk.get_markCount()<=0&&gW.get_markCount()<=0&&eR.get_markCount()<=0&&ajL<=0&& !oX){return;}if(!aN.Lz){aN.si.apB(this.F,aN,aa);aN.mE=[];aN.Lz=true;}gW=this.F.mu();var bq=[];function aFv(T){if((J.F.jN()&&J.F.bY().mB()===true)||T.get_type()!==IPCC.Web.UI.MarkType.Highlight){bq.push(T);}};function ane(T){bq.push(T);};eR.forEachMark(ane);gW.forEachMark(ane);bk.forEachMark(aFv);if(oX){bq.push(oX);}var L,mE=aN.mE;for(L=0;L<mE.length;L++){while(L<mE.length&&(L>=bq.length||mE[L].T!==bq[L])){aN.si.Qc(mE[L]);mE.splice(L,1);}if(L<mE.length&&(this.Jr||this.od.contains(mE[L].T))){aN.si.adK(mE[L]);}}for(L=mE.length;L<bq.length;L++){mE[L]={T:bq[L]};var K=mE[L];if(!K){continue;}aN.si.aqt(mE[L]);}if(this.abt){aN.si.ady(this.F,aN,bq,et,this.F.ajK());}else{var aen=et.clone();aen.lV(lT,nd);aN.si.ady(this.F,aN,bq,aen,this.F.ajK());}};dX.prototype.aeh=function(){};dX.prototype.asW=function(){var dB=this.F.lU();if(dB){this.aam=dB.igElements.mz.offsetLeft-this.xe;this.aaT=dB.igElements.mz.offsetTop-this.yt;}};dX.prototype.pF=function(G,cF){var gw=this.F.lU().igElements;var jt=G.domEvent;var fz;if(gw.mz.getBoundingClientRect){fz=gw.mz.getBoundingClientRect();}else{var ed=gw.mz;var uS=document.documentElement;fz={left:uS.clientLeft-uS.scrollLeft,top:uS.clientTop-uS.scrollTop};ed=ed.offsetParent;while(ed){fz.top+=ed.offsetTop-ed.scrollTop;fz.left+=ed.offsetLeft-ed.scrollLeft;ed=ed.offsetParent;}}if(jt.rawEvent.touches){if(jt.rawEvent.touches.length>0){this.Ob=new IPCC.Web.UI.Point(jt.rawEvent.touches[0].clientX-gw.nm.scrollLeft-fz.left,jt.rawEvent.touches[0].clientY-gw.nm.scrollTop-fz.top);}if(!this.Ob){this.Ob=new IPCC.Web.UI.Point(0,0);}G.windowPoint=new IPCC.Web.UI.Point(this.Ob.x,this.Ob.y);jt.button=0;}else{G.windowPoint=new IPCC.Web.UI.Point(jt.clientX-fz.left-gw.nm.scrollLeft,jt.clientY-fz.top-gw.nm.scrollTop);}var RR=this.pW.transform(G.windowPoint);G.imagePoint=new IPCC.Web.UI.Point(RR.x,RR.y);G.constrainedImagePoint=new IPCC.Web.UI.Point(RR.x,RR.y);G.constrainedImagePoint.x=Math.min(Math.max(G.constrainedImagePoint.x,0),this.Gn.width);G.constrainedImagePoint.y=Math.min(Math.max(G.constrainedImagePoint.y,0),this.Gn.height);G.pointLiesWithinImage=(G.constrainedImagePoint.x===G.imagePoint.x&&G.constrainedImagePoint.y===G.imagePoint.y);G.mark=null;try{var dA=jt.target;while(!(dA.ImGearMarkRelation)&&dA.parentNode&&dA!==document.body){dA=dA.parentNode;}if(dA.ImGearMarkRelation){G.mark=dA.ImGearMarkRelation.T;}}catch(aF){}};dX.prototype.kf=function(aF){try{aF.preventDefault();var G=new IPCC.Web.UI.MouseEventArgs();G.domEvent=aF;this.pF(G);this.F.awG(G);}catch(ex){this.F.bG('mouseDown',ex);}};dX.prototype.ly=function(aF){try{aF.preventDefault();var G=new IPCC.Web.UI.MouseEventArgs();G.domEvent=aF;this.pF(G);this.F.awF(G);}catch(ex){this.F.bG('mouseMove',ex);}};dX.prototype.na=function(aF){try{var G=new IPCC.Web.UI.MouseEventArgs();G.domEvent=aF;this.pF(G);if(!aF.rawEvent.wheelDelta){G.wheelDelta= -aF.rawEvent.detail*120;}else{G.wheelDelta=aF.rawEvent.wheelDelta;}this.F.awP(G);}catch(ex){this.F.bG('mouseWheel',ex);}};dX.prototype.zf=function(aF){try{aF.preventDefault();var G=new IPCC.Web.UI.MouseEventArgs();G.domEvent=aF;this.pF(G);this.F.awi(G);}catch(ex){this.F.bG('mouseDoubleClick',ex);}};dX.prototype.kE=function(aF){try{aF.preventDefault();var G=new IPCC.Web.UI.MouseEventArgs();G.domEvent=aF;this.pF(G);this.F.avN(G);}catch(ex){this.F.bG('mouseUp',ex);}};dX.prototype.WO=function(aF){try{aF.preventDefault();var G=new IPCC.Web.UI.MouseEventArgs();G.domEvent=aF;this.pF(G);this.F.azd(G);}catch(ex){this.F.bG('contextMenu',ex);}};dX.prototype.aAw=function(aF){try{this.F.pM(true);}catch(ex){this.F.bG('textAreaBlur',ex);}};dX.prototype.azQ=function(aF){try{this.F.pM(true);}catch(ex){this.F.bG('textInputBlur',ex);}};dX.prototype.aCT=function(T){var ez=this.FX(T);ez.value=T.bp||"";};dX.prototype.aEr=function(){var F=this.F;var T=F.Kq();if(!T|| !F.aky()){return;}var Vn=this.FX(T);if(document.activeElement===Vn){Vn.blur();}var bp=Vn.value;bp=bp.replace(/(\n|\n\r|\r\n|\r)/g,'\n');T.set_text(bp);};dX.prototype.FX=function(T){var gw=this.F.lU().igElements,ez=null;if(T.get_type()===IPCC.Web.UI.MarkType.TextLine){ez=gw.gC;}else if(T.get_type()===IPCC.Web.UI.MarkType.TextAreaSignature){ez=gw.cD;}else if(T.get_type()===IPCC.Web.UI.MarkType.Text){ez=gw.ez;}return ez;};module.exports=dX;},{}],56:[function(require,module,exports){var AV={};AV.registerNamespace=function(namespacePath){var rootObject=window;var namespaceParts=namespacePath.split('.');var getTypeName=function(){return this.__typeName;};for(var i=0;i<namespaceParts.length;i++){var currentPart=namespaceParts[i];var ns=rootObject[currentPart];var nsType=typeof(ns);if((nsType!=="undefined")&&(ns!==null)){if(nsType==="function"){throw new Error("namespace error: "+namespacePath);}if((typeof(ns)!=="object")||(ns instanceof Array)){throw new Error("Name space error: "+ns);}}if(!ns){ns=rootObject[currentPart]={};}if(!ns.__namespace){ns.__namespace=true;ns.__typeName=namespaceParts.slice(0,i+1).join('.');ns.getName=getTypeName;}rootObject=ns;}};module.exports=AV;},{}],57:[function(require,module,exports){var ImGearExceptions=require('./Web/UI/ImGearExceptions');var aq={bx:function(h,aJ,bx){if(typeof(h)!==bx){throw new ImGearExceptions.AF(aJ,typeof(h),bx);}},ng:function(h,aJ){aq.bx(h,aJ,'string');},iu:function(h,aJ){if(!(h instanceof Date)){throw new ImGearExceptions.AF(aJ,typeof(h),"Date");}},hG:function(h,aJ){aq.bx(h,aJ,'number');if(!isFinite(h)){throw new ImGearExceptions.st(aJ,h,'The value must be a number.');}},kY:function(h,aJ,yk,yx){aq.bx(h,aJ,'number');if(h<yk||h>yx|| !isFinite(h)){throw new ImGearExceptions.st(aJ,h,'The value must be a number between '+yk+' and '+yx+' inclusive.');}},Wi:function(h,aJ,Gd){aq.bx(h,aJ,'number');var L;for(L=0;L<Gd.length;L++){if(h===Gd[L]){return;}}var Pp='';for(L=0;L<Gd.length;L++){if(L>0){if(L===Gd.length-1){Pp+=' or ';}else{Pp+=', ';}}Pp+=Gd[L];}throw new ImGearExceptions.st(aJ,h,'The value must be '+Pp+'.');},nb:function(h,aJ,yk,yx){aq.kY(h,aJ,yk,yx);if(h!==Math.floor(h)){throw new ImGearExceptions.wO(aJ,'The value must be an integer.');}},dG:function(h,aJ){aq.bx(h,aJ,'string');if(!h.match(/#[0-9A-Fa-f]{6}/)){throw new ImGearExceptions.wO(aJ,'Colors must be strings that begin with a # symbol, followed by 6 hexadecimal digits.');}},Um:function(h,aJ){aq.bx(h,aJ,'string');if(!h.match(/#[0-9A-Fa-f]{6}|transparent/)){throw new ImGearExceptions.wO(aJ,'Colors must be strings that begin with a # symbol, followed by 6 hexadecimal digits or comply with other W3C accepted color values like "transparent".');}},iq:function(h,aJ,iq,akm){aq.bx(h,aJ,'number');var cg;var To=0;for(cg in iq){if(iq.hasOwnProperty(cg)){if(akm){To|=iq[cg];}else{if(h===iq[cg]){return;}}}}var dw="";if(akm){if((h|To)===To){return;}else{throw new ImGearExceptions.st(aJ,h,'The value must be zero or more members of the '+dw+' enumeration.');}}throw new ImGearExceptions.st(aJ,h,'The value must be a member of the '+dw+' enumeration.');},bS:function(h,aJ){aq.hG(h.x,aJ+'.x');aq.hG(h.y,aJ+'.y');},C:function(h,aJ){aq.hG(h.x,aJ+'.x');aq.hG(h.y,aJ+'.y');aq.hG(h.width,aJ+'.width');aq.hG(h.height,aJ+'.height');}};module.exports=aq;},{"./Web/UI/ImGearExceptions":85}],58:[function(require,module,exports){var dV=require('./IPCC.Util').regEnum;var GD=function(){};GD.registerEnum=dV;GD.prototype={Document:0,EqualWidthPages:1,SinglePage:2,EqualFitPages:3};GD.registerEnum('IPCC.ViewMode',false);module.exports=GD;},{"./IPCC.Util":28}],59:[function(require,module,exports){var VT=function(qj){var aj;var ar;var jI;var af;var bQ=this;var Ae;var Fq='';var _debug=false;var op=IPCC.Web.UI.DebugErrorLevel.Production;var nx=[];var bm=new IPCC.Web.UI.gp();var bk;var eR;var oX=null;var Kk=false;var wd=false;var xl;var alr=IPCC.Web.UI.ImGearArtDataServices.None;var GG=false;var ts='';var rh;var akP=false;var afr=false;var vE=0;var sP=true;var iU;var gW;var wT=false;var ahV=true,ou=false;var akL=false;var zp=null;var Qq;var ZL=false;var aE=null;this.Ny=0.0;this.mi=function(IA){if(!_debug){return false;}return op>=IA;};this.lO=function(jW,Ki,bv){IPCC.jg.lO(jW,Ki,bv,Fq,Ae);};this.bG=function(hQ,hZ){if(!this.mi(IPCC.Web.UI.DebugErrorLevel.Production)){return;}var dv=hQ+'() threw an exception ('+hZ.name+'), "'+hZ.message+'"';dv=dv.replace(/\n/g," ");this.lO(dv,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production);bQ.bH('exceptionThrown',{"function_name":hQ,"exception":hZ,"pageNumber":bQ.aP});};this.FX=function(T){var gw=this.lU().igElements,ez=null;if(T.get_type()===IPCC.Web.UI.MarkType.TextLine){ez=gw.gC;}else if(T.get_type()===IPCC.Web.UI.MarkType.TextAreaSignature){ez=gw.cD;}else if(T.get_type()===IPCC.Web.UI.MarkType.Text){ez=gw.ez;}return ez;};this.get_debug=function(){return _debug;};this.set_debug=function(h){var Ha= ! !h;if(_debug===Ha){return;}_debug=Ha;this.cQ('debug');};this.AL=function(){return op;};this.KB=function(h){if(op===h){return;}op=h;this.cQ('debugErrorLevel');};this.get_areMarksEditable=function(){return ZL;};this.set_areMarksEditable=function(h){if(ZL===h){return;}ZL=h;this.cQ('areMarksEditable');};this.get_cursor=function(){return aE;};this.set_cursor=function(h){if(aE===h){return;}aE=h;this.cQ('cursor');};this.aEx=function(h){Fq=h;};this.auq=function(){return Fq;};this.aBh=function(h){Ae=h;};this.aCx=function(h){Qq=h;};this.arn=function(){return Qq;};this.eK=function(awI){this.pM(false);var L;for(L=nx.length-1;L>=0;L--){if(nx[L]instanceof IPCC.kc){nx[L].aR(true);}else{nx[L].aR();}if(nx[L]instanceof IPCC.lh){nx[L].eu(true);}else{nx[L].eu();}}nx=awI;for(L=0;L<nx.length;L++){nx[L].mI(this);}};this.aHS=function(){var L;for(L=0;L<nx.length;L++){nx[L].aR();}};this.ge=function(aiF,G){var L;for(L=0;L<nx.length;L++){if(G&&G.ahT&&G.ahT()){return;}if(nx[L][aiF]){nx[L][aiF](G);}}};this.azn=function(io,cC){switch(io){case 'touchstart':jI.aeC&&jI.aeC(cC);break;case 'touchmove':jI.agq&&jI.agq(cC);break;case 'touchend':jI.ahj&&jI.ahj(cC);break;case 'doubleTap':jI.adU&&jI.adU(cC);break;}};this.kJ=function(H){bm.addHandler('propertyChanged',H);};this.lP=function(H){bm.removeHandler('propertyChanged',H);};this.add_mouseDown=function(H){bm.addHandler('mouseDown',H);};this.remove_mouseDown=function(H){bm.removeHandler('mouseDown',H);};this.add_mouseMove=function(H){bm.addHandler('mouseMove',H);};this.remove_mouseMove=function(H){bm.removeHandler('mouseMove',H);};this.add_mouseUp=function(H){bm.addHandler('mouseUp',H);};this.remove_mouseUp=function(H){bm.removeHandler('mouseUp',H);};this.add_contextMenu=function(H){bm.addHandler('contextMenu',H);};this.remove_contextMenu=function(H){bm.removeHandler('contextMenu',H);};this.awd=function(H){bm.addHandler('contextMenuCommand',H);};this.aFg=function(H){bm.removeHandler('contextMenuCommand',H);};this.add_mouseWheel=function(H){bm.addHandler('mouseWheel',H);};this.remove_mouseWheel=function(H){bm.removeHandler('mouseWheel',H);};this.add_mouseOut=function(H){bm.addHandler('mouseOut',H);};this.remove_mouseOut=function(H){bm.removeHandler('mouseOut',H);};this.ayt=function(H){bm.addHandler('resize',H);};this.aFY=function(H){bm.removeHandler('resize',H);};this.ayN=function(H){bm.addHandler('userModifiedViewState',H);};this.aGu=function(H){bm.removeHandler('userModifiedViewState',H);};this.add_scaleChanged=function(H){bm.addHandler('scaleChanged',H);};this.remove_scaleChanged=function(H){bm.removeHandler('scaleChanged',H);};this.add_markAdded=function(H){bm.addHandler('markAdded',H);};this.remove_markAdded=function(H){bm.removeHandler('markAdded',H);};this.add_markCreating=function(H){bm.addHandler('markCreating',H);};this.remove_markCreating=function(H){bm.removeHandler('markCreating',H);};this.add_markChanged=function(H){bm.addHandler('markChanged',H);};this.remove_markChanged=function(H){bm.removeHandler('markChanged',H);};this.add_inProgressMarkChanged=function(H){bm.addHandler('inProgressMarkChanged',H);};this.remove_inProgressMarkChanged=function(H){bm.removeHandler('inProgressMarkChanged',H);};this.add_markRemoved=function(H){bm.addHandler('markRemoved',H);};this.remove_markRemoved=function(H){bm.removeHandler('markRemoved',H);};this.add_markReordered=function(H){bm.addHandler('markReordered',H);};this.remove_markReordered=function(H){bm.removeHandler('markReordered',H);};this.add_marksLoaded=function(H){bm.addHandler('marksLoaded',H);};this.remove_marksLoaded=function(H){bm.removeHandler('marksLoaded',H);};this.add_marksSaved=function(H){bm.addHandler('marksSaved',H);};this.remove_marksSaved=function(H){bm.removeHandler('marksSaved',H);};this.add_markSelectionChanged=function(H){bm.addHandler('markSelectionChanged',H);};this.remove_markSelectionChanged=function(H){bm.removeHandler('markSelectionChanged',H);};this.add_markTextSelectionChanged=function(H){bm.addHandler('markTextSelectionChanged',H);};this.remove_markTextSelectionChanged=function(H){bm.removeHandler('markTextSelectionChanged',H);};this.add_pageOpenFailed=function(H){bm.addHandler('pageOpenFailed',H);};this.add_pageDisplayed=function(H){bm.addHandler('pageDisplayed',H);};this.remove_pageOpenFailed=function(H){bm.removeHandler('pageOpenFailed',H);};this.add_textPageReady=function(H){bm.addHandler('textPageReady',H);};this.remove_textPageReady=function(H){bm.removeHandler('textPageReady',H);};this.add_selectTextMouseToolCompleted=function(H){bm.addHandler('selectTextMouseToolCompleted',H);};this.remove_selectTextMouseToolCompleted=function(H){bm.removeHandler('selectTextMouseToolCompleted',H);};this.add_exceptionThrown=function(H){bm.cW('exceptionThrown',H);};this.remove_exceptionThrown=function(H){bm.dg('exceptionThrown',H);};this.add_textExtractionFailed=function(H){bm.cW('textExtractionFailed',H);};this.remove_textExtractionFailed=function(H){bm.dg('textExtractionFailed',H);};this.cQ=function(cg,vr){var H=bm.getHandler("propertyChanged");if(H){H(this,new IPCC.nz(cg,vr));}};this.lU=function(){var _parent=document.getElementById(Ae);return _parent;};this.bw=function(){return aj;};this.aHQ=function(){return bm;};function Ev(ax,G){GG=true;G.pageIndex=bQ.aP;bQ.bH('markAdded',G);bQ.ge('iC',G);};function Ee(ax,G){GG=true;G.pageIndex=bQ.aP;bQ.bH('markChanged',G);bQ.ge('lJ',G);};function acn(ax,G){G=new IPCC.Web.UI.MarkEventArgs();G.mark=oX;G.pageIndex=bQ.aP;bQ.bH('inProgressMarkChanged',G);bQ.ge('_onInProgressMarkChanged',G);};function Cr(ax,G){GG=true;G.pageIndex=bQ.aP;bQ.bH('markRemoved',G);bQ.ge('El',G);};function axD(ax,G){bQ.bH('textPageReady',G);};function axB(ax,G){bQ.bH('textExtractionFailed',G);};function Cs(ax,G){GG=true;G.pageIndex=bQ.aP;bQ.bH('markReordered',G);bQ.ge('abb',G);};function BX(ax,G){G.pageIndex=bQ.aP;bQ.bH('marksLoaded',G);bQ.ge('abR',G);};function AX(ax,G){G.pageIndex=bQ.aP;bQ.bH('markSelectionChanged',G);bQ.ge('Es',G);};function aeR(ax,G){G.pageIndex=bQ.aP;bQ.bH('markTextSelectionChanged',G);};this.awB=function(ax,G){this.ge('_onTextMarkEditCompleted',G);};function DQ(ax,G){G.pageIndex=bQ.aP;bQ.bH('propertyChanged',G);};this.mZ=function(h){if(h===bk){return;}if(bk){bk.remove_markAdded(Ev);bk.remove_markChanged(Ee);bk.remove_markRemoved(Cr);bk.remove_markReordered(Cs);bk.remove_marksLoaded(BX);bk.remove_markSelectionChanged(AX);bk.lP(DQ);bk.CP(true);}bk=h;if(bk){bk.add_markAdded(Ev);bk.add_markChanged(Ee);bk.add_markRemoved(Cr);bk.add_markReordered(Cs);bk.add_marksLoaded(BX);bk.add_markSelectionChanged(AX);bk.add_markTextSelectionChanged(aeR);bk.kJ(DQ);}this.cQ('artPage');};this.ep=function(){return bk;};this.GK=function(h){if(h===eR){return;}if(eR){eR.remove_markAdded(Ev);eR.remove_markChanged(Ee);eR.remove_markRemoved(Cr);eR.remove_markReordered(Cs);eR.remove_marksLoaded(BX);eR.remove_markSelectionChanged(AX);eR.lP(DQ);eR.CP(true);}eR=h;if(eR){eR.add_markAdded(Ev);eR.add_markChanged(Ee);eR.add_markRemoved(Cr);eR.add_markReordered(Cs);eR.add_marksLoaded(BX);eR.add_markSelectionChanged(AX);eR.add_markTextSelectionChanged(aeR);eR.kJ(DQ);}this.cQ('documentArtPage');};this.OQ=function(){return eR;};this.mu=function(){return gW;};this.Ej=function(h){if(h===gW){return;}if(gW){gW.remove_markAdded(Ev);gW.remove_markChanged(Ee);gW.remove_markRemoved(Cr);gW.remove_markReordered(Cs);gW.remove_marksLoaded(BX);gW.remove_markSelectionChanged(AX);gW.lP(DQ);}gW=h;if(gW){gW.add_markAdded(Ev);gW.add_markChanged(Ee);gW.add_markRemoved(Cr);gW.add_markReordered(Cs);gW.add_marksLoaded(BX);gW.add_markSelectionChanged(AX);gW.kJ(DQ);}this.cQ('transientArtPage');};var gq;this.Bl=function(){if(!gq){if(IPCC.Web.UI.Mark){gq=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);gq.set_opacity(100);gq.set_fillColor('#3366CC');gq.set_fillVisible(true);}}return gq;};this.Yv=function(h){alr=h;this.cQ('artServiceOption');};this.aaN=function(){return alr;};this.oM=function(T,nJ){if(oX===T){return;}if(oX){oX.remove_propertyChanged(acn);}if(T&& !oX){var G=new IPCC.Web.UI.MarkEventArgs();G.mark=nJ?nJ:T;G.pageIndex=this.aP;this.bH('markCreating',G);}oX=T;if(oX){oX.add_propertyChanged(acn);}this.cQ('inProgressMark');};this.aoC=function(){return oX;};this.zN=function(h){if(h===ar){return;}ar=h;this.wn=false;aj.oU();this.cQ('image');};this.cU=function(){return ar;};this.abG=function(h){if(h===Kk){return;}Kk=h;this.cQ('Kk');};this.ajK=function(){return Kk;};this.HU=function(){var xl=this.Kq();var aaK=this.FX(xl);var asR=aaK.value;setTimeout(function(){aaK.setSelectionRange(0,asR.length);},1);};this.vQ=function(T){this.pM(false);jI.aCT(T);wd=true;xl=T;this.cQ('wd');};this.aiE=function(bL,da){if(this.jN()&&this.bY().mB()===true){var gh=this.bY().hc();var L=bL;for(;L<bL+da;L++){var en=gh.kB(L);var uU='#3366CC';var Fe='#3366CC';gW.VO(en.bo,Fe,uU,false,L);}}};this.aGi=function(aL){var L;try{var av=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);if(!gq){gq=bQ.Bl();}for(L in gq){if(gq.hasOwnProperty(L)){av[L]=gq[L];}}av.set_rectangle({x:aL.x,y:aL.y,width:aL.width,height:aL.height});bQ.oM(av);gW.addMark(av);return av;}catch(arq){var axP=arq.message;window.console.log(axP);}};this.Kx=function(db){var IM;var gh;var Vs;IM=bQ.bY();gh=bQ.bY().hc();function anR(Qs){var rr=Qs.vo();if((db.x>=rr.x-10&&db.x<=rr.x+rr.width+1)&&(db.y>=rr.y-1&&db.y<=rr.y+rr.height+1)){return true;}rr=undefined;};if(!Vs){for(var L=0;L<gh.eN();L++){if(anR(gh.kB(L))){Vs=L;break;}}}return Vs;};this.aGq=false;this.Az=function(bZ){if(bZ===undefined){return;}if(bQ.jN()&&bQ.bY().mB()===true){var Kr=bQ.bY().hc().eN();IPCC.aq.nb(bZ,'textIndex',0,Kr);bQ.bw().Az(bZ);bQ.mu().EU(function(T){if(T.xk!==true&&T.get_type()!==IPCC.Web.UI.MarkType.ImageStampAnnotation){bQ.mu().ur(T);}});if(bQ.yS()===true){bQ.cF();}}};this.Ty=function(){var CY=bQ.bw().get_transientHighlightMarks();while(CY.length>0){bQ.mu().removeMark(CY.pop());}};this.OT=function(vw,da){if(bQ.jN()&&bQ.bY().mB()===true){var L=vw;var gh=this.bY().hc();var cl=vw+da;if(!gq){gq=bQ.Bl();}var CY=bQ.bw().get_transientHighlightMarks();for(;L<cl;L++){var en=gh.kB(L);CY.push(gW.asU(en.bo,gq,L));}}};this.aGQ=function(aGd,da){var aj=bQ.bw();for(var aw=da-1;aw>da;aw--){var az=aj.iO[aw];gW.removeMark(az.T);}};this.uk=function(bZ){if(bZ===undefined){return;}var en;var aj=bQ.bw();var hA=aj.BK();var uU='#3366CC';var Fe='#3366CC';var di=100;if(!gq){gq=bQ.Bl();}di=gq.get_opacity();if(!di){di=100;}uU=gq.get_fillColor();if(uU===undefined){uU='#3366CC';}var gh=bQ.bY().hc();if(hA===undefined){en=gh.kB(bZ);var T=gW.VO(en.bo,Fe,uU,false,di,bZ);aj.uk(bZ,T,en.kp);return;}var aw;function abS(aV,aoJ){for(aw=aj.iO.length-1;aw>=0;aw--){var az=aj.iO[aw];if(az.bZ===aV){aj.iO.splice(aw,1);gW.removeMark(az.T);aj.aEo(aoJ);aj.aCt(aV);return aw;}}return-1;};function RG(aV){en=gh.kB(aV);var afR=gW.VO(en.bo,Fe,uU,false,di,aV);if(aj.uk(aV,afR,en.kp)===false){gW.removeMark(afR);}};var Mp=aj.akt();var L;if(bZ>hA){for(L=hA;L<=bZ;L++){if(L===bZ){if(L<Mp){continue;}RG(L);}else if(L>=Mp){if(L===hA){continue;}RG(L);}else{abS(L,bZ);}}}else if(bZ<hA){for(L=hA;L>=bZ;L--){if(L===bZ){if(L>=Mp){continue;}RG(L);}else if(L<Mp){if(L===hA){continue;}RG(L);}else{abS(L,bZ);}}}};this.EL=function(){var ahb="";try{var aj=bQ.bw();if(bQ.bw().JB()){var arG=bQ.bY().hc();if(aj.iO.length>0){var Cp=[];for(var L=0;L<aj.iO.length;L++){Cp.push(aj.iO[L].bZ);}if(Cp[0]>Cp[1]){Cp.reverse();}for(L=0;L<Cp.length;L++){ahb+=arG.kB(Cp[L]).auD();}}}return ahb;}catch(e){window.console.log(e.message);}};this.pM=function(aDW){if(wd){if(aDW){jI.aEr();}wd=false;xl=null;this.awB();this.cQ('wd');bQ.cF();}};this.aky=function(){return wd;};this.Kq=function(){return xl;};this.BY=function(){var xl=this.Kq();if(!xl){return null;}var ZG=xl.jc();if(ZG===IPCC.Web.UI.MarkType.TextLine){return 'singleline';}else if(ZG===IPCC.Web.UI.MarkType.TextAreaSignature){return 'multiline';}else if(ZG===IPCC.Web.UI.MarkType.Text){return 'multiline';}};this.acw=function(h){afr=h;};this.Xr=function(){return afr;};this.Zw=function(h){zp=h;};this.apo=function(){return zp;};this.afb=function(h){if(h===vE){return;}vE=h;this.cQ('vE');};this.aaG=function(){return vE;};this.CP=function(h){if(bk){bk.CP(h);}};this.Qo=function(){if(bk){return bk.Qo();}return true;};this.aBm=function(aIz){var af=jI.aoq(this.lU());this.aBt(af);};this.aBt=function(h){if(h===af){return;}af=h;this.cQ('windowSpace');};this.eG=function(){return af;};this.cF=function(){jI.cF(ar,aj,af);};this.Gl=function(){if(this.og()===false){var ld=aj.fC();var F=this;var mc=ld.pY(ar);var dB=F.lU();var cs=dB.igElements;var aN=cs.oy;var FL=Math.max(0,-mc.x);var Gh=Math.max(0,-mc.y);var lT=Math.max(0,mc.x);var nd=Math.max(0,mc.y);var et=aj.fC();et.lV(FL-lT,Gh-nd);jI.ahk(aN,af,ld,et);}};this.Iv=function(h){rh=h;};this.us=function(){return rh;};this.bY=function(){return iU.bY();};var jR=0;this.mD=function(){return iU;};this.Bu=function(h){if(h===this.mD()){return;}iU=h;if(iU){iU.yO(axD);iU.yj(axB);}};this.jN=function(){return sP;};this.HW=function(h){sP=h;this.cQ('textRequired');};this.xI=function(){return wT;};this.HO=function(h){if(wT===h){return;}wT=h;this.cQ('requireRequestsOptimize');};this.yS=function(){return ahV;};this.ZO=function(h){ahV=h;this.cQ('autoUpdate');};var ow=false;this.nY=function(){return ow;};this.qU=function(h){if(typeof h!=="boolean"){return;}if(h===ow){return;}ow=h;if(bk){var aaO=false;bk.forEachMark(function(T){if(T.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){aaO=true;}});if(aaO===true){bk.qU(ow);}}};this.kN=function(){return jR;};this.yE=function(h){if(jR===h){return;}if(isNaN(h)){return;}jR=h;this.cQ('serviceResponseTimeout');};var pw='';this.aaL=function(fm,aI){if(fm!==''){fm='/'+fm;}aI=aI||'';if(aI===null||aI===''){if(fm==='/Attributes'){if(/^[\x00-\x7F]*$/.test(ar.get_identifier())){return pw+'/Page/q/'+ar.aP.toString()+fm+'?DocumentID=u'+encodeURIComponent(ar.get_identifier());}else{return pw+'/Page/q/'+ar.aP.toString()+fm+'?DocumentID=e'+ar.get_encodedIdentifier();}}else{if(/^[\x00-\x7F]*$/.test(ar.get_identifier())){return pw+'/Page/q/'+ar.aP.toString()+fm+'?DocumentID=u'+encodeURIComponent(ar.get_identifier())+'&Quality=85&ContentType=jpeg';}else{return pw+'/Page/q/'+ar.aP.toString()+fm+'?DocumentID=e'+ar.get_encodedIdentifier()+'&Quality=85&ContentType=jpeg';}}}else{if(/^[\x00-\x7F]*$/.test(ar.get_identifier())){return pw+'/Page/q/'+ar.aP.toString()+fm+'?DocumentID=u'+encodeURIComponent(ar.get_identifier())+'&'+aI;}else{return pw+'/Page/q/'+ar.aP.toString()+fm+'?DocumentID=e'+ar.get_encodedIdentifier()+'&'+aI;}}};this.app=function(fm,aI){fm=fm||'Art';aI=aI||'';if(aI===null||aI===''){if(fm==='Art'){return pw+'/Page/q/'+ar.aP.toString()+'/'+fm+'?DocumentID=e'+ar.get_encodedIdentifier();}}else{return pw+'/Page/q/'+ar.aP.toString()+'/'+fm+'?DocumentID=e'+ar.get_encodedIdentifier()+'&'+aI;}};this.XD=function(Dm){if(GG===false){if(Dm){Dm();}return;}IPCC.V.mx.fa({method:'POST',url:this.app('Art'),headers:{'Content-Type':'application/json'},body:bk.saveToJson()}).then(function(){if(Dm){Dm();}});};this.uv=function(){return pw;};this.Zb=function(h){pw=h;this.cQ('imageHandlerUrl');};this.og=function(){return akP;};this.Qy=function(h){akP=h;};this.anW=function(){return akL;};this.acH=function(h){akL=h;};this.mJ=function(){return ts;};this.wP=function(h){ts=h;ts.tabIndex= -1;};this.hS=function(){return ou;};this.np=function(h){if(typeof h!=="boolean"){return;}if(h===ou){return;}ou=h;};this.awG=function(G){if(wd){this.pM(true);}else{this.bH('mouseDown',G);this.ge('kf',G);}};this.awF=function(G){this.bH('mouseMove',G);this.ge('ly',G);};this.avN=function(G){this.bH('mouseUp',G);this.ge('kE',G);};this.awP=function(G){this.bH('mouseWheel',G);this.ge('na',G);};this.awi=function(G){this.bH('mouseDoubleClick',G);this.ge('zf',G);};this.azd=function(G){this.bH('contextMenu',G);this.ge('WO',G);};this.azv=function(G){this.bH('contextMenuCommand',G);};this.awK=function(G){this.bH('mouseOut',G);this.ge('nV',G);};this.awS=function(G){this.bH('touchStart',G);this.ge('kf',G);};this.avW=function(G){this.bH('touchMove',G);this.ge('ly',G);};this.awh=function(G){this.bH('touchEnd',G);this.ge('kE',G);};this.awv=function(G){this.bH('touchCancel',G);this.ge('IE',G);};this.bH=function(cZ,G){var H=bm.getHandler(cZ);if(H!==null){H(bQ,G);}};var ajZ=function(F,qj){aj=new IPCC.UM();function xZ(ax,G){bQ.bH('propertyChanged',G);};aj.kJ(xZ);jI=new IPCC.dX(F,qj);if(IPCC.ce){jI.si=new IPCC.ce.dF(F);jI.aBA=new IPCC.ce.dF(F);}};if(qj===false){ajZ(this,false);}else{ajZ(this,true);}return this;};module.exports=VT;},{}],60:[function(require,module,exports){var UM=function(){var sB=0;var pL=1;var mU=1;var zw=false;var cY=new IPCC.eo();var AY=false;var wA;var qG;var Lu=false;var Be=new IPCC.BB(200,150,96,96);var uY={x:0,y:0};var KO=3;var Mh=0,KY=0;var ht=0.2;var rW=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;var Cx=new IPCC.eo();var Gz=0;var Hx=0;var BA=false;var Uy;this.iO=[];var Wy=IPCC.Web.UI.ScrollBars.Auto;var CY=[];this.get_transientHighlightMarks=function(){return CY;};this.get_scrollBars=function(){return Wy;};this.get_overflow=function(){switch(Wy){case IPCC.Web.UI.ScrollBars.None:return 'hidden';case IPCC.Web.UI.ScrollBars.Both:return 'scroll';}return 'auto';};this.set_scrollBars=function(h){Wy=h;this.cQ('scrollBars');};var bm=new IPCC.Web.UI.gp();this.kJ=function(H){bm.addHandler('propertyChanged',H);};this.lP=function(H){bm.removeHandler('propertyChanged',H);};this.cQ=function(cg){var H=bm.getHandler('propertyChanged');if(H){H(this,new IPCC.nz(cg));}};var onSelectionChanged=function(aj){var G={};G.selectionIsVisible=AY;G.selectionRectangle=aj.vZ();aj.cQ('selection');};this.oU=function(){wA={x:0,y:0};qG={x:0,y:0};if(!AY){return;}AY=false;onSelectionChanged(this);};this.showSelection=function(cO){wA.x=cO.x;wA.y=cO.y;qG.x=cO.x+cO.width;qG.y=cO.y+cO.height;AY=true;onSelectionChanged(this);};this.Bv=function(db){wA.x=db.x;wA.y=db.y;qG.x=db.x;qG.y=db.y;AY=true;onSelectionChanged(this);};this.xK=function(db){qG.x=db.x;qG.y=db.y;onSelectionChanged(this);};this.Aj=function(){return AY;};this.vZ=function(){var C=new IPCC.Web.UI.Rectangle(Math.min(wA.x,qG.x),Math.min(wA.y,qG.y),0,0);C.width=Math.max(wA.x,qG.x)-C.x;C.height=Math.max(wA.y,qG.y)-C.y;return C;};var Gu=function(){if(!Lu){Cx.aBq();return;}Cx.RA(cY);Cx.lV(-uY.x,-uY.y);Cx.scale(KO,KO);Cx.lV(Be.width/2,Be.height/2);};this.hideMagnifier=function(){Lu=false;Gu();this.cQ('magnifierIsVisible');};this.showMagnifier=function(cn){uY.x=cn.x;uY.y=cn.y;Lu=true;Gu();this.cQ('magnifierWindowPosition');this.cQ('magnifierIsVisible');};this.get_magnifierIsVisible=function(){return Lu;};this.get_magnifierWindowPosition=function(){return{x:uY.x,y:uY.y};};this.get_magnifierMagnification=function(){return KO;};this.set_magnifierMagnification=function(h){KO=h;Gu();this.cQ('magnifierMagnification');};this.PH=function(){return Mh;};this.Zk=function(h){Mh=h;this.cQ('magnifierXOffset');};this.Pz=function(){return KY;};this.Zd=function(h){KY=h;this.cQ('magnifierYOffset');};this.vd=function(){return{width:Be.width,height:Be.height};};this.set_magnifierWindowSize=function(newMagnifierSize){Be.width=newMagnifierSize.width;Be.height=newMagnifierSize.height;Gu();this.cQ('magnifierWindowSize');};this.apa=function(){return Cx.clone();};this.fC=function(){return cY.clone();};this.aap=function(){return ht;};this.Zu=function(h){ht=h;this.cQ('markHandleSize');};this.yR=function(){return rW;};this.Gb=function(h){rW=h;this.cQ('markHandleMode');};this.it=function(h){if(h===cY||h.avC(cY)){return;}if(!h.alg()){throw new IPCC.Web.UI.ImGearInvalidOperationException('The viewing state of the control is invalid.');}cY.RA(h);Gu();this.cQ('displayedPageRectangle');};var abB='0';this.get_presentationQuality=function(){return abB;};this.set_presentationQuality=function(h){abB=h;this.cQ('presentationQuality');};this.aoF=function(){return pL;};this.Bn=function(h){pL=h;};this.apP=function(){return sB;};this.BJ=function(h){sB=h;};this.apR=function(){return mU;};this.Ef=function(h){if(h!==mU){zw=true;}mU=h;};this.aCn=function(h){zw=h;};this.alw=function(){return zw;};var aaw=IPCC.bA.Default;this.aIp=function(){return aaw;};this.aBe=function(h){if(aaw!==h){aaw=h;this.cQ('markCursor');}};this.Az=function(bZ){Gz=bZ;BA=false;Hx=0;};this.OT=function(vw,da){if(vw!==Gz){Gz=vw;}Hx=da;BA=true;};this.YG=function(){if(BA===true){for(var L=0;L<this.iO.length;L++){this.iO[L].T.set_visible(false);}BA=false;}};this.JB=function(){return BA;};this.uk=function(bZ,T,kp){Uy=bZ;if(bZ!==undefined){if(this.iO.length>0&&this.iO[this.iO.length-1].bZ===bZ){return false;}this.iO.push({bZ:bZ,T:T,kp:kp});BA=true;Hx++;}else{this.iO=[];Hx=0;}return true;};this.BK=function(){return Uy;};this.aEo=function(h){if(h===undefined){return;}Uy=h;};var ahJ;this.aHP=function(){return ahJ;};this.aCt=function(h){if(h===undefined){return;}ahJ=h;};this.akt=function(){return Gz;};this.aIe=function(){return Gz+Hx;};this.CD=function(){return this.iO.length;};this.oU();this.hideMagnifier();return this;};module.exports=UM;},{}],61:[function(require,module,exports){var yL={};yL.ahy=function(aG){if(!this.En[0][0][0]){this.Ti();}var L,aw,eh,Ku,Uw,mC=this.En[0][4],uV=this.En[1],sQ=aG.length,Nm=1;if(sQ!==4&&sQ!==6&&sQ!==8){throw new IPCC.Web.UI.ImGearArgumentException('none',"invalid aes key size");}this.aG=[Ku=aG.slice(0),Uw=[]];for(L=sQ;L<4*sQ+28;L++){eh=Ku[L-1];if(L%sQ===0||(sQ===8&&L%sQ===4)){eh=mC[eh>>>24]<<24^mC[eh>>16&255]<<16^mC[eh>>8&255]<<8^mC[eh&255];if(L%sQ===0){eh=eh<<8^eh>>>24^Nm<<24;Nm=Nm<<1^(Nm>>7)*283;}}Ku[L]=Ku[L-sQ]^eh;}for(aw=0;L;aw++,L--){eh=Ku[aw&3?L:L-4];if(L<=4||aw<4){Uw[aw]=eh;}else{Uw[aw]=uV[0][mC[eh>>>24]]^uV[1][mC[eh>>16&255]]^uV[2][mC[eh>>8&255]]^uV[3][mC[eh&255]];}}};yL.ahy.prototype={UB:function(ci){return this.aoQ(ci,1);},En:[[[],[],[],[],[]],[[],[],[],[],[]]],Ti:function(){var OO=this.En[0],uV=this.En[1],mC=OO[4],aDR=uV[4],L,aT,wu,fE=[],acJ=[],Xt,acW,adR,he,OH,Pb;for(L=0;L<256;L++){acJ[(fE[L]=L<<1^(L>>7)*283)^L]=L;}for(aT=wu=0;!mC[aT];aT^=Xt||1,wu=acJ[wu]||1){he=wu^wu<<1^wu<<2^wu<<3^wu<<4;he=he>>8^he&255^99;mC[aT]=he;aDR[he]=aT;adR=fE[acW=fE[Xt=fE[aT]]];Pb=adR*0x1010101^acW*0x10001^Xt*0x101^aT*0x1010100;OH=fE[he]*0x101^he*0x1010100;for(L=0;L<4;L++){OO[L][aT]=OH=OH<<24^OH>>>8;uV[L][he]=Pb=Pb<<24^Pb>>>8;}}for(L=0;L<5;L++){OO[L]=OO[L].slice(0);uV[L]=uV[L].slice(0);}},aoQ:function(qz,Ix){if(qz.length!==4){throw new IPCC.Web.UI.ImGearArgumentException('blocksize','Invalid block size');}var aG=this.aG[Ix],dK=qz[0]^aG[0],fI=qz[Ix?3:1]^aG[1],fD=qz[2]^aG[2],fE=qz[Ix?1:3]^aG[3],wL,aid,akv,awz=aG.length/4-2,L,BV=4,eI=[0,0,0,0],Iz=this.En[Ix],Qh=Iz[0],OX=Iz[1],OA=Iz[2],QE=Iz[3],mC=Iz[4];for(L=0;L<awz;L++){wL=Qh[dK>>>24]^OX[fI>>16&255]^OA[fD>>8&255]^QE[fE&255]^aG[BV];aid=Qh[fI>>>24]^OX[fD>>16&255]^OA[fE>>8&255]^QE[dK&255]^aG[BV+1];akv=Qh[fD>>>24]^OX[fE>>16&255]^OA[dK>>8&255]^QE[fI&255]^aG[BV+2];fE=Qh[fE>>>24]^OX[dK>>16&255]^OA[fI>>8&255]^QE[fD&255]^aG[BV+3];BV+=4;dK=wL;fI=aid;fD=akv;}for(L=0;L<4;L++){eI[Ix?3& -L:L]=mC[dK>>>24]<<24^mC[fI>>16&255]<<16^mC[fD>>8&255]<<8^mC[fE&255]^aG[BV++];wL=dK;dK=fI;fI=fD;fD=fE;fE=wL;}return eI;}};module.exports=yL;},{}],62:[function(require,module,exports){var hl={};hl.HA={ni:function(bW){var eI="",qV=IPCC.Web.gx.uW(bW),L,eh;for(L=0;L<qV/8;L++){if((L&3)===0){eh=bW[L/4];}eI+=String.fromCharCode(eh>>>24);eh<<=8;}return decodeURIComponent(escape(eI));},tn:function(dw){dw=unescape(encodeURIComponent(dw));var eI=[],L,eh=0;for(L=0;L<dw.length;L++){eh=eh<<8|dw.charCodeAt(L);if((L&3)===3){eI.push(eh);eh=0;}}if(L&3){eI.push(IPCC.Web.gx.Kb(8*(L&3),eh));}return eI;}};hl.qf={wN:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ni:function(bW,avB,an){var eI="",L,eL=0,fD=IPCC.Web.hl.qf.wN,yU=0,qV=IPCC.Web.gx.uW(bW);if(an){fD=fD.substr(0,62)+'-_';}for(L=0;eI.length*6<qV;){eI+=fD.charAt((yU^bW[L]>>>eL)>>>26);if(eL<6){yU=bW[L]<<(6-eL);eL+=26;L++;}else{yU<<=6;eL-=6;}}while((eI.length&3)&& !avB){eI+="=";}return eI;},tn:function(dw,an){dw=dw.replace(/\s|=/g,'');var eI=[],L,eL=0,fD=IPCC.Web.hl.qf.wN,yU=0,aT;if(an){fD=fD.substr(0,62)+'-_';}for(L=0;L<dw.length;L++){aT=fD.indexOf(dw.charAt(L));if(aT<0){throw new IPCC.Web.UI.ImGearArgumentException('base64','Invalid base64');}if(eL>26){eL-=26;eI.push(yU^aT>>>eL);yU=aT<<(32-eL);}else{eL+=6;yU^=aT<<(32-eL);}}if(eL&56){eI.push(IPCC.Web.gx.Kb(eL&56,yU,1));}return eI;}};hl.Fu={ni:function(bW){return IPCC.Web.hl.qf.ni(bW,1,1);},tn:function(dw){return IPCC.Web.hl.qf.tn(dw,1);}};module.exports=hl;},{}],63:[function(require,module,exports){var qv={};qv.Zg=function(qv){if(!this.aG[0]){this.Ti();}if(qv){this.eF=qv.eF.slice(0);this.yz=qv.yz.slice(0);this.da=qv.da;}else{this.aaj();}};qv.Zg.qv=function(ci){return(new IPCC.Web.qv.Zg()).atf(ci).auA();};qv.Zg.prototype={aGe:512,aaj:function(){this.eF=this.aka.slice(0);this.yz=[];this.da=0;return this;},atf:function(ci){if(typeof ci==="string"){ci=IPCC.Web.Codec.HA.tn(ci);}var L,fI=this.yz=IPCC.Web.gx.Vi(this.yz,ci),anm=this.da,axd=this.da=anm+IPCC.Web.gx.uW(ci);for(L=512+anm& -512;L<=axd;L+=512){this.oh(fI.splice(0,16));}return this;},auA:function(){var L,fI=this.yz,eF=this.eF;fI=IPCC.Web.gx.Vi(fI,[IPCC.Web.gx.Kb(1,1)]);for(L=fI.length+2;L&15;L++){fI.push(0);}fI.push(Math.floor(this.da/0x100000000));fI.push(this.da|0);while(fI.length){this.oh(fI.splice(0,16));}this.aaj();return eF;},aka:[],aG:[],Ti:function(){var L=0,Im=2,bb;function aby(aT){return(aT-Math.floor(aT))*0x100000000|0;};ayu:for(;L<64;Im++){for(bb=2;bb*bb<=Im;bb++){if(Im%bb===0){continue ayu;}}if(L<8){this.aka[L]=aby(Math.pow(Im,1/2));}this.aG[L]=aby(Math.pow(Im,1/3));L++;}},oh:function(aon){var L,eh,dK,fI,jp=aon.slice(0),eF=this.eF,cE=this.aG,Wo=eF[0],qb=eF[1],GQ=eF[2],Qd=eF[3],rI=eF[4],Pm=eF[5],Ho=eF[6],WS=eF[7];for(L=0;L<64;L++){if(L<16){eh=jp[L];}else{dK=jp[(L+1)&15];fI=jp[(L+14)&15];eh=jp[L&15]=((dK>>>7^dK>>>18^dK>>>3^dK<<25^dK<<14)+(fI>>>17^fI>>>19^fI>>>10^fI<<15^fI<<13)+jp[L&15]+jp[(L+9)&15])|0;}eh=(eh+WS+(rI>>>6^rI>>>11^rI>>>25^rI<<26^rI<<21^rI<<7)+(Ho^rI&(Pm^Ho))+cE[L]);WS=Ho;Ho=Pm;Pm=rI;rI=Qd+eh|0;Qd=GQ;GQ=qb;qb=Wo;Wo=(eh+((qb&GQ)^(Qd&(qb^GQ)))+(qb>>>2^qb>>>13^qb>>>22^qb<<30^qb<<19^qb<<10))|0;}eF[0]=eF[0]+Wo|0;eF[1]=eF[1]+qb|0;eF[2]=eF[2]+GQ|0;eF[3]=eF[3]+Qd|0;eF[4]=eF[4]+rI|0;eF[5]=eF[5]+Pm|0;eF[6]=eF[6]+Ho|0;eF[7]=eF[7]+WS|0;}};module.exports=qv;},{}],64:[function(require,module,exports){var Eq={};Eq.aul={aJ:"cbc",agm:function(NS,Ur,gm,vY){if(vY&&vY.length){throw new IPCC.Web.UI.ImGearArgumentException('data','cannot authenticate data');}if(IPCC.Web.gx.uW(gm)!==128){throw new IPCC.Web.UI.ImGearArgumentException('iv','invalid data');}var L,jp=IPCC.Web.gx,Rd=jp.acj,qV=jp.uW(Ur),ajs=0,qB=[];if(qV&7){throw new IPCC.Web.UI.ImGearInvalidOperationException('padding works only for multiple bytes');}for(L=0;ajs+128<=qV;L+=4,ajs+=128){gm=NS.agm(Rd(gm,Ur.slice(L,L+4)));qB.splice(L,0,gm[0],gm[1],gm[2],gm[3]);}qV=(16-((qV>>3)&15))*0x1010101;gm=NS.agm(Rd(gm,jp.Vi(Ur,[qV,qV,qV,qV]).slice(L,L+4)));qB.splice(L,0,gm[0],gm[1],gm[2],gm[3]);return qB;},UB:function(NS,Pi,gm,vY){if(vY&&vY.length){throw new IPCC.Web.UI.ImGearArgumentException(vY,"cbc can't authenticate data");}if(IPCC.Web.gx.uW(gm)!==128){throw new IPCC.Web.UI.ImGearArgumentException('iv',"cbc iv must be 128 bits");}if((IPCC.Web.gx.uW(Pi)&127)|| !Pi.length){throw new IPCC.Web.UI.ImGearInvalidOperationException("cbc ciphertext must be a positive multiple of the block size");}var L,jp=IPCC.Web.gx,Rd=jp.acj,sg,sz,qB=[];vY=vY||[];for(L=0;L<Pi.length;L+=4){sg=Pi.slice(L,L+4);sz=Rd(gm,NS.UB(sg));qB.splice(L,0,sz[0],sz[1],sz[2],sz[3]);gm=sg;}sg=qB[L-1]&255;if(sg===0||sg>16){throw new IPCC.Web.UI.ImGearInvalidOperationException('pkcs#5 padding corrupt');}sz=sg*0x1010101;if(!jp.arl(jp.Zc([sz,sz,sz,sz],0,sg*8),jp.Zc(qB,qB.length*32-sg*8,qB.length*32))){throw new IPCC.Web.UI.ImGearInvalidOperationException('2pkcs#5 padding corrupt');}return jp.Zc(qB,0,qB.length*32-sg*8);}};module.exports=Eq;},{}],65:[function(require,module,exports){var cd=require('../../IPCC.Util').regClass;var RV=function(){var bq=[];var bm=new IPCC.Web.UI.gp();var fk=new IPCC.Web.UI.MarkCollection();var J=this;var Jl=true;this.aCC=[];function onMarkSelectionChanged(ax,G){var T=G.mark;if(T.bE&&T.bE[0]&&T.bE[0].cV===false){return;}var cB;var aBz=G.mark.get_selected();if(T.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&T.ac!==undefined){fk.remove_markAdded(onMarkSelectionChanged);fk.remove_markRemoved(onMarkSelectionChanged);for(var L=0;L<bq.length;L++){if(bq[L].ac===T.ac){if(bq[L].get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){cB=bq[L];}else{bq[L].set_selected(G.mark.get_selected());}}}fk.add_markAdded(onMarkSelectionChanged);fk.add_markRemoved(onMarkSelectionChanged);if(cB){cB.set_selected(aBz);}return;}else if(T.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){fk.remove_markAdded(onMarkSelectionChanged);fk.remove_markRemoved(onMarkSelectionChanged);for(var bD=0;bD<T.bE.length;bD++){T.bE[bD].set_selected(G.mark.get_selected());}fk.add_markAdded(onMarkSelectionChanged);fk.add_markRemoved(onMarkSelectionChanged);}var ew=new IPCC.Web.UI.MarkEventArgs();ew.mark=T;ew.zIndex=J.oc(T);ew.length=1;J.bH('markSelectionChanged',ew);};fk.add_markAdded(onMarkSelectionChanged);fk.add_markRemoved(onMarkSelectionChanged);var aCj=fk.addMark;fk.addMark=function(T){if(J.oc(T)<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot select a Mark that is not associated with the ArtPage.');}if(!fk.contains(T)){aCj.call(fk,T);T.cQ('selected');}};var aCE=fk.addMarks;fk.addMarks=function(zO){var od=[];function Uz(T){if(J.oc(T)<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot select a Mark that is not associated with the ArtPage.');}if(!fk.contains(T)){od.push(T);}};zO.forEach(Uz,{});aCE.call(fk,zO);var L;for(L=0;L<od.length;L++){od[L].cQ('selected');}};var azT=fk.removeMark;fk.removeMark=function(T){if(fk.contains(T)){azT.call(fk,T);T.cQ('selected');}};var aza=fk.removeAllMarks;fk.removeAllMarks=function(){var od=[];function Uz(T){if(fk.contains(T)){od.push(T);}};fk.forEach(Uz,{});aza.call(fk);var L;for(L=0;L<od.length;L++){od[L].cQ('selected');}};function anf(kd){IPCC.aq.nb(kd,'zIndex',0,bq.length-1);};this.aaH=function(){return bq.length;};this.akp=function(){var L=0;for(;L<bq.length;L++){if(bq[L].get_type()!==IPCC.Web.UI.MarkType.HighlightText&&bq[L].get_type()!==IPCC.Web.UI.MarkType.Highlight&& !(bq[L].get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&bq[L].ac!==undefined)){break;}}return L;};this.zH=function(){return fk;};this.CP=function(h){if(h===Jl){return;}Jl=h;this.cQ('Jl');};this.Qo=function(){return Jl;};var ow=false;this.nY=function(){return ow;};this.qU=function(h){if(typeof h!=="boolean"){return;}ow=h;this.cQ('redactionDraftMode');};function lJ(ax,G){if(G.get_propertyName()==='selected'){return;}var ew=new IPCC.Web.UI.MarkEventArgs();ew.mark=ax;ew.zIndex=J.oc(ax);ew.propertyName=G.cg;ew.length=1;if(ew.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||(ew.mark.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&ew.mark.ac!=='undefined')){J.asc(ax);}J.bH('markChanged',ew);};function Aa(ax){var ew=new IPCC.Web.UI.MarkEventArgs();ew.mark=ax;ew.zIndex=J.oc(ax);ew.length=1;J.bH('markTextSelectionChanged',ew);};function Od(ax,G){var ew=new IPCC.Web.UI.CommentEventArgs();ew.mark=ax;ew.comment=G.comment;ew.index=G.index;J.bH('commentAdded',ew);};function KN(ax,G){var ew=new IPCC.Web.UI.CommentEventArgs();ew.mark=ax;ew.comment=G.comment;ew.index=G.index;J.bH('commentRemoved',ew);};function Ld(ax,G){var ew=new IPCC.Web.UI.CommentEventArgs();ew.mark=ax;ew.comment=G.comment;ew.index=G.index;J.bH('commentChanged',ew);};this.LE=function(T,qQ){qQ=qQ||{};var kd=this.oc(T);if(kd>=0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot add a Mark to an ArtPage if the mark is already associated with the ArtPage.');}if(T.ep()){throw new IPCC.Web.UI.ImGearInvalidOperationExceptionException('You cannot add a Mark to an ArtPage if the mark is already associated with a different ArtPage.');}bq.push(T);T.mZ(this);T.add_propertyChanged(lJ);T.add_markTextSelectionChanged(Aa);T.wG(Od);T.wv(KN);T.sj(Ld);var G=new IPCC.Web.UI.MarkEventArgs();G.mark=T;if(T.get_type()===IPCC.Web.UI.MarkType.Highlight||T.get_type()===IPCC.Web.UI.MarkType.HighlightText||T.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||T.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink||T.get_type()===IPCC.Web.UI.MarkType.Strikethrough||(T.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&T.ac!==undefined)){this.abp(T,0);}else{G.zIndex=bq.length-1;}G.clientX=qQ.clientX;G.clientY=qQ.clientY;G.length=1;J.bH('markAdded',G);};this.EU=function(ji,cc){var HF=[].concat(bq);var L;for(L=0;L<HF.length;L++){ji.call(cc,HF[L],L,this);}};this.Rm=function(kd){anf(kd);return bq[kd];};this.oc=function(T){var L;for(L=0;L<bq.length;L++){if(bq[L]===T){return L;}}return-1;};this.aDl=function(fi){var dY=JSON.parse(fi);this.Su();var Kg=[];var L;var MA=dY.m;if(MA){for(L=0;L<MA.length;L++){var av=new IPCC.Web.UI.Mark(MA[L].t);av.aEF(MA[L]);av.mZ(this);av.add_propertyChanged(lJ);av.add_markTextSelectionChanged(Aa);Kg.push(av);}}bq=Kg;J.bH('marksLoaded',{});};var ALPHA_CHAR_CODES=[48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70];this.anN=function(){var lo=new Array(36);var aV=0;var L;var aw;for(L=0;L<8;L++){lo[aV++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}for(L=0;L<3;L++){lo[aV++]=45;for(aw=0;aw<4;aw++){lo[aV++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}}lo[aV++]=45;var arV=new Date().getTime();var arv=("0000000"+arV.toString(16).toUpperCase()).substr(-8);for(L=0;L<8;L++){lo[aV++]=arv.charCodeAt(L);}for(L=0;L<4;L++){lo[aV++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}return String.fromCharCode.apply(null,lo);};function YZ(le){var aT=le.firstChild;while(aT.nodeType!==1){aT=aT.nextSibling;}return aT;};function QD(vC,aiJ,auz){var azl=parseFloat(vC.getAttribute(aiJ));var aAO=parseFloat(vC.getAttribute(aiJ+'QB'));return auz/(azl/aAO);};function aqJ(LK,bf,aY){if(bf<=0&&aY<=0){return 1;}var ajN=LK.getAttribute('pageWidth');var aki=LK.getAttribute('pageHeight');var Ok,VD,bb,vC,L;if(ajN&&aki){Ok=parseFloat(ajN);VD=parseFloat(aki);if(isFinite(Ok)&&isFinite(VD)&&Ok>0&&VD>0){return bf/Ok;}}for(L=0;L<LK.childNodes.length;L++){vC=LK.childNodes[L];if(vC.nodeName!=='annotation'){continue;}bb=QD(vC,'width',bf);if(isFinite(bb)&&bb>0){return bb;}bb=QD(vC,'height',aY);if(isFinite(bb)&&bb>0){return bb;}bb=QD(vC,'x',bf);if(isFinite(bb)&&bb>0){return bb;}bb=QD(vC,'y',aY);if(isFinite(bb)&&bb>0){return bb;}}return 1;};this.aCV=function(kR,be,bf,aY,ZR,stampImages,vu,wZ){var J=this;if(vu!==true){this.Su();}if(kR){var hM;if(IPCC.tL.HC()){hM=kR.firstChild;}else{var Vu=kR.firstChild.nodeName;if(Vu.toLowerCase()==='xml'){hM=kR.firstChild.nextSibling;}else{hM=kR.firstChild;}}var cX=YZ(hM);if(cX.nodeName!=='pages'){throw 'ERROR: pages';}if(cX.hasChildNodes()){var L;for(L=0;L<cX.childNodes.length;L++){var ap=cX.childNodes[L];if(ap.nodeName!=='page'){continue;}var zM=ap.getAttribute('id');var mF=false;var vx;var sR='';var HQ=[];var iZ;var pe,bD=0;var cr,cu,bL;if(ZR){var adA=ap.getAttribute('pageWidth'),ack=ap.getAttribute('pageHeight');if(adA){ZR.aca(adA);}if(ack){ZR.ach(ack);}}var oD=[],PW={},bE;if((zM&&parseInt(zM,10))===(be+1)){mF=true;var Kg=[];var aw;var av;var jq,fW,rm,rD,rM,hf;var lQ=1;var alS=aqJ(ap,bf,aY);if(alS>0){lQ=alS;}for(aw=0;aw<ap.childNodes.length;aw++){var bC=ap.childNodes[aw];if(bC.nodeName!=='annotation'){continue;}var hL=parseFloat(bC.getAttribute('width'))*lQ;var ju=parseFloat(bC.getAttribute('height'))*lQ;var hD=parseFloat(bC.getAttribute('x'))*lQ;var gX=parseFloat(bC.getAttribute('y'))*lQ;var WL=bC.getAttribute('fillColor'),WF,qy,WC=bC.getAttribute('lineColor'),akz,hO,acr=bC.getAttribute('fontColor'),agj,zJ;if(WL==='transparent'){WF=qy=WL;}else{WF=parseInt(WL||0,10);qy=parseInt(WF,10).toString(16);while(qy.length<6){qy='0'+qy;}qy='#'+qy;}if(WC==='transparent'){hO=WC;}else{akz=parseInt(WC||0,10);hO=parseInt(akz,10).toString(16);while(hO.length<6){hO='0'+hO;}hO='#'+hO;}if(acr){agj=parseInt(acr||0,10);zJ=parseInt(agj,10).toString(16);while(zJ.length<6){zJ='0'+zJ;}zJ='#'+zJ;}var aGJ=bC.getAttribute('stampSize');var MR=bC.getAttribute('dragDirection');var He=parseInt(bC.getAttribute('opacity'),10);if(isNaN(He)){He=255;}if(bC.nodeName==='annotation'){var ajR=bC.getAttribute('label');if(!ajR){ajR='';}var kn=bC.getAttribute('drawType');var kM;switch(kn){case 'imagestamp':case 'imagestamp_redact':var rf=bC.getAttribute('imageStampId');var ad=(kn==='imagestamp')?IPCC.Web.UI.MarkType.ImageStampAnnotation:IPCC.Web.UI.MarkType.ImageStampRedaction;av=new IPCC.Web.UI.Mark(ad);av.set_rectangle({x:hD,y:gX,width:hL,height:ju});av.set_image(stampImages[rf].base64format);av.rf=rf;jq=true;if(kn==='imagestamp_redact'){av.lx(true);}break;case 'circle':av=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Ellipse);av.set_rectangle({x:hD,y:gX,width:hL,height:ju});jq=true;av.set_lineColor(hO);av.set_fillVisible(false);av.set_lineWidth(parseFloat(bC.getAttribute('lineWidth')));break;case 'circle_filled':case 'circle_trans':av=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Ellipse);av.set_rectangle({x:hD,y:gX,width:hL,height:ju});jq=true;av.set_fillColor(qy);av.set_lineColor(hO);av.set_fillVisible(true);av.set_lineWidth(parseFloat(bC.getAttribute('lineWidth')));break;case 'text':case 'text_redact':av=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Text);av.set_rectangle({x:hD,y:gX,width:hL,height:ju});av.set_fontName('verdana');av.set_fontSize(10);av.set_opacity(0);vx=undefined;av.set_fillColor('#000000');if(kn==='text_redact'){av.lx(true);}if(kn==='text'){av.set_fillColor(qy);av.set_lineColor(hO);av.set_lineWidth(parseFloat(bC.getAttribute('lineWidth')));av.set_fillVisible(true);av.set_opacity(He);}hf=parseInt(bC.getAttribute('maxLength'));if(!isNaN(hf)){av.set_maxLength(hf);}oD=[];fW=bC.firstChild;while((fW)&&(fW.nodeType!==4)){fW=fW.nextSibling;}if((fW)&&(fW.nodeType===4)){kM=fW.innerText||fW.textContent||fW.data;av.ak.bp=kM;pe=kM.split("</TEXTFORMAT>");sR='';HQ=[];for(bD=0;bD<pe.length;bD++){if(pe[bD].match(/<TEXTFORMAT/)){pe[bD]=pe[bD]+"</TEXTFORMAT>";oD.push(pe[bD]);}}for(bD=0;bD<oD.length;bD++){if(oD[bD].match(/<P/)){vx=this.ajA(oD[bD]);HQ.push(vx);sR+=vx+" ";if(bD===0){iZ=this.aiM(oD[bD]);akB(iZ,av);}}sR=sR.replace(/\s+$/g,"");av.set_text(sR);var JI=this.ahU(oD[bD]);switch(JI){case 'CENTER':av.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);break;case 'RIGHT':av.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Right);break;default:av.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Left);break;}}}break;case 'line':case 'arrow':av=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Line);var bF=av.pH();if(MR==='br'){bF.setPoint(1,new IPCC.Web.UI.Point(hD+hL,gX+ju));bF.setPoint(0,new IPCC.Web.UI.Point(hD,gX));}else if(MR==='bl'){bF.setPoint(1,new IPCC.Web.UI.Point(hD,gX+ju));bF.setPoint(0,new IPCC.Web.UI.Point(hD+hL,gX));}else if(MR==='tr'){bF.setPoint(1,new IPCC.Web.UI.Point(hD+hL,gX));bF.setPoint(0,new IPCC.Web.UI.Point(hD,gX+ju));}else if(MR==='tl'){bF.setPoint(1,new IPCC.Web.UI.Point(hD,gX));bF.setPoint(0,new IPCC.Web.UI.Point(hD+hL,gX+ju));}av.set_lineColor(hO);av.set_lineWidth(parseFloat(bC.getAttribute('lineWidth')));if(kn==='arrow'){av.set_headFillColor(hO);av.set_endHeadType(IPCC.Web.UI.LineHeadType.Solid);av.set_startHeadAngle(30);av.set_startHeadLength(35);av.set_lineWidth(parseFloat(bC.getAttribute('lineWidth')));}break;case 'stamp':case 'stamp_redact':av=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Stamp);av.set_rectangle({x:hD,y:gX,width:hL,height:ju});av.set_fillColor(hO);if(kn==='stamp_redact'){av.lx(true);av.set_fillColor('#000000');}fW=bC.firstChild;while((fW)&&(fW.nodeType!==4)){fW=fW.nextSibling;}if((fW)&&(fW.nodeType===4)){kM=fW.innerText||fW.textContent||fW.data;av.ak.bp=kM;av.set_text(kM);}break;case 'highlightText':av=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);av.set_rectangle({x:hD,y:gX,width:hL,height:ju});av.set_fillColor(hO);av.ac=bC.getAttribute('highlightGroupID');if(bC.getAttribute('textLength')){av.cr=parseInt(bC.getAttribute('textLength'),10);}av.cu=bC.getAttribute('selectedText');if(bC.getAttribute('startIndex')){av.bL=parseInt(bC.getAttribute('startIndex'),10);}av.jD=bC.getAttribute('isHighlight');av.set_opacity(127);bE=Yb(bC,lQ);if(bE){av.bE=bE;}break;case 'rectangle_filled_redact':av=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);av.set_rectangle({x:hD,y:gX,width:hL,height:ju});av.set_fillColor(qy||'#000000');av.set_lineColor(hO);av.set_lineWidth(parseFloat(bC.getAttribute('lineWidth')));av.set_textColor(zJ||'#ffffff');av.set_fillVisible(true);av.lx(true);rm=bC.getAttribute('highlightGroupID');av.set_text(IPCC.V.xQ(bC.getAttribute('meta')));if(rm){av.set_lineWidth(0);av.ac=rm;var cB=PW[rm];if(!cB){cB=PW[rm]=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);cB.ac=rm;cB.set_rectangle(av.get_rectangle());cB.lx(true);cB.set_text(IPCC.V.xQ(bC.getAttribute('meta')));}else{var Hw=false;var nU=cB.get_rectangle();var gi=nU.x,iX=nU.x+nU.width,_top=nU.y,kU=nU.y+nU.height;if(nU.x>hD){Hw=true;gi=hD;}if(nU.y>gX){Hw=true;_top=gX;}if(nU.x+nU.width<hD+hL){Hw=true;iX=hD+hL;}if(nU.y+nU.height<gX+ju){Hw=true;kU=gX+ju;}if(Hw===true){cB.set_rectangle({x:gi,y:_top,width:iX-gi,height:kU-_top});}}}break;case 'text_selection_redaction':rm=bC.getAttribute('highlightGroupID');av=PW[rm];if(!av){av=PW[rm]=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);av.ac=rm;av.set_rectangle({x:0,y:0,width:0,height:0});av.lx(true);av.set_text(bC.getAttribute('meta'));}cr=bC.getAttribute('textLength');if(cr){av.cr=parseInt(cr,10);}cu=bC.getAttribute('selectedText');if(cu){av.cu=cu;}bL=bC.getAttribute('startIndex');if(bL){av.bL=parseInt(bL,10);}break;case 'text_hyperlink_annotation':av=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextHyperlinkAnnotation);av.set_fillColor(hO);rm=bC.getAttribute('highlightGroupID');av.ac=rm;var mr=bC.getAttribute('href');if(mr){av.set_href(IPCC.V.xQ(mr));}cr=bC.getAttribute('textLength');if(cr){av.cr=parseInt(cr,10);}cu=bC.getAttribute('selectedText');if(cu){av.cu=cu;}bL=bC.getAttribute('startIndex');if(bL){av.bL=parseInt(bL,10);}var jD=bC.getAttribute('isHighlight');av.jD=jD?jD:'n';av.bE=Yb(bC,lQ);av.set_rectangle({x:hD,y:gX,width:hL,height:ju});break;case 'rectangle':av=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);av.set_rectangle({x:hD,y:gX,width:hL,height:ju});av.set_lineVisible(true);av.set_lineColor(hO);av.set_fillVisible(false);av.set_lineWidth(parseFloat(bC.getAttribute('lineWidth')));break;case 'rectangle_filled':av=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);av.set_rectangle({x:hD,y:gX,width:hL,height:ju});av.set_fillColor(qy);av.set_lineColor(hO);av.set_fillVisible(true);av.set_lineWidth(parseFloat(bC.getAttribute('lineWidth')));break;case 'rectangle_trans':case 'rectangle_trans_redact':av=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);av.set_rectangle({x:hD,y:gX,width:hL,height:ju});av.set_fillColor(qy);av.set_lineColor(hO);av.set_fillVisible(true);if(kn==='rectangle_trans_redact'){av.lx(true);}av.set_lineWidth(parseFloat(bC.getAttribute('lineWidth')));break;case 'freehand':case 'signature_path':if(kn==='freehand'){av=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Freehand);}else{av=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.SignaturePath);switch(bC.getAttribute('align').toUpperCase()){case 'LEFT':av.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Left);break;case 'RIGHT':av.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Right);break;default:av.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);break;}}av.set_rectangle({x:hD,y:gX,width:hL,height:ju});av.set_pathWidth(parseFloat(bC.getAttribute('pathWidth')));av.set_pathHeight(parseFloat(bC.getAttribute('pathHeight')));av.set_lineWidth(parseFloat(bC.getAttribute('lineWidth')));av.set_lineColor(hO);var uD=bC.firstChild;while((uD)&&(uD.nodeType!==4)){uD=uD.nextSibling;}if((uD)&&(uD.nodeType===4)){kM=uD.innerText||uD.textContent||uD.data;av.ak.bp=kM;av.set_pathString(kM);}break;case 'signature_text':av=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.SignatureText);av.set_rectangle({x:hD,y:gX,width:hL,height:ju});av.set_fontSize(10);av.set_lineWidth=0;av.set_fillVisible(true);av.set_opacity(1);fW=bC.firstChild;this.TL(fW,av);av.Ag=parseFloat(bC.getAttribute('fontWidth'));av.zK=parseFloat(bC.getAttribute('fontHeight'));break;case 'text_area_signature':av=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextAreaSignature);av.set_rectangle({x:hD,y:gX,width:hL,height:ju});av.set_fontName('verdana');vx=undefined;hf=parseInt(bC.getAttribute('maxLength'));if(!isNaN(hf)){av.set_maxLength(hf);}var hN=parseInt(bC.getAttribute('maxFontSize'));if(!isNaN(hN)){av.set_maxFontSize(hN);}fW=bC.firstChild;this.TL(fW,av);break;case 'text_input_signature':av=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextLine);av.set_rectangle({x:hD,y:gX,width:hL,height:ju});fW=bC.firstChild;this.TL(fW,av);av.Ag=parseFloat(bC.getAttribute('fontWidth'));av.zK=parseFloat(bC.getAttribute('fontHeight'));av.set_lineVisible(false);hf=parseInt(bC.getAttribute('maxLength'));if(!isNaN(hf)){av.set_maxLength(hf);}aAZ(bC,av);break;case 'polyline':av=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Polyline);av.set_lineWidth(parseFloat(bC.getAttribute('lineWidth')));av.set_lineColor(hO);var tC=bC.firstChild;while((tC)&&(tC.nodeType!==4)){tC=tC.nextSibling;}var HK;if((tC)&&(tC.nodeType===4)){kM=tC.innerText||tC.textContent||tC.data;if(kM&&kM!=='undefined'){HK=JSON.parse(kM);bF=av.pH();if(HK){for(L=0;L<HK.length;L++){bF.addPoint(new IPCC.Web.UI.Point(HK[L].x*lQ,HK[L].y*lQ));}}}}break;case 'strikethrough':av=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Strikethrough);av.set_rectangle({x:hD,y:gX,width:hL,height:ju});av.set_lineWidth(parseFloat(bC.getAttribute('lineWidth')));av.set_lineColor(hO);av.ac=bC.getAttribute('highlightGroupID');var textLength=bC.getAttribute('textLength');if(textLength){av.cr=parseInt(textLength,10);}av.cu=bC.getAttribute('selectedText');var startIndex=bC.getAttribute('startIndex');if(startIndex){av.bL=parseInt(startIndex,10);}av.jD=bC.getAttribute('isHighlight');bE=Yb(bC,lQ);if(bE){av.bE=bE;}break;default:}if(av){av.ak.lB=bC.getAttribute('nodeId');if(He>=0&&(kn==='rectangle_trans_redact'|| !av.kF())&&kn!=='stamp'&&kn!=='imagestamp'&&kn!=='imagestamp_redact'&&kn!=='text_hyperlink_annotation'&&kn!=='text_input_signature'&&kn!=='text_area_signature'&&kn!=='strikethrough'){av.set_opacity(He);}av.ak.DY=aGJ;av.ak.aFF=kn;av.ak.eC=bC.getAttribute('lineWidth');av.ak.dJ=bC.getAttribute('fillColor');av.ak.kS=bC.getAttribute('lineColor');av.ak.aIi=bC.getAttribute('dragDirection');av.ak.zM=zM;av.ak.aT=bC.getAttribute('x');av.ak.dI=bC.getAttribute('y');av.ak.cq=bC.getAttribute('height');av.ak.ag=bC.getAttribute('width');av.ak.aGf=bC.getAttribute('x_percent');av.ak.aFq=bC.getAttribute('y_percent');av.ak.aFE=bC.getAttribute('height_percent');av.ak.aGI=bC.getAttribute('width_percent');av.ak.aHh=bC.getAttribute('formUser');av.ak.aGt=bC.getAttribute('created');av.ak.aFD=bC.getAttribute('modified');av.ak.aIv=bC.getAttribute('saveDate');av.ak.aHX=bC.getAttribute('saveTime');av.ak.kW=bC.getAttribute('meta');var ym=bC.firstChild;while((ym)&&(ym.nodeType!==4)){ym=ym.nextSibling;}if((ym)&&(ym.nodeType===4)){av.dO.push(ym.data);}else{av.dO.push('');}var mY=parseInt(bC.getAttribute('interactionMode'))||IPCC.Web.UI.MarkInteractionMode.Full;av.set_interactionMode(mY);av.mZ(this);av.add_propertyChanged(lJ);av.add_markTextSelectionChanged(Aa);av.wG(Od);av.wv(KN);av.sj(Ld);Kg.push(av);aCd(bC,av);rD=IPCC.V.adH(bC.getAttribute('created'));rM=IPCC.V.adH(bC.getAttribute('modified'));rD=rD||new Date();rM=rM||new Date();av.initializeDates(rD,rM);if(wZ){av.set_visible(false);}}}}bq=bq.concat(Kg);J.bH('marksLoaded',{});}if(mF){aol(kR,be);break;}}}}};this.TL=function(uH,av){var L,kM,pe,sR,HQ,vx,oD=[],AI=av.get_type()===IPCC.Web.UI.MarkType.SignatureText,auI=AI?IPCC.Web.UI.HorizontalAlignment.Center:IPCC.Web.UI.HorizontalAlignment.Left,iZ;while((uH)&&(uH.nodeType!==4)){uH=uH.nextSibling;}if((uH)&&(uH.nodeType===4)){kM=uH.innerText||uH.textContent||uH.data;av.ak.bp=kM;pe=kM.split("</TEXTFORMAT>");for(L=0;L<pe.length;L++){if(pe[L].match(/<TEXTFORMAT/)){pe[L]=pe[L]+"</TEXTFORMAT>";oD.push(pe[L]);}}sR='';HQ=[];for(L=0;L<oD.length;L++){if(oD[L].match(/<P/)){vx=this.ajA(oD[L]);HQ.push(vx);sR+=vx+" ";if(L===0){iZ=this.aiM(oD[L]);akB(iZ,av);}}sR=sR.replace(/\s+$/g,"");av.set_text(sR);var JI=this.ahU(oD[L]);switch(JI){case 'LEFT':av.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Left);break;case 'CENTER':av.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);break;case 'RIGHT':av.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Right);break;default:av.set_textHorizontalAlignment(auI);break;}}}};function Yn(alV,ci){for(var i=0;i<alV.childNodes.length;i++){var Xp=alV.childNodes[i];if(Xp.nodeName==='kvp'){var aG=Xp.getAttribute("key");var h=Xp.getAttribute("value");ci.set_data(aG,h);}}};function aBZ(Pw,dP){var cA=new IPCC.Web.UI.Comment(IPCC.V.xQ(Pw.getAttribute("text")));cA.set_creationTime(Pw.getAttribute("created"));dP.addComment(cA);for(var i=0;i<Pw.childNodes.length;i++){var ale=Pw.childNodes[i];if(ale.nodeName==='data'){Yn(ale,cA.get_data());}}};function aAY(anc,dP){for(var i=0;i<anc.childNodes.length;i++){var Rk=anc.childNodes[i];if(Rk.nodeName==='comments'){var gK=Rk;for(var j=0;j<gK.childNodes.length;j++){var amF=gK.childNodes[j];if(amF.nodeName==='comment'){aBZ(amF,dP);}}}else if(Rk.nodeName==='data'){Yn(Rk,dP.get_data());}}};function aCd(Hi,T){for(var i=0;i<Hi.childNodes.length;i++){var wE=Hi.childNodes[i];if(wE.nodeName==='conversation'){aAY(wE,T.get_conversation());}else if(wE.nodeName==='data'){Yn(wE,T.get_data());}}};function aAZ(Hi,T){var h=null,Jo={};for(var i=0;i<Hi.childNodes.length;i++){var wE=Hi.childNodes[i];if(wE.nodeName==='inputMask'){h=IPCC.V.xQ(wE.getAttribute('value'));for(var j=0;j<wE.childNodes.length;j++){var YO=wE.childNodes[j];if(YO.nodeName==='translation'){Jo[IPCC.V.xQ(YO.getAttribute('key'))]=new RegExp(IPCC.V.xQ(YO.getAttribute('value').replace(/(^\/|\/$)/g,'')));}}break;}}if(h!==null){T.set_mask({value:h,translations:Jo});}};function Yb(sH,xT){var fZ=null,iV;for(var i=0;i<sH.childNodes.length;i++){iV=sH.childNodes[i];if(iV.nodeName==='line-rectangles'){if(!fZ){fZ=aBL(iV,xT);}else{throw new Error("An XML annotation node cannot have more than one line-rectangles child node.");}}}return fZ;};function aBL(sH,xT){var fZ=[],iV;for(var i=0;i<sH.childNodes.length;i++){iV=sH.childNodes[i];if(iV.nodeName==='rectangle'){fZ.push(aCc(iV,xT));}}return fZ;};function aCc(sH,xT){var aT=parseFloat(sH.getAttribute("x"))*xT;var dI=parseFloat(sH.getAttribute("y"))*xT;var ag=parseFloat(sH.getAttribute("width"))*xT;var cq=parseFloat(sH.getAttribute("height"))*xT;return new IPCC.Web.UI.Rectangle(aT,dI,ag,cq);};this.VO=function(aL,Fe,uU,jF,di,aV){var av=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);av.set_rectangle({x:aL.x,y:aL.y,width:aL.width,height:aL.height});av.set_fillColor(uU);av.set_fillVisible(true);av.bL=aV;av.cr=1;if(di){av.set_opacity(di);}else{av.set_opacity(127);}J.addMark(av);return av;};this.asU=function(aL,YT,aV){var av=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);av.set_rectangle({x:aL.x,y:aL.y,width:aL.width,height:aL.height});av.set_fillColor(YT.get_fillColor());av.set_fillVisible(true);av.bL=aV;av.cr=1;if(YT.get_opacity()){av.set_opacity(YT.get_opacity());}else{av.set_opacity(127);}J.addMark(av);return av;};function akB(iZ,av){for(var cE=0;cE<iZ.length;cE++){var cf=iZ[cE].attribs;var mF=false;if(iZ[cE].attribs.length>1&& !mF&&iZ[cE].Ie==='font'){mF=true;for(var aw=0;aw<cf.length;aw++){if(cf[aw].aJ==="FACE"){av.set_fontName(cf[aw].h);}else if(cf[aw].aJ==="SIZE"&&av.get_type()!==IPCC.Web.UI.MarkType.TextLine&&av.get_type()!==IPCC.Web.UI.MarkType.TextAreaSignature){var rU=parseFloat(cf[aw].h);av.set_fontSize(rU);}else if(cf[aw].aJ==="COLOR"){var ame=cf[aw].h;if(av.get_type()===IPCC.Web.UI.MarkType.SignatureText){av.set_fillColor(ame);}else{av.set_textColor(ame);}}}var lb=false;if(iZ[cE+1]&&av.get_type()!==IPCC.Web.UI.MarkType.TextLine){if(iZ[cE+1].tagName==='font'){break;}else{var wK=iZ[cE+1].Ie;if(wK==='b'||wK==='i'||wK==='u'||wK==='s'){if(wK==='b'){av.set_fontStyle(IPCC.Web.UI.FontStyle.Bold);}else if(wK==='i'){av.set_fontStyle(IPCC.Web.UI.FontStyle.Italic);}else if(wK==='u'){av.set_fontStyle(IPCC.Web.UI.FontStyle.Underline);}else if(wK==='s'){av.set_fontStyle(IPCC.Web.UI.FontStyle.Strikeout);}lb=true;}}if(iZ[cE+2]){var amn=iZ[cE+2].Ie;lb=Tl(av,lb,amn);}if(iZ[cE+3]){var aoG=iZ[cE+3].Ie;lb=Tl(av,lb,aoG);}if(iZ[cE+4]){var aoh=iZ[cE+4].Ie;lb=Tl(av,lb,aoh);}if(mF){break;}}}}};function Tl(T,akF,vL){var lb=akF;var av=T;if(akF){if(vL==='b'){av.set_fontStyle(av.get_fontStyle()|IPCC.Web.UI.FontStyle.Bold);lb=true;}else if(vL==='i'){av.set_fontStyle(av.get_fontStyle()|IPCC.Web.UI.FontStyle.Italic);lb=true;}else if(vL==='u'){av.set_fontStyle(av.get_fontStyle()|IPCC.Web.UI.FontStyle.Underline);lb=true;}else if(vL==='s'){av.set_fontStyle(av.get_fontStyle()|IPCC.Web.UI.FontStyle.Strikeout);lb=true;}}else{if(vL==='b'){av.set_fontStyle(IPCC.Web.UI.FontStyle.Bold);lb=true;}else if(vL==='i'){av.set_fontStyle(IPCC.Web.UI.FontStyle.Italic);lb=true;}else if(vL==='u'){av.set_fontStyle(IPCC.Web.UI.FontStyle.Underline);lb=true;}else if(vL==='s'){av.set_fontStyle(IPCC.Web.UI.FontStyle.Strikeout);lb=true;}}return lb;};function CF(str){var obj={},items=str.split(",");for(var i=0;i<items.length;i++){obj[items[i]]=true;}return obj;};var aer=/^<([\-A-Za-z0-9_]+)((?:\s+\w+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,ahI=/^<\/([\-A-Za\-z0-9_]+)[^>]*>/,aDT=/([\-A-Za\-z0-9_]+)(?:\s*=\s*(?:(?:"((?:\\[\w\W]|[^"])*)")|(?:'((?:\\[\w\W]|[^'])*)')|([^>\s]+)))?/g;var asu=CF("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed");var oh=CF("address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul");var aCR=CF("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var");var ass=CF("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr");var atK=CF("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected");var anO=CF("script,style");this.ajr=function(html,handler){var aV,wN,vi,lM=[],ij=html;function parseEndTag(tag,tagName){var fQ;if(!tagName){fQ=0;}else{for(fQ=lM.length-1;fQ>=0;fQ--){if(lM[fQ]===tagName){break;}}}if(fQ>=0){for(var i=lM.length-1;i>=fQ;i--){if(handler.end){handler.end(lM[i]);}}lM.length=fQ;}};function parseStartTag(tag,tagName,rest,unary){tagName=tagName.toLowerCase();if(oh[tagName]){while(lM.last()&&aCR[lM.last()]){parseEndTag("",lM.last());}}if(ass[tagName]&&lM.last()===tagName){parseEndTag("",tagName);}unary=asu[tagName]|| ! !unary;if(!unary){lM.push(tagName);}if(handler.start){var attrs=[];rest.replace(aDT,function(vi,name){var value=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:atK[name]?name:"";attrs.push({name:name,value:value,escaped:value.replace(/(^|[^\\])"/g,'$1\\\"')});});if(handler.start){handler.start(tagName,attrs,unary);}}};lM.last=function(){return this[this.length-1];};function ayB(all,text){text=text.replace(/<!--([\w\W]*?)-->/g,"$1").replace(/<!\[CDATA\[([\w\W]*?)\]\]\]>/g,"$1");if(handler.chars){handler.chars(text);}return "";};while(html){wN=true;if(!lM.last()|| !anO[lM.last()]){if(html.indexOf("<!--")===0){aV=html.indexOf("-->");if(aV>=0){if(handler.comment){handler.comment(html.substring(4,aV));}html=html.substring(aV+3);wN=false;}}else if(html.indexOf("</")===0){vi=html.match(ahI);if(vi){html=html.substring(vi[0].length);vi[0].replace(ahI,parseEndTag);wN=false;}}else if(html.indexOf("<")===0){vi=html.match(aer);if(vi){html=html.substring(vi[0].length);vi[0].replace(aer,parseStartTag);wN=false;}}if(wN){aV=html.indexOf("<");var text=aV<0?html:html.substring(0,aV);text=IPCC.V.xQ(text);html=aV<0?"":html.substring(aV);if(handler.chars){handler.chars(text);}}}else{html=html.replace(new RegExp("(.*)<\/"+lM.last()+"[^>]*>"),ayB);parseEndTag("",lM.last());}if(html===ij){throw " Parse Error in annotation Html Text: "+html;}ij=html;}parseEndTag();};this.ajA=function(html){var results="";this.ajr(html,{start:function(){},end:function(){},chars:function(text){results+=text;},comment:function(){}});return results;};this.aiM=function(html){var ec=[];this.ajr(html,{start:function(tag,attrs){var fu;fu=tag;if(tag==='font'||tag==='b'||tag==='i'||tag==='u'||tag==='s'){var yq={};yq.Ie=tag;yq.attribs=[];if(tag==='b'){yq.aIr=true;}else if(tag==='i'){yq.aGU=true;}else if(tag==='u'){yq.aHa=true;}else if(tag==='s'){yq.aHI=true;}else{for(var i=0;i<attrs.length;i++){var Ah={};Ah.aJ=attrs[i].name;Ah.h=attrs[i].value;yq.attribs.push(Ah);}}ec.push(yq);}},end:function(){},chars:function(){},comment:function(){}});return ec;};this.ahU=function(html){var parts=html.toUpperCase().split('ALIGN="');var alignment=parts[1].split('"')[0];return alignment;};function aol(kR,aAJ){var mj=kR.getElementsByTagName("highlights")[0];if(mj.hasChildNodes()){var lu;var cG;for(var L=0;L<mj.childNodes.length;L++){lu=mj.childNodes[L];if(lu.nodeType===1){cG=lu.getAttribute('page');if(cG&&parseInt(cG,10)===aAJ+1){var iL=new IPCC.Web.UI.Zq();iL.aCL=lu.nodeName;switch(iL.aCL){case 'tag':iL.FG=IPCC.Web.UI.HighLightType.Tag;break;case 'highlight':iL.FG=IPCC.Web.UI.HighLightType.InlineHighLight;break;case 'link':iL.FG=IPCC.Web.UI.HighLightType.Link;break;case 'redaction':iL.FG=IPCC.Web.UI.HighLightType.Redaction;break;case 'strikethrough':iL.FG=IPCC.Web.UI.HighLightType.Strikethrough;break;default:iL.FG=undefined;}if(lu.childNodes[0].data){iL.dO.push(lu.childNodes[0].data);}iL.ak.cR=lu.getAttribute('id');iL.ak.aGM=lu.getAttribute('userid');iL.ak.aFx=lu.getAttribute('mode');iL.ak.dG=lu.getAttribute('color');iL.ak.aHB=lu.getAttribute('occurence');iL.ak.bC=lu.getAttribute('annotation');iL.ak.ap=lu.getAttribute('page');iL.ak.aHy=lu.getAttribute('documentname');iL.ak.aHA=lu.getAttribute('tooltip');iL.ak.aIo=lu.getAttribute('allowdelete');iL.ak.iz=lu.getAttribute('start');iL.ak.aIy=lu.getAttribute('end');J.aCC.push(iL);}}}}};this.Su=function(){var G;if(bq.length<1){return;}fk.removeAllMarks();var L;for(L=bq.length-1;L>=0;L--){bq[L].remove_propertyChanged(lJ);bq[L].remove_markTextSelectionChanged(Aa);bq[L].mZ(null);G=new IPCC.Web.UI.MarkEventArgs();G.length=bq.length;G.zIndex=0;G.mark=bq.pop();J.bH('markRemoved',G);}G=new IPCC.Web.UI.MarkEventArgs();G.length=bq.length;G.zIndex=0;J.bH('markRemoved',G);};this.ur=function(T){var kd=this.oc(T);var uB=T.ac;if(kd>=0){T.remove_propertyChanged(lJ);T.remove_markTextSelectionChanged(Aa);T.mZ(null);bq.splice(kd,1);fk.removeMark(T);var G=new IPCC.Web.UI.MarkEventArgs();G.mark=T;G.zIndex=kd;G.length=1;J.bH('markRemoved',G);if(uB){this.arW(uB);}}};this.aHF=function(qA){var wS=bq.length;var uB=qA.ac;while(wS--){var T=bq[wS];if(T.ac===uB){T.set_fillColor(qA.get_fillColor());}}};this.asc=function(qA){var wS=bq.length;var uB=qA.ac;if(!uB){qA.set_text(qA.get_text());return;}while(wS--){var T=bq[wS];if(T.ac===uB){if(T.get_text()!==qA.get_text()){T.set_text(qA.get_text());}if(T.get_fontName()!==qA.get_fontName()){T.set_fontName(qA.get_fontName());}if(T.get_fontSize()!==qA.get_fontSize()){T.set_fontSize(qA.get_fontSize());}}}};this.arW=function(uB){var wS=bq.length;while(wS--){var T=bq[wS];if(T.ac===uB){var kd=this.oc(T);fk.removeMark(T);bq.splice(wS,1);var G=new IPCC.Web.UI.MarkEventArgs();G.mark=T;G.zIndex=kd;G.length=1;}}};this.abp=function(T,kd){var Nt=this.oc(T);if(Nt<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot reorder a Mark unless it is currently associated with the ArtPage.');}if(Nt===kd){return;}anf(kd);bq.splice(Nt,1);bq.splice(kd,0,T);if(T.get_type()===IPCC.Web.UI.MarkType.Highlight||T.get_type()===IPCC.Web.UI.MarkType.HighlightText||T.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||T.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink||T.get_type()===IPCC.Web.UI.MarkType.Strikethrough||(T.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&T.ac!==undefined)){return;}var G=new IPCC.Web.UI.MarkEventArgs();G.mark=T;G.zIndex=kd;G.oldZIndex=Nt;G.length=1;J.bH('markReordered',G);};function UF(fZ,eJ,er){if(!fZ){return undefined;}var jG={eY:'line-rectangles',dO:[],ak:{}};IPCC.V.forEach(fZ,function(C){jG.dO.push({eY:'rectangle',dO:[],ak:{x:C.x,y:C.y,height:C.height,width:C.width}});});return jG;};function aEB(jn){if(!jn){return undefined;}var jG={eY:'inputMask',dO:[],ak:{value:IPCC.V.nL(jn.value)}};IPCC.V.forEach(jn.translations,function(h,aG){jG.dO.push({eY:'translation',dO:[],ak:{key:IPCC.V.nL(aG),value:IPCC.V.nL(h.toString())}});});return jG;};function Uh(ci){if(!ci){return undefined;}var oR=ci.get_dataKeys();if(oR.length===0){return undefined;}var jG={eY:'data',dO:[],ak:{}};IPCC.V.forEach(oR,function(aG){var h=ci.get_data(aG);jG.dO.push({eY:'kvp',dO:[],ak:{key:aG,value:h}});});return jG;};function asA(cA){if(!cA){return undefined;}var AA={eY:'comment',dO:[],ak:{}};AA.ak.text=IPCC.V.nL(cA.get_text());AA.ak.created=cA.get_creationTime();var jG=Uh(cA.get_data());if(jG){AA.dO.push(jG);}return AA;};function aqT(dP){if(!dP||dP.get_length()===0){return undefined;}var VR={eY:'conversation',dO:[],ak:{}};var acl={eY:'comments',dO:[],ak:{}};VR.dO.push(acl);dP.forEach(function(cA){var AA=asA(cA);if(AA){acl.dO.push(AA);}});var jG=Uh(dP.get_data());if(jG){VR.dO.push(jG);}return VR;};this.aox=function(T,eJ,er,tx){var ad=T.get_type();var kO=false;var il;var hk;var agN;var SC;var fP,sa,ql,bp;var aQ={eY:'annotation',dO:[],ak:{}};if(!T.ak.lB){aQ.ak.nodeId=J.anN();}else{aQ.ak.nodeId=T.ak.lB;}var EQ,Bs="",ps="";if(T.get_lineColor()){var Xw=T.get_lineColor();if(Xw==='transparent'){aQ.ak.lineColor=Xw;}else{EQ=Xw.replace(/#/,"");Bs=parseInt(EQ,16);ps=Bs.toString();aQ.ak.lineColor=ps;}}aQ.ak.interactionMode=T.get_interactionMode();aQ.ak.stampSize='122';var MK={};MK[IPCC.Web.UI.MarkType.Stamp]=true;MK[IPCC.Web.UI.MarkType.ImageStampAnnotation]=true;MK[IPCC.Web.UI.MarkType.ImageStampRedaction]=true;if((ad===IPCC.Web.UI.MarkType.Rectangle&&T.get_opacity()<255|| !T.kF())&&MK[ad]!==true){aQ.ak.opacity=T.get_opacity();}if(T.get_conversation().get_length()>0){aQ.dO.push(aqT(T.get_conversation()));}var jG=Uh(T.get_data());if(jG){aQ.dO.push(jG);}kO=false;switch(ad){case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.Ellipse:hk=T.get_fillColor();if(hk==='transparent'){aQ.ak.fillColor=hk;}else if(hk){il=hk.replace(/#/,"");aQ.ak.fillColor=parseInt(il,16).toString();}else{aQ.ak.fillColor=ps;}if(T.get_fillVisible()){if(T.get_type()===IPCC.Web.UI.MarkType.Rectangle){if(T.get_opacity()===255){if(T.kF()===true){aQ.ak.drawType='rectangle_filled_redact';if(T.ac){aQ.ak.highlightGroupID=T.ac;}}else{aQ.ak.drawType='rectangle_filled';}}else{if(T.kF()===true){aQ.ak.drawType='rectangle_trans_redact';}else{aQ.ak.drawType='rectangle_trans';}}}else{if(T.get_opacity()===255){aQ.ak.drawType='circle_filled';if(T.kF()){aQ.ak.drawType='circle_filled_redact';}}else{aQ.ak.drawType='circle_trans';if(T.kF()){aQ.ak.drawType='circle_trans_redact';}}}}else{if(T.get_type()===IPCC.Web.UI.MarkType.Rectangle){aQ.ak.drawType='rectangle';aQ.ak.fillColor=ps;}else{aQ.ak.drawType='circle';aQ.ak.fillColor=ps;}}aQ.ak.dragDirection='br';var C=T.get_rectangle();aQ.ak.x=C.x;aQ.ak.y=C.y;aQ.ak.x_percent=C.x/eJ;aQ.ak.y_percent=C.y/er;aQ.ak.height_percent=C.height/er;aQ.ak.width_percent=C.width/eJ;aQ.ak.height=C.height;aQ.ak.width=C.width;break;case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:aQ.ak.lineWidth=T.get_lineWidth();kO=true;break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:aQ.ak.highlightGroupID=T.ac;aQ.ak.drawType='text_selection_redaction';if(T.cu&&T.cu.length>0){aQ.ak.startIndex=T.bL;aQ.ak.selectedText=T.cu;aQ.ak.textLength=T.cr;}break;case IPCC.Web.UI.MarkType.Text:var jX=T.get_rectangle();aQ.ak.x=jX.x;aQ.ak.y=jX.y;aQ.ak.x_percent=jX.x/eJ;aQ.ak.y_percent=jX.y/er;aQ.ak.height_percent=jX.height/er;aQ.ak.width_percent=jX.width/eJ;aQ.ak.height=jX.height;aQ.ak.width=jX.width;aQ.ak.maxLength=T.get_maxLength();hk=T.get_fillColor();if(T.kF()===true){aQ.ak.drawType='text_redact';}else{aQ.ak.drawType='text';aQ.ak.opacity=T.get_opacity();}if(hk==='transparent'){aQ.ak.fillColor=hk;}else if(hk){il=hk.replace(/#/,"");aQ.ak.fillColor=parseInt(il,16).toString();}else{aQ.ak.fillColor='16776960';}var al='';al="<TEXTFORMAT LEADING=\"2\">";switch(T.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:al+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:al+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:al+="<P ALIGN=\"right\" ";break;}al+=">";al+="<FONT ";sa=T.get_fontName();al+="FACE="+"\""+sa+"\" ";ql=T.get_fontSize().toString();al+="SIZE= \""+ql+"\" ";fP="\""+T.get_textColor()+"\" ";al+="COLOR="+fP+" ";al+="LETTERSPACING=\"0\" ";al+="KERNING=\"0\" ";al+=">";var cJ=T.get_fontStyle();if(cJ&IPCC.Web.UI.FontStyle.Bold){al+="<B>";}if(cJ&IPCC.Web.UI.FontStyle.Italic){al+="<I>";}if(cJ&IPCC.Web.UI.FontStyle.Underline){al+="<U>";}if(cJ&IPCC.Web.UI.FontStyle.Strikeout){al+="<S>";}bp=T.get_text();bp=IPCC.V.nL(bp);al+=bp;if(cJ&IPCC.Web.UI.FontStyle.Strikeout){al+="</S>";}if(cJ&IPCC.Web.UI.FontStyle.Underline){al+="</U>";}if(cJ&IPCC.Web.UI.FontStyle.Italic){al+="</I>";}if(cJ&IPCC.Web.UI.FontStyle.Bold){al+="</B>";}al+="</FONT>";al+="</P>";al+="</TEXTFORMAT>";break;case IPCC.Web.UI.MarkType.Highlight:C=T.get_rectangle();aQ.ak.x=C.x;aQ.ak.y=C.y;aQ.ak.x_percent=C.x/eJ;aQ.ak.y_percent=C.y/er;aQ.ak.height_percent=C.height/er;aQ.ak.width_percent=C.width/eJ;aQ.ak.height=C.height;aQ.ak.width=C.width;aQ.ak.drawType='highlight';aQ.ak.highlightGroupID=T.ac;aQ.ak.isHighlight=T.jD;hk=T.get_fillColor();if(hk){il=hk.replace(/#/,"");aQ.ak.fillColor=parseInt(il,16).toString();aQ.ak.lineColor=parseInt(il,16).toString();}else{aQ.ak.fillColor=ps;}break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:C=T.get_rectangle();aQ.ak.x=C.x;aQ.ak.y=C.y;aQ.ak.height=C.height;aQ.ak.width=C.width;aQ.ak.drawType='text_hyperlink_annotation';aQ.ak.href=IPCC.V.nL(T.mr);aQ.ak.startIndex=T.bL;aQ.ak.selectedText=T.cu;aQ.ak.textLength=T.cr;aQ.ak.highlightGroupID=T.ac;aQ.ak.isHighlight=T.jD;hk=T.get_fillColor();if(hk){il=hk.replace(/#/,"");aQ.ak.fillColor=parseInt(il,16).toString();aQ.ak.lineColor=parseInt(il,16).toString();}else{aQ.ak.fillColor=ps;}aQ.dO.push(UF(T.bE,eJ,er));break;case IPCC.Web.UI.MarkType.HighlightText:C=T.get_rectangle();aQ.ak.x=C.x;aQ.ak.y=C.y;aQ.ak.x_percent=C.x/eJ;aQ.ak.y_percent=C.y/er;aQ.ak.height_percent=C.height/er;aQ.ak.width_percent=C.width/eJ;aQ.ak.height=C.height;aQ.ak.width=C.width;aQ.ak.drawType='highlightText';aQ.ak.startIndex=T.bL;aQ.ak.selectedText=T.cu;aQ.ak.textLength=T.cr;aQ.ak.highlightGroupID=T.ac;aQ.ak.isHighlight=T.jD;hk=T.get_fillColor();if(hk){il=hk.replace(/#/,"");aQ.ak.fillColor=parseInt(il,16).toString();aQ.ak.lineColor=parseInt(il,16).toString();}else{aQ.ak.fillColor=ps;}aQ.dO.push(UF(T.bE,eJ,er));break;case IPCC.Web.UI.MarkType.RectangleRedaction:C=T.get_rectangle();aQ.ak.drawType='rectangle_filled_redact';aQ.ak.x=C.x;aQ.ak.y=C.y;aQ.ak.x_percent=C.x/eJ;aQ.ak.y_percent=C.y/er;aQ.ak.height_percent=C.height/er;aQ.ak.width_percent=C.width/eJ;aQ.ak.height=C.height;aQ.ak.width=C.width;aQ.ak.meta=IPCC.V.nL(T.get_text());aQ.ak.stampSize=T.get_fontSize();aQ.ak.lineWidth=T.get_lineWidth();hk=T.get_fillColor();if(hk){il=hk.replace(/#/,"");aQ.ak.fillColor=parseInt(il,16).toString();}else{aQ.ak.fillColor=ps;}EQ=T.get_lineColor();if(EQ){Bs=EQ.replace(/#/,"");aQ.ak.lineColor=parseInt(Bs,16).toString();}else{aQ.ak.lineColor=ps;}SC=T.get_textColor();if(SC){agN=SC.replace(/#/,"");aQ.ak.fontColor=parseInt(agN,16).toString();}else{aQ.ak.fontColor=ps;}if(T.ac){aQ.ak.highlightGroupID=T.ac;}break;case IPCC.Web.UI.MarkType.Stamp:hk=T.get_fillColor();if(hk){il=hk.replace(/#/,"");aQ.ak.fillColor=parseInt(il,16).toString();aQ.ak.lineColor=parseInt(il,16).toString();}else{aQ.ak.fillColor=ps;}C=T.get_rectangle();aQ.ak.x=C.x;aQ.ak.y=C.y;aQ.ak.x_percent=C.x/eJ;aQ.ak.y_percent=C.y/er;aQ.ak.height_percent=C.height/er;aQ.ak.width_percent=C.width/eJ;aQ.ak.height=C.height;aQ.ak.width=C.width;if(T.kF()===true){aQ.ak.drawType='stamp_redact';}else{aQ.ak.drawType='stamp';}bp=T.get_text();aQ.ak.stampSize=T.stampSize;aQ.dO.push('<![CDATA['+bp+']]>');break;case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.SignaturePath:if(T.get_type()===IPCC.Web.UI.MarkType.Freehand){aQ.ak.drawType='freehand';}else{aQ.ak.drawType='signature_path';switch(T.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:aQ.ak.align='center';break;case IPCC.Web.UI.HorizontalAlignment.Left:aQ.ak.align='left';break;case IPCC.Web.UI.HorizontalAlignment.Right:aQ.ak.align='right';break;}}al=T.get_pathString();aQ.ak.pathWidth=T.get_pathWidth();aQ.ak.pathHeight=T.get_pathHeight();C=T.get_rectangle();aQ.ak.x=C.x;aQ.ak.y=C.y;aQ.ak.x_percent=C.x/eJ;aQ.ak.y_percent=C.y/er;aQ.ak.height_percent=C.height/er;aQ.ak.width_percent=C.width/eJ;aQ.ak.height=C.height;aQ.ak.width=C.width;break;case IPCC.Web.UI.MarkType.SignatureText:hk=T.get_fillColor();var dJ;if(hk){il=hk.replace(/#/,"");aQ.ak.fillColor="";aQ.ak.lineColor="";dJ=parseInt(il,16).toString();}else{aQ.ak.fillColor="";dJ=ps;}C=T.get_rectangle();aQ.ak.x=C.x;aQ.ak.y=C.y;aQ.ak.x_percent=C.x/eJ;aQ.ak.y_percent=C.y/er;aQ.ak.height_percent=C.height/er;aQ.ak.width_percent=C.width/eJ;aQ.ak.height=C.height;aQ.ak.width=C.width;aQ.ak.opacity=0;aQ.ak.drawType='signature_text';aQ.ak.stampSize=T.stampSize;aQ.ak.fontWidth=T.Ag;aQ.ak.fontHeight=T.zK;al='';al="<TEXTFORMAT LEADING=\"2\">";switch(T.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:al+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:al+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:al+="<P ALIGN=\"right\" ";break;}al+=">";al+="<FONT ";sa=T.get_fontName();al+="FACE="+"\""+sa+"\" ";ql=T.stampSize.toString();al+="SIZE= \""+ql+"\" ";fP="\""+T.get_fillColor()+"\" ";al+="COLOR="+fP+" ";al+="LETTERSPACING=\"0\" ";al+="KERNING=\"0\" ";al+=">";bp=IPCC.V.nL(T.get_text());al+=bp;al+="</FONT>";al+="</P>";al+="</TEXTFORMAT>";break;case IPCC.Web.UI.MarkType.TextAreaSignature:jX=T.get_rectangle();aQ.ak.x=jX.x;aQ.ak.y=jX.y;aQ.ak.x_percent=jX.x/eJ;aQ.ak.y_percent=jX.y/er;aQ.ak.height_percent=jX.height/er;aQ.ak.width_percent=jX.width/eJ;aQ.ak.height=jX.height;aQ.ak.width=jX.width;aQ.ak.maxLength=T.hf;aQ.ak.maxFontSize=T.hN;if(tx){aQ.ak.drawType='text';}else{aQ.ak.drawType='text_area_signature';}aQ.ak.fillColor='transparent';al='';al="<TEXTFORMAT LEADING=\"2\">";switch(T.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:al+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:al+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:al+="<P ALIGN=\"right\" ";break;}al+=">";al+="<FONT ";sa=T.get_fontName();al+="FACE="+"\""+sa+"\" ";ql=T.dh.toString();al+="SIZE= \""+ql+"\" ";fP="\""+T.get_textColor()+"\" ";al+="COLOR="+fP+" ";al+="LETTERSPACING=\"0\" ";al+="KERNING=\"0\" ";al+=">";cJ=T.get_fontStyle();if(cJ&IPCC.Web.UI.FontStyle.Bold){al+="<B>";}if(cJ&IPCC.Web.UI.FontStyle.Italic){al+="<I>";}if(cJ&IPCC.Web.UI.FontStyle.Underline){al+="<U>";}if(cJ&IPCC.Web.UI.FontStyle.Strikeout){al+="<S>";}bp=T.get_text();bp=IPCC.V.nL(bp);al+=bp;if(cJ&IPCC.Web.UI.FontStyle.Strikeout){al+="</S>";}if(cJ&IPCC.Web.UI.FontStyle.Underline){al+="</U>";}if(cJ&IPCC.Web.UI.FontStyle.Italic){al+="</I>";}if(cJ&IPCC.Web.UI.FontStyle.Bold){al+="</B>";}al+="</FONT>";al+="</P>";al+="</TEXTFORMAT>";break;case IPCC.Web.UI.MarkType.TextLine:if(!tx){C=T.get_rectangle();aQ.ak.x=C.x;aQ.ak.y=C.y;aQ.ak.x_percent=C.x/eJ;aQ.ak.y_percent=C.y/er;aQ.ak.height_percent=C.height/er;aQ.ak.maxLength=T.get_maxLength();aQ.ak.width_percent=C.width/eJ;aQ.ak.height=C.height;aQ.ak.width=C.width;aQ.ak.opacity=0;aQ.ak.drawType='text_input_signature';aQ.ak.stampSize=T.stampSize;aQ.ak.fontWidth=T.Ag;aQ.ak.fontHeight=T.zK;al='';al="<TEXTFORMAT LEADING=\"2\">";switch(T.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:al+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:al+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:al+="<P ALIGN=\"right\" ";break;}al+=">";al+="<FONT ";sa=T.get_fontName();al+="FACE="+"\""+sa+"\" ";ql=T.stampSize.toString();al+="SIZE= \""+ql+"\" ";fP="\""+T.get_textColor()+"\" ";al+="COLOR="+fP+" ";al+="LETTERSPACING=\"0\" ";al+="KERNING=\"0\" ";al+=">";bp=IPCC.V.nL(T.get_text());al+=bp;al+="</FONT>";al+="</P>";al+="</TEXTFORMAT>";var acZ=aEB(T.get_mask());if(acZ){aQ.dO.push(acZ);}}else{C=T.get_rectangle();var BM=T.stampSize;var oI;if(!T.FM|| !T.oI){var auf=IPCC.V.aix(T.get_text(),T.get_fontName(),C.width,C.height,{ud:"pre",dh:BM+"px"});oI=auf;T.FM=true;T.oI=oI;}else{oI=T.oI;}BM=oI.fontSize;var gY=oI.width/C.width,dE=1.0,MIN_BUFFER=0.85;if(/mono/i.test(T.get_fontName())){MIN_BUFFER=0.75;}if(gY>MIN_BUFFER){dE=MIN_BUFFER*C.width/oI.width;BM=BM*dE;}var ajd=C.width,arX=oI.height*dE,ajo=C.height-(C.height-arX)/2,ajp=C.x,alA=C.y+(C.height-oI.height)/2+(oI.height*(1-dE));aQ.ak.x=ajp;aQ.ak.y=alA;aQ.ak.x_percent=ajp/eJ;aQ.ak.y_percent=alA/er;aQ.ak.height_percent=ajo/er;aQ.ak.width_percent=ajd/eJ;aQ.ak.height=ajo;aQ.ak.width=ajd;aQ.ak.opacity=0;aQ.ak.drawType='text_redact';al='';al="<TEXTFORMAT>";switch(T.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:al+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:al+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:al+="<P ALIGN=\"right\" ";break;}al+=">";al+="<FONT ";sa=T.get_fontName();al+="FACE="+"\""+sa+"\" ";if(T.awb){ql=(BM/T.awb).toString();}else{ql=BM.toString();}al+="SIZE= \""+ql+"\" ";fP="\""+T.get_textColor()+"\" ";al+="COLOR="+fP+" ";al+="LETTERSPACING=\"0\" ";al+="KERNING=\"0\" ";al+=">";bp=IPCC.V.nL(T.get_text());al+=bp;al+="</FONT>";al+="</P>";al+="</TEXTFORMAT>";}break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:aQ.ak.drawType=(ad===IPCC.Web.UI.MarkType.ImageStampRedaction)?'imagestamp_redact':'imagestamp';C=T.get_rectangle();aQ.ak.x=C.x;aQ.ak.y=C.y;aQ.ak.height=C.height;aQ.ak.width=C.width;aQ.ak.lineWidth=T.get_lineWidth();aQ.ak.x_percent=C.x/eJ;aQ.ak.y_percent=C.y/er;aQ.ak.height_percent=C.height/er;aQ.ak.width_percent=C.width/eJ;aQ.ak.imageStampId=T.rf;break;case IPCC.Web.UI.MarkType.Strikethrough:C=T.get_rectangle();aQ.ak.x=C.x;aQ.ak.y=C.y;aQ.ak.height=C.height;aQ.ak.width=C.width;aQ.ak.drawType='strikethrough';aQ.ak.startIndex=T.bL;aQ.ak.selectedText=T.cu;aQ.ak.textLength=T.cr;aQ.ak.highlightGroupID=T.ac;aQ.ak.isHighlight=T.jD;aQ.dO.push(UF(T.bE,eJ,er));break;}if(kO){aQ.ak.lineWidth=T.get_lineWidth();var aL=T.get_boundingRectangle();aQ.ak.x=aL.x;aQ.ak.y=aL.y;aQ.ak.x_percent=aL.x/eJ;aQ.ak.y_percent=aL.y/er;aQ.ak.height_percent=aL.height/er;aQ.ak.width_percent=aL.width/eJ;aQ.ak.height=aL.height;aQ.ak.width=aL.width;if(ad===IPCC.Web.UI.MarkType.Line){if(T.get_endHeadType()===IPCC.Web.UI.LineHeadType.None){aQ.ak.drawType='line';}else{aQ.ak.drawType='arrow';}}else{aQ.ak.drawType='polyline';}aQ.ak.lineWidth=T.get_lineWidth();var bF=T.get_points();if(ad===IPCC.Web.UI.MarkType.Line){if((bF.getPoint(0).x<bF.getPoint(1).x)&&(bF.getPoint(0).y>bF.getPoint(1).y)){aQ.ak.dragDirection='tr';}else if((bF.getPoint(0).x>bF.getPoint(1).x)&&(bF.getPoint(0).y>bF.getPoint(1).y)){aQ.ak.dragDirection='tl';}else if((bF.getPoint(0).x>bF.getPoint(1).x)&&(bF.getPoint(0).y<bF.getPoint(1).y)){aQ.ak.dragDirection='bl';}else if((bF.getPoint(0).x<bF.getPoint(1).x)&&(bF.getPoint(0).y<bF.getPoint(1).y)){aQ.ak.dragDirection='br';}else{aQ.ak.dragDirection='br';}}else{var vN=[];var cj=bF.get_length(),bS;if(cj>1){for(var aw=0;aw<bF.get_length();aw++){bS=bF.getPoint(aw);vN.push({x:bS.x,y:bS.y});}al=JSON.stringify(vN);}}if(Bs){aQ.ak.fillColor=Bs;}else{aQ.ak.fillColor="";}}else{aQ.ak.lineWidth=T.get_lineWidth();aQ.ak.dragDirection='br';}if(T.get_type()!==IPCC.Web.UI.MarkType.RectangleRedaction){aQ.ak.meta='';}aQ.ak.label='';var fE=new Date();aQ.ak.saveDate=IPCC.V.apg(fE);aQ.ak.saveTime=IPCC.V.aoR(fE);aQ.ak.uuid='';aQ.ak.formUser='';aQ.ak.created=IPCC.V.ajl(T.get_dateCreated());aQ.ak.modified=IPCC.V.ajl(T.get_dateModified());if(T.get_type()===IPCC.Web.UI.MarkType.Text||T.get_type()===IPCC.Web.UI.MarkType.Freehand||T.get_type()===IPCC.Web.UI.MarkType.SignaturePath||T.get_type()===IPCC.Web.UI.MarkType.SignatureText||T.get_type()===IPCC.Web.UI.MarkType.Polyline||T.get_type()===IPCC.Web.UI.MarkType.TextAreaSignature||T.get_type()===IPCC.Web.UI.MarkType.TextLine){aQ.dO.push('<![CDATA['+al+']]>');}else{aQ.dO.push('');}return aQ;};this.aDa=function(be,eJ,er,bI){var hM={eY:'documentAnnotations',dO:[],ak:{}};var cX={eY:'pages',dO:[],ak:{}};hM.dO.push(cX);var mj={eY:'highlights',dO:[],ak:{}};hM.dO.push(mj);var wF={},qS=[];var ap={eY:'page',dO:[],ak:{id:(be+1).toString(),pageWidth:eJ,pageHeight:er}};cX.dO.push(ap);bI=bI||{};var akb=(bI.includeAnnotations!==undefined)? ! !bI.includeAnnotations:true,ajP=(bI.includeRedactions!==undefined)? ! !bI.includeRedactions:true,aks=(bI.includeSignatures!==undefined)? ! !bI.includeSignatures:false,tx=(bI.tx!==undefined)? ! !bI.tx:false,WH=(bI.Cw!==undefined)?bI.Cw:false,arU= ! !tx,agP=WH?WH:bq;for(var L=0;L<agP.length;L++){var T=agP[L];var ad=T.get_type();if(T.get_type()===IPCC.Web.UI.MarkType.Highlight){continue;}if(arU&& !T.get_visible()){continue;}if(!WH){if(akb===false&&ajP===false&&aks===false){break;}if(akb===false){if(ad===IPCC.Web.UI.MarkType.Rectangle||ad===IPCC.Web.UI.MarkType.Ellipse||ad===IPCC.Web.UI.MarkType.Line||ad===IPCC.Web.UI.MarkType.Text||ad===IPCC.Web.UI.MarkType.Stamp||ad===IPCC.Web.UI.MarkType.Highlight||ad===IPCC.Web.UI.MarkType.Strikethrough||ad===IPCC.Web.UI.MarkType.HighlightText||ad===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||ad===IPCC.Web.UI.MarkType.Freehand||ad===IPCC.Web.UI.MarkType.ImageStampAnnotation||ad===IPCC.Web.UI.MarkType.Polyline){if(T.kF()===false){continue;}}}if(ajP===false){if(T.kF()===true){continue;}if(ad===IPCC.Web.UI.MarkType.RectangleRedaction||ad===IPCC.Web.UI.MarkType.TextSelectionRedaction||ad===IPCC.Web.UI.MarkType.ImageStampRedaction){continue;}}if(aks===false){if(ad===IPCC.Web.UI.MarkType.SignaturePath||ad===IPCC.Web.UI.MarkType.SignatureText||ad===IPCC.Web.UI.MarkType.SignatureImage||ad===IPCC.Web.UI.MarkType.TextAreaSignature||ad===IPCC.Web.UI.MarkType.TextLine){continue;}}}switch(ad){case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:wF[T.rf]={eY:'stampImage',dO:[],ak:{imageStampId:T.rf,base64format:T.cU()}};break;}ap.dO.push(this.aox(T,eJ,er,tx));}for(var FH in wF){if(wF.hasOwnProperty(FH)){qS.push(wF[FH]);}}return{hM:hM,qS:qS};};this.aDs=function(){var dY={m:[]};var L;for(L=0;L<bq.length;L++){dY.m.push(bq[L].aCS());}J.bH('marksSaved',{});var als="";als=JSON.stringify(dY);return als;};this.yZ=function(H){bm.addHandler('markAdded',H);};this.xJ=function(H){bm.removeHandler('markAdded',H);};this.Ky=function(H){bm.addHandler('markChanged',H);};this.HL=function(H){bm.removeHandler('markChanged',H);};this.zV=function(H){bm.addHandler('markRemoved',H);};this.zr=function(H){bm.removeHandler('markRemoved',H);};this.Kw=function(H){bm.addHandler('markReordered',H);};this.GR=function(H){bm.removeHandler('markReordered',H);};this.TE=function(H){bm.addHandler('marksLoaded',H);};this.SO=function(H){bm.removeHandler('marksLoaded',H);};this.aFZ=function(H){bm.addHandler('marksSaved',H);};this.aGB=function(H){bm.removeHandler('marksSaved',H);};this.GU=function(H){bm.addHandler('markSelectionChanged',H);};this.HI=function(H){bm.removeHandler('markSelectionChanged',H);};this.HZ=function(H){bm.addHandler('markTextSelectionChanged',H);};this.Hc=function(H){bm.removeHandler('markTextSelectionChanged',H);};this.wG=function(H){bm.addHandler('commentAdded',H);};this.EH=function(H){bm.removeHandler('commentAdded',H);};this.wv=function(H){bm.addHandler('commentRemoved',H);};this.Dq=function(H){bm.removeHandler('commentRemoved',H);};this.sj=function(H){bm.addHandler('commentChanged',H);};this.va=function(H){bm.removeHandler('commentChanged',H);};this.kJ=function(H){bm.addHandler('propertyChanged',H);};this.lP=function(H){bm.removeHandler('propertyChanged',H);};this.bH=function(cZ,G){var H=bm.getHandler(cZ);if(H!==null){H(this,G);}};this.cQ=function(cg){var H=bm.getHandler("propertyChanged");if(H){H(this,new IPCC.nz(cg));}};return this;};RV.prototype={get_markCount:function(){return this.aaH();},get_selectedMarks:function(){return this.zH();},toString:function(){return 'ArtPage with '+this.get_markCount()+' marks';},addMark:function(mark,mouseLocation){this.LE(mark,mouseLocation);},forEachMark:function(method,context){this.EU(method,context);},getMark:function(zIndex){return this.Rm(zIndex);},getZIndexOfMark:function(mark){return this.oc(mark);},loadFromJson:function(json){this.aDl(json);},removeAllMarks:function(){this.Su();},removeMark:function(mark){this.ur(mark);},reorderMark:function(mark,zIndex){this.abp(mark,zIndex);},saveToJson:function(){return this.aDs();},add_markAdded:function(handler){this.yZ(handler);},remove_markAdded:function(handler){this.xJ(handler);},add_markChanged:function(handler){this.Ky(handler);},remove_markChanged:function(handler){this.HL(handler);},add_markRemoved:function(handler){this.zV(handler);},remove_markRemoved:function(handler){this.zr(handler);},add_markReordered:function(handler){this.Kw(handler);},remove_markReordered:function(handler){this.GR(handler);},add_marksLoaded:function(handler){this.TE(handler);},remove_marksLoaded:function(handler){this.SO(handler);},add_markSelectionChanged:function(handler){this.GU(handler);},remove_markSelectionChanged:function(handler){this.HI(handler);},add_markTextSelectionChanged:function(handler){this.HZ(handler);},remove_markTextSelectionChanged:function(handler){this.Hc(handler);},add_commentAdded:function(handler){this.wG(handler);},remove_commentAdded:function(handler){this.EH(handler);},add_commentRemoved:function(handler){this.wv(handler);},remove_commentRemoved:function(handler){this.Dq(handler);},add_commentChanged:function(handler){this.sj(handler);},remove_commentChanged:function(handler){this.va(handler);}};RV.registerClass=cd;RV.registerClass('IPCC.Web.UI.ArtPage');module.exports=RV;},{"../../IPCC.Util":28}],66:[function(require,module,exports){var dV=require('../../IPCC.Util').regEnum;var PM=function(){};PM.registerEnum=dV;PM.prototype={Line:0,Triangle:1};PM.registerEnum('IPCC.Web.UI.CalloutType',false);module.exports=PM;},{"../../IPCC.Util":28}],67:[function(require,module,exports){var cd=require('../../IPCC.Util').regClass;var Qa=function(text){var bm=new IPCC.Web.UI.gp();var ci=new IPCC.Web.UI.Data();this.Zh=IPCC.V.uF(new Date());this.bp=text;this.aBF=function(bp){if(bp===this.bp){return;}this.bp=bp;var G=new IPCC.Web.UI.CommentEventArgs();G.comment=this;G.length=1;this.bH('commentChanged',G);};this.aqn=function(){return this.bp;};this.aEe=function(aFf){this.Zh=aFf;};this.anM=function(){return this.Zh;};this.sj=function(H){bm.addHandler('commentChanged',H);};this.va=function(H){bm.removeHandler('commentChanged',H);};this.bH=function(cZ,G){var H=bm.getHandler(cZ);if(H!==null){H(this,G);}};this.wC=function(){return ci;};return this;};Qa.prototype={toString:function(){return 'Comment('+this.creationTime+', '+this.text+')';},add_commentChanged:function(handler){this.sj(handler);},remove_commentChanged:function(handler){this.va(handler);},get_text:function(){return this.aqn();},set_text:function(text){this.aBF(text);},get_creationTime:function(){return this.anM();},set_creationTime:function(isoTimeString){this.aEe(isoTimeString);},get_data:function(){return this.wC();}};Qa.registerClass=cd;Qa.registerClass('IPCC.Web.UI.Comment');module.exports=Qa;},{"../../IPCC.Util":28}],68:[function(require,module,exports){var cd=require('../../IPCC.Util').regClass;var Pq=function(){return this;};Pq.registerClass=cd;Pq.prototype={};Pq.registerClass('IPCC.Web.UI.CommentEventArgs');module.exports=Pq;},{"../../IPCC.Util":28}],69:[function(require,module,exports){var cd=require('../../IPCC.Util').regClass;var Qw=function(aBH){var gK=[];var bm=new IPCC.Web.UI.gp();var ci=new IPCC.Web.UI.Data();var T=aBH;var J=this;function Pd(ax,G){J.bH('commentChanged',G);};this.GN=function(cA){cA.add_commentChanged(Pd);gK.push(cA);var G=new IPCC.Web.UI.CommentEventArgs();G.comment=cA;G.length=1;G.index=gK.length-1;this.bH('commentAdded',G);};this.axM=function(cA){var Wa= -1;IPCC.V.forEach(gK,function(el,idx){if(el===cA){Wa=idx;}});if(Wa=== -1){throw new IPCC.Web.UI.ImGearArgumentException('comment',"The provided comment was not found in the conversation.");}var adD=gK.splice(Wa,1)[0];adD.va(Pd);var G=new IPCC.Web.UI.CommentEventArgs();G.comment=adD;G.length=1;this.bH('commentRemoved',G);};this.lj=function(ji,cc){var L;for(L=0;L<gK.length;L++){ji.call(cc,gK[L],L,this);}};this.eN=function(){return gK.length;};this.wG=function(H){bm.addHandler('commentAdded',H);};this.EH=function(H){bm.removeHandler('commentAdded',H);};this.sj=function(H){bm.addHandler('commentChanged',H);};this.va=function(H){bm.removeHandler('commentChanged',H);};this.wv=function(H){bm.addHandler('commentRemoved',H);};this.Dq=function(H){bm.removeHandler('commentRemoved',H);};this.wC=function(){return ci;};this.PD=function(){return T;};this.bH=function(cZ,G){var H=bm.getHandler(cZ);if(H!==null){H(this,G);}};return this;};Qw.prototype={toString:function(){return 'Conversation with '+this.get_length()+' comments';},addComment:function(comment){this.GN(comment);},removeCommentInstance:function(comment){this.axM(comment);},forEach:function(method,context){this.lj(method,context);},get_length:function(){return this.eN();},add_commentAdded:function(handler){this.wG(handler);},remove_commentAdded:function(handler){this.EH(handler);},add_commentChanged:function(handler){this.sj(handler);},remove_commentChanged:function(handler){this.va(handler);},add_commentRemoved:function(handler){this.wv(handler);},remove_commentRemoved:function(handler){this.Dq(handler);},get_data:function(){return this.wC();},get_mark:function(){return this.PD();}};Qw.registerClass=cd;Qw.registerClass('IPCC.Web.UI.Conversation');module.exports=Qw;},{"../../IPCC.Util":28}],70:[function(require,module,exports){var cd=require('../../IPCC.Util').regClass;var PJ=function(){this.ci={};this.wC=function(key){if(typeof key==='undefined'){return IPCC.V.extend({},this.ci);}else if(typeof key==='string'){return this.ci[key];}else{throw new IPCC.Web.UI.ImGearArgumentException("key","The argument must be a string.");}};this.aDq=function(key,value){if(typeof key!=='string'){throw new IPCC.Web.UI.ImGearArgumentException("key","The argument must be a string.");}if(typeof value==='string'){this.ci[key]=value;}else if(typeof value==='undefined'){delete this.ci[key];}else{throw new IPCC.Web.UI.ImGearArgumentException("value","The argument must be a string.");}return this;};this.amf=function(){var keys=[];IPCC.V.forEach(this.ci,function(value,key){keys.push(key);});return keys;};return this;};PJ.prototype={toString:function(){return 'Data('+this.creationTime+', '+this.text+')';},get_data:function(key){return this.wC(key);},set_data:function(key,value){return this.aDq(key,value);},get_dataKeys:function(){return this.amf();}};PJ.registerClass=cd;PJ.registerClass('IPCC.Web.UI.Data');module.exports=PJ;},{"../../IPCC.Util":28}],71:[function(require,module,exports){var dV=require('./../../IPCC.Util').regEnum;var PL=function(){};PL.prototype={Production:0,Development:1,Detailed:2};PL.registerEnum=dV;PL.registerEnum('IPCC.Web.UI.DebugErrorLevel',false);module.exports=PL;},{"./../../IPCC.Util":28}],72:[function(require,module,exports){var dV=require('./../../IPCC.Util').regEnum;var Pn=function(){};Pn.prototype={FunctionCall:0,Exception:1,Custom:2,UserAction:3,Warning:4};Pn.registerEnum=dV;Pn.registerEnum('IPCC.Web.UI.DebugItemCause',false);module.exports=Pn;},{"./../../IPCC.Util":28}],73:[function(require,module,exports){var cd=require('./../../IPCC.Util').regClass;var aC=function(aqb){var by=aqb;var ahN=this.type=by.type.toLowerCase();var LD=typeof by.changedTouches!=='undefined';this.rawEvent=by;this.altKey=by.altKey;if(typeof(by.button)!=='undefined'){this.button=(typeof(by.which)!=='undefined')?by.button:(by.button===4)?IPCC.Web.UI.MouseButton.middleButton:(by.button===2)?IPCC.Web.UI.MouseButton.rightButton:IPCC.Web.UI.MouseButton.leftButton;}if(ahN==='keypress'){this.charCode=by.charCode||by.keyCode;}else if(by.keyCode&&(by.keyCode===46)){this.keyCode=127;}else{this.keyCode=by.keyCode;}this.clientX=(LD)?by.changedTouches[0].clientX:by.clientX;this.clientY=(LD)?by.changedTouches[0].clientY:by.clientY;this.ctrlKey=by.ctrlKey;this.target=by.target?by.target:by.srcElement;function anB(bJ){var aT=0;var dI=0;while(bJ&& !isNaN(bJ.offsetLeft)&& !isNaN(bJ.offsetTop)){aT+=bJ.offsetLeft-bJ.scrollLeft;dI+=bJ.offsetTop-bJ.scrollTop;if(bJ.offsetparent){bJ=bJ.offsetParent;}else{bJ=bJ.parentNode;}}return{top:dI,left:aT};};var eh=""+ahN;var DU='key';if(eh.substr(0,DU.length)!==DU){if((typeof(by.offsetX)!=='undefined')&&(typeof(by.offsetY)!=='undefined')){this.offsetX=by.offsetX;this.offsetY=by.offsetY;}else if(this.target&&(this.target.nodeType!==3)&&(typeof(by.clientX)==='number')){var LV=anB(this.target);var ed=this.target;var gT=ed.ownerDocument||ed.document||ed;var jp=gT.defaultView||gT.parentWindow;this.offsetX=(jp.pageXOffset||0)+by.clientX-LV.left;this.offsetY=(jp.pageYOffset||0)+by.clientY-LV.top;}}this.screenX=(LD)?by.changedTouches[0].screenX:by.screenX;this.screenY=(LD)?by.changedTouches[0].screenY:by.screenY;this.shiftKey=by.shiftKey;};aC.prototype={preventDefault:function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}if(this.rawEvent.preventDefault){this.rawEvent.preventDefault();}else if(window.event){this.rawEvent.returnValue=false;}},stopPropagation:function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}if(this.rawEvent.stopPropagation){this.rawEvent.stopPropagation();}else if(window.event){this.rawEvent.cancelBubble=true;}}};aC.registerClass=cd;aC.registerClass('IPCC.Web.UI.aC');aC.addHandler=function(element,eventName,handler,autoRemove){IPCC.Web.UI.aC.RF(element);if(eventName==="error"){throw new IPCC.Web.UI.ImGearInvalidOperationException(IPCC.lw.addHandlerCantBeUsedForError);}if(!element.bm){element.bm={};}var eventCache=element.bm[eventName];if(!eventCache){element.bm[eventName]=eventCache=[];}var browserHandler;if(element.addEventListener){browserHandler=function(e){return handler.call(element,new IPCC.Web.UI.aC(e));};element.addEventListener(eventName,browserHandler,false);}else if(element.attachEvent){browserHandler=function(){var e={};try{var doc=element.ownerDocument||element.document||element;var ed=doc.defaultView||doc.parentWindow;e=ed.event;}catch(ex){}return handler.call(element,new IPCC.Web.UI.aC(e));};element.attachEvent('on'+eventName,browserHandler);}eventCache[eventCache.length]={handler:handler,browserHandler:browserHandler,autoRemove:autoRemove};if(autoRemove){var d=element.dispose;if(d!==IPCC.Web.UI.aC.alC){element.dispose=IPCC.Web.UI.aC.alC;if(typeof(d)!=="undefined"){element.agM=d;}}}};aC.clearHandlers=function(element){IPCC.Web.UI.aC.RF(element);IPCC.Web.UI.aC.ahi(element,false);};aC.ahi=function(element,autoRemoving){if(element.bm){var cache=element.bm;for(var name in cache){if(cache.hasOwnProperty(name)){var handlers=cache[name];for(var i=handlers.length-1;i>=0;i--){var entry=handlers[i];if(!autoRemoving||entry.autoRemove){IPCC.Web.UI.aC.removeHandler(element,name,entry.handler);}}}}element.bm=null;}};aC.alC=function(){IPCC.Web.UI.aC.ahi(this,true);var d=this.agM,type=typeof(d);if(type!=="undefined"){this.dispose=d;this.agM=null;if(type==="function"){this.dispose();}}};aC.removeHandler=function(element,eventName,handler){IPCC.Web.UI.aC.dg(element,eventName,handler);};aC.dg=function(element,eventName,handler){IPCC.Web.UI.aC.RF(element);var browserHandler=null;if((typeof(element.bm)!=='object')|| !element.bm){throw new IPCC.Web.UI.ImGearInvalidOperationException('DOM event handler was not added through the DomEvent.addHandler method.');}var cache=element.bm[eventName];if(!(cache instanceof Array)){throw new IPCC.Web.UI.ImGearInvalidOperationException('DOM event handler was not added through the DomEvent.addHandler method.');}for(var i=0,l=cache.length;i<l;i++){if(cache[i].handler===handler){browserHandler=cache[i].browserHandler;break;}}if(typeof(browserHandler)!=='function'){throw new IPCC.Web.UI.ImGearInvalidOperationException('Handler was not added through the IPCC.Web.UI.aC.addHandler method.');}if(element.removeEventListener){element.removeEventListener(eventName,browserHandler,false);}else if(element.detachEvent){element.detachEvent('on'+eventName,browserHandler);}cache.splice(i,1);};aC.RF=function(element){if(element.tagName&&(element.tagName.toUpperCase()==="SCRIPT")){return;}var doc=element.ownerDocument||element.document||element;if((typeof(element.document)!=='object')&&(element!==doc)&&(typeof(element.nodeType)!=='number')){throw new IPCC.Web.UI.ImGearArgumentException("element",IPCC.lw.argumentDomNode);}};module.exports=aC;},{"./../../IPCC.Util":28}],74:[function(require,module,exports){var dV=require('../../IPCC.Util').regEnum;var nP=function(){};nP.registerEnum=dV;nP.prototype={FullImage:0,FullWidth:1,FullHeight:2,ActualSize:3,OneToOne:4,Rectangle:5};nP.registerEnum('IPCC.Web.UI.FitType',false);module.exports=nP;},{"../../IPCC.Util":28}],75:[function(require,module,exports){var dV=require('../../IPCC.Util').regEnum;var PR=function(){};PR.registerEnum=dV;PR.prototype={Regular:0,Bold:1,Italic:2,Underline:4,Strikeout:8};PR.registerEnum('IPCC.Web.UI.FontStyle',true);module.exports=PR;},{"../../IPCC.Util":28}],76:[function(require,module,exports){var dV=require('../../IPCC.Util').regEnum;var QG=function(){};QG.registerEnum=dV;QG.prototype={Tag:0,InlineHighLight:1,Link:2,Redaction:3,Strikethrough:4};QG.registerEnum('IPCC.Web.UI.HighLight',false);module.exports=QG;},{"../../IPCC.Util":28}],77:[function(require,module,exports){var dV=require('../../IPCC.Util').regEnum;var QJ=function(){};QJ.registerEnum=dV;QJ.prototype={Left:0,Center:16,Right:32};QJ.registerEnum('IPCC.Web.UI.HorizontalAlignment',false);module.exports=QJ;},{"../../IPCC.Util":28}],78:[function(require,module,exports){var dV=require('./../../IPCC.Util').regEnum;var Ri=function(){};Ri.registerEnum=dV;Ri.prototype={None:0,ArtDataService:1};Ri.registerEnum('IPCC.Web.UI.ImGearArtDataServices',false);module.exports=Ri;},{"./../../IPCC.Util":28}],79:[function(require,module,exports){var cd=require('./../../IPCC.Util').regClass;var Ci=function(aI){var jh='';var hE='';var J=this;this.cX=new IPCC.Web.UI.ImGearPageCollection();this.Nn=undefined;this.cX.bP=this;var JE=false;this.sf=undefined;var fN=0;var KQ=IPCC.Web.UI.ImGearPageCountStatus.UnRequested;var bm=new IPCC.Web.UI.gp();this.iT=IPCC.Web.FT.Wt(4,IPCC.Web.Oo());this.qs=IPCC.Web.hl.Fu.ni(this.iT);var yP=[];var lX=0;var mh=[];var DS=[];var gk={startPage:0,lastPage:0,requestCount:0,stopRequests:false,lastTimeout:1000};var YU=false;this.bH=function(cZ,G){var H=bm.getHandler(cZ);if(H!==null){try{H(J,G);}catch(e){IPCC.jg.Pl('raise event error in ImGearDocument, error: '+e.message);IPCC.jg.lO(e.message,IPCC.Web.UI.ImGearDocument,IPCC.Web.UI.DebugErrorLevel.Production,'ImGearDocument','');}}};function QV(ax,G){if(G.length>0){J.bH('pageAdded',G);}};function Sm(ax,G){if(G.length>0){J.bH('pageRemoved',G);}};function JR(ax,G){J.bH('pageChanged',G);};this.cX.add_pageAdded(QV);this.cX.add_pageRemoved(Sm);this.cX.add_pageChanged(JR);function aEv(){function aCm(hQ,hZ){var dv=hQ+'() threw an exception ';if(hZ.name){dv+='( '+hZ.name+" ";}else{dv+=".";}if(hZ.message){dv+="  exception message = "+hZ.message;}if(hZ.statusCode){dv+="  exception statusCode = "+hZ.statusCode;}dv=dv.replace(/\n/g," ");IPCC.jg.lO(dv,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production,'ImGearDocument',"document");};this.bG=aCm;this.bH=function(cZ,G){var H=bm.getHandler(cZ);if(H!==null){H(J,G);}};};if(arguments.length===0){var dv="ImGearDocument object creation requires parameters";throw new IPCC.Web.UI.ImGearArgumentException('ImGearDocument',dv);}if(arguments.length>0){if(aI.documentIdentifier!==undefined){jh=aI.documentIdentifier;hE=IPCC.hz.rR(jh);}if(aI.encodedDocumentIdentifier!==undefined){var wo=aI.encodedDocumentIdentifier;if(aI.documentIdentifier!==undefined){hE=IPCC.hz.rR(jh);if(wo!==hE){throw new IPCC.Web.UI.ImGearArgumentException('documentIdentifier','When both are specified, documentIdentifier and encodedImageIdentifier must reference the same document.');}}else{jh=IPCC.hz.Gk(aI.encodedDocumentIdentifier);}}if(aI.imageServicePath!==undefined){this.sf=aI.imageServicePath;}else{throw new IPCC.Web.UI.ImGearArgumentException('ImGearDocument','Document creation requires imageServicePath.');}var sm;if(aI.includeAllPages!==undefined){JE=aI.includeAllPages;if(JE===true){var awM=new aEv();var ZI=0;J.ar=new IPCC.hz(hE,0,0,0,0,0);var rd=function(){fN=J.ar.fN;KQ=IPCC.Web.UI.ImGearPageCountStatus.Known;for(;ZI<fN;ZI++){var abv=new IPCC.Web.UI.ImGearPage({pageNumber:ZI,bP:J});abv.bP=J;J.cX.addPage(abv);}};KQ=IPCC.Web.UI.ImGearPageCountStatus.RequestPending;try{this.ar.Vp(this.sf,awM,rd);}catch(e){KQ=IPCC.Web.UI.ImGearPageCountStatus.Failed;var co=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();co.exception=e;J.bH('pageOpenFailed',co);throw e;}}}else if(aI.pages!==undefined){if(aI.pages.length>0){var L=0;for(L=0;L<aI.pages.length;L++){var bj=aI.pages[L];bj.document=this;this.cX.addPage(bj);}}}else if(aI.pageNumber!==undefined){if(aI.pageRangeCount!==undefined){var ra=aI.pageRangeCount;if(ra>0){var bD;for(bD=aI.pageNumber;bD<=ra;bD++){sm=new IPCC.Web.UI.ImGearPage(bD);sm.bP=J;this.cX.addPage(sm);}}else if(ra===0){sm=new IPCC.Web.UI.ImgearPage({pageNumber:aI.pageNumber,bP:J});sm.bP=J;J.cX.addPage(sm);}}else{if(aI.selected){sm=new IPCC.Web.UI.ImGearPage({pageNumber:aI.pageNumber,bP:J,selected:true});}else{sm=new IPCC.Web.UI.ImGearPage({pageNumber:aI.pageNumber,bP:J});}sm.bP=J;J.cX.addPage(sm);}}}this.Is=function(){return jh;};this.Qg=function(){return hE;};this.ajM=function(){return this.cX;};this.aoB=function(){return fN;};this.amI=function(){return KQ;};this.aoc=function(){return JE;};this.aCb=function(h){JE=h;this.cQ('includeAllPages');};var ou=false;this.hS=function(){return ou;};this.np=function(h){ou=h;};this.Hb=function(H){bm.addHandler('pageAdded',H);};this.Ih=function(H){bm.removeHandler('pageAdded',H);};this.Hz=function(H){bm.addHandler('pageRemoved',H);};this.IH=function(H){bm.removeHandler('pageRemoved',H);};this.Jm=function(H){bm.addHandler('pageOpenFailed',H);};this.IR=function(H){bm.removeHandler('pageOpenFailed',H);};this.kJ=function(H){bm.addHandler('propertyChanged',H);};this.lP=function(H){bm.removeHandler('propertyChanged',H);};this.Kh=function(H){bm.addHandler('pageChanged',H);};this.Hl=function(H){bm.removeHandler('pageChanged',H);};this.cQ=function(cg){var H=bm.getHandler('propertyChanged');if(H){H(this,new IPCC.nz(cg));}};this.avr=function(H){bm.addHandler('textPagesReceived',H);};this.axi=function(H){bm.removeHandler('textPagesReceived',H);};this.apq=function(){return DS.length;};this.ark=function(){return yP;};this.anS=function(){return yP.length;};this.aqe=function(){return gk;};this.apC=function(){return YU;};this.aGA=function(h){YU=h;};this.ard=function(ho){if(gk.stopRequests===true){var G={};G.error=0;G.textPagesReceived=NB(ho);if(G.textPagesReceived.length===0){if(lX>0&&lX<ho){for(var cE=lX;cE<ho;cE++){G.textPagesReceived.push(cE);}}}G.length=2;J.bH('textPagesReceived',G);return;}var jv=true;var JP=false;for(var L=0;L<lX;L++){if(Array.prototype.indexOf){if(yP.indexOf(L)<0){jv=false;JP=true;break;}}else{if(IPCC.Web.kA(yP,L)<0){JP=true;break;}}}if(JP){J.ML(L,undefined,ho);}else if(lX<ho){for(var aw=0;aw<ho;aw++){if(Array.prototype.indexOf){if(mh.indexOf(aw)<0){jv=false;break;}}else{if(IPCC.Web.kA(mh,aw)<0){jv=false;break;}}}if(!jv){JP=true;J.ML(aw,undefined,ho);}else{J.ML(lX,undefined,ho);}}else{JP=false;}};function NB(ho){var Ue=[],cE;if(mh.length>0){var jv=true;for(cE=0;cE<ho;cE++){jv=true;if(Array.prototype.indexOf){if(mh.indexOf(cE)<0){jv=false;}}else{if(IPCC.Web.kA(mh,cE)<0){jv=false;}}if(!jv){mh.push(cE);DS.push(cE);Ue.push(cE);}}}else{for(cE=0;cE<ho;cE++){mh.push(cE);DS.push(cE);Ue.push(cE);}}return Ue;};this.ML=function(aeU,agh,ho){YU=true;var bL;if(!isNaN(aeU)){bL=aeU;}else{bL=0;}var Dg;if(!isNaN(ho)){Dg=ho;}var cl;if(!isNaN(agh)){cl=agh;}else if(!isNaN(Dg)){cl=Dg-1;}else{Dg=ho;if(!isNaN(Dg)){cl=Dg-1;}}if(isNaN(cl)){cl=bL+1;}if(cl-bL>9){cl=bL+9;}function NH(bp){var XW=lX;var ZN=[];var jv=true;var aU;for(var ap=0;ap<bp.pages.length;ap++){if(Array.prototype.indexOf){if(yP.indexOf(bp.pages[ap].number)<0){jv=false;}}else{if(IPCC.Web.kA(yP,bp.pages[ap].number)<0){jv=false;}}if(!jv){yP.push(bp.pages[ap].number);if(J.cX.jE(bp.pages[ap].number).bY().vP()===false){aU=J.cX.jE(bp.pages[ap].number);aU.aft(bp.pages[ap]);aU.acL(bp.pages[ap]);aU.aeo(bp.pages[ap].markup,bp.pages[ap].height,bp.pages[ap].width);}lX++;ZN.push(bp.pages[ap].number);mh.push(bp.pages[ap].number);if(!bp.pages[ap].text){DS.push(bp.pages[ap].number);}}}var G={};if(bp.hasOwnProperty("errorCode")){G.error=0;J.pageExtractionFailed=true;G.textPagesReceived=ZN;G.length=2;for(var BF=gk.startPage;BF<gk.lastPage+1;BF++){jv=true;if(Array.prototype.indexOf){if(mh.indexOf(BF)<0){jv=false;}}else{if(IPCC.Web.kA(mh,BF)<0){jv=false;}}if(!jv){mh.push(BF);DS.push(BF);G.textPagesReceived.push(BF);}}J.bH('textPagesReceived',G);gk.stopRequests=true;return;}if(lX>XW){G.textPagesReceived=ZN;G.length=2;G.error=0;}var oK=gk.lastTimeout;if(gk.startPage===bL&&gk.lastPage===cl&&lX===XW){if(gk.requestCount<25){oK=oK+1000;gk.requestCount++;}else{G.error=0;G.textPagesReceived=[];G.length=2;jv=true;var cE;for(cE=gk.startPage;cE<gk.lastPage+1;cE++){jv=true;if(Array.prototype.indexOf){if(mh.indexOf(cE)<0){jv=false;}}else{if(IPCC.Web.kA(mh,cE)<0){jv=false;}}if(!jv){mh.push(cE);DS.push(cE);G.textPagesReceived.push(cE);}}if(G.textPagesReceived.length===0){if(lX>0&&lX<ho){for(cE=lX;cE<ho;cE++){G.textPagesReceived.push(cE);}}}gk.stopRequests=true;J.bH('textPagesReceived',G);return;}}else{oK=1000;gk.requestCount=0;}gk.lastTimeout=oK;gk.startPage=bL;gk.lastPage=cl;setTimeout(function(){J.ard(ho);},oK);if(lX>XW){J.bH('textPagesReceived',G);}};function fB(aA){var G={},gU,ah;try{var nQ=aA.getResponseHeader("Accusoft-Data-Encrypted");if(nQ==='true'){var tM=IPCC.Web.hl.qf.tn(aA.getResponseHeader("Accusoft-Data-SK"));var aG=IPCC.Web.Fb(tM,J.iT);var eL=IPCC.Web.FJ(aA);var tS=IPCC.Web.DF(eL,aG,J.iT);gU=IPCC.Web.hl.HA.ni(tS);}else{gU=aA.responseText;}ah=JSON.parse(gU);NH(ah);}catch(e){G.error= -1;NB(ho);G.textPagesReceived=[];G.length=2;J.bH('textPagesReceived',G);return;}};function fh(ah){var G={},fX;try{fX=ah.response.status;if(ah.response.responseText){ah=JSON.parse(ah.response.responseText);if(ah.hasOwnProperty("errorCode")){G.error=0;if(lX>0){if(ah.pages){if(ah.pages.length>0){NH(ah);return;}}}else{G.error= -1;}if(mh.length===0){G.error= -1;}J.pageExtractionFailed=true;G.textPagesReceived=[];G.length=2;G.textPagesReceived=NB(ho);J.bH('textPagesReceived',G);return;}else{throw new IPCC.Web.UI.ImGearHttpException(fX,"Unable to obtain text");}}else{throw new IPCC.Web.UI.ImGearHttpException(fX,"Unable to obtain text");}}catch(e){G.error= -1;NB(ho);G.textPagesReceived=[];G.length=2;J.bH('textPagesReceived',G);return;}};var hY=jh;var gy=J.sf;if(!(/^[\x00-\x7F]*$/.test(hY))){hY='e'+hE;}else{hY='u'+hY;}var an;if(J.hS()){an=gy+'/Document/q/'+bL.toString()+'-'+cl.toString()+'/Text?DocumentID='+hY+'&iv='+J.qs;}else{an=gy+'/Document/q/'+bL.toString()+'-'+cl.toString()+'/Text?DocumentID='+hY;}IPCC.V.mx.fa({method:'GET',url:an,headers:{'accept':'application/json'}}).then(fB,fh);};return this;};Ci.encodeDocumentIdentifier=function(jh){var hE;if(jh!==undefined){hE=IPCC.hz.rR(jh);}return hE;};Ci.decodeDocumentIdentifier=function(hE){var alX;if(hE!==undefined){alX=IPCC.hz.Gk(hE);}return alX;};Ci.prototype={get_documentIdentifier:function(){var bd=this.Is();return bd;},get_encodedDocumentIdentifier:function(){var bd=this.Qg();return bd;},get_pages:function(){return this.ajM();},get_pageCountStatus:function(){var r=this.amI();return r;},set_pageCountStatus:function(value){this.aHp(value);},get_pageCount:function(){var r=this.aoB();return r;},get_includeAllPages:function(){try{var bd=this.aoc();return bd;}catch(e){throw e;}},set_includeAllPages:function(value){try{this.aCb(value);}catch(e){throw e;}},get_encryption:function(){var bd=this.hS();return bd;},set_encryption:function(value){this.np(value);},add_pageChanged:function(handler){this.Kh(handler);},remove_pageChanged:function(handler){this.Hl(handler);},add_pageRemoved:function(handler){this.Hz(handler);},remove_pageRemoved:function(handler){this.IH(handler);},add_pageAdded:function(handler){this.Hb(handler);},remove_pageAdded:function(handler){this.Ih(handler);},add_pageOpenFailed:function(handler){this.Jm(handler);},remove_pageOpenFailed:function(handler){this.IR(handler);},get_textRequestInfo:function(){try{var bd=this.aqe();return bd;}catch(e){throw e;}},get_pagesWithText:function(){try{var bd=this.ark();return bd;}catch(e){throw e;}},get_numberOfPagesWithText:function(){try{var bd=this.anS();return bd;}catch(e){throw e;}},get_numberOfPagesWithoutText:function(){try{var bd=this.apq();return bd;}catch(e){throw e;}},add_textPagesReceived:function(handler){try{this.avr(handler);}catch(e){throw e;}},remove_textPagesReceived:function(handler){try{this.axi(handler);}catch(e){this.bG('remove_textPagesReceived',e);throw e;}},add_propertyChanged:function(handler){this.kJ(handler);},remove_propertyChanged:function(handler){this.lP(handler);}};Ci.registerClass=cd;Ci.registerClass('IPCC.Web.UI.ImGearDocument');module.exports=Ci;},{"./../../IPCC.Util":28}],80:[function(require,module,exports){var cd=require('./../../IPCC.Util').regClass;var QR=function(){var hW=[];var bm=new IPCC.Web.UI.gp();var J=this;function atT(ax,G){if(G){var PN=new IPCC.Web.UI.ImGearDocumentEventArgs();PN.document=ax;PN.propertyName=G.get_propertyName();PN.length=2;J.bH('documentChanged',PN);}};this.QK=function(asT){this.alq(hW.length,asT);};this.alq=function(aV,bP){var aw;var cj=hW.length;if(aV>hW.length||(aV<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',aV,'document index is out of range');}for(aw=0;aw<cj;aw++){if(hW[aw]===bP){throw new IPCC.Web.UI.ImGearInvalidOperationException('The document instance object to be inserted already exists in the collection. You cannot use the same instance of a document object.');}}var aio=bm.getHandler('pageAdded');if(aio){bP.add_pageAdded(aio);}var aiZ=bm.getHandler('pageRemoved');if(aiZ){bP.add_pageRemoved(aiZ);}var aiv=bm.getHandler('pageChanged');if(aiv){bP.add_pageChanged(aiv);}bP.add_propertyChanged(atT);hW.splice(aV,0,bP);var G=new IPCC.Web.UI.ImGearDocumentEventArgs();G.imGearDocument=bP;G.index=aV;G.length=1;this.bH('documentAdded',G);};function mb(aV){if(aV>hW.length-1||(aV<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',aV,'document index is out of range');}};this.Na=function(aV){mb(aV);return hW[aV];};this.eN=function(){return hW.length;};this.aIk=function(ji,cc){var aeX=[].concat(hW);var L;for(L=0;L<aeX.length;L++){ji.call(cc,aeX[L],L,this);}};this.abY=function(aV){mb(aV);var G=new IPCC.Web.UI.ImGearDocumentEventArgs();G.imGearDocument=hW[aV];G.length=1;hW[aV].get_pages().removeAllPages();hW.splice(aV,1);this.bH('documentRemoved',G);};this.axo=function(){var L=0;while(hW.length>0){this.abY(L);}};this.awf=function(H){bm.addHandler('documentAdded',H);};this.ayO=function(H){bm.removeHandler('documentAdded',H);};this.avz=function(H){bm.addHandler('documentRemoved',H);};this.axK=function(H){bm.removeHandler('documentRemoved',H);};this.awq=function(H){bm.addHandler('documentChanged',H);};this.ayq=function(H){bm.removeHandler('documentChanged',H);};this.Hb=function(H){bm.addHandler('pageAdded',H);};this.Ih=function(H){bm.removeHandler('pageAdded',H);for(var aw=0;aw<hW.length;aw++){hW[aw].remove_pageAdded(H);}};this.Kh=function(H){bm.addHandler('pageChanged',H);};this.Hl=function(H){bm.removeHandler('pageChanged',H);for(var aw=0;aw<hW.length;aw++){hW[aw].remove_pageChanged(H);}};this.Hz=function(H){bm.addHandler('pageRemoved',H);};this.IH=function(H){bm.removeHandler('pageRemoved',H);for(var aw=0;aw<hW.length;aw++){hW[aw].remove_pageRemoved(H);}};this.bH=function(cZ,G){var H=bm.getHandler(cZ);if(H!==null){try{H(J,G);}catch(e){IPCC.jg.Pl('event raise, ImGearDocumentCollection, error: '+e.message);}}};return this;};QR.prototype={addDocument:function(imGearDocument){this.QK(imGearDocument);},insertDocument:function(index,imGearDocument){this.alq(index,imGearDocument);},forEach:function(method,context){this.lj(method,context);},getDocument:function(index){return this.Na(index);},get_length:function(){return this.eN();},removeDocument:function(imGearDocument){this.abY(imGearDocument);},removeAllDocuments:function(){this.axo();},add_documentAdded:function(handler){this.awf(handler);},remove_documentAdded:function(handler){this.ayO(handler);},add_documentRemoved:function(handler){this.avz(handler);},remove_documentRemoved:function(handler){this.axK(handler);},add_documentChanged:function(handler){this.awq(handler);},remove_documentChanged:function(handler){this.ayq(handler);},add_pageAdded:function(handler){this.Hb(handler);},remove_pageAdded:function(handler){this.Ih(handler);},add_pageRemoved:function(handler){this.Hz(handler);},remove_pageRemoved:function(handler){this.IH(handler);},add_pageChanged:function(handler){this.Kh(handler);},remove_pageChanged:function(handler){this.Hl(handler);}};QR.registerClass=cd;QR.registerClass('IPCC.Web.UI.ImGearDocumentCollection');module.exports=QR;},{"./../../IPCC.Util":28}],81:[function(require,module,exports){var cd=require('./../../IPCC.Util').regClass;var Sg=function(){return this;};Sg.registerClass=cd;Sg.prototype={};Sg.registerClass('IPCC.Web.UI.ImGearDocumentCreateArgs');module.exports=Sg;},{"./../../IPCC.Util":28}],82:[function(require,module,exports){var cd=require('./../../IPCC.Util').regClass;var RC=function(){return this;};RC.registerClass=cd;RC.prototype={};RC.registerClass('IPCC.Web.UI.ImGearDocumentEventArgs');module.exports=RC;},{"./../../IPCC.Util":28}],83:[function(require,module,exports){var aEl=function(jP){var aT=0,dI=0,ag=0,cq=0,mr=jP.href||"",apT=jP.borderStyle||"Solid",nv=jP.borderThickness||0,Bp=jP.borderPattern||[1],HH=jP.borderHorizontalRadius||0,FE=jP.borderHorizontalRadius||0,oq=jP.borderColor||"#0000FF",ro=jP.borderOpacity||255,C,T;if(typeof ro==='string'){ro=parseInt(ro,10);}if(jP.rectangle){aT=jP.rectangle.x;dI=jP.rectangle.y;ag=jP.rectangle.width;cq=jP.rectangle.height;}C=new IPCC.Web.UI.Rectangle(aT,dI,ag,cq);this.ca=function(){var Ya=new IPCC.Web.UI.Rectangle(C.x,C.y,C.width,C.height);return Ya;};this.Cy=function(kG){C.x=kG.x;C.y=kG.y;C.width=kG.width;C.height=kG.height;};this.akR=function(){return mr;};this.atR=function(){return apT;};this.atE=function(){return nv;};this.atm=function(){return Bp;};this.arF=function(){return HH;};this.atP=function(){return FE;};this.auu=function(){return oq;};this.atC=function(){return ro;};this.PD=function(){return T;};this.aCu=function(awT){T=awT;};this.aBB=function(){return IPCC.V.akc(mr);};};module.exports=aEl;},{}],84:[function(require,module,exports){var gp=function gp(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}this.Jh={};};gp.prototype.cW=function(cR,H){var bW=this.Wm(cR,true);bW[bW.length]=H;};gp.prototype.addHandler=function(cR,H){this.cW(cR,H);};gp.prototype.dg=function(cR,H){var rY=this.Wm(cR);if(!rY){return;}var aV=IPCC.Yh(rY,H);if(aV>=0){rY.splice(aV,1);}};gp.prototype.removeHandler=function(cR,H){this.dg(cR,H);};gp.prototype.getHandler=function(cR){var rY=this.Wm(cR);if(!rY||(rY.length===0)){return null;}var bW=rY.slice();rY=bW;return function(source,args){for(var L=0,pJ=rY.length;L<pJ;L++){rY[L](source,args);}};};gp.prototype.Wm=function(cR,aoe){if(!this.Jh[cR]){if(!aoe){return null;}this.Jh[cR]=[];}return this.Jh[cR];};module.exports=gp;},{}],85:[function(require,module,exports){var cd=require('./../../IPCC.Util').regClass;var BP=function(message,errorInfo){this.message=message;var J=this;if(errorInfo){for(var TK in errorInfo){if(errorInfo.hasOwnProperty(TK)){J[TK]=errorInfo[TK];}}}};BP.prototype=new Error();BP.registerClass=cd;BP.registerClass('IPCC.Web.UI.ImGearException');var BQ=function(statusCode,message,customErrorCode){var gB="IPCC.Web.UI.ImGearHttpException: ";if(message){gB+=message;}this.message=gB;this.statusCode=statusCode;this.customErrorCode=customErrorCode;};BQ.prototype=new Error();BQ.registerClass=cd;BQ.registerClass('IPCC.Web.UI.ImGearHttpException');var wO=function(paramName,message){var gB="IPCC.Web.UI.ImGearArgumentException: "+(message?message:IPCC.lw.argument);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){gB+="\n"+IPCC.Web.yc(IPCC.lw.paramName,paramName);}}this.message=gB;this.paramName=paramName;};wO.prototype=new Error();wO.registerClass=cd;wO.registerClass('IPCC.Web.UI.ImGearArgumentException');var BN=function(paramName,message){var gB="IPCC.Web.UI.ImGearArgumentNullException: "+(message?message:IPCC.lw.argumentNull);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){gB+="\n"+IPCC.Web.yc(IPCC.Res.paramName,paramName);}}this.message=gB;this.paramName=paramName;};BN.prototype=new Error();BN.registerClass=cd;BN.registerClass('IPCC.Web.UI.ImGearArgumentNullException');var st=function(paramName,actualValue,message){var gB="IPCC.Web.UI.ImGearArgumentOutOfRangeException: "+(message?message:IPCC.lw.argumentOutOfRange);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){gB+="\n"+IPCC.Web.yc(IPCC.lw.paramName,paramName);}}if(typeof(actualValue)!=="undefined"&&actualValue!==null){gB+="\n"+IPCC.Web.yc(IPCC.lw.actualValue,actualValue);}this.message=gB;this.paramName=paramName;this.actualValue=actualValue;};st.prototype=new Error();st.registerClass=cd;st.registerClass('IPCC.Web.UI.ImGearArgumentOutOfRangeException');var AF=function(paramName,actualType,expectedType,message){var gB="IPCC.Web.UI.ImGearArgumentTypeException ";if(message){gB+=message;}else if(actualType&&expectedType){if(typeof(actualType.getName)==='function'&&typeof(expectedType.getName)==='function'){gB+=IPCC.Web.yc(IPCC.lw.argumentTypeWithTypes,actualType.getName(),expectedType.getName());}else{gB+="actualType = "+actualType+" expectedType =  "+expectedType;}}else{gB+=IPCC.lw.argumentType;}if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){gB+="\n"+IPCC.Web.yc(IPCC.lw.paramName,paramName);}}this.message=gB;this.paramName=paramName;this.actualType=actualType;this.expectedType=expectedType;};AF.prototype=new Error();AF.registerClass=cd;AF.registerClass('IPCC.Web.UI.ImGearArgumentTypeException');var Cu=function(paramName,message){var gB="IPCC.Web.UI.ImGearArgumentUndefinedException: "+(message?message:IPCC.lw.argumentUndefined);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){gB+="\n"+IPCC.Web.yc(IPCC.Res.paramName,paramName);}}this.message=gB;this.paramName=paramName;};Cu.prototype=new Error();Cu.registerClass=cd;Cu.registerClass('IPCC.Web.UI.ImGearArgumentUndefinedException');var Ce=function(message){var gB="IPCC.Web.UI.ImGearInvalidOperationException: "+(message?message:IPCC.lw.invalidOperation);this.message=gB;};Ce.prototype=new Error();Ce.registerClass=cd;Ce.registerClass('IPCC.Web.UI.ImGearInvalidOperationException');var Ca=function(message){var gB="IPCC.Web.UI.ImGearNotImplementedException: "+(message?message:IPCC.lw.notImplemented);this.message=gB;};Ca.prototype=new Error();Ca.registerClass=cd;Ca.registerClass('IPCC.Web.UI.ImGearNotImplementedException');var CK=function(message){var gB="IPCC.Web.UI.ImGearParameterCountException: "+(message?message:IPCC.lw.parameterCount);this.message=gB;};CK.prototype=new Error();CK.registerClass=cd;CK.registerClass('IPCC.Web.UI.ImGearParameterCountException');module.exports={BP:BP,BQ:BQ,wO:wO,BN:BN,st:st,AF:AF,Cu:Cu,Ce:Ce,Ca:Ca,CK:CK};},{"./../../IPCC.Util":28}],86:[function(require,module,exports){var aDQ=function(){var EO=[];this.avm=function(aCp){EO.push(aCp);};this.da=function(){return EO.length;};this.lj=function(ji,cc){IPCC.V.forEach(EO,ji,cc);};this.ayi=function(){if(EO.length<1){return;}EO=[];};return this;};module.exports=aDQ;},{}],87:[function(require,module,exports){var aDo=function(){var FD=new IPCC.Web.UI.ImGearHyperlinkCollection();this.Iq=function(){return FD;};};module.exports=aDo;},{}],88:[function(require,module,exports){var cd=require('./../../IPCC.Util').regClass;var RD=function(aI){this.bP=undefined;var be=0;var bf=0,acz=0,abZ=0;var aY=0,alZ=0,amC=0;var J=this;var bm=new IPCC.Web.UI.gp();this.aIm=undefined;this.gk={pG:0,aeH:false,pA:1000,OD:false};var dW=new IPCC.Web.UI.ImGearTextPage();var QS=new IPCC.Web.UI.ImGearHyperlinkPage();var jR=0;var ou=false;var CS=false,Cj=0,Bo=0;function amT(o){return!isNaN(o-0);};if(aI.pageNumber!==undefined){if(amT(aI.pageNumber)){be=aI.pageNumber;}else{throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException("pageNumber","",'The value must be a number.');}}this.oZ=function(){return be;};this.aEO=function(h){if(amT(aI.pageNumber)){be=h;}};this.ki=function(){return bf;};function amN(){if(!dW){dW=new IPCC.Web.UI.ImGearTextPage();}var atY=dW.hc();var oJ=bf/Cj,qn=aY/Bo;atY.aDY(oJ,qn);};function amr(){var FD=QS.Iq();var oJ=bf/Cj,qn=aY/Bo;FD.lj(function(ii){ii.Cy(ii.ca().scale(oJ,qn));var ajb=ii.PD();ajb.set_rectangle(ajb.get_rectangle().scale(oJ,qn));});};this.RI=function(h){bf=h;if(CS&&bf&&bf!==Cj&&aY&&aY!==Bo){amN();amr();CS=false;}};this.iy=function(){return aY;};this.QQ=function(h){aY=h;if(CS&&bf&&bf!==Cj&&aY&&aY!==Bo){amN();amr();CS=false;}};this.akM=function(){return acz;};this.aca=function(h){acz=h;};this.aHc=function(){return alZ;};this.ach=function(h){alZ=h;};this.aGR=function(){return abZ;};this.aFh=function(h){abZ=h;};this.aIb=function(){return amC;};this.aES=function(h){amC=h;};this.aov=function(){return this.bP;};this.bY=function(){if(!dW){dW=new IPCC.Web.UI.ImGearTextPage();}return dW;};this.kN=function(){return jR;};this.yE=function(h){if(jR===h){return;}if(isNaN(h)){return;}jR=h;this.cQ('serviceResponseTimeout');};this.hS=function(){return ou;};this.np=function(h){ou=h;};this.kJ=function(H){bm.addHandler('propertyChanged',H);};this.lP=function(H){bm.removeHandler('propertyChanged',H);};this.yO=function(H){bm.addHandler('textPageReady',H);};this.DR=function(H){bm.removeHandler('textPageReady',H);};this.ajQ=function(){return QS;};this.RM=function(H){bm.addHandler('hyperlinkPageReady',H);};this.aav=function(H){bm.removeHandler('hyperlinkPageReady',H);};this.yj=function(H){bm.cW('textExtractionFailed',H);};this.Db=function(H){bm.dg('textExtractionFailed',H);};this.aft=function(ga){if(bf===0&&aY===0){CS=true;Cj=ga.width;Bo=ga.height;}};this.acL=function(ga){if(!dW){dW=new IPCC.Web.UI.ImGearTextPage();}if(dW.hc().eN()>0){return;}else if(ga.errorCode){var ov=new IPCC.Web.UI.ImGearException(ga.errorDescription,{name:'Text Extraction'});var co=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();co.exception=ov;co.pageNumber=J.get_pageNumber();J.bH('textExtractionFailed',co);return;}var arB=dW.hc();var Nf=false;var aeQ;function KA(VG){return VG;};var qn=1;var oJ=1;if(ga.height&&ga.height>0&&aY>0){if(ga.height!==aY){qn=aY/ga.height;}}if(ga.width&&ga.width>0&&bf>0){if(ga.width!==bf){oJ=bf/ga.width;}}var gE;var afi= -1;var PZ;var ib,zD;for(var L=0;L<ga.rectangles.length;L++){ib=ga.rectangles[L];zD=KA(ga.text[L]);Nf=false;if(ib[2]===0){zD="\n";Nf=true;if(L>0){aeQ=ga.rectangles[L-1];ib[2]=aeQ[2];}}if(oJ===1&&qn===1){PZ=new IPCC.Web.UI.ImGearTextCharacter(ib[0],ib[1],ib[2],ib[3],zD,Nf);}else{PZ=new IPCC.Web.UI.ImGearTextCharacter(ib[0]*oJ,ib[1]*qn,ib[2]*oJ,ib[3]*qn,zD,Nf);}if(PZ){arB.axH(PZ);}if(gE===undefined||afi!==ib[1]||ib[0]<gE.ca().x){if(gE){dW.XB().agF(gE);}gE=new IPCC.Web.UI.ImGearTextSection();gE.Cy(new IPCC.Web.UI.Rectangle(ib[0],ib[1],ib[2],ib[3]));gE.aBG(L);}else{if(ib[0]+ib[2]-gE.ca().x>gE.ca().width){gE.ca().width=ib[0]+ib[2]-gE.ca().x;}}gE.aCK(L);afi=ib[1];}if(gE){dW.XB().agF(gE);}dW.aBc(ga.text);if(ga.text.length>0){dW.QH(true);J.bH('textPageReady',{pageNumber:J.oZ(),containsText:true});}else{dW.QH(false);J.bH('textPageReady',{pageNumber:J.oZ(),containsText:false});}};this.aeo=function(amy,JW,Jj){if(!amy){return;}QS.Iq().ayi();var qn=1;var oJ=1;if(JW&&JW>0&&aY>0){if(JW!==aY){qn=aY/JW;}}if(Jj&&Jj>0&&bf>0){if(Jj!==bf){oJ=bf/Jj;}}IPCC.V.forEach(amy,function(ano){var ii;switch(ano.markType){case "DocumentHyperlink":ii=new IPCC.Web.UI.ImGearDocumentHyperlink(ano.properties);ii.Cy(ii.ca().scale(oJ,qn));if(!ii.aBB()){QS.Iq().avm(ii);}break;default:break;}});J.bH('hyperlinkPageReady',{pageNumber:J.oZ()});};this.aoo=function(){J.Bj();};this.Bj=function(){if(!dW){dW=new IPCC.Web.UI.ImGearTextPage();}if(!J.bP){throw new IPCC.Web.UI.ImGearInvalidOperationException('You must add this Page to a valid ImGearDocument object which has a valid ImageServicePath property.');}if(dW.vP()){return;}var ahe=true;if(J.kN()===0){ahe=false;}function NH(bp){if(bp.pages){var aP;if(bp.pages.length>0){if(bp.pages[0].number!==J.oZ()){for(var L=0;L<bp.pages.length;L++){if(bp.pages[L].number===J.oZ()){aP=L;break;}}if(!aP){J.gk.OD=false;return;}}else{aP=0;}var ga=bp.pages[aP];J.gk.OD=true;if(bp.pages[aP].text&&bp.pages[aP].text.length>0){dW.QH(true);}else{dW.QH(false);}J.gk.pA=1000;J.aft(ga);J.acL(ga);J.aeo(ga.markup,ga.height,ga.width);return;}}var oK=J.gk.pA;if(!J.gk.OD){if(J.gk.pG<6){if(J.gk.pG<2){oK=oK+1000;}else{oK=oK+3000;}J.gk.pG++;J.gk.pA=oK;setTimeout(J.aoo,oK);}else{J.gk.aeH=true;}}};function fB(aA){var iT=J.bP.iT,ah;try{var gU;var nQ=aA.getResponseHeader("Accusoft-Data-Encrypted");if(nQ==='true'){var tM=IPCC.Web.hl.qf.tn(aA.getResponseHeader("Accusoft-Data-SK"));var aG=IPCC.Web.Fb(tM,iT);var eL=IPCC.Web.FJ(aA);var tS=IPCC.Web.DF(eL,aG,iT);gU=IPCC.Web.hl.HA.ni(tS);}else{gU=aA.responseText;}ah=JSON.parse(gU);NH(ah);}catch(e){var co=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();co.exception=e;co.pageNumber=J.get_pageNumber();J.bH('textExtractionFailed',co);return;}};function fh(ah){try{if(!ah.response){throw new IPCC.Web.UI.ImGearHttpException(0,"Text extraction timeout");}else{if(ah.response.statusText){throw new IPCC.Web.UI.ImGearHttpException(ah.response.status,"Unable to obtain text, Error from the service = "+ah.response.statusText);}else{throw new IPCC.Web.UI.ImGearHttpException(ah.response.status,"Unable to obtain text from the service");}}}catch(e){var co=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();co.exception=e;co.pageNumber=J.get_pageNumber();J.bH('textExtractionFailed',co);return;}};var bL=J.get_pageNumber();var hY=J.bP.get_documentIdentifier();if(!(/^[\x00-\x7F]*$/.test(hY))){hY='e'+J.bP.get_encodedDocumentIdentifier();}else{hY='u'+encodeURIComponent(hY);}var gy=J.bP.sf;var qs=J.bP.qs;var an;if(J.hS()){an=gy+'/Document/q/'+bL.toString()+'-'+bL.toString()+'/Text?DocumentID='+hY+'&iv='+qs;}else{an=gy+'/Document/q/'+bL.toString()+'-'+bL.toString()+'/Text?DocumentID='+hY;}var hj={method:'GET',url:an,headers:{'accept':'application/json'}};if(ahe===true){hj.timeout=J.kN();}IPCC.V.mx.fa(hj).then(fB,fh);};this.bY=function(){if(!dW){dW=new IPCC.Web.UI.ImGearTextPage();}return dW;};this.aGF=function(h){if(typeof h.mB!=='function'){return;}dW=h;};this.amq=function(){dW=undefined;J.gk={pG:0,aeH:false,pA:1000,OD:false};CS=false;Cj=0;Bo=0;};this.Mo=function(zF,zu){var J=this;function fB(aA){var ah;ah=JSON.parse(aA.responseText);if(ah.imageWidth&&ah.imageHeight){J.RI(ah.imageWidth);J.QQ(ah.imageHeight);zF(ah.imageWidth,ah.imageHeight);}else{zu("Unable to obtain document information from the server");}};function fh(ah){zu("Unable to obtain document information from the server");};if(J.ki()>0||J.iy()>0){zF(J.ki(),J.iy());}else{var pz=IPCC.hz.rR(J.bP.get_documentIdentifier());if(!pz||pz===""){zu("Invalid encoded Identifier");}var vF='';if(!IPCC.tL.HC()){vF='&ContentType=png';}var an;if(!(/^[\x00-\x7F]*$/.test(pz))){an=J.bP.sf+'/Page/q/'+(J.get_pageNumber())+'/Attributes?DocumentID=e'+pz+vF;}else{an=J.bP.sf+'/Page/q/'+(J.get_pageNumber())+'/Attributes?DocumentID=u'+encodeURIComponent(J.bP.get_documentIdentifier())+vF;}IPCC.V.mx.fa({method:'GET',url:an,headers:{'Content-Type':'application/json'}}).then(fB,fh);}};this.cQ=function(cg){var H=bm.getHandler('propertyChanged');if(H){H(this,new IPCC.nz(cg));}};this.bH=function(cZ,G){var H=bm.getHandler(cZ);if(H!==null){try{H(J,G);}catch(e){IPCC.jg.Pl('event raise, ImGearPage, error: '+e.message);}}};return this;};RD.prototype={get_pageNumber:function(){var bd=this.oZ();return bd;},get_pageWidth:function(){var bd=this.ki();return bd;},get_pageHeight:function(){var bd=this.iy();return bd;},get_textPage:function(){var bd=this.bY();return bd;},get_encryption:function(){var bd=this.hS();return bd;},set_encryption:function(value){this.np(value);},get_hyperlinkPage:function(){return this.ajQ();},get_document:function(){var bd=this.aov();return bd;},add_propertyChanged:function(handler){this.kJ(handler);},remove_propertyChanged:function(handler){this.lP(handler);},requestPageAttributes:function(attributesRetrievedCallback,attributesRetrievalFailedCallback){this.Mo(attributesRetrievedCallback,attributesRetrievalFailedCallback);}};RD.registerClass=cd;RD.registerClass('IPCC.Web.UI.ImGearPage');module.exports=RD;},{"./../../IPCC.Util":28}],89:[function(require,module,exports){var cd=require('./../../IPCC.Util').regClass;var QA=function(){var J=this;var cX=[];var bm=new IPCC.Web.UI.gp();this.azE=false;this.azw=true;this.bP=undefined;this.ahA=function(ap){this.akJ(cX.length,ap);};function mb(aV){if(aV>cX.length-1||(aV<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',aV,'page index is out of range in the page collection');}};this.akJ=function(aV,ap){var aw;var cj=cX.length;if(aV>cX.length||(aV<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',aV,'index of the page Collection is out of range');}if(J.azw&&J.azE){if(cj>0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You must first remove the existing selected page before adding a new one to the selected page collection).');}}for(aw=0;aw<cj;aw++){if(cX[aw]===ap){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot duplicate same page instance in a page collection).');}}if(J.bP){if(!ap.bP){ap.bP=J.bP;}}ap.add_propertyChanged(JR);cX.splice(aV,0,ap);var G=new IPCC.Web.UI.ImGearPageEventArgs();G.imGearPage=ap;G.length=1;J.bH('pageAdded',G);};this.jE=function(aV){mb(aV);var eD=cX[aV];return eD;};this.aCN=function(aV,ap){mb(aV);var WW=cX[aV];if(WW===ap){return;}cX[aV]=ap;var G=new IPCC.Web.UI.ImGearPageEventArgs();G.imGearPage=ap;G.length=1;this.bH('pageAdded',G);WW.remove_propertyChanged(JR);var zm=new IPCC.Web.UI.ImGearPageEventArgs();zm.imGearPage=WW;zm.length=1;this.bH('pageRemoved',zm);};this.eN=function(){return cX.length;};this.lj=function(ji,cc){var adZ=[].concat(cX);var L;for(L=0;L<adZ.length;L++){ji.call(cc,adZ[L],L,this);}};this.acM=function(aV){mb(aV);var G=new IPCC.Web.UI.ImGearPageEventArgs();G.imGearPage=cX[aV];cX[aV].remove_propertyChanged(JR);G.length=1;cX.splice(aV,1);J.bH('pageRemoved',G);};this.aFH=function(ap){var da=cX.length;for(var L=0;L<da;L++){if(ap===cX[L]){return L;}}return-1;};this.ayS=function(){var L=0;while(cX.length>0){this.acM(L);}};function JR(ax,G){var zm=new IPCC.Web.UI.ImGearPageEventArgs();zm.imGearPage=ax;zm.length=1;J.bH('pageChanged',zm);};this.Hb=function(H){bm.addHandler('pageAdded',H);};this.Ih=function(H){bm.removeHandler('pageAdded',H);};this.Kh=function(H){bm.addHandler('pageChanged',H);};this.Hl=function(H){bm.removeHandler('pageChanged',H);};this.Hz=function(H){bm.addHandler('pageRemoved',H);};this.IH=function(H){bm.removeHandler('pageRemoved',H);};this.bH=function(cZ,G){var H=bm.getHandler(cZ);if(H!==null){try{H(J,G);}catch(e){IPCC.jg.Pl('raise event error in ImGearPageCollection, Error: '+e.message);}}};return this;};QA.prototype={addPage:function(page){this.ahA(page);},insertPage:function(index,page){this.akJ(index,page);},forEach:function(method,context){this.lj(method,context);},getPage:function(index){return this.jE(index);},setPage:function(index,page){this.aCN(index,page);},get_length:function(){return this.eN();},removePage:function(index){this.acM(index);},removeAllPages:function(){this.ayS();},add_pageAdded:function(handler){this.Hb(handler);},remove_pageAdded:function(handler){this.Ih(handler);},add_pageChanged:function(handler){this.Kh(handler);},remove_pageChanged:function(handler){this.Hl(handler);},add_pageRemoved:function(handler){this.Hz(handler);},remove_pageRemoved:function(handler){this.IH(handler);}};QA.registerClass=cd;QA.registerClass('IPCC.Web.UI.ImGearPageCollection');module.exports=QA;},{"./../../IPCC.Util":28}],90:[function(require,module,exports){var dV=require('./../../IPCC.Util').regEnum;var RN=function(){};RN.registerEnum=dV;RN.prototype={UnRequested:0,RequestPending:1,Known:2,Failed:3};RN.registerEnum('IPCC.Web.UI.ImGearPageCountStatus',false);module.exports=RN;},{"./../../IPCC.Util":28}],91:[function(require,module,exports){var cd=require('./../../IPCC.Util').regClass;var QC=function(){};QC.registerClass=cd;QC.prototype={};QC.registerClass('IPCC.Web.UI.ImGearPageCreateArgs');module.exports=QC;},{"./../../IPCC.Util":28}],92:[function(require,module,exports){var cd=require('./../../IPCC.Util').regClass;var Qx=function(){return this;};Qx.prototype={};Qx.registerClass=cd;Qx.registerClass('IPCC.Web.UI.ImGearPageEventArgs');module.exports=Qx;},{"./../../IPCC.Util":28}],93:[function(require,module,exports){var cd=require('../../IPCC.Util').regClass;var QU=function(){return this;};QU.registerClass=cd;QU.prototype={};QU.registerClass('IPCC.Web.UI.ImGearPageOpenFailedEventArgs');module.exports=QU;},{"../../IPCC.Util":28}],94:[function(require,module,exports){var aEf=function(aT,dI,ag,cq,zD,aER){this.bo=new IPCC.Web.UI.Rectangle(aT,dI,ag,cq);this.kp=zD;this.IC=aER;this.auD=function(){return zD;};this.vo=function(){var Ya=new IPCC.Web.UI.Rectangle(this.bo.x,this.bo.y,this.bo.width,this.bo.height);return Ya;};this.aHk=function(){return this.IC;};};module.exports=aEf;},{}],95:[function(require,module,exports){var aEw=function(){var iG=[];this.axH=function(kT){iG.push(new IPCC.Web.UI.ImGearTextCharacter(kT.bo.x,kT.bo.y,kT.bo.width,kT.bo.height,kT.kp,kT.IC));};this.aIw=function(atJ){function lm(kT){iG.push(kT);};atJ.forEach(lm,{});};this.apd=function(){var aeg=[];for(var aw=0;aw<this.eN();aw++){var OW=this.kB(aw).bo;var C=[];C.push(OW.x);C.push(OW.y);C.push(OW.width);C.push(OW.height);aeg.push(C);}return aeg;};this.aIf=function(aV,aaP){var aw;var cj=iG.length;if(aV>iG.length||(aV<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',aV,'index of theText Character Collection is out of range');}for(aw=0;aw<cj;aw++){if(iG[aw]===aaP){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot duplicate same bp Character instance in a kT collection).');}}iG.splice(aV,0,aaP);};this.aDY=function(acI,adt){IPCC.V.forEach(iG,function(kp){kp.bo.width=kp.bo.width*acI;kp.bo.height=kp.bo.height*adt;kp.bo.x=kp.bo.x*acI;kp.bo.y=kp.bo.y*adt;});};this.lj=function(ji,cc){var aba=[].concat(iG);var L;for(L=0;L<aba.length;L++){ji.call(cc,new IPCC.Web.UI.ImGearTextCharacter(aba[L].x,aba[L].y),L,this);}};function mb(aV){if(aV>iG.length-1||(aV<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',aV);}};this.kB=function(aV){mb(aV);var sk=iG[aV];return new IPCC.Web.UI.ImGearTextCharacter(sk.bo.x,sk.bo.y,sk.bo.width,sk.bo.height,sk.kp,sk.IC);};this.aEY=function(aV,kT){mb(aV);var Dx=iG[aV];if(Dx.bo.x===kT.bo.x&&Dx.bo.y===kT.y&&Dx.bo.width===kT.bo.width&&Dx.bo.height===kT.bo.height&&Dx.kp===kT.kp&&Dx.IC===kT.IC){return;}iG[aV]=kT;};this.eN=function(){return iG.length;};this.aHE=function(aV){mb(aV);iG.splice(aV,1);};this.aGV=function(){if(iG.length<1){return;}iG=[];};return this;};module.exports=aEw;},{}],96:[function(require,module,exports){var aDK=function(){var atN=new IPCC.Web.UI.ImGearTextCharacterCollection();var Yi=false;var aak=false;var XU="";var uj=new IPCC.Web.UI.ImGearTextSectionCollection();var YJ=false;this.hc=function(){return atN;};this.mB=function(){return Yi;};this.QH=function(h){aak=true;if(h===Yi){return;}if((h===true)||(h===false)){Yi=h;}};this.vP=function(){return aak;};this.CJ=function(){return XU;};this.aBc=function(h){if(h===XU){return;}XU=h;};this.XB=function(){return uj;};this.ape=function(){return YJ;};this.acD=function(h){if(h===YJ){return;}if((h===true)||(h===false)){YJ=h;}};};module.exports=aDK;},{}],97:[function(require,module,exports){var aCZ=function(){var C=null;var bL=0;var cl=0;this.ca=function(){return C;};this.Cy=function(h){C=h;};this.ajD=function(){return bL;};this.aBG=function(h){bL=h;};this.ake=function(){return cl;};this.aCK=function(h){cl=h;};};module.exports=aCZ;},{}],98:[function(require,module,exports){var aDp=function(){var uj=[];this.agF=function(gE){uj.push(gE);};function mb(aV){if(aV>uj.length-1||(aV<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',aV);}};this.anX=function(aV){mb(aV);return uj[aV];};this.eN=function(){return uj.length;};return this;};module.exports=aDp;},{}],99:[function(require,module,exports){var dV=require('./../../IPCC.Util').regEnum;var NC=function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}throw new IPCC.Web.UI.ImGearNotImplementedException();};NC.registerEnum=dV;NC.prototype={backspace:8,tab:9,enter:13,esc:27,space:32,pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40,del:127};NC.registerEnum("IPCC.Web.UI.Key");module.exports=NC;},{"./../../IPCC.Util":28}],100:[function(require,module,exports){var dV=require('../../IPCC.Util').regEnum;var Nz=function(){};Nz.registerEnum=dV;Nz.prototype={Pointer:0,Solid:1,Open:2,PointerSolid:3,None:4};Nz.registerEnum('IPCC.Web.UI.LineHeadType',false);module.exports=Nz;},{"../../IPCC.Util":28}],101:[function(require,module,exports){var dV=require('../../IPCC.Util').regEnum;var Lv=function(){};Lv.registerEnum=dV;Lv.prototype={Solid:0,Dash:1,Dot:2,DashDot:3,DashDotDot:4};Lv.registerEnum('IPCC.Web.UI.LineStyle',false);module.exports=Lv;},{"../../IPCC.Util":28}],102:[function(require,module,exports){var cd=require('../../IPCC.Util').regClass;var KM=function(){return this;};KM.registerClass=cd;KM.prototype={};KM.registerClass('IPCC.Web.UI.LogItemEventArgs');module.exports=KM;},{"../../IPCC.Util":28}],103:[function(require,module,exports){var cd=require('../../IPCC.Util').regClass;var LJ=function(type){var bx=type;type=undefined;var rD=new Date();var rM=new Date();var bk=null;var C;var bF;var dP;var ci=new IPCC.Web.UI.Data();var bm=new IPCC.Web.UI.gp();var J=this;var jb;this.dU=function(jQ,cg){if((jb&jQ)===0){throw new IPCC.Web.UI.ImGearInvalidOperationException(cg+' is not a valid property for this type of Mark.');}};if(bx===IPCC.Web.UI.MarkType.SignatureText){this.kS='#000000';this.iM=IPCC.Web.UI.LineStyle.Solid;this.eC=0;}else{this.kS='#000000';this.iM=IPCC.Web.UI.LineStyle.Solid;this.eC=1;}this.di=255;this.mY=IPCC.Web.UI.MarkInteractionMode.Full;var kO=false;switch(bx){case IPCC.Web.UI.MarkType.Line:kO=true;bF=new IPCC.Web.UI.PointCollection();bF.addPoint({x:0,y:0});bF.addPoint({x:0,y:0});jb=1;this.kS='#18385F';this.eC=6;break;case IPCC.Web.UI.MarkType.Polyline:kO=true;this.rw=false;bF=new IPCC.Web.UI.PointCollection();jb=2;this.eC=2;break;case IPCC.Web.UI.MarkType.Rectangle:C=new IPCC.Web.UI.Rectangle(0,0,0,0);jb=4;this.dJ='#FB0404';this.eC=4;break;case IPCC.Web.UI.MarkType.Ellipse:C=new IPCC.Web.UI.Rectangle(0,0,0,0);jb=8;this.dJ='#FB0404';this.eC=4;break;case IPCC.Web.UI.MarkType.Polygon:bF=new IPCC.Web.UI.PointCollection();jb=16;break;case IPCC.Web.UI.MarkType.Text:this.Bw='#000000';this.xv=false;this.rg=IPCC.Web.UI.LineStyle.Solid;this.AZ=1;this.nc=new IPCC.Web.UI.Point(0,0);this.CB=IPCC.Web.UI.CalloutType.Triangle;this.yd=false;this.gI='Arial';this.dh=12;this.cJ=IPCC.Web.UI.FontStyle.Regular;this.iM=IPCC.Web.UI.LineStyle.Solid;this.hf=0;C=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bp='';this.iv=IPCC.Web.UI.HorizontalAlignment.Left;this.vq=IPCC.Web.UI.VerticalAlignment.Top;this.rk='#000000';this.yI=255;this.yK=IPCC.Web.UI.Orientation.TopLeft;this.fG=[];this.eC=4;this.di=127;this.dJ='#FFFFFF';jb=32;break;case IPCC.Web.UI.MarkType.Stamp:C=new IPCC.Web.UI.Rectangle(0,0,0,0);jb=128;break;case IPCC.Web.UI.MarkType.Highlight:C=new IPCC.Web.UI.Rectangle(0,0,0,0);this.ac='';this.jD='n';this.bL=0;this.cu='';this.cr=0;this.di=127;jb=256;break;case IPCC.Web.UI.MarkType.HighlightText:C=new IPCC.Web.UI.Rectangle(0,0,0,0);this.ac='';this.jD='n';this.bL=0;this.cu='';this.cr=0;this.di=127;this.dJ='#FFFF00';jb=512;this.fG=[];this.bE=[];break;case IPCC.Web.UI.MarkType.Freehand:C=new IPCC.Web.UI.Rectangle(0,0,0,0);jb=64;this.eC=4;this.kS='#000000';this.jF=false;this.RE=1;this.SQ=1;this.tX='M0,0';break;case IPCC.Web.UI.MarkType.SignaturePath:C=new IPCC.Web.UI.Rectangle(0,0,0,0);jb=1024;this.iv=IPCC.Web.UI.HorizontalAlignment.Center;this.eC=4;this.kS='#000000';this.jF=false;this.RE=1;this.SQ=1;this.tX='M0,0';break;case IPCC.Web.UI.MarkType.SignatureText:C=new IPCC.Web.UI.Rectangle(0,0,0,0);jb=2048;this.iv=IPCC.Web.UI.HorizontalAlignment.Center;this.bp='John Doe';this.rk='#000000';this.dJ='#000000';this.gI="";break;case IPCC.Web.UI.MarkType.RectangleRedaction:C=new IPCC.Web.UI.Rectangle(0,0,0,0);jb=4096;this.gI='Arial';this.dh=8;this.cJ=IPCC.Web.UI.FontStyle.Regular;this.bp='';this.iv=IPCC.Web.UI.HorizontalAlignment.Center;this.vq=IPCC.Web.UI.VerticalAlignment.Center;this.dJ='#000000';this.rk='#FFFFFF';this.yI=255;this.yK=IPCC.Web.UI.Orientation.TopLeft;break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:C=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bE=[];this.ac='';this.fw='';this.bp='';this.gI='Arial';this.dh=8;this.bL=0;this.cr=0;jb=8192;this.fG=[];break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:C=new IPCC.Web.UI.Rectangle(0,0,0,0);this.mr='';this.eC=2;this.cu='';this.ac='';this.jD='n';this.bL=0;this.cr=0;this.dJ='#3B00FF';jb=1<<14;this.fG=[];this.bE=[];break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:C=new IPCC.Web.UI.Rectangle(0,0,0,0);jb=16384;this.ar='';this.rf='';break;case IPCC.Web.UI.MarkType.DocumentHyperlink:C=new IPCC.Web.UI.Rectangle(0,0,0,0);this.mr='';this.PF='';this.Bp='';this.HH=0;this.FE=0;this.ro=255;jb=32768;break;case IPCC.Web.UI.MarkType.TextLine:jb=65536;C=new IPCC.Web.UI.Rectangle(0,0,0,0);this.iv=IPCC.Web.UI.HorizontalAlignment.Left;this.bp='';this.rk='#000000';this.gI="Courier New";this.eC=1;this.jF=true;this.hf=0;this.DY=0;this.FM=false;var jo=IPCC.V.tG("M",this.gI,{ud:'pre'});this.Ag=jo.width;this.zK=jo.height;this.jn=null;break;case IPCC.Web.UI.MarkType.TextAreaSignature:this.Bw='#000000';this.xv=false;this.rg=IPCC.Web.UI.LineStyle.Solid;this.AZ=1;this.nc=new IPCC.Web.UI.Point(0,0);this.CB=IPCC.Web.UI.CalloutType.Triangle;this.yd=false;this.gI='Courier New';this.hN=0;this.hf=0;this.dh=12;this.cJ=IPCC.Web.UI.FontStyle.Regular;C=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bp='';this.iv=IPCC.Web.UI.HorizontalAlignment.Left;this.vq=IPCC.Web.UI.VerticalAlignment.Top;this.rk='#000000';this.yI=255;this.yK=IPCC.Web.UI.Orientation.TopLeft;this.fG=[];this.eC=1;this.jF=false;this.dJ='#FFFFFF';this.di=0;jb=1<<18;break;case IPCC.Web.UI.MarkType.Strikethrough:C=new IPCC.Web.UI.Rectangle(0,0,0,0);this.ac='';this.kS='#000000';this.eC=2;this.jD='n';this.bL=0;this.cu='';this.cr=0;jb=1<<17;this.fG=[];this.bE=[];break;default:throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('type',bx);}if(bx!==IPCC.Web.UI.MarkType.SignaturePath&&bx!==IPCC.Web.UI.MarkType.Freehand&&bx!==IPCC.Web.UI.MarkType.SignatureText&&bx!==IPCC.Web.UI.MarkType.DocumentHyperlink&&bx!==IPCC.Web.UI.MarkType.HighlightText&&bx!==IPCC.Web.UI.MarkType.Strikethrough&&bx!==IPCC.Web.UI.MarkType.TextLine){if(kO){this.Jb=15;this.JO=25;this.mW=IPCC.Web.UI.LineHeadType.None;this.Ar='#000000';this.Fi=15;this.GJ=25;this.GT=IPCC.Web.UI.LineHeadType.None;}else{this.Hn=true;this.jF=true;if(bx===IPCC.Web.UI.MarkType.Highlight){this.jF=false;this.di=100;}}}this.abP=IPCC.Web.UI.axr++;this.cV=true;this.ak={};this.dO=[];var Ng=false;function arI(ax,G){J.bH('commentAdded',G);};function asC(ax,G){J.bH('commentRemoved',G);};function Pd(ax,G){J.bH('commentChanged',G);};dP=new IPCC.Web.UI.Conversation(J);dP.add_commentAdded(arI);dP.add_commentChanged(Pd);dP.add_commentRemoved(asC);this.bH=function(cZ,G){var H=bm.getHandler(cZ);if(H!==null){H(this,G);}};function UJ(ax,G){var aah='points';if(bx===IPCC.Web.UI.MarkType.Line){aah=G.index===0?'startPoint':'endPoint';}J.cQ(aah,G);};if(bF){bF.add_pointAdded(UJ);bF.add_pointChanged(UJ);bF.add_pointRemoved(UJ);}this.jc=function(){return bx;};this.ajV=function(){return rD;};this.aaS=function(h){rD=h;};this.akl=function(){return rM;};this.YA=function(h){rM=h;};this.ep=function(){return bk;};this.mZ=function(value){if(bk!==value){bk=value;this.cQ('artPage');}};this.kF=function(){return Ng;};this.lx=function(h){Ng=h;};this.akE=function(){var lZ=new IPCC.Web.UI.Rectangle(0,0,0,0);switch(bx){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:case IPCC.Web.UI.MarkType.Polygon:return bF.vo();case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.DocumentHyperlink:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.Strikethrough:return C.clone();case IPCC.Web.UI.MarkType.Text:var iX=C.x+C.width,kU=C.y+C.height;var agS=C.x+this.nc.x,ahf=C.y+this.nc.y;lZ.x=Math.min(C.x,Math.min(iX,agS));lZ.y=Math.min(C.y,Math.min(kU,ahf));lZ.width=Math.max(C.x,Math.max(iX,agS))-lZ.x;lZ.height=Math.max(C.y,Math.max(kU,ahf))-lZ.y;break;}return lZ;};this.ca=function(){return C.clone();};this.zN=function(h){this.Bx(16384,'image','ar',h);};this.cU=function(){return this.ar;};this.pH=function(){return bF;};this.auv=function(){return dP;};this.wC=function(){return ci;};this.Cy=function(h){var sc;if(!C.equals(h)){C=new IPCC.Web.UI.Rectangle(h.x,h.y,h.width,h.height);if(bx===IPCC.Web.UI.MarkType.Stamp||bx===IPCC.Web.UI.MarkType.SignatureText||bx===IPCC.Web.UI.MarkType.TextLine){if(document.documentMode<9){sc=0;if(C.width>=C.height){sc=(C.width/14)/2;}else{sc=C.width/15;}if(sc*15>=C.width){sc=(C.width/15)/2;}this.stampSize=Math.round(sc);}else{var textFontSize=(C.width/6);if(textFontSize>C.height){textFontSize=(C.height-(C.height/6));}var os=this.get_text();if(!os){os=(bx===IPCC.Web.UI.MarkType.Stamp)?'APPROVED':'';}sc=os.length*textFontSize;if(sc>C.width){textFontSize=((C.width/os.length));}var DY=Math.round(textFontSize);this.stampSize=DY.toString();}}this.cQ('rectangle');}};this.jJ=function(){return this.abP;};this.JG=function(fA,fo){if(fA!==0||fo!==0){switch(bx){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:case IPCC.Web.UI.MarkType.Polygon:bF.afW(fA,fo);break;case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.Freehand:if(bx===IPCC.Web.UI.MarkType.RectangleRedaction&&this.ac!==undefined){break;}C.x+=fA;C.y+=fo;this.cQ('rectangle');break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.Strikethrough:break;}}};this.YS=function(ZM){if(this.fG&&ZM!==this.fG){while(this.fG.length>0){this.fG.pop();}if(ZM){this.fG=ZM.slice(0);}this.bH('markTextSelectionChanged',{});}};this.HZ=function(H){if(this.fG){bm.addHandler('markTextSelectionChanged',H);}};this.Hc=function(H){if(this.fG){bm.removeHandler('markTextSelectionChanged',H);}};this.wG=function(H){bm.addHandler('commentAdded',H);};this.EH=function(H){bm.removeHandler('commentAdded',H);};this.wv=function(H){bm.addHandler('commentRemoved',H);};this.Dq=function(H){bm.removeHandler('commentRemoved',H);};this.sj=function(H){bm.addHandler('commentChanged',H);};this.va=function(H){bm.removeHandler('commentChanged',H);};this.kJ=function(H){bm.addHandler('propertyChanged',H);};this.lP=function(H){bm.removeHandler('propertyChanged',H);};this.cQ=function(cg){var H=bm.getHandler('propertyChanged');if(H){H(this,new IPCC.nz(cg));}};this.kJ(function(T){T.YA(new Date());});return this;};LJ.prototype={toString:function(){switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:return 'Line Mark from '+this.pH().getPoint(0)+' to '+this.pH().getPoint(1);case IPCC.Web.UI.MarkType.Polyline:return 'Polyline Mark with '+this.pH().eN()+' vertices';case IPCC.Web.UI.MarkType.Rectangle:return 'Rectangle Mark at '+this.ca();case IPCC.Web.UI.MarkType.RectangleRedaction:return 'Rectangle Redaction Mark at '+this.ca();case IPCC.Web.UI.MarkType.Ellipse:return 'Ellipse Mark at '+this.ca();case IPCC.Web.UI.MarkType.Polygon:return 'Polygon Mark with '+this.pH().eN()+' vertices';case IPCC.Web.UI.MarkType.Text:return 'Text Mark, "'+this.bp+'", at '+this.ca();case IPCC.Web.UI.MarkType.Stamp:return 'Stamp Mark at '+this.ca();case IPCC.Web.UI.MarkType.Highlight:return 'Rectangle Mark at '+this.ca();case IPCC.Web.UI.MarkType.HighlightText:return 'Highlight Mark at '+this.ca();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Text Selection Redaction at '+this.ca();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Text Hyperlink Annotation at '+this.ca();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Document Hyperlink at '+this.ca();case IPCC.Web.UI.MarkType.SignaturePath:return 'Signature Path Mark, "'+this.tX+'", at '+this.ca();case IPCC.Web.UI.MarkType.Freehand:return 'Freehand Mark, "'+this.tX+'", at '+this.ca();case IPCC.Web.UI.MarkType.SignatureText:return 'Signature Text Mark at '+this.ca();case IPCC.Web.UI.MarkType.TextLine:return 'Text Line Mark at '+this.ca();case IPCC.Web.UI.MarkType.TextAreaSignature:return 'Text Area Signature Mark at '+this.ca();case IPCC.Web.UI.MarkType.ImageStampAnnotation:return 'ImageStamp Mark at '+this.ca();case IPCC.Web.UI.MarkType.ImageStampRedaction:return 'ImageStamp Redaction Mark at '+this.ca();case IPCC.Web.UI.MarkType.Strikethrough:return 'Strikethrough Mark at '+this.ca();}return 'Mark';},initializeDates:function(rD,rM){IPCC.aq.iu(rD,"dateCreated");IPCC.aq.iu(rM,"dateModified");this.aaS(rD);this.YA(rM);},get_dateCreated:function(){return this.ajV();},get_dateModified:function(){return this.akl();},kt:function(jQ,cg,kw,h){this.dU(jQ,cg);if(this[kw]!==h){this[kw]=h;this.cQ(cg);}},Gt:function(jQ,cg,kw,h){IPCC.aq.Um(h,cg);this.kt(jQ,cg,kw,h);},xp:function(jQ,cg,kw,h){IPCC.aq.hG(h,cg);this.kt(jQ,cg,kw,h);},Aq:function(jQ,cg,kw,h,yk,yx){IPCC.aq.kY(h,cg,yk,yx);this.kt(jQ,cg,kw,h);},YE:function(jQ,cg,kw,h,yk,yx){IPCC.aq.nb(h,cg,yk,yx);this.kt(jQ,cg,kw,h);},Bx:function(jQ,cg,kw,h){IPCC.aq.bx(h,cg,'string');this.kt(jQ,cg,kw,h);},tq:function(jQ,cg,kw,h,iq){IPCC.aq.iq(h,cg,iq);this.kt(jQ,cg,kw,h);},aBQ:function(jQ,cg,kw,h,iq){IPCC.aq.iq(h,cg,iq,true);this.kt(jQ,cg,kw,h);},aEz:function(jQ,cg,kw,h){IPCC.aq.bS(h,cg);this.kt(jQ,cg,kw,h);},get_artPage:function(){return this.ep();},get_boundingRectangle:function(){return this.akE();},get_selected:function(){var bk=this.ep();if(!bk){return false;}var fk=bk.zH();return fk.contains(this);},set_selected:function(value){var bk=this.ep();if(bk){if(this.mY!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled|| !value){var fk=bk.zH();if(value!==fk.contains(this)){if(value){fk.LE(this);}else{fk.ur(this);}this.cQ('selected');}}}else{if(value){throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be selected unless it is associated with an ArtPage.');}}},get_calloutLineColor:function(){this.dU(32,'calloutLineColor');return this.Bw;},set_calloutLineColor:function(value){this.Gt(32,'calloutLineColor','Bw',value);},get_calloutLineIsDistinct:function(){this.dU(32,'calloutLineIsDistinct');return this.xv;},set_calloutLineIsDistinct:function(value){this.kt(32,'calloutLineIsDistinct','xv',value);},get_calloutLineStyle:function(){this.dU(32,'calloutLineStyle');return this.rg;},set_calloutLineStyle:function(value){this.tq(32,'calloutLineStyle','rg',value,IPCC.Web.UI.LineStyle);},get_calloutLineWidth:function(){this.dU(32,'calloutLineWidth');return this.AZ;},set_calloutLineWidth:function(value){this.Aq(32,'calloutLineWidth','AZ',value,0,50);},get_calloutPoint:function(){this.dU(32,'calloutPoint');return this.nc;},set_calloutPoint:function(value){this.aEz(32,'calloutPoint','nc',value);},get_calloutType:function(){this.dU(32,'calloutType');return this.CB;},set_calloutType:function(value){this.tq(32,'calloutType','CB',value,IPCC.Web.UI.CalloutType);},get_calloutVisible:function(){this.dU(32,'calloutVisible');return this.yd;},set_calloutVisible:function(value){if(!this.yd&&value&&this.jc()===IPCC.Web.UI.MarkType.Text){if(this.nc.x===0&&this.nc.y===0){var C=this.ca();this.set_calloutPoint({x:C.width,y:C.height*1.5});}}this.kt(32,'calloutVisible','yd',value);},get_endHeadAngle:function(){this.dU(3,'endHeadAngle');return this.Jb;},set_endHeadAngle:function(value){this.Aq(3,'endHeadAngle','Jb',value,0,180);},get_endHeadLength:function(){this.dU(3,'endHeadLength');return this.JO;},set_endHeadLength:function(value){this.Aq(3,'endHeadLength','JO',value,0,100);},get_endHeadType:function(){this.dU(3,'endHeadType');return this.mW;},set_endHeadType:function(value){this.tq(3,'endHeadType','mW',value,IPCC.Web.UI.LineHeadType);},get_href:function(){this.dU(1<<14|1<<15,'href');return this.mr;},set_href:function(value){this.Bx(1<<14|1<<15,'href','mr',value);},has_unsafe_href:function(){return(! !this.mr&&IPCC.V.akc(this.mr));},get_mask:function(){this.dU(65536,'mask');return this.jn;},set_mask:function(value){this.kt(65536,'mask','jn',value);},get_borderType:function(){this.dU(32768,'borderType');return this.PF;},set_borderType:function(value){this.Bx(32768,'borderType','PF',value);},get_borderHorizontalRadius:function(){this.dU(32768,'borderHorizontalRadius');return this.HH;},set_borderHorizontalRadius:function(value){this.xp(32768,'borderHorizontalRadius','HH',value);},get_borderVerticalRadius:function(){this.dU(1<<15,'borderVerticalRadius');return this.FE;},set_borderVerticalRadius:function(value){this.xp(32768,'borderVerticalRadius','FE',value);},get_borderOpacity:function(){this.dU(32768,'ro');return this.ro;},set_borderOpacity:function(value){this.YE(32768,'ro','ro',value,0,255);},get_borderPattern:function(){this.dU(32768,'Bp');return this.Bp;},set_borderPattern:function(value){this.kt(32768,'Bp','Bp',value,0,255);},get_fillColor:function(){this.dU(16380+(1<<14),'fillColor');return this.dJ;},set_fillColor:function(value){this.Gt(16380+(1<<14),'fillColor','dJ',value);},get_fillVisible:function(){this.dU(16380,'fillVisible');return this.Hn;},set_fillVisible:function(value){this.kt(16380,'fillVisible','Hn',value);},get_fontName:function(){this.dU(6176+8192+65536+(1<<18),'fontName');return this.gI;},set_fontName:function(value){this.Bx(6176+8192+65536+(1<<18),'fontName','gI',value);if(this.jc()===IPCC.Web.UI.MarkType.SignatureText||this.jc()===IPCC.Web.UI.MarkType.TextLine){var bI=(this.jc()===IPCC.Web.UI.MarkType.TextLine)?{ud:'pre'}:{};var jo=IPCC.V.tG(this.bp,this.gI,bI);this.Ag=jo.width;this.zK=jo.height;}if(this.jc()===IPCC.Web.UI.MarkType.TextLine){this.FM=false;}},get_fontSize:function(){this.dU(32+2048+4096+8192,'fontSize');return this.dh;},set_fontSize:function(value){this.Aq(32+2048+4096+8192,'fontSize','dh',value,0.1,288);},get_fontStyle:function(){this.dU(6176+(1<<18),'fontStyle');return this.cJ;},set_fontStyle:function(value){this.aBQ(6176+(1<<18),'fontStyle','cJ',value,IPCC.Web.UI.FontStyle);},get_headFillColor:function(){this.dU(3,'headFillColor');return this.Ar;},set_headFillColor:function(value){this.Gt(3,'headFillColor','Ar',value);},get_interactionMode:function(){this.dU(~0,'interactionMode');return this.mY;},set_interactionMode:function(value){this.tq(~0,'interactionMode','mY',value,IPCC.Web.UI.MarkInteractionMode);if(value===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){this.set_selected(false);}},get_maxLength:function(){this.dU(32+65536+(1<<18),'maxLength');return this.hf;},set_maxLength:function(value){this.xp(32+65536+(1<<18),'maxLength','hf',value);},get_maxFontSize:function(){this.dU(1<<18,'maxFontSize');return this.hN;},set_maxFontSize:function(value){this.xp(1<<18,'maxFontSize','hN',value);},get_isClosed:function(){this.dU(2,'isClosed');return this.rw;},set_isClosed:function(value){this.kt(2,'isClosed','rw',value);},get_lineColor:function(){return this.kS;},set_lineColor:function(value){this.Gt(13567+32768+(1<<17),'lineColor','kS',value);},get_lineStyle:function(){return this.iM;},set_lineStyle:function(value){this.tq(63+32768,'lineStyle','iM',value,IPCC.Web.UI.LineStyle);},get_lineWidth:function(){return this.eC;},set_lineWidth:function(value){this.Aq(13567+32768+(1<<17),'lineWidth','eC',value,0,50);},get_lineVisible:function(){this.dU(172+65536,'lineVisible');return this.jF;},set_lineVisible:function(value){this.kt(172+65536,'lineVisible','jF',value);},get_opacity:function(){return this.di;},set_opacity:function(value){this.YE(895+2048+1024,'opacity','di',value,0,255);},get_points:function(){this.dU(19,'points');return this.pH();},get_conversation:function(){return this.auv();},get_data:function(){return this.wC();},get_image:function(){this.dU(16384,'image');return this.cU();},set_image:function(value){this.dU(16384,'image');this.zN(value);},get_rectangle:function(){this.dU((1<<18)+(1<<17)+65536+32768+16384+8192+4096+2048+1024+512+256+128+64+32+8+4,'rectangle');return this.ca();},set_rectangle:function(value){this.dU((1<<18)+(1<<17)+65536+32768+16384+8192+4096+2048+1024+512+256+128+64+32+8+4,'rectangle');IPCC.aq.C(value,'rectangle');this.Cy(value);if(this.jc()===IPCC.Web.UI.MarkType.TextLine){this.FM=false;}},get_startHeadAngle:function(){this.dU(3,'startHeadAngle');return this.Fi;},set_startHeadAngle:function(value){this.Aq(3,'startHeadAngle','Fi',value,0,180);},get_startHeadLength:function(){this.dU(3,'startHeadLength');return this.GJ;},set_startHeadLength:function(value){this.Aq(3,'startHeadLength','GJ',value,0,100);},get_startHeadType:function(){this.dU(3,'startHeadType');return this.GT;},set_startHeadType:function(value){this.tq(3,'startHeadType','GT',value,IPCC.Web.UI.LineHeadType);},get_text:function(){this.dU(14496+65536+(1<<17)+(1<<18),'text');return this.bp;},set_text:function(value){if(this.bp===value){return;}this.Bx(14496+65536+(1<<17)+(1<<18),'text','bp',value);if(this.jc()===IPCC.Web.UI.MarkType.SignatureText||this.jc()===IPCC.Web.UI.MarkType.TextLine){var bI=(this.jc()===IPCC.Web.UI.MarkType.TextLine)?{ud:'pre'}:{};var jo=IPCC.V.tG(this.bp,this.gI,bI);this.Ag=jo.width;this.zK=jo.height;}if(this.fG){while(this.fG.length>0){this.fG.pop();}}},get_textHorizontalAlignment:function(){this.dU(32+1024+2048+65536+(1<<18),'textHorizontalAlignment');return this.iv;},set_textHorizontalAlignment:function(value){this.tq(32+1024+2048+65536+(1<<18),'textHorizontalAlignment','iv',value,IPCC.Web.UI.HorizontalAlignment);},get_textVerticalAlignment:function(){this.dU(32,'textVerticalAlignment');return this.vq;},set_textVerticalAlignment:function(value){this.tq(32,'textVerticalAlignment','vq',value,IPCC.Web.UI.VerticalAlignment);},get_textColor:function(){this.dU(6176+65536+(1<<18),'textColor');return this.rk;},set_textColor:function(value){this.Gt(6176+65536+(1<<18),'textColor','rk',value);},get_textOpacity:function(){this.dU(32,'textOpacity');return this.yI;},set_textOpacity:function(value){this.YE(32,'textOpacity','yI',value,0,255);},get_textOrientation:function(){this.dU(32,'textOrientation');return this.yK;},set_textOrientation:function(value){this.tq(32,'textOrientation','yK',value,IPCC.Web.UI.Orientation);},get_type:function(){return this.jc();},get_visible:function(){return this.cV;},set_visible:function(value){this.kt((1<<17)+65536+32768+16384+8192+4096+2048+1024+512+256+128+64+63,'visible','cV',value);},get_markID:function(){return this.jJ();},get_pathString:function(){return this.tX;},set_pathString:function(value){var tX=this.get_pathString();if(tX!==value){this.ajq=true;}this.Bx(1088,'pathString','tX',value);},get_pathWidth:function(){return this.RE;},set_pathWidth:function(value){this.xp(1088,'pathWidth','RE',value);},get_pathHeight:function(){return this.SQ;},set_pathHeight:function(value){this.xp(1088,'pathHeight','SQ',value);},get_startIndex:function(){this.dU((1<<17)+(1<<14)+8192+512,'startIndex');return this.bL;},set_startIndex:function(value){this.xp((1<<17)+(1<<14)+8192+512,'startIndex','bL',value);},get_textLength:function(){this.dU((1<<17)+(1<<14)+8192+512,'textLength');return this.cr;},set_textLength:function(value){this.xp((1<<17)+(1<<14)+8192+512,'textLength','cr',value);},add_propertyChanged:function(handler){this.kJ(handler);},remove_propertyChanged:function(handler){this.lP(handler);},add_markTextSelectionChanged:function(handler){this.HZ(handler);},remove_markTextSelectionChanged:function(handler){this.Hc(handler);},move:function(deltaX,deltaY){IPCC.aq.hG(deltaX,'deltaX');IPCC.aq.hG(deltaY,'deltaY');this.JG(deltaX,deltaY);},moveBackward:function(){if(this.ep()){var index=this.ep().oc(this);var cz=this.ep().akp();if(index>cz){this.ep().reorderMark(this,index-1);}}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveForward:function(){if(this.ep()){var index=this.ep().oc(this);if(index<this.ep().aaH()-1){this.ep().reorderMark(this,index+1);}}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveToBack:function(){if(this.ep()){var cz=0;cz=this.ep().akp();this.ep().reorderMark(this,cz);}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveToFront:function(){if(this.ep()){this.ep().reorderMark(this,this.ep().aaH()-1);}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},removeFromPage:function(){if(this.ep()){this.ep().removeMark(this);}},selectText:function(textRanges){this.YS(textRanges);},aCS:function(){var dY={};var J=this;var bF,XS,bS,C,L;function dp(cg,ME){dY[ME]=J[cg];};var kO=false;var jq=false;var wr=false;switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:kO=true;wr=true;dY.__type='LineMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Polyline:kO=true;wr=true;dY.__type='PolyLineMark:#IPCC.Web';dp('rw','ic');break;case IPCC.Web.UI.MarkType.Rectangle:jq=true;dY.__type='RectangleMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.RectangleRedaction:jq=true;dY.__type='RectangleRedactionMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Ellipse:jq=true;dY.__type='EllipseMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Polygon:wr=true;dY.__type='PolygonMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Text:jq=true;dY.__type='TextMark:#IPCC.Web';dp('Bw','clc');dp('xv','clid');dp('rg','cls');dp('AZ','clw');dp('CB','ct');dp('yd','cv');dp('gI','fn');dp('dh','fs');dp('cJ','fst');dp('iM','ls');dp('bp','te');dp('iv','tha');dp('vq','tva');dp('rk','tc');dp('yI','to');dp('yK','tor');bS=this.nc;if(bS.x!==0||bS.y!==0){dY.cp={x:bS.x,y:bS.y};}break;case IPCC.Web.UI.MarkType.Stamp:jq=true;dY.__type='StampMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:jq=true;dY.__type='HighlightText:#IPCC.Web';break;}if(kO){dp('Jb','eha');dp('JO','ehl');dp('mW','eht');dp('Ar','hfc');dp('Fi','sha');dp('GJ','shl');dp('GT','sht');}else{dp('dJ','fc');dp('Hn','fv');dp('jF','lv');}if(jq){C=this.get_rectangle();dY.r={x:C.x,y:C.y,width:C.width,height:C.height};}dY.t=this.get_type();dp('kS','lc');dp('iM','ls');dp('eC','lw');dp('di','o');dp('cV','v');if(wr){bF=this.pH();XS=[];for(L=0;L<bF.get_length();L++){bS=bF.getPoint(L);XS.push({x:bS.x,y:bS.y});}dY.p=XS;}return dY;},aEF:function(dY){var J=this;var bF,L;function dp(cg,ME){if(dY.hasOwnProperty(ME)){J[cg]=dY[ME];}};var kO=false;var jq=false;var wr=false;switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:kO=true;if(dY.p&&dY.p.length===2){bF=this.pH();bF.setPoint(0,new IPCC.Web.UI.Point(dY.p[0].x,dY.p[0].y));bF.setPoint(1,new IPCC.Web.UI.Point(dY.p[1].x,dY.p[1].y));}break;case IPCC.Web.UI.MarkType.Polyline:kO=true;wr=true;dp('rw','ic');break;case IPCC.Web.UI.MarkType.Rectangle:jq=true;break;case IPCC.Web.UI.MarkType.RectangleRedaction:jq=true;break;case IPCC.Web.UI.MarkType.Ellipse:jq=true;break;case IPCC.Web.UI.MarkType.Polygon:wr=true;break;case IPCC.Web.UI.MarkType.Text:jq=true;dp('Bw','clc');dp('xv','clid');dp('rg','cls');dp('AZ','clw');dp('CB','ct');dp('yd','cv');dp('gI','fn');dp('dh','fs');dp('cJ','fst');dp('iM','ls');dp('bp','te');dp('iv','tha');dp('vq','tva');dp('rk','tc');dp('yI','to');dp('yK','tor');if(dY.cp){this.nc=new IPCC.Web.UI.Point(dY.cp.x,dY.cp.y);}break;case IPCC.Web.UI.MarkType.Stamp:jq=true;break;case IPCC.web.UI.MarkType.Highlight:case IPCC.web.UI.MarkType.HighlightText:case IPCC.web.UI.MarkType.Strikethrough:jq=true;break;}if(kO){dp('Jb','eha');dp('JO','ehl');dp('mW','eht');dp('Ar','hfc');dp('Fi','sha');dp('GJ','shl');dp('GT','sht');}else{dp('dJ','fc');dp('Hn','fv');dp('jF','lv');}if(jq){if(dY.r){this.set_rectangle(new IPCC.Web.UI.Rectangle(dY.r.x,dY.r.y,dY.r.width,dY.r.height));}}dY.t=this.get_type();dp('kS','lc');dp('iM','ls');dp('eC','lw');dp('di','o');dp('cV','v');if(dY.p&&wr){bF=this.pH();for(L=0;L<dY.p.length;L++){bF.addPoint(new IPCC.Web.UI.Point(dY.p[L].x,dY.p[L].y));}}return dY;}};LJ.registerClass=cd;LJ.registerClass('IPCC.Web.UI.Mark');module.exports=LJ;},{"../../IPCC.Util":28}],104:[function(require,module,exports){var cd=require('../../IPCC.Util').regClass;var LU=function(){var bq=[];var bm=new IPCC.Web.UI.gp();this.LE=function(T){if(this.GV(T)=== -1){bq.push(T);var G=new IPCC.Web.UI.MarkEventArgs();G.mark=T;this.bH('markAdded',G);}};this.avs=function(zO){var G=new IPCC.Web.UI.MarkEventArgs();G.length=zO.get_length();var J=this;function lm(T){if(J.GV(T)=== -1){bq.push(T);}};zO.forEach(lm,{});if(G.length>0){this.bH('markAdded',G);}};this.lj=function(ji,cc){var HF=[].concat(bq);var L;for(L=0;L<HF.length;L++){ji.call(cc,HF[L],L,this);}};this.eN=function(){return bq.length;};this.ur=function(T){var L=this.GV(T);if(L> -1){bq.splice(L,1);var G=new IPCC.Web.UI.MarkEventArgs();G.mark=T;this.bH('markRemoved',G);}};this.GV=function(T){var L;for(L=0;L<bq.length;L++){if(bq[L]===T){return L;}}return-1;};this.yZ=function(H){bm.addHandler('markAdded',H);};this.xJ=function(H){bm.removeHandler('markAdded',H);};this.zV=function(H){bm.addHandler('markRemoved',H);};this.zr=function(H){bm.removeHandler('markRemoved',H);};this.bH=function(cZ,G){var H=bm.getHandler(cZ);if(H!==null){H(this,G);}};return this;};LU.prototype={toString:function(){return 'MarkCollection with '+this.get_length()+' marks';},addMark:function(mark){this.LE(mark);},addMarks:function(markCollection){this.avs(markCollection);},forEach:function(method,context){this.lj(method,context);},get_length:function(){return this.eN();},contains:function(mark){return this.GV(mark)> -1;},removeMark:function(mark){this.ur(mark);},removeAllMarks:function(){this.lj(function(T,aV,zO){zO.ur(T);});},add_markAdded:function(handler){this.yZ(handler);},remove_markAdded:function(handler){this.xJ(handler);},add_markRemoved:function(handler){this.zV(handler);},remove_markRemoved:function(handler){this.zr(handler);}};LU.registerClass=cd;LU.registerClass('IPCC.Web.UI.MarkCollection');module.exports=LU;},{"../../IPCC.Util":28}],105:[function(require,module,exports){var cd=require('../../IPCC.Util').regClass;var KE=function(){return this;};KE.registerClass=cd;KE.prototype={};KE.registerClass('IPCC.Web.UI.MarkEventArgs');module.exports=KE;},{"../../IPCC.Util":28}],106:[function(require,module,exports){var dV=require('../../IPCC.Util').regEnum;var EE=function(){};EE.registerEnum=dV;EE.prototype={HideSideHandlesWhenClose:0,HideCornerHandlesWhenClose:1};EE.registerEnum('IPCC.Web.UI.MarkHandleMode',false);module.exports=EE;},{"../../IPCC.Util":28}],107:[function(require,module,exports){var dV=require('../../IPCC.Util').regEnum;var KS=function(){};KS.registerEnum=dV;KS.prototype={Full:0,SelectionDisabled:1};KS.registerEnum('IPCC.Web.UI.MarkInteractionMode',false);module.exports=KS;},{"../../IPCC.Util":28}],108:[function(require,module,exports){var dV=require('../../IPCC.Util').regEnum;var Mc=function(){};Mc.registerEnum=dV;Mc.prototype={Line:3,Polyline:502,Rectangle:600,Ellipse:601,Polygon:604,Text:605,Highlight:606,Stamp:607,HighlightText:608,SignaturePath:609,Freehand:610,SignatureText:611,SignatureImage:612,RectangleRedaction:613,TextSelectionRedaction:614,ImageStampAnnotation:615,ImageStampRedaction:616,TextHyperlinkAnnotation:617,DocumentHyperlink:618,TextLine:619,Strikethrough:620,TextAreaSignature:621};Mc.registerEnum('IPCC.Web.UI.MarkType',false);module.exports=Mc;},{"../../IPCC.Util":28}],109:[function(require,module,exports){var dV=require('./../../IPCC.Util').regEnum;var TS=function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}throw new IPCC.Web.UI.ImGearNotImplementedException();};TS.registerEnum=dV;TS.prototype={leftButton:0,middleButton:1,rightButton:2};TS.registerEnum("IPCC.Web.UI.MouseButton");},{"./../../IPCC.Util":28}],110:[function(require,module,exports){var cd=require('../../IPCC.Util').regClass;var Mk=function(){var ait=false;this.aAe=function(){ait=true;};this.ahT=function(){return ait;};return this;};Mk.prototype={preventDefault:function(){this.aAe();}};Mk.registerClass=cd;Mk.registerClass('IPCC.Web.UI.MouseEventArgs');module.exports=Mk;},{"../../IPCC.Util":28}],111:[function(require,module,exports){var dV=require('../../IPCC.Util').regEnum;var Me=function(){};Me.registerEnum=dV;Me.prototype={None:0,Magnifier:1,RectangleZoom:2,HandPan:3,Select:4,CreateRectangleMark:5,CreateEllipseMark:6,CreateLineMark:7,CreatePolylineMark:8,CreateFreehandMark:9,CreatePolygonMark:10,CreateTextMark:11,EditMarks:12,RunMarks:13,SelectText:14,CreateStampMark:15,CreateHighlightTextMark:16,CreateTextSelectionRedaction:17,CreateRectangleRedactionMark:18,CreateImageStampAnnotationMark:19,CreateImageStampRedactionMark:20,CreateTextHyperlinkMark:21,CreateTextInputSignatureMark:22,CreateStrikethroughMark:23,CreateTextAreaSignatureMark:24};Me.registerEnum('IPCC.Web.UI.MouseTool',false);module.exports=Me;},{"../../IPCC.Util":28}],112:[function(require,module,exports){var dV=require('../../IPCC.Util').regEnum;var MC=function(){};MC.registerEnum=dV;MC.prototype={TopLeft:1,TopRight:2,BottomRight:3,BottomLeft:4,LeftTop:5,RightTop:6,RightBottom:7,LeftBottom:8};MC.registerEnum('IPCC.Web.UI.Orientation',false);module.exports=MC;},{"../../IPCC.Util":28}],113:[function(require,module,exports){var amR=function(element,qj,Qq){var gu=this;var bn;var F;var xu=0;var Rn='';var KL=false;var bm=new IPCC.Web.UI.gp();var ea=null;var pN=IPCC.pN;var ams=IPCC.pN;var GF=0.0;var Ir=false;var NI=0;var afF= -1;var afq= -1;var acQ= -1;function mi(IA){if(!F){return false;}return F.mi(IA);};this.bG=function(hQ,hZ){if(mi(IPCC.Web.UI.DebugErrorLevel.Production)){F.bG(hQ,hZ);}};this.bu=function(hQ,jZ,rS){if(!mi(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var dv=hQ+'(';var L;for(L=0;L<jZ.length;L++){if(L>0){dv+=', ';}dv+=IPCC.jg.qd(jZ[L],(rS?rS:0));}dv+=')';this.tA(dv,IPCC.Web.UI.DebugErrorLevel.Development);};this.BW=function(hQ,jZ,nB,rS){if(!mi(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var dv=hQ+'(';var L;for(L=0;L<jZ.length;L++){if(L>0){dv+=', ';}dv+=IPCC.jg.qd(jZ[L],(rS?rS:0));}dv+=') = ';dv+=IPCC.jg.qd(nB,1);this.tA(dv,IPCC.Web.UI.DebugErrorLevel.Development);};this.cK=function(hQ,jZ,nB){if(!mi(IPCC.Web.UI.DebugErrorLevel.Detailed)){return;}var dv=hQ+'(';var L;for(L=0;L<jZ.length;L++){if(L>0){dv+=', ';}dv+=IPCC.jg.qd(jZ[L],0);}dv+=') = ';dv+=IPCC.jg.qd(nB,1);this.tA(dv,IPCC.Web.UI.DebugErrorLevel.Detailed);};this.tA=function(jW,bv){if(F){F.lO(jW,IPCC.Web.UI.DebugItemCause.FunctionCall,bv);}};this.lO=function(jW){if(F){F.lO(jW,IPCC.Web.UI.DebugItemCause.Custom,IPCC.Web.UI.DebugErrorLevel.Production);}};this.Ka=function(){return F.get_debug();};this.YQ=function(h){F.set_debug(h);};this.AL=function(){return F.AL();};this.KB=function(h){IPCC.aq.iq(h,'value',IPCC.Web.UI.DebugErrorLevel);F.KB(h);};this.aHZ=function(h){Ir=h;};this.aFc=function(){return Ir;};var or=function(){if(F.cU()===undefined){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot perform this operation unless an image is open (and it has completed the opening process).');}};function cW(cZ,H){bm.addHandler(cZ,H);};function dg(cZ,H){bm.removeHandler(cZ,H);};this.GW=function(io,cC){F.azn(io,cC);};this.aAD=function(cC,T){F.vQ(T);F.cF();};this.TG=function(H){cW('pageOpening',H);};this.Sr=function(H){dg('pageOpening',H);};this.SS=function(H){cW('pageOpened',H);};this.Uc=function(H){dg('pageOpened',H);};this.ayC=function(H){cW('pageClosed',H);};this.aym=function(H){dg('pageClosed',H);};this.Jm=function(H){cW('pageOpenFailed',H);};this.IR=function(H){dg('pageOpenFailed',H);};this.ST=function(H){cW('pageDisplayed',H);};this.SG=function(H){dg('pageDisplayed',H);};this.LZ=function(H){cW('mouseDown',H);};this.SR=function(H){dg('mouseDown',H);};this.Lm=function(H){cW('mouseMove',H);};this.SF=function(H){dg('mouseMove',H);};this.LC=function(H){cW('mouseUp',H);};this.Sn=function(H){dg('mouseUp',H);};this.avS=function(H){cW('contextMenu',H);};this.axV=function(H){dg('contextMenu',H);};this.yZ=function(H){cW('markAdded',H);};this.xJ=function(H){dg('markAdded',H);};this.Tk=function(H){cW('markCreating',H);};this.SB=function(H){dg('markCreating',H);};this.Ky=function(H){cW('markChanged',H);};this.HL=function(H){dg('markChanged',H);};this.zV=function(H){cW('markRemoved',H);};this.zr=function(H){dg('markRemoved',H);};this.Kw=function(H){cW('markReordered',H);};this.GR=function(H){dg('markReordered',H);};this.TE=function(H){cW('marksLoaded',H);};this.SO=function(H){dg('marksLoaded',H);};this.GU=function(H){cW('markSelectionChanged',H);};this.HI=function(H){dg('markSelectionChanged',H);};this.yO=function(H){cW('textPageReady',H);};this.DR=function(H){dg('textPageReady',H);};this.Wq=function(H){cW('selectTextMouseToolCompleted',H);};this.Sq=function(H){dg('selectTextMouseToolCompleted',H);};this.Qv=function(H){cW('exceptionThrown',H);};this.SN=function(H){cW('scaleChanged',H);};this.TN=function(H){dg('scaleChanged',H);};this.TF=function(H){dg('exceptionThrown',H);};this.yj=function(H){cW('textExtractionFailed',H);};this.Db=function(H){dg('textExtractionFailed',H);};this.kJ=function(H){cW('propertyChanged',H);};this.lP=function(H){dg('propertyChanged',H);};var bH=function(cZ,G){try{var H;H=bm.getHandler(cZ);if(H){H(gu,G);}}catch(e){gu.bG(cZ+'Event',e);}};var oa=function(cZ){function xZ(ax,G){bH(cZ,G);};F['add_'+cZ](xZ);};var JM=function(cZ){function xZ(ax,G){if(KL&&F.Qo()){CX();}bH(cZ,G);};F['add_'+cZ](xZ);};function CX(){var ek,oG,ZD;if(Rn!==''){ZD=document.getElementById(Rn);if(ZD){ek=gu.Qf();oG='{encodedDocumentIdentifier:"'+ek.encodedDocumentIdentifier;oG+='",pageNumber:'+ek.pageNumber.toString();oG+=',viewFitType:'+ek.viewFitType.toString();if(ek.viewRectangle&&ek.viewFitType===IPCC.Web.UI.FitType.Rectangle){oG+=',viewRectangle:{x:'+ek.viewRectangle.x.toFixed(5);oG+=',y:'+ek.viewRectangle.y.toFixed(5);oG+=',width:'+ek.viewRectangle.width.toFixed(5);oG+=',height:'+ek.viewRectangle.height.toFixed(5);oG+='}';}if(ek.viewRotationDegreesClockwise){oG+=',viewRotationDegreesClockwise:'+ek.viewRotationDegreesClockwise.toString();}if(ek.viewMirror){oG+=',viewMirror:'+ek.viewMirror.toString();}if(ek.viewZoomFactor){oG+=',viewZoomFactor:'+ek.viewZoomFactor.toString();}if(KL){var bk=F.ep();if(bk){oG+=',artPageJson:"'+IPCC.hz.rR(bk.saveToJson())+'"';}}oG+='}';ZD.value=oG;}}};var auw=function(){function xZ(ax,G){var YD=true;switch(G.get_propertyName()){case 'documentIdentifier':case 'pageNumber':case 'artPage':case 'includeArtInPostBack':case 'displayedPageRectangle':CX();break;case 'magnifierWindowPosition':case 'magnifierIsVisible':case 'cursor':case 'markCursor':case 'inProgressMark':case 'Kk':case 'wd':YD=false;break;case 'Jl':if(F.Qo()){CX();}YD=false;break;}if(YD){bH('propertyChanged',G);}};F.kJ(xZ);};this.TO=function(bx){IPCC.aq.iq(bx,'type',IPCC.Web.UI.FitType);if(bx===IPCC.Web.UI.FitType.Rectangle){throw new IPCC.Web.UI.ImGearArgumentException('type','The value must be a member of the IPCC.Web.UI.FitType enumeration (other than Rectangle).');}or();ea={axS:true,viewFitType:bx};Vv();};this.fv=function(){return F.cU()!==undefined;};this.ki=function(){or();return F.cU().width;};this.iy=function(){or();return F.cU().height;};this.arm=function(){or();return F.cU().hC;};this.aqV=function(){return F.bw().fC().ahY();};this.arj=function(){or();return F.cU().fO;};this.Is=function(){if(!F|| !(F.cU())){return '';}return F.cU().get_identifier();};this.Qg=function(){if(!F|| !(F.cU())){return '';}return F.cU().get_encodedIdentifier();};this.oZ=function(){if(!F|| !(F.cU())){return-1;}return F.cU().aP;};this.aob=function(){if(!F|| !(F.cU())){return 0;}return F.cU().fN;};this.alk=function(){var ar=F.cU();if(!ar){return new IPCC.Web.UI.Rectangle(0,0,0,0);}var af=F.eG();af.x=af.y=0;var pW=F.bw().fC();pW.vT();var cO=pW.yA(af);if(cO.x<0){cO.width+=cO.x;cO.x=0;}if(cO.y<0){cO.height+=cO.y;cO.y=0;}if(cO.x+cO.width>ar.width){cO.width=ar.width-cO.x;}if(cO.y+cO.height>ar.height){cO.height=ar.height-cO.y;}return cO;};function PE(){var bX={},cY=F.bw().fC();bX.documentIdentifier=gu.Is();bX.encodedDocumentIdentifier=gu.Qg();bX.pageNumber=gu.oZ();bX.artPage=gu.ep();bX.referenceDocumentIdentifier=gu.Is();bX.referencePageNumber=gu.oZ();bX.viewFitType=IPCC.Web.UI.FitType.Rectangle;bX.viewRectangle=gu.alk();bX.imGearPage=gu.mD();bX.transientArtPage=gu.mu();var eQ=cY.ahY();if(eQ!==0){bX.viewRotationDegreesClockwise=eQ;}if(cY.aof()){bX.viewMirror=true;}return bX;};this.aiE=function(bL,da){F.aiE(bL,da);};this.Qf=function(){var bX;if(bn){bX=new IPCC.Web.UI.PageViewState();bX.documentIdentifier=bn.documentIdentifier;bX.encodedDocumentIdentifier=bn.encodedDocumentIdentifier;bX.pageNumber=bn.pageNumber;bX.artPage=bn.artPage;bX.artPageJson=bn.artPageJson;bX.referenceDocumentIdentifier=bn.documentIdentifier;bX.referencePageNumber=bn.pageNumber;bX.viewFitType=bn.viewFitType;bX.viewRectangle=bn.viewRectangle;bX.viewRotationDegreesClockwise=bn.viewRotationDegreesClockwise;bX.viewMirror=bn.viewMirror;bX.viewZoomFactor=bn.viewZoomFactor;bX.transientArtPage=bn.transientArtPage;}else{bX=PE();}return bX;};this.Sf=function(bb){var af=F.eG();this.aaz(bb,{x:af.width/2,y:af.height/2});};this.aaz=function(bb,cn){IPCC.aq.kY(bb,'factor',1.01,20);IPCC.aq.bS(cn,'point');or();var aj=F.bw();var bh=aj.fC();var aa=F.cU();var jV=bh.qt();if(jV*bb>aa.qw){bb=aa.qw/jV;}bh.wg(bb,bb,cn.x,cn.y);bh.iE(aa,F.eG());ea=null;aj.it(bh);};this.SP=function(bb){var af=F.eG();this.adj(bb,{x:af.width/2,y:af.height/2});};this.adj=function(bb,cn){IPCC.aq.kY(bb,'factor',1.01,20);IPCC.aq.bS(cn,'point');or();var aj=F.bw();var bh=aj.fC();var aa=F.cU();var jV=bh.qt();if(jV/bb<aa.sX){bb=jV/aa.sX;}bh.wg(1/bb,1/bb,cn.x,cn.y);bh.iE(aa,F.eG());ea=null;aj.it(bh);};this.iF=function(bb){var af=F.eG();this.aoS(bb,{x:af.width/2,y:af.height/2});};this.BJ=function(bb){var aj=F.bw();ea=null;aj.BJ(bb);};this.Bn=function(bb){var aj=F.bw();ea=null;aj.Bn(bb);};this.Ef=function(bb){var aj=F.bw();ea=null;aj.Ef(bb);};this.aoS=function(bb,cn){IPCC.aq.bS(cn,'point');or();var aj=F.bw();var bh=aj.fC();var aa=F.cU();var jV=bh.qt();if(bb>aa.qw){bb=aa.qw;}else if(bb<aa.sX){bb=aa.sX;}bh.wg(bb/jV,bb/jV,cn.x,cn.y);bh.iE(aa,F.eG());ea=null;aj.it(bh);};this.xd=function(sY){IPCC.aq.Wi(sY,'degreesClockwise',[90,180,270,-90,-180,-270]);or();var aj=F.bw();var bh=aj.fC();var af=F.eG();bh.aeL(sY,af.width/2,af.height/2);bh.iE(F.cU(),F.eG());ea=null;aj.it(bh);};this.aiz=function(){or();var aj=F.bw();var bh=aj.fC();var af=F.eG();bh.wg(-1,1,af.width/2,af.height/2);bh.iE(F.cU(),F.eG());ea=null;aj.it(bh);};this.aDx=function(cO){IPCC.aq.C(cO,'pageRectangle');or();var aj=F.bw();var bh=aj.fC();var af=F.eG();var aa=F.cU();bh.Ph(aa,af,cO);bh.iE(aa,F.eG());ea=null;aj.it(bh);};this.aEn=function(db){IPCC.aq.bS(db,'imagePoint');or();var aj=F.bw();var bh=aj.fC();var af=F.eG();bh.aep(af,db);bh.iE(F.cU(),F.eG());ea=null;aj.it(bh);};this.ahl=function(){or();ea=null;var aj=F.bw();var bh=aj.fC();var af=F.eG();bh.wg(1,-1,af.width/2,af.height/2);bh.iE(F.cU(),F.eG());ea=null;aj.it(bh);};this.cF=function(){F.cF();};this.Gl=function(){F.Gl();};var Vv=function(){var aa=F.cU();var af=F.eG();var bh;if(!ea){bh=F.bw().fC();bh.iE(aa,af);F.bw().it(bh);return;}if(ea.axS){bh=F.bw().fC();}else{bh=new IPCC.eo();bh.aEt(aa,af);if(ea.viewRotationDegreesClockwise){bh.rotate(ea.viewRotationDegreesClockwise);}if(ea.viewMirror){bh.asf(af);}}if(ea.viewZoomFactor){if(ea.viewZoomFactor>aa.qw){ea.viewZoomFactor=aa.qw;}else if(ea.viewZoomFactor<aa.sX){ea.viewZoomFactor=aa.sX;}ea.viewFitType=IPCC.Web.UI.FitType.ActualSize;bh.VN(ea.viewFitType,aa,af);bh.scale(ea.viewZoomFactor,ea.viewZoomFactor);}else{if(!ea.viewFitType&&ea.viewFitType!==0){ea.viewFitType=IPCC.Web.UI.FitType.FullImage;}if(ea.viewFitType===IPCC.Web.UI.FitType.Rectangle&& !ea.viewRectangle){ea.viewFitType=IPCC.Web.UI.FitType.FullImage;}if(ea.viewFitType!==IPCC.Web.UI.FitType.Rectangle){bh.VN(ea.viewFitType,aa,af);}else{bh.Ph(aa,af,ea.viewRectangle);}}bh.iE(aa,af);F.bw().it(bh);};var akK=function(IV){ea=IV;NI=0;Vv();};this.Nh=function(aI){xu++;var Yk=xu;var aCO={};GF=0.0;F.Ny=0.0;IPCC.hz.ajn(aI);if(mi(IPCC.Web.UI.DebugErrorLevel.Development)){var dv='opening documentIdentifier "'+aI.documentIdentifier+'", pageNumber '+aI.pageNumber;this.tA(dv,IPCC.Web.UI.DebugErrorLevel.Development);}bn=new IPCC.Web.UI.PageViewState();var L;for(L in aI){if(aI.hasOwnProperty(L)){bn[L]=aI[L];}}if(aI.documentIdentifier===''){this.MP();return;}if(IPCC.Web.UI.ArtPage){if(bn){if(!bn.artPage){var bk=new IPCC.Web.UI.ArtPage();if(bn.artPageJson){bk.loadFromJson(bn.artPageJson);}bn.artPage=bk;}if(!bn.documentArtPage){var eR=new IPCC.Web.UI.ArtPage();bn.documentArtPage=eR;}if(this.jN()===true){if(!bn.imGearPage){var gT=new IPCC.Web.UI.ImGearDocument({documentIdentifier:aI.documentIdentifier,imageServicePath:this.uv()});bn.imGearPage=new IPCC.Web.UI.ImGearPage({pageNumber:aI.pageNumber,bP:gT});gT.get_pages().addPage(bn.imGearPage);}if(!bn.transientArtPage){bn.transientArtPage=new IPCC.Web.UI.ArtPage();}}}}if(bn.viewRotationDegreesClockwise){IPCC.aq.Wi(bn.viewRotationDegreesClockwise,'parameters.viewRotationDegreesClockwise',[0,90,180,270,-90,-180,-270]);}if(bn.viewFitType){IPCC.aq.iq(bn.viewFitType,'parameters.viewFitType',IPCC.Web.UI.FitType);}if(bn.viewZoomFactor){IPCC.aq.kY(bn.viewZoomFactor,'parameters.viewZoomFactor',0,20);}bH('pageOpening',aI);var ar=new IPCC.hz(aI.encodedDocumentIdentifier,aI.pageNumber,0,0,0,0);var rd=function(){if(Yk!==xu){return;}var rG=null;if(F.cU()){rG=PE();}F.bw().oU();F.zN(ar);akK(bn);if(aI.artServiceOption===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(bn){if(bn.artPage){F.mZ(bn.artPage);F.ep().loadFromJson(ar.aEp);}}}else{if(bn){if(bn.artPage){F.mZ(bn.artPage);}if(bn.documentArtPage){F.GK(bn.documentArtPage);}if(F.jN()===true){if(bn.imGearPage){var SD=bn.imGearPage.get_pageWidth();var UE=bn.imGearPage.get_pageHeight();bn.imGearPage.np(gu.hS());if(!SD){bn.imGearPage.RI(gu.get_pageWidth());}if(!UE){bn.imGearPage.QQ(gu.get_pageHeight());}F.Bu(bn.imGearPage);if(typeof(F.mD().Bj==='function')){if(!F.mD().bY().vP()){bn.imGearPage.yE(gu.kN());setTimeout(F.mD().Bj,1000);}}}if(bn.transientArtPage){F.Ej(bn.transientArtPage);}}}}bn=null;if(rG){bH('pageClosed',rG);}CX();bH('pageOpened',aI);};if(aI.artServiceOption===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(bn){if(!bn.artPageJson){ar.aIn(F.uv(),F,rd,aCO);}else{ar.Vp(F.uv(),F,rd);}}}else{ar.Vp(F.uv(),F,rd);}};this.MP=function(){xu++;if(!(F.cU())){return;}var rG=PE();F.zN(undefined);F.mZ(undefined);F.Bu(undefined);F.Ej(undefined);this.cF();CX();rG=undefined;bn=undefined;ea=undefined;var dB;dB=gu.mJ();if(dB.igElements){if(dB.igElements.oy){dB.igElements.oy.yn=null;dB.igElements.oy.vH=null;dB.igElements.oy.Ju=null;dB.igElements.oy=null;}dB.igElements.Cv=null;dB.igElements.ez=null;dB.igElements.gC=null;dB.igElements.cD=null;dB.igElements.nm=null;dB.igElements.mz=null;dB.igElements.kV=null;dB.igElements.qh=null;dB.igElements.Ox=null;dB.igElements.abM=null;dB.igElements.qR=null;}gu=null;dB.aB=null;bH('pageClosed',rG);};this.aAV=function(aI){xu++;var Yk=xu;GF=0.0;F.Ny=0.0;IPCC.hz.ajn(aI);if(mi(IPCC.Web.UI.DebugErrorLevel.Development)){var dv='opening documentIdentifier "'+aI.documentIdentifier+'", pageNumber '+aI.pageNumber;this.tA(dv,IPCC.Web.UI.DebugErrorLevel.Development);}bn=new IPCC.Web.UI.PageViewState();var L;for(L in aI){if(aI.hasOwnProperty(L)){bn[L]=aI[L];}}if(aI.documentIdentifier===''){this.MP();return;}if(IPCC.Web.UI.ArtPage){if(bn){if(!bn.artPage){var bk=new IPCC.Web.UI.ArtPage();bn.artPage=bk;}if(!bn.documentArtPage){var eR=new IPCC.Web.UI.ArtPage();bn.documentArtPage=eR;}if(this.jN()===true){if(!bn.imGearPage){var gT=new IPCC.Web.UI.ImGearDocument({documentIdentifier:aI.documentIdentifier,imageServicePath:this.uv()});bn.imGearPage=new IPCC.Web.UI.ImGearPage({pageNumber:aI.pageNumber,bP:gT});gT.get_pages().addPage(bn.imGearPage);}if(!bn.transientArtPage){bn.transientArtPage=new IPCC.Web.UI.ArtPage();}}}}if(bn.viewRotationDegreesClockwise){IPCC.aq.Wi(bn.viewRotationDegreesClockwise,'parameters.viewRotationDegreesClockwise',[0,90,180,270,-90,-180,-270]);}if(bn.viewFitType){IPCC.aq.iq(bn.viewFitType,'parameters.viewFitType',IPCC.Web.UI.FitType);}if(bn.viewZoomFactor){IPCC.aq.kY(bn.viewZoomFactor,'parameters.viewZoomFactor',0,20);}bH('pageOpening',aI);var ar=new IPCC.hz(aI.encodedDocumentIdentifier,aI.pageNumber,0,0,0,0);var rd=function(){if(Yk!==xu){return;}var rG=null;if(F.cU()){rG=PE();}F.bw().oU();F.zN(ar);akK(bn);if(bn){if(bn.artPage){F.mZ(bn.artPage);}if(bn.documentArtPage){F.GK(bn.documentArtPage);}if(F.jN()===true){if(bn.imGearPage){var SD=bn.imGearPage.get_pageWidth();var UE=bn.imGearPage.get_pageHeight();bn.imGearPage.np(gu.hS());if(!SD){bn.imGearPage.RI(gu.get_pageWidth());}if(!UE){bn.imGearPage.QQ(gu.get_pageHeight());}F.Bu(bn.imGearPage);if(typeof(F.mD().Bj==='function')){if(!F.mD().bY().vP()){bn.imGearPage.yE(gu.kN());setTimeout(F.mD().Bj,1000);}}}if(bn.transientArtPage){F.Ej(bn.transientArtPage);}}}bn=null;if(rG){bH('pageClosed',rG);}CX();bH('pageOpened',aI);};ar.azA(F.uv(),F,rd);};this.aGC=function(){xu++;if(!(F.cU())){return;}var ar=F.cU();F.zN(undefined);this.cF();F.zN(ar);};this.XD=function(Dm){F.XD(Dm);};this.mZ=function(h){F.mZ(h);};this.ep=function(){return F.ep();};this.GK=function(h){F.GK(h);};this.OQ=function(){return F.OQ();};this.mu=function(){return F.mu();};this.Ej=function(h){F.Ej(h);};this.Bl=function(){return F.Bl();};this.aCv=function(h){F.aCv(h);};this.Iv=function(h){F.Iv(h);};this.us=function(){return F.us();};this.aDz=function(h){ams=this.apw(h);};this.ja=function(){return ams;};this.acw=function(h){F.acw(h);};this.Xr=function(){return F.Xr();};this.nY=function(){return F.nY();};this.qU=function(h){F.qU(h);};this.afb=function(h){F.afb(h);};this.aaG=function(){return F.aaG();};this.Yv=function(aAQ){F.Yv(aAQ);};this.aaN=function(){return F.aaN();};this.apw=function(bO){var aG='',Om='',XT=function(az){var rU=0,aG;for(aG in az){if(az.hasOwnProperty(aG)){rU+=1;}}return rU;};for(aG in pN){if(pN.hasOwnProperty(aG)){if(typeof bO[aG]==='undefined'){bO[aG]=pN[aG];}if(typeof bO[aG]==='object'){if(!XT(bO[aG])){bO[aG]=pN[aG];}else if(XT(bO[aG])!==XT(pN[aG])){for(Om in pN[aG]){if(typeof bO[aG][Om]==='undefined'){bO[aG][Om]=pN[aG][Om];}}}}}}return bO;};this.aDm=function(aEL){if(aEL===false){IPCC.hb=false;F.eK([new IPCC.lW(),new IPCC.ds(),new IPCC.dq(),new IPCC.cT(false)]);}else{IPCC.hb=true;IPCC.afA=this.ja();F.eK([new IPCC.lW(),new IPCC.ds(),new IPCC.fd(),new IPCC.dq(),new IPCC.cT(false)]);}};this.oU=function(){var aj=F.bw();if(!aj.Aj()){return;}F.bw().oU();};this.aEN=function(cO){IPCC.aq.C(cO,'pageRectangle');var ar=F.cU();if(ar){F.bw().showSelection(cO);}};this.Bv=function(db){IPCC.aq.bS(db,'imagePoint');if(F.cU()){F.bw().Bv(new IPCC.Web.UI.Point(db.x,db.y));}};this.xK=function(db){IPCC.aq.bS(db,'imagePoint');if(F.cU()){F.bw().xK(new IPCC.Web.UI.Point(db.x,db.y));}};this.vZ=function(){if(F.cU()&&F.bw().Aj()){return F.bw().vZ();}return new IPCC.Web.UI.Rectangle(0,0,0,0);};this.aqU=function(){if(F.cU()&&F.bw().Aj()){var cO=F.bw().vZ();return F.bw().fC().yA(cO);}return new IPCC.Web.UI.Rectangle(0,0,0,0);};this.Aj=function(){return! !(F.cU()&&F.bw().Aj());};this.uv=function(){return F.uv();};this.Zb=function(h){IPCC.aq.ng(h,'value');F.Zb(h);};this.auQ=function(){return Rn;};this.aCY=function(h){IPCC.aq.ng(h,'value');Rn=h;};this.aoI=function(){return KL;};this.aBi=function(h){KL=h;};var ts='';this.wP=function(h){F.wP(h);ts=h;};this.mJ=function(){return ts;};this.anQ=function(){return F.bw().get_magnifierMagnification();};this.aCr=function(h){IPCC.aq.kY(h,'value',1.5,8);F.bw().set_magnifierMagnification(h);};this.anT=function(){return F.bw().vd().width;};this.aAW=function(h){IPCC.aq.kY(h,'value',25,500);var rU=F.bw().vd();rU.width=h;F.bw().set_magnifierWindowSize(rU);};this.aoV=function(){return F.bw().vd().height;};this.aBP=function(h){IPCC.aq.kY(h,'value',25,500);var rU=F.bw().vd();rU.height=h;F.bw().set_magnifierWindowSize(rU);};this.PH=function(){return F.bw().PH();};this.Zk=function(h){IPCC.aq.kY(h,'value',-500,500);F.bw().Zk(h);};this.Pz=function(){return F.bw().Pz();};this.Zd=function(h){IPCC.aq.kY(h,'value',-500,500);F.bw().Zd(h);};this.aap=function(){return F.bw().aap();};this.Zu=function(h){IPCC.aq.kY(h,'value',0.1,0.5);F.bw().Zu(h);};this.yR=function(){return F.bw().yR();};this.Gb=function(h){F.bw().Gb(h);};this.raisePropertyChanged=function(cg,vr){if(F){F.cQ(cg,vr);}};var au= -1;this.ZY=function(){return au;};this.aHw=function(h){F.qZ=h;};this.LM=function(h){F.set_areMarksEditable(h);};this.aEQ=function(){return F.set_areMarksEditable();};this.FN=function(h){IPCC.aq.iq(h,'value',IPCC.Web.UI.MouseTool);if(au!==h){au=h;var ih="None";switch(au){case IPCC.Web.UI.MouseTool.None:F.eK([]);break;case IPCC.Web.UI.MouseTool.Magnifier:if(IPCC.hb===true){F.eK([new IPCC.qe(),new IPCC.ds(),new IPCC.fd(false,this.ja()),new IPCC.dq(),new IPCC.cT(false)]);}else{F.eK([new IPCC.qe(),new IPCC.ds(),new IPCC.dq(),new IPCC.cT(false)]);ih="Magnifier";}break;case IPCC.Web.UI.MouseTool.RectangleZoom:if(IPCC.hb===true){F.eK([new IPCC.lW(),new IPCC.ds(),new IPCC.fd(false,this.ja()),new IPCC.dq(),new IPCC.cT(false)]);}else{F.eK([new IPCC.lW(),new IPCC.ds(),new IPCC.dq(),new IPCC.cT(false)]);}ih="RectangleZoom";break;case IPCC.Web.UI.MouseTool.HandPan:if(IPCC.hb===true){F.eK([new IPCC.oY(),new IPCC.ds(),new IPCC.fd(false,this.ja()),new IPCC.dq(),new IPCC.cT(true)]);}else{F.eK([new IPCC.oY(),new IPCC.ds(),new IPCC.dq(),new IPCC.cT(true)]);}ih="HandPan";break;case IPCC.Web.UI.MouseTool.Select:if(IPCC.hb===true){F.eK([new IPCC.pd(),new IPCC.ds(),new IPCC.fd(false,this.ja()),new IPCC.dq(),new IPCC.cT(false)]);}else{F.eK([new IPCC.pd(),new IPCC.ds(),new IPCC.dq(),new IPCC.cT(false)]);}ih="Select";break;case IPCC.Web.UI.MouseTool.CreateRectangleMark:if(IPCC.hb===true){F.eK([new IPCC.eW(IPCC.Web.UI.MarkType.Rectangle),new IPCC.ds(),new IPCC.fd(true,this.ja()),new IPCC.dq(),new IPCC.cT(false)]);}else{F.eK([new IPCC.eW(IPCC.Web.UI.MarkType.Rectangle),new IPCC.ds(),new IPCC.dq(),new IPCC.cT(false)]);}ih="CreateRectangleMark";break;case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:if(IPCC.hb===true){F.eK([new IPCC.eW(IPCC.Web.UI.MarkType.RectangleRedaction),new IPCC.ds(),new IPCC.fd(true,this.ja()),new IPCC.dq(),new IPCC.cT(false)]);}else{F.eK([new IPCC.eW(IPCC.Web.UI.MarkType.RectangleRedaction),new IPCC.ds(),new IPCC.dq(),new IPCC.cT(false)]);}ih="CreateRectangleRedactionMark";break;case IPCC.Web.UI.MouseTool.CreateEllipseMark:if(IPCC.hb===true){F.eK([new IPCC.eW(IPCC.Web.UI.MarkType.Ellipse),new IPCC.ds(),new IPCC.fd(true,this.ja()),new IPCC.dq(),new IPCC.cT(false)]);}else{F.eK([new IPCC.eW(IPCC.Web.UI.MarkType.Ellipse),new IPCC.ds(),new IPCC.dq(),new IPCC.cT(false)]);}ih="CreateEllipseMark";break;case IPCC.Web.UI.MouseTool.CreateLineMark:if(IPCC.hb===true){F.eK([new IPCC.mH(),new IPCC.ds(),new IPCC.fd(true,this.ja()),new IPCC.dq(),new IPCC.cT(false)]);}else{F.eK([new IPCC.mH(),new IPCC.ds(),new IPCC.dq(),new IPCC.cT(false)]);}ih="CreateLineMark";break;case IPCC.Web.UI.MouseTool.CreatePolylineMark:if(IPCC.hb===true){F.eK([new IPCC.kc(IPCC.Web.UI.MarkType.Polyline),new IPCC.ds(),new IPCC.fd(true,this.ja()),new IPCC.dq(),new IPCC.cT(false)]);}else{F.eK([new IPCC.kc(IPCC.Web.UI.MarkType.Polyline),new IPCC.ds(),new IPCC.dq(),new IPCC.cT(false)]);}ih="CreatePolylineMark";break;case IPCC.Web.UI.MouseTool.CreateFreehandMark:if(IPCC.hb===true){F.eK([new IPCC.lf(),new IPCC.ds(),new IPCC.fd(true,this.ja()),new IPCC.dq(),new IPCC.cT(false)]);}else{F.eK([new IPCC.lf(),new IPCC.ds(),new IPCC.dq(),new IPCC.cT(false)]);}ih="CreateFreehandMark";break;case IPCC.Web.UI.MouseTool.CreatePolygonMark:if(IPCC.hb===true){F.eK([new IPCC.kc(IPCC.Web.UI.MarkType.Polygon),new IPCC.ds(),new IPCC.fd(true,this.ja()),new IPCC.dq(),new IPCC.cT(false)]);}else{F.eK([new IPCC.kc(IPCC.Web.UI.MarkType.Polygon),new IPCC.ds(),new IPCC.dq(),new IPCC.cT(false)]);}ih="CreatePolygonMark";break;case IPCC.Web.UI.MouseTool.CreateTextMark:if(IPCC.hb===true){F.eK([new IPCC.eW(IPCC.Web.UI.MarkType.Text),new IPCC.ds(),new IPCC.fd(true,this.ja()),new IPCC.dq(),new IPCC.cT(false)]);}else{F.eK([new IPCC.eW(IPCC.Web.UI.MarkType.Text),new IPCC.ds(),new IPCC.dq(),new IPCC.cT(false)]);}ih="CreateTextMark";break;case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:if(IPCC.hb===true){F.eK([new IPCC.eW(IPCC.Web.UI.MarkType.TextLine),new IPCC.ds(),new IPCC.fd(true,this.ja()),new IPCC.dq(),new IPCC.cT(false)]);}else{F.eK([new IPCC.eW(IPCC.Web.UI.MarkType.TextLine),new IPCC.ds(),new IPCC.dq(),new IPCC.cT(false)]);}ih="CreateTextInputSignatureMark";break;case IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark:F.eK([new IPCC.eW(IPCC.Web.UI.MarkType.TextAreaSignature),new IPCC.ds(),new IPCC.dq(),new IPCC.cT(false)]);ih="CreateTextAreaSignatureMark";break;case IPCC.Web.UI.MouseTool.EditMarks:if(IPCC.hb===true){F.eK([new IPCC.lh(IPCC.Web.UI.MarkType.Text),new IPCC.ds(),new IPCC.fd(true,this.ja()),new IPCC.dq(),new IPCC.cT(false)]);}else{F.eK([new IPCC.lh(IPCC.Web.UI.MarkType.Text),new IPCC.ds(),new IPCC.dq(),new IPCC.cT(false)]);}ih="EditMarks";break;case IPCC.Web.UI.MouseTool.RunMarks:if(IPCC.hb===true){F.eK([new IPCC.AP(IPCC.Web.UI.MarkType.Text),new IPCC.ds(),new IPCC.fd(false,this.ja()),new IPCC.dq(),new IPCC.cT(false)]);}else{F.eK([new IPCC.AP(IPCC.Web.UI.MarkType.Text),new IPCC.ds(),new IPCC.dq(),new IPCC.cT(false)]);}ih="RunMarks";break;case IPCC.Web.UI.MouseTool.CreateStampMark:if(IPCC.hb===true){F.eK([new IPCC.eW(IPCC.Web.UI.MarkType.Stamp),new IPCC.ds(),new IPCC.fd(true,this.ja()),new IPCC.dq(),new IPCC.cT(false)]);}else{F.eK([new IPCC.eW(IPCC.Web.UI.MarkType.Stamp),new IPCC.ds(),new IPCC.dq(),new IPCC.cT(false)]);}ih="CreateStampMark";break;case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:if(IPCC.hb===true){F.eK([new IPCC.eW(IPCC.Web.UI.MarkType.ImageStampAnnotation),new IPCC.ds(),new IPCC.fd(true,this.ja()),new IPCC.dq(),new IPCC.cT(false)]);}else{F.eK([new IPCC.eW(IPCC.Web.UI.MarkType.ImageStampAnnotation),new IPCC.ds(),new IPCC.dq(),new IPCC.cT(false)]);}ih="CreateImageStampAnnotationMark";break;case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:if(IPCC.hb===true){F.eK([new IPCC.eW(IPCC.Web.UI.MarkType.ImageStampRedaction),new IPCC.ds(),new IPCC.fd(true,this.ja()),new IPCC.dq(),new IPCC.cT(false)]);}else{F.eK([new IPCC.eW(IPCC.Web.UI.MarkType.ImageStampRedaction),new IPCC.ds(),new IPCC.dq(),new IPCC.cT(false)]);}ih="CreateImageStampRedactionMark";break;case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:F.Ir=true;if(IPCC.hb===true){F.eK([new IPCC.kI(),new IPCC.ds(),new IPCC.fd(false,this.ja()),new IPCC.dq(),new IPCC.cT(false)]);}else{F.eK([new IPCC.kI(),new IPCC.ds(),new IPCC.dq(),new IPCC.cT(false)]);}ih="CreateHighlightTextMark";break;case IPCC.Web.UI.MouseTool.SelectText:F.Ir=false;if(IPCC.hb===true){F.eK([new IPCC.kI(),new IPCC.ds(),new IPCC.fd(false,this.ja()),new IPCC.dq(),new IPCC.cT(false)]);}else{F.eK([new IPCC.kI(),new IPCC.ds(),new IPCC.dq(),new IPCC.cT(false)]);}ih="SelectText";break;case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:if(IPCC.hb===true){F.eK([new IPCC.kI(),new IPCC.ds(),new IPCC.fd(true,this.ja()),new IPCC.dq(),new IPCC.cT(false)]);}else{F.eK([new IPCC.kI(),new IPCC.ds(),new IPCC.dq(),new IPCC.cT(false)]);}ih="CreateStrikethroughMark";break;}this.raisePropertyChanged('mouseTool',{mouseToolType:ih});}};this.FU=function(aor){au= -1;F.eK(aor);};this.ari=function(){return F.bw().get_presentationQuality();};this.aEk=function(h){IPCC.aq.kY(h,'value',0,100);F.bw().set_presentationQuality(h);};this.apz=function(){return F.bw().get_scrollBars();};this.aDV=function(h){IPCC.aq.iq(h,'value',IPCC.Web.UI.ScrollBars);F.bw().set_scrollBars(h);};this.apu=function(db,ask){IPCC.aq.bS(db,'imagePoint');if(!(F.cU())){return new IPCC.Web.UI.Point(0,0);}var cn=F.bw().fC().transform(db);if(ask){cn.constrain(F.eG());}return cn;};this.Ow=function(cn,aus){IPCC.aq.bS(cn,'windowPoint');var ar=F.cU();if(!ar){return new IPCC.Web.UI.Point(0,0);}var pW=F.bw().fC();pW.vT();var db=pW.transform(cn);if(aus){db.constrain(ar);}return db;};function ayD(){var dB;dB=gu.mJ();var anj=dB.clientWidth;var akI=dB.clientHeight;var axq=(ea&&ea.viewFitType===afF&&anj===afq&&akI===acQ);if(axq){if(NI>2){return;}NI++;}else{afF=ea?ea.viewFitType: -1;afq=anj;acQ=akI;NI=0;}Vv();};function azR(){ea=null;};function aqu(ax,G){switch(G.hg){case IPCC.eP.abT:gu.aaz(1.25,G.VX.windowPoint);break;case IPCC.eP.abE:gu.adj(1.25,G.VX.windowPoint);break;case IPCC.eP.aaF:gu.xd(G.h);break;case IPCC.eP.afX:gu.ahl();break;case IPCC.eP.air:gu.aiz();break;case IPCC.eP.abX:gu.TO(G.h);break;case IPCC.eP.aaM:gu.FN(G.h);break;}};this.jN=function(){return F.jN();};this.HW=function(h){F.HW(h);};this.bY=function(){return F.bY();};this.mD=function(){return F.mD();};this.Bu=function(h){F.Bu(h);};this.xI=function(){return F.get_requireRequestsOptimize();};this.HO=function(h){F.HO(h);};this.kN=function(){return F.kN();};this.yE=function(h){F.yE(h);};this.Kx=function(db){IPCC.aq.bS(db,'imagePoint');return F.Kx(db);};this.Az=function(bZ){F.Az(bZ);};this.Ty=function(){F.Ty();};this.OT=function(vw,da){var Kr=F.bY().hc().eN();IPCC.aq.nb(vw,'vw',0,Kr-1);F.OT(vw,da);};this.uk=function(bZ){if(bZ===undefined){F.bw().uk(bZ);return false;}var Kr=F.bY().hc().eN();IPCC.aq.nb(bZ,'textIndex',0,Kr-1);F.uk(bZ);return true;};this.JB=function(){return! !(F.cU()&&F.jN()&&F.bY().mB()===true&&F.bw().JB());};this.YG=function(){var aj=F.bw();aj.YG();};this.MG=function(){if(F.jN()&&F.bY().mB()===true){return Math.min(F.bw().akt(),F.bw().BK());}};this.CD=function(){if(F.jN()&&F.bY().mB()===true){return F.bw().CD();}};this.EL=function(){if(F.jN()&&F.bY().mB()===true&&F.bw().JB()){return F.EL();}else{return "";}};this.BK=function(){return F.bw().BK();};this.amB=function(){return F.get_cursor();};this.aEi=function(h){F.set_cursor(h);};this.yS=function(){return F.yS();};this.ZO=function(h){F.ZO(h);};this.hS=function(){return F.hS();};this.np=function(h){F.np(h);};this.aGD=function(){F.bw().hideMagnifier();};this.aDB=function(cn){F.bw().showMagnifier(cn);};this.vQ=function(T){if(F.lU().igElements){F.vQ(T);F.cF();}};this.HU=function(){F.HU();};this.BY=function(){return F.BY();};this.pM=function(){if(F.lU().igElements){F.pM(true);}};function azO(ax,G){var wk=G.scaleFactor;var ao={scaleType:"scaledDown",pageNumber:G.pageNumber};if(GF!==wk){if(wk>GF){ao.scaleType="scaledUp";}GF=wk;bH('scaleChanged',ao);}};this.initialize=function(){F.aBh(this.mJ().id);F.wP(this.mJ().id);if(au=== -1){this.FN(IPCC.Web.UI.MouseTool.RectangleZoom);}oa('mouseDown');oa('mouseMove');oa('mouseUp');oa('contextMenu');oa('markCreating');oa('pageOpenFailed');oa('textPageReady');oa('pageDisplayed');oa('exceptionThrown');oa('selectTextMouseToolCompleted');JM('markAdded');JM('markChanged');JM('markRemoved');oa('textExtractionFailed');JM('markReordered');JM('marksLoaded');oa('markSelectionChanged');auw();F.ayt(ayD);F.ayN(azR);F.awd(aqu);F.add_scaleChanged(azO);F.aBm();var dB=this.mJ();dB.aB=this;};qj=(qj!==false);F=new IPCC.VT(qj);F.aEx('PageView');F.aCx(Qq);};amR.prototype={dispose:function(){this.bu('dispose',arguments);this.MP();},get_debug:function(){try{var bd=this.Ka();this.cK('get_debug',arguments,bd);return bd;}catch(e){this.bG('get_debug',e);throw e;}},set_debug:function(value){try{this.bu('set_debug',arguments);var AG=this.Ka();this.YQ(value);if(!AG){this.bu('set_debug',arguments);}}catch(e){this.bG('set_debug',e);throw e;}},get_debugErrorLevel:function(){try{var bd=this.AL();this.cK('get_debugErrorLevel',arguments,bd);return bd;}catch(e){this.bG('get_debugErrorLevel',e);throw e;}},set_debugErrorLevel:function(value){try{this.bu('set_debugErrorLevel',arguments);var AG=this.AL();this.KB(value);if(AG<IPCC.Web.UI.DebugErrorLevel.Development){this.bu('set_debugErrorLevel',arguments);}}catch(e){this.bG('set_debugErrorLevel',e);throw e;}},get_artServiceOption:function(){try{var bd=this.aaN();this.cK('get_artServiceOption',arguments,bd);return bd;}catch(e){this.bG('get_artServiceOption',e);throw e;}},set_artServiceOption:function(value){try{this.bu('set_artServiceOption',arguments);this.Yv(value);}catch(e){this.bG('set_artServiceOption',e);throw e;}},add_pageOpening:function(handler){try{this.TG(handler);}catch(e){this.bG('add_pageOpening',e);throw e;}},remove_pageOpening:function(handler){try{this.Sr(handler);}catch(e){this.bG('remove_pageOpening',e);throw e;}},add_pageOpened:function(handler){try{this.SS(handler);}catch(e){this.bG('add_pageOpened',e);throw e;}},remove_pageOpened:function(handler){try{this.Uc(handler);}catch(e){this.bG('remove_pageOpened',e);throw e;}},add_pageClosed:function(handler){try{this.ayC(handler);}catch(e){this.bG('add_pageClosed',e);throw e;}},remove_pageClosed:function(handler){try{this.aym(handler);}catch(e){this.bG('remove_pageClosed',e);throw e;}},add_pageOpenFailed:function(handler){try{this.Jm(handler);}catch(e){this.bG('add_pageOpenFailed',e);throw e;}},remove_pageOpenFailed:function(handler){try{this.IR(handler);}catch(e){this.bG('remove_pageOpenFailed',e);throw e;}},add_pageDisplayed:function(handler){try{this.ST(handler);}catch(e){this.bG('add_pageDisplayed',e);throw e;}},remove_pageDisplayed:function(handler){try{this.SG(handler);}catch(e){this.bG('remove_pageDisplayed',e);throw e;}},add_mouseDown:function(handler){try{this.LZ(handler);}catch(e){this.bG('add_mouseDown',e);throw e;}},remove_mouseDown:function(handler){try{this.SR(handler);}catch(e){this.bG('remove_mouseDown',e);throw e;}},add_mouseMove:function(handler){try{this.Lm(handler);}catch(e){this.bG('add_mouseMove',e);throw e;}},remove_mouseMove:function(handler){try{this.SF(handler);}catch(e){this.bG('remove_mouseMove',e);throw e;}},add_mouseUp:function(handler){try{this.LC(handler);}catch(e){this.bG('add_mouseUp',e);throw e;}},remove_mouseUp:function(handler){try{this.Sn(handler);}catch(e){this.bG('remove_mouseUp',e);throw e;}},add_contextMenu:function(handler){try{this.avS(handler);}catch(e){this.bG('add_contextMenu',e);throw e;}},remove_contextMenu:function(handler){try{this.axV(handler);}catch(e){this.bG('remove_contextMenu',e);throw e;}},add_markAdded:function(handler){try{this.yZ(handler);}catch(e){this.bG('add_markAdded',e);throw e;}},remove_markAdded:function(handler){try{this.xJ(handler);}catch(e){this.bG('remove_markAdded',e);throw e;}},add_markCreating:function(handler){try{this.Tk(handler);}catch(e){this.bG('add_markCreating',e);throw e;}},remove_markCreating:function(handler){try{this.SB(handler);}catch(e){this.bG('remove_markCreating',e);throw e;}},add_markChanged:function(handler){try{this.Ky(handler);}catch(e){this.bG('add_markChanged',e);throw e;}},remove_markChanged:function(handler){try{this.HL(handler);}catch(e){this.bG('remove_markChanged',e);throw e;}},add_markRemoved:function(handler){try{this.zV(handler);}catch(e){this.bG('add_markRemoved',e);throw e;}},remove_markRemoved:function(handler){try{this.zr(handler);}catch(e){this.bG('remove_markRemoved',e);throw e;}},add_markReordered:function(handler){try{this.Kw(handler);}catch(e){this.bG('add_markReordered',e);throw e;}},remove_markReordered:function(handler){try{this.GR(handler);}catch(e){this.bG('remove_markReordered',e);throw e;}},add_marksLoaded:function(handler){try{this.TE(handler);}catch(e){this.bG('add_marksLoaded',e);throw e;}},remove_marksLoaded:function(handler){try{this.SO(handler);}catch(e){this.bG('remove_marksLoaded',e);throw e;}},add_markSelectionChanged:function(handler){try{this.GU(handler);}catch(e){this.bG('add_markSelectionChanged',e);throw e;}},remove_markSelectionChanged:function(handler){try{this.HI(handler);}catch(e){this.bG('remove_markSelectionChanged',e);throw e;}},add_selectTextMouseToolCompleted:function(handler){try{this.Wq(handler);}catch(e){this.bG('add_selectTextMouseToolCompleted',e);throw e;}},remove_selectTextMouseToolCompleted:function(handler){try{this.Sq(handler);}catch(e){this.bG('remove_selectTextMouseToolCompleted',e);throw e;}},add_textPageReady:function(handler){try{this.yO(handler);}catch(e){this.bG('add_textPageReady',e);throw e;}},remove_textPageReady:function(handler){try{this.DR(handler);}catch(e){this.bG('remove_textPageReady',e);throw e;}},add_exceptionThrown:function(handler){this.Qv(handler);},remove_exceptionThrown:function(handler){this.TF(handler);},add_scaleChanged:function(handler){try{this.SN(handler);}catch(e){this.bG('add_scaleChanged',e);throw e;}},remove_scaleChanged:function(handler){try{this.TN(handler);}catch(e){this.bG('remove_scaleChanged',e);throw e;}},add_propertyChanged:function(handler){try{this.kJ(handler);}catch(e){this.bG('add_propertyChanged',e);throw e;}},remove_propertyChanged:function(handler){try{this.lP(handler);}catch(e){this.bG('remove_propertyChanged',e);throw e;}},add_textExtractionFailed:function(handler){this.yj(handler);},remove_textExtractionFailed:function(handler){this.Db(handler);},writeToLog:function(message){try{this.lO(message);}catch(e){this.bG('writeToLog',e);throw e;}},fitPage:function(type){try{this.bu('fitPage',arguments);this.TO(type);}catch(e){this.bG('fitPage',e);throw e;}},get_pageIsOpen:function(){try{var bd=this.fv();this.cK('get_pageIsOpen',arguments,bd);return bd;}catch(e){this.bG('get_pageIsOpen',e);throw e;}},get_pageWidth:function(){try{var bd=this.ki();this.cK('get_pageWidth',arguments,bd);return bd;}catch(e){this.bG('get_pageWidth',e);throw e;}},get_pageHeight:function(){try{var bd=this.iy();this.cK('get_pageHeight',arguments,bd);return bd;}catch(e){this.bG('get_pageHeight',e);throw e;}},get_pageXResolution:function(){try{var bd=this.arm();this.cK('get_pageXResolution',arguments,bd);return bd;}catch(e){this.bG('get_pageXResolution',e);throw e;}},get_pageYResolution:function(){try{var bd=this.arj();this.cK('get_pageYResolution',arguments,bd);return bd;}catch(e){this.bG('get_pageYResolution',e);throw e;}},get_documentIdentifier:function(){try{var bd=this.Is();this.cK('get_documentIdentifier',arguments,bd);return bd;}catch(e){this.bG('get_documentIdentifier',e);throw e;}},get_encodedDocumentIdentifier:function(){try{var bd=this.Qg();this.cK('get_encodedDocumentIdentifier',arguments,bd);return bd;}catch(e){this.bG('get_encodedDocumentIdentifier',e);throw e;}},get_pageNumber:function(){try{var bd=this.oZ();this.cK('get_pageNumber',arguments,bd);return bd;}catch(e){this.bG('get_pageNumber',e);throw e;}},get_documentPageCount:function(){try{var bd=this.aob();this.cK('get_documentPageCount',arguments,bd);return bd;}catch(e){this.bG('get_documentPageCount',e);throw e;}},get_displayedPageRectangle:function(){try{var bd=this.alk();this.cK('get_displayedPageRectangle',arguments,bd);return bd;}catch(e){this.bG('get_displayedPageRectangle',e);throw e;}},get_currentState:function(){try{var bd=this.Qf();this.cK('get_currentState',arguments,bd);return bd;}catch(e){this.bG('get_currentState',e);throw e;}},zoomIn:function(factor){try{this.bu('zoomIn',arguments);this.Sf(factor);}catch(e){this.bG('zoomIn',e);throw e;}},zoomOut:function(factor){try{this.bu('zoomOut',arguments);this.SP(factor);}catch(e){this.bG('zoomOut',e);throw e;}},set_sharpening:function(factor){try{this.bu('set_sharpening',arguments);this.BJ(factor);}catch(e){this.bG('set_sharpening',e);throw e;}},set_gamma:function(factor){try{this.bu('set_gamma',arguments);this.Bn(factor);}catch(e){this.bG('set_gamma',e);throw e;}},set_svgLineWidthMultiplier:function(factor){try{this.bu('set_svgLineWidthMultiplier',arguments);this.Ef(factor);}catch(e){this.bG('set_svgLineWidthMultiplier',e);throw e;}},zoom:function(factor){try{this.bu('zoom',arguments);this.iF(factor);}catch(e){this.bG('zoom',e);throw e;}},rotate:function(degreesClockwise){try{this.bu('rotate',arguments);this.xd(degreesClockwise);}catch(e){this.bG('rotate',e);throw e;}},showPageRectangle:function(imageRectangle){try{this.bu('showPageRectangle',arguments,1);this.aDx(imageRectangle);}catch(e){this.bG('showPageRectangle',e);throw e;}},showPagePointAtCenter:function(imagePoint){try{this.bu('showPagePointAtCenter',arguments,1);this.aEn(imagePoint);}catch(e){this.bG('showPagePointAtCenter',e);throw e;}},mirror:function(){try{this.bu('mirror',arguments);this.aiz();}catch(e){this.bG('mirror',e);throw e;}},flip:function(){try{this.bu('flip',arguments);this.ahl();}catch(e){this.bG('flip',e);throw e;}},display:function(){try{this.bu('display',arguments);this.cF();}catch(e){this.bG('display',e);throw e;}},openPage:function(parameters){try{this.bu('openPage',arguments,1);this.Nh(parameters);}catch(e){this.bG('openPage',e);throw e;}},closePage:function(){try{this.bu('closePage',arguments);this.MP();}catch(e){this.bG('closePage',e);throw e;}},hideSelection:function(){try{this.bu('hideSelection',arguments);this.oU();}catch(e){this.bG('hideSelection',e);throw e;}},showSelection:function(imageRectangle){try{this.bu('showSelection',arguments);this.aEN(imageRectangle);}catch(e){this.bG('showSelection',e);throw e;}},showEmptySelection:function(imagePoint){try{this.bu('showEmptySelection',arguments);this.Bv(imagePoint);}catch(e){this.bG('showEmptySelection',e);throw e;}},extendSelection:function(imagePoint){try{this.bu('extendSelection',arguments);this.xK(imagePoint);}catch(e){this.bG('extendSelection',e);throw e;}},saveArtPage:function(onSave){try{this.bu('saveArtPage',arguments);this.XD(onSave);}catch(e){this.bG('saveArtPage',e);throw e;}},get_selectionPageRectangle:function(){try{var bd=this.vZ();this.cK('get_selectionPageRectangle',arguments,bd);return bd;}catch(e){this.bG('get_selectionPageRectangle',e);throw e;}},get_selectionWindowRectangle:function(){try{var bd=this.aqU();this.cK('get_selectionWindowRectangle',arguments,bd);return bd;}catch(e){this.bG('get_selectionWindowRectangle',e);throw e;}},get_selectionIsVisible:function(){try{var bd=this.Aj();this.cK('get_selectionIsVisible',arguments,bd);return bd;}catch(e){this.bG('get_selectionIsVisible',e);throw e;}},get_controlStateElementId:function(){try{var bd=this.auQ();this.cK('get_controlStateElementId',arguments,bd);return bd;}catch(e){this.bG('get_controlStateElementId',e);throw e;}},set_controlStateElementId:function(value){try{this.bu('set_controlStateElementId',arguments);this.aCY(value);}catch(e){this.bG('set_controlStateElementId',e);throw e;}},get_includeArtInPostBack:function(){try{var bd=this.aoI();this.cK('get_includeArtInPostBack',arguments,bd);return bd;}catch(e){this.bG('get_includeArtInPostBack',e);throw e;}},set_includeArtInPostBack:function(value){try{this.bu('set_includeArtInPostBack',arguments);this.aBi(value);}catch(e){this.bG('set_includeArtInPostBack',e);throw e;}},get_artPage:function(){try{var bd=this.ep();this.cK('get_artPage',arguments,bd);return bd;}catch(e){this.bG('get_artPage',e);throw e;}},set_artPage:function(value){try{this.bu('set_artPage',arguments);this.mZ(value);}catch(e){this.bG('set_artPage',e);throw e;}},get_documentArtPage:function(){try{var bd=this.OQ();this.cK('get_documentArtPage',arguments,bd);return bd;}catch(e){this.bG('get_documentArtPage',e);throw e;}},set_documentArtPage:function(value){try{this.bu('set_documentArtPage',arguments);this.GK(value);}catch(e){this.bG('set_documentArtPage',e);throw e;}},get_transientArtPage:function(){try{var bd=this.mu();this.cK('get_transientArtPage',arguments,bd);return bd;}catch(e){this.bG('get_transientArtPage',e);throw e;}},set_transientArtPage:function(value){try{this.bu('set_transientArtPage',arguments);this.Ej(value);}catch(e){this.bG('set_transientArtPage',e);throw e;}},get_imageHandlerUrl:function(){try{var bd=this.uv();this.cK('get_imageHandlerUrl',arguments,bd);return bd;}catch(e){this.bG('get_imageHandlerUrl',e);throw e;}},set_imageHandlerUrl:function(value){try{this.bu('set_imageHandlerUrl',arguments);this.Zb(value);}catch(e){this.bG('set_imageHandlerUrl',e);throw e;}},get_resourcePath:function(){try{var bd=this.us();this.cK('get_resourcePath',arguments,bd);return bd;}catch(e){this.bG('get_resourcePath',e);throw e;}},set_resourcePath:function(h){try{this.bu('set_resourcePath',arguments);this.Iv(h);}catch(e){this.bG('set_resourcePath',e);throw e;}},get_contextMenuLanguageDictionary:function(){try{var bd=this.ja();this.cK('get_contextMenuLanguageDictionary',arguments,bd);return bd;}catch(e){this.bG('get_contextMenuLanguageDictionary',e);throw e;}},set_contextMenuLanguageDictionary:function(h){try{this.bu('set_contextMenuLanguageDictionary',arguments);this.aDz(h);}catch(e){this.bG('set_contextMenuLanguageDictionary',e);throw e;}},get_textRequired:function(){try{var bd=this.jN();this.cK('get_textRequired',arguments,bd);return bd;}catch(e){this.bG('get_textRequired',e);throw e;}},set_textRequired:function(h){try{this.bu('set_textRequired',arguments);this.HW(h);}catch(e){this.bG('set_textRequired',e);throw e;}},get_textPage:function(){try{var bd=this.bY();this.cK('get_textPage',arguments,bd);return bd;}catch(e){this.bG('get_textPage',e);throw e;}},get_textSelectionIsVisible:function(){try{var bd=this.JB();this.BW('textSelectionIsVisible',arguments,bd,1);return bd;}catch(e){this.bG('textSelectionIsVisible',e);throw e;}},getSelectedText:function(){try{var bd=this.EL();this.BW('getSelectedText',arguments,bd,1);return bd;}catch(e){this.bG('getSelectedText',e);throw e;}},get_requireRequestsOptimize:function(){try{var bd=this.xI();this.cK('get_requireRequestsOptimize',arguments,bd);return bd;}catch(e){this.bG('xI',e);throw e;}},set_requireRequestsOptimize:function(value){try{this.bu('set_requireRequestsOptimize',arguments);this.HO(value);}catch(e){this.bG('set_requireRequestsOptimize',e);throw e;}},get_magnifierMagnification:function(){try{var bd=this.anQ();this.cK('get_magnifierMagnification',arguments,bd);return bd;}catch(e){this.bG('get_magnifierMagnification',e);throw e;}},set_magnifierMagnification:function(value){try{this.bu('set_magnifierMagnification',arguments);this.aCr(value);}catch(e){this.bG('set_magnifierMagnification',e);throw e;}},get_magnifierWidth:function(){try{var bd=this.anT();this.cK('get_magnifierWidth',arguments,bd);return bd;}catch(e){this.bG('get_magnifierWidth',e);throw e;}},set_magnifierWidth:function(value){try{this.bu('set_magnifierWidth',arguments);this.aAW(value);}catch(e){this.bG('set_magnifierWidth',e);throw e;}},get_magnifierHeight:function(){try{var bd=this.aoV();this.cK('get_magnifierHeight',arguments,bd);return bd;}catch(e){this.bG('get_magnifierHeight',e);throw e;}},set_magnifierHeight:function(value){try{this.bu('set_magnifierHeight',arguments);this.aBP(value);}catch(e){this.bG('set_magnifierHeight',e);throw e;}},get_magnifierXOffset:function(){try{var bd=this.PH();this.cK('get_magnifierXOffset',arguments,bd);return bd;}catch(e){this.bG('get_magnifierXOffset',e);throw e;}},set_magnifierXOffset:function(value){try{this.bu('set_magnifierXOffset',arguments);this.Zk(value);}catch(e){this.bG('set_magnifierXOffset',e);throw e;}},get_magnifierYOffset:function(){try{var bd=this.Pz();this.cK('get_magnifierYOffset',arguments,bd);return bd;}catch(e){this.bG('get_magnifierYOffset',e);throw e;}},set_magnifierYOffset:function(value){try{this.bu('set_magnifierYOffset',arguments);this.Zd(value);}catch(e){this.bG('set_magnifierYOffset',e);throw e;}},showMagnifier:function(windowPoint){try{this.bu('showMagnifier',arguments,1);this.aDB(windowPoint);}catch(e){this.bG('showMagnifier',e);throw e;}},hideMagnifier:function(){try{this.bu('hideMagnifier',arguments);this.aGD();}catch(e){this.bG('hideMagnifier',e);throw e;}},get_markHandleSize:function(){try{var bd=this.aap();this.cK('get_markHandleSize',arguments,bd);return bd;}catch(e){this.bG('get_markHandleSize',e);throw e;}},set_markHandleSize:function(value){try{this.bu('set_markHandleSize',arguments);this.Zu(value);}catch(e){this.bG('set_markHandleSize',e);throw e;}},get_markHandleMode:function(){try{var bd=this.yR();this.cK('get_markHandleMode',arguments,bd);return bd;}catch(e){this.bG('get_markHandleMode',e);throw e;}},set_markHandleMode:function(value){try{this.bu('set_markHandleMode',arguments);this.Gb(value);}catch(e){this.bG('set_markHandleMode',e);throw e;}},get_mouseTool:function(){try{var bd=this.ZY();this.cK('get_mouseTool',arguments,bd);return bd;}catch(e){this.bG('get_mouseTool',e);throw e;}},set_mouseTool:function(value){try{this.bu('set_mouseTool',arguments);this.FN(value);}catch(e){this.bG('set_mouseTool',e);throw e;}},get_presentationQuality:function(){try{var bd=this.ari();this.cK('get_presentationQuality',arguments,bd);return bd;}catch(e){this.bG('get_presentationQuality',e);throw e;}},set_presentationQuality:function(value){try{this.bu('set_presentationQuality',arguments);this.aEk(value);}catch(e){this.bG('set_presentationQuality',e);throw e;}},get_scrollBars:function(){try{var bd=this.apz();this.cK('get_scrollBars',arguments,bd);return bd;}catch(e){this.bG('get_scrollBars',e);throw e;}},set_scrollBars:function(value){try{this.bu('set_scrollBars',arguments);this.aDV(value);}catch(e){this.bG('set_scrollBars',e);throw e;}},get_imGearPage:function(){try{var bd=this.mD();this.cK('get_imGearPage',arguments,bd);return bd;}catch(e){this.bG('get_imGearPage',e);throw e;}},set_imGearPage:function(value){try{this.bu('set_imGearPage',arguments);this.Bu(value);}catch(e){this.bG('set_imGearPage',e);throw e;}},get_serviceResponseTimeout:function(){try{var bd=this.kN();this.cK('get_serviceResponseTimeout',arguments,bd);return bd;}catch(e){this.bG('get_serviceResponseTimeout',e);throw e;}},set_serviceResponseTimeout:function(value){try{this.bu('set_serviceResponseTimeout',arguments);this.yE(value);}catch(e){this.bG('set_serviceResponseTimeout',e);throw e;}},get_currentTextIndex:function(){try{var bd=this.BK();this.cK('get_currentTextIndex',arguments,bd);return bd;}catch(e){this.bG('get_currentTextIndex',e);throw e;}},get_cursor:function(){try{var bd=this.amB();this.cK('get_cursor',arguments,bd);return bd;}catch(e){this.bG('get_cursor',e);throw e;}},set_cursor:function(value){try{this.bu('set_cursor',arguments);this.aEi(value);}catch(e){this.bG('set_cursor',e);throw e;}},get_encryption:function(){try{var bd=this.hS();this.cK('get_encryption',arguments,bd);return bd;}catch(e){this.bG('get_encryption',e);throw e;}},set_encryption:function(value){try{this.bu('set_encryption',arguments);this.np(value);}catch(e){this.bG('set_encryption',e);throw e;}},transformPagePointToWindow:function(imagePoint,constrainResultToWindow){try{var bd=this.apu(imagePoint,constrainResultToWindow);this.BW('transformPagePointToWindow',arguments,bd,1);return bd;}catch(e){this.bG('transformPagePointToWindow',e);throw e;}},transformWindowPointToPage:function(windowPoint,constrainResultToImage){try{var bd=this.Ow(windowPoint,constrainResultToImage);this.BW('transformWindowPointToPage',arguments,bd,1);return bd;}catch(e){this.bG('transformWindowPointToPage',e);throw e;}},transformPagePointToTextIndex:function(pagePoint){try{var bd=this.Kx(pagePoint);this.BW('transformPagePointToTextIndex',arguments,bd,1);return bd;}catch(e){this.bG('transformPagePointToTextIndex',e);throw e;}},removeAllHighlights:function(){try{this.bu('removeAllHighlights',arguments);this.Ty();}catch(e){this.bG('removeAllHighlights',e);throw e;}},showTextSelection:function(indexOfFirstCharacter,length){try{this.bu('showTextSelection',arguments);this.OT(indexOfFirstCharacter,length);}catch(e){this.bG('showTextSelection',e);throw e;}},showEmptyTextSelection:function(textIndex){try{this.bu('showEmptyTextSelection',arguments);this.Az(textIndex);}catch(e){this.bG('showEmptyTextSelection',e);throw e;}},extendTextSelection:function(textIndex){try{this.bu('extendTextSelection',arguments);this.uk(textIndex);}catch(e){this.bG('extendTextSelection',e);throw e;}},initializeViewControllers:function(showArtContextMenu){try{this.bu('initializeViewControllers',arguments);this.aDm(showArtContextMenu);}catch(e){this.bG('initializeViewControllers',e);throw e;}},get_autoUpdate:function(){try{var bd=this.yS();this.cK('get_autoUpdate',arguments,bd);return bd;}catch(e){this.bG('get_autoUpdate',e);throw e;}},set_autoUpdate:function(value){try{this.bu('set_autoUpdate',arguments);this.ZO(value);}catch(e){this.bG('set_autoUpdate',e);throw e;}}};module.exports=amR;},{}],114:[function(require,module,exports){var cd=require('../../IPCC.Util').regClass;var nP=require('./FitType');var Mv=function(){return this;};Mv.prototype={documentIdentifier:'',encodedDocumentIdentifier:'',pageNumber:0,viewFitType:nP.FullImage,viewRectangle:null,viewRotationDegreesClockwise:0,viewMirror:false,viewZoomFactor:undefined,encryption:false};Mv.registerClass=cd;Mv.registerClass('IPCC.Web.UI.PageViewState');module.exports=Mv;},{"../../IPCC.Util":28,"./FitType":74}],115:[function(require,module,exports){var cd=require('../../IPCC.Util').regClass;var vI=function(x,y){this.x=x;this.y=y;return this;};vI.prototype={toString:function(){return 'Point('+this.x+', '+this.y+')';},constrain:function(rectangle){this.x=Math.min(Math.max(this.x,rectangle.x),rectangle.x+rectangle.width);this.y=Math.min(Math.max(this.y,rectangle.y),rectangle.y+rectangle.height);}};vI.registerClass=cd;vI.registerClass('IPCC.Web.UI.Point');module.exports=vI;},{"../../IPCC.Util":28}],116:[function(require,module,exports){var cd=require('../../IPCC.Util').regClass;var KW=function(){var bF=[];var bm=new IPCC.Web.UI.gp();this.awW=function(bS){var G=new IPCC.Web.UI.PointEventArgs();G.point=bS;G.length=1;bF.push(new IPCC.Web.UI.Point(bS.x,bS.y));G.index=bF.length-1;this.bH('pointAdded',G);};this.avA=function(adk){var G=new IPCC.Web.UI.PointEventArgs();G.index=bF.length;G.length=adk.get_length();function lm(bS){bF.push(bS);};adk.forEach(lm,{});if(G.length>0){this.bH('pointAdded',G);}};this.lj=function(ji,cc){var abx=[].concat(bF);var L;for(L=0;L<abx.length;L++){ji.call(cc,new IPCC.Web.UI.Point(abx[L].x,abx[L].y),L,this);}};this.Am=function(aV){mb(aV);var eD=bF[aV];return new IPCC.Web.UI.Point(eD.x,eD.y);};this.aDt=function(aV,bS){mb(aV);IPCC.aq.bS(bS,'point');var Nv=bF[aV];if(Nv.x===bS.x&&Nv.y===bS.y){return;}Nv.x=bS.x;Nv.y=bS.y;var G=new IPCC.Web.UI.PointEventArgs();G.point=bS;G.index=aV;G.length=1;this.bH('pointChanged',G);};this.eN=function(){return bF.length;};this.ayG=function(aV){mb(aV);var G=new IPCC.Web.UI.PointEventArgs();G.point=bF[aV];G.index=aV;G.length=1;bF.splice(aV,1);this.bH('pointRemoved',G);};this.axR=function(){if(bF.length<1){return;}var G=new IPCC.Web.UI.PointEventArgs();G.index=0;G.length=bF.length;bF=[];this.bH('pointRemoved',G);};this.afW=function(fA,fo){if(fA===0&&fo===0){return;}IPCC.aq.hG(fA,'deltaX');IPCC.aq.hG(fo,'deltaY');var L;for(L=0;L<bF.length;L++){bF[L].x+=fA;bF[L].y+=fo;}var G=new IPCC.Web.UI.PointEventArgs();G.index=0;G.length=bF.length;this.bH('pointChanged',G);};this.vo=function(){if(bF.length<1){return new IPCC.Web.UI.Rectangle(0,0,0,0);}var L,gi=bF[0].x,iX=bF[0].x,_top=bF[0].y,kU=bF[0].y;for(L=1;L<bF.length;L++){var bS=bF[L];gi=Math.min(gi,bS.x);iX=Math.max(iX,bS.x);_top=Math.min(_top,bS.y);kU=Math.max(kU,bS.y);}return new IPCC.Web.UI.Rectangle(gi,_top,iX-gi,kU-_top);};function mb(aV){if(aV>bF.length-1||(aV<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',aV);}};this.ayp=function(H){bm.addHandler('pointAdded',H);};this.axO=function(H){bm.removeHandler('pointAdded',H);};this.axU=function(H){bm.addHandler('pointChanged',H);};this.ayx=function(H){bm.removeHandler('pointChanged',H);};this.ayE=function(H){bm.addHandler('pointRemoved',H);};this.ayZ=function(H){bm.removeHandler('pointRemoved',H);};this.bH=function(cZ,G){var H=bm.getHandler(cZ);if(H!==null){H(this,G);}};return this;};KW.prototype={toString:function(){return 'PointCollection with '+this.get_length()+' points';},addPoint:function(point){this.awW(point);},addPoints:function(pointCollection){this.avA(pointCollection);},forEach:function(method,context){this.lj(method,context);},getPoint:function(index){return this.Am(index);},setPoint:function(index,point){this.aDt(index,point);},get_length:function(){return this.eN();},removePoint:function(index){this.ayG(index);},removeAllPoints:function(){this.axR();},moveAllPoints:function(deltaX,deltaY){this.afW(deltaX,deltaY);},add_pointAdded:function(handler){this.ayp(handler);},remove_pointAdded:function(handler){this.axO(handler);},add_pointChanged:function(handler){this.axU(handler);},remove_pointChanged:function(handler){this.ayx(handler);},add_pointRemoved:function(handler){this.ayE(handler);},remove_pointRemoved:function(handler){this.ayZ(handler);}};KW.registerClass=cd;KW.registerClass('IPCC.Web.UI.PointCollection');module.exports=KW;},{"../../IPCC.Util":28}],117:[function(require,module,exports){var cd=require('../../IPCC.Util').regClass;var Mn=function(){return this;};Mn.registerClass=cd;Mn.prototype={};Mn.registerClass('IPCC.Web.UI.PointEventArgs');module.exports=Mn;},{"../../IPCC.Util":28}],118:[function(require,module,exports){var cd=require('../../IPCC.Util').regClass;var LY=function(x,y,width,height){if(width<0){x+=width;width= -width;}if(height<0){y+=height;height= -height;}this.x=x;this.y=y;this.width=width;this.height=height;return this;};LY.prototype={intersect:function(rectangle){var aT=Math.max(this.x,rectangle.x);var ag=Math.min(this.x+this.width,rectangle.x+rectangle.width)-aT;var dI=Math.max(this.y,rectangle.y);var cq=Math.min(this.y+this.height,rectangle.y+rectangle.height)-dI;if(ag<=0||cq<=0){aT=dI=ag=cq=0;}this.x=aT;this.y=dI;this.width=ag;this.height=cq;},union:function(rectangle){var gi=Math.min(this.x,rectangle.x);var _top=Math.min(this.y,rectangle.y);var iX=Math.max(this.x+this.width,rectangle.x+rectangle.width);var kU=Math.max(this.y+this.height,rectangle.y+rectangle.height);this.x=gi;this.y=_top;this.width=iX-gi;this.height=kU-_top;return this;},scale:function(SA,RO){RO=RO||SA;var gi=this.x*SA;var _top=this.y*RO;var ag=this.width*SA;var cq=this.height*RO;this.x=gi;this.y=_top;this.width=ag;this.height=cq;return this;},toString:function(){return 'Rectangle('+this.x+', '+this.y+', '+this.width+', '+this.height+')';},contains:function(point){return point.x>=this.x&&point.y>=this.y&&point.x<this.x+this.width&&point.y<this.y+this.height;},clone:function(){return new IPCC.Web.UI.Rectangle(this.x,this.y,this.width,this.height);},equals:function(other){return this.x===other.x&&this.y===other.y&&this.width===other.width&&this.height===other.height;}};LY.registerClass=cd;LY.registerClass('IPCC.Web.UI.Rectangle');module.exports=LY;},{"../../IPCC.Util":28}],119:[function(require,module,exports){var dV=require('../../IPCC.Util').regEnum;var MO=function(){};MO.registerEnum=dV;MO.prototype={None:0,Both:3,Auto:4};MO.registerEnum('IPCC.Web.UI.ScrollBars',false);module.exports=MO;},{"../../IPCC.Util":28}],120:[function(require,module,exports){var cd=require('../../IPCC.Util').regClass;var Py=function(){return this;};Py.registerClass=cd;Py.prototype={};Py.registerClass('IPCC.Web.UI.TextSelectedEventArgs');module.exports=Py;},{"../../IPCC.Util":28}],121:[function(require,module,exports){var AV=require('./../../Type');var Vr={axr:1,ImGearDocumentHyperlink:require('./ImGearDocumentHyperlink'),ImGearTextCharacter:require('./ImGearTextCharacter'),ImGearTextCharacterCollection:require('./ImGearTextCharacterCollection'),ImGearHyperlinkCollection:require('./ImGearHyperlinkCollection'),ImGearHyperlinkPage:require('./ImGearHyperlinkPage'),ImGearTextPage:require('./ImGearTextPage'),ImGearTextSection:require('./ImGearTextSection'),ImGearTextSectionCollection:require('./ImGearTextSectionCollection'),ImGearPageCountStatus:require('./ImGearPageCountStatus'),ImGearPageCreateArgs:require('./ImGearPageCreateArgs'),ImGearPage:require('./ImGearPage'),ImGearPageEventArgs:require('./ImGearPageEventArgs'),ImGearPageCollection:require('./ImGearPageCollection'),ImGearDocumentCreateArgs:require('./ImGearDocumentCreateArgs'),ImGearDocument:require('./ImGearDocument'),ImGearDocumentEventArgs:require('./ImGearDocumentEventArgs'),ImGearDocumentCollection:require('./ImGearDocumentCollection'),ImGearPageOpenFailedEventArgs:require('./ImGearPageOpenFailedEventArgs'),ImGearExceptions:require('./ImGearExceptions'),ImGearException:require('./ImGearExceptions').BP,ImGearHttpException:require('./ImGearExceptions').BQ,ImGearArgumentException:require('./ImGearExceptions').wO,ImGearArgumentNullException:require('./ImGearExceptions').BN,ImGearArgumentOutOfRangeException:require('./ImGearExceptions').st,ImGearArgumentTypeException:require('./ImGearExceptions').ImGearArgumentTypeException,ImGearArgumentUndefinedException:require('./ImGearExceptions').Cu,ImGearInvalidOperationException:require('./ImGearExceptions').Ce,ImGearNotImplementedException:require('./ImGearExceptions').Ca,ImGearParameterCountException:require('./ImGearExceptions').CK,gp:require('./ImGearEventHandlerList'),ImGearArtDataServices:require('./ImGearArtDataServices'),MouseButton:require('./MouseButton'),MouseTool:require('./MouseTool'),aC:require('./DomEvent'),DebugErrorLevel:require('./DebugErrorLevel'),DebugItemCause:require('./DebugItemCause'),PageView:require('./PageView'),PageViewState:require('./PageViewState'),ArtPage:require('./ArtPage'),Key:require('./Key'),FitType:require('./FitType'),ScrollBars:require('./ScrollBars'),Rectangle:require('./Rectangle'),Point:require('./Point'),PointCollection:require('./PointCollection'),LogItemEventArgs:require('./LogItemEventArgs'),MouseEventArgs:require('./MouseEventArgs'),PointEventArgs:require('./PointEventArgs'),CommentEventArgs:require('./CommentEventArgs'),TextSelectedEventArgs:require('./TextSelectedEventArgs'),HighLightType:require('./HighLightType'),LineStyle:require('./LineStyle'),LineHeadType:require('./LineHeadType'),CalloutType:require('./CalloutType'),FontStyle:require('./FontStyle'),HorizontalAlignment:require('./HorizontalAlignment'),VerticalAlignment:require('./VerticalAlignment'),Orientation:require('./Orientation'),MarkHandleMode:require('./MarkHandleMode'),MarkInteractionMode:require('./MarkInteractionMode'),MarkType:require('./MarkType'),MarkEventArgs:require('./MarkEventArgs'),MarkCollection:require('./MarkCollection'),Mark:require('./Mark'),Comment:require('./Comment'),Conversation:require('./Conversation'),Data:require('./Data'),Zq:require('./highlightItem')};AV.registerNamespace('IPCC.Web.UI');module.exports=Vr;},{"./../../Type":56,"./ArtPage":65,"./CalloutType":66,"./Comment":67,"./CommentEventArgs":68,"./Conversation":69,"./Data":70,"./DebugErrorLevel":71,"./DebugItemCause":72,"./DomEvent":73,"./FitType":74,"./FontStyle":75,"./HighLightType":76,"./HorizontalAlignment":77,"./ImGearArtDataServices":78,"./ImGearDocument":79,"./ImGearDocumentCollection":80,"./ImGearDocumentCreateArgs":81,"./ImGearDocumentEventArgs":82,"./ImGearDocumentHyperlink":83,"./ImGearEventHandlerList":84,"./ImGearExceptions":85,"./ImGearHyperlinkCollection":86,"./ImGearHyperlinkPage":87,"./ImGearPage":88,"./ImGearPageCollection":89,"./ImGearPageCountStatus":90,"./ImGearPageCreateArgs":91,"./ImGearPageEventArgs":92,"./ImGearPageOpenFailedEventArgs":93,"./ImGearTextCharacter":94,"./ImGearTextCharacterCollection":95,"./ImGearTextPage":96,"./ImGearTextSection":97,"./ImGearTextSectionCollection":98,"./Key":99,"./LineHeadType":100,"./LineStyle":101,"./LogItemEventArgs":102,"./Mark":103,"./MarkCollection":104,"./MarkEventArgs":105,"./MarkHandleMode":106,"./MarkInteractionMode":107,"./MarkType":108,"./MouseButton":109,"./MouseEventArgs":110,"./MouseTool":111,"./Orientation":112,"./PageView":113,"./PageViewState":114,"./Point":115,"./PointCollection":116,"./PointEventArgs":117,"./Rectangle":118,"./ScrollBars":119,"./TextSelectedEventArgs":120,"./VerticalAlignment":122,"./highlightItem":123}],122:[function(require,module,exports){var dV=require('../../IPCC.Util').regEnum;var Oq=function(){};Oq.registerEnum=dV;Oq.prototype={Top:0,Center:1,Bottom:2};Oq.registerEnum('IPCC.Web.UI.VerticalAlignment',false);module.exports=Oq;},{"../../IPCC.Util":28}],123:[function(require,module,exports){var Zq=function(){this.eY=undefined;this.dO=[];this.ak={};};module.exports=Zq;},{}],124:[function(require,module,exports){var Vr=require('././UI/UI');var V=require('./../IPCC.Util');var yL=require('./Cipher');var aEj=require('./Hash');var hl=require('./Codec');var Eq=require('./Mode');var hd={};hd.avq=[];hd.yX=function(aT){return!isNaN(aT-0)&&aT!==null;};hd.yc=function(te,cC){return IPCC.Web.abF(false,arguments);};hd.age=function(te,cC){return IPCC.Web.abF(true,arguments);};hd.abF=function(useLocale,cC){var ah='';var te=cC[0];for(var L=0;;){var fa=te.indexOf('{',L);var mQ=te.indexOf('}',L);if((fa<0)&&(mQ<0)){ah+=te.slice(L);break;}if((mQ>0)&&((mQ<fa)||(fa<0))){if(te.charAt(close+1)!=='}'){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string contains an unmatched opening or closing brace.');}ah+=te.slice(L,mQ+1);L=mQ+2;continue;}ah+=te.slice(L,fa);L=fa+1;if(te.charAt(L)==='{'){ah+='{';L++;continue;}if(mQ<0){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string contains an unmatched opening or closing brace.');}var NU=te.substring(L,mQ);var Og=NU.indexOf(':');var akw=parseInt((Og<0)?NU:NU.substring(0,Og),10)+1;if(isNaN(akw)){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string is invalid.');}var Yj=(Og<0)?'':NU.substring(Og+1);var ti=cC[akw];if(typeof(ti)==="undefined"||ti===null){ti='';}if(ti.toFormattedString){ah+=ti.toFormattedString(Yj);}else if(useLocale&&ti.age){ah+=ti.age(Yj);}else if(ti.format){ah+=ti.format(Yj);}else{ah+=ti.toString();}L=mQ+1;}return ah;};hd.aFe=function(Dh){var rC=Dh.length;var xi=Math.ceil(rC/4),Mi;var eL=[];eL.length=xi;for(var jY=0,hi=0;jY<xi;jY++,hi+=4){eL[jY]=((Dh[hi]&0xff)<<24)+((Dh[hi+1]&0xff)<<16)+((Dh[hi+2]&0xff)<<8)+(Dh[hi+3]&0xff);}if(hi<rC){Mi[jY]=0;for(var vm=0;hi<rC;hi++,vm++){Mi[jY]+=(Dh[hi++]&0xff)<<(3-vm);}}return eL;};hd.auk=function(bp){var rC=bp.length;var xi=Math.ceil(rC/4);var eL=[];eL.length=xi;for(var jY=0,hi=0;jY<xi;jY++,hi+=4){eL[jY]=((bp.charCodeAt(hi)&0xff)<<24)+((bp.charCodeAt(hi+1)&0xff)<<16)+((bp.charCodeAt(hi+2)&0xff)<<8)+((bp.charCodeAt(hi+3)&0xff));}if(hi<rC){eL[jY]=0;for(var vm=0;hi<rC;hi++,vm++){eL[jY]+=(bp.charCodeAt(hi++)&0xff)<<(3-vm);}}return eL;};hd.aFW=function(yz){var CR=new Uint8Array(yz);var rC=CR.length;var xi=Math.ceil(rC/4),Mi;var eL=[];eL.length=xi;for(var jY=0,hi=0;jY<xi;jY++,hi+=4){eL[jY]=(CR[hi]<<24)+(CR[hi+1]<<16)+(CR[hi+2]<<8)+CR[hi+3];}if(hi<rC){eL[jY]=0;for(var vm=0;hi<rC;hi++,vm++){Mi[jY]+=CR[hi++]<<(3-vm);}}return eL;};hd.Fb=function(eL,gm){var aG=[0x116D0662,0xA8BB5E38,0x4D7F93C8,0xA61D2F6B,0xADB1384D,0x3D4AC7FB,0x4E6EB64E,0x6F4D7E8F];return IPCC.Web.DF(eL,aG,gm);};hd.DF=function(eL,aG,gm){try{var axw=new IPCC.Web.yL.ahy(aG);var ci=IPCC.Web.Eq.aul.UB(axw,eL,gm);return ci;}catch(aF){return;}};hd.FJ=function(GY){return IPCC.Web.auk(GY.responseText);};hd.Oo=function(){var Ec=new Date();var awe=new Date(Ec.getYear(),Ec.getMonth(),Ec.getDate(),Ec.getHours(),Ec.getMinutes(),Ec.getSeconds());return(+awe);};hd.kA=function(bW,elt){var len=bW.length>>>0;var from=Number(arguments[2])||0;from=(from<0)?Math.ceil(from):Math.floor(from);if(from<0){from+=len;}for(;from<len;from++){if(from in bW&&bW[from]===elt){return from;}}return-1;};hd.avQ=function aFO(){var le=0xefc8249d;var sd=function(ci){ci=ci.toString();for(var L=0;L<ci.length;L++){le+=ci.charCodeAt(L);var eF=0.02519603282416938*le;le=eF>>>0;eF-=le;eF*=le;le=eF>>>0;eF-=le;le+=eF*0x100000000;}return(le>>>0)*2.3283064365386963e-10;};sd.Ac='Mash 0.9';return sd;};hd.agl=function aFP(){return(function(cC){var Bg=0;var Er=0;var yg=0;var fD=1;if(cC.length===0){cC=[+new Date()];}var sd=IPCC.Web.avQ();Bg=sd(' ');Er=sd(' ');yg=sd(' ');for(var L=0;L<cC.length;L++){Bg-=sd(cC[L]);if(Bg<0){Bg+=1;}Er-=sd(cC[L]);if(Er<0){Er+=1;}yg-=sd(cC[L]);if(yg<0){yg+=1;}}sd=null;var vv=function(){var sk=2091639*Bg+fD*2.3283064365386963e-10;Bg=Er;Er=yg;yg=sk-(fD=sk|0);return yg;};vv.aej=function(){return vv()*0x100000000;};vv.aGP=function(){return vv()+(vv()*0x200000|0)*1.1102230246251565e-16;};vv.Ac='Alea 0.9';vv.cC=cC;return vv;}(Array.prototype.slice.call(arguments)));};hd.oV=function(){if(this.aez===undefined){var Au=document.createElement("div");Au.style.overflow='scroll';Au.style.position='absolute';Au.style.top='-9999px';document.body.appendChild(Au);this.aez=Au.offsetWidth-Au.clientWidth;document.body.removeChild(Au);}return this.aez;};hd.FT={aih:function(gS){var FC=[];var Zz=IPCC.Web.agl().aej;for(var L=0;L<gS;L++){FC.push(Zz());}return FC;},Wt:function(gS,fs){var FC=[];var Zz=IPCC.Web.agl(fs).aej;for(var L=0;L<gS;L++){FC.push(Zz());}return FC;},aIh:function(gm,avG){var gS,iz=true,eI="",IO,Xd,Yr,NF,KK,aiC;for(gS=0;gS<4;gS++){if(!iz){eI+='-';}else{iz=false;}KK=0;for(IO=0;IO<4;IO++){NF=gS*32+IO*8;Xd=IPCC.Web.gx.Sv(gm,NF,4);eI+=Xd.toString(16).toUpperCase();Yr=IPCC.Web.gx.Sv(gm,NF+4,4);eI+=Yr.toString(16).toUpperCase();aiC=(Xd*16+Yr+IPCC.Web.gx.Sv(IPCC.Web.aG,NF,8))%256;KK=KK|(aiC<<(24-(IO*8)));}avG.avq[gS]=KK;}return eI;}};hd.aG=[0x4B1C9AAE,0x25AE1AB6,0x48E3F1C8,0x8D61FC1A];hd.gx={Zc:function(dK,sq,aia){dK=IPCC.Web.gx.abh(dK.slice(sq/32),32-(sq&31)).slice(1);return(aia===undefined)?dK:IPCC.Web.gx.PB(dK,aia-sq);},Sv:function(dK,sq,YK){var aT,ZV=Math.floor((-sq-YK)&31);if((sq+YK-1^sq)& -32){aT=(dK[sq/32|0]<<(32-ZV))^(dK[sq/32+1|0]>>>ZV);}else{aT=dK[sq/32|0]>>>ZV;}return aT&((1<<YK)-1);},Vi:function(AU,wL){if(AU.length===0||wL.length===0){return AU.concat(wL);}var ij=AU[AU.length-1],rJ=IPCC.Web.gx.Yw(ij);if(rJ===32){return AU.concat(wL);}else{return IPCC.Web.gx.abh(wL,rJ,ij|0,AU.slice(0,AU.length-1));}},uW:function(dK){var pJ=dK.length,aT;if(pJ===0){return 0;}aT=dK[pJ-1];return(pJ-1)*32+IPCC.Web.gx.Yw(aT);},PB:function(dK,cj){if(dK.length*32<cj){return dK;}dK=dK.slice(0,Math.ceil(cj/32));var pJ=dK.length;cj=cj&31;if(pJ>0&&cj){dK[pJ-1]=IPCC.Web.gx.Kb(cj,dK[pJ-1]&0x80000000>>(cj-1),1);}return dK;},Kb:function(cj,aT,eu){if(cj===32){return aT;}return(eu?aT|0:aT<<(32-cj))+cj*0x10000000000;},Yw:function(aT){return Math.round(aT/0x10000000000)||32;},arl:function(dK,fI){if(IPCC.Web.gx.uW(dK)!==IPCC.Web.gx.uW(fI)){return false;}var aT=0,L;for(L=0;L<dK.length;L++){aT|=dK[L]^fI[L];}return(aT===0);},abh:function(dK,rJ,Jp,eI){var L,aiX=0,YH;if(eI===undefined){eI=[];}for(;rJ>=32;rJ-=32){eI.push(Jp);Jp=0;}if(rJ===0){return eI.concat(dK);}for(L=0;L<dK.length;L++){eI.push(Jp|dK[L]>>>rJ);Jp=dK[L]<<(32-rJ);}aiX=dK.length?dK[dK.length-1]:0;YH=IPCC.Web.gx.Yw(aiX);eI.push(IPCC.Web.gx.Kb(rJ+YH&31,(rJ+YH>32)?Jp:eI.pop(),1));return eI;},acj:function(aT,dI){return[aT[0]^dI[0],aT[1]^dI[1],aT[2]^dI[2],aT[3]^dI[3]];}};hd.yL=yL;hd.qv=aEj;hd.hl=hl;hd.Eq=Eq;hd.akh=V.akh;hd.UI=Vr;hd.regEnum=V.regEnum;hd.regClass=V.regClass;module.exports=hd;},{"./../IPCC.Util":28,"././UI/UI":121,"./Cipher":61,"./Codec":62,"./Hash":63,"./Mode":64}],125:[function(require,module,exports){var Yh=function ImageGearIndexOf(array,item,start){if(typeof(item)==="undefined"){return-1;}var length=array.length;if(length!==0){start=start-0;if(isNaN(start)){start=0;}else{if(isFinite(start)){start=start-(start%1);}if(start<0){start=Math.max(0,length+start);}}for(var i=start;i<length;i++){if((typeof(array[i])!=="undefined")&&(array[i]===item)){return i;}}}return-1;};module.exports=Yh;},{}],126:[function(require,module,exports){var aCF=function(Js,bI){var QZ=new IPCC.PageList(Js);if(bI){IPCC.QW(QZ,bI);}QZ.wP(Js);QZ.initialize();return QZ;};module.exports=aCF;},{}],127:[function(require,module,exports){var aCa=function(Js,TX){var qj=TX.handleTouchEvents!==false;var Rr=new IPCC.Web.UI.PageView(Js,qj);if(TX){IPCC.QW(Rr,TX);}Rr.wP(Js);Rr.initialize();return Rr;};module.exports=aCa;},{}],128:[function(require,module,exports){var pN={zoomInMenuItem:"Zoom In 25%",zoomOutMenuItem:"Zoom Out 25%",fullImageMenuItem:"Full Image",fullWidthMenuItem:"Full Width",fullHeightMenuItem:"Full Height",oneToOneRatioMenuItem:"1 to 1 Ratio",actualSizeMenuItem:"Actual Size",rotateRightMenuItem:"Rotate Clockwise",rotateLeftMenuItem:"Rotate Counter-Clockwise",mirrorHorizontalMenuItem:"Mirror Horizontal",mirrorVerticalMenuItem:"Mirror Vertical",panToolMenuItem:"Pan Tool",areaSelectionToolMenuItem:"Area Selection Tool",zoomRectangleToolMenuItem:"Zoom Rectangle Tool",flyingMagnifierToolMenuItem:"Flying Magnifier Tool",createTextMarkToolMenuItem:"Create Text Mark",createLineMarkToolMenuItem:"Create Line Mark",createPolygonMarkToolMenuItem:"Create Polygon Mark",createPolylineMarkToolMenuItem:"Create Polyline Mark",createRectangleMarkToolMenuItem:"Create Rectangle Mark",createEllipseMarkToolMenuItem:"Create Ellipse Mark",createFreehandMarkToolMenuItem:"Create Freehand Mark",editMarksToolMenuItem:"Edit Marks",runMarksToolMenuItem:"Run Marks",createStampMarkToolMenuItem:"Create Stamp Mark",createHighlightMarkToolMenuItem:"Create Highlight Mark",thicknessMenu:{item1:"1",item2:"2",item3:"3",item4:"4",item5:"5",item6:"6",item7:"7",item8:"8"},opacityMenu:{translucent:"Translucent (127)",opaque:"Opaque (255)"},calloutTypeMenu:{line:"Line",triangle:"Triangle"},borderThicknessMenuItem:"Border Thickness",borderColorMenuItem:"Border Color...",fillColorMenuItem:"Fill Color...",lineThicknessMenuItem:"Thickness",lineColorMenuItem:"Color...",fontMenuItem:"Font...",opacityMenuItem:"Opacity",calloutTypeMenuItem:"Callout Type",calloutVisibleMenuItem:"Callout Visible",moveToBackMenuItem:"Move to Back",moveBackwardMenuItem:"Move Backward",moveForwardMenuItem:"Move Forward",moveToFrontMenuItem:"Move to Front",deleteMarkMenuItem:"Delete Mark",zoomToFitMenuItem:"Zoom to Fit",orientationMenuItem:"Orientation",mouseToolsMenuItem:"Mouse Tools",rectangleMarkPropertiesMenuItem:"Properties",textMarkPropertiesMenuItem:"Properties",polygonMarkPropertiesMenuItem:"Properties",polylineMarkPropertiesMenuItem:"Properties",lineMarkPropertiesMenuItem:"Properties",markOrderingMenuItem:"Ordering",stampMarkPropertiesMenuItem:"Properties",selectColor:"Select Color",selectFont:"Select Font",ok:"OK",cancel:"CANCEL",red:"Red",green:"Green",blue:"Blue",font:"Font",size:"Size",italic:"Italic",bold:"Bold",underline:"Underline",strikeout:"Strikeout"};module.exports=pN;},{}],129:[function(require,module,exports){var QW=function(dA,jP){var mp;for(var aJ in jP){if(jP.hasOwnProperty(aJ)){var bK=jP[aJ];var aoj=dA["get_"+aJ];var aaX=dA["set_"+aJ];if(typeof(aaX)==='function'){aaX.apply(dA,[bK]);}else if(bK instanceof Array){mp=aoj.apply(dA);if(!(mp instanceof Array)){throw new new IPCC.Web.UI.ImGearInvalidOperationException(aJ+" is not an Array property");}for(var L=0,aw=mp.length,pJ=bK.length;L<pJ;L++,aw++){mp[aw]=bK[L];}}}}};module.exports=QW;},{}],130:[function(require,module,exports){"use strict";var agD=function(aA){if(aA instanceof PCCViewer.AjaxResponse){return aA;}else if(!(this instanceof PCCViewer.AjaxResponse)){return new PCCViewer.AjaxResponse(aA);}this.qJ=new IPCC.V.qJ(aA);this.status=this.qJ.status;this.statusText=this.qJ.statusText;this.responseText=this.qJ.responseText;if(typeof this.qJ.responseBody!=='undefined'){this.responseBody=this.qJ.responseBody;}return this;};agD.prototype.getResponseHeader=function(Cl){return this.qJ.getResponseHeader(Cl);};var BS=(function(){function aoT(){return IPCC.V.extend({},IPCC.V.mx.iH);};function azZ(iH){if(!(typeof iH==='undefined'||(typeof iH==='object'&&iH!==null&& !(iH instanceof Array)))){throw new Error('Headers should be an object or undefined.');}if(typeof iH==='object'){var asQ=Object.keys(IPCC.V.ahW());Object.keys(iH).forEach(function(Cl){if(asQ.indexOf(Cl)!== -1){throw new Error('Cannot overwrite the header "'+Cl+'".');}});}IPCC.V.mx.iH=IPCC.V.extend({},iH);return PCCViewer.Ajax;};function aph(){return IPCC.V.mx.Ns;};function aAb(ji){if(typeof ji!=='undefined'&&typeof ji!=='function'){throw new Error('Method should be a function or undefined.');}IPCC.V.mx.Ns=ji;return PCCViewer.Ajax;};function fa(bI){var aW=PCCViewer.Deferred();if(!(typeof bI==='undefined'||(typeof bI==='object'&&bI!==null&& !(bI instanceof Array)))){throw new Error('Options should be an object or undefined.');}function fB(aA){if(!(aA instanceof PCCViewer.AjaxResponse)){aA=new PCCViewer.AjaxResponse(aA);}aW.resolve(aA);};function fh(ah){if(ah.response){ah.response=new PCCViewer.AjaxResponse(ah.response);}aW.reject(ah);};IPCC.V.mx.fa(bI).then(fB,fh);return aW.getPromise();};return{getHeaders:aoT,setHeaders:azZ,getOverrideMethod:aph,setOverrideMethod:aAb,fa:fa,};})();if(Object.defineProperties){Object.defineProperties(BS,{"headers":{enumerable:true,get:function(){return BS.getHeaders();},set:function(iH){return BS.setHeaders(iH);}},"overrideMethod":{enumerable:true,get:function(){return BS.getOverrideMethod();},set:function(ji){return BS.setOverrideMethod(ji);}}});}module.exports={AjaxResponse:agD,Ajax:BS};},{}],131:[function(require,module,exports){var BurnRequest=function(bI){this.oz="";this.ek="";this.mg=0;this.qB="";this.ei="";this.pG=0;this.gn=false;this.pA=0;this.VV="";this.qc=false;this.aW=PCCViewer.Deferred();this.de=this.aW.getPromise();this.then=this.de.then;this.bI=bI;this.ei=null;this.fq=undefined;this.sC=false;this.OU=null;PCCViewer.EventEmitter.extend(this);var J=this;if(bI.ov){var ov=new PCCViewer.Error(bI.ov.code,bI.ov.message);delete J.bI.ov;setTimeout(function(){J.trigger(PCCViewer.BurnRequest.EventType.BurnCancelled,{});J.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});J.ei=ov.code;J.aW.reject(ov);},0);}};BurnRequest.EventType={BurnProgress:"BurnProgress",BurnCompleted:"BurnCompleted",BurnFailed:"BurnFailed",BurnCancelled:"BurnCancelled",BurnWorkerCreated:"BurnWorkerCreated"};BurnRequest.prototype.cancel=function(){var J=this;this.qc=true;this.ei="User Cancelled";setTimeout(function(){J.trigger(PCCViewer.BurnRequest.EventType.BurnCancelled,{});J.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});J.aW.reject(new PCCViewer.Error("UserCancelled","User Cancelled"));},0);return this;};BurnRequest.prototype.getProgress=function(){return this.mg;};BurnRequest.prototype.getWorkerID=function(){return this.oz;};BurnRequest.prototype.getOptions=function(){return this.bI;};BurnRequest.prototype.getErrorCode=function(){return this.ei;};BurnRequest.prototype.getBurnedDocumentDownloadURL=function(){return this.OU;};BurnRequest.prototype.aEd=function(jG){this.VV=jG;};BurnRequest.prototype.RH=function(fq){this.fq=fq;};BurnRequest.prototype.Yf=function(){var J=this;this.ei="Failure to generate Markup XML";setTimeout(function(){J.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});J.aW.reject(new PCCViewer.Error("MarkupXMLFail",J.ei));},0);return this;};BurnRequest.prototype.EG=function(){function fB(aA){var gU,ah;try{gU=aA.responseText;if(!gU){setTimeout(function(){J.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});J.aW.reject(new PCCViewer.Error("ResponseEmpty","Empty/invalid response from the server"));},0);J.sC=true;return;}else{ah=JSON.parse(gU);setTimeout(function(){aCP(ah);},0);}}catch(e){setTimeout(function(){J.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});J.aW.reject(new PCCViewer.Error("BurnFailErrorCode","Burn process failed, error: "+e.message));},0);J.sC=true;return;}};function fh(ah){J.gn=false;var dv=ah.response.status+" "+ah.response.statusText;setTimeout(function(){J.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});J.aW.reject(new PCCViewer.Error("StatusCode","Status Code "+dv));},0);J.sC=true;return;};try{if(!this.VV){throw new Error("XMl Markup data for burn is missing");}var J=this;var aic=function(){var UQ;if(!(/^[\x00-\x7F]*$/.test(J.fq.bP.get_documentIdentifier()))){UQ=J.fq.bI.imageHandlerUrl+'/ViewingSession/e'+J.fq.bI.documentID+'/MarkupBurner/'+J.oz;}else{UQ=J.fq.bI.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(J.fq.bI.documentID)+'/MarkupBurner/'+J.oz;}PCCViewer.Ajax.fa({method:'GET',url:UQ,headers:{'Content-Type':'application/json'}}).then(fB,fh);};var aCP=function(gg){if(gg){if(J.qc===true){J.gn=false;return;}if(gg.percentComplete>=0&&J.gn===true){if(gg.percentComplete===100&&gg.state==='complete'){if(gg.processId){J.gn=false;J.oz=gg.processId;J.ek=gg.state;J.pG+=1;J.pA=1000;J.mg= +(gg.percentComplete);var It;if(!(/^[\x00-\x7F]*$/.test(J.fq.bP.get_documentIdentifier()))){It=J.fq.bI.imageHandlerUrl+'/ViewingSession/e'+J.fq.bI.documentID+'/MarkupBurner/'+J.oz+"/Document";}else{It=J.fq.bI.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(J.fq.bI.documentID)+'/MarkupBurner/'+J.oz+"/Document";}if(J.bI.filename){It+="?ContentDispositionFilename="+J.bI.filename;}J.OU=It;J.sC=true;var azc= +(gg.percentComplete);setTimeout(function(){J.trigger(PCCViewer.BurnRequest.EventType.BurnCompleted,{});J.trigger(PCCViewer.BurnRequest.EventType.BurnProgress,{progress:azc});J.aW.resolve(It);},10);return;}}else{if(gg.state==='error'){J.gn=false;J.ei=gg.errorCode;setTimeout(function(){J.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});J.aW.reject(new PCCViewer.Error("BurnFailError","BurnProcess failed, errorCode: "+J.ei));},0);J.gn=false;J.sC=true;return;}if(gg.processId){var QB= +(gg.percentComplete);if(J.mg!==QB){setTimeout(function(){J.trigger(PCCViewer.BurnRequest.EventType.BurnProgress,{progress:QB});},10);}if(!J.oz){J.oz=gg.processId;setTimeout(function(){J.trigger(PCCViewer.BurnRequest.EventType.BurnWorkerCreated,{});},0);J.ek=gg.state;J.pG=1;J.gn=true;J.pA=1000;J.mg= +(gg.percentComplete);}if(gg.percentComplete<100){if(J.pG>1){J.pA+=1000;}J.pG+=1;J.ek=gg.state;J.mg= +(gg.percentComplete);if(J.gn===true&&J.qc===false&&J.sC===false){setTimeout(aic,J.pA);}}}}}else{if(J.sC===false){var abC=false;if(J.gn===false){if(gg.state==='complete'){if(!J.OU){abC=true;}else{J.sC=true;setTimeout(function(){J.trigger(PCCViewer.BurnRequest.EventType.BurnCompleted,{});J.aW.resolve(J.OU);},10);return;}}if(gg.state==='processing'&&gg.errorCode===null){if(gg.percentComplete>=0&&gg.percentComplete<100){if(J.pG>1){J.pA+=1000;}J.pG+=1;J.gn=true;J.ek=gg.state;J.mg= +(gg.percentComplete);if(J.gn===true&&J.qc===false){setTimeout(aic,J.pA);}}else{abC=true;}}if(gg.state==='error'||abC===true){J.gn=false;J.ei=gg.errorCode;setTimeout(function(){J.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});J.aW.reject(new PCCViewer.Error("BurnFailError","BurnProcess failed, errorCode: "+gg.errorCode));},0);J.gn=false;J.sC=true;return;}}}}}};var an;if(!(/^[\x00-\x7F]*$/.test(J.fq.bP.get_documentIdentifier()))){an=J.fq.bI.imageHandlerUrl+'/ViewingSession/e'+J.fq.bI.documentID+'/MarkupBurner';}else{an=J.fq.bI.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(J.fq.bI.documentID)+'/MarkupBurner';}if(J.bI.removeFormFields){an+='?RemoveFormFields=acroform';}PCCViewer.Ajax.fa({method:'POST',url:an,headers:{'Content-Type':'application/xml;charset=utf-8'},body:J.VV}).then(fB,fh);J.gn=true;}catch(e){this.gn=false;var bQ=this,jW=e.message;setTimeout(function(){bQ.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});bQ.aW.reject(new PCCViewer.Error("BurnFailErrorCode","The burn process failed, error: "+jW));},0);this.sC=true;}};if(Object.defineProperties){Object.defineProperties(BurnRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"workerID":{enumerable:true,get:function(){return this.getWorkerID();}},"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"burnedDocumentDownloadURL":{enumerable:true,get:function(){return this.getBurnedDocumentDownloadURL();}}});}module.exports=BurnRequest;},{}],132:[function(require,module,exports){function arf(bP,aP){var ap=bP.cX.jE(aP);var dW=ap.bY();return dW.CJ();};function arp(bP,aP){var ap=bP.cX.jE(aP);var dW=ap.bY();var Jh=dW.hc();return Jh.apd();};function atX(zq,arP){var cj=zq.length;if(cj===0){return false;}if(cj!==arP){return false;}for(var L=0;L<cj;L++){if(zq[L]!==true){return false;}}return true;};var PA=function(){var J=this;this.Iu=false;this.zq=[];this.sT=[];this.Aw=[];this.amA=0;this.aM=0;this.hZ=false;function pE(IV,Ug){switch(IV){case 'failed':setTimeout(function(){J.bz.trigger('SearchFailed',Ug);},10);break;case 'complete':J.bz.ec=J.sT;J.bz.Sz=J.Aw;J.bz.ue=true;setTimeout(function(){J.bz.trigger('SearchResultsAvailable',{completedSearchResults:(J.sT)});},10);break;case 'cancelled':break;}setTimeout(function(){J.bz.trigger('SearchCompleted',{completedSearchResults:(J.sT)});},10);};function aAa(){J.bz.dm='Unable to communicate with server, please retry loading the document.';J.bz.ei='1011';J.bz.ue=true;pE('failed',{errorMessage:('Unable to communicate with server, please retry loading the document.')});J.hZ=true;};function aao(bI,ayf){var ays=IPCC.V.trim(bI.type||'').toLowerCase();var ah;switch(ays){case 'taskresult':ah=new PCCViewer.SearchTaskResult();break;default:ah=new PCCViewer.SearchResult();break;}IPCC.V.extend(ah,ayf);var abm=ah.qO+ah.text.length-1;var cc=PCCViewer.GZ.formatter.getContext({text:bI.searchText,startIndex:ah.qO,endIndex:abm,padding:ah.bV.contextPadding});ah.cc=cc.context;ah.Bc=cc.startIndex;if(bI.rectangles){var afM={rectangles:bI.rectangles,startIndex:ah.qO,endIndex:abm};ah.lZ=PCCViewer.GZ.formatter.getBoundingRectangle(afM);ah.bE=PCCViewer.GZ.formatter.getLineRectangles(afM);}return ah;};function afj(lY,wq,Ji,fZ,gM){var Ht=[];var YI= !fZ;var wj=wq.distance;var AO=[];IPCC.V.forEach(wq.dN,function(dN){AO.push(dN.searchTerm);});var aAR=PCCViewer.GZ.proximity.getResults(Ji,AO,wj);IPCC.V.forEach(aAR,function(ah){var eg=aao({type:YI?'TaskResult':'Result',searchText:Ji,rectangles:fZ},{gM:gM,bV:wq.uw,lY:lY,qZ:wq.highlightColor,qO:ah.startIndex,bp:ah.text});Ht.push(eg);});return Ht;};function MQ(lY,dN,Ji,fZ,gM){var YI= !fZ;var Ht=[];var Ov=[dN.searchTerm];var ec=PCCViewer.GZ.regex.getResults(Ji,Ov);IPCC.V.forEach(ec,function(ah){if(dN.uw.matchingOptions.wildcard&&(ah.text[0]===" "||ah.text[0]==="\n")){ah.text=ah.text.substring(1);ah.startIndex+=1;}var eg=aao({type:YI?'TaskResult':'Result',searchText:Ji,rectangles:fZ},{gM:gM,lY:lY,dN:dN,bV:dN.uw,qO:ah.startIndex,bp:ah.text,qZ:dN.highlightColor});Ht.push(eg);});return Ht;};function asj(amv,aP,bP,fZ){var Uf=[];var lY=Date.now();IPCC.V.forEach(J.dN,function(dN,L){var ec;var oi=IPCC.V.Oc(dN.type);var ap=bP.cX.jE(aP);var gM={width:ap.ki(),height:ap.iy()};switch(oi){case 'proximity':ec=afj(lY,dN,amv,fZ,gM);break;default:ec=MQ(lY,dN,amv,fZ,gM);break;}IPCC.V.forEach(ec,function(ah){ah.cR=J.aM;ah.be=aP+1;ah.FZ=bP.get_documentIdentifier();J.sT[J.aM]=ah;J.aM++;Uf.push(ah);});});J.bz.ec=J.sT;if(Uf.length){setTimeout(function(){J.bz.trigger('PartialSearchResultsAvailable',{partialSearchResults:(Uf),pagesWithoutText:(J.Aw)});},10);}};function asg(bp){var lY=Date.now();IPCC.V.forEach(J.dN,function(dN,L){var oi=IPCC.V.Oc(dN.type);var ec;switch(oi){case 'proximity':ec=afj(lY,dN,bp);break;default:ec=MQ(lY,dN,bp);break;}IPCC.V.forEach(ec,function(ah){ah.cR=J.aM;J.sT[J.aM]=ah;J.aM++;});});J.bz.ec=J.sT;};function afC(ze,bP){for(var L=0;L<ze.length;L++){if(J.zq[ze[L]]===false){J.zq[ze[L]]=true;var bp=arf(bP,ze[L]);var fZ=arp(bP,ze[L]);if(!bp&&bp!==null){J.Aw[J.amA]=ze[L];J.amA++;continue;}asj(bp,ze[L],bP,fZ);if(J.bz.qc){if(J.Iu){pE('cancelled');J.Iu=false;bP.remove_textPagesReceived(Lg);return;}break;}}}if(atX(J.zq,bP.fN)&& !J.bz.ue){pE('complete');J.Iu=false;bP.remove_textPagesReceived(Lg);}};function Lg(sender,G){if(G.error=== -1){aAa();return J.bz;}try{if(J.hZ===false){afC(G.textPagesReceived,sender);}}catch(e){J.bz.dm=e.message;J.bz.ei='1010';J.bz.ue=true;pE('failed',{errorMessage:(e.message)});J.hZ=true;return J.bz;}};this.Tu=function(bP,dN,eH,bz){J.dN=dN;J.bz=bz;J.bz.eH=eH;J.bz.on('SearchCancelled',function(){pE('cancelled');J.Iu=false;bP.remove_textPagesReceived(Lg);});for(var L=0;L<bP.fN;L++){J.zq[L]=false;}if(bP.ajM().eN()>bP.get_numberOfPagesWithText()){J.Iu=true;bP.add_textPagesReceived(Lg);}if(bP.get_numberOfPagesWithText()>0){afC(bP.get_pagesWithText(),bP);}return J.bz;};this.asY=function(bp){this.bz=new PCCViewer.SearchRequest();try{asg(bp);}catch(e){J.bz.dm=e.message;J.bz.ei='1010';return;}};};module.exports=PA;},{}],133:[function(require,module,exports){var Comment=function Comment(comment,conversation){if(!(comment instanceof IPCC.Web.UI.Comment)&&(typeof comment!=='string')){throw new Error(comment+' is not a string.');}if(!(conversation instanceof PCCViewer.Conversation)){throw new Error(conversation+' is not a PCCViewer.Conversation object.');}this.getConversation=function aHo(){return conversation;};if(typeof comment==='string'){this.pp=new IPCC.Web.UI.Comment(comment);}else{this.pp=comment;}this.pp.Kl=this;this.ci=this.pp.get_data();PCCViewer.Data.extend(this);this.Bb=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);};Comment.prototype.getMarkupLayer=function aGY(){return this.im;};Comment.prototype.getText=function aGz(){return this.pp.get_text();};Comment.prototype.setText=function aGl(text){if(typeof text!=='string'){throw new Error(text+' is not a string.');}this.pp.set_text(text);return this;};Comment.prototype.getCreationTime=function aHV(){var ats=IPCC.V.JY(this.pp.get_creationTime());return new Date(ats);};Comment.prototype.setCreationTime=function aFU(time){function ann(){throw new Error(time+' is not a valid string or Date object.');};if(typeof time==='string'){var ajf=IPCC.V.JY(time);if(ajf instanceof Error){ann();}time=new Date(ajf);}if(!(time instanceof Date)){ann();}this.pp.set_creationTime(IPCC.V.uF(time));return this;};if(Object.defineProperties){Object.defineProperties(Comment.prototype,{"text":{enumerable:true,get:function(){return this.getText();},set:function(text){return this.setText(text);}},"creationTime":{enumerable:true,get:function(){return this.getCreationTime();},set:function(time){return this.setCreationTime(time);}}});}var Conversation=function Conversation(mark){if(!(mark instanceof PCCViewer.Mark)){throw new Error(mark+' is not a PCCViewer.Mark object.');}this.getMark=function Rm(){return mark;};this.iK=new PCCViewer.ObservableCollection();if(typeof mark.R!=="undefined"){this.yi=mark.R.get_conversation();this.yi.forEach(function(pp){var cA=new PCCViewer.Comment(pp,this);this.iK.add(cA);},this);}else{this.yi=new IPCC.Web.UI.Conversation();}this.ci=this.yi.get_data();PCCViewer.Data.extend(this);this.Bb=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);};Conversation.prototype.addComment=function GN(commentText){var cA=new PCCViewer.Comment(commentText,this);this.iK.add(cA);this.yi.addComment(cA.pp);return cA;};Conversation.prototype.deleteComments=function(comments){var J=this;var acb=this.iK.toArray();var ajW=function(cA){for(var i=0,length=acb.length;i<length;i++){if(acb[i]===cA){return true;}}return false;};function amu(cA,aM){throw new Error(cA+((aM!==undefined)?' (Array index '+aM+')':'')+' is not a PCCViewer.Comment object.');};function amE(cA,aM){throw new Error(((aM!==undefined)?' (Array index '+aM+')':'')+' is not part of this Conversation object.');};if(comments instanceof PCCViewer.Comment){if(!ajW(comments)){amE(comments);}J.iK.remove(comments);J.yi.removeCommentInstance(comments.pp);}else if(comments instanceof Array){IPCC.V.forEach(comments,function(el,idx){if(!(el instanceof PCCViewer.Comment)){amu(el,idx);}if(!ajW(el)){amE(el,idx);}});IPCC.V.forEach(comments,function(el){J.iK.remove(el);J.yi.removeCommentInstance(el.pp);});}else{amu(comments);}return this;};Conversation.prototype.getComments=function(){return this.iK.toArray().sort(function(a,b){return a.getCreationTime().getTime()-b.getCreationTime().getTime();});};Conversation.qE=function(gA,nI){if(typeof gA.getComments!=="function"||typeof nI.addComment!=="function"){throw new Error("Arguments `_source` and `_destination` must be Conversation objects.");}PCCViewer.Data.oA(gA,nI);var gK=gA.getComments(),i,length=gK.length;for(i=0;i<length;i++){var afI=gK[i];var aqv=nI.addComment(afI.getText());PCCViewer.Data.oA(afI,aqv);}};module.exports={Conversation:Conversation,Comment:Comment};},{}],134:[function(require,module,exports){var ConversionRequest=function(bI){this.oz="";this.ek="";this.mg=0;this.ei="";this.gn=false;this.qc=false;this.bI=bI;this.Af=null;this.Eo=null;this.fq=undefined;this.aW=PCCViewer.Deferred();this.de=this.aW.getPromise();this.then=this.de.then;PCCViewer.EventEmitter.extend(this);};ConversionRequest.EventType={ConversionProgress:"ConversionProgress",ConversionCompleted:"ConversionCompleted",ConversionFailed:"ConversionFailed",ConversionCancelled:"ConversionCancelled",ConversionWorkerCreated:"ConversionWorkerCreated"};ConversionRequest.prototype.cancel=function(){var J=this;this.qc=true;this.ei="User Cancelled";setTimeout(function(){J.trigger(PCCViewer.ConversionRequest.EventType.ConversionCancelled,{});J.trigger(PCCViewer.ConversionRequest.EventType.ConversionFailed,{});J.aW.reject(new PCCViewer.Error("UserCancelled","User Cancelled"));},0);return this;};ConversionRequest.prototype.getProgress=function(){return this.mg;};ConversionRequest.prototype.getWorkerID=function(){return this.oz;};ConversionRequest.prototype.getOptions=function(){return this.bI;};ConversionRequest.prototype.getErrorCode=function(){return this.ei;};ConversionRequest.prototype.getConvertedDocumentDownloadURL=function(){return this.Af;};ConversionRequest.prototype.getConvertedDocumentDownloadURLs=function(){if(this.Eo){return this.Eo.slice();}return null;};ConversionRequest.prototype.RH=function(fq){this.fq=fq;};ConversionRequest.prototype.EG=function(){var J=this;J.gn=true;J.aFt().then(function onResolve(qa){J.oz=qa.processId;J.mg=qa.percentComplete;J.ek=qa.state;J.trigger(PCCViewer.ConversionRequest.EventType.ConversionWorkerCreated,{});J.ayX(qa).then(function onResolve(aty){J.gn=false;J.Eo=[];if(J.bI.Ac>1){for(var L=0;L<J.axv;L++){var Af=J.fq.bI.imageHandlerUrl+'/v2/viewingSessions/'+J.fq.bI.documentID+'/contentConverters/'+J.oz+'/results/'+L+'/file?ContentDispositionFilename='+encodeURIComponent(J.bI.filename);J.Eo.push(Af);}J.aW.resolve(J.Eo);}else{J.Af=J.fq.bI.imageHandlerUrl+'/WorkFile/'+aty+"?ContentDispositionFilename="+encodeURIComponent(J.bI.filename);if(qa.affinityToken){J.Af+="&affinityToken="+encodeURIComponent(qa.affinityToken);}J.Eo.push(J.Af);J.aW.resolve(J.Af);}J.trigger(PCCViewer.ConversionRequest.EventType.ConversionCompleted,{});},function onReject(reason){J.gn=false;J.ei=reason.error.code;J.aW.reject(reason);J.trigger(PCCViewer.ConversionRequest.EventType.ConversionFailed,{});});},function onReject(reason){J.gn=false;J.aW.reject(reason);J.trigger(PCCViewer.ConversionRequest.EventType.ConversionFailed,{});});};ConversionRequest.prototype.aFt=function(){var an,ke=PCCViewer.Deferred();var SL;if(this.bI.Ac>1){an=this.fq.bI.imageHandlerUrl+'/v2/viewingSessions/'+this.fq.bI.documentID+'/contentConverters/';SL={url:an,method:'POST',headers:{"Content-Type":"application/json"}};}else{an=this.fq.bI.imageHandlerUrl+'/contentConverters/';SL={url:an,method:'POST',headers:{"Content-Type":"application/json"},body:JSON.stringify({viewingSessionId:this.fq.bI.documentID})};}PCCViewer.Ajax.fa(SL).then(function fB(aA){var ah=JSON.parse(aA.responseText);ke.resolve(ah);},function fh(ah){ke.reject(ah.error);});return ke.getPromise();};ConversionRequest.prototype.ayX=function(qa){var an,ke=PCCViewer.Deferred(),J=this,iH;if(J.bI.Ac>1){an=this.fq.bI.imageHandlerUrl+'/v2/viewingSessions/'+this.fq.bI.documentID+'/contentConverters/'+qa.processId;}else{an=this.fq.bI.imageHandlerUrl+'/contentConverters/'+qa.processId;}if(qa.affinityToken){iH={"Accusoft-Affinity-Token":qa.affinityToken};}(function poll(){setTimeout(function(){PCCViewer.Ajax.fa({method:'GET',url:an,headers:iH}).then(function fB(aA){var ah=JSON.parse(aA.responseText);J.oz=ah.processId;J.mg=ah.percentComplete;J.ek=ah.state;if(J.bI.Ac>1&&ah.output){J.axv=ah.output.results.length;}J.trigger(PCCViewer.ConversionRequest.EventType.ConversionProgress,{progress:J.mg});if(ah.percentComplete===100){if(ah.state==="error"){ke.reject({response:aA,error:new PCCViewer.Error("CouldNotConvert","Could not convert document")});}else{ke.resolve(ah.output.results[0].fileId);}}else{poll();}},function fh(ah){ke.reject(ah.error);});},3000);})();return ke.getPromise();};if(Object.defineProperties){Object.defineProperties(ConversionRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"workerID":{enumerable:true,get:function(){return this.getWorkerID();}},"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"convertedDocumentDownloadURL":{enumerable:true,get:function(){return this.getConvertedDocumentDownloadURL();}},"convertedDocumentDownloadURLs":{enumerable:true,get:function(){return this.getConvertedDocumentDownloadURLs();}}});}module.exports=ConversionRequest;},{}],135:[function(require,module,exports){"use strict";var Data=(function(){function getData(key){return this.ci.get_data(key);};function setData(key,value){this.ci.set_data(key,value);return this;};function getDataKeys(){return this.ci.get_dataKeys();};return{extend:function(o){o.getData=getData;o.setData=setData;o.getDataKeys=getDataKeys;},oA:function(gA,nI){if(typeof gA.getData!=="function"||typeof gA.setData!=="function"||typeof gA.getDataKeys!=="function"||typeof nI.getData!=="function"||typeof nI.setData!=="function"||typeof nI.getDataKeys!=="function"){throw new Error("Arguments `_source` and `_destination` must be extended with the Data Mixin.");}var oR=gA.getDataKeys(),i,length=oR.length;for(i=0;i<length;i++){var aG=oR[i];nI.setData(aG,gA.getData(aG));}}};})();var SessionData=(function(){function getSessionData(key){return this.Bb.get_data(key);};function setSessionData(key,value){this.Bb.set_data(key,value);return this;};function getSessionDataKeys(){return this.Bb.get_dataKeys();};return{extend:function(o){o.getSessionData=getSessionData;o.setSessionData=setSessionData;o.getSessionDataKeys=getSessionDataKeys;},aGh:function(gA,nI){if(typeof gA.getSessionData!=="function"||typeof gA.setSessionData!=="function"||typeof gA.getSessionDataKeys!=="function"||typeof nI.getSessionData!=="function"||typeof nI.setSessionData!=="function"||typeof nI.getSessionDataKeys!=="function"){throw new Error("Arguments `_source` and `_destination` must be extended with the SessionData Mixin.");}var oR=gA.getSessionDataKeys(),i,length=oR.length;for(i=0;i<length;i++){var aG=oR[i];nI.setSessionData(aG,gA.getSessionData(aG));}}};})();module.exports={SessionData:SessionData,Data:Data};},{}],136:[function(require,module,exports){'use strict';function PromiseDeferred(){this.ek=PromiseDeferred.States.Pending;this.h=null;this.fw=null;this.gD=[];};PromiseDeferred.prototype.then=function(onFulfilled,onRejected){var Av=new PromiseDeferred();var abo,Rj;if(onFulfilled&&typeof onFulfilled==='function'){var azs=function(h){try{var bd=onFulfilled(h);Av.resolve(bd);}catch(e){Av.reject(e);}};abo=azs;}else{var azg=function(h){Av.resolve(h);};abo=azg;}if(onRejected&&typeof onRejected==='function'){var aAM=function(fw){try{var bd=onRejected(fw);Va(Av,bd);}catch(e){Av.reject(e);}};Rj=aAM;}else{var azX=function(fw){Av.reject(fw);};Rj=azX;}this.gD.push({atA:abo,awL:Rj});if(this.ek===PromiseDeferred.States.Fulfilled){this.ajJ();}if(this.ek===PromiseDeferred.States.Rejected){this.alz();}return Av;};PromiseDeferred.prototype.resolve=function(x){if(!this.ahm()){return;}Va(this,x);};PromiseDeferred.prototype.reject=function(reason){if(!this.ahm()){return;}this.zT(reason);};PromiseDeferred.prototype.QY=function(aT){this.ek=PromiseDeferred.States.Fulfilled;this.h=aT;this.ajJ();};PromiseDeferred.prototype.ajJ=function(){var callback;while(this.gD.length>0){callback=this.gD.shift().atA;(function(lm,h){setTimeout(function(){lm(h);},0);})(callback,this.h);}};PromiseDeferred.prototype.alz=function(){var callback;while(this.gD.length>0){callback=this.gD.shift().awL;(function(lm,h){setTimeout(function(){lm(h);},0);})(callback,this.fw);}};function Va(de,aT){if(de===aT){de.zT(new TypeError("A Promise cannot be resolved with a value that is itself."));return;}if(aT&&aT.Yc&&de.aev&&de.aev===aT){de.zT(new TypeError("A Promise cannot be resolved with a value that is itself."));return;}if(aT&&aT.Yc&&aT.Yc==="PCCViewer.Promise"){aT.then(function(apO){de.QY(apO);},function(aqh){de.zT(aqh);});}else if(aT!==null&&(typeof aT==='object'||typeof aT==='function')){var QT;try{QT=aT.then;}catch(e){de.zT(e);return;}if(typeof QT==='function'){var Jk=true;var aqC=function(dI){if(Jk){Va(de,dI);Jk=false;}};var apJ=function(bd){if(Jk){de.zT(bd);Jk=false;}};try{QT.call(aT,aqC,apJ);}catch(e){if(Jk){de.zT(e);}}}else{de.QY(aT);}}else{de.QY(aT);}};PromiseDeferred.prototype.zT=function(reason){this.ek=PromiseDeferred.States.Rejected;this.fw=reason;this.alz();};PromiseDeferred.prototype.ahm=function(){return this.ek===PromiseDeferred.States.Pending;};PromiseDeferred.States={Pending:"Pending",Fulfilled:"Fulfilled",Rejected:"Rejected"};var Deferred=function(){var Tf=new PromiseDeferred();function Promise(de){this.then=function(onFulfilled,onRejected){return new Promise(de.then(onFulfilled,onRejected));};this.Yc="PCCViewer.Promise";de.aev=this;};var promise=new Promise(Tf);return{getPromise:function(){return promise;},resolve:function(value){Tf.resolve(value);},reject:function(reason){Tf.reject(reason);}};};var Promise={all:function(promises){var i,aW=new PCCViewer.Deferred(),Zs=aW.getPromise();if(Object.prototype.toString.call(promises)!=='[object Array]'){throw new TypeError("The 'promises' argument must be an array.");}function createPushFunction(promise){return function(results){return wrapWithPromise(promise).then(function(value){results.push(value);return results;});};};function wrapWithPromise(value){var aW=new PCCViewer.Deferred();aW.resolve(value);return aW.getPromise();};aW.resolve([]);for(i=0;i<promises.length;i++){Zs=Zs.then(createPushFunction(promises[i]));}return Zs;}};if(typeof exports!=='undefined'&&module.exports){module.exports.Deferred=Deferred;module.exports.Promise=Promise;}},{}],137:[function(require,module,exports){var DocumentHyperlink=function DocumentHyperlink(parameters){this.AB=parameters.AB;this.be=parameters.be;};DocumentHyperlink.prototype.getHref=function(){return this.AB.akR();};DocumentHyperlink.prototype.getPageNumber=function(){return this.be;};DocumentHyperlink.prototype.getRectangle=function(){return this.AB.ca();};if(Object.defineProperties){Object.defineProperties(DocumentHyperlink.prototype,{"href":{enumerable:true,get:function(){return this.getHref();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();}},"rectangle":{enumerable:true,get:function(){return this.getRectangle();}}});}module.exports=DocumentHyperlink;},{}],138:[function(require,module,exports){var JS=function(code,message){var ado=Error.call(null,message);this.code=code;function asM(dA,gA){Object.getOwnPropertyNames(gA).forEach(function(propName){Object.defineProperty(dA,propName,Object.getOwnPropertyDescriptor(gA,propName));});return dA;};function atd(dA,gA){for(var i in gA){if(gA.hasOwnProperty(i)){dA[i]=gA[i];}}return dA;};if(typeof Object.create==='function'){asM(this,ado);}else{atd(this,ado);}};var awV=(function(){var fu=function(){};return function(afT){if(arguments.length>1){throw Error('Second argument not supported');}if(typeof afT!=='object'){throw TypeError('Argument must be an object');}fu.prototype=afT;var ah=new fu();fu.prototype=null;return ah;};})();if(typeof Object.create==='function'){JS.prototype=Object.create(Error.prototype);}else{JS.prototype=awV(Error.prototype);}JS.prototype.constructor=JS;module.exports=JS;},{}],139:[function(require,module,exports){"use strict";function Event(target,type){this.dA=target;this.bx=type;};Event.prototype.getTarget=function(){return this.dA;};Event.prototype.getType=function(){return this.bx;};if(Object.defineProperties){Object.defineProperties(Event.prototype,{"target":{enumerable:true,get:function(){return this.getTarget();}},"type":{enumerable:true,get:function(){return this.getType();}}});}module.exports=Event;},{}],140:[function(require,module,exports){var EventEmitter=(function(){function on(eventType,handler){if(!this.jz){this.jz={};}var lowerCaseEventType=eventType.toLowerCase(),handlers=this.jz[lowerCaseEventType];if(!handlers){handlers=this.jz[lowerCaseEventType]=[];}handlers.push(handler);return this;};function off(eventType,handler){if(!this.jz){this.jz={};}var lowerCaseEventType=eventType.toLowerCase(),handlers=this.jz[lowerCaseEventType];if(handlers){var i=handlers.length;for(;i>=0;i--){if(handlers[i]===handler){handlers.splice(i,1);}}}return this;};function trigger(eventType,properties){if(!this.jz){this.jz={};}var lowerCaseEventType=eventType.toLowerCase(),event=new PCCViewer.Event(this,lowerCaseEventType),handlers=this.jz[lowerCaseEventType],i,length=0;if(properties){PCCViewer.sM.rH(event,properties);}if(handlers){length=handlers.length;handlers=handlers.slice(0);for(i=0;i<length;i++){handlers[i](event);}}return this;};return{extend:function(o){o.on=on;o.off=off;o.trigger=trigger;}};})();module.exports=EventEmitter;},{}],141:[function(require,module,exports){var aqc={ViewerReady:"ViewerReady",PageCountReady:"PageCountReady",EstimatedPageCountReady:"EstimatedPageCountReady",PageChanged:"PageChanged",PageLoadFailed:"PageLoadFailed",PageDisplayed:"PageDisplayed",PageRotated:"PageRotated",DocumentRotated:"DocumentRotated",ScaleChanged:"ScaleChanged",DocumentPrinted:"DocumentPrinted",TextSelected:"TextSelected",MouseToolChanged:"MouseToolChanged",SearchPerformed:"SearchPerformed",PartialSearchResultsAvailable:"PartialSearchResultsAvailable",SearchCompleted:"SearchCompleted",SearchFailed:"SearchFailed",SearchCancelled:"SearchCancelled",SearchResultsAvailable:"SearchResultsAvailable",SearchCleared:"SearchCleared",SearchResultSelectionChanged:"SearchResultSelectionChanged",RevisionsRetrievalCompleted:"RevisionsRetrievalCompleted",RevisionsRetrievalFailed:"RevisionsRetrievalFailed",RevisionsAvailable:"RevisionsAvailable",PartialRevisionsAvailable:"PartialRevisionsAvailable",PrintRequested:"PrintRequested",MarkupLoaded:"MarkupLoaded",MarkupSaved:"MarkupSaved",MarkChanged:"MarkChanged",MarkCreated:"MarkCreated",MarkRemoved:"MarkRemoved",MarkReordered:"MarkReordered",MarkSelectionChanged:"MarkSelectionChanged",MarkMouseEnter:"MarkMouseEnter",MarkMouseOver:"MarkMouseOver",MarkMouseLeave:"MarkMouseLeave",CommentsPanelToggled:"CommentsPanelToggled",CommentCreated:"CommentCreated",CommentRemoved:"CommentRemoved",CommentChanged:"CommentChanged",PageTextReady:"PageTextReady",Click:"Click",PageOpening:"PageOpening"};module.exports=aqc;},{}],142:[function(require,module,exports){var nP={FullWidth:"FullWidth",ShrinkToWidth:"ShrinkToWidth",ActualSize:"ActualSize",FullHeight:"FullHeight",FullPage:"FullPage"};module.exports=nP;},{}],143:[function(require,module,exports){var sM={};sM.rH=function(target){var source;if(!target){throw new Error("target must be defined.");}else if(typeof target!=='object'){throw new Error("typeof target must be 'object'");}else{for(var i=1;i<arguments.length;i++){source=arguments[i];for(var property in source){if(source.hasOwnProperty(property)){target[property]=source[property];}}}}return target;};module.exports=sM;},{}],144:[function(require,module,exports){var ImageStamps=function(Options){this.bI=PCCViewer.sM.rH({},Options);};ImageStamps.prototype.requestImageStampList=function(){var aW=PCCViewer.Deferred();var de=aW.getPromise();try{var an=this.bI.imageHandlerUrl+'/ImageStampList';PCCViewer.Ajax.fa({method:'GET',url:an}).then(function fB(aA){var sl;if(aA.responseText.length>0){sl=JSON.parse(aA.responseText);if(aA.status===200){aW.resolve(sl);}else{aW.reject(new PCCViewer.Error("ImageStampListFail","Unable to retrieve ImageStamp list from server."));}}},function fh(ah){aW.reject(ah.error);});}catch(e){aW.reject(new PCCViewer.Error("Error",e.message));}return de;};ImageStamps.prototype.requestImageSourceBase64=function(imageStampId){if(!imageStampId){throw new Error("Parameter imageStampId is not valid.");}if(typeof imageStampId!=='string'){throw new Error("Parameter imageStampId should be of type string.");}var aW=PCCViewer.Deferred();var de=aW.getPromise();try{var an=this.bI.imageHandlerUrl+'/ImageStamp/'+imageStampId+'/q?format=Base64';PCCViewer.Ajax.fa({method:'GET',url:an,}).then(function fB(aA){var sl;if(aA.responseText.length>0){sl=JSON.parse(aA.responseText);if(aA.status===200){aW.resolve(sl);}else{aW.reject(new PCCViewer.Error("ImageStampDataFail","Unable to retrieve image stamp data URL and dataHash from server."));}}},function fh(ah){aW.reject(ah.error);});}catch(e){aW.reject(new PCCViewer.Error("Error",e.message));}return de;};ImageStamps.prototype.reqestImageSourceBase64=function(imageStampId){return this.requestImageSourceBase64(imageStampId);};ImageStamps.prototype.getImageSourceURL=function(ImageStampID){if(!ImageStampID){throw new Error("Parameter imageStampId is not valid.");}if(typeof ImageStampID!=='string'){throw new Error("Parameter imageStampId should be of type string.");}return this.bI.imageHandlerUrl+'/ImageStamp/'+ImageStampID+'/q?format=Image';};module.exports=ImageStamps;},{}],145:[function(require,module,exports){var aFI={data:{},initializeData:function(aGk){PCCViewer.Language.data=IPCC.V.extend({},aGk);return PCCViewer.Language;},getData:function(){return PCCViewer.Language.data;},getValue:function(akV){if(typeof PCCViewer.Language.data==='undefined'){throw new Error('Language data is not set.');}var oR=akV.split('.'),az=PCCViewer.Language.data,aG;while(oR.length){aG=oR.shift();az=az[aG];if(typeof az==='undefined'){az=akV;break;}}return az;}};module.exports=aFI;},{}],146:[function(require,module,exports){var LoadMarkupLayersRequest=function(layerRecordIds,viewerControl,options){this.vU=layerRecordIds;this.bB=viewerControl;this.ei="";this.gn=false;this.qc=false;this.mg=0;this.aW=PCCViewer.Deferred();this.de=this.aW.getPromise();this.then=this.de.then;this.wZ=options.loadAsHidden===true;PCCViewer.EventEmitter.extend(this);};LoadMarkupLayersRequest.EventType={LoadMarkupLayersFailed:"LoadMarkupLayersFailed",LoadMarkupLayersCompleted:"LoadMarkupLayersCompleted",LoadMarkupLayersCancelled:"LoadMarkupLayersCancelled",LoadMarkupLayersProgress:"LoadMarkupLayersProgress"};LoadMarkupLayersRequest.prototype.getProgress=function(){return this.mg;};LoadMarkupLayersRequest.prototype.cancel=function(){var J=this;this.qc=true;this.ei="User Cancelled";setTimeout(function(){J.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersCancelled,{});J.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});J.aW.reject(new PCCViewer.Error("UserCancelled","User Cancelled"));},0);return this;};LoadMarkupLayersRequest.prototype.getViewerControl=function(){return this.bB;};LoadMarkupLayersRequest.prototype.getErrorCode=function(){return this.ei;};LoadMarkupLayersRequest.prototype.EG=function(){var J=this,XR=1,Ve,Ye=[];var wZ=this.wZ;var sN=function(ahw){function fB(aA){var qq=JSON.parse(aA.responseText),MI=J.aBW(qq),eO,rz=[],bq,hy=[],agE={},Lo=0,Nq;for(var nu in MI.hy){if(MI.hy.hasOwnProperty(nu)){hy=hy.concat(MI.hy[nu]);}}eO=new PCCViewer.MarkupLayer(J.bB,hy);eO.aEW={an:an};IPCC.V.forEach(MI.rz,function(adN){rz.push(adN);Lo++;agE[adN.uid]=true;});if(qq.name){eO.setName(qq.name);}if(qq.originalXmlName){eO.setOriginalXmlName(qq.originalXmlName);}if(Lo>0){Nq=function(ev){if(agE[ev.mark.getUid()]){Lo--;}if(!Lo){J.bB.off(PCCViewer.EventType.MarkCreated,Nq);J.bB.rA=true;}};J.bB.on(PCCViewer.EventType.MarkCreated,Nq);J.bB.rA=false;try{bq=J.bB.deserializeMarks(rz);}catch(bg){J.gn=false;J.bB.off(PCCViewer.EventType.MarkCreated,Nq);J.bB.rA=true;J.aW.reject(new PCCViewer.Error('Error',bg.message));J.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});return;}if(wZ){IPCC.V.forEach(bq,function(T){T.setVisible(false);});}eO.addMarks(bq);}eO.Vf=ahw;for(var vb in qq.data){if(qq.data.hasOwnProperty(vb)){eO.setData(vb,qq.data[vb]);}}J.bB.getMarkupLayerCollection().addItem(eO);Ye.push(eO);XR--;J.mg=(J.vU.length-XR)/J.vU.length;J.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersProgress,{progress:J.mg});if(J.mg===1){J.gn=false;J.aW.resolve(Ye);J.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersCompleted,{markupLayers:Ye});}};function fh(ah){J.gn=false;J.aW.reject(ah.error);J.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});};var an=Ve+ahw+'?'+new Date().getTime();PCCViewer.Ajax.fa({url:an,method:'GET'}).then(fB,fh);};if(!(/^[\x00-\x7F]*$/.test(this.bB.bP.get_documentIdentifier()))){Ve=this.bB.bI.imageHandlerUrl+'/MarkupLayers/e'+this.bB.bI.documentID+'/';}else{Ve=this.bB.bI.imageHandlerUrl+'/MarkupLayers/u'+encodeURIComponent(this.bB.bI.documentID)+'/';}if(this.qc){return;}if(Object.prototype.toString.call(this.vU)==='[object Array]'&&this.vU.length>0){XR=this.vU.length;this.gn=true;IPCC.V.forEach(this.vU,sN,this);}else if(typeof this.vU==="string"){this.gn=true;sN(this.vU);}else{this.gn=false;this.aW.reject(new PCCViewer.Error("InvalidParameter",'layerRecordIds parameter is missing or invalid.'));this.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});return;}};LoadMarkupLayersRequest.prototype.aBW=function(qq){var Mg={},NX={};IPCC.V.forEach(qq.marks,function(Vz){Vz.conversation.comments=[];Mg[Vz.uid]=Vz;},this);IPCC.V.forEach(qq.comments,function(wV){if(Mg[wV.markUid]){Mg[wV.markUid].conversation.comments.push(wV);}else if(NX[wV.markUid]){NX[wV.markUid].push(wV);}else{NX[wV.markUid]=[wV];}},this);return{rz:Mg,hy:NX};};if(Object.defineProperties){Object.defineProperties(LoadMarkupLayersRequest.prototype,{"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}}});}module.exports=LoadMarkupLayersRequest;},{}],147:[function(require,module,exports){var cP={setMask:function(T,jn){var Jo={};IPCC.V.forEach(jn.translations,function(bK,aG){Jo[aG]=new RegExp(bK.replace(/^\/|\/$/g,''));});T.setMask({value:jn.value,translations:Jo});},calculateRectangle:function(az,bI){if(az.pageData===undefined||(az.pageData.width===bI.bf&&az.pageData.height===bI.aY)){return az.rectangle;}else{var lQ=bI.bf/az.pageData.width;return{x:az.rectangle.x*lQ,y:az.rectangle.y*lQ,width:az.rectangle.width*lQ,height:az.rectangle.height*lQ};}},setRectangle:function(T,az,bI){T.setRectangle(cP.calculateRectangle(az,bI));},setLines:function(T,az,bI){var afh,oe,cl=az.textLength+az.startIndex-1,cu=az.selectedText,cz={startIndex:az.startIndex,length:az.textLength};oe=[];var aP,xg;afh=IPCC.V.reduce(az.lineGroups,function(fs,ny){aP=ny.pageNumber-1;fs[aP]=IPCC.V.map(ny.lines,function(fQ){if(ny.pageData!==undefined){xg=cP.calculateRectangle({rectangle:fQ,pageData:ny.pageData},bI);return new IPCC.Web.UI.Rectangle(xg.x,xg.y,xg.width,xg.height);}else{return new IPCC.Web.UI.Rectangle(fQ.x,fQ.y,fQ.width,fQ.height);}});oe.push({pageIndex:aP,endIndex:ny.startIndex+ny.textLength-1});return fs;},{});T.JU(oe,cl,cu,cz,afh);},postCreate:function(T,az){T.R.aaS(new Date(IPCC.V.JY(az.creationDateTime)));T.R.YA(new Date(IPCC.V.JY(az.modificationDateTime)));return T;},calculatePoint:function(bS,gM,bI){if(gM===undefined||(gM.width===bI.bf&&gM.height===bI.aY)){return bS;}else{return{x:bS.x*bI.bf/gM.width,y:bS.y*bI.aY/gM.height};}},Data:function(az,ci){IPCC.V.forEach(ci,function(bK,aG){az.setData(aG,bK);});},Comment:function(dP,cA){var nT=dP.addComment(cA.text);nT.setCreationTime(cA.creationDateTime);cP.Data(nT,cA.data);},Conversation:function(T,dP){var amS=T.getConversation();IPCC.V.forEach(dP.comments?dP.comments:[],function(nT){cP.Comment(amS,nT);});cP.Data(amS,dP.data);},Common:function(az,bI){if(az.uid===undefined){az.uid=IPCC.V.aij();}var T=this.ant(az.pageNumber,az.type,{uid:az.uid});if(az.rectangle&&T.setRectangle){cP.setRectangle(T,az,bI);}if(az.startPoint&&T.setStartPoint){T.setStartPoint(cP.calculatePoint(az.startPoint,az.pageData,bI));}if(az.endPoint&&T.setEndPoint){T.setEndPoint(cP.calculatePoint(az.endPoint,az.pageData,bI));}if(az.points&&T.setPoints){T.setPoints(IPCC.V.map(az.points,function(bS){return cP.calculatePoint(bS,az.pageData,bI);}));}if(az.lineGroups&&T.JU){T.ac=az.uid;cP.setLines(T,az,bI);}if(az.interactionMode){T.setInteractionMode(az.interactionMode);}T=this.ahz(T);cP.Data(T,az.data);cP.Conversation(T,az.conversation);return T;},EllipseAnnotation:function(az,bI){var T=cP.Common.apply(this,arguments);if(az.borderColor){T.setBorderColor(az.borderColor);}if(az.borderThickness){T.setBorderThickness(az.borderThickness);}if(az.fillColor){T.setFillColor(az.fillColor);}if(az.opacity){T.setOpacity(az.opacity);}return cP.postCreate(T,az);},FreehandAnnotation:function(az,bI){var T=cP.Common.apply(this,arguments);if(az.color){T.setColor(az.color);}if(az.opacity){T.setOpacity(az.opacity);}if(az.path){T.setPath(az.path);}if(az.thickness){T.setThickness(az.thickness);}return cP.postCreate(T,az);},FreehandSignature:function(az,bI){var T=cP.Common.apply(this,arguments);if(az.color){T.setColor(az.color);}if(az.path){T.setPath(az.path);}if(az.thickness){T.setThickness(az.thickness);}if(az.horizontalAlignment){T.setHorizontalAlignment(az.horizontalAlignment);}return cP.postCreate(T,az);},HighlightAnnotation:function(az,bI){var T=cP.Common.apply(this,arguments);if(az.fillColor){T.setFillColor(az.fillColor);}return cP.postCreate(T,az);},ImageStampAnnotation:function(az,bI){var T=cP.Common.apply(this,arguments);if(az.imageDataUrl&&az.imageId){T.setImage({id:az.imageId,dataUrl:az.imageDataUrl});}return cP.postCreate(T,az);},ImageStampRedaction:function(az,bI){return cP.ImageStampAnnotation.apply(this,arguments);},LineAnnotation:function(az,bI){var T=cP.Common.apply(this,arguments);if(az.color){T.setColor(az.color);}if(az.endHeadType){T.setEndHeadType(az.endHeadType);}if(az.opacity){T.setOpacity(az.opacity);}if(az.thickness){T.setThickness(az.thickness);}return cP.postCreate(T,az);},PolylineAnnotation:function(az,bI){var T=cP.Common.apply(this,arguments);if(az.color){T.setColor(az.color);}if(az.opacity){T.setOpacity(az.opacity);}if(az.thickness){T.setThickness(az.thickness);}return cP.postCreate(T,az);},RectangleAnnotation:function(az,bI){var T=cP.Common.apply(this,arguments);if(az.borderColor){T.setBorderColor(az.borderColor);}if(az.borderThickness){T.setBorderThickness(az.borderThickness);}if(az.fillColor){T.setFillColor(az.fillColor);}if(az.opacity){T.setOpacity(az.opacity);}return cP.postCreate(T,az);},RectangleRedaction:function(az,bI){var T=cP.Common.apply(this,arguments);if(az.reason){T.setReason(az.reason);}if(az.fillColor){T.setFillColor(az.fillColor);}if(az.borderColor){T.setBorderColor(az.borderColor);}if(az.borderThickness){T.setBorderThickness(az.borderThickness);}if(az.fontColor){T.setFontColor(az.fontColor);}return cP.postCreate(T,az);},StampAnnotation:function(az,bI){var T=cP.Common.apply(this,arguments);if(az.label){T.setLabel(az.label);}if(az.color){T.setColor(az.color);}return cP.postCreate(T,az);},StampRedaction:function(az,bI){var T=cP.Common.apply(this,arguments);if(az.label){T.setLabel(az.label);}return cP.postCreate(T,az);},StrikethroughAnnotation:function(az,bI){var T=cP.Common.apply(this,arguments);if(az.color){T.setColor(az.color);}if(az.thickness){T.setThickness(az.thickness);}return cP.postCreate(T,az);},TextAnnotation:function(az,bI){var T=cP.Common.apply(this,arguments);if(az.borderColor){T.setBorderColor(az.borderColor);}if(az.borderThickness){T.setBorderThickness(az.borderThickness);}if(az.fillColor){T.setFillColor(az.fillColor);}if(az.fontColor){T.setFontColor(az.fontColor);}if(az.fontName){T.setFontName(az.fontName);}if(az.fontSize){T.setFontSize(az.fontSize);}if(az.fontStyle){T.setFontStyle(az.fontStyle);}if(az.maxLength){T.setMaxLength(az.maxLength);}if(az.horizontalAlignment){T.setHorizontalAlignment(az.horizontalAlignment);}if(az.opacity){T.setOpacity(az.opacity);}if(az.text){T.setText(az.text);}return cP.postCreate(T,az);},TextAreaSignature:function(az,bI){var T=cP.Common.apply(this,arguments);if(az.text){T.setText(az.text);}if(az.fontColor){T.setFontColor(az.fontColor);}if(az.fontName){T.setFontName(az.fontName);}if(az.maxFontSize){T.setMaxFontSize(az.maxFontSize);}if(az.fontStyle){T.setFontStyle(az.fontStyle);}if(az.maxLength){T.setMaxLength(az.maxLength);}if(az.horizontalAlignment){T.setHorizontalAlignment(az.horizontalAlignment);}return cP.postCreate(T,az);},TextHyperlinkAnnotation:function(az,bI){var T=cP.Common.apply(this,arguments);if(az.fillColor){T.setFillColor(az.fillColor);}if(az.href){T.setHref(az.href);}return cP.postCreate(T,az);},TextInputSignature:function(az,bI){var T=cP.Common.apply(this,arguments);if(az.fontColor){T.setFontColor(az.fontColor);}if(az.fontName){T.setFontName(az.fontName);}if(az.text){T.setText(az.text);}if(az.maxLength){T.setMaxLength(az.maxLength);}if(az.mask){cP.setMask(T,az.mask);}if(az.horizontalAlignment){T.setHorizontalAlignment(az.horizontalAlignment);}return cP.postCreate(T,az);},TextRedaction:function(az,bI){var T=cP.Common.apply(this,arguments);if(az.fontColor){T.setFontColor(az.fontColor);}if(az.fontName){T.setFontName(az.fontName);}if(az.fontSize){T.setFontSize(az.fontSize);}if(az.maxLength){T.setMaxLength(az.maxLength);}if(az.text){T.setText(az.text);}if(az.horizontalAlignment){T.setHorizontalAlignment(az.horizontalAlignment);}return cP.postCreate(T,az);},TextSelectionRedaction:function(az,bI){var T=cP.Common.apply(this,arguments);if(az.reason){T.setReason(az.reason);}return cP.postCreate(T,az);},TextSignature:function(az,bI){var T=cP.Common.apply(this,arguments);if(az.color){T.setColor(az.color);}if(az.fontName){T.setFontName(az.fontName);}if(az.text){T.setText(az.text);}if(az.horizontalAlignment){T.setHorizontalAlignment(az.horizontalAlignment);}return cP.postCreate(T,az);},TransparentRectangleRedaction:function(az,bI){var T=cP.Common.apply(this,arguments);return cP.postCreate(T,az);}};module.exports=cP;},{}],148:[function(require,module,exports){var EE={HideSideHandlesWhenClose:"HideSideHandlesWhenClose",HideCornerHandlesWhenClose:"HideCornerHandlesWhenClose"};module.exports=EE;},{}],149:[function(require,module,exports){var fJ={serializeMask:function(jn){var abc={value:jn.value,translations:{}};IPCC.V.forEach(jn.translations,function(bK,aG){abc.translations[aG]=bK.toString();});return abc;},copyRectangle:function(C){return{x:C.x,y:C.y,width:C.width,height:C.height};},Common:function(aZ,am){var aY;var bf;if(aZ.page){aY=aZ.page.get_pageHeight();bf=aZ.page.get_pageWidth();}else{aY=null;bf=null;}var be=aZ.mark.getPageNumber();var az={uid:aZ.mark.getUid(),interactionMode:aZ.mark.getInteractionMode(),pageNumber:be,type:aZ.mark.getType(),creationDateTime:IPCC.V.uF(aZ.mark.R.ajV()),modificationDateTime:IPCC.V.uF(aZ.mark.R.akl()),data:fJ.Data(aZ.mark),conversation:fJ.Conversation(aZ.mark.getConversation())};function Am(bS){return{x:bS.x,y:bS.y};};function aoa(){var Ks=IPCC.V.map([].concat(aZ.mark.R,aZ.mark.dj),function(R){if(bf!==null){return{pageNumber:R.aP+1,pageData:{width:bf,height:aY},startIndex:R.get_startIndex(),textLength:R.get_textLength(),lines:IPCC.V.map(R.bE,function(aL){if(aL.get_rectangle){return fJ.copyRectangle(aL.get_rectangle());}else{return fJ.copyRectangle(aL);}})};}else{return{pageNumber:R.aP+1,startIndex:R.get_startIndex(),textLength:R.get_textLength(),lines:IPCC.V.map(R.bE,function(aL){if(aL.get_rectangle){return fJ.copyRectangle(aL.get_rectangle());}else{return fJ.copyRectangle(aL);}})};}});az.lineGroups=Ks;};function abO(){if(aZ.mark.getRectangle){az.rectangle=fJ.copyRectangle(aZ.mark.getRectangle());if(bf!==null){az.pageData={width:bf,height:aY};}}if(aZ.mark.getStartPoint){az.startPoint=Am(aZ.mark.getStartPoint());if(bf!==null){az.pageData=az.pageData||{width:bf,height:aY};}}if(aZ.mark.getEndPoint){az.endPoint=Am(aZ.mark.getEndPoint());if(bf!==null){az.pageData=az.pageData||{width:bf,height:aY};}}if(aZ.mark.getPoints){var bF=aZ.mark.getPoints();az.points=IPCC.V.map(bF,Am);if(bf!==null){az.pageData={width:bf,height:aY};}}if(aZ.mark.R.bE){aoa();}};if(bf!==undefined&&aY!==undefined&&bf!==0&&aY!==0){abO();am(undefined,az);}else{aZ.vc.requestPageAttributes(be).then(function aFp(qk){aY=qk.height;bf=qk.width;abO();am(undefined,az);},function aGa(fw){am(fw);});}},Data:function(az){return IPCC.V.reduce(az.getDataKeys(),function(fs,aG){fs[aG]=az.getData(aG);return fs;},{});},Comment:function(cA){return{text:cA.getText(),data:fJ.Data(cA),creationDateTime:IPCC.V.uF(cA.getCreationTime())};},Conversation:function(dP){return{comments:IPCC.V.map(dP.getComments(),function(cA){return fJ.Comment(cA);}),data:fJ.Data(dP)};},EllipseAnnotation:function(aZ,am){fJ.RectangleAnnotation(aZ,am);},FreehandAnnotation:function(aZ,am){fJ.Common(aZ,function(bg,az){if(bg){am(bg);return;}az=IPCC.V.extend(az,{color:aZ.mark.getColor(),opacity:aZ.mark.getOpacity(),path:aZ.mark.getPath(),thickness:aZ.mark.getThickness()});am(undefined,az);});},FreehandSignature:function(aZ,am){fJ.Common(aZ,function(bg,az){if(bg){am(bg);return;}az=IPCC.V.extend(az,{color:aZ.mark.getColor(),path:aZ.mark.getPath(),thickness:aZ.mark.getThickness(),horizontalAlignment:aZ.mark.getHorizontalAlignment()});am(undefined,az);});},HighlightAnnotation:function(aZ,am){fJ.Common(aZ,function(bg,az){if(bg){am(bg);return;}var cz=aZ.mark.getPosition();az=IPCC.V.extend(az,{fillColor:aZ.mark.getFillColor(),textLength:cz.length,startIndex:cz.startIndex,selectedText:aZ.mark.getText()});am(undefined,az);});},ImageStampAnnotation:function(aZ,am){fJ.Common(aZ,function(bg,az){if(bg){am(bg);return;}var ar=aZ.mark.getImage();az=IPCC.V.extend(az,{imageDataUrl:ar.dataUrl,imageId:ar.id});am(undefined,az);});},ImageStampRedaction:function(aZ,am){fJ.ImageStampAnnotation(aZ,am);},LineAnnotation:function(aZ,am){fJ.Common(aZ,function(bg,az){if(bg){am(bg);return;}az=IPCC.V.extend(az,{color:aZ.mark.getColor(),endHeadType:aZ.mark.getEndHeadType(),opacity:aZ.mark.getOpacity(),thickness:aZ.mark.getThickness()});am(undefined,az);});},PolylineAnnotation:function(aZ,am){fJ.Common(aZ,function(bg,az){if(bg){am(bg);return;}az=IPCC.V.extend(az,{color:aZ.mark.getColor(),opacity:aZ.mark.getOpacity(),thickness:aZ.mark.getThickness()});am(undefined,az);});},RectangleAnnotation:function(aZ,am){fJ.Common(aZ,function(bg,az){if(bg){am(bg);return;}az=IPCC.V.extend(az,{borderColor:aZ.mark.getBorderColor(),borderThickness:aZ.mark.getBorderThickness(),fillColor:aZ.mark.getFillColor(),opacity:aZ.mark.getOpacity()});am(undefined,az);});},RectangleRedaction:function(aZ,am){fJ.Common(aZ,function(bg,az){if(bg){am(bg);return;}az=IPCC.V.extend(az,{reason:aZ.mark.getReason(),fillColor:aZ.mark.getFillColor(),borderColor:aZ.mark.getBorderColor(),borderThickness:aZ.mark.getBorderThickness(),fontColor:aZ.mark.getFontColor()});am(undefined,az);});},StampAnnotation:function(aZ,am){fJ.Common(aZ,function(bg,az){if(bg){am(bg);return;}az=IPCC.V.extend(az,{label:aZ.mark.getLabel(),color:aZ.mark.getColor()});am(undefined,az);});},StampRedaction:function(aZ,am){fJ.Common(aZ,function(bg,az){if(bg){am(bg);return;}az=IPCC.V.extend(az,{label:aZ.mark.getLabel()});am(undefined,az);});},StrikethroughAnnotation:function(aZ,am){fJ.Common(aZ,function(bg,az){if(bg){am(bg);return;}var cz=aZ.mark.getPosition();az=IPCC.V.extend(az,{color:aZ.mark.getColor(),thickness:aZ.mark.getThickness(),textLength:cz.length,startIndex:cz.startIndex,selectedText:aZ.mark.getText()});am(undefined,az);});},TextAnnotation:function(aZ,am){fJ.Common(aZ,function(bg,az){if(bg){am(bg);return;}az=IPCC.V.extend(az,{borderColor:aZ.mark.getBorderColor(),borderThickness:aZ.mark.getBorderThickness(),fillColor:aZ.mark.getFillColor(),fontColor:aZ.mark.getFontColor(),fontName:aZ.mark.getFontName(),fontSize:aZ.mark.getFontSize(),fontStyle:aZ.mark.getFontStyle(),maxLength:aZ.mark.getMaxLength(),horizontalAlignment:aZ.mark.getHorizontalAlignment(),opacity:aZ.mark.getOpacity(),text:aZ.mark.getText()});am(undefined,az);});},TextAreaSignature:function(aZ,am){fJ.Common(aZ,function(bg,az){if(bg){am(bg);return;}az=IPCC.V.extend(az,{text:aZ.mark.getText(),fontColor:aZ.mark.getFontColor(),fontName:aZ.mark.getFontName(),fontStyle:aZ.mark.getFontStyle(),maxFontSize:aZ.mark.getMaxFontSize(),maxLength:aZ.mark.getMaxLength(),horizontalAlignment:aZ.mark.getHorizontalAlignment(),});am(undefined,az);});},TextHyperlinkAnnotation:function(aZ,am){fJ.Common(aZ,function(bg,az){if(bg){am(bg);return;}var cz=aZ.mark.getPosition();az=IPCC.V.extend(az,{href:aZ.mark.getHref(),fillColor:aZ.mark.getFillColor(),textLength:cz.length,startIndex:cz.startIndex,selectedText:aZ.mark.getText()});am(undefined,az);});},TextInputSignature:function(aZ,am){fJ.Common(aZ,function(bg,az){if(bg){am(bg);return;}az=IPCC.V.extend(az,{fontColor:aZ.mark.getFontColor(),fontName:aZ.mark.getFontName(),text:aZ.mark.getText(),mask:aZ.mark.getMask(),maxLength:aZ.mark.getMaxLength(),horizontalAlignment:aZ.mark.getHorizontalAlignment()});if(aZ.mark.getMask()){az.mask=fJ.serializeMask(aZ.mark.getMask());}am(undefined,az);});},TextRedaction:function(aZ,am){fJ.Common(aZ,function(bg,az){if(bg){am(bg);return;}az=IPCC.V.extend(az,{fontColor:aZ.mark.getFontColor(),fontName:aZ.mark.getFontName(),fontSize:aZ.mark.getFontSize(),text:aZ.mark.getText(),maxLength:aZ.mark.getMaxLength(),horizontalAlignment:aZ.mark.getHorizontalAlignment()});am(undefined,az);});},TextSelectionRedaction:function(aZ,am){fJ.Common(aZ,function(bg,az){if(bg){am(bg);return;}var cz=aZ.mark.getPosition();az=IPCC.V.extend(az,{reason:aZ.mark.getReason(),textLength:cz.length,startIndex:cz.startIndex,selectedText:aZ.mark.getText()});am(undefined,az);});},TextSignature:function(aZ,am){fJ.Common(aZ,function(bg,az){if(bg){am(bg);return;}az=IPCC.V.extend(az,{color:aZ.mark.getColor(),fontName:aZ.mark.getFontName(),text:aZ.mark.getText(),horizontalAlignment:aZ.mark.getHorizontalAlignment()});am(undefined,az);});},TransparentRectangleRedaction:function(aZ,am){fJ.Common(aZ,am);}};module.exports=fJ;},{}],150:[function(require,module,exports){'use strict';var IPCC=require('./../IPCC/IPCC');var Data=require('./PCCViewer.Data').Data;var SessionData=require('./PCCViewer.Data').SessionData;function Mark(parameters){this.be=0;this.cR=undefined;this.AI=false;this.mY=Mark.InteractionMode.Full;this.cV=true;if(parameters.uid&&parameters.viewerControl){(function(bq,lo){IPCC.V.forEach(bq,function validateMark(kZ){if(kZ.getUid()===lo){throw new Error('Uid '+lo+' already exists in the document and cannot be duplicated.');}});})(parameters.viewerControl.getAllMarks(),parameters.uid);}var lo=parameters.uid||IPCC.V.aij();if(parameters.igMark&&parameters.igMark instanceof IPCC.Web.UI.Mark){this.R=parameters.igMark;this.cR=this.R.get_markID().toString();this.ci=this.R.get_data();}else{this.ci=new IPCC.Web.UI.Data();}Data.extend(this);this.Bb=new IPCC.Web.UI.Data();SessionData.extend(this);if(parameters.pageNumber!==undefined){IPCC.aq.hG(parameters.pageNumber,'pageNumber');this.be=parameters.pageNumber;}if(parameters.id!==undefined){IPCC.aq.ng(parameters.id,'id');this.cR=parameters.id;}if(parameters.type&&parameters.type==='PlaceSignature'&&parameters.AI){this.bx=parameters.type;this.AI=true;}else if(parameters.type!==undefined){IPCC.aq.ng(parameters.type,'type');var Gy=MX(parameters.type,Mark.Type);if(Gy===null){throw new RangeError("The value of mark type was invalid.");}this.bx=Gy;}if('cI'in parameters){this.cI=parameters.cI;}if('aX'in parameters){this.aX=parameters.aX;}addPropertiesToMark(this);addMethodsToMark(this);this.getUid=function(){return lo;};if(Object.defineProperties&&Object.defineProperty){Object.defineProperty(this,'uid',{value:lo,enumerable:true,writable:false});}};Mark.prototype.getType=function(){return this.bx;};Mark.prototype.getId=function(){return this.cR;};Mark.prototype.getPageNumber=function(){return this.be;};Mark.prototype.getConversation=function(){if(!this.dP){this.dP=new PCCViewer.Conversation(this);}return this.dP;};Mark.prototype.getBoundingRectangle=function(){if(this.R){var aL=this.R.get_boundingRectangle();if(aL instanceof IPCC.Web.UI.Rectangle){this.lZ={width:aL.width,height:aL.height,x:aL.x,y:aL.y};}}return this.lZ;};Mark.prototype.getInteractionMode=function(){if(this.R){switch(this.R.get_interactionMode()){case IPCC.Web.UI.MarkInteractionMode.SelectionDisabled:return PCCViewer.Mark.InteractionMode.SelectionDisabled;case IPCC.Web.UI.MarkInteractionMode.Full:return PCCViewer.Mark.InteractionMode.Full;default:return PCCViewer.Mark.InteractionMode.Full;}}return this.mY;};Mark.prototype.setInteractionMode=function(interactionMode){var mY=MX(interactionMode,PCCViewer.Mark.InteractionMode),YF;switch(mY){case PCCViewer.Mark.InteractionMode.SelectionDisabled:YF=IPCC.Web.UI.MarkInteractionMode.SelectionDisabled;break;case PCCViewer.Mark.InteractionMode.Full:YF=IPCC.Web.UI.MarkInteractionMode.Full;break;default:throw new Error("The specified interactionMode is not valid.");}if(this.R){this.R.set_interactionMode(YF);}this.mY=mY;return this;};Mark.prototype.reset=function(){var dH=new Mark({type:this.bx,AI:this.AI});this.ci={};if(this.setBorderColor&&dH.getBorderColor){this.setBorderColor(dH.getBorderColor());}if(this.setBorderThickness&&dH.getBorderThickness){this.setBorderThickness(dH.getBorderThickness());}if(this.setColor&&dH.getColor){this.setColor(dH.getColor());}if(this.setEndHeadType&&dH.getEndHeadType){this.setEndHeadType(dH.getEndHeadType());}if(this.setEndPoint&&dH.getEndPoint){this.setEndPoint(dH.getEndPoint());}if(this.setFillColor&&dH.getFillColor){this.setFillColor(dH.getFillColor());}if(this.setFontColor&&dH.getFontColor){this.setFontColor(dH.getFontColor());}if(this.setFontName&&dH.getFontName){this.setFontName(dH.getFontName());}if(this.setFontSize&&dH.getFontSize){this.setFontSize(dH.getFontSize());}if(this.setFontStyle&&dH.getFontStyle){this.setFontStyle(dH.getFontStyle());}if(this.setHorizontalAlignment&&dH.getHorizontalAlignment){this.setHorizontalAlignment(dH.getHorizontalAlignment());}if(this.setLabel&&dH.getLabel){this.setLabel(dH.getLabel());}if(this.setPosition&&this.R&&dH.getPosition){this.setPosition(dH.getPosition());}if(this.setReason&&dH.setReason){this.setReason(dH.getReason());}if(this.setOpacity&&dH.getOpacity){this.setOpacity(dH.getOpacity());}if(this.setRectangle&&dH.getRectangle){this.setRectangle(dH.getRectangle());}if(this.setStartPoint&&dH.getStartPoint){this.setStartPoint(dH.getStartPoint());}if(this.setText&&dH.getText){this.setText(dH.getText());}if(this.setThickness&&dH.getThickness){this.setThickness(dH.getThickness());}if(this.setPath&&dH.getPath){this.setPath(dH.getPath());}if(this.setHref&&dH.getHref){this.setHref(dH.getHref());}if(this.setImage&&dH.getImage){this.setImage(dH.getImage());}if(this.setInteractionMode&&dH.getInteractionMode){this.setInteractionMode(dH.getInteractionMode());}if(this.setPoints&&dH.getPoints){this.setPoints(dH.getPoints());}if(this.setMask&&dH.getMask){this.setMask(dH.getMask());}if(this.setMaxLength&&dH.getMaxLength){this.setMaxLength(dH.getMaxLength());}if(this.setMaxFontSize&&dH.getMaxFontSize){this.setMaxFontSize(dH.getMaxFontSize());}};if(Object.defineProperties){Object.defineProperties(Mark.prototype,{"type":{enumerable:true,get:function(){return this.getType();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();}},"id":{enumerable:true,get:function(){return this.getId();}},"conversation":{enumerable:true,get:function(){return this.getConversation();}},"boundingRectangle":{enumerable:true,get:function(){return this.getBoundingRectangle();}},"interactionMode":{enumerable:true,get:function(){return this.getInteractionMode();},set:function(value){return this.setInteractionMode(value);}}});}Mark.Type={LineAnnotation:"LineAnnotation",RectangleAnnotation:"RectangleAnnotation",EllipseAnnotation:"EllipseAnnotation",TextAnnotation:"TextAnnotation",StampAnnotation:"StampAnnotation",HighlightAnnotation:"HighlightAnnotation",RectangleRedaction:"RectangleRedaction",TransparentRectangleRedaction:"TransparentRectangleRedaction",TextHyperlinkAnnotation:"TextHyperlinkAnnotation",TextRedaction:"TextRedaction",StampRedaction:"StampRedaction",FreehandAnnotation:"FreehandAnnotation",FreehandSignature:"FreehandSignature",TextSignature:"TextSignature",TextInputSignature:"TextInputSignature",TextAreaSignature:"TextAreaSignature",TextSelectionRedaction:"TextSelectionRedaction",ImageStampAnnotation:"ImageStampAnnotation",ImageStampRedaction:"ImageStampRedaction",PolylineAnnotation:"PolylineAnnotation",StrikethroughAnnotation:"StrikethroughAnnotation"};Mark.LineHeadType={None:"None",FilledTriangle:"FilledTriangle"};Mark.FontStyles={Bold:"Bold",Italic:"Italic",Strikeout:"Strikeout",Underline:"Underline"};Mark.InteractionMode={Full:"Full",SelectionDisabled:"SelectionDisabled"};Mark.HorizontalAlignment={Center:"Center",Left:"Left",Right:"Right"};function MX(UT,bx){var Yo=UT.toLowerCase();for(var standardType in bx){if(bx.hasOwnProperty(standardType)&&standardType.toLowerCase&&standardType.toLowerCase()===Yo){return standardType;}}return null;};function addMethodsToMark(T){function amD(T){T.highlightText=function(highlights){if(!this.R){throw new Error("It is invalid to highlight text on this mark.");}var mj;if(highlights!==null&&typeof highlights!=="undefined"){if(Object.prototype.toString.call(highlights)!=='[object Array]'){mj=[highlights];}else{mj=highlights;}for(var i=0;i<mj.length;i++){azz(mj[i]);}}else{mj=[];}var bx=T.getType();switch(bx){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:T.R.selectText(mj);break;case Mark.Type.HighlightAnnotation:case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.StrikethroughAnnotation:var J=this;var QI=[];var rH=false,NM=0,Oz,Bz;var adq=function(GI,anl,hH){var wa;var Tj= -1,Rw=[];var xb=(GI.bL+GI.cr);if(rH===true&&Oz>=0&&Bz>=0){if(GI.aP-1===Oz){wa=0;if(NM<=xb){Rw.push({startIndex:wa,length:NM,color:hH[Bz].color,opacity:(hH[Bz].opacity)?hH[Bz].opacity:127});rH=false;NM=0;Oz= -1;Bz= -1;}}}for(var aw=0;aw<hH.length;aw++){wa=GI.bL+hH[aw].startIndex-anl;if(wa<0){continue;}if(Array.prototype.indexOf){Tj=QI.indexOf(aw);}else{Tj=IPCC.Web.kA(QI,aw);}var di=127;if(Tj=== -1){if(wa+hH[aw].length<=xb){if(hH[aw].opacity){di=hH[aw].opacity;}Rw.push({startIndex:wa,length:hH[aw].length,color:hH[aw].color,opacity:di});QI.push(aw);J.Ep.push(hH[aw]);}else{var Xs=xb-wa;if(Xs>0){NM=hH[aw].length-Xs;di=127;if(hH[aw].opacity){di=hH[aw].opacity;}Rw.push({startIndex:wa,length:Xs,color:hH[aw].color,opacity:di});QI.push(aw);J.Ep.push(hH[aw]);rH=true;Bz=aw;Oz=GI.aP;}}}}return Rw;};this.Ep=[];var fG=adq(this.R,0,mj);T.clearHighlights();if(fG.length>0){J.R.selectText(fG);}fG=[];var hB=this.R.cr;if(this.dj&&this.dj.length){for(var L=0;L<this.dj.length;L++){fG=[];fG=adq(this.dj[L],hB,mj);hB+=this.dj[L].cr;if(fG.length>0){this.dj[L].selectText(fG);}}}break;}return this;};function azz(GO){IPCC.aq.nb(GO.startIndex,'highlight.startIndex',0,T.getText().length);IPCC.aq.nb(GO.length,'highlight.length',1,Number.MAX_VALUE);IPCC.aq.dG(GO.color,'highlight.color');if(GO.opacity){IPCC.aq.nb(GO.opacity,"highlight.opacity",0,255);}};T.clearHighlights=function(){if(this.R){if(!this.R){throw new Error("It is invalid to clear highlights on this mark.");}}var bx=T.getType();switch(bx){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:T.R.selectText();break;case Mark.Type.HighlightAnnotation:case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.StrikethroughAnnotation:this.R.selectText();if(this.dj&&this.dj.length){for(var L=0;L<this.dj.length;L++){this.dj[L].selectText();}}break;}return this;};};var bx=T.getType();switch(bx){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.HighlightAnnotation:case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.StrikethroughAnnotation:amD(T);break;default:break;}};function addPropertiesToMark(T){T.lZ={x:0,y:0,width:0,height:0};var bx=T.getType();switch(bx){case Mark.Type.LineAnnotation:T.dG='#18385F';T.iM=IPCC.Web.UI.LineStyle.Solid;T.nC=6;T.di=255;T.NQ={x:0,y:0};T.xb={x:0,y:0};T.mW="None";break;case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:T.dJ='#FB0404';T.di=255;T.oq='#000000';T.nv=4;T.C={x:0,y:0,width:0,height:0};break;case Mark.Type.RectangleRedaction:T.fw="";T.dJ='#000000';T.oq='#000000';T.nv=1;T.fP='#FFFFFF';T.C={x:0,y:0,width:0,height:0};T.nS=true;if(T.R){T.R.lx(T.nS);}break;case Mark.Type.TransparentRectangleRedaction:T.C={x:0,y:0,width:0,height:0};T.nS=true;if(T.R){T.R.lx(T.nS);T.R.set_fillColor('#FFFF00');T.R.set_opacity(127);T.R.set_lineWidth(1);T.R.set_lineColor('#FFFF00');}break;case Mark.Type.TextAnnotation:T.bp='';T.dJ='#FFFFFF';T.di=127;T.oq='#000000';T.nv=4;T.fP='#000000';T.gI="Arial";T.dh=12;T.cJ=[];T.ma="Left";T.hf=0;T.C={x:0,y:0,width:0,height:0};break;case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:T.uM="Approved";T.C={x:0,y:0,width:0,height:0};if(bx===Mark.Type.StampRedaction){T.nS=true;if(T.R){T.R.lx(T.nS);T.R.set_fillColor('#000000');}}else{T.dG="#000000";}break;case Mark.Type.HighlightAnnotation:T.dJ="#FFFF00";T.bp='';T.cu='';if(T.R){if(T.R.cu){T.bp=T.R.cu;}}T.cz={startIndex:0,length:0};T.Ep=[];T.dj=[];break;case Mark.Type.TextSelectionRedaction:T.fw="";T.bp='';T.cz={startIndex:0,length:0};if(T.R){T.R.set_fillColor('#000000');if(T.R.cu){T.bp=T.R.cu;}}T.Ep=[];T.dj=[];break;case Mark.Type.TextHyperlinkAnnotation:T.mr='';T.dJ="#3B00FF";T.bp='';if(T.R){if(T.R.cu){T.bp=T.R.cu;}}T.cz={startIndex:0,length:0};T.Ep=[];T.dj=[];break;case Mark.Type.TextRedaction:T.bp='';T.fP='#000000';T.gI="Arial";T.dh=12;T.C={x:0,y:0,width:0,height:0};T.nS=true;T.hf=0;if(T.R){T.R.lx(T.nS);T.R.set_fillColor('#FFFFFF');}T.ma="Left";break;case Mark.Type.FreehandAnnotation:T.di=255;T.C={x:0,y:0,width:0,height:0};T.nC=4;T.dG='#000000';T.hx='M0,0';break;case Mark.Type.FreehandSignature:T.C={x:0,y:0,width:0,height:0};T.nC=4;T.dG='#000000';T.ma="Center";T.hx='M0,0';break;case Mark.Type.TextSignature:T.bp="John Doe";T.C={x:0,y:0,width:0,height:0};T.dG="#000000";if(T.R){T.dG=T.R.dJ||'#000000';T.R.lx(T.nS);T.R.set_fillColor(T.dG);}T.ma="Center";T.gI="";break;case Mark.Type.TextInputSignature:T.bp="";T.C={x:0,y:0,width:0,height:0};T.fP="#000000";T.hf=0;if(T.R){T.fP=T.R.get_textColor()||'#000000';T.R.lx(false);}T.ma="Left";T.gI="Courier New";T.jn=null;break;case Mark.Type.TextAreaSignature:T.bp="";T.C={x:0,y:0,width:0,height:0};T.fP="#000000";if(T.R){T.fP=T.R.get_textColor()||'#000000';T.R.lx(false);}T.ma="Left";T.gI="Courier New";T.cJ=[];T.hf=0;T.hN=0;break;case 'PlaceSignature':T.jL=undefined;T.C={x:0,y:0,width:0,height:0};break;case Mark.Type.ImageStampAnnotation:case Mark.Type.ImageStampRedaction:T.ar="";T.rf="";T.C={x:0,y:0,width:0,height:0};if(T.R&&bx===Mark.Type.ImageStampRedaction){T.nS=true;T.R.lx(T.nS);}break;case Mark.Type.PolylineAnnotation:T.dG='#000000';T.iM=IPCC.Web.UI.LineStyle.Solid;T.nC=2;T.di=255;T.bF=[{x:0,y:0},{x:0,y:0}];break;case Mark.Type.StrikethroughAnnotation:T.dG='#000000';T.iM=IPCC.Web.UI.LineStyle.Solid;T.nC=2;T.bp='';T.cu='';if(T.R){if(T.R.cu){T.bp=T.R.cu;}}T.cz={startIndex:0,length:0};T.Ep=[];T.dj=[];break;}function getSignature(){return this.jL||undefined;};function setSignature(signature){if(typeof signature==='undefined'){this.jL=undefined;return;}else if(typeof signature!=='object'){throw new Error("The parameter `signature` is not an Object.");}if(!signature.path&& !signature.text){throw new Error("The parameter `signature` should have at least one of these properties: text, path");}else{if(signature.path){if(signature.path.length<1){throw new Error("The property `signature.path` cannot be empty.");}else if(signature.path.match(/[^MLC0-9,.\s]/)){throw new Error("The property `signature.path` has invalid characters.");}}else if(signature.text){if(signature.text.length<1){signature.text='';}}}this.jL=signature;return this;};if(T.jL||T.bx==='PlaceSignature'){T.getSignature=getSignature;T.setSignature=setSignature;if(Object.defineProperties){Object.defineProperties(T,{"signature":{enumerable:true,get:function(){return this.getSignature();},set:function(value){return this.setSignature(value);}}});}}function getColor(){if(this.R){switch(this.bx){case Mark.Type.LineAnnotation:case Mark.Type.PolylineAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.FreehandAnnotation:case Mark.Type.StrikethroughAnnotation:this.dG=this.R.get_lineColor()||this.dG;break;case Mark.Type.StampAnnotation:case Mark.Type.TextSignature:this.dG=this.R.get_fillColor()||this.dG;break;}}return this.dG;};function setColor(value){IPCC.aq.dG(value,'color');this.dG=value;if(this.R){switch(this.bx){case Mark.Type.LineAnnotation:case Mark.Type.PolylineAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.FreehandAnnotation:this.R.set_lineColor(value);break;case Mark.Type.StampAnnotation:this.R.set_fillColor(value);break;case Mark.Type.TextSignature:this.R.set_textColor(value);this.R.set_fillColor(value);break;case Mark.Type.StrikethroughAnnotation:this.R.set_lineColor(value);if(this.dj&&this.dj.length){for(var L=0;L<this.dj.length;L++){this.dj[L].set_lineColor(value);}}break;}}return this;};if(T.dG!==undefined){T.getColor=getColor;T.setColor=setColor;if(Object.defineProperties){Object.defineProperties(T,{"color":{enumerable:true,get:function(){return this.getColor();},set:function(value){return this.setColor(value);}}});}}function getFillColor(){if(this.R){switch(this.bx){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.HighlightAnnotation:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.RectangleRedaction:this.dJ=this.R.get_fillColor()||this.dJ;break;}}return this.dJ;};function setFillColor(value){if(this.bx===PCCViewer.Mark.Type.HighlightAnnotation||this.bx===PCCViewer.Mark.Type.TextHyperlinkAnnotation){IPCC.aq.dG(value,'fillColor');}else{IPCC.aq.Um(value,'fillColor');}this.dJ=value;if(this.R){switch(this.bx){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.R.set_fillColor(value);break;case Mark.Type.HighlightAnnotation:case Mark.Type.TextHyperlinkAnnotation:this.R.set_fillColor(value);if(this.dj&&this.dj.length){for(var L=0;L<this.dj.length;L++){this.dj[L].set_fillColor(value);}}break;}}return this;};if(T.dJ!==undefined){T.getFillColor=getFillColor;T.setFillColor=setFillColor;if(Object.defineProperties){Object.defineProperties(T,{"fillColor":{enumerable:true,get:function(){return this.getFillColor();},set:function(value){return this.setFillColor(value);}}});}}function getImage(){var retVal={dataUrl:this.ar,id:this.rf};return retVal;};function setImage(params){IPCC.aq.ng(params.dataUrl,'string');IPCC.aq.ng(params.id,'string');this.ar=params.dataUrl;this.rf=params.id;if(this.R){switch(this.bx){case Mark.Type.ImageStampAnnotation:case Mark.Type.ImageStampRedaction:this.R.set_image(params.dataUrl);this.R.rf=params.id;break;}}return this;};if(T.ar!==undefined){T.getImage=getImage;T.setImage=setImage;if(Object.defineProperties){Object.defineProperties(T,{"image":{enumerable:true,get:function(){return this.getImage();},set:function(params){return this.setImage(params);}}});}}function getBorderColor(){if(this.R){switch(this.bx){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.oq=this.R.get_lineColor()||this.oq;break;}}return this.oq;};function setBorderColor(value){IPCC.aq.Um(value,'borderColor');this.oq=value;if(this.R){switch(this.bx){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.R.set_lineColor(value);break;}}return this;};if(T.oq!==undefined){T.getBorderColor=getBorderColor;T.setBorderColor=setBorderColor;if(Object.defineProperties){Object.defineProperties(T,{"borderColor":{enumerable:true,get:function(){return this.getBorderColor();},set:function(value){return this.setBorderColor(value);}}});}}function getOpacity(){if(this.R){switch(this.bx){case Mark.Type.LineAnnotation:case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.FreehandAnnotation:case Mark.Type.PolylineAnnotation:this.di=this.R.get_opacity()||this.di;break;}}return this.di;};function setOpacity(value){IPCC.aq.nb(value,'opacity',0,255);this.di=value;if(this.R){switch(this.bx){case Mark.Type.LineAnnotation:case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.FreehandAnnotation:case Mark.Type.PolylineAnnotation:this.R.set_opacity(value);break;}}return this;};if(T.di!==undefined&&T.di>=0){T.getOpacity=getOpacity;T.setOpacity=setOpacity;if(Object.defineProperties){Object.defineProperties(T,{"opacity":{enumerable:true,get:function(){return this.getOpacity();},set:function(value){return this.setOpacity(value);}}});}}function getThickness(){if(this.R){switch(this.bx){case Mark.Type.LineAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.FreehandAnnotation:case Mark.Type.PolylineAnnotation:case Mark.Type.StrikethroughAnnotation:this.nC=this.R.get_lineWidth()||this.nC;break;}}return this.nC;};function setThickness(value){IPCC.aq.kY(value,'thickness',1,50);this.nC=value;if(this.R){switch(this.bx){case Mark.Type.LineAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.FreehandAnnotation:case Mark.Type.PolylineAnnotation:this.R.set_lineWidth(value);break;case Mark.Type.StrikethroughAnnotation:this.R.set_lineWidth(value);if(this.dj&&this.dj.length){for(var L=0;L<this.dj.length;L++){this.dj[L].set_lineWidth(value);}}break;}}return this;};if(T.nC){T.getThickness=getThickness;T.setThickness=setThickness;if(Object.defineProperties){Object.defineProperties(T,{"thickness":{enumerable:true,get:function(){return this.getThickness();},set:function(value){return this.setThickness(value);}}});}}function getBorderThickness(){if(this.R){switch(this.bx){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.nv=this.R.get_lineWidth()||this.nv;break;}}return this.nv;};function setBorderThickness(value){IPCC.aq.kY(value,'borderThickness',1,50);this.nv=value;if(this.R){switch(this.bx){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.R.set_lineWidth(value);break;}}return this;};if(T.nv!==undefined){T.getBorderThickness=getBorderThickness;T.setBorderThickness=setBorderThickness;if(Object.defineProperties){Object.defineProperties(T,{"borderThickness":{enumerable:true,get:function(){return this.getBorderThickness();},set:function(value){return this.setBorderThickness(value);}}});}}function getVisible(){if(this.R){this.cV=this.R.get_visible();}return this.cV;};function setVisible(value){if(value!==true&&value!==false){throw new Error("The parameter value is invalid. The parameter must be boolean true or false.");}this.cV=value;if(this.R){this.R.set_visible(value);}var L;switch(this.bx){case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.HighlightAnnotation:case Mark.Type.StrikethroughAnnotation:if(this.dj&&this.dj.length){for(L=0;L<this.dj.length;L++){this.dj[L].set_visible(value);}}if(this.bx===PCCViewer.Mark.Type.TextSelectionRedaction){var cB=this.R;for(L=0;L<this.R.bE.length;L++){cB.bE[L].set_visible(value);}if(cB.ac){IPCC.V.forEach(this.dj,function(R){for(L=0;L<R.bE.length;L++){R.bE[L].set_visible(value);}});}}break;}return this;};if(T.cV!==undefined){T.getVisible=getVisible;T.setVisible=setVisible;if(Object.defineProperties){Object.defineProperties(T,{"visible":{enumerable:true,get:function(){return this.getVisible();},set:function(value){return this.setVisible(value);}}});}}function getStartPoint(){if(this.R&&this.R!==null){var bF=this.R.get_points();if(bF.get_length()>0){switch(this.bx){case Mark.Type.LineAnnotation:var bS=bF.getPoint(0);if(bS){this.NQ={x:bS.x,y:bS.y};}break;}}}return this.NQ;};function setStartPoint(value){IPCC.aq.hG(value.x,'startPoint'+'.x');IPCC.aq.hG(value.y,'startPoint'+'.y');if(this.R&&this.R!==null){var bF=this.R.get_points();switch(this.bx){case Mark.Type.LineAnnotation:bF.setPoint(0,new IPCC.Web.UI.Point(value.x,value.y));break;}}this.NQ=value;return this;};if(T.NQ){T.getStartPoint=getStartPoint;T.setStartPoint=setStartPoint;if(Object.defineProperties){Object.defineProperties(T,{"startPoint":{enumerable:true,get:function(){return this.getStartPoint();},set:function(value){return this.setStartPoint(value);}}});}}function getEndPoint(){if(this.R&&this.R!==null){var bF=this.R.get_points();if(bF.get_length()>0){switch(this.bx){case Mark.Type.LineAnnotation:var bS=bF.getPoint(1);if(bS){this.xb={x:bS.x,y:bS.y};}break;}}}return this.xb;};function setEndPoint(value){IPCC.aq.hG(value.x,'endPoint'+'.x');IPCC.aq.hG(value.y,'endPoint'+'.y');if(this.R&&this.R!==null){var bF=this.R.get_points();switch(this.bx){case Mark.Type.LineAnnotation:bF.setPoint(1,new IPCC.Web.UI.Point(value.x,value.y));break;}}this.xb=value;return this;};if(T.xb){T.getEndPoint=getEndPoint;T.setEndPoint=setEndPoint;if(Object.defineProperties){Object.defineProperties(T,{"endPoint":{enumerable:true,get:function(){return this.getEndPoint();},set:function(value){return this.setEndPoint(value);}}});}}function getEndHeadType(){if(this.R&&this.R!==null){var Co;switch(this.bx){case Mark.Type.LineAnnotation:Co=this.R.get_endHeadType();switch(Co){case IPCC.Web.UI.LineHeadType.None:this.mW=PCCViewer.Mark.LineHeadType.None;break;case IPCC.Web.UI.LineHeadType.Solid:this.mW=PCCViewer.Mark.LineHeadType.FilledTriangle;break;}break;}}return this.mW;};function setEndHeadType(value){var Co;switch(value){case Mark.LineHeadType.None:Co=IPCC.Web.UI.LineHeadType.None;break;case Mark.LineHeadType.FilledTriangle:Co=IPCC.Web.UI.LineHeadType.Solid;break;default:throw "The specified value is not a valid line head type.";}if(this.R&&this.R!==null){switch(this.bx){case Mark.Type.LineAnnotation:this.R.set_endHeadType(Co);break;}}this.mW=value;return this;};if(T.mW){T.getEndHeadType=getEndHeadType;T.setEndHeadType=setEndHeadType;if(Object.defineProperties){Object.defineProperties(T,{"endHeadType":{enumerable:true,get:function(){return this.getEndHeadType();},set:function(value){return this.setEndHeadType(value);}}});}}function getPoints(){if(this.R&&this.R!==null){var Fx=this.R.get_points();var cj=Fx.get_length();var akW=[];var XK=function(aCy,aV){akW.push(aCy.getPoint(aV));};if(cj>1){switch(this.bx){case Mark.Type.PolylineAnnotation:for(var L=0;L<cj;L++){XK(Fx,L);}this.bF=akW;break;}}}return this.bF.slice();};function setPoints(value){if(!(value instanceof Array)){throw "invalid parameter. The parameter should be an array.";}if(value.length<=1){return;}for(var aw=0;aw<value.length;aw++){IPCC.aq.bS(value[aw],'PolylinePoint');}if(this.R&&this.R!==null){var Fx=this.R.get_points();var aCD=function(aV){Fx.addPoint(new IPCC.Web.UI.Point(value[aV].x,value[aV].y));};switch(this.bx){case Mark.Type.PolylineAnnotation:Fx.removeAllPoints();for(var L=0;L<value.length;L++){aCD(L);}}}this.bF=value;return this;};if(T.bF){T.getPoints=getPoints;T.setPoints=setPoints;if(Object.defineProperties){Object.defineProperties(T,{"points":{enumerable:true,get:function(){return this.getPoints();},set:function(value){return this.setPoints(value);}}});}}function getRectangle(){if(this.R){switch(this.bx){case Mark.Type.RectangleAnnotation:case Mark.Type.RectangleRedaction:case Mark.Type.TransparentRectangleRedaction:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:case Mark.Type.FreehandAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:case Mark.Type.ImageStampAnnotation:case Mark.Type.ImageStampRedaction:var aL=this.R.get_rectangle();if(aL instanceof IPCC.Web.UI.Rectangle){this.C={width:aL.width,height:aL.height,x:aL.x,y:aL.y};}break;}}return this.C;};function setRectangle(value){IPCC.aq.hG(value.x,'rectangle'+'.x');IPCC.aq.hG(value.y,'rectangle'+'.y');IPCC.aq.hG(value.width,'rectangle'+'.width');IPCC.aq.hG(value.height,'rectangle'+'.height');if(this.R&&this.R!==null){switch(this.bx){case Mark.Type.RectangleAnnotation:case Mark.Type.RectangleRedaction:case Mark.Type.TransparentRectangleRedaction:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:case Mark.Type.FreehandAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:case Mark.Type.ImageStampAnnotation:case Mark.Type.ImageStampRedaction:var aL=new IPCC.Web.UI.Rectangle(value.x,value.y,value.width,value.height);this.R.set_rectangle(aL);break;}}this.C=value;return this;};if(T.C){T.getRectangle=getRectangle;T.setRectangle=setRectangle;if(Object.defineProperties){Object.defineProperties(T,{"rectangle":{enumerable:true,get:function(){return this.getRectangle();},set:function(value){return this.setRectangle(value);}}});}}function getPosition(){var da=0;if(this.R&&this.R.cu){da=this.R.cu.length;}else if(this.R){da=IPCC.V.reduce([this.R].concat(this.dj||[]),function(cj,R){return cj+R.get_textLength();},0);}return this.R?{startIndex:this.R.bL,length:da}:this.cz;};function setPosition(value){IPCC.aq.hG(value.startIndex,'position.startIndex');IPCC.aq.hG(value.length,'position.length');if(value.startIndex<0){throw new Error("The start index must be 0 or greater.");}if(value.length<0){throw new Error("The length must be 0 or greater.");}if(this.R===undefined||this.R===null){throw new Error("The mark must be on a page.");}var ap;var bk;var aP=this.be-1;var ws= -value.startIndex;var oe=[];var cu="";var cl;while(true){if(aP>=this.cI.get_length()){throw new Error("The specified length is out of range.");}ap=this.cI.getPage(aP);if(ap.bY()&&ap.bY().vP()&&ap.bY().mB()===true){var adY=ws;var Vj=ap.bY().CJ();ws+=Vj.length;if(ws<0||(ws===0&&value.length!==0)){throw new Error("The specified start index is out of range for the specified page.");}var TU=0;if(aP===this.be-1){TU=value.startIndex;}if(ws>=value.length){cl=value.startIndex+value.length-1;if(adY>=0){cl=value.length-1-adY;}oe.push({pageIndex:aP,endIndex:cl});cu+=Vj.substring(TU,cl+1);break;}else{cl=ap.bY().CJ().length-1;oe.push({pageIndex:aP,endIndex:cl});cu+=Vj.substring(TU,cl+1);}}else{throw new Error("The text has not been retrieved for this page.");}aP++;}this.ac=IPCC.wt();var L=0;if(this.dj){if(this.R){this.R.ac=this.ac;bk=this.aX.gN(this.cI.getPage(this.R.aP));if(this.R.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){for(var Tz=this.R.bE.length-1;Tz>=0;Tz--){bk.removeMark(this.R.bE[Tz]);this.R.bE.pop();}}}for(L=this.dj.length-1;L>=0;L--){var mP=this.dj[L];bk=this.aX.gN(this.cI.getPage(mP.aP));bk.removeMark(mP);this.dj.splice(L,1);}}else{this.dj=[];}JU.call(this,oe,cl,cu,value);this.cz=value;return this;};function JU(oe,cl,cu,value,XE){var L,aP,ap,bk;XE=XE||{};var bE;this.dj=this.dj||[];var agV=(this.R.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction)?aAl:azu;for(L=0;L<oe.length;L++){aP=oe[L].pageIndex;ap=this.cI.getPage(aP);var avf=ap.bY().hc();bk=this.aX.gN(ap);var cB;var bL=0;cl=oe[L].endIndex;if(L===0){bL=value.startIndex;}aP=oe[L].pageIndex;bE=XE[aP]||IPCC.V.Sl(avf,bL,cl);if(L===0){cB=agV(this.R,bL,cl-bL+1,cu,bE,aP,this.ac,this.R.get_type(),bk);this.R.ky=true;}else{cB=agV(null,bL,cl-bL+1,cu,bE,aP,this.ac,this.R.get_type(),bk);this.dj.push(cB);bk.addMark(cB);cB.set_selected(this.R.get_selected());if(this.getFillColor){cB.set_fillColor(this.R.get_fillColor());}if(this.getColor){cB.set_lineColor(this.R.get_lineColor());}if(this.getThickness){cB.set_lineWidth(this.R.get_lineWidth());}if(this.getHref){cB.set_href(this.R.get_href());}if(this.getReason){cB.set_text(this.R.get_text());}}if(L===oe.length-1){cB.ll=true;}}};if(T.cz){T.getPosition=getPosition;T.setPosition=setPosition;T.JU=JU;if(Object.defineProperties){Object.defineProperties(T,{"position":{enumerable:true,get:function(){return this.getPosition();},set:function(value){return this.setPosition(value);}}});}}function azu(T,bL,da,cu,bE,aP,jM,ad,bk){if(!T){T=new IPCC.Web.UI.Mark(ad);}T.bL=bL;T.cr=da;T.jD='y';T.ac=jM;T.cu=cu;T.bE=bE||[];T.aP=aP;var WB=IPCC.V.reduce(T.bE,function(Kt,aL){if(!Kt){return aL.clone();}else{return Kt.union(aL);}},null);T.set_rectangle(WB);return T;};function aAl(T,bL,da,cu,bE,aP,jM,ad,bk){if(!T){T=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);}T.bL=bL;T.cr=da;T.ac=jM;T.cu=cu;T.aP=aP;T.bE=IPCC.V.map(bE,function(aL){var wf=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);wf.set_rectangle(aL);wf.lx(true);wf.set_fillColor('#000000');wf.set_text(T.bp);wf.set_lineWidth(0);wf.ac=jM;bk.addMark(wf);return wf;});var WB=IPCC.V.reduce(bE,function(Kt,aL){if(!Kt){return aL.clone();}else{return Kt.union(aL);}},null);T.set_rectangle(WB);return T;};function getText(){if(this.R){switch(this.bx){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:this.bp=(typeof this.R.get_text()==="string")?this.R.get_text():this.bp;break;case Mark.Type.HighlightAnnotation:case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.StrikethroughAnnotation:if(T.R.cu){this.bp=T.R.cu;}break;}}return this.bp;};function setText(value){IPCC.aq.ng(value,'text');this.bp=value;if(this.R){switch(this.bx){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:this.R.set_text(value);break;}}return this;};if(T.bp!==undefined){T.getText=getText;var ad=T.getType();if(ad!==Mark.Type.HighlightAnnotation&&ad!==Mark.Type.TextSelectionRedaction&&ad!==Mark.Type.TextHyperlinkAnnotation&&ad!==Mark.Type.StrikethroughAnnotation){T.setText=setText;}if(Object.defineProperties){var ajH={enumerable:true,get:function(){return this.getText();}};if(T.setText!==undefined){ajH.set=function(value){return this.setText(value);};}Object.defineProperties(T,{"text":ajH});}}function getFontColor(){if(this.R){switch(this.bx){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextInputSignature:case Mark.Type.RectangleRedaction:case Mark.Type.TextAreaSignature:this.fP=this.R.get_textColor()||this.fP;break;}}return this.fP;};function setFontColor(value){IPCC.aq.dG(value,'fontColor');this.fP=value;if(this.R){switch(this.bx){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:case Mark.Type.RectangleRedaction:this.R.set_textColor(value);break;}}return this;};if(T.fP){T.getFontColor=getFontColor;T.setFontColor=setFontColor;if(Object.defineProperties){Object.defineProperties(T,{"fontColor":{enumerable:true,get:function(){return this.getFontColor();},set:function(value){return this.setFontColor(value);}}});}}function getFontName(){if(this.R){switch(this.bx){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:this.gI=this.R.get_fontName()||this.gI;break;}}return this.gI;};function setFontName(value){IPCC.aq.ng(value,'fontName');this.gI=value;if(this.R){switch(this.bx){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:this.R.set_fontName(value);break;}}return this;};if(T.gI!==undefined){T.getFontName=getFontName;T.setFontName=setFontName;if(Object.defineProperties){Object.defineProperties(T,{"fontName":{enumerable:true,get:function(){return this.getFontName();},set:function(value){return this.setFontName(value);}}});}}function getFontSize(){if(this.R){switch(this.bx){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:this.dh=this.R.get_fontSize()||this.dh;break;}}return this.dh;};function setFontSize(value){IPCC.aq.kY(value,'fontSize',0.1,288);this.dh=value;if(this.R){switch(this.bx){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:this.R.set_fontSize(value);break;}}return this;};if(T.dh){T.getFontSize=getFontSize;T.setFontSize=setFontSize;if(Object.defineProperties){Object.defineProperties(T,{"fontSize":{enumerable:true,get:function(){return this.getFontSize();},set:function(value){return this.setFontSize(value);}}});}}function getHorizontalAlignment(){if(this.R){var zC=this.R.get_textHorizontalAlignment();switch(zC){case IPCC.Web.UI.HorizontalAlignment.Center:this.ma="Center";break;case IPCC.Web.UI.HorizontalAlignment.Left:this.ma="Left";break;case IPCC.Web.UI.HorizontalAlignment.Right:this.ma="Right";break;}}return this.ma;};function setHorizontalAlignment(value){IPCC.aq.ng(value,'horizontalAlignment');var qP=MX(value,PCCViewer.Mark.HorizontalAlignment);var zC;switch(qP){case 'Center':zC=IPCC.Web.UI.HorizontalAlignment.Center;break;case 'Left':zC=IPCC.Web.UI.HorizontalAlignment.Left;break;case 'Right':zC=IPCC.Web.UI.HorizontalAlignment.Right;break;default:throw "Invalid value found for the Text horizontalAlignment.";}T.ma=qP;if(this.R&&zC!==undefined){this.R.set_textHorizontalAlignment(zC);this.ma=qP;}return this;};if(T.ma){T.getHorizontalAlignment=getHorizontalAlignment;T.setHorizontalAlignment=setHorizontalAlignment;if(Object.defineProperties){Object.defineProperties(T,{"horizontalAlignment":{enumerable:true,get:function(){return this.getHorizontalAlignment();},set:function(value){return this.setHorizontalAlignment(value);}}});}}function aux(abz){var xU=[];for(var L=0;L<abz.length;L++){switch(abz[L]){case "Bold":xU.push(IPCC.Web.UI.FontStyle.Bold);break;case "Italic":xU.push(IPCC.Web.UI.FontStyle.Italic);break;case "Strikeout":xU.push(IPCC.Web.UI.FontStyle.Strikeout);break;case "Underline":xU.push(IPCC.Web.UI.FontStyle.Underline);break;default:throw Error("An unknown font style was encountered: "+abz[L]);}}if(xU.length===0){xU.push(IPCC.Web.UI.FontStyle.Regular);}return xU;};function getFontStyle(){if(this.R){var pf=[];switch(this.bx){case Mark.Type.TextAreaSignature:case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:var ug=this.R.get_fontStyle();if(ug&IPCC.Web.UI.FontStyle.Bold){pf.push("Bold");}if(ug&IPCC.Web.UI.FontStyle.Italic){pf.push("Italic");}if(ug&IPCC.Web.UI.FontStyle.Strikeout){pf.push("Strikeout");}if(ug&IPCC.Web.UI.FontStyle.Underline){pf.push("Underline");}if(pf.length>0){this.cJ=pf;}break;}}return this.cJ;};function setFontStyle(value){if(!(value instanceof Array)){throw "invalid parameter. The parameter should be an array.";}var Os,L,afg=[];for(L=0;L<value.length;L++){Os=MX(value[L],PCCViewer.Mark.FontStyles);if(Os===null){throw new RangeError("The value of font styles "+value[L]+" is invalid.");}else{IPCC.aq.ng(Os,'fontStyle');afg.push(Os);}}this.cJ=afg;var ug=[];ug=aux(this.cJ);var bQ=this;function azM(bK){setTimeout(function(){bQ.R.set_fontStyle(bK);},2);};if(this.R){switch(this.bx){case Mark.Type.TextAreaSignature:case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:var ahQ=ug[0];for(L=1;L<ug.length;L++){ahQ|=ug[L];}azM(ahQ);break;}}return this;};if(T.cJ){T.getFontStyle=getFontStyle;T.setFontStyle=setFontStyle;if(Object.defineProperties){Object.defineProperties(T,{"fontStyle":{enumerable:true,get:function(){return this.getFontStyle();},set:function(value){return this.setFontStyle(value);}}});}}function getLabel(){if(this.R){switch(this.bx){case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:this.uM=this.R.get_text()||this.uM;break;}}return this.uM;};function setLabel(value){IPCC.aq.ng(value,'label');this.uM=value;if(this.R){switch(this.bx){case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:this.R.set_text(value);break;}}return this;};if(typeof T.uM!=='undefined'){T.getLabel=getLabel;T.setLabel=setLabel;if(Object.defineProperties){Object.defineProperties(T,{"label":{enumerable:true,get:function(){return this.getLabel();},set:function(value){return this.setLabel(value);}}});}}function getReason(){if(this.R){switch(this.bx){case Mark.Type.RectangleRedaction:case Mark.Type.TextSelectionRedaction:this.fw=this.R.get_text()||this.fw;break;}}return this.fw;};function setReason(value){IPCC.aq.ng(value,'text');this.fw=value;if(this.R){switch(this.bx){case Mark.Type.RectangleRedaction:this.R.set_text(value);break;case Mark.Type.TextSelectionRedaction:this.R.set_text(value);if(this.dj&&this.dj.length){for(var L=0;L<this.dj.length;L++){this.dj[L].set_text(value);}}break;}}return this;};if(typeof T.fw!=='undefined'){T.getReason=getReason;T.setReason=setReason;if(Object.defineProperties){Object.defineProperties(T,{"reason":{enumerable:true,get:function(){return this.getReason();},set:function(value){return this.setReason(value);}}});}}function getPath(){if(this.R){return this.R.get_pathString();}else{return this.hx;}};function setPath(path){if(path.match(/[^MLC0-9.,\s]/)){throw new Error("The path string contains illegal characters.");}var uo=IPCC.V.WI(path);this.hx=path;if(this.R){this.R.set_pathString(path);this.R.set_pathWidth(uo.width);this.R.set_pathHeight(uo.height);}return this;};if(T.hx){T.setPath=setPath;T.getPath=getPath;if(Object.defineProperties){Object.defineProperties(T,{"path":{enumerable:true,get:getPath,set:setPath}});}}function getHref(){if(this.R){return this.R.get_href();}else{return this.mr;}};function setHref(href){if(href!==null){var bx=typeof href;if(bx!=="undefined"&&bx!=="number"&&bx!=="string"){throw new Error("`href` can only be set to a value that is a Number, String, null, or undefined.");}}this.mr=href;if(this.R){this.R.set_href(href);}if(this.dj){IPCC.V.forEach(this.dj,function(R){R.set_href(href);});}return this;};if(typeof T.mr!=='undefined'){T.setHref=setHref;T.getHref=getHref;if(Object.defineProperties){Object.defineProperties(T,{"href":{enumerable:true,get:getHref,set:setHref}});}}function setMaxLength(maxLength){if(typeof maxLength!=='number'||maxLength<0||maxLength>Number.MAX_VALUE||Math.round(maxLength)!==maxLength){throw new Error('`maxLength` can only be set to a value that is a positive integer.');}this.hf=maxLength;if(this.R){this.R.set_maxLength(this.hf);}return this;};function getMaxLength(){if(this.R){this.hf=this.R.get_maxLength();}return this.hf;};if(typeof T.hf!=='undefined'){T.getMaxLength=getMaxLength;T.setMaxLength=setMaxLength;if(Object.defineProperties){Object.defineProperties(T,{"maxLength":{enumerable:true,get:getMaxLength,set:setMaxLength}});}}function setMaxFontSize(maxFontSize){if(typeof maxFontSize!=='number'||maxFontSize<0||maxFontSize>Number.MAX_VALUE||Math.round(maxFontSize)!==maxFontSize){throw new Error('`maxFontSize` can only be set to a value that is a positive integer.');}this.hN=maxFontSize;if(this.R){this.R.set_maxFontSize(this.hN);}return this;};function getMaxFontSize(){if(this.R){this.hN=this.R.get_maxFontSize();}return this.hN;};if(typeof T.hN!=='undefined'){T.getMaxFontSize=getMaxFontSize;T.setMaxFontSize=setMaxFontSize;if(Object.defineProperties){Object.defineProperties(T,{"maxFontSize":{enumerable:true,get:getMaxFontSize,set:setMaxFontSize}});}}function getMask(){return this.jn;};function setMask(mask){if(mask===null||typeof mask==='undefined'){this.jn=null;if(this.R){this.R.set_mask(this.jn);}return this;}if(typeof mask!=='object'||Array.isArray(mask)){throw new Error('`mask` can only be set to a value that is an Object, null or undefined.');}if(typeof mask.value!=='string'){throw new Error('`mask.value` can only be set to a value that is a string.');}if(typeof mask.translations!=='object'||mask.translations===null||Array.isArray(mask.translations)){throw new Error('`mask.translations` can only be set to a value that is an Object.');}var aiH=false;IPCC.V.forEach(mask.translations,function(val,key){aiH=true;if(key.length!==1){throw new Error('`'+key+'` does not have a string length of 1.');}if(!(val instanceof RegExp)|| !(/\/$/).exec(val.toString())){throw new Error('`mask.translations['+key+']` must be a regular expression without flags.');}});if(!aiH){throw new Error('`mask.translations` must have at least one translation.');}this.jn=mask;if(this.R){this.R.set_mask(this.jn);}return this;};if(typeof T.jn!=='undefined'){T.getMask=getMask;T.setMask=setMask;if(Object.defineProperties){Object.defineProperties(T,{"mask":{enumerable:true,get:getMask,set:setMask}});}}};module.exports=Mark;},{"./../IPCC/IPCC":29,"./PCCViewer.Data":135}],151:[function(require,module,exports){var EventEmitter=require('./PCCViewer.EventEmitter');var ia=function(viewerControl,markReferences){var J=this;if(!viewerControl){throw new Error('`viewerControl` param is missing.');}this.cR=function(){var d=new Date().getTime();var uuid='xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(c){var r=(d+Math.random()*16)%16|0;d=Math.floor(d/16);return(c==='x'?r:(r&0x3|0x8)).toString(16);});return uuid;}();this.bB=viewerControl;this.aJ=undefined;this.Vf=undefined;this.alD=undefined;this.bq=[];this.hy={};this.mY=PCCViewer.Mark.InteractionMode.Full;if(markReferences!==undefined){switch(Object.prototype.toString.call(markReferences)){case "[object Object]":markReferences=[markReferences];break;case "[object Array]":break;default:throw new Error('`markReferences` param is not an object or an array.');}IPCC.V.forEach(markReferences,function(qW){var KU=qW.markUid;qW.markupLayer=J;if(J.hy[KU]){J.hy[KU]=J.hy[KU].concat(qW);}else{J.hy[KU]=[qW];}});}var nD={};EventEmitter.extend(nD);nD.Sd=function(Eu,cC){var J=this;return setTimeout(function(){J.trigger(Eu,cC);},0);};EventEmitter.extend(this);this.ci=new IPCC.Web.UI.Data();PCCViewer.Data.extend(this);this.Bb=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);setTimeout(function(){J.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerCreated,{});},0);};ia.EventType={MarkupLayerCreated:"MarkupLayerCreated",MarkupLayerDestroyed:"MarkupLayerDestroyed",MarksAddedToLayer:"MarksAddedToLayer",MarksRemovedFromLayer:"MarksRemovedFromLayer",MarkupLayerInteractionModeChanged:"MarkupLayerInteractionModeChanged",MarkupLayerHidden:"MarkupLayerHidden",MarkupLayerShown:"MarkupLayerShown"};ia.prototype.getViewerControl=function(){return this.bB;};ia.prototype.addMarks=function(marks){var J=this,awl=function(cA){cA.im=J;};switch(Object.prototype.toString.call(marks)){case "[object Object]":marks=[marks];break;case "[object Array]":break;default:throw new Error('`marks` param is not an object or an array.');}for(var L=0;L<marks.length;L++){if(!(marks[L]instanceof PCCViewer.Mark)){throw new Error('`marks` param contains an item that is not an instanceof `PCCViewer.Mark`');}if(this.hasMark(marks[L].getId())){marks.splice(L,1);continue;}IPCC.V.forEach(marks[L].getConversation().getComments(),awl);}if(marks.length){this.bq=this.bq.concat(marks);this.trigger(PCCViewer.MarkupLayer.EventType.MarksAddedToLayer,{marks:marks});}return this;};ia.prototype.removeMarks=function(marks){switch(Object.prototype.toString.call(marks)){case "[object Object]":marks=[marks];break;case "[object Array]":break;default:throw new Error('`marks` param is not an object or an array.');}for(var L=0;L<this.bq.length;L++){for(var aw=0;aw<marks.length;aw++){if(this.bq[L].getUid()===marks[aw].getUid()){this.bq.splice(L,1);this.trigger(PCCViewer.MarkupLayer.EventType.MarksRemovedFromLayer,{marks:[marks[aw]]});break;}}}};ia.prototype.getMarks=function(){var afS=[];IPCC.V.forEach(this.bq,function(T){afS.push(T);});return afS;};ia.prototype.hasMark=function(markId){if(typeof markId!=='string'){throw new Error('`markId` param is not a string.');}var L=0,agz=false,T;for(L;L<this.bq.length;L++){T=this.bq[L];if(T.getId()===markId){agz=true;break;}}return agz;};ia.prototype.getMarkReferences=function(){var hy=[];for(var nu in this.hy){if(this.hy.hasOwnProperty(nu)){hy=hy.concat(this.hy[nu]);}}return hy;};ia.prototype.hide=function(){var bB=this.bB;bB.hideMarks(this.getMarks());this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerHidden,{});return this;};ia.prototype.show=function(){var bB=this.bB;bB.showMarks(this.getMarks());this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerShown,{});return this;};ia.prototype.copyLayers=function(markupLayers){var bB=this.bB,J=this;if(markupLayers instanceof PCCViewer.MarkupLayer){markupLayers=[markupLayers];}if(markupLayers instanceof Array===false){throw new PCCViewer.Error("InvalidArgument","The parameter, markupLayers, is not an Array of MarkupLayers or a single MarkupLayer.");}var bq=[];IPCC.V.forEach(markupLayers,function(im){bB.getMarkupLayerCollection().getItem(im.getId());bq=bq.concat(im.getMarks());});var copiedMarks=bB.copyMarks(bq);this.addMarks(copiedMarks);IPCC.V.forEach(this.bq,function(T){IPCC.V.forEach(T.getConversation().getComments(),function(cA){cA.im=J;});});return this;};ia.prototype.getId=function(){return this.cR;};ia.prototype.getName=function(){return this.aJ;};ia.prototype.setName=function(name){if(typeof name!=='string'){throw new Error('`name` param is not a string.');}this.aJ=name;return this;};ia.prototype.getRecordId=function(){return this.Vf;};ia.prototype.destroy=function(){this.bB.getMarkupLayerCollection().removeItem(this.cR);this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerDestroyed,{});};ia.prototype.setInteractionMode=function(interactionMode){if(typeof interactionMode!=='string'){throw new Error('`interactionMode` param is not a string.');}this.mY=interactionMode;IPCC.V.forEach(this.bq,function(T){T.setInteractionMode(interactionMode);});this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerInteractionModeChanged,{interactionMode:interactionMode});return this;};ia.prototype.getOriginalXmlName=function(){return this.alD;};ia.prototype.setOriginalXmlName=function(name){if(typeof name!=='string'){throw new Error('`name` param is not a string.');}this.alD=name;return this;};if(Object.defineProperties){Object.defineProperties(ia.prototype,{"id":{enumerable:true,get:function(){return this.getId();}},"recordId":{enumerable:true,get:function(){return this.getRecordId();}},"name":{enumerable:true,get:function(){return this.getName();},set:function(name){return this.setName(name);}},"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}},"originalXmlName":{enumerable:true,get:function(){return this.getOriginalXmlName();},set:function(name){return this.setOriginalXmlName(name);}},});}module.exports=ia;},{"./PCCViewer.EventEmitter":140}],152:[function(require,module,exports){var EventEmitter=require('./PCCViewer.EventEmitter');var MarkupLayerCollection=function(viewerControl){if(!viewerControl){throw new Error('`viewerControl` param is missing.');}this.bB=viewerControl;this.sL={};this.bq={};this.iB={};this.ra=0;EventEmitter.extend(this);};MarkupLayerCollection.EventType={MarkupLayerAdded:"MarkupLayerAdded",MarkupLayerRemoved:"MarkupLayerRemoved"};MarkupLayerCollection.prototype.getViewerControl=function(){return this.bB;};MarkupLayerCollection.prototype.forEach=function(iterator,thisArg){if(typeof iterator!=='function'){throw new TypeError('The iterator parameter is not a function');}IPCC.V.forEach(this.sL,iterator,thisArg);return this;};MarkupLayerCollection.prototype.getItem=function(layerId){if(typeof layerId!=='string'){throw new Error('`layerId` param is not a string.');}return this.sL[layerId];};MarkupLayerCollection.prototype.getCount=function(){return this.ra;};MarkupLayerCollection.prototype.getAll=function(){var agd=[],Xg;for(Xg in this.sL){if(this.sL.hasOwnProperty(Xg)){agd.push(this.sL[Xg]);}}return agd;};MarkupLayerCollection.prototype.addItem=function(layer){var J=this,hy,WP=layer.hy,GN=function(T,qW){var cA=T.getConversation().addComment(qW.text);cA.creationTime=new Date(qW.creationDateTime);cA.im=qW.markupLayer;for(var vb in qW.data){if(qW.data.hasOwnProperty(vb)){cA.setData(vb,qW.data[vb]);}}},aCM=function(aEA){GN(J.bq[wD],aEA);},aib=function(T){var nu=T.getUid();J.bq[T.getUid()]=T;if(J.iB[nu]){IPCC.V.forEach(J.iB[nu],function(pg){GN(T,pg);});delete J.iB[nu];}};if(!(layer instanceof PCCViewer.MarkupLayer)){throw new Error('`layer` param is not an instance of PCCViewer.MarkupLayer.');}this.sL[layer.getId()]=layer;for(var wD in WP){if(WP.hasOwnProperty(wD)){hy=WP[wD];if(J.bq[wD]){IPCC.V.forEach(hy,aCM);}else if(J.iB[wD]){J.iB[wD]=J.iB[wD].concat(hy);}else{J.iB[wD]=hy;}}}IPCC.V.forEach(layer.getMarks(),function(T){aib(T);});this.ra++;this.trigger(PCCViewer.MarkupLayerCollection.EventType.MarkupLayerAdded,{layerId:layer.getId()});layer.on(PCCViewer.MarkupLayer.EventType.MarksAddedToLayer,function(ev){IPCC.V.forEach(ev.marks,function(T){aib(T);});});layer.on(PCCViewer.MarkupLayer.EventType.MarksRemovedFromLayer,function(ev){var azt=ev.dA;IPCC.V.forEach(ev.marks,function(T){var nu=T.getUid();IPCC.V.forEach(J.bq[nu].getConversation().getComments(),function(Hd){if(azt.id!==Hd.im.id){var pg={creationDateTime:IPCC.V.uF(Hd.creationTime),data:Hd.ci.wC(),markUid:T.getUid(),markupLayer:Hd.im,text:Hd.text};if(J.iB[nu]){J.iB[nu]=J.iB[nu].concat([pg]);}else{J.iB[nu]=[pg];}}});J.ur(T);});});return this;};MarkupLayerCollection.prototype.ur=function(T){var Mu;IPCC.V.forEach(this.sL,function(eO){var agB=eO.hasMark(T.getId());Mu=(typeof Mu!=='undefined')? +agB^Mu: +agB;});if(Mu===0){delete this.bq[T.getUid()];}};MarkupLayerCollection.prototype.removeItem=function(layerId){var eO=this.sL[layerId],J=this,ayR=function(pg,aV){if(pg.markupLayer.getId()===layerId){J.iB[cR].splice(aV);}};if(typeof layerId!=='string'){throw new Error('`layerId` param is not a string.');}IPCC.V.forEach(this.bq,function(T){var gK=T.getConversation().getComments();var IQ=eO.hasMark(T.getId());IPCC.V.forEach(gK,function(cA){if(IQ&&cA.im.getId()!==layerId){var act={"markUid":T.getUid(),"markupLayer":cA.im,"text":cA.getText(),"data":cA.ci.ci,"creationDateTime":IPCC.V.uF(cA.getCreationTime())};if(J.iB[T.getUid()]){J.iB[T.getUid()].push(act);}else{J.iB[T.getUid()]=[act];}T.getConversation().deleteComments(cA);}else if(IQ&&cA.im.getId()===layerId){T.getConversation().deleteComments(cA);}else if(!IQ&&cA.im.getId()===layerId){T.getConversation().deleteComments(cA);}});if(IQ&&J.bq[T.getUid()]){J.ur(T);}});for(var cR in this.iB){if(this.iB.hasOwnProperty(cR)){IPCC.V.forEach(this.iB[cR],ayR);}}delete this.sL[layerId];this.ra--;this.trigger(PCCViewer.MarkupLayerCollection.EventType.MarkupLayerRemoved,{layerId:layerId});return this;};MarkupLayerCollection.prototype.removeAll=function(){this.sL={};this.ra=0;return this;};if(Object.defineProperties){Object.defineProperties(MarkupLayerCollection.prototype,{"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}},"count":{enumerable:true,get:function(){return this.getCount();}}});}module.exports=MarkupLayerCollection;},{"./PCCViewer.EventEmitter":140}],153:[function(require,module,exports){'use strict';var Mark=require('./PCCViewer.Marks');function MouseTool(name,type){this.aJ=name;var Gy=apt(type);if(Gy===null){throw new RangeError("The value of type was invalid.");}this.bx=Gy;addPropertiesToMouseTool(this);};MouseTool.prototype.getName=function(){return this.aJ;};MouseTool.prototype.getType=function(){return this.bx;};if(Object.defineProperties){Object.defineProperties(MouseTool.prototype,{"name":{enumerable:true,get:function(){return this.getName();}},"type":{enumerable:true,get:function(){return this.getType();}}});}function apt(UT){var Yo=UT.toLowerCase();for(var standardType in MouseTool.Type){if(MouseTool.Type.hasOwnProperty(standardType)&&standardType.toLowerCase&&standardType.toLowerCase()===Yo){return standardType;}}return null;};function addPropertiesToMouseTool(mouseTool){var bx=mouseTool.getType();switch(bx){case MouseTool.Type.Magnifier:break;case MouseTool.Type.SelectToZoom:break;case MouseTool.Type.Pan:mouseTool.Bm=false;break;case MouseTool.Type.PanAndEdit:mouseTool.Bm=true;break;case MouseTool.Type.SelectText:break;case MouseTool.Type.EditMarks:break;case MouseTool.Type.LineAnnotation:mouseTool.bi=new Mark({type:Mark.Type.LineAnnotation});break;case MouseTool.Type.RectangleAnnotation:mouseTool.bi=new Mark({type:Mark.Type.RectangleAnnotation});break;case MouseTool.Type.EllipseAnnotation:mouseTool.bi=new Mark({type:Mark.Type.EllipseAnnotation});break;case MouseTool.Type.TextAnnotation:mouseTool.bi=new Mark({type:Mark.Type.TextAnnotation});break;case MouseTool.Type.StampAnnotation:mouseTool.bi=new Mark({type:Mark.Type.StampAnnotation});break;case MouseTool.Type.HighlightAnnotation:mouseTool.bi=new Mark({type:Mark.Type.HighlightAnnotation});break;case MouseTool.Type.TextHyperlinkAnnotation:mouseTool.bi=new Mark({type:Mark.Type.TextHyperlinkAnnotation});break;case MouseTool.Type.FreehandAnnotation:mouseTool.bi=new Mark({type:Mark.Type.FreehandAnnotation});break;case MouseTool.Type.RectangleRedaction:mouseTool.bi=new Mark({type:Mark.Type.RectangleRedaction});break;case MouseTool.Type.TransparentRectangleRedaction:mouseTool.bi=new Mark({type:Mark.Type.TransparentRectangleRedaction});break;case MouseTool.Type.TextRedaction:mouseTool.bi=new Mark({type:Mark.Type.TextRedaction});break;case MouseTool.Type.TextInputSignature:mouseTool.bi=new Mark({type:Mark.Type.TextInputSignature});break;case MouseTool.Type.TextAreaSignature:mouseTool.bi=new Mark({type:Mark.Type.TextAreaSignature});break;case MouseTool.Type.StampRedaction:mouseTool.bi=new Mark({type:Mark.Type.StampRedaction});break;case MouseTool.Type.PlaceSignature:mouseTool.bi=new Mark({type:'PlaceSignature',AI:true});break;case MouseTool.Type.TextSelectionRedaction:mouseTool.bi=new Mark({type:Mark.Type.TextSelectionRedaction});break;case MouseTool.Type.ImageStampAnnotation:mouseTool.bi=new Mark({type:Mark.Type.ImageStampAnnotation});break;case MouseTool.Type.ImageStampRedaction:mouseTool.bi=new Mark({type:Mark.Type.ImageStampRedaction});break;case MouseTool.Type.PolylineAnnotation:mouseTool.bi=new Mark({type:Mark.Type.PolylineAnnotation});break;case MouseTool.Type.StrikethroughAnnotation:mouseTool.bi=new Mark({type:Mark.Type.StrikethroughAnnotation});break;}if(mouseTool.bi){mouseTool.getTemplateMark=function(){return this.bi;};if(Object.defineProperties){Object.defineProperties(mouseTool,{"templateMark":{enumerable:true,get:mouseTool.getTemplateMark}});}}};MouseTool.prototype.reset=function(){if(this.bi){this.bi.reset();}};var MouseTools={sU:{},createMouseTool:function(name,type){if(!this.sU){this.sU={};createDefaultMouseTools();}var xj=name.toLowerCase();var existingTool=this.sU[xj];if(existingTool){if(existingTool.getType().toLowerCase()!==type.toLowerCase()){throw new Error("If calling createMouseTool and providing the name of a mouse tool that already exists, then the type must be the same type as the existing mouse tool.");}existingTool.reset();}else{this.sU[xj]=new MouseTool(name,type);}return this.sU[xj];},getMouseTool:function(name){if(name&&name.toLowerCase){if(!this.sU){this.sU={};createDefaultMouseTools();}var xj=name.toLowerCase();return this.sU[xj];}return undefined;}};MouseTool.Type={Magnifier:"Magnifier",SelectToZoom:"SelectToZoom",Pan:"Pan",PanAndEdit:"PanAndEdit",SelectText:"SelectText",EditMarks:"EditMarks",LineAnnotation:"LineAnnotation",RectangleAnnotation:"RectangleAnnotation",EllipseAnnotation:"EllipseAnnotation",TextAnnotation:"TextAnnotation",StampAnnotation:"StampAnnotation",HighlightAnnotation:"HighlightAnnotation",TextHyperlinkAnnotation:"TextHyperlinkAnnotation",FreehandAnnotation:"FreehandAnnotation",RectangleRedaction:"RectangleRedaction",TransparentRectangleRedaction:"TransparentRectangleRedaction",TextRedaction:"TextRedaction",TextInputSignature:"TextInputSignature",TextAreaSignature:"TextAreaSignature",StampRedaction:"StampRedaction",PlaceSignature:"PlaceSignature",TextSelectionRedaction:"TextSelectionRedaction",ImageStampAnnotation:"ImageStampAnnotation",ImageStampRedaction:"ImageStampRedaction",PolylineAnnotation:"PolylineAnnotation",StrikethroughAnnotation:"StrikethroughAnnotation"};function createDefaultMouseTools(){MouseTools.createMouseTool("AccusoftMagnifier",MouseTool.Type.Magnifier);MouseTools.createMouseTool("AccusoftSelectToZoom",MouseTool.Type.SelectToZoom);MouseTools.createMouseTool("AccusoftPan",MouseTool.Type.Pan);MouseTools.createMouseTool("AccusoftPanAndEdit",MouseTool.Type.PanAndEdit);MouseTools.createMouseTool("AccusoftSelectText",MouseTool.Type.SelectText);MouseTools.createMouseTool("AccusoftEditMarks",MouseTool.Type.EditMarks);MouseTools.createMouseTool("AccusoftLineAnnotation",MouseTool.Type.LineAnnotation);MouseTools.createMouseTool("AccusoftArrowAnnotation",MouseTool.Type.LineAnnotation).getTemplateMark().setEndHeadType("FilledTriangle");MouseTools.createMouseTool("AccusoftRectangleAnnotation",MouseTool.Type.RectangleAnnotation);MouseTools.createMouseTool("AccusoftEllipseAnnotation",MouseTool.Type.EllipseAnnotation);MouseTools.createMouseTool("AccusoftTextAnnotation",MouseTool.Type.TextAnnotation);MouseTools.createMouseTool("AccusoftStampAnnotation",MouseTool.Type.StampAnnotation);MouseTools.createMouseTool("AccusoftHighlightAnnotation",MouseTool.Type.HighlightAnnotation);MouseTools.createMouseTool("AccusoftTextHyperlinkAnnotation",MouseTool.Type.TextHyperlinkAnnotation);MouseTools.createMouseTool("AccusoftFreehandAnnotation",MouseTool.Type.FreehandAnnotation);MouseTools.createMouseTool("AccusoftPlaceSignature",MouseTool.Type.PlaceSignature);MouseTools.createMouseTool("AccusoftTextSelectionRedaction",MouseTool.Type.TextSelectionRedaction);MouseTools.createMouseTool("AccusoftRectangleRedaction",MouseTool.Type.RectangleRedaction);MouseTools.createMouseTool("AccusoftTransparentRectangleRedaction",MouseTool.Type.TransparentRectangleRedaction);MouseTools.createMouseTool("AccusoftTextRedaction",MouseTool.Type.TextRedaction);MouseTools.createMouseTool("AccusoftTextInputSignature",MouseTool.Type.TextInputSignature);MouseTools.createMouseTool("AccusoftTextAreaSignature",MouseTool.Type.TextAreaSignature);MouseTools.createMouseTool("AccusoftStampRedaction",MouseTool.Type.StampRedaction);MouseTools.createMouseTool("AccusoftImageStampAnnotation",MouseTool.Type.ImageStampAnnotation);MouseTools.createMouseTool("AccusoftImageStampRedaction",MouseTool.Type.ImageStampRedaction);MouseTools.createMouseTool("AccusoftPolylineAnnotation",MouseTool.Type.PolylineAnnotation);MouseTools.createMouseTool("AccusoftStrikethroughAnnotation",MouseTool.Type.StrikethroughAnnotation);return MouseTools.sU;};createDefaultMouseTools();module.exports={MouseTool:MouseTool,MouseTools:MouseTools};},{"./PCCViewer.Marks":150}],154:[function(require,module,exports){var EventEmitter=require('./PCCViewer.EventEmitter');var ObservableCollection=function(){var zI=[];var nD={};EventEmitter.extend(nD);nD.Sd=function(Eu,cC){var J=this;return setTimeout(function(){J.trigger(Eu,cC);},0);};this.add=function(item){zI.push(item);nD.Sd(this.EventType.ItemAdded,{item:item,count:zI.length});return this;};this.remove=function(item){var J=this;this.forEach(function(e,idx){if(e===item){zI.splice(idx,1);nD.Sd(J.EventType.ItemRemoved,{item:item,count:zI.length});}});return this;};this.removeAll=function(){zI=[];nD.Sd(this.EventType.ItemRemoved,{count:zI.length});return this;};this.forEach=function(iterator,thisArg){if(typeof iterator!=='function'){throw new TypeError('The iterator parameter is not a function');}IPCC.V.forEach(this.toArray(),iterator,thisArg);return this;};this.toArray=function(){return[].concat(zI);};this.on=function(eventType,handler){nD.on.apply(nD,arguments);return this;};this.off=function(eventType,handler){nD.off.apply(nD,arguments);return this;};};ObservableCollection.prototype.EventType={ItemAdded:"ItemAdded",ItemRemoved:"ItemRemoved"};module.exports=ObservableCollection;},{"./PCCViewer.EventEmitter":140}],155:[function(require,module,exports){var DO={Horizontal:"Horizontal",Vertical:"Vertical"};module.exports=DO;},{}],156:[function(require,module,exports){var PasswordProtectedDocumentLoader=function PasswordProtectedDocumentLoader(QL){this.QL=QL;};PasswordProtectedDocumentLoader.prototype.load=function(password){return this.QL(password);};module.exports=PasswordProtectedDocumentLoader;},{}],157:[function(require,module,exports){var printAlgorithm={standard:1,contentWindowContents:2};var Vb=function Vb(az,cZ,H){if(az.addEventListener){az.addEventListener(cZ,H,false);}else if(az.attachEvent){az.attachEvent('on'+cZ,H);}};var Wz=function Wz(az,cZ,H){if(az.removeEventListener){az.removeEventListener(cZ,H,false);}else if(az.detachEvent){az.detachEvent('on'+cZ,H);}};function awn(fu){var adw={};fu=fu.split('&');for(var i=fu.length;i--;){var q=fu[i].split('=');adw[q.shift()]=q.join('=');}return adw;};function ayL(){var xY=document.getElementById('pccPrintFrame');if(xY){if(xY.contentWindow&&xY.contentWindow.destroy){xY.contentWindow.destroy();}if(xY.parentElement){xY.parentElement.removeChild(xY);}}};function aCh(bI){bI.ags();ayL();bI.agi();if(!bI.algorithm){bI.algorithm=printAlgorithm.standard;}var gT;var gJ=document.createElement('iframe');gJ.id='pccPrintFrame';gJ.className='pccPrintFrame';gJ.style.position='absolute';gJ.style.bottom=gJ.style.right='0px';gJ.style.width=gJ.style.height='1px';gJ.style.zIndex='0';gJ.style.border='none';if(bI.algorithm!==printAlgorithm.contentWindowContents){gJ.style.visibility='0';}function Qk(){Wz(window,'message',amG);};function adF(){Wz(gJ,'load',adF);if(gJ.contentDocument){gT=gJ.contentDocument;}else if(gJ.contentWindow){gT=gJ.contentWindow.document;}else{gT=gJ.document;}if(bI.algorithm===printAlgorithm.contentWindowContents){gJ.contentWindow.contents=bI.template;gJ.src='javascript:window["contents"]';}else{gT.open();gT.write(bI.template);gT.close();}};var amG=function(message){message.source.PCCViewer.Ajax.setHeaders(PCCViewer.Ajax.getHeaders()).setOverrideMethod(PCCViewer.Ajax.getOverrideMethod());if(message.data.match(/loadArt/)){var ajX=JSON.parse(message.data);var bk=bI.aeT(ajX.pageIndex);bI.ags();gJ.contentWindow[ajX.callbackName](bk);bI.agi();}else if(message.data==='extra'){var Hm=bI.aai(bI);gJ.contentWindow['extra'](bI.encryption,Hm);}else if(message.data==='done'){if(bI.algorithm===printAlgorithm.contentWindowContents){setTimeout(function(){gJ.contentWindow.focus();gJ.contentWindow.document.execCommand('print',false,null);window.focus();Qk();bI.uh.trigger(PCCViewer.PrintRequest.EventType.PrintCompleted);},2000);}else{setTimeout(function(){gJ.contentWindow.focus();gJ.contentWindow.print();window.focus();Qk();bI.uh.trigger(PCCViewer.PrintRequest.EventType.PrintCompleted);},2000);}}else if(message.data==='fail'){Qk();bI.uh.trigger(PCCViewer.PrintRequest.EventType.PrintFailed);}else{var sx=awn(message.data);sx.index= +sx.index;sx.pageNumber= +sx.pageNumber;sx.totalPages= +sx.totalPages;bI.uh.abu= +sx.index+1;bI.uh.trigger(PCCViewer.PrintRequest.EventType.PrintPagePrepared,sx);}};Vb(window,'message',amG);Vb(gJ,'load',adF);document.body.appendChild(gJ);return Qk;};function auj(bB){return function aeT(aP){return bB.aX.gN(bB.cI.getPage(aP));};};function aun(bB){return function aai(options){var bq,T,vS=[],zb=[],EW={},Fl={},vW={},fw={},Gx='',akA,dP,aV,Fk,aL,Fz,be,amY={},Fy={},L=0,cE=0,aw=0,aqG=function(a,b){return a-b;};if(options.includeComments!=='none'||options.includeReasons!=='none'){bq=bB.getAllMarks();for(L=0;L<options.pages.length;L++){amY[options.pages[L]]=true;}for(cE=0;cE<bq.length;cE++){T=bq[cE];be=T.be;if(options.includeReasons!=='none'&&T.getReason){Gx=T.getReason();if(Gx){if(!vW[be]){fw[Gx]=1;vW[be]=fw;fw={};}else{if(vW[be][Gx]){vW[be][Gx]+=1;}else{vW[be][Gx]=1;}}}}if(T.nS||T.bx.search("Redaction")!== -1){if(Fy[be]){Fy[be]+=1;}else{Fy[be]=1;}}if(options.range.length&&amY[be]!==true|| !options.includeRedactions&&T.nS|| !options.includeAnnotations&& !T.nS){continue;}dP=T.getConversation();if(dP&&dP.getComments().length){if(!Fk){Fk=be;}else if(be!==Fk){vS.sort(aqG);for(aw=0;aw<vS.length;aw++){zb=zb.concat(EW[vS[aw]]);}Fl[Fk]=zb;Fk=be;vS=[];EW={};zb=[];}aV=bB.getCharacterIndex(T);akA=be;aL=T.R.get_boundingRectangle();Fz=(aV>0)?aV*10000+aL.y:aL.y;vS.push(Fz);if(!EW[Fz]){EW[Fz]=[dP];}else{EW[Fz].push(dP);}}}if(vS.length){vS.sort(function(a,b){return a-b;});for(L=0;L<vS.length;L++){zb=zb.concat(EW[vS[L]]);}Fl[akA]=zb;}}return{Fl:Fl,vW:vW,Fy:Fy};};};function axI(bB){return function(){if(bB&&bB.aX){bB.aX.remove_markChanged(bB.lJ);}};};function Xb(bB){return function(){if(bB&&bB.aX){bB.aX.add_markChanged(bB.lJ);}};};function print(options){options=options||{};options.range=options.range||'all';options.orientation=(options.orientation&&options.orientation.toLowerCase()==='landscape')?'landscape':'portrait';options.paperSize=options.paperSize||'letter';options.margins=(options.margins&&options.margins.toLowerCase()==='none')?'none':'default';options.includeMarks=options.includeMarks!==undefined?(! !options.includeMarks&&this.canPrintMarks()):undefined;options.includeAnnotations=options.includeAnnotations!==undefined?(! !options.includeAnnotations&&this.canPrintMarks()):undefined;options.includeRedactions=options.includeRedactions!==undefined?(! !options.includeRedactions&&this.canPrintMarks()):undefined;options.includeComments=(options.includeComments)?options.includeComments:'none';options.includeReasons=(options.includeReasons)?options.includeReasons:'none';options.redactionViewMode=(options.redactionViewMode)?options.redactionViewMode:'Normal';if(options.includeAnnotations===undefined){options.includeAnnotations=options.includeMarks;}if(options.includeRedactions===undefined){options.includeRedactions=options.includeMarks;}var cX=PCCViewer.Util.convertPageRangeToArray(options.range.toString().toLowerCase(),{upperLimit:this.getPageCount()});var pw=this.bI.imageHandlerUrl;var avE=this.bI.documentID;var aoN=this.aBf;options.vsID=avE;options.handler=pw;options.pages=cX;var isOldIE= ! !navigator.appName.match('Microsoft');var isIE= ! !navigator.userAgent.match('Trident');var isSafari= ! !(navigator.userAgent.search('Safari')>=0&&navigator.userAgent.search('Chrome')<0);options.template=aoN.replace(/{{viewingSessionId}}/g,options.vsID).replace(/{{handler}}/g,options.handler).replace(/{{pages}}/g,options.pages.join(',')).replace(/{{orientation}}/g,options.orientation).replace(/{{paperSize}}/g,options.paperSize).replace(/{{isIE}}/g,isIE.toString()).replace(/{{isSafari}}/g,isSafari.toString()).replace(/{{includeAnnotations}}/g,options.includeAnnotations).replace(/{{includeRedactions}}/g,options.includeRedactions).replace(/{{includeComments}}/g,options.includeComments).replace(/{{includeReasons}}/g,options.includeReasons).replace(/{{margins}}/g,options.margins).replace(/{{redactionViewMode}}/g,options.redactionViewMode).replace(/{{viewerAssetsPath}}/g,this.bI.viewerAssetsPath);options.encryption= ! !this.bI.encryption;if(isOldIE){options.algorithm=printAlgorithm.contentWindowContents;}var VW;function aR(){if(! !VW){VW();}};var uh=new PCCViewer.PrintRequest(options,cX.length,aR,this);this.trigger(PCCViewer.EventType.PrintRequested,{printRequest:uh});options.uh=uh;options.aeT=auj(this);options.aai=aun(this);options.ags=axI(this);options.agi=Xb(this);VW=aCh(options);return uh;};function validatePrintRange(range){return PCCViewer.Util.validatePageRange(range.toString().toLowerCase(),{upperLimit:this.getPageCount()});};function canPrintMarks(){return(document.documentMode!==8);};var PrintRequest=function(options,totalPages,cancelFunc,that){this.bI=options;this.aR=cancelFunc;this.abu=0;PCCViewer.EventEmitter.extend(this);};PrintRequest.EventType={PrintPagePrepared:"PrintPagePrepared",PrintCompleted:"PrintCompleted",PrintCancelled:"PrintCancelled",PrintFailed:"PrintFailed"};PrintRequest.prototype.cancel=function(){this.aR();this.trigger(PCCViewer.PrintRequest.EventType.PrintCancelled);};PrintRequest.prototype.getOptions=function(){return{range:this.bI.pages.toString(),orientation:this.bI.orientation,paperSize:this.bI.paperSize,margins:this.bI.margins,includeMarks:this.bI.includeMarks,includeAnnotations:this.bI.includeAnnotations,includeRedactions:this.bI.includeRedactions,includeComments:this.bI.includeComments,includeReasons:this.bI.includeReasons,redactionViewMode:this.bI.redactionViewMode};};PrintRequest.prototype.getPageCount=function(){return this.bI.pages.length;};PrintRequest.prototype.getPreparedCount=function(){return this.abu;};if(Object.defineProperties){Object.defineProperties(PrintRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"pageCount":{enumerable:true,get:function(){return this.getPageCount();}},"preparedCount":{enumerable:true,get:function(){return this.getPreparedCount();}}});}var PrintControl=function(domElement,options){var aeF=[];IPCC.V.Yy=true;options.includeAnnotations=options.includeAnnotations!=='false';options.includeRedactions=options.includeRedactions!=='false';domElement.className=domElement.className+' '+options.orientation;function Cf(n){(window.parent)?window.parent.postMessage(n,'*'):window.opener.postMessage(n,'*');};function azk(be,FR){var jW=[];jW.push("pageNumber="+(1+be));jW.push("index="+FR);jW.push("totalPages="+options.pages.length);return jW.join('&');};function jE(be,FR,next){var aZ={documentIdentifier:options.vsID,pageNumber:be,viewFitType:IPCC.Web.UI.FitType.FullImage,imageHandlerUrl:options.handler,encryption:options.encryption};var jf=document.createElement('div');jf.className=options.paperSize+" ";jf.className+=options.isIE?'pageIE':options.isSafari?'pageSafari':'page';jf.id='printpage'+be;if(options.margins==='none'){jf.className+=' nomargins';}domElement.appendChild(jf);var pv=IPCC.initializePageViewPlugin(jf,aZ);pv.set_debug(false);pv.set_requireRequestsOptimize(true);aeF.push(pv);var yC=false;function Jc(){Cf(azk(be,FR));next();};pv.add_pageOpened(function(){var bf=pv.ki(),aY=pv.iy();var xd=(options.orientation==='portrait'&&bf>aY)||(options.orientation==='landscape'&&aY>bf);if(xd){pv.xd(90);}});pv.add_pageDisplayed(function(){if(!yC){Jc();}});pv.add_textPageReady(function(){if(yC){pv.cF();Jc();}});pv.add_pageOpenFailed(function(){Cf('fail');});pv.add_textExtractionFailed(function(){if(yC){Cf('fail');}});if(options.redactionViewMode){if(options.redactionViewMode.toLowerCase()==="draft"){pv.qU(true);}else if(options.redactionViewMode.toLowerCase()==="normal"){pv.qU(false);}}if(PCCViewer.ViewerControl.prototype.canPrintMarks()&&(options.includeAnnotations||options.includeRedactions)){var alo='loadArt'+be;var sx={pageIndex:be,callbackName:alo};window[alo]=function(bk){var nn,KP,L,dP={},Rz={},AD='',nk,Gw,fw,CZ='';var LL=[];bk.EU(function(T){if(T.get_type()===IPCC.Web.UI.MarkType.HighlightText){yC=true;}if(options.includeRedactions&&T.kF()){LL.push(T);}if(options.includeAnnotations&& !T.kF()){LL.push(T);}});var afe=new IPCC.Web.UI.ArtPage();IPCC.V.forEach(LL,function(T){T.mZ(undefined);afe.addMark(T);});aZ.artPage=afe;Rz=options.pagedConversations[be+1];if(options.pagedConversations&&Rz&&options.includeComments==='followingPage'){nn=document.createElement('div');nn.className+='commentPage';nn.id='printcommentpage'+be;if(options.margins==='none'){nn.className+=' nomargins';}KP='<h1>Comments for Page {{pageNumber}}</h1><hr><div class="pageConversations">{{conversationList}}</div>';for(L=0;L<Rz.length;L++){dP=Rz[L];AD+=ace(dP,be+1);}nn.innerHTML=KP.replace('{{pageNumber}}',be+1).replace('{{conversationList}}',AD);domElement.appendChild(nn);}Gw=options.pagedReasons[be+1];if(options.pagedReasons&&Gw&&options.includeReasons==='followingPage'){nk=document.createElement('div');nk.className+='reasonPage';nk.id='printreasonpage'+be;if(options.margins==='none'){nk.className+=' nomargins';}KP='<h1>Redaction Reasons for Page {{pageNumber}}</h1>'+'<div class="redactionReasonPageHeader"><ul><li>Date: {{date}}</li><li>Number of Redactions on this Page: {{count}}</li></div><hr>'+'<div class="pageReasons">{{reasonList}}</div>';for(fw in Gw){if(Gw.hasOwnProperty(fw)){CZ+=abQ(fw,Gw[fw]);}}nk.innerHTML=KP.replace('{{pageNumber}}',be+1).replace('{{reasonList}}',CZ).replace('{{date}}',aff()).replace('{{count}}',options.pagedRedactionCount[be+1]);domElement.appendChild(nk);}pv.openPage(aZ);IPCC.V.forEach(LL,function(T){T.mZ(bk);});};Cf(JSON.stringify(sx));}else{pv.openPage(aZ);}};function ace(dP,be){var ama='',iA='',T=dP.getMark(),gK,cA,L;switch(T.R.jc()){case IPCC.Web.UI.MarkType.Rectangle:iA=(T.R.kF())?'Highlight Redaction ':'Rectangle Annotation';break;case IPCC.Web.UI.MarkType.Ellipse:iA='Ellipse Annotation';break;case IPCC.Web.UI.MarkType.RectangleRedaction:iA='Rectangle Redaction';break;case IPCC.Web.UI.MarkType.Line:iA=(T.mW==='None')?'Line Annotation':'Arrow Annotation';break;case IPCC.Web.UI.MarkType.Polyline:iA='Polyline Annotation';break;case IPCC.Web.UI.MarkType.Polygon:iA='Polygon Annotation';break;case IPCC.Web.UI.MarkType.Text:iA='Text Annotation';break;case IPCC.Web.UI.MarkType.Highlight:iA='Highlight Annotation';break;case IPCC.Web.UI.MarkType.Stamp:iA='Stamp Annotation';break;case IPCC.Web.UI.MarkType.HighlightText:iA='Highlight Text Annotation';break;case IPCC.Web.UI.MarkType.SignaturePath:iA='Signature Path';break;case IPCC.Web.UI.MarkType.Freehand:iA='Freehand Annotation';break;case IPCC.Web.UI.MarkType.SignatureText:iA='Signature Text';break;case IPCC.Web.UI.MarkType.TextLine:iA='Text Input Signature';break;case IPCC.Web.UI.MarkType.TextAreaSignature:iA='Text Area Signature';break;case IPCC.Web.UI.MarkType.SignatureImage:iA='Signature Image';break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:iA='Text Selection Redaction';break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:iA='Image Stamp Annotation';break;case IPCC.Web.UI.MarkType.ImageStampRedaction:iA='Image Stamp Redaction';break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:iA='Text Hyperlink Annotation';break;case IPCC.Web.UI.MarkType.Strikethrough:iA='Strikethrough Annotation';break;default:break;}gK=dP.getComments();for(L=0;L<gK.length;L++){cA=gK[L];ama+='<li>'+aCs({text:cA.getText(),createDate:cA.pp.Zh,pageNumber:be+1})+'</li>';}return '<h3>'+iA+'</h3><ul>'+ama+'</ul>';};function aCs(cA){var iu=new Date(cA.createDate),UU='{{month}}/{{day}}/{{year}} {{hour}}:{{minutes}}{{period}}'.replace('{{month}}',iu.getMonth()+1).replace('{{day}}',iu.getDate()).replace('{{year}}',iu.getFullYear()).replace('{{hour}}',(iu.getHours()<10?'0':'')+iu.getHours()).replace('{{minutes}}',(iu.getMinutes()<10?'0':'')+iu.getMinutes()).replace('{{period}}',iu.getHours()<12?'am':'pm');var bp=cA.text.replace(/</g,'&#60;').replace(/>/g,'&#62;').replace(/\n/g,'<br/>');return "{{comment}} - {{date}}".replace('{{comment}}',bp).replace('{{date}}',UU);};function aff(){var iu=new Date();return '{{month}}/{{day}}/{{year}}'.replace('{{month}}',iu.getMonth()+1).replace('{{day}}',iu.getDate()).replace('{{year}}',iu.getFullYear());};function abQ(fw,ra){fw=fw.replace(/</g,'&#60;').replace(/>/g,'&#62;').replace(/\n/g,'<br/>');var asn=(ra>1)?'times':'time';return '<li>"{{reason}}" occurs {{count}} {{times}}</li>'.replace('{{reason}}',fw).replace('{{count}}',ra).replace('{{times}}',asn);};function aAh(){window.onerror=function(ev){Cf('fail');};function sync(funcs,done){var counter=funcs.length;var idx=0;var next=function(){if(--counter===0)done();else funcs[idx++](next);};funcs[idx++](next);};function avl(be,FR){return function(next){jE(be,FR,next);};};var funcs=[];for(var i=0;i<options.pages.length;i++){var ap= +options.pages[i]-1;funcs.push(avl(ap,i));}sync(funcs,function(){var nn,Lk='',ap,EA='',AD='',dP,T,amm='<h1>Comments</h1><hr>{{pageSections}}',nk,CZ='',avn='<h1>Redaction Reasons</h1><hr>{{pageSections}}';if(options.includeComments==='documentEnd'){for(ap in options.pagedConversations){if(options.pagedConversations.hasOwnProperty(ap)){if(!nn){nn=document.createElement('div');nn.className+=' commentPage';nn.id='printpage_comments';if(options.margins==='none'){nn.className+=' nomargins';}}Lk='<div class="pageConversations"><h2>Page #{{pageNumber}}</h2><hr><ol>{{conversationList}}</ol></div>';AD='';for(var L=0;L<options.pagedConversations[ap].length;L++){dP=options.pagedConversations[ap][L];T=dP.getMark();AD+=ace(dP,T.pageNumber);}EA+=Lk.replace('{{pageNumber}}',T.pageNumber).replace('{{conversationList}}',AD);if(AD.length){nn.innerHTML=amm.replace('{{pageSections}}',EA);domElement.appendChild(nn);}}}}if(options.includeReasons==='documentEnd'){EA='';amm='';Lk='<div class="pageReasons"><h2>Page #{{pageNumber}}</h2><div class="redactionReasonPageHeader"><ul><li>Date: {{date}}</li><li>Number of Redactions on this Page: {{count}}</li></div><hr><ul>{{reasonList}}</ul></div>';for(ap in options.pagedReasons){if(options.pagedReasons.hasOwnProperty(ap)){if(!nk){nk=document.createElement('div');nk.className+='reasonPage';nk.id='printpage_reason';if(options.margins==='none'){nk.className+=' nomargins';}}CZ='';for(var fw in options.pagedReasons[ap]){if(options.pagedReasons[ap].hasOwnProperty(fw)){CZ+=abQ(fw,options.pagedReasons[ap][fw]);}}EA+=Lk.replace('{{pageNumber}}',ap).replace('{{reasonList}}',CZ).replace('{{date}}',aff()).replace('{{count}}',options.pagedRedactionCount[ap]);}}if(EA.length){nk.innerHTML=avn.replace('{{pageSections}}',EA);domElement.appendChild(nk);}}Cf('done');});};function anU(){window['extra']=function(bool,Hm){options.encryption= ! !bool;options.pagedConversations=Hm.Fl;options.pagedReasons=Hm.vW;options.pagedRedactionCount=Hm.Fy;aAh();window['extra']=function(){};};Cf('extra');};function atF(){var bk;IPCC.V.forEach(aeF,function(aK){bk=aK.get_artPage();if(bk){bk.removeAllMarks();}aK.dispose();bk=undefined;});};window['destroy']=atF;anU();};module.exports={PrintRequest:PrintRequest,PrintControl:PrintControl,print:print,validatePrintRange:validatePrintRange,canPrintMarks:canPrintMarks};},{}],158:[function(require,module,exports){var awy={Draft:"Draft",Normal:"Normal"};module.exports=awy;},{}],159:[function(require,module,exports){var Revision=function(){this.cR=0;this.vk=0;this.bx='';};Revision.prototype.getId=function(){return this.cR;};Revision.prototype.getEndPageNumber=function(){return this.vk;};Revision.prototype.getType=function(){return this.bx;};if(Object.defineProperties){Object.defineProperties(Revision.prototype,{"endPageNumber":{enumerable:true,get:function(){return this.vk;}},"id":{enumerable:true,get:function(){return this.cR;}},"type":{enumerable:true,get:function(){return this.bx;}}});}Revision.Type={ContentInserted:"ContentInserted",ContentDeleted:"ContentDeleted",PropertyChanged:"PropertyChanged",ParagraphNumberChanged:"ParagraphNumberChanged",FieldDisplayChanged:"FieldDisplayChanged",RevisionMarkedAsReconciledConflict:"RevisionMarkedAsReconciledConflict",RevisionMarkedAsConflict:"RevisionMarkedAsConflict",StyleChanged:"StyleChanged",ContentReplaced:"ContentReplaced",ParagraphPropertyChanged:"ParagraphPropertyChanged",TablePropertyChanged:"TablePropertyChanged",SectionPropertyChanged:"SectionPropertyChanged",StyleDefinitionChanged:"StyleDefinitionChanged",ContentMovedFrom:"ContentMovedFrom",ContentMovedTo:"ContentMovedTo",TableCellInserted:"TableCellInserted",TableCellDeleted:"TableCellDeleted",TableCellsMerged:"TableCellsMerged",Unknown:"Unknown"};module.exports=Revision;},{}],160:[function(require,module,exports){var JV=function(bI){var ln=new PCCViewer.RevisionsRequest(true);function ayI(bx){for(var Zx in PCCViewer.Revision.Type){if(PCCViewer.Revision.Type.hasOwnProperty(Zx)){if(Zx.toLowerCase()===bx.toLowerCase()){return PCCViewer.Revision.Type[Zx];}}}return PCCViewer.Revision.Type.Unknown;};function awj(gU,bL){var vB=[];if(gU.changes&&gU.changes.length){vB=gU.changes.map(function(SH){var KF=new PCCViewer.Revision();KF.cR=SH.id;KF.vk=SH.endPageIndex+1;KF.bx=ayI(SH.type);return KF;});}return vB;};function apK(Ou){var Tn=Ou?'&continueToken='+Ou:'';var aqD=bI.imageHandlerUrl+'/v2/viewingSessions/'+bI.documentID;return aqD+'/revisionData?limit=100'+Tn;};function afK(Ou){var aW=PCCViewer.Deferred();var an=apK(Ou);PCCViewer.Ajax.fa({url:an,method:'GET'}).then(function fB(aA){var ci=JSON.parse(aA.responseText);var Ew=ci.continueToken;var vB=awj(ci,ln.JJ.length);ln.JJ=ln.JJ.concat(vB);if(Ew){if(vB.length){ln.trigger(PCCViewer.EventType.PartialRevisionsAvailable,{partialRevisions:vB});}setTimeout(function(){afK(Ew);},ci.continueAfter||0);}else{if(vB.length){ln.trigger(PCCViewer.EventType.PartialRevisionsAvailable,{partialRevisions:vB});}ln.trigger(PCCViewer.EventType.RevisionsAvailable,{completedRevisions:ln.getRevisions()});ln.trigger(PCCViewer.EventType.RevisionsRetrievalCompleted,{completedRevisions:ln.getRevisions()});}aW.resolve();},function fh(ah){var ei='RequestFailed';var dm='The request to get revisions failed.';var nh=ah.response.responseText?JSON.parse(ah.response.responseText):'';var je=ah.response.status;if(nh&&(je===580||(je===480&&nh.errorCode==='DocumentNotProvidedYet'))){ei=nh.errorCode;}ln.ei=ei;ln.dm=dm;ln.trigger(PCCViewer.EventType.RevisionsRetrievalFailed,{errorMessage:ln.getErrorMessage()});ln.trigger(PCCViewer.EventType.RevisionsRetrievalCompleted,{completedRevisions:ln.getRevisions()});aW.reject(ah.error);});};this.axa=function(){setTimeout(function(){afK();},0);return ln;};};var RevisionsRequest=function(uq){this.JJ=[];this.ei=null;this.dm=null;if(Object.defineProperties){Object.defineProperties(this,{"revisions":{configurable: ! !uq,enumerable:true,get:function(){return this.JJ;}},"errorCode":{configurable: ! !uq,enumerable:true,get:function(){return this.ei;}},"errorMessage":{configurable: ! !uq,enumerable:true,get:function(){return this.dm;}}});}PCCViewer.EventEmitter.extend(this);};RevisionsRequest.prototype.getRevisions=function(){return this.JJ;};RevisionsRequest.prototype.getErrorCode=function(){return this.ei;};RevisionsRequest.prototype.getErrorMessage=function(){return this.dm;};module.exports={RevisionsRequest:RevisionsRequest,JV:JV};},{}],161:[function(require,module,exports){var DB={Pinch:"Pinch",Zoom:"Zoom",Fit:"Fit",ViewMode:"ViewMode"};module.exports=DB;},{}],162:[function(require,module,exports){var _Search=function(){this.bV='';this.Ge={};this.dN={};this.Oj=0;this.bz=new PCCViewer.SearchRequest();var J=this;this.WV=function(){var Nk=[];for(var L=0;L<J.Ge.searchTerms.length;L++){var bV=J.Ge.searchTerms[L];var oi=IPCC.V.Oc(bV.type);var Mz;switch(oi){case 'proximity':var wq={uw:bV,dN:[],type:bV.type,highlightColor:this.We(bV.highlightColor),distance:bV.distance,contextPadding:bV.contextPadding};for(var x=0;x<bV.terms.length;x++){var US=bV.terms[x];Mz=this.amL(US);wq.dN=wq.dN.concat(Mz);}Nk.push(wq);break;default:Mz=this.amL(bV);Nk=Nk.concat(Mz);break;}}return Nk;};this.amL=function(bV){var ec=[];var dN={};if(bV.matchingOptions.exactPhrase===false&&bV.searchTermIsRegex===false){var xD=bV.searchTerm.split(' ');for(var aw=0;aw<xD.length;aw++){dN={};if(xD[aw].length<0){continue;}dN.searchText=xD[aw];dN.uw=bV;if(bV.matchingOptions.matchWholeWord){dN.searchTerm=this.ail(this.GB(xD[aw]),bV.matchingOptions);}else{if(bV.matchingOptions.wildcard===true){dN.searchTerm=this.aht(this.GB(xD[aw]),bV.matchingOptions);}else if(bV.matchingOptions.beginsWith===true||bV.matchingOptions.endsWith===true){dN.searchTerm=this.ahs(this.GB(xD[aw]),bV.matchingOptions);}else{dN.searchTerm=this.aeb(xD[aw],bV.matchingOptions,false);}}dN.highlightColor=this.We(bV.highlightColor);ec.push(dN);}}else{dN={};dN.searchText=bV.searchTerm;dN.uw=bV;if(bV.matchingOptions.matchWholeWord){dN.searchTerm=this.ail(this.GB(bV.searchTerm),bV.matchingOptions);}else{if(bV.matchingOptions.wildcard===true){dN.searchTerm=this.aht(this.GB(bV.searchTerm),bV.matchingOptions);}else if(bV.matchingOptions.beginsWith===true||bV.matchingOptions.endsWith===true){dN.searchTerm=this.ahs(this.GB(bV.searchTerm),bV.matchingOptions);}else{dN.searchTerm=this.aeb(bV.searchTerm,bV.matchingOptions,bV.searchTermIsRegex);}}dN.highlightColor=this.We(bV.highlightColor);ec.push(dN);}return ec;};this.ail=function(rZ,wp){var HN=new RegExp('\\b'+rZ+'\\b',this.GL(wp.matchCase));return HN;};this.ahs=function(rZ,wp){if(wp.beginsWith){return new RegExp("\\b"+rZ+'(\\w+)',this.GL(wp.matchCase));}if(wp.endsWith){rZ=rZ.replace("*","");return new RegExp('(\\w+)'+rZ+"\\b",this.GL(wp.matchCase));}};this.GB=function(rZ){return rZ.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");};this.aht=function(su,wp){su=su.replace(/[*]{2,}/g,'*').replace(/(\\\*){2,}/g,'\\*');if(su==='\\*'){var bg=new Error('The search term must contain one or more non-wildcard characters.');bg.aCi=true;throw bg;}var regexFlags='gim';if(wp.matchCase){regexFlags='gm';}su=su.replace(/\*/g,'\S*');su=su.replace(/\?/g,'\S');var HN=new RegExp('(\\s|^)'+su+'(?=\\s|$)',regexFlags);return HN;};this.VM=function(rZ){return rZ.replace(/\ /g,'\\s+');};this.aeb=function(Nj,matchingOptions,isRegex){var vg='';if(isRegex===true){vg=this.VM(Nj);}else if(matchingOptions.wildcard===true){vg=Nj.replace(/[-[\]{}()+,^$|#]/g,"\\$&");vg=this.VM(vg);}else if(matchingOptions.exactPhrase){vg=Nj.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");vg=this.VM(vg);}else{vg=Nj.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");}var azp=vg.replace(/'/g,'[\'|‘|’]').replace(/"/g,'["|“|”]');return new RegExp(azp,this.GL(matchingOptions.matchCase));};this.GL=function(matchCase){if(matchCase){return 'gm';}else{return 'igm';}};this.aHr=function(su){var HN=new RegExp('\\b'+su+'\\b',J.GL());return HN;};var akT=["#1c86ee","#ff8c00","#9932cc","#FFBA00","#00c5cd","#ee3a8c","#4169e1","#00cd00","#6959cd","#ff4500"];this.We=function(dG){if(!dG){return akT[J.Oj++ %akT.length];}else{return dG;}};this.UW=function(eH){if(typeof eH==='string'){eH={searchTerms:[{searchTerm:eH,highlightColor:undefined,contextPadding:25,searchTermIsRegex:false,matchingOptions:{exactPhrase:true,matchCase:false,matchWholeWord:false,beginsWith:false,endsWith:false,wildcard:false}}]};return eH;}IPCC.V.forEach(eH.searchTerms,function(bV){if(!bV.matchingOptions){bV.matchingOptions={};}var oi=IPCC.V.Oc(bV.type);switch(oi){case 'proximity':IPCC.V.forEach(bV.terms,function(US){J.ahg(US);});break;default:J.ahg(bV);break;}});return eH;};this.ahg=function(bV){if(typeof bV.contextPadding==="undefined"){bV.contextPadding=25;}if(typeof bV.searchTermIsRegex==="undefined"){bV.searchTermIsRegex=false;}if(typeof bV.matchingOptions==="undefined"){bV.matchingOptions={};}if(!bV.matchingOptions.hasOwnProperty('matchCase')){bV.matchingOptions.matchCase=false;}if(!bV.matchingOptions.hasOwnProperty('exactPhrase')){bV.matchingOptions.exactPhrase=true;}if(!bV.matchingOptions.hasOwnProperty('matchWholeWord')){bV.matchingOptions.matchWholeWord=false;}if(!bV.matchingOptions.hasOwnProperty('beginsWith')){bV.matchingOptions.beginsWith=false;}if(!bV.matchingOptions.hasOwnProperty('endsWith')){bV.matchingOptions.endsWith=false;}if(!bV.matchingOptions.hasOwnProperty('wildcard')){bV.matchingOptions.wildcard=false;}if(typeof bV.highlightColor!=='undefined'){try{IPCC.aq.dG(bV.highlightColor,"selectText");}catch(e){bV.highlightColor=undefined;}}};this.aoZ=function(){return J.dN;};this.ajF=function(e){J.bz.dm=e.message;J.bz.ei="1010";J.bz.ue=true;setTimeout(function(){J.bz.trigger("SearchFailed",{errorMessage:(e.message)});},10);setTimeout(function(){J.bz.trigger("SearchCompleted",{completedSearchResults:(J.sT)});},10);return J.bz;};this.uQ=function(eH,bP){this.dN={};this.Ge=eH;this.bV=eH;this.Oj=0;var uQ=new PCCViewer.PA();try{J.dN=this.WV();return uQ.Tu(bP,J.dN,eH,J.bz);}catch(e){return J.ajF(e);}};this.Ct=function(eH,bP){this.dN={};this.Ge=eH;this.bV=eH;this.Oj=0;var Ct=new PCCViewer.Zr();try{J.dN=this.WV();return Ct.Tu(bP,J.dN,eH,J.bz);}catch(e){return J.ajF(e);}};};_Search.prototype.AN=function(searchQuery){this.dN={};this.bz=new PCCViewer.SearchRequest();this.Ge=searchQuery;this.bz.eH=searchQuery;this.bV=searchQuery;this.Oj=0;return this.bz;};var SearchTask=function(searchQuery){this.aeN(searchQuery);var _search=new PCCViewer._Search();searchQuery=_search.UW(searchQuery);this.bz=_search.AN(searchQuery);try{_search.dN=_search.WV();}catch(e){if(e.aCi){throw new Error(e.message);}else{throw new Error(e.message);}}var uQ=new PCCViewer.PA();this.search=function(text){uQ.sT=[];uQ.aM=0;uQ.dN=_search.dN;uQ.asY(text);return uQ.sT;};};SearchTask.prototype.aeN=function(searchQuery){if(typeof searchQuery==='string'){return;}var AO;if(searchQuery&&searchQuery.searchTerms&&Object.prototype.toString.call(searchQuery.searchTerms)==='[object Array]'){AO=searchQuery.searchTerms;}else{throw new Error('The `searchQuery` parameter is not a string, or a search terms array was not present in the search query.');}IPCC.V.forEach(AO,function(tu,L){var oi=tu.type?IPCC.V.trim(tu.type).toLowerCase():undefined;switch(oi){case 'proximity':IPCC.V.forEach(tu.terms,function(azB,aT){if(!alJ(azB)){throw new Error("Search term index "+aT+" under Proximity search term index "+L+" does not have a valid `searchTerm` string property.");}});break;default:if(!alJ(tu)){throw new Error("Search term index "+L+" does not have a valid `searchTerm` string property.");}break;}});function alJ(tu){return(typeof tu.searchTerm==='string');}};module.exports={_Search:_Search,SearchTask:SearchTask};},{}],163:[function(require,module,exports){function aqL(eH){var AO=eH.map(function(bV,aae){if(bV.type==='proximity'){return{type:'proximity',distance:bV.distance,subTerms:bV.dN.map(function(ada){return{pattern:ada.searchTerm.source,caseSensitive:ada.uw.matchingOptions.matchCase};}),termId:aae.toString(),contextPadding:bV.contextPadding};}return{type:'simple',pattern:bV.searchTerm.source,caseSensitive:bV.uw.matchingOptions.matchCase,termId:aae.toString(),contextPadding:bV.contextPadding};});return{input:{searchTerms:AO}};};var Zr=function(){var J=this;var AN,Ew,akD;var Nc=[];this.zA=false;this.zc={};this.Aw=[];function aoK(){var Tn=Ew?'&continueToken='+Ew:'';return J.bP.sf+'/v2/searchTasks/'+AN.processId+'/results?limit=100'+Tn;};function aqy(ec){var Ov=J.zc.input.searchTerms.reduce(function(qX,tu){qX[tu.termId]=J.dN[tu.termId];return qX;},{});return ec.map(function(ah){var eg=new PCCViewer.SearchResult();if(J.dN[0].uw.matchingOptions.wildcard&&(ah.text[0]===" "||ah.text[0]==="\n")){ah.text=ah.text.substring(1);ah.startIndex+=1;ah.startIndexInContext+=1;}eg.lZ=ah.boundingRectangle;eg.cc=ah.context;eg.Bc=ah.startIndexInContext;eg.lY=ah.id;eg.dN=J.dN;eg.bE=ah.lineRectangles;eg.gM=ah.pageData;eg.qO=ah.startIndex;eg.bp=ah.text;eg.be=ah.pageIndex+1;eg.cR=ah.id;eg.FZ=J.bP.get_documentIdentifier();eg.bV=Ov[ah.searchTerm.termId].uw;eg.qZ=Ov[ah.searchTerm.termId].highlightColor;return eg;});};function pE(IV,Ug){switch(IV){case 'failed':setTimeout(function(){J.bz.trigger(PCCViewer.EventType.SearchFailed,Ug);},10);break;case 'complete':J.bz.Sz=J.Aw;J.bz.ue=true;setTimeout(function(){J.bz.trigger(PCCViewer.EventType.SearchResultsAvailable,{completedSearchResults:(J.bz.getResults())});},10);break;case 'cancelled':break;}setTimeout(function(){J.bz.trigger(PCCViewer.EventType.SearchCompleted,{completedSearchResults:(J.bz.getResults())});},10);};function aup(lH){var an=J.bP.sf+'/v2/viewingSessions/'+encodeURIComponent(J.bP.get_documentIdentifier())+'/searchTasks';function fB(aA){var ah=JSON.parse(aA.responseText);AN=ah;if(Nc.length){Nc.forEach(function(yb){yb();});}Nc=[];lH();};function fh(by){J.bz.off('SearchCancelled',J.aei);J.bz.dm='The request to create a search task failed.';var azh=by&&by.response&&by.response.status===501;var ayV=by&&by.response&&by.response.status===480&&(function(aqs){try{return JSON.parse(aqs).errorCode==='FeatureDisabled';}catch(e){return false;}}(by.response.responseText));if(azh||ayV){J.bz.ei='ServerSearchUnavailable';J.bz.dm='Server-side search is not available.';pE('failed',{errorMessage:J.bz.dm});return;}pE('failed',{errorMessage:J.bz.dm});};PCCViewer.Ajax.fa({url:an,method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(J.zc)}).then(fB,fh);};function MQ(lH){var an=aoK();var iH={};if(AN.affinityToken){iH['Accusoft-Affinity-Token']=AN.affinityToken;}if(!J.zA){return;}function fB(aA){if(!J.zA){return;}var ah=JSON.parse(aA.responseText);var QP=aqy(ah.results);J.Aw=ah.pagesWithoutText;J.bz.ec.push.apply(J.bz.ec,QP);if(QP.length){setTimeout(function(){IPCC.V.forEach(QP.reduce(function(qX,ah){var cG=ah.be;if(!qX[cG]){qX[cG]=[];}qX[cG].push(ah);return qX;},{}),function(ec,cG){J.bz.trigger('PartialSearchResultsAvailable',{partialSearchResults:ec,pagesWithoutText:J.Aw});});},10);}if(ah.continueToken){Ew=ah.continueToken;akD=ah.continueAfter;lH();}else if(J.zA){pE('complete');}};function fh(ah){if(!J.zA){return;}J.zA=false;J.bz.dm='The request to poll the search task failed.';J.bz.ue=true;pE('failed',{errorMessage:J.bz.dm});};PCCViewer.Ajax.fa({method:'GET',url:an,headers:iH}).then(fB,fh);};function awX(){(function avI(){setTimeout(function(){MQ(avI);},akD||0);}());};function aei(){pE('cancelled');J.zA=false;function aci(){};if(!AN){Nc.push(aci);return;}aci();};this.Tu=function(bP,dN,eH,bz){J.bP=bP;J.dN=dN;J.bz=bz;J.bz.eH=eH;J.zc=aqL(J.dN);J.zA=true;J.bz.on('SearchCancelled',aei);aup(function(){awX();});return J.bz;};};module.exports=Zr;},{}],164:[function(require,module,exports){var ObservableCollection=require('./PCCViewer.ObservableCollection');function afc(clientBB){this.top=clientBB.top;this.bottom=clientBB.bottom;this.left=clientBB.left;this.right=clientBB.right;this.width=clientBB.width||clientBB.right-clientBB.left;this.height=clientBB.height||clientBB.bottom-clientBB.top;};function vI(x,y){this.x=x;this.y=y;this.getDistance=function(point){var x=point.x-this.x,y=point.y-this.y,d=x*x+y*y,squared=false;return squared?d:Math.sqrt(d);};this.equals=function(point){return this===point||point&&(this.x===point.x&&this.y===point.y)||false;};this.close=function(point){return this.getDistance(point)<4;};this.clone=function(){return new vI(this.x,this.y);};};function ZT(bJ){return(bJ&&bJ.nodeType===1);};function Pv(zo,IK){var TC=(IK&&IPCC.V.EI)?'m':'M';var XM=(IK&&IPCC.V.EI)?'l':'L';return IPCC.V.map(zo,function(el,i){if(i===0){return TC+el.x+','+el.y;}else{return XM+el.x+','+el.y;}}).join('');};function amz(cc,pr,eu){return function(by){if(IPCC.V.DM&&by.type.match('mouse')){by.preventDefault();by.stopPropagation();return false;}if(by.preventDefault){by.preventDefault();}else{by.returnValue=false;}var x,y;if(by.changedTouches){var gb=by.changedTouches[0];if(by.type==='touchstart'){pr=by.target.getBoundingClientRect();}else if(by.type==='touchend'){eu&&eu();return;}x=gb.clientX-pr.left;y=gb.clientY-pr.top;}else{x=by.clientX-pr.left;y=by.clientY-pr.top;}var bS=new vI(x,y);cc.zo.push(bS);var yr=Pv(cc.zo);if(IPCC.V.EI){cc.hx.path=yr.toLowerCase();}else{cc.hx.setAttribute('d',yr);}eu&&eu();};};function auM(points){var An=3,dw='',rO;var pU=(points.length<An)?points:IPCC.V.filter(points,function(el){if(rO&&rO.close(el)){return false;}else{rO=el;return true;}});if(pU.length<An){pU=[points[0],points[points.length-1]];}rO=undefined;if(pU.length<An){dw+=Pv(pU);}else{dw='M'+IPCC.V.bspline(pU);dw=dw.replace(/\d*\.?\d*/g,function(bK){var Fm=bK.indexOf('.');if(bK.length&&Fm>0){return bK.substr(0,Fm+3);}else if(bK!==""){return bK;}else{return bK;}});}return dw;};function SignatureControl(dom){var J=this;if(typeof dom==='string'){this.dM=document.querySelector(dom);if(!(ZT(this.dM))){throw new Error('The query selector "'+dom+'" did not match any DOM element.');}}else if(ZT(dom)){this.dM=dom;}else{throw new Error('The SignatureControl target is not a valid DOM element.');}this.JC=[];this.pr=new afc(this.dM.getBoundingClientRect());this.ef=IPCC.V.xf.SVG([0,0,this.pr.width,this.pr.height].join(' '));this.dM.appendChild(this.ef);function Eb(ev){var hx=IPCC.V.xf.Path(undefined,{width:2000,height:2000,color:'black',thickness:4});J.ef.appendChild(hx);var cc={zo:[],hx:hx,eu:function(){J.JC.push(cc.zo);IPCC.V.removeEvent(J.dM,'mousemove',yG);IPCC.V.removeEvent(J.dM,'mouseup',Ds);if(IPCC.V.DM){IPCC.V.removeEvent(J.dM,IPCC.V.ot['move'],yG);IPCC.V.removeEvent(J.dM,IPCC.V.ot['up'],Ds);}if(IPCC.V.Kv){IPCC.V.removeEvent(J.dM,'touchmove',yG);IPCC.V.removeEvent(J.dM,'touchend',Ds);}}};var yG=amz(cc,J.pr);var Ds=amz(cc,J.pr,cc.eu);yG(ev);IPCC.V.addEvent(J.dM,'mousemove',yG);IPCC.V.addEvent(J.dM,'mouseup',Ds);if(IPCC.V.DM){IPCC.V.addEvent(J.dM,IPCC.V.ot['move'],yG);IPCC.V.addEvent(J.dM,IPCC.V.ot['up'],Ds);}if(IPCC.V.Kv){IPCC.V.addEvent(J.dM,'touchmove',yG);IPCC.V.addEvent(J.dM,'touchend',Ds);}};IPCC.V.addEvent(J.dM,'mousedown',Eb);if(IPCC.V.DM){this.dM.style['-ms-touch-action']='none';this.dM.style['touch-action']='none';IPCC.V.addEvent(J.dM,IPCC.V.ot['down'],Eb);}if(IPCC.V.Kv){IPCC.V.addEvent(J.dM,'touchstart',Eb);}this.VH=function(){J.pr=new afc(J.dM.getBoundingClientRect());J.ef.setAttribute('viewBox',[0,0,J.pr.width,J.pr.height].join(' '));};IPCC.V.addEvent(window,'resize',this.VH);this.aiW=function(){IPCC.V.removeEvent(window,'resize',J.VH);IPCC.V.removeEvent(J.dM,'mousedown',Eb);if(IPCC.V.DM){IPCC.V.removeEvent(J.dM,IPCC.V.ot['down'],Eb);}if(IPCC.V.Kv){IPCC.V.removeEvent(J.dM,'touchstart',Eb);}while(J.dM.firstChild){J.dM.removeChild(J.dM.firstChild);}};};SignatureControl.prototype.done=function(){var kl,lq,nN,po,yr='M0,0',aet=this;IPCC.V.forEach(aet.JC,function(ny){IPCC.V.forEach(ny,function(p){if(kl===undefined||kl>p.x){kl=p.x;}if(lq===undefined||lq>p.y){lq=p.y;}if(nN===undefined||nN<p.x){nN=p.x;}if(po===undefined||po<p.y){po=p.y;}});});IPCC.V.forEach(aet.JC,function(ny){var awc=IPCC.V.map(ny,function(p){return new vI(p.x-kl,p.y-lq);});yr+=auM(awc);});this.aiW();return{type:'path',path:yr,width:(nN-kl)||0,height:(po-lq)||0};};SignatureControl.prototype.resize=function(){this.VH();return this;};SignatureControl.prototype.clear=function(){var svg=this.ef;while(svg&&svg.firstChild){svg.removeChild(svg.firstChild);}this.JC=[];return this;};SignatureControl.prototype.undo=function(){if(this.ef.lastChild){this.ef.removeChild(this.ef.lastChild);}this.JC.pop();return this;};SignatureControl.prototype.cancel=function(){this.aiW();return this;};var Signatures=new ObservableCollection();var SignatureDisplay=function(domElement,signature){function handleSignatureAsPath(){if(!signature.path||signature.path.match(/[^MLC0-9.,\s]/)){throw new Error('A valid path is required in the signature object.');}var qY=IPCC.V.WI(signature.path);var ef=IPCC.V.xf.SVG([0,0,qY.width,qY.height].join(' '));var hx=IPCC.V.xf.Path(signature.path,{width:qY.width,height:qY.height,color:'black',thickness:4});if(IPCC.V.EI){var aDe=(qY.height/qY.width)*100;ef.style.width=hx.style.width='100%';ef.style.height=hx.style.height='0px';ef.style.paddingBottom=hx.style.paddingBottom=aDe+'%';}else{ef.style.width='100%';ef.style.maxHeight='100%';ef.setAttribute('preserveAspectRatio','xMinYMin meet');}ef.appendChild(hx);domElement.appendChild(ef);return{width:qY.width,height:qY.height,clear:function(){domElement.removeChild(ef);}};};function handleSignatureAsText(){if(!signature.text||typeof signature.text!=='string'){throw new Error('The signature text is not a valid string.');}var jf=document.createElement('div');var nl=document.createTextNode(signature.text);var ik=(typeof signature.fontName==='string')?signature.fontName:'serif';jf.appendChild(nl);jf.style.textAlign='center';jf.style.fontFamily='"'+ik+'", cursive';jf.style.fontSize='2.5em';jf.style.overflow='hidden';domElement.appendChild(jf);var qY=IPCC.V.tG(signature.text,ik);return{width:qY.width,height:qY.height,clear:function(){domElement.removeChild(jf);}};};if(!ZT(domElement)){throw new Error('The `domElement` parameter is not a valid HTMLElement.');}else if(!signature){throw new Error('The `signature` parameter is required.');}else if(signature.path){return handleSignatureAsPath();}else if(signature.text){return handleSignatureAsText();}else{throw new Error('The signature provided does not have a known type.');}};module.exports={SignatureControl:function(dom){return new SignatureControl(dom);},SignatureDisplay:SignatureDisplay,Signatures:Signatures};},{"./PCCViewer.ObservableCollection":154}],165:[function(require,module,exports){var WJ=function(){},je={ajG:0,aAu:1,awg:2};var ThumbnailControl=function(domElement,viewerControl){if(!domElement|| !IPCC.V.wx(domElement)){throw new Error('The "domElement" parameter is not a valid HTML Element');}if(!viewerControl|| !(viewerControl instanceof PCCViewer.ViewerControl)){throw new Error('The "viewerControl" parameter is not a valid PCCViewer.ViewerControl object');}var J=this;this.je=je.ajG;this.bI=viewerControl.bI;this._debug= ! !this.bI.debug;this.aHd="Single";this.Ii=[];this.sK={};if(!this.bB){this.bB=viewerControl;}else{throw new Error("This instance of thumbnail already is attached to a ViewerControl.");}PCCViewer.EventEmitter.extend(this);this.aD=domElement;if(viewerControl.mv){J.je=je.awg;J.XJ(viewerControl.getPageCount());J.Ut(J.aD);}else{J.je=je.aAu;J.XJ(1,0);viewerControl.on('PageCountReady',function(){J.XJ(viewerControl.getPageCount(),1);J.Ut(J.aD);});}viewerControl.on('PageRotated',function(by){IPCC.V.forEach(J.sK,function(aU){if(aU.aP===(by.pageNumber-1)){if(aU.yJ===true){J.aaf(aU);}}});});viewerControl.on('DocumentRotated',function(by){IPCC.V.forEach(J.sK,function(aU){if(aU.yJ===true){J.aaf(aU);}});});};ThumbnailControl.prototype.getViewerControl=function(){return this.bB;};ThumbnailControl.prototype.XJ=function(fN,hB){hB=hB||0;var J=this,Kj=document.createDocumentFragment();for(var i=hB;i<fN;i++){var _parent=document.createElement('div');_parent.className='pccThumbnailWrapper';var ed=document.createElement('div');ed.className='pccThumbnail';var rc=document.createElement('div');rc.className='pccThumbnailView';rc.id='pcc-thumbnailPage-'+i+'-'+IPCC.wt();ed.appendChild(rc);_parent.appendChild(ed);Kj.appendChild(_parent);J.sK[i]={XC:_parent,dM:ed,rc:rc,aP:i,aK:{},yJ:false,jj:0,kP:0,eQ:0};}IPCC.V.forEach(J.sK,function(aU){var WE=document.createElement('div'),uM=document.createElement('span'),aDL=document.createTextNode(aU.aP+1);WE.className='pccThumbnailLabel';uM.appendChild(aDL);WE.appendChild(uM);aU.dM.appendChild(WE);aU.dM.onclick=function(){J.adI([aU.aP+1]);};});J.aD.appendChild(Kj);this.YR();return this;};ThumbnailControl.EventType={PageSelectionChanged:"PageSelectionChanged"};ThumbnailControl.prototype.getSelectedPages=function getSelectedPages(){if(!this.je){return[];}return[].concat(this.Ii);};ThumbnailControl.prototype.setSelectedPages=function setSelectedPages(pageNumbers){if(!this.je){return this;}var fN=this.bB.getPageCount();if(typeof pageNumbers==='number'){pageNumbers=[pageNumbers];}else if(Object.prototype.toString.call(pageNumbers)!=='[object Array]'){throw new Error(pageNumbers+' is not a number or an array of numbers');}IPCC.V.forEach(pageNumbers,function(gS,L){if(isNaN(gS)){throw new Error(gS+' (array index '+L+') is not a number');}if(gS<1||gS>fN){throw new Error(gS+' (array index '+L+') is out of range');}});this.adI([].concat(pageNumbers).sort());return this;};if(Object.defineProperties){Object.defineProperties(ThumbnailControl.prototype,{"selectedPages":{enumerable:true,get:function(){return this.getSelectedPages();},set:function(pageNumbers){return this.setSelectedPages(pageNumbers);}},"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}},"visiblePages":{emunerable:true,get:function(){return this.getVisiblePages();}}});}ThumbnailControl.prototype.scrollTo=function(pageNumber,options){var gS=Number(pageNumber);if(gS!==(gS|0)||gS<1||gS>this.bB.getPageCount()){throw new Error(pageNumber+' is not a valid page number');}var mF=false,J=this,bI=options||{};IPCC.V.forEach(this.sK,function(aU){if(mF){return;}if(aU.aP+1===gS){mF=true;J.WK(aU,undefined,! !bI.forceAlignTop);}});return this;};ThumbnailControl.prototype.WK=function(aU,kz,aDX){kz=kz||IPCC.V.Wj(this.aD.getBoundingClientRect());var vf=IPCC.V.Wj(aU.XC.getBoundingClientRect());if(vf.top>kz.top&&vf.bottom<kz.bottom){return;}var alx=window.getComputedStyle?getComputedStyle(aU.XC):aU.XC.currentStyle,fQ;if(vf.top<kz.top||aDX){fQ=vf.top-kz.top+this.aD.scrollTop-parseInt(alx.marginTop,10);}else if(vf.bottom>kz.bottom){fQ=vf.bottom-kz.top-kz.height+this.aD.scrollTop+parseInt(alx.marginBottom,10);}if(fQ!==undefined){this.aD.scrollTop=fQ;}return this;};ThumbnailControl.prototype.adI=function(ir){if(IPCC.V.aBR(this.Ii,ir)){return this;}var YW='pcc-thumbnail-selected',Jg=new RegExp(YW),Ym=false,amP=[].concat(ir),amo=amP.shift(),afv=false,kz=IPCC.V.Wj(this.aD.getBoundingClientRect()),J=this;IPCC.V.forEach(this.sK,function(aU){if(aU.aP===amo-1){IPCC.V.abV(aU.dM,YW);Ym=true;amo=amP.shift()||0;if(!afv){afv=true;J.WK(aU,kz);}return;}if(Jg.test(aU.dM.className)){IPCC.V.aaY(aU.dM,YW);Ym=true;}});this.Ii=ir;if(Ym){this.trigger(PCCViewer.ThumbnailControl.EventType.PageSelectionChanged,{pageNumbers:[].concat(this.Ii)});}return this;};ThumbnailControl.prototype.anJ=function(){var cV=this.Po(),J=this,xM;IPCC.V.forEach(cV,function(aU){if(!xM&&IPCC.V.inArray(J.Ii,aU.aP+1)){xM=aU;}});if(!xM){xM=cV[0];}return xM;};ThumbnailControl.prototype.reflow=function(){if(!this.je){return this;}var Ft,ER,bf,aY,NZ,Qj,eQ,xM=this.anJ();IPCC.V.forEach(this.sK,function(aU){if(aU.yJ){aU.dM.style.height=aU.rc.style.height='';aU.dM.style.width=aU.rc.style.width='';}});IPCC.V.forEach(this.sK,function(aU){if(aU.yJ&&aU.aK.fv()){Ft=aU.dM.offsetWidth;ER=aU.dM.offsetHeight;eQ=aU.aK.aqV();if(Math.abs(eQ)===90||Math.abs(eQ)===270){aY=aU.aK.ki();bf=aU.aK.iy();}else{bf=aU.aK.ki();aY=aU.aK.iy();}NZ=bf/aY;Qj=Ft/ER;var jj,kP;if(NZ<Qj){kP=ER;jj=Math.floor(kP*bf/aY);}else{jj=Ft;kP=Math.floor(jj*aY/bf);}aU.jj=jj;aU.kP=kP;}});IPCC.V.forEach(this.sK,function(aU){if(aU.yJ&&aU.aK&&aU.aK.fv()){aU.rc.style.height=aU.kP+'px';aU.rc.style.width=aU.jj+'px';aU.aK.TO(IPCC.Web.UI.FitType.FullImage);aU.aK.cF();}});if(xM){this.WK(xM);}this.YR();return this;};ThumbnailControl.prototype.destroy=function(){if(!this.je){return this;}this.je=je.ajG;IPCC.V.forEach(this.sK,function(aU){if(aU.aK&&aU.aK.dispose){aU.aK.dispose();}});while(this.aD.firstChild){this.aD.removeChild(this.aD.firstChild);}this.on=this.off=this.trigger=WJ;this.jz={};};ThumbnailControl.prototype.getVisiblePages=function(){if(!this.je){return[];}var cV=this.Po();return IPCC.V.map(cV,function(aU){return aU.aP+1;});};ThumbnailControl.prototype.Po=function Po(){var azC=this.aD.getBoundingClientRect(),vf;function ZK(kz,Or){return(!(Or.top>=kz.bottom||Or.left>=kz.right||Or.bottom<=kz.top||Or.right<=kz.left));};return IPCC.V.filter(this.sK,function(aU){vf=aU.dM.getBoundingClientRect();return ZK(azC,vf);});};ThumbnailControl.prototype.YR=function(){var J=this,cV=J.Po();IPCC.V.forEach(cV,function(aU){if(!aU.yJ){aU.aK=J.jE(aU);aU.yJ=true;}});return this;};ThumbnailControl.prototype.Ut=function Ut(dM){var Qe={},J=this;function axT(aJ,yb,oC){if(Qe[aJ]){clearTimeout(Qe[aJ]);Qe[aJ]=undefined;}Qe[aJ]=setTimeout(yb,oC||0);};IPCC.Web.UI.aC.addHandler(dM,'scroll',function(ev){axT('scroll',function(){J.YR();},300);});};ThumbnailControl.prototype.jE=function(aU,lH){var J=this;lH=lH||WJ;var aZ={documentIdentifier:J.bI.documentID,pageNumber:aU.aP,viewFitType:IPCC.Web.UI.FitType.FullImage,imageHandlerUrl:J.bI.imageHandlerUrl,encryption:J.bI.encryption,handleTouchEvents:false};var aK=IPCC.initializePageViewPlugin(aU.rc,aZ);aK.set_debug(J._debug);aK.set_mouseTool(IPCC.Web.UI.MouseTool.None);var yC=false;function Jc(){lH();};aK.add_pageOpened(function(){J.aaf(aU);});aK.add_pageDisplayed(function(){if(!yC){Jc();}});aK.add_textPageReady(function(){if(yC){aK.cF();Jc();}});aK.add_pageOpenFailed(function(){});aK.add_textExtractionFailed(function(){});aZ.artPage=J.bB.aX.gN(J.bB.cI.getPage(aU.aP));aZ.artPage.EU(function(T){if(T.get_type()===608){yC=true;}});aK.aAV(aZ);aK.set_mouseTool(IPCC.Web.UI.MouseTool.None);return aK;};ThumbnailControl.prototype.aaf=function(aU){var J=this;var Dy=J.bB.aX.WR(aU.aP);var eQ=aU.eQ;var afo=eQ;if(Dy!==aU.eQ){afo=Dy-eQ;}var aK=aU.aK,jf=aU.rc,aY,bf;if(!aU.yJ|| !aK.fv()){return;}jf.style.height='';jf.style.width='';if(Math.abs(Dy)===90||Math.abs(Dy)===270){aY=aK.ki();bf=aK.iy();}else{aY=aK.iy();bf=aK.ki();}var Ft=jf.offsetWidth,ER=jf.offsetHeight;if(aU.eQ!==Dy){aK.rotate(afo);aU.eQ=Dy;}var NZ=bf/aY,Qj=Ft/ER;var jj,kP;if(NZ<Qj){kP=ER;jj=Math.floor(kP*bf/aY);}else{jj=Ft;kP=Math.floor(jj*aY/bf);}jf.style.height=kP+'px';jf.style.width=jj+'px';};module.exports=ThumbnailControl;},{}],166:[function(require,module,exports){function aeE(message,value){var err=new Error('PCC Range Error: '+message);err.value=value;return err;};function awZ(aBn){var ba=[];var ako=function(n){return!(isNaN(+n));};var acu=aBn.split(',');var Nl,WY;var MU=0;var vk=0;for(var L=0;L<acu.length;L++){var Jx=acu[L].split('-');var Cc=Jx[0].replace(/\s+/g,'');if(Cc.length===0){continue;}var IX=Cc;if(Jx[1]!==undefined&&Jx[1]!==""){IX=Jx[1].replace(/\s+/g,'');}Cc= +(Cc);IX= +(IX);if(ako(Cc)===true){MU=parseInt(Cc);}if(ako(IX)===true){vk=parseInt(IX);}if(MU<vk){Nl=MU;WY=vk;}else{Nl=vk;WY=MU;}if(Jx.length>1){for(var aV=Nl;aV<=WY;aV++){ba.push(aV);}}else{ba.push(Nl);}}ba.sort(function(a,b){return a-b;});for(L=ba.length-1;L>0;L--){if(ba[L-1]===ba[L]){ba.splice(L,1);}}return ba;};var Util={save:function(filename,stringValue){if('Blob'in window){var blob=new Blob([stringValue],{'type':'text/plain;charset=utf-8'});if(window.navigator.msSaveBlob){window.navigator.msSaveBlob(blob,filename);}else if(window.saveAs){window.saveAs(blob,filename);}else{var a=document.createElement('a');a.href=URL.createObjectURL(blob);a.target='_blank';a.download=filename;a.style.display='none';document.body.appendChild(a);a.click();document.body.removeChild(a);}}else{if(document.execCommand){var oWin=window.open('about:blank','_blank');oWin.document.write(stringValue);oWin.document.close();oWin.document.execCommand('SaveAs',true,filename+'.txt');oWin.close();}}},calculateNonOverlappingSelections:function(selections,backgroundColor){var hH;if(!(selections instanceof Array)){hH=[selections];}else{hH=selections;}IPCC.V.forEach(hH,function(dk){IPCC.aq.nb(dk.startIndex,'selection.startIndex',0,Number.MAX_VALUE);IPCC.aq.nb(dk.length,'selection.length',1,Number.MAX_VALUE);IPCC.aq.dG(dk.color,'selection.color');IPCC.aq.nb(dk.opacity,'selection.opacity',0,255);});IPCC.aq.dG(backgroundColor,'backgroundColor');var aoP=IPCC.V.afL(hH);return IPCC.V.map(aoP,function(bJ){bJ.length=bJ.endIndex-bJ.startIndex+1;return bJ;});},layerColors:function(colors,backgroundColor){var NK;if(!(colors instanceof Array)){NK=[colors];}else{NK=colors;}IPCC.V.forEach(NK,function(dk){IPCC.aq.dG(dk.color,'selection.color');IPCC.aq.nb(dk.opacity,'selection.opacity',0,255);});IPCC.aq.dG(backgroundColor,'backgroundColor');return IPCC.V.ahq(NK,backgroundColor);},validatePageRange:function(pageRange,options){if(pageRange&&typeof pageRange!=='string'){return false;}else{try{PCCViewer.Util.convertPageRangeToArray(pageRange,options);}catch(e){return false;}return true;}},convertPageRangeToArray:function(pageRange,options){options=options||{};var lowerLimit=options.lowerLimit||1,upperLimit=options.upperLimit||Number.MAX_VALUE,allowEmpty=options.allowEmpty||false;if(pageRange!=='all'&&pageRange.match(/[^0-9\-\,\s]/g)){throw aeE('Illegal page range value',pageRange);}var cX=[];if(pageRange==='all'){while(upperLimit>=lowerLimit){cX.unshift(upperLimit--);}}else{cX=awZ(pageRange);if((cX.length===0&& !allowEmpty)||cX[0]<lowerLimit||cX[cX.length-1]>upperLimit){throw aeE('Pages are out of range',cX.join(', '));}}return cX;}};module.exports=Util;},{}],167:[function(require,module,exports){var GD={Document:"Document",EqualWidthPages:"EqualWidthPages",SinglePage:"SinglePage",EqualFitPages:"EqualFitPages"};module.exports=GD;},{}],168:[function(require,module,exports){"use strict";var IPCC=require('./../IPCC/IPCC');var sM=require('./PCCViewer.Helper');var Print=require('./PCCViewer.Print');var EventEmitter=require('./PCCViewer.EventEmitter');var cP=require('./PCCViewer.MarkDeserializer');var fJ=require('./PCCViewer.MarkSerializer');function ViewerControl(element,options){if(!(this instanceof ViewerControl)){return new ViewerControl(element,options);}if(!IPCC.V.wx(element)){throw new Error("The 'element' argument is required.");}if(!options.documentID){throw new Error("A valid value for 'options.documentID' is required");}if(!options.imageHandlerUrl){throw new Error("A valid value for 'options.imageHandlerUrl' is required");}var J=this;IPCC.V.Qp(element);var kD=document.createElement('div');kD.className='pccViewerControl';kD.id='pccViewerControl-'+IPCC.wt();element.appendChild(kD);this.dR=kD;this.gz=element;var sN=document.createElement('div');sN.className='pccPageListLoading';kD.appendChild(sN);this.sN=sN;EventEmitter.extend(this);this.vG=false;this.bI=sM.rH({},ViewerControl.AK,options);this.bI.language=sM.rH({},ViewerControl.atW,(options.language?options.language:{}));if(options.language){PCCViewer.Language.initializeData(options.language);}if(this.bI.pageLayout.toLowerCase()==="vertical"){this.bI.pageLayout=IPCC.PageLayout.VerticalScrollDirection;}else if(this.bI.pageLayout.toLowerCase()==="horizontal"){this.bI.pageLayout=IPCC.PageLayout.HorizontalScrollDirection;}else{throw new Error("The value of 'options.pageLayout' is invalid.");}if(this.bI.viewMode.toLowerCase()==="document"){this.bI.viewMode=IPCC.ViewMode.Document;}else if(this.bI.viewMode.toLowerCase()==="equalwidthpages"){this.bI.viewMode=IPCC.ViewMode.EqualWidthPages;}else if(this.bI.viewMode.toLowerCase()==="equalfitpages"){this.bI.viewMode=IPCC.ViewMode.EqualFitPages;}else if(this.bI.viewMode.toLowerCase()==="singlepage"){this.bI.viewMode=IPCC.ViewMode.SinglePage;}else{throw new Error("The value of 'options.viewMode' is invalid.");}function isValidSearchMethodType(){return-1<['auto','server','client'].indexOf(J.bI.searchMethodType.toLowerCase());};if(!isValidSearchMethodType()){throw new Error("The value of 'options.searchMethodType' should be 'auto', 'server', or 'client'.");}if(isNaN(this.bI.searchMethodPageCountThreshold)&&(typeof this.bI.searchMethodPageCountThreshold!=='number')&&this.bI.searchMethodPageCountThreshold<=1){throw new Error("The value of 'options.searchMethodPageCountThreshold' must be a number greater than 1.");}if(this.bI.redactionViewMode){if(this.bI.redactionViewMode.toLowerCase()==="draft"){this.bI.redactionViewMode=PCCViewer.RedactionViewMode.Draft;}else if(this.bI.redactionViewMode.toLowerCase()==="normal"){this.bI.redactionViewMode=PCCViewer.RedactionViewMode.Normal;}}else{this.bI.redactionViewMode=PCCViewer.RedactionViewMode.Normal;}var iY=this.bI.pageRotation%360;if(iY!==0){var wh=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!iY||wh.indexOf(iY)=== -1){throw new Error("The value of 'options.pageRotation' is invalid.");}}else{if(!iY||IPCC.Web.kA(wh,iY)=== -1){throw new Error("The value of 'options.pageRotation' is invalid.");}}}this.bI.pageRotation=iY;if(this.bI.markHandleMode.toLowerCase()==="hidesidehandleswhenclose"){this.bI.markHandleMode=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;}else if(this.bI.markHandleMode.toLowerCase()==="hidecornerhandleswhenclose"){this.bI.markHandleMode=IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose;}else{throw new Error("The value of 'options.markHandleMode' is invalid.");}if(isNaN(this.bI.serviceResponseTimeout)||typeof this.bI.serviceResponseTimeout!=='number'||this.bI.serviceResponseTimeout<0){throw new Error("The value of 'options.serviceResponseTimeout' is invalid.");}if(typeof this.bI.debug!=='boolean'){throw new Error("The value of 'options.debug' is invalid.");}if(typeof this.bI.viewerAssetsPath!=='string'){throw new Error("The value of 'options.viewerAssetsPath' is invalid.");}this.jz={};this.an="";this.fN=1;this.agA=1;this.abi=0;this.mU=1;this.aX=undefined;this.Xm=new PCCViewer.Deferred();this.qH=this.Xm.getPromise();this.fL=false;this.bP=undefined;this.LT=0;this.cI=undefined;this.au=PCCViewer.MouseTools.getMouseTool("AccusoftPanAndEdit");this.mv=false;this.AS=false;this.Dr=false;this.Di=[];this.Oe=new PCCViewer.Deferred();this.asG=this.Oe.getPromise();this.vR=[];this.dC={};this.Da=[];this.DW=[];this.bU=null;this.Hh={};this.gV=null;this.mR=new PCCViewer.MarkupLayerCollection(this);this.uT=new PCCViewer.MarkupLayer(this);this.mR.addItem(this.uT);this.rA=true;setTimeout(function(){J.ajI(kD,J.bI);},0);this.wy=null;this.bz=null;this.Ao=false;this.Il= -1;this.Hv={};this.akG=false;this.aBf=this.bI.printTemplate||(this.bI.template?this.bI.template.print:"");this.kX=null;this.wI=null;this.mn=function(dP,ek,aiS){var ck=document.createElement('div'),fK=ck.style;fK.position='absolute';if(ek.isSelected){fK.backgroundColor='white';}else{fK.backgroundColor='lightgray';}fK.left='10px';fK.right='0';fK.textAlign='left';IPCC.V.forEach(dP.getComments(),function(nT,L){var Tc=document.createElement('div'),OJ=Tc.style;OJ.position='relative';OJ.padding='5px';OJ.border='1px solid gray';if(L>0){OJ.borderTop='none';}Tc.appendChild(document.createTextNode(nT.getText()));ck.appendChild(Tc);});return ck;};return J;};ViewerControl.AK={encryption:false,viewMode:"Document",debug:false,pageLayout:"Vertical",resourcePath:"img",serviceResponseTimeout:60*1000,printTemplate:"",pageRotation:0,markHandleMode:"HideSideHandlesWhenClose",debugErrorLevel:IPCC.Web.UI.DebugErrorLevel.Detailed,maxPrefetch:3,displayPagesWhenScrolling:true,maxOutOfViewDisplay:0,scrollDisplayThreshold:0.5,requireRequestsOptimize:true,loadingContent:"",redactionViewMode:"Normal",searchMethodType:'auto',searchMethodPageCountThreshold:80,viewerAssetsPath:'viewer-assets'};ViewerControl.atW={pageLoadFailed:"Page Load Failed",pageLoadFailedPassword:"Page Load Failed - Password Required",pageLoadFailedRetry:"Retry"};ViewerControl.prototype.ajI=function(element,options){if(this.vG){return;}var J=this;var aaZ=function(){if(J.bI.viewMode===IPCC.ViewMode.SinglePage||J.vG){return;}var auR=J.aX.get_pageNodeId(J.getPageNumber()-1);var aS=document.getElementById(auR);var Ss=J.dR.childNodes[0].childNodes[0].childNodes[0].childNodes;if(!aS){return;}IPCC.V.forEach(Ss,function(iV){if(aS!==iV){if(document.documentMode===8&&iV.style.outline){iV.style.outline='';}else if(iV.style.boxShadow){iV.style.boxShadow='';}}});if(document.documentMode===8){aS.style.outline='2px solid #aaa';}else{aS.style.boxShadow='0 0 4px 1px rgba(0,0,0,.4)';}};function asD(){var aW=new PCCViewer.Deferred();function showNagDialog(delaySecondsRemaining){var km=document.createElement('div'),CO=document.createElement('div'),TP=function(){km.classList.add('open');},My=function(){if(km.parentNode!==null){km.parentNode.removeChild(km);}};CO.innerHTML='<h3>Evaluation Mode</h3>'+'<p>Please note that PrizmDoc Viewer is running in evaluation mode with a fixed feature set. <b>Viewing is artificially delayed by about 10 seconds</b> and all pages will be watermarked.</p>'+'<p>To test all features without restriction, <a target="_blank" rel="noopener noreferrer" href="https://www.accusoft.com/contact-us/?product=prizmdoc-viewer">contact us</a> to discuss our 30-day full-featured trial.</p>';var abd=document.createElement('p');CO.appendChild(abd);function updateRemainingSeconds(){abd.innerText='Please wait '+delaySecondsRemaining+' seconds...';};updateRemainingSeconds();km.className='pccPageListNagModal';km.appendChild(CO);J.dR.appendChild(km);TP();var intervalId=setInterval(function(){delaySecondsRemaining--;if(delaySecondsRemaining>0){updateRemainingSeconds();}else{My();clearInterval(intervalId);}},1000);};function fB(aA){if(aA.status===200){var ah=JSON.parse(aA.responseText);if(ah.delayEnabled){showNagDialog(ah.delaySecondsRemaining);}}};function fh(aA){aW.reject(new PCCViewer.Error("AjaxError","The call to get viewing session restrictions failed."));};PCCViewer.Ajax.fa({method:'GET',url:J.bI.imageHandlerUrl+'/v2/ViewingSessions/'+J.bI.documentID+'/restrictions',headers:{'Content-Type':'application/json'}}).then(fB,fh);};var anp=function(){if(J.sN.parentNode){J.sN.parentNode.removeChild(J.sN);}J.aX.remove_pageOpenFailed(ZC);J.aX.remove_pageDisplayed(anp);var aP=arguments[1].pageIndex;setTimeout(function(){J.trigger("PageDisplayed",{pageNumber:(aP+1)});aaZ();},10);if(aP!==0){return;}function fB(aA){if(J.vG){return;}var ah;if(aA.status===200){ah=JSON.parse(aA.responseText);if(ah.pageCountConfidence<100){var an;if(!(/^[\x00-\x7F]*$/.test(pz))){an=J.bI.imageHandlerUrl+'/Document/q/Attributes?DocumentID=e'+pz+'&DesiredPageCountConfidence=100';}else{an=J.bI.imageHandlerUrl+'/Document/q/Attributes?DocumentID=u'+encodeURIComponent(J.bI.documentID)+'&DesiredPageCountConfidence=100';}PCCViewer.Ajax.fa({method:'GET',url:an,headers:{'Content-Type':'application/json'}}).then(fB,fh);J.fN=ah.pageCount;J.bP.fN=ah.pageCount;J.Dr=true;setTimeout(function(){J.trigger("EstimatedPageCountReady",{pageCount:ah.pageCount});},10);adp();}else{if(J.fN>1){J.bP.fN=ah.pageCount;setTimeout(function(){var L;if(ah.pageCount<J.fN){for(L=J.fN-1;L>=ah.pageCount;L--){J.cI.removePage(L);}}else if(ah.pageCount>J.fN){for(L=J.fN;L<ah.pageCount;L++){var Rq=new IPCC.Web.UI.ImGearPage({pageNumber:L});J.cI.addPage(Rq);}}J.fN=ah.pageCount;if(J.fL===true){J.mv=true;J.AS=true;setTimeout(function(){J.trigger("PageCountReady",{pageCount:ah.pageCount});},30);}},30);}else{J.fN=ah.pageCount;J.bP.fN=ah.pageCount;if(J.fL===true){adp(function(){J.mv=true;J.AS=true;setTimeout(function(){J.trigger("PageCountReady",{pageCount:ah.pageCount});},0);});}}}}};function fh(ah){if(J.vG){return;}var Ra="None",aiq,Rc;var aiV=ah.response.getResponseHeader('Accusoft-Status-Message');if(aiV){Ra=aiV;Rc=ah.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.yX(Rc)){aiq=parseInt(Rc,10);}}else if(ah.response.statusText){Ra=ah.response.statusText;}setTimeout(function(){J.trigger("PageLoadFailed",{statusCode:ah.response.status,errorMessage:Ra,accusoftErrorNumber:aiq});},1);throw("Unable to obtain document information from the server");};var pz=IPCC.hz.rR(J.bI.documentID);if(!pz||pz===""){throw("Invalid encoded Identifier");}if(!(/^[\x00-\x7F]*$/.test(pz))){J.an=J.bI.imageHandlerUrl+'/Document/q/Attributes?DocumentID=e'+pz+'&DesiredPageCountConfidence=50';}else{J.an=J.bI.imageHandlerUrl+'/Document/q/Attributes?DocumentID=u'+encodeURIComponent(J.bI.documentID)+'&DesiredPageCountConfidence=50';}PCCViewer.Ajax.fa({method:'GET',url:J.an,headers:{'Content-Type':'application/json'}}).then(fB,fh);};function adp(oj){oj=oj||function(){};var anb=J.fN;function abD(){J.aX.remove_allPagesAdded(abD);oj();};if(anb>1){J.aX.add_allPagesAdded(abD);if(!J.ajz){J.aX.add_currentPageChanged(function(){if(arguments.length<2){throw("Controls currentPageChanged event did not provide any expected information");}var cC=arguments[1];setTimeout(function(){J.trigger('PageChanged',{pageNumber:cC.pageIndex+1});aaZ();},0);});J.aX.add_pageDisplayed(function(){if(arguments.length<2){throw("Controls pageDisplayed event did not provide any expected information");}var cC=arguments[1];if(J.kX){J.kX();J.kX=null;if(J.gV){J.gV.resolve();}J.gV=null;}setTimeout(function(){J.trigger('PageDisplayed',{pageNumber:cC.pageIndex+1});aaZ();},0);setTimeout(function(){J.requestPageText(cC.pageIndex+1).then(function Bd(){J.Wl(cC.pageIndex+1,J.Il);});},10);});J.aX.add_pageOpenFailed(function(){abK(arguments);});J.ajz=true;}for(var L=J.LT;L<anb;L++){J.cI.addPage(new IPCC.Web.UI.ImGearPage({pageNumber:L}));J.LT++;}}else{oj();}};var axy=function(cC){var aS=document.getElementById(cC.pageNodeID),bJ=document.createElement('div'),xn=document.createElement('button'),ajC='pccPageLoadFailRetry'+cC.pageIndex,afJ=function(){J.aX.Nh(cC.pageIndex);},aqX=PCCViewer.Language.data.pageLoadFailed,aqa=PCCViewer.Language.getValue("pageLoadFailedPassword"),arh=PCCViewer.Language.data.pageLoadFailedRetry,aAF=cC.exception.statusCode===480&&cC.exception.customErrorCode===4001;if(aS===null){return;}xn.id=ajC;xn.innerHTML=arh;bJ.className='pccPageLoadFail';if(aAF){bJ.innerHTML=aqa+'<br>';aS.appendChild(bJ);}else{bJ.innerHTML=aqX+'<br>';bJ.appendChild(xn);aS.appendChild(bJ);xn=document.getElementById(ajC);if(!xn.addEventListener){xn.attachEvent('onclick',afJ);}else{xn.addEventListener('click',afJ,false);}}};function abK(DX){if(DX.length<2){throw("controls PageOpenFailed event did not provide any expected information");}var aiN,aii,cC=DX[1];if(DX[1].exception.customErrorCode!==undefined){aii=DX[1].exception.customErrorCode;}if(DX[1].exception.message!==undefined){aiN=DX[1].exception.message;}setTimeout(function(){J.trigger('PageLoadFailed',{statusCode:cC.exception.statusCode,pageNumber:cC.pageIndex+1,errorMessage:aiN,accusoftErrorNumber:aii});axy(cC);},0);};function asS(){if(J.aX&&typeof J.aX.dispose==="function"){J.aX.dispose();}J.an="";J.aX=undefined;while(J.dR.firstChild){J.dR.removeChild(J.dR.firstChild);}};function aGr(abW){var aW=new PCCViewer.Deferred();if(typeof abW==="string"){PCCViewer.Ajax.fa({url:J.bI.imageHandlerUrl+'/ViewingSession/u'+J.bI.documentID+'/Replacement',body:JSON.stringify({password:abW}),method:'POST',headers:{'Content-Type':'application/json;charset=utf-8'}}).then(function aHW(aA){var result=JSON.parse(aA.responseText);var aif=result.viewingSessionId;J.bI.documentID=aif;asS();J.ajI(J.dR,J.bI);aW.resolve(aif);},function aIa(err){aW.reject(new PCCViewer.Error("AjaxError","The call to replace the viewing session failed."));});}else{aW.reject(new PCCViewer.Error("InvalidArgument","The value of the 'password' parameter must be a string."));}return aW.getPromise();};function ZC(){J.aX.remove_pageOpenFailed(ZC);abK(arguments);};var aAj=function(ax,G){J.tU=true;var TQ={width:G.width,height:G.height,pageNumber:G.pageNumber};J.trigger("PageOpening",TQ);};function adx(){J.Xm.resolve(J.aX);J.aX.remove_pageOpened(adx);J.fL=true;var bQ=J;setTimeout(function(){J.trigger("ViewerReady",{});if(bQ.mv===true&&bQ.AS===false){bQ.AS=true;setTimeout(function(){J.trigger("PageCountReady",{pageCount:bQ.getPageCount()});},10);}},10);J.setCurrentMouseTool("AccusoftPanAndEdit");};var avc=function(ax,G){if(G.containsText===true){J.Oe.resolve(true);}var AQ= -1;if(Array.prototype.indexOf){AQ=(J.vR.indexOf(G.pageIndex)>=0);}else{AQ=(IPCC.Web.kA(J.vR,G.pageIndex)>=0);}if(AQ===false){J.vR.push(G.pageIndex);if(J.vR.length===J.fN){J.Oe.resolve(false);}}setTimeout(function(){J.trigger("PageTextReady",{pageNumber:G.pageIndex+1});},0);};var atx=function(ax,G){var AQ= -1;if(Array.prototype.indexOf){AQ=(J.vR.indexOf(G.pageIndex)>=0);}else{AQ=(IPCC.Web.kA(J.vR,G.pageIndex)>=0);}if(AQ===false){J.vR.push(G.pageIndex);if(J.vR.length===J.fN){J.Oe.resolve(false);}}};function aAS(sender,eventArgs){if(!eventArgs.text||(eventArgs.text.length===0)){return;}var ir=[];for(var i=0;i<eventArgs.pageNumbers.length;i++){ir.push(eventArgs.pageNumbers[i]+1);}var fZ=[],ws= -eventArgs.startIndex,bL,cl,iG,bE,j,k;for(j=0;j<ir.length;j++){iG=J.cI.jE(ir[j]-1).bY().hc();ws+=iG.eN();bL=0;if(j===0){bL=eventArgs.startIndex;}if(ws>=eventArgs.text.length){cl=ws-eventArgs.text.length-1;}else{cl=iG.eN()-1;}bE=IPCC.V.Sl(iG,bL,cl);for(k=0;k<bE.length;k++){fZ.push({x:bE[k].x,y:bE[k].y,width:bE[k].width,height:bE[k].height,pageNumber:ir[j]});}}J.bU={pageNumber:ir[0],length:eventArgs.text.length,text:eventArgs.text,startIndex:eventArgs.startIndex,rectangles:fZ};var T,adr={selectedText:eventArgs.text,pageNumbers:ir,clientX:eventArgs.clientX,clientY:eventArgs.clientY,handleClientX:eventArgs.handleClientX,handleClientY:eventArgs.handleClientY,textSelection:J.bU};function avp(){var uz=J.iC;J.ajy=true;J.iC=function(sender,args){J.iC=uz;setTimeout(function(){J.trigger(PCCViewer.EventType.MarkCreated,{mark:T,pageNumber:ir[0],clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};};if(eventArgs.previousFirstMark){T=J.dC[eventArgs.previousFirstMark.get_markID()];J.aX.remove_markRemoved(J.El);J.aX.remove_markSelectionChanged(J.Es);if(eventArgs.pageNumbers[0]!==eventArgs.previousFirstMark.aP){var aAq=T.R.abP;var Vq;if(T.getReason){Vq=T.R.get_text();}var Vx;if(T.getFillColor){Vx=T.R.get_fillColor();}var Uq;if(T.getColor){Uq=T.R.get_lineColor();}var VF;if(T.getThickness){VF=T.R.get_lineWidth();}var Vm;if(T.getHref){Vm=T.R.get_href();}var aAi=new PCCViewer.Conversation(T);var bk=J.aX.gN(J.cI.getPage(T.R.aP));bk.removeMark(T.R);for(var L=T.dj.length-1;L>=0;L--){var mP=T.dj[L];bk=J.aX.gN(J.cI.getPage(mP.aP));bk.removeMark(mP);T.dj.splice(L,1);}T.R=new IPCC.Web.UI.Mark(eventArgs.previousFirstMark.get_type());T.R.aP=eventArgs.pageNumbers[0];T.be=eventArgs.pageNumbers[0]+1;T.R.ky=true;T.R.abP=aAq;var uz=J.iC;J.iC=null;J.aX.remove_markChanged(J.lJ);bk=J.aX.gN(J.cI.getPage(T.R.aP));bk.addMark(T.R);if(Vq){T.R.set_text(Vq);}if(Vx){T.R.set_fillColor(Vx);}if(Uq){T.R.set_lineColor(Uq);}if(VF){T.R.set_lineWidth(VF);}if(Vm){T.R.set_href(Vm);}T.dP=new PCCViewer.Conversation(T);PCCViewer.Conversation.qE(aAi,T.dP);J.aX.add_markChanged(J.lJ);J.iC=uz;}T.R.set_selected(true);T.R.set_visible(true);T.setPosition({startIndex:eventArgs.startIndex,length:eventArgs.text.length});J.aX.add_markRemoved(J.El);J.aX.add_markSelectionChanged(J.Es);J.nK(T,eventArgs.pageNumbers[0]);return;}var xm=null;switch(eventArgs.mouseTool){case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:xm='HighlightAnnotation';break;case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:xm='TextSelectionRedaction';break;case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:xm='TextHyperlinkAnnotation';break;case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:xm='StrikethroughAnnotation';break;case IPCC.Web.UI.MouseTool.SelectText:aAE(eventArgs.text);J.Hh[ir[0]]='selectText';break;}var au=PCCViewer.MouseTools.getMouseTool(J.getCurrentMouseTool());var bi=(au&&au.getTemplateMark)?au.getTemplateMark():undefined;var aom=bi?bi.getType():"";if(xm){avp();J.trigger(PCCViewer.EventType.TextSelected,adr);T=J.addMark(ir[0],xm);if(J.rA){J.uT.addMarks(T);}T.R.ky=true;T.setPosition({startIndex:eventArgs.startIndex,length:eventArgs.text.length});if(aom===xm){if(bi.getFillColor){T.setFillColor(bi.getFillColor());}if(bi.getReason){T.setReason(bi.getReason());}if(bi.getHref){T.setHref(bi.getHref());}if(bi.getColor){T.setColor(bi.getColor());}if(bi.getThickness){T.setThickness(bi.getThickness());}PCCViewer.Data.oA(bi,T);}return;}setTimeout(function(){J.trigger(PCCViewer.EventType.TextSelected,adr);},0);};function ati(){var aS=J.dR,bJ=document.createElement('div');bJ.className='pccCopyText';aS.appendChild(bJ);J.HX=bJ;};function aAE(bp){var nl,aET=bp.split('\n'),Kj=document.createDocumentFragment(),DC,kj;nl=document.createTextNode(bp);Kj.appendChild(nl);IPCC.V.Qp(J.HX);J.HX.appendChild(Kj);if(document.body.createTextRange){DC=document.body.createTextRange();DC.moveToElementText(J.HX);DC.select();}else if(window.getSelection){kj=window.getSelection();DC=document.createRange();DC.selectNodeContents(J.HX);kj.removeAllRanges();kj.addRange(DC);}};this.bP=new IPCC.Web.UI.ImGearDocument({documentIdentifier:this.bI.documentID,imageServicePath:this.bI.imageHandlerUrl});this.bP.set_encryption(this.bI.encryption||false);var Rq=new IPCC.Web.UI.ImGearPage({pageNumber:0});this.bP.get_pages().addPage(Rq);this.cI=this.bP.get_pages();this.aX=IPCC.initializePageListPlugin(element,options);asD();this.aX.get_documents().addDocument(this.bP);this.LT=1;this.aX.add_pageDisplayed(anp);this.aX.add_pageOpenFailed(ZC);this.aX.add_pageOpening(aAj);this.aX.add_pageOpened(adx);this.aX.add_textPageReady(avc);this.aX.add_textExtractionFailed(atx);this.aX.set_conversationDOMFactory(function(R,ek,aiS){var T=J.dC[R.get_markID()];if(T){return J.mn(T.getConversation(),ek,aiS);}});IPCC.V.aru(element,function(Kz){if(!Kz&&IPCC.V.yQ!=='svg'){console.warn('PrizmDoc cannot use inline font. Enable remote fonts in your browser for faster document rendering.');if(!J.fL){IPCC.V.yQ='svg';return;}else if(J.mv){IPCC.V.yQ='svg';J.aX.disposeDisplayedPages();J.aX.displayAll();}else{var mA=function(){J.off(PCCViewer.EventType.PageCountReady,mA);IPCC.V.yQ='svg';J.aX.disposeDisplayedPages();J.aX.displayAll();};J.on(PCCViewer.EventType.PageCountReady,mA);}}});ati();this.aX.add_selectTextMouseToolCompleted(aAS);this.aX.add_propertyChanged(function(qo,cZ){var proprtyName=cZ.aqI();if(proprtyName==="mouseTool"){setTimeout(function(){J.trigger(PCCViewer.EventType.MouseToolChanged,{mouseToolName:J.au.getName()});},0);}});this.aX.add_markAdded(function(sender,eventArgs){if((eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)&&J.dC[eventArgs.mark.get_markID()]===undefined&&eventArgs.mark.ac!==undefined){J.nK(eventArgs.mark,eventArgs.pageIndex);}if(J.iC){var ad=eventArgs.mark.get_type();if(ad!==IPCC.Web.UI.MarkType.Highlight&& !(ad===IPCC.Web.UI.MarkType.RectangleRedaction&&eventArgs.mark.ac!==undefined)){J.iC(sender,eventArgs);}}});this.aX.add_markCreating(function(sender,eventArgs){if(J.Hj){J.Hj(sender,eventArgs);}});this.aX.LZ(function(sender,eventArgs){var Cq=0;var yD=0;var acx=0;var tm=0;var um=0;var Pk=0;var auP=J.au.getName().toLowerCase(),auG=J.au.getType();if(auG===PCCViewer.MouseTool.Type.PlaceSignature){var au=J.au;var bi=au.getTemplateMark(),jL=bi.getSignature(),aeG=bi.getRectangle(),T,C={};if(!jL){return;}J.requestPageAttributes(eventArgs.pageIndex+1).then(function(attributes){var uo;if(attributes.width>0){yD=aeG.width||(attributes.width/5);}if(jL.path&&jL.path.length>0){uo=IPCC.V.WI(jL.path);C={x:0,y:0,width:uo.width,height:uo.height};T=J.addMark(eventArgs.pageIndex+1,PCCViewer.Mark.Type.FreehandSignature);T.setPath(jL.path);T.setThickness(jL.thickness||4);}if(jL.text&&jL.text.length){uo=IPCC.V.tG(jL.text,jL.fontName);T=J.addMark(eventArgs.pageIndex+1,PCCViewer.Mark.Type.TextSignature);C={x:0,y:0,width:uo.width,height:uo.height};T.setText(jL.text);T.setFontName(jL.fontName);}acx=(C.width/yD);Cq=aeG.height||(C.height/acx);tm=(eventArgs.imagePoint.x-(yD/2));um=(eventArgs.imagePoint.y-(Cq/2));if(tm<=0){tm=0;}if(um<=0){um=0;}if((tm+yD)>=attributes.width){Pk=(tm+yD)-attributes.width;tm=tm-Pk;}if((um+Cq)>=attributes.height){Pk=(um+Cq)-attributes.height;um=um-Pk;}C={x:tm,y:um,width:yD,height:Cq};T.setRectangle({x:tm,y:um,width:yD,height:Cq});PCCViewer.Data.oA(bi,T);PCCViewer.Conversation.qE(bi.getConversation(),T.getConversation());});J.setCurrentMouseTool(auP);}});function MouseEvent(by){var J=this;for(var i in by){if(i){J[i]=by[i];}}};this.aX.LC(function(sender,eventArgs){var bU=null,eg=null,T=null,ii=null,ye=false,Pa=eventArgs.upTarget.type,MH=false;if(eventArgs.domEvent.ctrlKey===true||eventArgs.domEvent.shiftKey===true){MH=true;}if(eventArgs.upTarget.type==='page'&&eventArgs.downTarget.type==='page'&&eventArgs.upTarget.pageIndex===eventArgs.downTarget.pageIndex||eventArgs.upTarget.type==='comments'&&eventArgs.downTarget.element===eventArgs.upTarget.element){ye=true;if(eventArgs.upTarget.type==='page'&&eventArgs.downTarget.type==='page'&&MH===false){J.deselectAllMarks();}}else if(eventArgs.upMark&&typeof eventArgs.downMark!=='undefined'){if((eventArgs.upMark.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink)&&(eventArgs.upMark===eventArgs.downMark)){ii=J.atI(eventArgs.upMark);ye=ii!==null;Pa="documentHyperlink";}else{T=J.dC[eventArgs.upMark.get_markID()];if(T===undefined){for(var jA in J.dC){if(J.dC.hasOwnProperty(jA)){if(J.dC[jA].R.ac===eventArgs.upMark.ac&&J.dC[jA].R.ac===eventArgs.downMark.ac){T=J.dC[jA];eventArgs.pageIndex=T.be-1;ye=true;var axG=J.getCurrentMouseTool();var ayF=PCCViewer.MouseTools.getMouseTool(axG);var alf=ayF.getType();if(MH===false&&eventArgs.domEvent.button===0){if(alf===PCCViewer.MouseTool.Type.PanAndEdit||alf===PCCViewer.MouseTool.Type.EditMarks){J.deselectAllMarks();T.R.set_selected(true);}}break;}}}}else if(typeof eventArgs.downMark!=='undefined'&&typeof eventArgs.upMark!=='undefined'&&eventArgs.downMark.jJ()===eventArgs.upMark.jJ()){ye=true;if(MH===false&&eventArgs.downTarget.alreadySelected===false){J.deselectAllMarks();T.R.set_selected(true);}}if(T===undefined){if(J.bz&&J.Hh[eventArgs.upTarget.pageIndex+1]==='search'){var ec=J.bz.getResults();for(var L=0;L<ec.length;L++){if(ec[L].be===eventArgs.upTarget.pageIndex+1&&typeof eventArgs.downMark.bL!=='undefined'&&typeof eventArgs.upMark.bL!=='undefined'&&typeof eventArgs.downMark.cr!=='undefined'&&typeof eventArgs.upMark.cr!=='undefined'&&eventArgs.downMark.bL>=ec[L].getStartIndexInPage()&&eventArgs.downMark.bL+eventArgs.downMark.cr<=ec[L].getStartIndexInPage()+ec[L].getText().length&&eventArgs.upMark.bL>=ec[L].getStartIndexInPage()&&eventArgs.upMark.bL+eventArgs.upMark.cr<=ec[L].getStartIndexInPage()+ec[L].getText().length){Pa='searchResult';eg=ec[L];eventArgs.upTarget.pageIndex=eg.be-1;ye=true;break;}}}}if(ye===false&&T===undefined&&J.Hh[eventArgs.upTarget.pageIndex+1]==='selectText'&&typeof eventArgs.downMark.bL!=='undefined'&&typeof eventArgs.upMark.bL!=='undefined'&&eventArgs.downMark.bL>=J.bU.startIndex&&eventArgs.downMark.bL+eventArgs.downMark.cr<=J.bU.startIndex+J.bU.length&&eventArgs.upMark.bL>=J.bU.startIndex&&eventArgs.upMark.bL+eventArgs.upMark.cr<=J.bU.startIndex+J.bU.length){Pa='textSelection';bU=J.bU;ye=true;}}}var TW=new MouseEvent(eventArgs.originalEvent);setTimeout(function(){var aAK=(isNaN(eventArgs.upTarget.pageIndex))?null:eventArgs.upTarget.pageIndex+1;var G={pageNumber:aAK,targetType:Pa,textSelection:bU,searchResult:eg,mark:T,originalEvent:TW,hyperlink:ii,clientX:eventArgs.clientX,clientY:eventArgs.clientY};if(ye===true){J.trigger('Click',G);}},0);});(function(){var zy=null;J.aX.Lm(function(sender,eventArgs){var TW=new MouseEvent(eventArgs.domEvent);var G={originalEvent:TW,clientX:eventArgs.windowPoint.x,clientY:eventArgs.windowPoint.y};if(!(eventArgs.mark instanceof IPCC.Web.UI.Mark)){if(zy!==null){G.mark=J.dC[zy];zy=null;setTimeout(function(){J.trigger('MarkMouseLeave',G);},0);}}else{G.mark=J.dC[eventArgs.mark.get_markID()];if(G.mark===undefined){for(var jA in J.dC){if(J.dC.hasOwnProperty(jA)){if(J.dC[jA].R.ac===eventArgs.mark.ac){G.mark=J.dC[jA];break;}}}}if(!G.mark){return;}setTimeout(function(){if(zy!==G.mark.getId()){if(zy!==null){J.trigger('MarkMouseLeave',IPCC.V.extend({},G,{mark:J.dC[zy]}));}zy=G.mark.getId();J.trigger('MarkMouseEnter',G);}J.trigger('MarkMouseOver',G);},0);}});})();this.aX.add_hyperlinkPageReady(function(sender,eventArgs){if(J.Da[eventArgs.pageIndex]!==undefined){return;}var aP=eventArgs.pageIndex,ap=J.cI.getPage(aP),FD=ap.get_hyperlinkPage().Iq(),vy=J.Da[aP]=[];FD.lj(function(AB){vy.push(new PCCViewer.DocumentHyperlink({be:aP+1,AB:AB}));});if(!J.DW[aP]){J.DW[aP]=new PCCViewer.Deferred();}J.DW[aP].resolve(vy);});this.nK=function(T,fY){var VY=false;function UY(){var la=false;var cS=J.aX.get_displayedPages();for(var L=0;L<cS.get_length();L++){var ap=cS.getPage(L);if(ap.get_pageNumber()===fY){la=true;break;}}return la;};function Op(gS){if(J.aX){J.aX.cF(gS);}};if(UY()){if(Array.prototype.indexOf){if(IPCC.Web.kA(J.Di,fY)>=0){VY=true;}}else{if(IPCC.Web.kA(J.Di,fY)>=0){VY=true;}}if(!VY){J.Di.push(fY);setTimeout(function(){var cj=J.Di.length;if(cj>0){for(var L=0;L<cj;L++){Op(J.Di[L]);}J.Di.splice(0,cj);}},10);}}};var Fw={FreehandSignature:{lineColor:'color',lineWidth:'thickness',pathWidth:false,pathHeight:false},FreehandAnnotation:{lineColor:'color',lineWidth:'thickness',pathWidth:false,pathHeight:false},LineAnnotation:{lineColor:'color',lineWidth:'thickness'},PolylineAnnotation:{lineColor:'color',lineWidth:'thickness'},TextSignature:{textColor:false,fillColor:'color'},TextInputSignature:{lineVisible:false},StampAnnotation:{text:'label',fillColor:'color'},StampRedaction:{text:'label'},StrikethroughAnnotation:{lineColor:'color',lineWidth:'thickness',rectangle:'position'},RectangleRedaction:{text:'reason'},TextRedaction:{opacity:false},HighlightAnnotation:{rectangle:'position'},TextSelectionRedaction:{rectangle:'position',text:'reason'},TextHyperlinkAnnotation:{rectangle:'position'}};var KG={lineColor:"borderColor",lineWidth:"borderThickness",pathString:"path",textColor:"fontColor",textHorizontalAlignment:"horizontalAlignment"};this.lJ=function(ax,G){var T=J.dC[G.mark.get_markID()];var bx;if(T){bx=T.bx;}if(bx&&Fw[bx]&&Fw[bx][G.propertyName]===false){return;}var cg;if(bx){cg=Fw[bx]&&Fw[bx][G.propertyName]?Fw[bx][G.propertyName]:KG[G.propertyName]?KG[G.propertyName]:G.propertyName;}else{cg=KG[G.propertyName]?KG[G.propertyName]:G.propertyName;}if(G.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||G.mark.get_type()===IPCC.Web.UI.MarkType.Highlight||G.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||G.mark.get_type()===IPCC.Web.UI.MarkType.TextHighlightAnnotation||G.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||G.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||(G.mark.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&G.mark.ac!==undefined)){if(T){setTimeout(function(){J.trigger('MarkChanged',{mark:T,pageNumber:G.pageIndex+1,propertyName:cg});},0);}else{for(var jA in J.dC){if(J.dC.hasOwnProperty(jA)){T=J.dC[jA];if(T.ac===G.mark.ac){break;}}}}J.nK(T,G.pageIndex);}else if(T&&G.mark.get_type()===IPCC.Web.UI.MarkType.Polyline&&cg==='points'){if(T.ZF){clearTimeout(T.ZF);}T.ZF=setTimeout(function(){T.ZF=undefined;J.nK(T,G.pageIndex);J.trigger('MarkChanged',{mark:T,pageNumber:G.pageIndex+1,propertyName:cg});},1);}else if(T){J.nK(T,G.pageIndex);setTimeout(function(){J.trigger('MarkChanged',{mark:T,pageNumber:G.pageIndex+1,propertyName:cg});},0);}if(T&&T.type===PCCViewer.Mark.Type.TextRedaction){T.R.set_opacity(0);}if(T&&(T.bx===PCCViewer.Mark.Type.TextInputSignature||T.bx===PCCViewer.Mark.Type.TextAreaSignature)){T.R.set_lineVisible(false);}};this.aX.add_markChanged(J.lJ);this.aX.add_markReordered(function(sender,eventArgs){var T=J.dC[eventArgs.mark.get_markID()];setTimeout(function(){J.trigger('MarkReordered',{mark:T,pageNumber:eventArgs.pageIndex+1,index:eventArgs.zIndex,oldIndex:eventArgs.oldZIndex});},0);});this.Es=function(sender,eventArgs){if(eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText){var T;for(var Lq in J.dC){if(J.dC.hasOwnProperty(Lq)){T=J.dC[Lq];if(T.R.ac===eventArgs.mark.ac){T.R.set_selected(eventArgs.mark.get_selected());J.nK(T.R,T.R.aP);for(var L=0;L<T.dj.length;L++){T.dj[L].set_selected(eventArgs.mark.get_selected());J.nK(T.dj[L],T.dj[L].aP);}}}}}setTimeout(function(){J.trigger('MarkSelectionChanged',{pageNumber:eventArgs.pageIndex+1});},0);};this.aX.add_markSelectionChanged(J.Es);this.aX.add_markTextSelectionChanged(function(sender,eventArgs){J.nK(eventArgs.mark,eventArgs.pageIndex);});this.El=function(sender,eventArgs){var T;if(eventArgs.mark){T=J.dC[eventArgs.mark.get_markID()];if((eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)&&T===undefined&&eventArgs.mark.ac!==undefined){J.nK(eventArgs.mark,eventArgs.pageIndex);}else if(T){setTimeout(function(){J.trigger(PCCViewer.EventType.MarkRemoved,{mark:T,pageNumber:eventArgs.pageIndex});},0);}}};this.aX.add_markRemoved(J.El);this.aX.add_commentAdding(function(sender,eventArgs){var T=J.dC[eventArgs.mark.get_markID()];if(eventArgs.comment.Kl.im===undefined){eventArgs.comment.Kl.im=J.getActiveMarkupLayer();}});this.aX.add_commentAdded(function(sender,eventArgs){var T=J.dC[eventArgs.mark.get_markID()];J.trigger(PCCViewer.EventType.CommentCreated,{conversation:T.getConversation(),comment:eventArgs.comment.Kl});});this.aX.add_commentRemoved(function(sender,eventArgs){var T=J.dC[eventArgs.mark.get_markID()];J.trigger(PCCViewer.EventType.CommentRemoved,{conversation:T.getConversation(),comment:eventArgs.comment.Kl});});this.aX.add_commentChanged(function(sender,eventArgs){var T=J.dC[eventArgs.mark.get_markID()];J.trigger(PCCViewer.EventType.CommentChanged,{conversation:T.getConversation(),comment:eventArgs.comment.Kl});});this.aX.add_scaleChanged(function(sender,eventArgs){var dZ;switch(eventArgs.fitType){case 0:dZ=PCCViewer.FitType.FullWidth;break;case 1:dZ=PCCViewer.FitType.ShrinkToWidth;break;case 2:dZ=PCCViewer.FitType.ActualSize;break;case 3:dZ=PCCViewer.FitType.FullHeight;break;case 4:dZ=PCCViewer.FitType.FullPage;break;default:break;}J.trigger(PCCViewer.EventType.ScaleChanged,{scaleType:eventArgs.scaleType,trigger:eventArgs.scaleTrigger,fitType:dZ,scaleFactor:eventArgs.scaleFactor});});};ViewerControl.prototype.getPageCount=function(){return this.fN;};ViewerControl.prototype.getPageNumber=function(){return(this.aX)?(this.aX.ald().get_pageNumber()+1):1;};ViewerControl.prototype.setPageNumber=function(pageNumber){var be;if(typeof(pageNumber)==='number'){be=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{be=Number(pageNumber);}}if(parseInt(be,10)!==be){throw new Error("The 'pageNumber' value "+be+" is not an integer page number.");}if(be<1||be>this.getPageCount()|| !isFinite(be)){throw "The parameter pageNumber is out of range.";}if(this.getPageNumber()===be){return this;}if(this.aX){this.aX.scrollToPage(be-1);}return this;};ViewerControl.prototype.changeToFirstPage=function(){if(this.aX){if(this.Dr||this.mv){this.aX.scrollToFirstPage();}}return this;};ViewerControl.prototype.changeToLastPage=function(){if(this.aX){if(this.Dr||this.mv){this.aX.scrollToLastPage();}}return this;};ViewerControl.prototype.changeToNextPage=function(){if(this.aX){if(this.Dr||this.mv){this.aX.scrollToNextPage();}}return this;};ViewerControl.prototype.changeToPrevPage=function(){if(this.aX){if(this.Dr||this.mv){this.aX.scrollToPreviousPage();}}return this;};ViewerControl.prototype.scrollBy=function(offsetX,offsetY){if(!this.fL){throw new Error("The method scrollTo requires the viewer to be in a 'ViewerReady' state.");}var J=this;if(typeof offsetX==='number'&&typeof offsetY==='number'){J.aX.scrollBy(offsetX,offsetY);}else{if(isNaN(+offsetX)||isNaN(+offsetY)){throw new PCCViewer.Error('InvalidArgument','Please provide integer values for offsetX and offsetY properties.');}else{J.aX.scrollBy(Number(+offsetX),Number(+offsetY));}}return this;};ViewerControl.prototype.scrollTo=function(target){if(!this.fL){throw new Error("The method scrollTo requires the viewer to be in a 'ViewerReady' state.");}if(this.gV){this.gV.reject(new PCCViewer.Error("Error","The scrollTo method was called before this scrollToAsync method completed scrolling, so scrolling for this scrollToAsync method has been cancelled."));this.gV=null;this.kX=null;}var J=this;var JF=function(){J.aX.scrollConversationIntoView(target.getMark().R.get_conversation());if(J.gV){J.gV.resolve();}J.gV=null;J.kX=null;};var uc=function(ev){if(ev.target.wI===target){J.off(PCCViewer.EventType.CommentCreated,uc);J.wI=null;J.scrollTo(target);}else if(ev.target.wI===null){J.off(PCCViewer.EventType.CommentCreated,uc);}if(J.gV){J.gV.resolve();}J.gV=null;J.kX=null;};var IY=function(be,hJ){J.aX.scrollRegionIntoView(be-1,hJ);if(J.gV){J.gV.resolve();}J.gV=null;J.kX=null;};acE(J,target,uc,JF,IY);return this;};ViewerControl.prototype.scrollToAsync=function(target){if(this.gV){this.gV.reject(new PCCViewer.Error("Error","The scrollToAsync method was called before this scrollToAsync method completed scrolling, so scrolling for this scrollToAsync method has been cancelled."));this.gV=null;this.kX=null;}var aW=PCCViewer.Deferred();var de=aW.getPromise();var J=this;J.gV=aW;try{var JF=function(){J.aX.scrollConversationIntoView(target.getMark().R.get_conversation());if(J.gV){J.gV.resolve();}J.gV=null;J.kX=null;};var uc=function(ev){if(ev.target.wI===target){J.off(PCCViewer.EventType.CommentCreated,uc);J.wI=null;J.scrollTo(target);}else if(ev.target.wI===null){J.off(PCCViewer.EventType.CommentCreated,uc);}if(J.gV){J.gV.resolve();}J.gV=null;J.kX=null;};var IY=function(be,hJ){J.aX.scrollRegionIntoView(be-1,hJ);if(J.gV){J.gV.resolve();}J.gV=null;J.kX=null;};if(acE(J,target,uc,JF,IY)===true){aW.resolve();}}catch(e){J.gV=null;J.kX=null;aW.reject(new PCCViewer.Error("Error",e));}return de;};function acE(bB,dA,uc,JF,IY){var hJ,be,aL;bB.wI=null;if(dA instanceof PCCViewer.Conversation){if(bB.dC[dA.getMark().getId()]===undefined){throw new Error("The parameter target is a conversation of a mark unknown to the viewer control.");}var afn=bB.aX.scrollConversationIntoView(dA.getMark().R.get_conversation());if(afn==="PageOutOfView"){bB.kX=JF;bB.setPageNumber(dA.getMark().getPageNumber());return false;}else if(afn==="ConversationDivDoesNotExist"&&dA.getMark().R.get_conversation().get_length()>0){bB.wI=dA;bB.on(PCCViewer.EventType.CommentCreated,uc);return false;}else{bB.kX=null;return true;}}else if(dA instanceof PCCViewer.SearchResult){if(dA.FZ!==bB.bP.get_documentIdentifier()){throw new Error("The parameter target is a SearchResult that was not created using the current document viewing session.");}aL=dA.getBoundingRectangle();hJ=new IPCC.Web.UI.Rectangle(aL.x,aL.y,aL.width,aL.height);be=dA.getPageNumber();}else if(dA instanceof PCCViewer.Mark){if(bB.dC[dA.getId()]===undefined){throw new Error("The parameter target is a mark unknown to the viewer control.");}aL=dA.getBoundingRectangle();hJ=new IPCC.Web.UI.Rectangle(aL.x,aL.y,aL.width,aL.height);be=dA.getPageNumber();}else if(dA!==undefined&&dA!==null){if(typeof dA.x==='number'&&typeof dA.y==='number'){hJ=new IPCC.Web.UI.Rectangle(+dA.x,+dA.y,0,0);}else{if(isNaN(+dA.x)||isNaN(+dA.y)){throw new Error('The parameter target does not contain a valid x and y values.');}else{hJ=new IPCC.Web.UI.Rectangle(Number(+dA.x),Number(+dA.y),0,0);}}if(dA.width){if(typeof dA.width==='number'){hJ.width=dA.width;}else{if(isNaN(+dA.width)){throw new Error('The parameter target does not contain a valid width value.');}else{hJ.width=Number(+dA.width);}}}if(dA.height){if(typeof dA.height==='number'){hJ.height=dA.height;}else{if(isNaN(+dA.height)){throw new Error('The parameter target does not contain a valid height value.');}else{hJ.height=Number(+dA.height);}}}if(typeof dA.pageNumber==='number'){be= +dA.pageNumber;}else{if(isNaN(+dA.pageNumber)){throw new Error('The parameter target does not contain a valid pageNumber value.');}else{be=Number(+dA.pageNumber);}}}else{throw new Error('The target parameter must be a Mark, SearchResult, or Point.');}if(be<1||be>bB.getPageCount()|| !isFinite(be)){throw new RangeError("The parameter pageNumber is out of range.");}if(bB.aX.scrollRegionIntoView(be-1,hJ)===false){bB.kX=function(){IY(be,hJ);};bB.setPageNumber(be);return false;}else{bB.kX=null;return true;}};ViewerControl.prototype.rotatePage=function(degreesClockwise){if(!this.fL){throw "The method rotatePage requires the viewer to be in a 'ViewerReady' state.";}if(Ba(this.getPageNumber()-1,this)===false){this.aX.cF(this.getPageNumber()-1);}var iY=degreesClockwise%360,J=this;if(iY!==0){var wh=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!iY||wh.indexOf(iY)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}else{if(!iY||IPCC.Web.kA(wh,iY)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}this.aX.rotate(iY);}setTimeout(function(){J.trigger("PageRotated",{degreesClockwise:iY,pageNumber:(J.getPageNumber())});},0);return this;};ViewerControl.prototype.rotateDocument=function(degreesClockwise){if(!this.fL){throw "The method rotateDocument requires the viewer to be in a 'ViewerReady' state.";}if(Ba(this.getPageNumber()-1,this)===false){this.aX.cF(this.getPageNumber()-1);}var iY=degreesClockwise%360,J=this;if(iY!==0){var wh=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!iY||wh.indexOf(iY)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}else{if(!iY||IPCC.Web.kA(wh,iY)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}this.aX.afp(iY);}setTimeout(function(){J.trigger("DocumentRotated",{degreesClockwise:iY});},0);return this;};ViewerControl.prototype.getScaleFactor=function(){if(!this.tU){throw "The getScaleFactor method cannot be called before the initial PageOpening event.";}return this.aX.get_scaleFactor();};ViewerControl.prototype.setScaleFactor=function(scaleFactor){if(!this.tU){throw "The setScaleFactor method cannot be called before the initial PageOpening event.";}if(isNaN(+scaleFactor)||(+scaleFactor<this.getMinScaleFactor())||(+scaleFactor>this.getMaxScaleFactor())){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('scaleFactor',scaleFactor,'The value must be a number between the values returned by the getMinScaleFactor and getMaxScaleFactor methods.');}this.aX.set_scaleFactor(+scaleFactor);return this;};ViewerControl.prototype.getMinScaleFactor=function(){if(!this.tU){throw "The getMinScaleFactor method cannot be called before the initial PageOpening event.";}return this.aX.getMinMaxZoom().minFactor;};ViewerControl.prototype.getMaxScaleFactor=function(){if(!this.tU){throw "The getMaxScaleFactor method cannot be called before the initial PageOpening event.";}return this.aX.getMinMaxZoom().maxFactor;};ViewerControl.prototype.zoomIn=function(zoomFactor){if(!this.tU){throw "The zoomIn method cannot be called before the initial PageOpening event.";}if(isNaN(+zoomFactor)||(+zoomFactor<1.01)||(+zoomFactor>20)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('zoomFactor',zoomFactor,'The value must be a number between 1.01 and 20 inclusive.');}if(this.aX){this.aX.zoomIn(+zoomFactor);}return this;};ViewerControl.prototype.zoomOut=function(zoomFactor){if(!this.tU){throw "The zoomOut method cannot be called before the initial PageOpening event.";}if(isNaN(+zoomFactor)||(+zoomFactor<1.01)||(+zoomFactor>20)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('zoomFactor',zoomFactor,'The value must be a number between 1.01 and 20 inclusive.');}if(this.aX){this.aX.zoomOut(+zoomFactor);}return this;};ViewerControl.prototype.getViewMode=function(){var pm;if(this.aX&&this.aX.get_viewMode){pm=this.aX.get_viewMode();}else{pm=this.bI.viewMode;}if(pm===IPCC.ViewMode.EqualWidthPages){return PCCViewer.ViewMode.EqualWidthPages;}else if(pm===IPCC.ViewMode.EqualFitPages){return PCCViewer.ViewMode.EqualFitPages;}else if(pm===IPCC.ViewMode.SinglePage){return PCCViewer.ViewMode.SinglePage;}else{return PCCViewer.ViewMode.Document;}};ViewerControl.prototype.setViewMode=function(viewMode){var pm;switch(viewMode){case PCCViewer.ViewMode.Document:pm=IPCC.ViewMode.Document;break;case PCCViewer.ViewMode.EqualWidthPages:pm=IPCC.ViewMode.EqualWidthPages;break;case PCCViewer.ViewMode.EqualFitPages:pm=IPCC.ViewMode.EqualFitPages;break;case PCCViewer.ViewMode.SinglePage:pm=IPCC.ViewMode.SinglePage;break;default:throw new RangeError("The value of viewMode is not a supported value.");}if(this.aX&&this.aX.set_viewMode){var FA=this.aX.get_viewMode();if(FA!==pm){if(FA===IPCC.ViewMode.SinglePage){throw new Error("The view mode may not be changed from SinglePage to another view mode after initializing the viewer.");}else if(pm===IPCC.ViewMode.SinglePage){throw new Error("The view mode may not be changed to SinglePage after initializing the viewer. Please use the viewMode viewer parameter instead.");}this.aX.set_viewMode(pm);}}else{this.bI.viewMode=pm;}return this;};ViewerControl.prototype.getPageLayout=function(){var vM;if(this.aX&&this.aX.get_pageLayout){vM=this.aX.get_pageLayout();}else{vM=this.bI.pageLayout;}if(vM===IPCC.PageLayout.HorizontalScrollDirection){return PCCViewer.PageLayout.Horizontal;}else{return PCCViewer.PageLayout.Vertical;}};ViewerControl.prototype.setPageLayout=function(pageLayout){var vM;if(this.bI.viewMode!==IPCC.ViewMode.SinglePage){switch(pageLayout){case PCCViewer.PageLayout.Vertical:vM=IPCC.PageLayout.VerticalScrollDirection;break;case PCCViewer.PageLayout.Horizontal:if(this.aX&&this.aX.closeCommentsPanel){this.aX.closeCommentsPanel();var J=this;setTimeout(function(){J.trigger("CommentsPanelToggled",{isOpen:false});},10);}vM=IPCC.PageLayout.HorizontalScrollDirection;break;default:throw new RangeError("The value of pageLayout is not a supported value.");}}if(this.aX&&this.aX.set_pageLayout){this.aX.set_pageLayout(vM);}else{this.bI.pageLayout=vM;}return this;};ViewerControl.prototype.getAtMaxScale=function(){if(!this.tU){throw "The getAtMaxScale method cannot be called before the initial PageOpening event.";}return this.aX.getMinMaxZoom().atMax;};ViewerControl.prototype.getAtMinScale=function(){if(!this.tU){throw "The getAtMinScale method cannot be called before the initial PageOpening event.";}return this.aX.getMinMaxZoom().atMin;};ViewerControl.prototype.fitContent=function(fitType){if(!this.tU){throw "The fitContent method cannot be called before the initial PageOpening event.";}var DK;switch(fitType){case PCCViewer.FitType.FullWidth:DK=IPCC.FitType.FitToWidth;break;case PCCViewer.FitType.ShrinkToWidth:DK=IPCC.FitType.ShrinkToWidth;break;case PCCViewer.FitType.ActualSize:if(this.getViewMode()===PCCViewer.ViewMode.EqualWidthPages||this.getViewMode()===PCCViewer.ViewMode.EqualFitPages){throw new Error("Fitting content actual size is not supported when in EqualFitPages view mode.");}DK=IPCC.FitType.ActualSize;break;case PCCViewer.FitType.FullHeight:DK=IPCC.FitType.FitToHeight;break;case PCCViewer.FitType.FullPage:DK=IPCC.FitType.BestFit;break;default:throw new RangeError("The value of fitType is not a supported value.");}this.qH.then(function(qo){qo.fitPages(DK);});return this;};ViewerControl.prototype.getPageRotation=function(pageNumber){if(!this.fL){throw new Error("The method getPageRotation requires the viewer to be in a 'ViewerReady' state.");}var be;if(arguments.length>0){if(typeof(pageNumber)==='number'){be=pageNumber;}else{if(isNaN(+pageNumber)){throw new Error("The parameter pageNumber is not a number.");}else{be=Number(pageNumber);}}if(parseInt(be,10)!==be){throw new Error("The 'pageNumber' value "+be+" is not an integer page number.");}if(be<1||be>this.getPageCount()|| !isFinite(be)){throw new Error("The parameter pageNumber is out of range.");}return this.aX.WR(be-1);}else{return this.aX.WR();}};ViewerControl.prototype.search=function(eH){var bI=this.bI;var aEX=bI.searchMethodType.toLowerCase();var ava=bI.searchMethodPageCountThreshold;var J=this;var ZQ;var iQ;var Gs=new PCCViewer.SearchRequest(true);if(Object.defineProperties){Object.defineProperties(Gs,{"searchQuery":{enumerable:true,get:function(){return iQ.getSearchQuery();}},"results":{enumerable:true,get:function(){return iQ.getResults();}},"isComplete":{enumerable:true,get:function(){return iQ.getIsComplete();}},"errorCode":{enumerable:true,get:function(){return iQ.getErrorCode();}},"errorMessage":{enumerable:true,get:function(){return iQ.getErrorMessage();}}});}function HV(aJ){return function(){Gs.trigger.apply(Gs,[aJ].concat([].slice.call(arguments)));};};var ahE=HV(PCCViewer.EventType.SearchCompleted);var ahG=HV(PCCViewer.EventType.SearchCancelled);var afN=HV(PCCViewer.EventType.SearchResultsAvailable);var ahF=HV(PCCViewer.EventType.PartialSearchResultsAvailable);var agn=function(by){var ei=ZQ.getErrorCode();if(ei==='ServerSearchUnavailable'){J.akG=true;J.Ao=false;avR();iQ=J.clientSearch(eH);agx();}else{HV(PCCViewer.EventType.SearchFailed).apply(null,arguments);}};var agx=function(){iQ.on(PCCViewer.EventType.SearchCompleted,ahE);iQ.on(PCCViewer.EventType.SearchFailed,agn);iQ.on(PCCViewer.EventType.SearchCancelled,ahG);iQ.on(PCCViewer.EventType.SearchResultsAvailable,afN);iQ.on(PCCViewer.EventType.PartialSearchResultsAvailable,ahF);};var avR=function(){iQ.off(PCCViewer.EventType.SearchCompleted,ahE);iQ.off(PCCViewer.EventType.SearchFailed,agn);iQ.off(PCCViewer.EventType.SearchCancelled,ahG);iQ.off(PCCViewer.EventType.SearchResultsAvailable,afN);iQ.off(PCCViewer.EventType.PartialSearchResultsAvailable,ahF);};var Ct=function(){if(J.akG===false){ZQ=J.serverSearch(eH);iQ=ZQ;agx();IPCC.V.forEach(['getSearchQuery','getResults','getIsComplete','getErrorCode','getErrorMessage','cancel','getPagesWithoutText'],function(aJ){Gs[aJ]=function(){return iQ[aJ].apply(iQ,arguments);};});return Gs;}else{return J.clientSearch(eH);}};switch(aEX){case('auto'):if(ava>=this.fN){return this.clientSearch(eH);}else{return Ct();}break;case('client'):return this.clientSearch(eH);case('server'):return Ct();default:throw new Error("The value of 'options.searchMethodType' should be 'auto', 'server', or 'client'.");}};ViewerControl.prototype.abN=function(eH,awk){var J=this;var dN=new PCCViewer._Search();this.bz=dN.aoZ();PCCViewer.SearchTask.prototype.aeN(eH);if(awk===true){if(J.AS!==true){J.qH.then(function(qo){var Gf=function(){J.off('PageCountReady',Gf);J.clientSearch(eH);};J.on('PageCountReady',Gf);return J.bz;});}if(!this.bP.apC()){this.bP.ML(0,this.bP.fN-1,this.bP.fN);}}this.wy=null;this.Hv={};this.aX.clearAllSelectedText();return dN;};ViewerControl.prototype.aiO=function(){var bQ=this;this.bz.on('PartialSearchResultsAvailable',function(cZ){if(bQ.vG){return;}var IS=[];var OK={};IS=cZ.partialSearchResults;var ah=IS[0];if(bQ.Hv[ah.getPageNumber()]!==undefined){OK=bQ.Hv[ah.getPageNumber()];}else{OK.bL=ah.getId();}ah=IS[IS.length-1];OK.cl=ah.getId();bQ.Hv[ah.getPageNumber()]=OK;function Bd(ap){if(bQ.vG){return;}bQ.aiI(ap.get_pageNumber(),IS);};var cS=bQ.aX.get_displayedPages();for(var L=0;L<cS.get_length();L++){var ap=cS.getPage(L);if(ap.get_pageNumber()+1===ah.getPageNumber()){bQ.requestPageText(ap.get_pageNumber()+1).then(Bd.bind(null,ap));}}});this.bz.on('SearchCompleted',function(cZ){bQ.Ao=false;});this.bz.on('SearchCancelled',function(cZ){bQ.Ao=false;});this.trigger('SearchPerformed',{searchRequest:this.bz});};ViewerControl.prototype.clientSearch=function(searchQuery){var bQ=this;var dN=bQ.abN(searchQuery,true);searchQuery=dN.UW(searchQuery);if(this.Ao===false){bQ.aX.set_retainPageText(true);this.bz=dN.uQ(searchQuery,this.bP);this.Ao=true;}else{throw new Error("You cannot run multiple searches concurrently. Retry after the current search is completed.");}bQ.aiO();return this.bz;};ViewerControl.prototype.serverSearch=function(searchQuery){var bQ=this;var dN=bQ.abN(searchQuery,false);searchQuery=dN.UW(searchQuery);if(this.Ao===false){this.bz=dN.Ct(searchQuery,this.bP);this.Ao=true;}else{throw new Error("You cannot run multiple searches concurrently. Retry after the current search is completed.");}bQ.aiO();return this.bz;};ViewerControl.prototype.getSearchRequest=function(){return this.bz;};ViewerControl.prototype.clearSearch=function(){if(!this.fL){throw "The clearSearch method requires the viewer to be in a 'ViewerReady' state.";}var J=this;if(this.getSelectedSearchResult()){this.wy=null;setTimeout(function(){J.trigger(PCCViewer.EventType.SearchResultSelectionChanged,{});},0);}this.aX.clearAllSelectedText();this.bz=null;setTimeout(function(){J.trigger(PCCViewer.EventType.SearchCleared,{});},0);return this;};ViewerControl.prototype.validateSearch=function(eH){var eb={errorsExist:false};var searchTermObj,aau,L,aw,TI,LA,Pu;if(typeof eH!=='object'&&typeof eH!=='string'){eb.errorsExist=true;eb.summaryMsg="Search query must be either an object or string.";return eb;}if(typeof eH==='string'&&eH.length<0){eb.errorsExist=true;eb.summaryMsg="Search term must contain at least 3 characters.";return eb;}else if(typeof eH==='string'){return eb;}if(!eH.hasOwnProperty('searchTerms')){eb.errorsExist=true;eb.summaryMsg="Search options must have a 'searchTerms' key.";return eb;}if(Object.prototype.toString.call(eH.searchTerms)!=='[object Array]'){eb.errorsExist=true;eb.summaryMsg="Search terms value must be an array.";return eb;}if(!eH.searchTerms.length){eb.errorsExist=true;eb.summaryMsg="Search terms array must contain at least one value.";return eb;}eb.searchTerms=[];IPCC.V.forEach(eH.searchTerms,function(searchTermObj){var Fj=anr(searchTermObj);if(Fj.errorsExist){eb.errorsExist=true;}eb.searchTerms=eb.searchTerms.concat(Fj.searchTerms);});return eb;};function anr(kQ){var eb={errorsExist:false,searchTerms:[]};var aGs=kQ.type?IPCC.V.trim(kQ.type).toLowerCase():undefined;if(aGs==='proximity'){if(Object.prototype.toString.call(kQ.terms)!=='[object Array]'){eb.searchTerms.push({isValid:false,message:"Proximity search terms property must be an array"});eb.errorsExist=true;return eb;}if(kQ.terms.length<2){eb.searchTerms.push({isValid:false,message:"Proximity search terms array must contain at least two values"});eb.errorsExist=true;return eb;}if(!kQ.distance){eb.searchTerms.push({isValid:false,message:"Proximity search term must have a distance specified"});eb.errorsExist=true;return eb;}IPCC.V.forEach(kQ.terms,function(aAA){var Fj=anr(aAA);if(Fj.errorsExist){eb.errorsExist=true;}eb.searchTerms=eb.searchTerms.concat(Fj.searchTerms);});return eb;}var TI,Pu;var LA=(typeof kQ.matchingOptions!=='undefined'&&kQ.matchingOptions.hasOwnProperty('matchCase'))?kQ.matchingOptions.matchCase:false;if(typeof kQ.searchTerm==='undefined'||typeof kQ.searchTerm!=='string'||(kQ.searchTermIsRegex===true&& !aGy(kQ.searchTerm,LA))){eb.errorsExist=true;eb.searchTerms.push({isValid:false,message:"Search term must be a string containing either plain text or a valid regular expression."});return eb;}TI=(typeof kQ.matchingOptions!=='undefined'&&kQ.matchingOptions.hasOwnProperty('exactPhrase'))?kQ.matchingOptions.exactPhrase:false;if(TI){if(kQ.searchTerm.length<0){eb.errorsExist=true;eb.searchTerms.push({isValid:false,message:"Search term must contain at least 3 characters."});return eb;}}else{var aau=kQ.searchTerm.split(' ');IPCC.V.forEach(aau,function(Pu){if(Pu.length>0&&Pu.length<0){eb.errorsExist=true;eb.searchTerms.push({isValid:false,message:"Search term must contain at least 3 characters."});}});}if(!eb.searchTerms.length){eb.searchTerms.push({isValid:true,message:null});}return eb;};var aGy=function(Sx,LA){var avv,Tg,OI;if(LA){Tg='gm';}else{Tg='igm';}if(!Sx&&Sx!==null){OI=false;}else{try{avv=new RegExp(Sx,Tg);OI=true;}catch(err){OI=false;}}return OI;};ViewerControl.prototype.requestRevisions=function(){this.ln=new PCCViewer.JV({imageHandlerUrl:this.bI.imageHandlerUrl,documentID:this.bI.documentID});return this.ln.axa();};ViewerControl.prototype.fR=function(aas){var zZ=false,cS=this.aX.get_displayedPages();for(var L=0;L<cS.get_length();L++){var ap=cS.getPage(L);if(ap.get_pageNumber()===aas){zZ=true;}}return zZ;};ViewerControl.prototype.getDownloadDocumentURL=function(){var an;if(!(/^[\x00-\x7F]*$/.test(this.bP))){an=this.bI.imageHandlerUrl+'/SaveDocument/q?DocumentID=e'+this.bI.documentID+'/SourceFile';}else{an=this.bI.imageHandlerUrl+'/SaveDocument/q?DocumentID=u'+encodeURIComponent(this.bI.documentID);}return an;};ViewerControl.prototype.requestDocumentHyperlinks=function(pageNumber){var be;var aW=PCCViewer.Deferred();var de=aW.getPromise();var bB=this;try{if(typeof(pageNumber)==='number'){be=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{be=parseInt(pageNumber,10);}}if(be<1||be>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}var Yp=this.DW[be-1];if(!Yp){Yp=this.DW[be-1]=new PCCViewer.Deferred();this.qH.then(function(){var ap=bB.cI.getPage(be-1);ap.Bj();});}aW.resolve(Yp.getPromise());}catch(e){aW.reject(new PCCViewer.Error('Error',e));}return de;};ViewerControl.prototype.atI=function(aCl){var i,j,vy;for(j=0;j<this.Da.length;j++){vy=this.Da[j];if(vy){for(i=0;i<vy.length;i++){if(vy[i].AB.PD()===aCl){return vy[i];}}}}return null;};ViewerControl.prototype.print=Print.print;ViewerControl.prototype.validatePrintRange=Print.validatePrintRange;ViewerControl.prototype.canPrintMarks=Print.canPrintMarks;ViewerControl.prototype.deserializeMarks=function deserializeMarks(values){if(this.fL===false){throw new Error("The method addMark is not available until 'ViewerReady' state is reached.");}var J=this;var fN=J.getPageCount();var fi;if(typeof values==='string'){try{fi=JSON.parse(values);}catch(e){throw new Error('JSON parse error: '+e.message);}}else{fi=values;}if(fi.constructor!==Array){fi=[fi];}function SU(fw,aM){throw new Error('Cannot serialize mark (at index '+aM+') because of '+fw);};var Wx=IPCC.V.map(J.getAllMarks(),function(T){return T.getUid();});IPCC.V.forEach(fi,function validateObject(az,aM){if(!az.pageNumber||isNaN(+az.pageNumber)||az.pageNumber<1||az.pageNumber>fN){SU('unknown page number '+az.pageNumber,aM);}if(!PCCViewer.Mark.Type[az.type]){SU('unknown type '+az.type,aM);}if(IPCC.V.contains(Wx,az.uid)){SU('uid '+az.uid+' is being duplicated or already exists',aM);}else if(az.uid!==undefined){Wx.push(az.uid);}});if(fi.length===0){return[];}var cX=J.bP.get_pages();var aDv=[];cX.lj(function(ap){aDv.push(J.aX.gN(ap));});var bq=IPCC.V.reduce(fi,function(ah,az){var ap=cX.jE(az.pageNumber-1);var VL=ap.get_pageWidth();var ajY=ap.get_pageHeight();var gM=az.pageData;if(!gM&&(!VL|| !ajY)){var aDA=IPCC.V.find(az.lineGroups,function(amQ){return(amQ.pageNumber&&amQ.pageNumber===az.pageNumber);});gM=aDA.pageData;}var bf=VL||gM.width;var aY=ajY||gM.height;var T=cP[az.type].call(J,az,{bf:bf,aY:aY});if(az.uid===undefined){Wx.push(T.getUid());}if(!VL){ap.DA=true;ap.aca(bf);ap.ach(aY);}if(!T.R.has_unsafe_href()){ah.push(T);}else{J.deleteMarks(T);}return ah;},[]);return bq;};ViewerControl.prototype.serializeMarks=function serializeMarks(marks){var aW=PCCViewer.Deferred();var de=aW.getPromise();var J=this,bq,aFu=false;function aaC(fw){setTimeout(function(){aW.reject(fw);},0);};if(Object.prototype.toString.call(marks)==='[object Array]'){bq=marks;}else if(marks){bq=[marks];aFu=true;}else{aaC(new PCCViewer.Error('InvalidArgument','`marks` is not defined or falsy.'));return de;}var Lf;bq=IPCC.V.filter(bq,function(kZ,aM){var Ia=kZ instanceof PCCViewer.Mark&&kZ===J.getMarkById(kZ.getId())&& ! !fJ[kZ.getType()];if(!Ia&& !Lf){Lf=aM;}return Ia;});if(Lf){aaC(new PCCViewer.Error('InvalidArgument','Cannot serialize object at index '+Lf+' because it is not a valid mark or a mark known to ViewerControl'));return de;}var VJ=J.bP.get_pages();var cX=IPCC.V.reduce(bq,function(fs,kZ){var be=kZ.getPageNumber();if(fs[be]){return fs;}fs[be]=VJ.getPage(be-1);return fs;},{});function atB(T,ap,avu){return function(lH){fJ[T.getType()]({mark:T,page:ap,vc:J},function(bg,ci){if(!bg){avu(ci);lH();}else{aW.reject(bg);}});};};var rz=[];var auc=IPCC.V.map(bq,function(kZ,aM){return atB(kZ,cX[kZ.getPageNumber()],function(ci){rz[aM]=ci;});});IPCC.V.aar(auc,function(){aW.resolve(rz);});return de;};ViewerControl.prototype.setRedactionViewMode=function(redactionViewMode){var KJ,UO;switch(redactionViewMode){case PCCViewer.RedactionViewMode.Draft:KJ=true;UO=PCCViewer.RedactionViewMode.Draft;break;case PCCViewer.RedactionViewMode.Normal:KJ=false;UO=PCCViewer.RedactionViewMode.Normal;break;default:throw new RangeError("The value of RedactionViewMode is not a supported value.");}if(this.aX&&this.aX.set_redactionDraftMode){var apc=this.aX.get_redactionDraftMode();if(apc!==KJ){this.aX.set_redactionDraftMode(KJ);}}else{this.bI.redactionViewMode=UO;}return this;};ViewerControl.prototype.getRedactionViewMode=function(){var amH;if(this.aX&&this.aX.get_redactionDraftMode){amH=this.aX.get_redactionDraftMode();if(amH===true){return PCCViewer.RedactionViewMode.Draft;}else{return PCCViewer.RedactionViewMode.Normal;}}else{return this.bI.redactionViewMode;}};ViewerControl.prototype.convertToRedaction=function(searchResult){var J=this;var eg=searchResult;if(this.fL===false){throw "The convertToRedaction method can not be used until 'ViewerReady' state is reached.";}else if(eg instanceof Array){throw new Error("Argument for this method cannot be an array.");}else if(eg instanceof PCCViewer.SearchResult===false){throw new Error("The argument is not an instance of SearchResult.");}else if(eg.FZ!==this.bP.get_documentIdentifier()){throw new Error("The SearchResult argument was not created using the current document viewing session.");}var ap=J.cI.getPage(eg.getPageNumber()-1);if(!(ap.bY()&&ap.bY().vP()&&ap.bY().mB()===true)){throw new Error("The text has not been retrieved for this page.");}var iz=eg.getStartIndexInPage();var eu=eg.getStartIndexInPage()+eg.getText().length;var jM=IPCC.wt();var bk=J.aX.gN(ap);var gh=ap.bY().hc();var cB=anu(bk,gh,iz,eu,jM,eg.getPageNumber()-1);var T=new PCCViewer.Mark({type:'TextSelectionRedaction',igMark:cB,pageNumber:eg.getPageNumber()});T.R=cB;T.dj=[];this.dC[cB.get_markID()]=T;var uz=J.iC;J.iC=function(sender,eventArgs){if(J.rA){J.uT.addMarks(T);}setTimeout(function(){J.trigger('MarkCreated',{mark:T,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};bk.addMark(cB);J.iC=uz;J.aX.display(eg.getPageNumber()-1);return T;};var anu=function(bk,gh,iz,eu,jM,alu){var cB=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);cB.ac=jM;cB.aP=alu;var T=null;var jO={gi:Number.MAX_VALUE,iX:0,_top:Number.MAX_VALUE,kU:0};for(var aw=iz;aw<eu;aw++){var en=gh.kB(aw);if(T){var xh=T.get_rectangle();if(Math.abs(en.bo.y-xh.y)<1&&Math.abs(en.bo.height-xh.height)<1&&en.bo.x+en.bo.width>=xh.x+xh.width){T.set_rectangle(new IPCC.Web.UI.Rectangle(xh.x,xh.y,en.bo.x+en.bo.width-xh.x,xh.height));}else{amK(bk,cB,T,jO);T=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);T.set_rectangle(en.bo);T.lx(true);T.set_fillColor('#000000');T.set_text(cB.bp);T.set_lineWidth(0);T.ac=jM;}}else{T=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);T.set_rectangle(en.bo);T.lx(true);T.set_fillColor('#000000');T.set_text(cB.bp);T.set_lineWidth(0);T.ac=jM;}T.aP=alu;}if(T!==null){amK(bk,cB,T,jO);}cB.set_rectangle(new IPCC.Web.UI.Rectangle(jO.gi,jO._top,jO.iX-jO.gi,jO.kU-jO._top));return cB;};var amK=function(bk,cB,T,jO){var C=T.get_rectangle();if(C.x<jO.gi){jO.gi=C.x;}if(C.y<jO._top){jO._top=C.y;}if(C.x+C.width>jO.iX){jO.iX=C.x+C.width;}if(C.y+C.height>jO.kU){jO.kU=C.y+C.height;}bk.addMark(T);cB.bE.push(T);};ViewerControl.prototype.convertToHighlight=function(searchResult){var eg=searchResult;if(this.fL===false){throw "The convertToHighlight method can not be used until 'ViewerReady' state is reached.";}if(eg instanceof Array){throw new Error("Argument for this method cannot be an array.");}if(eg instanceof PCCViewer.SearchResult===false){throw new Error("The argument is not an instance of SearchResult.");}if(eg.FZ!==this.bP.get_documentIdentifier()){throw new Error("The SearchResult argument was not created using the current document viewing session.");}var cB;var aje;var bk;var ah=eg;var iz=ah.getStartIndexInPage();var eu=ah.getStartIndexInPage()+ah.getText().length;var jM=IPCC.wt();var J=this;var T;bk=this.aX.gN(this.cI.getPage(ah.getPageNumber()-1));cB=anw(IPCC.Web.UI.MarkType.HighlightText,ah,iz,jM);T=new PCCViewer.Mark({type:'HighlightAnnotation',igMark:cB,pageNumber:ah.getPageNumber()});for(iz;iz<eu;iz++){aje=anw(IPCC.Web.UI.MarkType.Highlight,ah,iz,jM);bk.addMark(aje);}this.dC[cB.get_markID()]=T;var uz=this.iC;this.iC=function(sender,eventArgs){if(J.rA){J.uT.addMarks(T);}setTimeout(function(){J.trigger('MarkCreated',{mark:T,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};bk.addMark(cB);J.iC=uz;this.aX.display(ah.getPageNumber()-1);T.fillColor=ah.getHighlightColor();return T;};var anw=function(ad,ah,aCI,jM){var T=new IPCC.Web.UI.Mark(ad);if(ad===IPCC.Web.UI.MarkType.HighlightText){T.cu=ah.getText();}T.bL=aCI;T.set_rectangle({x:0,y:0,width:0,height:0});T.cr=ah.getText().length;T.aGS=ah.getStartIndexInPage()+ah.getText().length;T.di=127;T.dJ=ah.getHighlightColor();T.jD='y';T.ac=jM;return T;};ViewerControl.prototype.aiI=function(aP,ec){var ah={};for(var aw=0;aw<ec.length;aw++){ah=ec[aw];this.aX.selectText(ah.getPageNumber()-1,ah.getStartIndexInPage(),ah.getText().length,ah.getHighlightColor());}this.aX.display(ah.getPageNumber()-1);this.Hh[ah.getPageNumber()]='search';};ViewerControl.prototype.Wl=function(aP,searchResult){var ah={};if(this.bz===null||typeof this.bz.getResults!=='function'){return;}var ec=this.bz.getResults();this.aX.clearSelectedText(aP-1);var Xe=this.Hv[aP];if(!Xe){return;}for(var aw=Xe.bL;aw<Xe.cl+1;aw++){ah=ec[aw];if(ah.getPageNumber()===aP){this.aX.selectText(ah.getPageNumber()-1,ah.getStartIndexInPage(),ah.getText().length,ah.getHighlightColor());if(searchResult===ah.getId()){this.aX.selectText(ah.getPageNumber()-1,ah.getStartIndexInPage(),ah.getText().length,ah.getHighlightColor());}}}this.aX.display(ah.getPageNumber()-1);this.Hh[ah.getPageNumber()]='search';};ViewerControl.prototype.setSelectedSearchResult=function(searchResult,scrollTo){if(!this.fL){throw "The setSelectedSearchResult method requires the viewer to be in a 'ViewerReady' state.";}if(searchResult===null){this.Il= -1;}else{if(!(searchResult instanceof PCCViewer.SearchResult)){throw "The parameter searchResult is not an instance of PCCViewer.SearchResult.";}if(!this.bz){throw "There is no current SearchRequest object available.";}var abA=this.bz.getResults();if(abA[searchResult.getId()].lY!==searchResult.lY){throw "The parameter searchResult is not current. There is a newer version of search result available.";}abA=null;this.Il=searchResult.getId();if(scrollTo){var aL=searchResult.getBoundingRectangle();var hJ=new IPCC.Web.UI.Rectangle(aL.x,aL.y,aL.width,aL.height);if(this.aX.scrollRegionIntoView(searchResult.getPageNumber()-1,hJ)===false){this.kX=function(){J.aX.scrollRegionIntoView(searchResult.getPageNumber()-1,hJ);};this.setPageNumber(searchResult.getPageNumber());}else{this.kX=null;}}}var J=this;var azN=searchResult!==null?searchResult.getPageNumber(): -1;if(this.wy&&this.wy.getPageNumber()!==azN){J.requestPageText(J.wy.getPageNumber()).then(function Bd(){J.Wl(J.wy.getPageNumber(),J.Il);});}if(searchResult){J.requestPageText(searchResult.getPageNumber()).then(function Bd(){J.Wl(searchResult.getPageNumber(),J.Il);});}this.wy=searchResult;setTimeout(function(){J.trigger(PCCViewer.EventType.SearchResultSelectionChanged,{});},0);return this;};ViewerControl.prototype.clearSelectedSearchResult=function(){if(!this.fL){throw "The clearSelectedSearchResult method requires the viewer to be in a 'ViewerReady' state.";}this.setSelectedSearchResult(null);return this;};ViewerControl.prototype.getSelectedSearchResult=function(){return this.wy;};ViewerControl.prototype.requestPageText=function(pageNumber){var be;var aW=PCCViewer.Deferred();var de=aW.getPromise();var J=this;try{if(typeof(pageNumber)==='number'){be=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{be=parseInt(pageNumber,10);}}if(be<1||be>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}this.qH.then(function(qo){var ap=J.cI.getPage(be-1);var dW=ap.bY();dW.acD(true);if(dW&&dW.vP()){if(dW.mB()===true){var bp=ap.bY().CJ();aW.resolve(bp);}else{aW.resolve("");}}else{var Ja=function(ax,cC){if(cC.containsText===true){var bp=dW.CJ();aW.resolve(bp);}else{aW.resolve("");}ap.DR(Ja);ap.Db(GX);};var GX=function(ax,cC){if(cC.exception&&cC.exception.message){aW.reject(new PCCViewer.Error("TextExtractionFailed",cC.exception.message));}else{aW.reject(new PCCViewer.Error("TextExtractionFailed","Text extraction failed."));}ap.DR(Ja);ap.Db(GX);};ap.yO(Ja);ap.yj(GX);ap.Bj();}});}catch(e){aW.reject(new PCCViewer.Error("Error",e));}return de;};ViewerControl.prototype.disposePageText=function(pageNumber){var be;var J=this;if(!this.fL){throw new Error("The disposePageText method requires the viewer to be in a 'ViewerReady' state.");}if(J.aX.get_retainPageText()===true){return this;}if(typeof(pageNumber)==='number'){be=pageNumber;}else{if(isNaN(+pageNumber)){throw new Error("The parameter pageNumber is not a number.");}else{be=parseInt(pageNumber,10);}}if(be<1||be>this.getPageCount()|| !isFinite(pageNumber)){throw new Error("The specified page is out of range.");}var cS=J.aX.get_displayedPages();for(var L=0;L<cS.get_length();L++){var alE=cS.getPage(L);if(alE.get_pageNumber()===be-1){alE.bY().acD(false);return this;}}var ap=J.cI.getPage(be-1);ap.amq();return this;};ViewerControl.prototype.isPageTextReady=function(pageNumber){IPCC.aq.nb(pageNumber,"pageNumber",1,this.getPageCount());var ap;return(this.aX&&this.cI&&(ap=this.cI.getPage(pageNumber-1))&&ap.bY()&&ap.bY().vP())===true;};ViewerControl.prototype.documentHasText=function(){return this.asG;};ViewerControl.prototype.requestPageAttributes=function(pageNumber){var be;var aW=PCCViewer.Deferred();var de=aW.getPromise();var J=this;try{if(typeof(pageNumber)==='number'){be=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{be=parseInt(pageNumber,10);}}if(be<1||be>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}this.qH.then(function(qo){var ap=J.cI.getPage(be-1);if(ap.ki()>0||ap.iy()>0){aW.resolve({'width':ap.ki(),'height':ap.iy()});}else{var zF=function(ag,cq){aW.resolve({'width':ag,'height':cq});};var zu=function(errorMessage){aW.reject(new PCCViewer.Error("RequestPageAttributesFailed",errorMessage));};qo.requestPageAttributes(ap,zF,zu);}});}catch(e){aW.reject(new PCCViewer.Error("Error",e));}return de;};ViewerControl.prototype.destroy=function(){if(!this.vG){this.Da=undefined;this.DW=undefined;this.uT=undefined;this.mR=undefined;this.ln=undefined;this.iK=undefined;if(this.aX&&typeof this.aX.dispose==="function"){this.aX.dispose();}this.an="";this.fN=0;delete this.aX;this.bP=undefined;this.LT=0;this.cI=undefined;this.ajz=false;if(this.gz){IPCC.V.Qp(this.gz);this.gz=this.dR=undefined;}this.mv=false;this.AS=false;this.Dr=false;this.aX=undefined;this.Xm=undefined;this.qH=undefined;PCCViewer.MouseTools.sU=undefined;this.mn=undefined;this.Da=undefined;this.HX=undefined;for(var Iw in this.dC){if(this.dC.hasOwnProperty(Iw)){this.dC[Iw].ci=undefined;this.dC[Iw].dP=undefined;this.dC[Iw].R=undefined;this.dC[Iw]=undefined;}}this.dC=undefined;this.fL=false;this.vG=true;this.trigger=function WJ(){};this.jz=undefined;this.jz={};}};ViewerControl.prototype.getMarkById=function(markId){var J=this;if(!isNaN(markId)){markId=parseInt(markId,10);}else{throw "The parameter, markId, contains a value that is not a number.";}if(J.dC[markId]){return J.dC[markId];}else{return null;}};ViewerControl.prototype.getMarksByType=function(markType){var abJ=[];if(typeof markType!=="string"){throw "The parameter, markType, is not a String.";}aaJ(markType);if(!this.aX){return abJ;}var L=0;var da=this.cI.get_length();var J=this;function arQ(R){var T=J.dC[R.get_markID()];if(T&&T.getType().toLowerCase()===markType.toLowerCase()){abJ.push(T);}};for(L=0;L<da;L++){var bk=this.aX.gN(this.cI.getPage(L));if(bk){bk.forEachMark(arQ);}}return abJ;};ViewerControl.prototype.getAllMarks=function(){var CN=[];if(!this.aX){return CN;}var da=this.cI.get_length();var J=this;var L=0;var T;function Rm(R){var T=J.dC[R.get_markID()];if(typeof T!=='undefined'){CN.push(T);}};for(L=0;L<da;L++){var bk=this.aX.gN(this.cI.getPage(L));if(bk){bk.forEachMark(Rm);}}return CN;};function aaJ(markType){var fM;switch(markType.toLowerCase()){case "lineannotation":fM=IPCC.Web.UI.MarkType.Line;break;case "rectangleannotation":fM=IPCC.Web.UI.MarkType.Rectangle;break;case "ellipseannotation":fM=IPCC.Web.UI.MarkType.Ellipse;break;case "textannotation":fM=IPCC.Web.UI.MarkType.Text;break;case "stampannotation":fM=IPCC.Web.UI.MarkType.Stamp;break;case "highlightannotation":fM=IPCC.Web.UI.MarkType.HighlightText;break;case "texthyperlinkannotation":fM=IPCC.Web.UI.MarkType.TextHyperlinkAnnotation;break;case "freehandannotation":fM=IPCC.Web.UI.MarkType.Freehand;break;case "rectangleredaction":fM=IPCC.Web.UI.MarkType.RectangleRedaction;break;case "transparentrectangleredaction":fM=IPCC.Web.UI.MarkType.Rectangle;break;case "textredaction":fM=IPCC.Web.UI.MarkType.Text;break;case "stampredaction":fM=IPCC.Web.UI.MarkType.Stamp;break;case "freehandsignature":fM=IPCC.Web.UI.MarkType.SignaturePath;break;case "textsignature":fM=IPCC.Web.UI.MarkType.SignatureText;break;case "textinputsignature":fM=IPCC.Web.UI.MarkType.TextLine;break;case "textareasignature":fM=IPCC.Web.UI.MarkType.TextAreaSignature;break;case "textselectionredaction":fM=IPCC.Web.UI.MarkType.TextSelectionRedaction;break;case "imagestampannotation":fM=IPCC.Web.UI.MarkType.ImageStampAnnotation;break;case "imagestampredaction":fM=IPCC.Web.UI.MarkType.ImageStampRedaction;break;case "polylineannotation":fM=IPCC.Web.UI.MarkType.Polyline;break;case "strikethroughannotation":fM=IPCC.Web.UI.MarkType.Strikethrough;break;default:throw "The parameter, markType, does not specify a valid mark type.";}return fM;};ViewerControl.prototype.addMarkFromSearchResult=function(searchResult,markType){var J=this,gM;if(J.fL===false){throw "The method addMarkFromSearchResult is not available until 'ViewerReady' state is reached.";}if(!(searchResult instanceof PCCViewer.SearchResult)){throw new PCCViewer.Error("InvalidArgument","searchResult is not a valid instance of PCCViewer.SearchResult");}if([PCCViewer.Mark.Type.TextSelectionRedaction,PCCViewer.Mark.Type.HighlightAnnotation,PCCViewer.Mark.Type.TextHyperlinkAnnotation,PCCViewer.Mark.Type.StrikethroughAnnotation].indexOf(markType)=== -1){throw new PCCViewer.Error("InvalidArgument","The mark type must be: 'TextSelectionRedaction', 'HighlightAnnotation', 'TextHyperlinkAnnotation' or 'StrikethroughAnnotation'.");}if(searchResult.gM.width===0){var JZ=J.bP.cX.jE(0);gM={width:JZ.ki(),height:JZ.iy()};}else{gM=searchResult.gM;}var akk=IPCC.V.uF(new Date());var markInfo=[{conversation:{comments:[],data:{}},creationDateTime:akk,data:{},interactionMode:'Full',lineGroups:[{lines:searchResult.bE,pageData:gM,pageNumber:searchResult.pageNumber,startIndex:searchResult.startIndexInPage,textLength:searchResult.text.length}],modificationDateTime:akk,pageNumber:searchResult.pageNumber,pageData:gM,reason:"",selectedText:searchResult.text,startIndex:searchResult.startIndexInPage,textLength:searchResult.text.length,type:markType}];var OS=J.deserializeMarks(markInfo);return OS[0];};ViewerControl.prototype.addMark=function(pageNumber,markType){if(this.fL===false){throw "The method addMark is not available until 'ViewerReady' state is reached.";}var be;if(typeof(pageNumber)==='number'){be=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter, pageNumber, contains a value that is not a number.";}else{be=parseInt(pageNumber,10);}}if(be<1||be>this.cI.get_length()|| !isFinite(be)){throw "The specified page is out of range.";}if(typeof markType!=="string"){throw "The parameter, markType, is not a String.";}var T=this.ant(be,markType);return this.ahz(T);};ViewerControl.prototype.ant=function(be,ad,bI){var J=this;bI=bI||{};var fM=aaJ(ad);var R=new IPCC.Web.UI.Mark(fM);R.aP=be-1;var VZ={type:ad,igMark:R,pageNumber:be,uid:bI.uid,viewerControl:this};if(ad.toLowerCase()==="highlightannotation"||ad.toLowerCase()==="textselectionredaction"||ad.toLowerCase()==="strikethroughannotation"||ad.toLowerCase()==="texthyperlinkannotation"){VZ.cI=J.cI;VZ.aX=J.aX;}var T=new PCCViewer.Mark(VZ);return T;};ViewerControl.prototype.ahz=function(T){var J=this;if(J.ajy===true){J.ajy=false;}else{var uz=J.iC;J.iC=function(sender,eventArgs){J.iC=uz;if(J.rA){J.uT.addMarks(T);}setTimeout(function(){J.trigger('MarkCreated',{mark:T,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};}var bk=this.aX.gN(this.cI.getPage(T.be-1));bk.addMark(T.R);J.dC[T.R.get_markID()]=T;J.nK(T,T.be-1);return T;};ViewerControl.prototype.deleteMarks=function(marks){var J=this;var L=0;var T;if(!this.fL){throw "The method deleteMarks can not be used until 'ViewerReady' state is reached.";}function Qc(ob){var aP=ob.getPageNumber()-1;var ac='';var bx='';var Fd=aP;var bk=J.aX.gN(J.cI.getPage(aP));bk.removeMark(ob.R);if(J.dC[ob.getId()]){ac=ob.R.ac;bx=ob.getType();delete J.dC[ob.getId()];}var NA=bx.toLowerCase();if((NA==='highlightannotation'||NA==='textselectionredaction'||NA==='strikethroughannotation'||NA==='texthyperlinkannotation')&&(ob.dj&&ob.dj.length)){for(var L=0;L<ob.dj.length;L++){var mP=ob.dj[L];bk=J.aX.gN(J.cI.getPage(mP.aP));bk.removeMark(mP);J.nK(mP,mP.aP);}}J.mR.forEach(function(eO){if(eO.hasMark(ob.getId())){eO.removeMarks(ob);}});};if(marks instanceof Array){for(L=0;L<marks.length;L++){T=marks[L];if(!(T instanceof PCCViewer.Mark)){throw "The parameter, marks, contains an item that is not a Mark.";}if(!(J.dC[T.getId()])){throw "The parameter, marks, contains a Mark that is not on the document.";}}for(L=0;L<marks.length;L++){Qc(marks[L]);J.nK(marks[L],marks[L].getPageNumber()-1);}}else{if(marks instanceof PCCViewer.Mark){if(!(J.dC[marks.getId()])){throw "The parameter, marks, contains a Mark that is not on the document.";}Qc(marks);J.nK(marks,marks.getPageNumber()-1);}else{throw "The parameter, marks, is not an Array of Marks or a single Mark.";}}return this;};ViewerControl.prototype.deleteAllMarks=function(){var CN=this.getAllMarks();if(CN.length>0){return this.deleteMarks(CN);}return this;};ViewerControl.prototype.hideMarks=function(marks){ans(this,marks,false,'hideMarks');return this;};ViewerControl.prototype.showMarks=function(marks){ans(this,marks,true,'showMarks');return this;};function ans(bB,bq,wQ,aCG){var L=0;var T;if(!bB.fL){throw new PCCViewer.Error("InvalidArgument","The method "+aCG+" can not be used until 'ViewerReady' state is reached.");}if(bq instanceof Array){for(L=0;L<bq.length;L++){T=bq[L];if(!(T instanceof PCCViewer.Mark)){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains an item that is not a Mark.");}if(!(bB.dC[T.getId()])){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}}for(L=0;L<bq.length;L++){bq[L].setVisible(wQ);}}else{if(bq instanceof PCCViewer.Mark){if(!(bB.dC[bq.getId()])){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}bq.setVisible(wQ);}else{throw new PCCViewer.Error("InvalidArgument","The parameter, marks, is not an Array of Marks or a single Mark.");}}};function Ba(aCo,me){var la=false;var cS=me.aX.get_displayedPages();for(var L=0;L<cS.get_length();L++){var ap=cS.getPage(L);if(ap.get_pageNumber()===aCo){la=true;break;}}return la;};ViewerControl.prototype.moveMarkToFront=function(mark){var bk;var fY;if(!this.fL){throw "The method moveMarkToFront is not available until ViewerReady state is reached.";}if(mark instanceof PCCViewer.Mark){fY=mark.getPageNumber();if(mark.getPageNumber()>0){bk=this.aX.gN(this.cI.getPage(fY-1));}else{throw "The mark object has not been added to any page yet";}}else{throw "The parameter, mark object is not a PCCViewer.Mark object";}if(!mark.R){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(bk){if(mark.R instanceof IPCC.Web.UI.Mark){mark.R.moveToFront();if(Ba(fY-1,this)===true){var me=this;setTimeout(function(){me.aX.cF(fY-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};ViewerControl.prototype.moveMarkToBack=function(mark){var bk;var fY;if(!this.fL){throw "The method moveMarkToBack is not available until ViewerReady state is reached.";}if(!(mark instanceof PCCViewer.Mark)){throw "The parameter, mark object is not a PCCViewer.Mark object";}fY=mark.getPageNumber();if(fY>=1){bk=this.aX.gN(this.cI.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.R){throw "The parameter, mark may be a templateMark or has not been initialized";}if(bk){if(mark.R instanceof IPCC.Web.UI.Mark){mark.R.moveToBack();if(Ba(fY-1,this)===true){var me=this;setTimeout(function(){me.aX.cF(fY-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};ViewerControl.prototype.moveMarkForward=function(mark){var bk,fY;if(!this.fL){throw "The method moveMarkForward is not available until 'ViewerReady' state is reached.";}if(!(mark instanceof PCCViewer.Mark)){throw "The parameter, mark object is not a PCCViewer.Mark object";}fY=mark.getPageNumber();if(fY>=1){bk=this.aX.gN(this.cI.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.R){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(bk){if(mark.R instanceof IPCC.Web.UI.Mark){mark.R.moveForward();if(Ba(fY-1,this)===true){var me=this;setTimeout(function(){me.aX.cF(fY-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};ViewerControl.prototype.moveMarkBackward=function(mark){var bk,fY;if(!this.fL){throw "The method moveMarkBackward is not available until ViewerReady state is reached.";}if(!(mark instanceof PCCViewer.Mark)){throw "The parameter, mark object is not a PCCViewer.Mark object";}fY=mark.getPageNumber();if(fY>=1){bk=this.aX.gN(this.cI.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.R){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(bk){if(mark.R instanceof IPCC.Web.UI.Mark){mark.R.moveBackward();if(Ba(fY-1,this)===true){var me=this;setTimeout(function(){me.aX.cF(fY-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};ViewerControl.prototype.getSelectedMarks=function(){var bq=[];var Rv=[];if(this.fL===false){return bq;}var da=this.cI.get_length(),bk,fg;var J=this;function arz(Qz){if(Qz){var RZ=Qz.get_type();if(RZ===IPCC.Web.UI.MarkType.HighlightText||RZ===IPCC.Web.UI.MarkType.TextSelectionRedaction||RZ===IPCC.Web.UI.MarkType.Strikethrough||RZ===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation){for(var jA in J.dC){if(J.dC.hasOwnProperty(jA)){fg=J.dC[jA];if(Qz.ac===fg.R.ac){for(var L=0;L<Rv.length;L++){if(fg.R.ac===Rv[L]){return;}}Rv.push(fg.R.ac);break;}}}}else{fg=J.dC[Qz.get_markID()];}if(fg&&fg instanceof PCCViewer.Mark){bq.push(fg);}else{return bq;}}};for(var L=0;L<da;L++){bk=this.aX.gN(this.cI.getPage(L));if(bk){bk.get_selectedMarks().forEach(arz,{});}}return bq;};function acd(bq,aqF,me){var fg,L;function UY(gS){var la=false;var cS=me.aX.get_displayedPages();for(var L=0;L<cS.get_length();L++){var ap=cS.getPage(L);if(ap.get_pageNumber()===gS){la=true;break;}}return la;};if(!bq.length){return;}for(L=0;L<bq.length;L++){if(bq[L]instanceof PCCViewer.Mark){fg=me.dC[parseInt(bq[L].getId(),10)];if(fg&&fg instanceof PCCViewer.Mark){if(fg.R&&fg.R instanceof IPCC.Web.UI.Mark){if(fg.getId()!==fg.R.get_markID().toString()){throw "The mark ID does not match the ID of the mark loaded in the viewer";}}else{throw "The mark provided may not have been added to the document pages in the viewer";}}else{throw "The parameter, marks, contains a Mark that is not on the document.";}}else{throw "The mark provided in the position : "+(L+1)+" is invalid";}}var om=[];var un=false;for(L=0;L<bq.length;L++){fg=me.dC[parseInt(bq[L].getId(),10)];un=false;if(fg){if(fg.getId()===fg.R.get_markID().toString()){fg.R.set_selected(aqF);if(Array.prototype.IndexOf){un=(om.IndexOf(fg.getPageNumber())>=0);}else{un=(IPCC.Web.kA(om,fg.getPageNumber())>=0);}}if(!un){var cG=fg.getPageNumber();if(UY(cG-1)){om.push(cG);}}}}if(om.length>0){setTimeout(function(){for(L=0;L<om.length;L++){me.aX.cF(om[L]-1);}},1);}};ViewerControl.prototype.selectMarks=function(marks){if(this.fL===false){throw "The method selectMarks is not available until 'ViewerReady' state is reached.";}var bq=[];if(marks===undefined){return this;}if(marks&& !(marks instanceof Array)){if(marks instanceof PCCViewer.Mark){bq.push(marks);}}else{bq=marks;}if(bq.length===0){return this;}acd(bq,true,this);return this;};ViewerControl.prototype.deselectMarks=function(marks){if(this.fL===false){throw "The method deselectMarks is not available until 'ViewerReady' state is reached.";}var bq=[];if(marks===undefined){return this;}if(marks&& !(marks instanceof Array)){if(marks instanceof PCCViewer.Mark){bq.push(marks);}}else{bq=marks;}if(bq.length===0){return this;}acd(bq,false,this);return this;};ViewerControl.prototype.deselectAllMarks=function(){var om=[];var bq=this.getSelectedMarks();var un=false,L,fg;for(L=0;L<bq.length;L++){fg=this.dC[parseInt(bq[L].getId(),10)];un=false;if(fg){if(fg.getId()===fg.R.get_markID().toString()){fg.R.set_selected(false);if(Array.prototype.IndexOf){un=(om.IndexOf(fg.getPageNumber())>=0);}else{un=(IPCC.Web.kA(om,fg.getPageNumber())>=0);}}if(!un){var cG=fg.getPageNumber();if(Ba(cG-1,this)===true){om.push(cG);}}}}if(om.length>0){var me=this;setTimeout(function(){for(L=0;L<om.length;L++){me.aX.cF(om[L]-1);}},1);}return this;};ViewerControl.prototype.copyMarks=function(marks){var bB=this,OS;if(marks instanceof PCCViewer.Mark){marks=[marks];}if(marks instanceof Array===false){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, is not an Array of Marks or a single Mark.");}var bq=[];IPCC.V.forEach(marks,function(T){if(T instanceof PCCViewer.Mark){if(bB.dC[T.getId()]===undefined){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}bq.push(T);}else{throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains an item that is not a Mark.");}});var rz=[];IPCC.V.forEach(bq,function(T,aV){fJ[T.getType()]({mark:T},function(bg,ci){ci.uid=undefined;rz[aV]=ci;});});this.rA=false;OS=bB.deserializeMarks(rz);this.rA=true;return OS;};ViewerControl.prototype.enterTextMarkEditingMode=function(T){var bB=this,aX=this.aX;var aeJ=function(aas){var zZ=false,cS=aX.get_displayedPages();for(var L=0;L<cS.get_length();L++){var ap=cS.getPage(L);if(ap.get_pageNumber()===aas){zZ=true;}aX.pM(ap.get_pageNumber());}return zZ;};if(typeof T==="undefined"||T===null){aeJ(-1);}else{if(this.fL===false){throw PCCViewer.Error("ViewerNotReady","The method selectMarks is not available until 'ViewerReady' state is reached.");}if(!(T instanceof PCCViewer.Mark)){throw new PCCViewer.Error("InvalidArgument","The argument 'mark' must be an instance of PCCViewer.Mark.");}var aeI=this.dC[parseInt(T.getId(),10)];if(!(aeI&&aeI instanceof PCCViewer.Mark)){throw new PCCViewer.Error("InvalidArgument","The provided mark is not on the document.");}if(!(T.R&&T.R instanceof IPCC.Web.UI.Mark)){throw new PCCViewer.Error("InvalidArgument","The provided mark may not have been added to the document pages in the viewer");}if(T.getId()!==T.R.get_markID().toString()){throw new PCCViewer.Error("InvalidArgument","The mark ID does not match the ID of the mark loaded in the viewer");}var ad=T.getType();if(ad!==PCCViewer.Mark.Type.TextAnnotation&&ad!==PCCViewer.Mark.Type.TextRedaction&&ad!==PCCViewer.Mark.Type.TextInputSignature&&ad!==PCCViewer.Mark.Type.TextAreaSignature){throw new PCCViewer.Error("InvalidArgument","The mark type must be: 'TextAnnotation', 'TextRedaction', 'TextInputSignature', or 'TextAreaSignature'.");}var zZ=aeJ(T.getPageNumber()-1);if(zZ){bB.aX.vQ(T.getPageNumber()-1,T.R);}}return this;};ViewerControl.prototype.getCharacterIndex=function(sortableObject){if(this.fL===false){throw new Error("The getCharacterIndex method can not be used until 'ViewerReady' state is reached.");}var Fr= -1;var db;var aL;var be=0;if(sortableObject instanceof PCCViewer.Mark){if(sortableObject.getStartPoint){db=sortableObject.getStartPoint();}else{aL=(sortableObject.R)?sortableObject.R.get_boundingRectangle():sortableObject.getRectangle();db={x:aL.x,y:aL.y};}be=sortableObject.getPageNumber();}else if(sortableObject instanceof PCCViewer.SearchResult){return sortableObject.startIndexInPage;}else if(sortableObject!==undefined&&sortableObject!==null){if(typeof sortableObject.x==='number'&&typeof sortableObject.y==='number'){db={x: +sortableObject.x,y: +sortableObject.y};}else{if(isNaN(+sortableObject.x)||isNaN(+sortableObject.y)){throw new Error('The parameter sortableObject does not contain valid x and y values.');}else{db={x:Number(+sortableObject.x),y:Number(+sortableObject.y)};}}if(typeof sortableObject.pageNumber==='number'){be= +sortableObject.pageNumber;}else{if(isNaN(+sortableObject.pageNumber)){throw new Error('The parameter sortableObject does not contain a valid pageNumber value.');}else{be=Number(+sortableObject.pageNumber);}}}else{throw new Error('The sortableObject parameter must be a Mark, SearchResult, or Point.');}if(be<1||be>this.getPageCount()|| !isFinite(be)){throw new RangeError("The parameter pageNumber is out of range.");}if(!this.isPageTextReady(be)){return-2;}var ap=this.cI.getPage(be-1);var uj=ap.bY().XB();var gh=ap.bY().hc();function acO(bbox,point){if(point.x>bbox.x&&point.x<bbox.x+bbox.width&&point.y>bbox.y&&point.y<bbox.y+bbox.height){return true;}return false;};function alR(dK,fI){var aT=Math.max(Math.min(fI.x,dK.x+dK.width),dK.x);var dI=Math.max(Math.min(fI.y,dK.y+dK.height),dK.y);return(fI.x-aT)*(fI.x-aT)+(fI.y-dI)*(fI.y-dI);};var Ck;var Pg=Number.MAX_VALUE;for(var L=0;L<uj.eN();L++){var gE=uj.anX(L);if(acO(gE.ca(),db)){for(var aw=gE.ajD();aw<gE.ake();aw++){var Qs=gh.kB(aw);var rr=Qs.vo();if(acO(rr,db)){return aw;}Ck=alR(rr,db);if(Ck<Pg){Fr=aw;Pg=Ck;}}return Fr;}Ck=alR(gE.ca(),db);if(Ck<Pg){if(gE.ca().y>db.y){Fr=gE.ajD()-1;}else{Fr=gE.ake();}Pg=Ck;}}return Fr;};ViewerControl.prototype.getCurrentMouseTool=function(){return this.au.getName();};ViewerControl.prototype.setCurrentMouseTool=function(name){var J=this;if(this.fL===false){throw "The method setCurrentMouseTool is not available until 'ViewerReady' state is reached.";}var xj=name.toLowerCase();var au=PCCViewer.MouseTools.getMouseTool(xj);if(!au){throw new Error("The name argument for setCurrentMouseTool(name) must be the name of a known mouse tool.");}var hw,gD;switch(au.getType()){case PCCViewer.MouseTool.Type.Magnifier:hw=IPCC.Web.UI.MouseTool.Magnifier;break;case PCCViewer.MouseTool.Type.SelectToZoom:hw=IPCC.Web.UI.MouseTool.RectangleZoom;break;case PCCViewer.MouseTool.Type.PanAndEdit:case PCCViewer.MouseTool.Type.Pan:hw=IPCC.Web.UI.MouseTool.HandPan;break;case PCCViewer.MouseTool.Type.SelectText:hw=IPCC.Web.UI.MouseTool.SelectText;break;case PCCViewer.MouseTool.Type.EditMarks:hw=IPCC.Web.UI.MouseTool.EditMarks;break;case PCCViewer.MouseTool.Type.LineAnnotation:hw=IPCC.Web.UI.MouseTool.CreateLineMark;gD=aCk(au.getTemplateMark());break;case PCCViewer.MouseTool.Type.RectangleAnnotation:hw=IPCC.Web.UI.MouseTool.CreateRectangleMark;gD=aaA(au.getTemplateMark());break;case PCCViewer.MouseTool.Type.RectangleRedaction:hw=IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark;gD=ayr(au.getTemplateMark());break;case PCCViewer.MouseTool.Type.TransparentRectangleRedaction:hw=IPCC.Web.UI.MouseTool.CreateRectangleMark;gD=axL(au.getTemplateMark());break;case PCCViewer.MouseTool.Type.EllipseAnnotation:hw=IPCC.Web.UI.MouseTool.CreateEllipseMark;gD=aaA(au.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextAnnotation:hw=IPCC.Web.UI.MouseTool.CreateTextMark;gD=ayw(au.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextRedaction:hw=IPCC.Web.UI.MouseTool.CreateTextMark;gD=Vy(au.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextInputSignature:hw=IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark;gD=Vy(au.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextAreaSignature:hw=IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark;gD=Vy(au.getTemplateMark());break;case PCCViewer.MouseTool.Type.StampAnnotation:case PCCViewer.MouseTool.Type.StampRedaction:hw=IPCC.Web.UI.MouseTool.CreateStampMark;gD=ayg(au.getTemplateMark());break;case PCCViewer.MouseTool.Type.HighlightAnnotation:hw=IPCC.Web.UI.MouseTool.CreateHighlightTextMark;gD=JL(au.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextHyperlinkAnnotation:hw=IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark;gD=JL(au.getTemplateMark());break;case PCCViewer.MouseTool.Type.FreehandAnnotation:hw=IPCC.Web.UI.MouseTool.CreateFreehandMark;gD=aum(au.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextSelectionRedaction:hw=IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction;gD=JL(au.getTemplateMark());break;case PCCViewer.MouseTool.Type.PlaceSignature:var aow=this.bI.resourcePath+'/placeSignatureCursor.cur';this.aX.set_mouseTool(IPCC.Web.UI.MouseTool.None);this.aX.set_allowMarkEdits(false);this.aX.set_mouseCursor('url('+aow+'), pointer');this.au=au;return this;case PCCViewer.MouseTool.Type.ImageStampAnnotation:hw=IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark;gD=abj(au.getTemplateMark());break;case PCCViewer.MouseTool.Type.ImageStampRedaction:hw=IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark;gD=abj(au.getTemplateMark());break;case PCCViewer.MouseTool.Type.PolylineAnnotation:hw=IPCC.Web.UI.MouseTool.CreatePolylineMark;gD=avx(au.getTemplateMark());break;case PCCViewer.MouseTool.Type.StrikethroughAnnotation:hw=IPCC.Web.UI.MouseTool.CreateStrikethroughMark;gD=JL(au.getTemplateMark());break;default:throw new Error("An unexpected error occurred. The MouseTool type is not known.");}var api=this.aX.get_mouseTool();if(this.au!==au&&api===hw){setTimeout(function(){J.trigger(PCCViewer.EventType.MouseToolChanged,{mouseToolName:J.au.getName()});},0);}this.au=au;if(gD){this.Hj=gD.onCreating;this.iC=gD.onAdded;}else{this.Hj=undefined;this.iC=undefined;}this.aX.set_mouseTool(hw);this.aX.set_allowMarkEdits((au.getType()===PCCViewer.MouseTool.Type.PanAndEdit));return this;};function Xl(bB,TZ,lm){if(bB.AS!==true){var Gf=function(){bB.off('PageCountReady',Gf);Xl(bB,TZ,lm);};bB.on('PageCountReady',Gf);return;}var bQ=bB;var wi;var hM={},wF={},qS=[];var ho=bQ.fN;var kR;var bI;if(TZ){bI=TZ;}var acX=[];var VJ=bQ.bP.get_pages();var aqz=function(ap,done){var aIE=false;var jE=ap;var be=ap.get_pageNumber();var eJ=jE.get_pageWidth();var er=jE.get_pageHeight();try{if(jE){var gN=bQ.aX.gN(jE),Dw=0,Du=0,fw="",aGW=false;var getArt=function getArt(){var Mq;if(bI&&bI.Cw&&bI.Cw[be]){Mq=IPCC.V.extend({},bI);Mq.Cw=bI.Cw[be];}else{Mq=bI;}var aw,WU;var Jw=gN.aDa(be,Dw,Du,Mq);if(Jw.hM){hM[be]=Jw.hM;}else{var aBD=apS(be,kR,Du,Dw);hM[be]=aBD;}if(Jw.qS){for(aw=0;aw<Jw.qS.length;aw++){WU=Jw.qS[aw];wF[WU.ak.imageStampId]=WU;}}done();};if(gN){if(!eJ|| !er){if(gN.get_markCount()>0){bQ.aX.Mo(ap,function(ag,cq){Dw=ag;if(Dw){jE.RI(Dw);}Du=cq;if(Du){jE.QQ(Du);}getArt();},function(ov){done(ov);});}else{getArt();}}else{Dw=eJ;Du=er;getArt();}}else{done(new Error("No art page was found"));}}}catch(ex){done(new Error("Error while saving annotation, error:"+ex.message));}};VJ.forEach(function(ap,aM,iK){acX.push(function(done){aqz(ap,done);});});var XP=function(aS,ap){var wY="";var L;if(!aS.eY){if(aS.toString()){return aS.toString();}else{return '<![CDATA[]]>';}}if((ho===1||ap===0||(ap>0&&aS.eY!=="documentAnnotations"&&aS.eY!=="pages"))&&aS.eY!=="highlights"){wY='<'+aS.eY;for(var Ah in aS.ak){if(aS.ak.hasOwnProperty(Ah)){var ZE=aS.ak[Ah];if(ZE===undefined||ZE===null){continue;}var ak=ZE.toString();ak=ak.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;');wY=wY+' '+Ah+'="'+ak+'"';}}wY+='>';}for(L=0;L<aS.dO.length;L++){wY+=XP(aS.dO[L],ap);}if(ho===1||(ap===ho-1)||(ap!==ho-1&&aS.eY!=="documentAnnotations"&&aS.eY!=="pages"&&aS.eY!=="highlights")){if(aS.eY!=="highlights"){wY+='</'+aS.eY+'>';}else{wY+='<'+aS.eY+' />';}}return wY;};IPCC.V.aar(acX,function(bg){if(bg){lm(bg);return;}wi='<?xml version="1.0"?>';for(var L=0;L<(bQ.fN);L++){wi=wi+XP(hM[L],L);}var stampImageXml='';for(var FH in wF){if(wF.hasOwnProperty(FH)){stampImageXml+=XP(wF[FH],1);}}if(stampImageXml.length){var stampImagesXml='<stampImages>'+stampImageXml+'</stampImages></documentAnnotations>';wi=wi.replace('</documentAnnotations>',stampImagesXml);}lm(undefined,wi);});};ViewerControl.prototype.saveMarkup=function(recordName,options){var aW=PCCViewer.Deferred();var de=aW.getPromise();var bI;if(options){bI=options;}else{bI={includeAnnotations:true,includeRedactions:true,includeSignatures:false};}try{if(typeof recordName!=="string"){aW.reject(new PCCViewer.Error("InvalidArgument","The parameter, recordName, is not a String."));return de;}if(!arb(recordName)){aW.reject(new PCCViewer.Error("InvalidCharactersFilename",'Invalid characters in the annotations filename.'));return de;}var bQ=this;this.qH.then(function(qo){var By=recordName;Xl(bQ,bI,function(err,wi){if(err){aW.reject(new PCCViewer.Error("Error",err));return de;}var Qi=IPCC.hz.rR(By);var an;if(!(/^[\x00-\x7F]*$/.test(bQ.bP.get_documentIdentifier()))){an=bQ.bI.imageHandlerUrl+'/Document/q/Art/q?DocumentID=e'+bQ.bI.documentID+'&AnnotationID=e'+Qi;}else{an=bQ.bI.imageHandlerUrl+'/Document/q/Art/q?DocumentID=u'+encodeURIComponent(bQ.bI.documentID)+'&AnnotationID=u'+encodeURIComponent(By);}function fB(aA){aW.resolve(By);setTimeout(function(){bQ.trigger('MarkupSaved',{name:By});},0);};function fh(ah){aW.reject(new PCCViewer.Error("AjaxError","Status Code "+ah.response.status+" "+ah.response.statusText));};PCCViewer.Ajax.fa({method:'POST',url:an,headers:{'Content-Type':'application/xml;charset=utf-8'},body:wi}).then(fB,fh);});});}catch(e){aW.reject(new PCCViewer.Error("Error",e.message));}return de;};var arb=function(recordName){return!/[\\\/:*?"<>|\x00-\x1f]/.test(recordName);};var YZ=function(le){var aT=le.firstChild;while(aT.nodeType!==1){aT=aT.nextSibling;}return aT;};var apS=function(cG,kR,er,eJ){var hM={eY:'documentAnnotations',dO:[],ak:{}};var akf={eY:'pages',dO:[],ak:{}};hM.dO.push(akf);var mj={eY:'highlights',dO:[],ak:{}};var ap={eY:'page',dO:[],ak:{id:(cG+1).toString(),pageWidth:eJ,pageHeight:er}};hM.dO.push(mj);try{if(kR){var aT=kR.getElementsByTagName("documentAnnotations");if(aT.length>1){throw 'ERROR: Invalid PCC annotations XML';}var Nx;var EB;if(document.documentMode<9){var Vu=kR.firstChild.nodeName;if(Vu.toLowerCase()==='xml'){Nx=kR.firstChild.nextSibling;}else{Nx=kR.firstChild;}}else{Nx=kR.firstChild;}var cX=YZ(Nx);if(cX.nodeName!=='pages'){throw 'ERROR: Problem with pages node in the PCC annotations XML';}if(cX.hasChildNodes()){var L;var mF=false;for(L=0;L<cX.childNodes.length;L++){EB=cX.childNodes[L];if(EB.nodeName!=='page'){continue;}var zM=EB.getAttribute('id');mF=false;if(zM&&parseFloat(zM)===cG+1){mF=true;for(var aw=0;aw<EB.childNodes.length;aw++){var bC=EB.childNodes[aw];var aQ={eY:'annotation',dO:[],ak:{}};if(bC.nodeName!=='annotation'){continue;}var Qt=EB.childNodes[aw].attributes;if(Qt.length>0){for(var cE=0;cE<Qt.length;cE++){aQ.ak[Qt[cE].name]=Qt[cE].value;}}if(bC.childNodes[0].data){aQ.dO.push('<![CDATA['+bC.childNodes[0].data+']]>');}else{aQ.dO.push('');}ap.dO.push(aQ);}break;}}}}akf.dO.push(ap);return hM;}catch(e){throw(e.message);}};ViewerControl.prototype.loadMarkup=function(recordName,options){var Gq=recordName;var aW=PCCViewer.Deferred(),de=aW.getPromise(),bQ=this;var bI=options||{};var vu=bI.retainExistingMarks;var im=bI.markupLayer;var wZ=bI.loadAsHidden;this.qH.then(function(qo){var an,Qi,aX=bQ.aX,cI=bQ.cI;if(typeof Gq!=="string"){aW.reject(new PCCViewer.Error("InvalidArgument","The parameter, recordName, is not a String."));}if(vu!==undefined){if(typeof vu!=='boolean'){aW.reject(new PCCViewer.Error('InvalidArgument','The parameter `retainExistingMarks` must be a boolean value if it is specified.'));}}if(im!==undefined){if(!(im instanceof PCCViewer.MarkupLayer)){aW.reject(new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` must be an instance of PCCViewer.MarkupLayer if it is specified.'));}if(bQ.mR.getItem(im.getId())===undefined){aW.reject(new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` is a markup layer unknown to the viewer.'));}}function fB(aA){var ZJ,Lp=aA.responseText,KD;if(Lp.indexOf('xml')=== -1){aW.reject(new PCCViewer.Error("InvalidAnnotationRecord","Did not receive valid annotation record from web server."));return;}Lp=Lp.replace(/(comment\s+text=")((?:.|[\r\n])*?)("\s+created=")/g,function(match,p1,p2,p3){return p1+IPCC.V.nL(p2)+p3;});if(window.DOMParser){KD=function(xmlStr){return(new window.DOMParser()).parseFromString(xmlStr,"text/xml");};}else if(typeof window.ActiveXObject!=="undefined"&&new window.ActiveXObject("Microsoft.XMLDOM")){KD=function(xmlStr){var xmlDoc=new window.ActiveXObject("Microsoft.XMLDOM");xmlDoc.async="false";xmlDoc.loadXML(xmlStr);return xmlDoc;};}else{KD=function(){return null;};}ZJ=KD(Lp);var aiy=ZJ.getElementsByTagName('stampImage');var qS={};var XK=function(aV){T.bF.push(ajw.getPoint(aV));};for(var L=0;L<aiy.length;L++){var Vg=aiy[L];qS[Vg.getAttribute('imageStampId')]={imageStampId:Vg.getAttribute('imageStampId'),base64format:Vg.getAttribute('base64format')};}aX.set_annotationXmlDom(ZJ,qS,vu===true,wZ===true);if(vu!==true){bQ.dC={};}var da=bQ.cI.get_length();var T;var ad,fM;var ya={};var Jy=[];for(L=0;L<da;L++){var bk=bQ.aX.gN(bQ.cI.getPage(L));if(bk){var DZ={};var aw=0;for(aw=0;aw<bk.get_markCount();aw++){var R=bk.getMark(aw);if(bQ.dC[R.get_markID()]!==undefined){continue;}fM=R.get_type();switch(fM){case IPCC.Web.UI.MarkType.Rectangle:if(R.kF()===true){if(R.get_opacity()===255){ad=PCCViewer.Mark.Type.RectangleRedaction;}else{ad=PCCViewer.Mark.Type.TransparentRectangleRedaction;}T=new PCCViewer.Mark({type:ad,igMark:R,pageNumber:L+1,uid:R.ak.lB});}else{ad=PCCViewer.Mark.Type.RectangleAnnotation;T=new PCCViewer.Mark({type:ad,igMark:R,pageNumber:L+1,uid:R.ak.lB});T.nv=R.get_lineWidth();T.dJ=R.get_fillColor();T.oq=R.get_lineColor();T.di=R.get_opacity();}break;case IPCC.Web.UI.MarkType.Ellipse:ad=PCCViewer.Mark.Type.EllipseAnnotation;T=new PCCViewer.Mark({type:ad,igMark:R,pageNumber:L+1,uid:R.ak.lB});T.nv=R.get_lineWidth();T.dJ=R.get_fillColor();T.oq=R.get_lineColor();T.di=R.get_opacity();break;case IPCC.Web.UI.MarkType.Line:ad=PCCViewer.Mark.Type.LineAnnotation;T=new PCCViewer.Mark({type:ad,igMark:R,pageNumber:L+1,uid:R.ak.lB});T.nC=R.get_lineWidth();T.dG=R.get_lineColor();T.di=R.get_opacity();if(R.get_endHeadType()===IPCC.Web.UI.LineHeadType.Solid){T.mW="FilledTriangle";}else{T.mW="None";}break;case IPCC.Web.UI.MarkType.Stamp:if(R.kF()===true){ad=PCCViewer.Mark.Type.StampRedaction;T=new PCCViewer.Mark({type:ad,igMark:R,pageNumber:L+1,uid:R.ak.lB});}else{ad=PCCViewer.Mark.Type.StampAnnotation;T=new PCCViewer.Mark({type:ad,igMark:R,pageNumber:L+1,uid:R.ak.lB});T.dG=R.get_fillColor();}T.uM=R.get_text();break;case IPCC.Web.UI.MarkType.Text:if(R.kF()===true){ad=PCCViewer.Mark.Type.TextRedaction;T=new PCCViewer.Mark({type:ad,igMark:R,pageNumber:L+1,uid:R.ak.lB});}else{ad=PCCViewer.Mark.Type.TextAnnotation;T=new PCCViewer.Mark({type:ad,igMark:R,pageNumber:L+1,uid:R.ak.lB});T.nv=R.get_lineWidth();T.dJ=R.get_fillColor();T.oq=R.get_lineColor();T.di=R.get_opacity();}T.hf=R.get_maxLength();T.gI=R.get_fontName();T.fP=R.get_textColor();T.dh=R.get_fontSize();var cJ=R.get_fontStyle();var pZ=[];if((cJ&IPCC.Web.UI.FontStyle.Bold)===IPCC.Web.UI.FontStyle.Bold){pZ.push("Bold");}if((cJ&IPCC.Web.UI.FontStyle.Italic)===IPCC.Web.UI.FontStyle.Italic){pZ.push("Italic");}if((cJ&IPCC.Web.UI.FontStyle.Strikeout)===IPCC.Web.UI.FontStyle.Strikeout){pZ.push("Strikeout");}if((cJ&IPCC.Web.UI.FontStyle.Underline)===IPCC.Web.UI.FontStyle.Underline){pZ.push("Underline");}T.cJ=pZ;var qP;switch(R.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:qP="center";break;case IPCC.Web.UI.HorizontalAlignment.Left:qP="left";break;case IPCC.Web.UI.HorizontalAlignment.Right:qP="right";break;}T.ma=qP;break;case IPCC.Web.UI.MarkType.TextAreaSignature:ad=PCCViewer.Mark.Type.TextAreaSignature;T=new PCCViewer.Mark({type:ad,igMark:R,pageNumber:L+1,uid:R.ak.lB});T.nv=R.get_lineWidth();T.hf=R.get_maxLength();T.gI=R.get_fontName();T.fP=R.get_textColor();T.hN=R.get_maxFontSize();cJ=R.get_fontStyle();pZ=[];if((cJ&IPCC.Web.UI.FontStyle.Bold)===IPCC.Web.UI.FontStyle.Bold){pZ.push("Bold");}if((cJ&IPCC.Web.UI.FontStyle.Italic)===IPCC.Web.UI.FontStyle.Italic){pZ.push("Italic");}if((cJ&IPCC.Web.UI.FontStyle.Strikeout)===IPCC.Web.UI.FontStyle.Strikeout){pZ.push("Strikeout");}if((cJ&IPCC.Web.UI.FontStyle.Underline)===IPCC.Web.UI.FontStyle.Underline){pZ.push("Underline");}T.cJ=pZ;switch(R.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:qP="center";break;case IPCC.Web.UI.HorizontalAlignment.Left:qP="left";break;case IPCC.Web.UI.HorizontalAlignment.Right:qP="right";break;}T.ma=qP;break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:ad=(fM===IPCC.Web.UI.MarkType.HighlightText)?PCCViewer.Mark.Type.HighlightAnnotation:(fM===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)?PCCViewer.Mark.Type.TextHyperlinkAnnotation:(fM===IPCC.Web.UI.MarkType.Strikethrough)?PCCViewer.Mark.Type.StrikethroughAnnotation:PCCViewer.Mark.Type.TextSelectionRedaction;var Yd=R.ac;if(typeof ya[Yd]==='undefined'){T=new PCCViewer.Mark({type:ad,igMark:R,pageNumber:L+1,cI:cI,aX:aX,uid:R.ak.lB});T.dj=[];if(ad===PCCViewer.Mark.Type.HighlightAnnotation){T.dJ=R.get_fillColor();}ya[Yd]=T;R.aP=L;R.ky=true;}else{R.aP=L;ya[Yd].dj.push(R);}break;case IPCC.Web.UI.MarkType.Freehand:ad=PCCViewer.Mark.Type.FreehandAnnotation;T=new PCCViewer.Mark({type:ad,igMark:R,pageNumber:L+1,uid:R.ak.lB});T.nC=R.get_lineWidth();T.dG=R.get_lineColor();T.di=R.get_opacity();break;case IPCC.Web.UI.MarkType.SignaturePath:ad=PCCViewer.Mark.Type.FreehandSignature;T=new PCCViewer.Mark({type:ad,igMark:R,pageNumber:L+1,uid:R.ak.lB});T.nC=R.get_lineWidth();T.dG=R.get_lineColor();break;case IPCC.Web.UI.MarkType.SignatureText:ad=PCCViewer.Mark.Type.TextSignature;T=new PCCViewer.Mark({type:ad,igMark:R,pageNumber:L+1,uid:R.ak.lB});T.gI=R.get_fontName();T.dG=R.get_fillColor();T.bp=R.get_text();break;case IPCC.Web.UI.MarkType.TextLine:ad=PCCViewer.Mark.Type.TextInputSignature;T=new PCCViewer.Mark({type:ad,igMark:R,pageNumber:L+1,uid:R.ak.lB});T.gI=R.get_fontName();T.fP=R.get_textColor();T.bp=R.get_text();T.hf=R.get_maxLength();T.jn=R.get_mask();break;case IPCC.Web.UI.MarkType.RectangleRedaction:if(!R.ac){ad=PCCViewer.Mark.Type.RectangleRedaction;T=new PCCViewer.Mark({type:ad,igMark:R,pageNumber:L+1,cI:cI,aX:aX,uid:R.ak.lB});T.nv=R.get_lineWidth();T.dJ=R.get_fillColor();T.oq=R.get_lineColor();T.di=R.get_opacity();}else{if(DZ[R.ac]===undefined){DZ[R.ac]=[];}DZ[R.ac].push(R);}break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:ad=(fM===IPCC.Web.UI.MarkType.ImageStampAnnotation)?PCCViewer.Mark.Type.ImageStampAnnotation:PCCViewer.Mark.Type.ImageStampRedaction;T=new PCCViewer.Mark({type:ad,igMark:R,pageNumber:L+1,uid:R.ak.lB});T.setImage({dataUrl:R.get_image(),id:R.rf});break;case IPCC.Web.UI.MarkType.Polyline:ad=PCCViewer.Mark.Type.PolylineAnnotation;T=new PCCViewer.Mark({type:ad,igMark:R,pageNumber:L+1,uid:R.ak.lB});T.nC=R.get_lineWidth();T.dG=R.get_lineColor();T.di=R.get_opacity();var ajw=R.get_points();T.bF=[];for(var bD=0;bD<ajw.get_length();bD++){XK(bD);}break;default:T=undefined;continue;}if(typeof T!=='undefined'&&fM!==IPCC.Web.UI.MarkType.HighlightText&& !(fM===IPCC.Web.UI.MarkType.RectangleRedaction&&R.ac!==undefined)&&fM!==IPCC.Web.UI.MarkType.TextSelectionRedaction&&fM!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation&&fM!==IPCC.Web.UI.MarkType.Strikethrough){bQ.dC[R.get_markID()]=T;Jy.push(T);}}for(var LX in DZ){if(DZ.hasOwnProperty(LX)&&ya[LX]){var DE=ya[LX];var adC=DE.R;if(DE.dj&&DE.dj.length>0){for(var Lt=0;Lt<DE.dj.length;Lt++){if(DE.dj[Lt].aP===L){adC=DE.dj[Lt];}}}var bE=DZ[LX];for(var Sc=0;Sc<bE.length;Sc++){adC.bE.push(bE[Sc]);}}}}}for(var ny in ya){if(ya.hasOwnProperty(ny)){var xy=ya[ny];bQ.dC[xy.R.get_markID()]=xy;Jy.push(xy);if(xy.dj&&xy.dj.length>0){xy.dj[xy.dj.length-1].ll=true;}else{xy.R.ll=true;}}}aW.resolve(Gq);if(im!==undefined){im.addMarks(Jy);}else{bQ.getActiveMarkupLayer().addMarks(Jy);}bQ.trigger('MarkupLoaded',{name:Gq,loadedMarks:Jy});};function fh(ah){aW.reject(new PCCViewer.Error("Error","Status Code "+ah.response.status+" "+ah.response.statusText));};Qi=IPCC.hz.rR(Gq);if(!(/^[\x00-\x7F]*$/.test(bQ.bP.get_documentIdentifier()))){an=bQ.bI.imageHandlerUrl+'/Document/q/Art/q?DocumentID=e'+bQ.bI.documentID+'&AnnotationID=e'+Qi;}else{an=bQ.bI.imageHandlerUrl+'/Document/q/Art/q?DocumentID=u'+encodeURIComponent(bQ.bI.documentID)+'&AnnotationID=u'+encodeURIComponent(Gq);}PCCViewer.Ajax.fa({method:'GET',url:an,headers:{'Content-Type':'application/x-www-form-urlencoded'}}).then(fB,fh);});return de;};function alU(context,message){var km=document.createElement('div'),CO=document.createElement('div'),mQ=document.createElement('button'),TP=function(){km.classList.add('open');},My=function(){if(km.parentNode!==null){km.parentNode.removeChild(km);}};mQ.innerHTML='&#215;';mQ.setAttribute('type','button');CO.innerHTML='<p>PrizmDoc Viewer is running in evaluation mode with a fixed feature set. <b>'+message+'</b>';km.className='pccPageListNagModal';km.appendChild(mQ);km.appendChild(CO);context.dR.appendChild(km);TP();if(!mQ.addEventListener){mQ.attachEvent('onclick',My);}else{mQ.addEventListener('click',My,false);}};ViewerControl.prototype.getSavedMarkupNames=function(){var aW=PCCViewer.Deferred();var de=aW.getPromise();var J=this;try{var L=0,Hq=0;var By='';var an=this.bI.imageHandlerUrl+'/AnnotationList/q/Art/q?DocumentID=u'+encodeURIComponent(this.bI.documentID)+'&AnnotationID=u'+encodeURIComponent(By);var fB=function(aA){var sl;if(typeof aA.responseText!=='unknown'&&aA.responseText.length>0){try{sl=JSON.parse(aA.responseText);}catch(e){}}var Zt=[],Hq=0;for(var L=0,cj=sl.annotationFiles.length;L<cj;L++){if(sl.annotationFiles[L].annotationLabel){Zt[Hq]={};Zt[Hq].name=sl.annotationFiles[L].annotationLabel;Hq++;}}aW.resolve(Zt);};var fh=function(ah){var error=new PCCViewer.Error("MarkupListFail","Unable to retrieve markup list from server.");if(ah&&ah.response){var je=ah.response.status;var md;try{md=JSON.parse(ah.response.responseText);}catch(e){}if(je===480&&md&&md.errorCode==='LicenseCouldNotBeVerified'){alU(J,'Loading annotations is disabled in evaluation mode.');error=new PCCViewer.Error(md.errorCode,"License error.");}}aW.reject(error);};PCCViewer.Ajax.fa({method:'GET',url:an}).then(fB,fh);}catch(e){aW.reject(new PCCViewer.Error("Error",e.message));}return de;};ViewerControl.prototype.getMarkupLayerCollection=function(){if(!this.mR){this.mR=new PCCViewer.MarkupLayerCollection(this);}return this.mR;};ViewerControl.prototype.requestMarkupLayerNames=function(metadata){var aW=PCCViewer.Deferred(),de=aW.getPromise(),an,avF=function(obj){var parts=[];for(var key in obj){if(obj.hasOwnProperty(key)&&(typeof obj[key]==='string'||typeof obj[key]==='boolean'||typeof obj[key]==='number')){parts.push(encodeURIComponent(key)+'='+encodeURIComponent(obj[key]));}}return "?"+parts.join('&');};if(!(/^[\x00-\x7F]*$/.test(this.bP.get_documentIdentifier()))){an=this.bI.imageHandlerUrl+'/MarkupLayers/e'+this.bI.documentID+'/';}else{an=this.bI.imageHandlerUrl+'/MarkupLayers/u'+encodeURIComponent(this.bI.documentID)+'/';}if(metadata){var aAT=avF(metadata);an+=aAT;}an+='?nocache='+new Date().getTime();PCCViewer.Ajax.fa({url:an,method:'GET'}).then(function fB(aA){var aDM=JSON.parse(aA.responseText);aW.resolve(aDM);},function fh(ah){aW.reject(ah.error);});return de;};ViewerControl.prototype.getActiveMarkupLayer=function(){return this.uT;};ViewerControl.prototype.setActiveMarkupLayer=function(markupLayer){if(!(markupLayer instanceof PCCViewer.MarkupLayer)){throw new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` must be an instance of PCCViewer.MarkupLayer.');}if(this.mR.getItem(markupLayer.getId())===undefined){throw new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` is a markup layer unknown to the viewer.');}this.uT=markupLayer;};ViewerControl.prototype.loadMarkupLayers=function(layerRecordIds,options){var Wk,J=this;Wk=new PCCViewer.LoadMarkupLayersRequest(layerRecordIds,this,options||{});function vV(){setTimeout(function(){Wk.EG();},20);};function mA(){J.off(PCCViewer.EventType.PageCountReady,mA);vV();};if(this.mv===false){J.on(PCCViewer.EventType.PageCountReady,mA);}else{vV();}return Wk;};ViewerControl.prototype.saveMarkupLayer=function(id){var aW=PCCViewer.Deferred();var de=aW.getPromise();var J=this;if(typeof id!=='string'|| !id){aW.reject(new PCCViewer.Error('InvalidArgument','The parameter `id` is not a string.'));return de;}var eO=this.mR?this.mR.getItem(id):undefined;if(!eO){aW.reject(new PCCViewer.Error('UnknownLayerRecord','The layer record '+id+' is not known to ViewerControl'));return de;}function azU(oj){var NY=eO.getMarks();if(!NY.length){oj(undefined,[]);}else{J.serializeMarks(NY).then(function he(bq){oj(undefined,IPCC.V.map(bq,function(T){if(T.conversation&&T.conversation.comments){delete T.conversation.comments;}return T;}));},function _f(fw){oj(fw);});}};function aAk(oj){var NY=eO.getMarks();var abU=function(fs,gK,lo){var UV=IPCC.V.filter(gK,function(nT){return!nT.im||nT.im===eO;});IPCC.V.forEach(UV,function(cA){var az=fJ.Comment(cA);az.markUid=lo;fs.push(az);});return fs;};var Ui=IPCC.V.reduce(NY,function(fs,T){var dP=T.getConversation();var gK=dP.getComments();return gK.length?abU(fs,gK,T.getUid()):fs;},[]);oj(undefined,Ui);};function aAn(oj){var aut=IPCC.V.reduce(J.mR.getAll(),function(fs,ahd){return fs.concat(eO===ahd?[]:ahd.getMarks());},[]);var abU=function(fs,gK,lo){var UV=IPCC.V.filter(gK,function(nT){return nT.im===eO;});IPCC.V.forEach(UV,function(nT){var az=fJ.Comment(nT);az.markUid=lo;fs.push(az);});return fs;};var Ui=IPCC.V.reduce(aut,function(fs,T){var dP=T.getConversation();var gK=dP.getComments();return gK.length?abU(fs,gK,T.getUid()):fs;},[]);oj(undefined,Ui);};var adE=[],aBu=function(pg){if(pg.markupLayer===eO){adE.push({text:pg.text,data:pg.data,creationDateTime:pg.creationDateTime,markUid:pg.markUid});}};for(var aey in this.mR.iB){if(this.mR.iB.hasOwnProperty(aey)){IPCC.V.forEach(this.mR.iB[aey],aBu);}}var zY={layerRecordId:eO.getRecordId(),name:eO.getName(),originalXmlName:eO.getOriginalXmlName(),comments:adE,data:fJ.Data(eO)};var yh;IPCC.V.aar([function(lH){azU(function(bg,ci){if(bg&& !yh){yh=bg;}else{zY.marks=ci;}lH();});},function(lH){aAk(function(bg,ci){if(bg&& !yh){yh=bg;}else{zY.comments=zY.comments.concat(ci);}lH();});},function(lH){aAn(function(bg,ci){if(bg&& !yh){yh=bg;}else{zY.comments=zY.comments.concat(ci);}lH();});}],function(){if(!yh){aAH(zY);}else{aW.reject(new PCCViewer.Error('SerializationError',yh.message));}});function aAH(aHn){var xH,hj={method:'POST',body:JSON.stringify(zY),headers:{'Content-Type':'application/json;charset=utf-8'}};if(!(/^[\x00-\x7F]*$/.test(J.bP.get_documentIdentifier()))){xH=J.bI.imageHandlerUrl+'/MarkupLayers/e'+J.bI.documentID+'/';}else{xH=J.bI.imageHandlerUrl+'/MarkupLayers/u'+encodeURIComponent(J.bI.documentID)+'/';}if(eO.getRecordId()){hj.url=xH+eO.getRecordId();hj.headers['X-HTTP-Method-Override']='PUT';}else{hj.url=xH;}PCCViewer.Ajax.fa(hj).then(fB,fh);};function fB(aA){if(aA.responseText&&typeof aA.responseText==='string'){var md;try{md=JSON.parse(aA.responseText);}catch(e){}if(md&&md.layerRecordId){eO.Vf=md.layerRecordId;}}aW.resolve({layerRecordId:eO.getRecordId()});};function fh(ah){var error=new PCCViewer.Error("AjaxError",ah.error.message||'An unknown server error occurred.');if(ah&&ah.response){var je=ah.response.status;var md;try{md=JSON.parse(ah.response.responseText);}catch(e){}if(je===480&&md&&md.errorCode==='LicenseCouldNotBeVerified'){alU(J,'Saving annotations is disabled in evaluation mode.');error=new PCCViewer.Error(md.errorCode,'License error.');}}aW.reject(error);};return de;};ViewerControl.prototype.burnMarkup=function(burnOptions){var lF={burnSignatures:true,burnRedactions:true,burnAnnotations:false};var Jt;var adl;var Wb;var aGO=false;if(burnOptions){if(typeof burnOptions.marks==='object'){if(burnOptions.marks instanceof PCCViewer.Mark){Jt=[burnOptions.marks];}else if(burnOptions.marks instanceof Array){Jt=burnOptions.marks;}lF={marks:Jt};}else{lF.burnSignatures=(burnOptions.burnSignatures!==undefined)? ! !burnOptions.burnSignatures:lF.burnSignatures;lF.burnRedactions=(burnOptions.burnRedactions!==undefined)? ! !burnOptions.burnRedactions:lF.burnRedactions;lF.burnAnnotations=(burnOptions.burnAnnotations!==undefined)? ! !burnOptions.burnAnnotations:lF.burnAnnotations;}if(typeof burnOptions.filename==='string'){lF.filename=burnOptions.filename;}if(burnOptions.removeFormFields!==undefined){if(burnOptions.removeFormFields instanceof Array){if(burnOptions.removeFormFields.length>0){var Pf,Ia=true;for(Pf=0;Pf<burnOptions.removeFormFields.length;Pf++){if(burnOptions.removeFormFields[Pf]!=='acroform'){Ia=false;}}if(Ia){lF.removeFormFields=['acroform'];}else{lF.ov={code:'InvalidArgument',message:'The burnOptions.removeFormFields parameter contains an invalid form type.'};}}else{lF.ov={code:'InvalidArgument',message:'The burnOptions.removeFormFields parameter must specify a valid form type.'};}}else{lF.ov={code:'InvalidArgument',message:'The burnOptions.removeFormFields parameter must be an Array if defined.'};}}}var yH=new PCCViewer.BurnRequest(lF),J=this;if(Jt){var fk=[];for(var L=0,cj=this.getPageCount();L<cj;L++){fk[L]=[];}fk=IPCC.V.reduce(Jt,function(bq,bJ){var be=bJ.getPageNumber()-1;if(!(typeof bJ==='object'&&bJ instanceof PCCViewer.Mark&&bJ.R)){yH.Yf(new Error('The burnOptions.marks parameter is an invalid object.'));return bq;}if(!J.getMarkById(bJ.cR)){yH.Yf(new Error('The burnOptions.marks parameter contains a mark not known to Viewer Control.'));return bq;}bq[be].push(bJ.R);if(bJ.R.bE){for(var L=0,cj=bJ.R.bE.length;L<cj;L++){if(bJ.R.bE[L]instanceof IPCC.Web.UI.Mark){bq[be].push(bJ.R.bE[L]);}}}if(bJ.dj){for(var aw=0,aFm=bJ.dj.length;aw<aFm;aw++){bq[be+1+aw].push(bJ.dj[aw]);if(bJ.dj[aw].bE){for(var cE=0,aFl=bJ.dj[aw].bE.length;cE<aFl;cE++){if(bJ.dj[aw].bE[cE]instanceof IPCC.Web.UI.Mark){bq[be+1+aw].push(bJ.dj[aw].bE[cE]);}}}}}return bq;},fk);Wb={Cw:fk,tx:true};}else{Wb={includeAnnotations:lF.burnAnnotations,includeRedactions:lF.burnRedactions,includeSignatures:lF.burnSignatures,tx:true};}function afE(){Xl(J,Wb,function(bg,adl){if(bg){setTimeout(function(){yH.Yf(bg);},20);}else{yH.RH({bP:J.bP,bI:J.bI});yH.aEd(adl);setTimeout(function(){yH.EG();},20);}});};function mA(){J.off(PCCViewer.EventType.PageCountReady,mA);afE();};if(this.mv===false){J.on(PCCViewer.EventType.PageCountReady,mA);}else{afE();}return yH;};ViewerControl.prototype.convertDocument=function(St){var wl,J=this,AK={targetExtension:'pdf',filename:'document'},bI={};sM.rH(bI,AK,St);bI.Ac=1;wl=new PCCViewer.ConversionRequest(bI);function vV(){wl.RH({bP:J.bP,bI:J.bI});setTimeout(function(){wl.EG(bI);},20);};function mA(){J.off(PCCViewer.EventType.PageCountReady,mA);vV();};if(this.mv===false){J.on(PCCViewer.EventType.PageCountReady,mA);}else{vV();}return wl;};ViewerControl.prototype.requestDocumentConversion=function(St){var wl,J=this,AK={targetExtension:'pdf',filename:'document'},bI={};sM.rH(bI,AK,St);bI.Ac=2;wl=new PCCViewer.ConversionRequest(bI);function vV(){wl.RH({bP:J.bP,bI:J.bI});setTimeout(function(){wl.EG(bI);},20);};function mA(){J.off(PCCViewer.EventType.PageCountReady,mA);vV();};if(this.mv===false){J.on(PCCViewer.EventType.PageCountReady,mA);}else{vV();}return wl;};ViewerControl.prototype.loadAttachments=function(){var aW=PCCViewer.Deferred();var de=aW.getPromise();try{var L=0,Hq=0;var By='';var an=this.bI.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(this.bI.documentID)+'/Attachments';var awC=function(aA){var GY=JSON.parse(aA.responseText);if(GY===null||GY.status!=='complete'){setTimeout(aik,500);return;}aW.resolve(GY.attachments||[]);};var fh=function(ah){aW.reject(new PCCViewer.Error("AttachmentListFail","Unable to retrieve attachment list from server."));};var aik=function(){PCCViewer.Ajax.fa({method:'GET',url:an}).then(awC,fh);};aik();}catch(e){aW.reject(new PCCViewer.Error("Error",e.message));}return de;};function rK(){return function(sender,eventArgs){var J=this;var T=J.dC[eventArgs.mark.get_markID()];if(J.rA){J.uT.addMarks(T);}setTimeout(function(){if(T){J.trigger('MarkCreated',{mark:T,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});}},0);};};function aCk(bi){return{onCreating:function(ax,G){var T=new PCCViewer.Mark({type:bi.getType(),igMark:G.mark,pageNumber:G.pageIndex+1});this.dC[G.mark.get_markID()]=T;T.setThickness(bi.getThickness());T.setColor(bi.getColor());T.setOpacity(bi.getOpacity());T.setEndHeadType(bi.getEndHeadType());PCCViewer.Data.oA(bi,T);PCCViewer.Conversation.qE(bi.getConversation(),T.getConversation());},onAdded:rK()};};function aaA(bi){return{onCreating:function(ax,G){var T=new PCCViewer.Mark({type:bi.getType(),igMark:G.mark,pageNumber:G.pageIndex+1});this.dC[G.mark.get_markID()]=T;T.setBorderThickness(bi.getBorderThickness());T.setFillColor(bi.getFillColor());T.setBorderColor(bi.getBorderColor());T.setOpacity(bi.getOpacity());PCCViewer.Data.oA(bi,T);PCCViewer.Conversation.qE(bi.getConversation(),T.getConversation());},onAdded:rK()};};function axL(bi){return{onCreating:function(ax,G){var T=new PCCViewer.Mark({type:bi.getType(),igMark:G.mark,pageNumber:G.pageIndex+1});this.dC[G.mark.get_markID()]=T;},onAdded:rK()};};function ayr(bi){return{onCreating:function(ax,G){var T=new PCCViewer.Mark({type:bi.getType(),igMark:G.mark,pageNumber:G.pageIndex+1});this.dC[G.mark.get_markID()]=T;T.setReason(bi.getReason());T.setBorderThickness(bi.getBorderThickness());T.setFillColor(bi.getFillColor());T.setBorderColor(bi.getBorderColor());T.setFontColor(bi.getFontColor());PCCViewer.Data.oA(bi,T);PCCViewer.Conversation.qE(bi.getConversation(),T.getConversation());},onAdded:rK()};};function ayw(bi){return{onCreating:function(ax,G){var T=new PCCViewer.Mark({type:bi.getType(),igMark:G.mark,pageNumber:G.pageIndex+1});this.dC[G.mark.get_markID()]=T;T.setBorderThickness(bi.getBorderThickness());T.setFillColor(bi.getFillColor());T.setBorderColor(bi.getBorderColor());T.setOpacity(bi.getOpacity());T.setFontName(bi.getFontName());T.setFontColor(bi.getFontColor());T.setFontSize(bi.getFontSize());T.setFontStyle(bi.getFontStyle());T.setHorizontalAlignment(bi.getHorizontalAlignment());PCCViewer.Data.oA(bi,T);PCCViewer.Conversation.qE(bi.getConversation(),T.getConversation());},onAdded:rK()};};function Vy(bi){return{onCreating:function(ax,G){var T=new PCCViewer.Mark({type:bi.getType(),igMark:G.mark,pageNumber:G.pageIndex+1});this.dC[G.mark.get_markID()]=T;T.setFontName(bi.getFontName());T.setFontColor(bi.getFontColor());T.setText(bi.getText());if(T.setFontSize){T.setFontSize(bi.getFontSize());}PCCViewer.Data.oA(bi,T);PCCViewer.Conversation.qE(bi.getConversation(),T.getConversation());},onAdded:rK()};};function ayg(bi){return{onCreating:function(ax,G){var T=new PCCViewer.Mark({type:bi.getType(),igMark:G.mark,pageNumber:G.pageIndex+1});this.dC[G.mark.get_markID()]=T;if(bi.getType()===PCCViewer.MouseTool.Type.StampAnnotation){T.setColor(bi.getColor());}T.setLabel(bi.getLabel());PCCViewer.Data.oA(bi,T);PCCViewer.Conversation.qE(bi.getConversation(),T.getConversation());},onAdded:rK()};};var aFn;function JL(bi){return{onCreating:function(ax,G){},onAdded:rK()};};function aum(bi){return{onCreating:function(ax,G){var T=new PCCViewer.Mark({type:bi.getType(),igMark:G.mark,pageNumber:G.pageIndex+1});this.dC[G.mark.get_markID()]=T;T.setThickness(bi.getThickness());T.setColor(bi.getColor());T.setOpacity(bi.getOpacity());PCCViewer.Data.oA(bi,T);PCCViewer.Conversation.qE(bi.getConversation(),T.getConversation());},onAdded:rK()};};function abj(bi){return{onCreating:function(ax,G){var T=new PCCViewer.Mark({type:bi.getType(),igMark:G.mark,pageNumber:G.pageIndex+1});this.dC[G.mark.get_markID()]=T;T.setImage(bi.getImage());PCCViewer.Data.oA(bi,T);PCCViewer.Conversation.qE(bi.getConversation(),T.getConversation());},onAdded:rK()};};function avx(bi){return{onCreating:function(ax,G){var T=new PCCViewer.Mark({type:bi.getType(),igMark:G.mark,pageNumber:G.pageIndex+1});this.dC[G.mark.get_markID()]=T;T.setThickness(bi.getThickness());T.setColor(bi.getColor());T.setOpacity(bi.getOpacity());PCCViewer.Data.oA(bi,T);PCCViewer.Conversation.qE(bi.getConversation(),T.getConversation());},onAdded:rK()};};ViewerControl.prototype.setMarkHandleMode=function(markHandleMode){var wX;switch(markHandleMode){case PCCViewer.MarkHandleMode.HideCornerHandlesWhenClose:wX=IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose;break;case PCCViewer.MarkHandleMode.HideSideHandlesWhenClose:wX=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;break;default:throw new RangeError("The value of markHandleMode is not a supported value.");}if(this.aX&&this.aX.set_markHandleMode){this.aX.set_markHandleMode(wX);}else{this.bI.markHandleMode=wX;}return this;};ViewerControl.prototype.getMarkHandleMode=function(){var wX;if(this.aX&&this.aX.get_markHandleMode){wX=this.aX.get_markHandleMode();}else{wX=this.bI.markHandleMode;}if(wX===IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose){return PCCViewer.MarkHandleMode.HideCornerHandlesWhenClose;}else{return PCCViewer.MarkHandleMode.HideSideHandlesWhenClose;}};ViewerControl.prototype.setConversationDOMFactory=function(factoryFunction){if(typeof(factoryFunction)!=='function'){throw new Error("The parameter factoryFunction is not a function.");}this.mn=factoryFunction;return this;};ViewerControl.prototype.getConversationDOMFactory=function(){return this.mn;};ViewerControl.prototype.refreshConversations=function(conversations){var Tw,afx=(conversations===undefined);function alF(dP,aM){throw new Error(dP+((aM!==undefined)?' (Array index '+aM+')':'')+' is not a valid PCCViewer.Conversation object.');};function ayH(dP,aM){throw new Error(dP+((aM!==undefined)?' (Array index '+aM+')':'')+' is not a known conversation in this ViewerControl.');};if(conversations instanceof PCCViewer.Conversation){Tw=[conversations];}else if(conversations instanceof Array){Tw=conversations;}else if(!afx){alF(conversations);}var aln=IPCC.V.map(this.getAllMarks(),function(bJ){return bJ.getConversation();});var aaB=IPCC.V.map(Tw||aln,function(bJ,L){if(!(bJ instanceof PCCViewer.Conversation)){alF(bJ,L);}if(!afx&& !IPCC.V.inArray(aln,bJ)){ayH(bJ,L);}return bJ.getMark().cR;});this.aX.refreshConversations(aaB);return this;};ViewerControl.prototype.openCommentsPanel=function(){if(this.fL===false){throw new Error("The method openCommentsPanel is not available until 'ViewerReady' state is reached.");}if(this.getPageLayout()===PCCViewer.PageLayout.Horizontal){throw new Error("The page layout must be set to vertical to use the comments panel.");}this.aX.openCommentsPanel();var J=this;setTimeout(function(){J.trigger("CommentsPanelToggled",{isOpen:true});},10);return this;};ViewerControl.prototype.closeCommentsPanel=function(){if(this.fL===false){throw new Error("The method closeCommentsPanel is not available until 'ViewerReady' state is reached.");}this.aX.closeCommentsPanel();var J=this;setTimeout(function(){J.trigger("CommentsPanelToggled",{isOpen:false});},10);return this;};ViewerControl.prototype.getIsCommentsPanelOpen=function(){if(this.fL===false){throw new Error("The method getIsCommentsPanelOpen is not available until 'ViewerReady' state is reached.");}if(this.getPageLayout()===PCCViewer.PageLayout.Horizontal){return false;}return this.aX.get_isCommentsPanelOpen();};ViewerControl.prototype.setSelectedConversation=function(conversation){if(this.fL===false){throw new Error("The method setSelectedConversation is not available until 'ViewerReady' state is reached.");}if(conversation===null||conversation===undefined){this.aX.set_selectedConversation(undefined);return this;}if(!(conversation instanceof PCCViewer.Conversation)){throw new Error("The parameter conversation is not an instance of PCCViewer.Conversation.");}var mP=conversation.getMark();if(mP){var yi=mP.R.get_conversation();this.aX.set_selectedConversation(yi);}else{throw new Error("The conversation is unknown to the viewer control.");}return this;};ViewerControl.prototype.getSelectedConversation=function(){if(this.fL===false){return null;}var hV=this.aX.get_selectedConversation();if(hV){var mP=this.dC[hV.get_mark().get_markID()];if(mP){return mP.getConversation();}}return null;};ViewerControl.prototype.clearMouseSelectedText=function(textSelection){if(!textSelection){throw new Error('textSelection is a required parameter');}else if(typeof textSelection.startIndex!=='number'||textSelection.startIndex<0){throw new Error('Start index value '+textSelection.startIndex+' is not a valid value.');}else if(typeof textSelection.pageNumber!=='number'||textSelection.pageNumber<1||textSelection.pageNumber>this.getPageCount()){throw new Error('Page number value '+textSelection.pageNumber+' is not a valid value.');}else if(typeof textSelection.length!=='number'||textSelection.length<1){throw new Error('Length value '+textSelection.pageNumber+' is not a valid value.');}var J=this,zc=J.bz;function adJ(aP,iz,da){var Ru=[aP+1];var ap=J.cI.getPage(aP),dW=ap.bY();if(dW.mB()){var bp=dW.CJ(),acp=bp.substr(iz);if(acp.length>da){return Ru;}else{return Ru.concat(adJ(aP+1,0,da-acp.length));}}else{return Ru;}};this.aX.uE();function Bd(abH,be){J.aiI(be,abH);};if(zc&&zc.getResults().length){var cX=adJ(textSelection.pageNumber-1,textSelection.startIndex,textSelection.length),ec=zc.getResults(),aha=false,KH={};if(ec.length){IPCC.V.forEach(ec,function(bJ){var atj=IPCC.V.contains(cX,bJ.be);if(atj){aha=true;KH[bJ.be]=KH[bJ.be]||[];KH[bJ.be].push(bJ);}});}if(aha){IPCC.V.forEach(KH,function(abH,be){J.requestPageText(be).then(Bd.bind(null,abH,be));});}}return this;};ViewerControl.prototype.convertPageToWindowCoordinates=function(pageNumber,points){if(this.fL===false){throw new Error("The method setSelectedConversation is not available until 'ViewerReady' state is reached.");}if(!pageNumber||typeof pageNumber!=='number'||pageNumber<1||pageNumber>this.getPageCount()){throw new PCCViewer.Error('InvalidArgument','pageNumber is not a known page number in the document');}var yX=function(n){return typeof n==='number'&& !isNaN(n);};var vN,aeM=true;if(points&&points.constructor===Array){vN=points;}else{vN=[points];aeM=false;}var aan=function(bS,aM,bK){throw new PCCViewer.Error('InvalidArgument',bS+' (Array index '+aM+') does not have a valid '+bK+' property');};if(vN.length===0|| !points){throw new PCCViewer.Error('InvalidArgument','At least one point is required');}IPCC.V.forEach(vN,function(bS,aM){if(!yX(bS.x)){aan(bS,aM,'x');}if(!yX(bS.y)){aan(bS,aM,'y');}});var Ea=this.aX.aqf(pageNumber,vN);if(Ea===null){return null;}else if(aeM){return Ea;}else{return Ea[0];}};ViewerControl.prototype.selectEditorText=function(){if(this.fL===false){throw new Error("The method selectEditorText is not available until 'ViewerReady' state is reached.");}var J=this;var aX=J.aX;var Xz=aX.BY();if(!Xz){throw new Error("The method selectEditorText is not available unless there is an active editor on the page.");}if(Xz==='singleline'){aX.HU();}else if(Xz==='multiline'){throw new PCCViewer.Error('InvalidArgument','Only TextInputSignature Marks are supported at this time');}return J;};ViewerControl.prototype.setSharpening=function(amount){if(amount!==Math.floor(amount)||typeof amount!=='number'||amount<0||amount>100){throw new PCCViewer.Error('InvalidArgument','Amount must be an integer between 0 and 100 inclusive');}var J=this;J.abi=amount;if(this.fL===false){this.qH.then(function(qo){var aX=J.aX;aX.BJ(amount);});}else{var aX=J.aX;aX.BJ(amount);}return J;};ViewerControl.prototype.getSharpening=function(){var J=this;if(this.fL===false){return J.abi;}else{var aX=J.aX;return aX.apf();}};ViewerControl.prototype.setGamma=function(amount){if(typeof amount!=='number'||amount<0||amount>10){throw new PCCViewer.Error('InvalidArgument','Amount must be a number between 0 and 10 inclusive');}var J=this;J.agA=amount;if(this.fL===false){this.qH.then(function(qo){var aX=J.aX;aX.Bn(amount);});}else{var aX=J.aX;aX.Bn(amount);}return J;};ViewerControl.prototype.getGamma=function(){var J=this;if(this.fL===false){return J.agA;}else{var aX=J.aX;return aX.apx();}};ViewerControl.prototype.setSvgLineWidthMultiplier=function(amount){if(typeof amount!=='number'||amount<=0||amount>100){throw new PCCViewer.Error('InvalidArgument','Amount must be greater than 0 and not greater than 100.');}var J=this;J.mU=amount;if(this.fL===false){this.qH.then(function(qo){J.aX.Ef(amount);});}else{J.aX.Ef(amount);}return J;};ViewerControl.prototype.getSvgLineWidthMultiplier=function(){var J=this;if(this.fL===false){return J.mU;}else{var aX=J.aX;return aX.anP();}};if(Object.defineProperties){Object.defineProperties(ViewerControl.prototype,{"pageCount":{enumerable:true,get:function(){return this.getPageCount();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();},set:function(value){return this.setPageNumber(value);}},"searchRequest":{enumerable:true,get:function(){return this.bz;}},"selectedSearchResult":{enumerable:true,get:function(){return this.getSelectedSearchResult();},set:function(val){return this.setSelectedSearchResult(val,true);}},"currentMouseTool":{enumerable:true,get:function(){return this.getCurrentMouseTool();},set:function(value){return this.setCurrentMouseTool(value);}},"atMaxScale":{enumerable:true,get:ViewerControl.prototype.getAtMaxScale},"atMinScale":{enumerable:true,get:ViewerControl.prototype.getAtMinScale},"scaleFactor":{enumerable:true,get:function(){return this.getScaleFactor();},set:function(value){return this.setScaleFactor(value);}},"selectedMarks":{enumerable:true,get:ViewerControl.prototype.getSelectedMarks},"viewMode":{enumerable:true,get:function(){return this.getViewMode();},set:function(value){return this.setViewMode(value);}},"isCommentsPanelOpen":{enumerable:true,get:function(){return this.getIsCommentsPanelOpen();}},"selectedConversation":{enumerable:true,get:function(){return this.getSelectedConversation();},set:function(conversation){return this.setSelectedConversation(conversation);}},"redactionViewMode":{enumerable:true,get:function(){return this.getRedactionViewMode();},set:function(value){return this.setRedactionViewMode(value);}},"markHandleMode":{enumerable:true,get:function(){return this.getMarkHandleMode();},set:function(value){return this.setMarkHandleMode(value);}}});}module.exports=ViewerControl;},{"./../IPCC/IPCC":29,"./PCCViewer.EventEmitter":140,"./PCCViewer.Helper":143,"./PCCViewer.MarkDeserializer":147,"./PCCViewer.MarkSerializer":149,"./PCCViewer.Print":157}],169:[function(require,module,exports){var PCCViewer={ViewMode:require('./PCCViewer.ViewMode'),MarkHandleMode:require('./PCCViewer.MarkHandleMode'),RedactionViewMode:require('./PCCViewer.RedactionViewMode'),PageLayout:require('./PCCViewer.PageLayout'),EventType:require('./PCCViewer.EventType'),Event:require('./PCCViewer.Event'),ScaleTrigger:require('./PCCViewer.ScaleTrigger'),FitType:require('./PCCViewer.FitType'),Promise:require('./PCCViewer.Deferred').Promise,Deferred:require('./PCCViewer.Deferred').Deferred,EventEmitter:require('./PCCViewer.EventEmitter'),Util:require('./PCCViewer.Util'),ObservableCollection:require('./PCCViewer.ObservableCollection'),aBS:require('prizmdoc-input-mask'),Data:require('./PCCViewer.Data').Data,SessionData:require('./PCCViewer.Data').SessionData,Ajax:require('./PCCViewer.Ajax').Ajax,AjaxResponse:require('./PCCViewer.Ajax').AjaxResponse,Language:require('./PCCViewer.Language'),Error:require('./PCCViewer.Error'),ViewerControl:require('./PCCViewer.ViewerControl'),sM:require('./PCCViewer.Helper'),MouseTool:require('./PCCViewer.MouseTool').MouseTool,MouseTools:require('./PCCViewer.MouseTool').MouseTools,Conversation:require('./PCCViewer.Comments').Conversation,Comment:require('./PCCViewer.Comments').Comment,ImageStamps:require('./PCCViewer.ImageStamps'),DocumentHyperlink:require('./PCCViewer.DocumentHyperlink'),_Search:require('./PCCViewer.Search')._Search,SearchTask:require('./PCCViewer.Search').SearchTask,SearchRequest:require('./searchRequest'),SearchResult:require('./searchResult').SearchResult,Zr:require('./PCCViewer.ServerSearch'),SearchTaskResult:require('./searchResult').SearchTaskResult,PA:require('./PCCViewer.ClientSearch'),GZ:require('prizmdoc-search'),Signatures:require('./PCCViewer.Signature').Signatures,SignatureControl:require('./PCCViewer.Signature').SignatureControl,SignatureDisplay:require('./PCCViewer.Signature').SignatureDisplay,ThumbnailControl:require('./PCCViewer.ThumbnailControl'),Revision:require('./PCCViewer.Revision'),JV:require('./PCCViewer.RevisionsRequest').JV,RevisionsRequest:require('./PCCViewer.RevisionsRequest').RevisionsRequest,ConversionRequest:require('./PCCViewer.ConversionRequest'),BurnRequest:require('./PCCViewer.BurnRequest'),PrintRequest:require('./PCCViewer.Print').PrintRequest,PrintControl:require('./PCCViewer.Print').PrintControl,Mark:require('./PCCViewer.Marks'),MarkupLayer:require('./PCCViewer.MarkupLayer'),LoadMarkupLayersRequest:require('./PCCViewer.LoadMarkupLayersRequest'),MarkupLayerCollection:require('./PCCViewer.MarkupLayerCollection'),PasswordProtectedDocumentLoader:require('./PCCViewer.PasswordProtectedDocumentLoader'),};module.exports=PCCViewer;},{"./PCCViewer.Ajax":130,"./PCCViewer.BurnRequest":131,"./PCCViewer.ClientSearch":132,"./PCCViewer.Comments":133,"./PCCViewer.ConversionRequest":134,"./PCCViewer.Data":135,"./PCCViewer.Deferred":136,"./PCCViewer.DocumentHyperlink":137,"./PCCViewer.Error":138,"./PCCViewer.Event":139,"./PCCViewer.EventEmitter":140,"./PCCViewer.EventType":141,"./PCCViewer.FitType":142,"./PCCViewer.Helper":143,"./PCCViewer.ImageStamps":144,"./PCCViewer.Language":145,"./PCCViewer.LoadMarkupLayersRequest":146,"./PCCViewer.MarkHandleMode":148,"./PCCViewer.Marks":150,"./PCCViewer.MarkupLayer":151,"./PCCViewer.MarkupLayerCollection":152,"./PCCViewer.MouseTool":153,"./PCCViewer.ObservableCollection":154,"./PCCViewer.PageLayout":155,"./PCCViewer.PasswordProtectedDocumentLoader":156,"./PCCViewer.Print":157,"./PCCViewer.RedactionViewMode":158,"./PCCViewer.Revision":159,"./PCCViewer.RevisionsRequest":160,"./PCCViewer.ScaleTrigger":161,"./PCCViewer.Search":162,"./PCCViewer.ServerSearch":163,"./PCCViewer.Signature":164,"./PCCViewer.ThumbnailControl":165,"./PCCViewer.Util":166,"./PCCViewer.ViewMode":167,"./PCCViewer.ViewerControl":168,"./searchRequest":170,"./searchResult":171,"prizmdoc-input-mask":2,"prizmdoc-search":7}],170:[function(require,module,exports){var SearchRequest=function(uq){this.jz={};this.eH={};this.ec=[];this.ue=false;this.ei=null;this.dm=null;this.Sz=[];if(Object.defineProperties){Object.defineProperties(this,{"searchQuery":{configurable: ! !uq,enumerable:true,get:function(){return this.eH;}},"results":{configurable: ! !uq,enumerable:true,get:function(){return this.ec;}},"isComplete":{configurable: ! !uq,enumerable:true,get:function(){return this.ue;}},"errorCode":{configurable: ! !uq,enumerable:true,get:function(){return this.ei;}},"errorMessage":{configurable: ! !uq,enumerable:true,get:function(){return this.dm;}}});}PCCViewer.EventEmitter.extend(this);};SearchRequest.prototype.getSearchQuery=function(){return this.eH;};SearchRequest.prototype.getResults=function(){return this.ec;};SearchRequest.prototype.getIsComplete=function(){return this.ue;};SearchRequest.prototype.getErrorCode=function(){return this.ei;};SearchRequest.prototype.getErrorMessage=function(){return this.dm;};SearchRequest.prototype.getPagesWithoutText=function(){return this.Sz;};SearchRequest.prototype.cancel=function(){this.qc=true;this.trigger('SearchCancelled');};module.exports=SearchRequest;},{}],171:[function(require,module,exports){var SearchResult=function(){this.cR=0;this.be=0;this.bL=0;this.bp='';this.qZ='';this.qO=0;this.cc='';this.Bc=0;this.bV='';this.FZ='';this.lZ=null;};SearchResult.prototype.getId=function(){return this.cR;};SearchResult.prototype.getPageNumber=function(){return this.be;};SearchResult.prototype.getText=function(){return this.bp;};SearchResult.prototype.getHighlightColor=function(){return this.qZ;};SearchResult.prototype.getStartIndexInPage=function(){return this.qO;};SearchResult.prototype.getContext=function(){return this.cc;};SearchResult.prototype.getStartIndexInContext=function(){return this.Bc;};SearchResult.prototype.getSearchTerm=function(){return this.bV;};SearchResult.prototype.getBoundingRectangle=function(){return this.lZ;};if(Object.defineProperties){Object.defineProperties(SearchResult.prototype,{"pageNumber":{enumerable:true,get:function(){return this.be;}},"id":{enumerable:true,get:function(){return this.cR;}},"text":{enumerable:true,get:function(){return this.bp;}},"highlightColor":{enumerable:true,get:function(){return this.qZ;}},"startIndexInPage":{enumerable:true,get:function(){return this.qO;}},"context":{enumerable:true,get:function(){return this.cc;}},"startIndexInContext":{enumerable:true,get:function(){return this.Bc;}},"searchTerm":{enumerable:true,get:function(){return this.bV;}},"boundingRectangle":{enumerable:true,get:function(){return this.getBoundingRectangle();}}});}var SearchTaskResult=function(){this.cR=0;this.bL=0;this.bp='';this.qZ='';this.qO=0;this.cc='';this.Bc=0;this.bV='';};SearchTaskResult.prototype.getId=function(){return this.cR;};SearchTaskResult.prototype.getText=function(){return this.bp;};SearchTaskResult.prototype.getHighlightColor=function(){return this.qZ;};SearchTaskResult.prototype.getStartIndexInInput=function(){return this.qO;};SearchTaskResult.prototype.getContext=function(){return this.cc;};SearchTaskResult.prototype.getStartIndexInContext=function(){return this.Bc;};SearchTaskResult.prototype.getSearchTerm=function(){return this.bV;};if(Object.defineProperties){Object.defineProperties(SearchTaskResult.prototype,{"id":{enumerable:true,get:function(){return this.cR;}},"text":{enumerable:true,get:function(){return this.bp;}},"highlightColor":{enumerable:true,get:function(){return this.qZ;}},"startIndexInInput":{enumerable:true,get:function(){return this.qO;}},"context":{enumerable:true,get:function(){return this.cc;}},"startIndexInContext":{enumerable:true,get:function(){return this.Bc;}},"searchTerm":{enumerable:true,get:function(){return this.bV;}}});}module.exports={SearchTaskResult:SearchTaskResult,SearchResult:SearchResult};},{}],172:[function(require,module,exports){if(typeof window==='undefined'){throw new Error('The viewer-core module can only be used in a browser environment (where a window object exists).');}require('./../css/viewercontrol.css');var IPCC=require('./IPCC/IPCC');var PCCViewer=require('./PCCViewer/PCCViewer');window.IPCC=IPCC;window.PCCViewer=PCCViewer;module.exports=PCCViewer;},{"./../css/viewercontrol.css":11,"./IPCC/IPCC":29,"./PCCViewer/PCCViewer":169}]},{},[172])(172)}); 