// See license at https://www.npmjs.com/package/@prizmdoc/viewer-core
// @prizmdoc/viewer-core@13.10.1
(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.viewerCore=f()}})(function(){var define,module,exports;return(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){'use strict';var styleElementsInsertedAtTop=[];var insertStyleElement=function(styleElement,options){var head=document.head||document.getElementsByTagName('head')[0];var lastStyleElementInsertedAtTop=styleElementsInsertedAtTop[styleElementsInsertedAtTop.length-1];options=options||{};options.insertAt=options.insertAt||'bottom';if(options.insertAt==='top'){if(!lastStyleElementInsertedAtTop){head.insertBefore(styleElement,head.firstChild);}else if(lastStyleElementInsertedAtTop.nextSibling){head.insertBefore(styleElement,lastStyleElementInsertedAtTop.nextSibling);}else{head.appendChild(styleElement);}styleElementsInsertedAtTop.push(styleElement);}else if(options.insertAt==='bottom'){head.appendChild(styleElement);}else{throw new Error('Invalid value for parameter \'insertAt\'. Must be \'top\' or \'bottom\'.');}};module.exports={createLink:function(href,attributes){var head=document.head||document.getElementsByTagName('head')[0];var link=document.createElement('link');link.href=href;link.rel='stylesheet';for(var key in attributes){if(!attributes.hasOwnProperty(key)){continue;}var value=attributes[key];link.setAttribute('data-'+key,value);}head.appendChild(link);},createStyle:function(cssText,attributes,extraOptions){extraOptions=extraOptions||{};var style=document.createElement('style');style.type='text/css';for(var key in attributes){if(!attributes.hasOwnProperty(key)){continue;}var value=attributes[key];style.setAttribute('data-'+key,value);}if(style.sheet){style.innerHTML=cssText;style.sheet.cssText=cssText;insertStyleElement(style,{insertAt:extraOptions.insertAt});}else if(style.styleSheet){insertStyleElement(style,{insertAt:extraOptions.insertAt});style.styleSheet.cssText=cssText;}else{style.appendChild(document.createTextNode(cssText));insertStyleElement(style,{insertAt:extraOptions.insertAt});}}};},{}],2:[function(require,module,exports){var cursor=require('./util/cursor.js');var mask=require('./util/mask.js');function InputMask(elem,options){var originalPlaceholder=elem.placeholder;var regexMask=mask.getRegex(options.value,options.translations);function onInput(){var cursorPos=cursor.get(elem);var oldVal=elem.value;var newVal=mask.getValue(oldVal,options.value,options.translations,cursorPos);elem.value=newVal.val;setTimeout(function(){cursor.set(elem,cursorPos+newVal.cursorAdjustment);},1);};function clearInvalidValue(){elem.value=mask.fill(elem.value,options.value,options.translations);if(!regexMask.test(elem.value)){elem.value='';}}(function init(){clearInvalidValue();elem.placeholder=mask.getPlaceholder(options.value,options.translations);elem.addEventListener('input',onInput);elem.addEventListener('focusout',clearInvalidValue);elem.addEventListener('blur',clearInvalidValue);}());this.destroy=function(){clearInvalidValue();elem.placeholder=originalPlaceholder;elem.removeEventListener('input',onInput);elem.removeEventListener('focusout',clearInvalidValue);elem.removeEventListener('blur',clearInvalidValue);};};module.exports=InputMask;},{"./util/cursor.js":3,"./util/mask.js":4}],3:[function(require,module,exports){function getCursor(elem){var position=0;if(elem.selectionEnd){position=elem.selectionEnd;}return Number(position);};function setCursor(elem,position){elem.setSelectionRange(position,position);};module.exports={get:getCursor,set:setCursor};},{}],4:[function(require,module,exports){var reRegExpChar=/[\\^$.*+?()[\]{}|]/g;var reHasRegExpChar=new RegExp(reRegExpChar.source);function getMaskRegex(mask,translations){var maskRegex='';var char,translation,i;for(i=0;i<mask.length;i++){char=mask.charAt(i);translation=translations[char];if(translation){maskRegex+=translation.toString().replace(/.{1}$|^.{1}/g,'');}else if(reHasRegExpChar.test(char)){maskRegex+=char.replace(reRegExpChar,'\\$&');}else{maskRegex+=char;}}return new RegExp(maskRegex);};function getMaskPlaceholder(mask,translations){var placeholder=mask;var key;for(key in translations){if(translations.hasOwnProperty(key)){if(reHasRegExpChar.test(key)){key=key.replace(reRegExpChar,'\\$&');}placeholder=placeholder.replace(new RegExp(key,'g'),'_');}}return placeholder;};function getMaskValue(value,mask,translations,cursorPos){var result={val:'',cursorAdjustment:0};var m=0;var v=0;var lastUntranslatedMaskChar,maskChar,valChar,translation;while(m<mask.length&&v<value.length){maskChar=mask.charAt(m);valChar=value.charAt(v);translation=translations[maskChar];if(translation){if(valChar.match(translation)){result.val+=valChar;m+=1;}else if(v<cursorPos){result.cursorAdjustment-=1;}else if(valChar===lastUntranslatedMaskChar){lastUntranslatedMaskChar=null;}v+=1;}else{result.val+=maskChar;if(valChar===maskChar){v+=1;}else{if(v<cursorPos){result.cursorAdjustment+=1;}lastUntranslatedMaskChar=maskChar;}m+=1;}}return result;};function fillMask(value,mask,translations){var newVal=value;var index=value.length;var maskChar;while(index<mask.length){maskChar=mask[index];if(translations[maskChar]){break;}newVal+=maskChar;index+=1;}return newVal;};module.exports={getRegex:getMaskRegex,getPlaceholder:getMaskPlaceholder,getValue:getMaskValue,fill:fillMask};},{}],5:[function(require,module,exports){var util=require('./util.js');var regexSearch=require('./regex-search.js');var proximitySearch=require('./proximity-search.js');function isSimpleSearchInput(input){return(typeof input.pattern==='string'&&(typeof input.caseSensitive==='boolean'||typeof input.caseSensitive==='undefined'));};function isProximitySearchInput(input){if(!util.isPositiveInteger(input.distance)|| !(input.subTerms instanceof Array)){return false;}return util.every(input.subTerms,isSimpleSearchInput);};function isSearchInput(input){if(util.isPlainObject(input)&&typeof input.type==='string'){if(input.type==='simple'){return isSimpleSearchInput(input);}if(input.type==='proximity'){return isProximitySearchInput(input);}}return false;};function isArrayOfSearchInputs(input){if(!(input instanceof Array)){return false;}return util.every(input,isSearchInput);};function getRegExp(searchInput){return(new RegExp(searchInput.pattern,searchInput.caseSensitive?'g':'gi'));};function cleanSearchResult(searchInput){return function(val){return{input:searchInput,text:val.text,startIndex:val.startIndex};};};function getRegexResults(text,searchInput){var regex=getRegExp(searchInput);var results=regexSearch.getResultsForTerm(text,regex);return results.map(cleanSearchResult(searchInput));};function getProximityResults(text,searchInput){var regexes=searchInput.subTerms.map(getRegExp);var results=proximitySearch.getResults(text,regexes,searchInput.distance);return results.map(cleanSearchResult(searchInput));};function getResults(text,searchInputs){if(typeof text!=='string'){throw util.inputError('text','string');}if(!isArrayOfSearchInputs(searchInputs)){throw util.inputError('searchInputs','array of search inputs');}var combinedResults=[];searchInputs.forEach(function(term,i){if(term.type==='simple'){combinedResults=combinedResults.concat(getRegexResults(text,term));}else if(term.type==='proximity'){combinedResults=combinedResults.concat(getProximityResults(text,term));}else{throw util.inputError('searchInputs['+i+'].type','string equal to "simple" or "proximity"');}});util.sortResults(combinedResults);return combinedResults;};module.exports={getResults:getResults};},{"./proximity-search.js":8,"./regex-search.js":9,"./util.js":10}],6:[function(require,module,exports){var util=require('./util.js');function validateGetContextOptions(options){var rules=[{property:'options',validator:function(){return util.isPlainObject(options);},error:'object'},{property:'options.text',validator:function(){return(typeof options.text==='string');},error:'string'},{property:'options.startIndex',validator:function(){return util.isMinInteger(options.startIndex,0);},error:'integer that is at least 0'},{property:'options.endIndex',validator:function(){return util.isMinInteger(options.endIndex,0);},error:'integer that is at least 0'},{property:'options.padding',validator:function(){return util.isMinInteger(options.padding,0);},error:'integer that is at least 0'},{property:'options.startIndex',validator:function(){return(options.startIndex<options.text.length);},error:'integer that is less than "options.text.length"'},{property:'options.endIndex',validator:function(){return(options.endIndex<options.text.length);},error:'integer that is less than "options.text.length"'},{property:'options.startIndex',validator:function(){return(options.startIndex<=options.endIndex);},error:'integer that is at most "options.endIndex"'}];util.validateInput(rules);};function validateRectangleOptions(options){var rules=[{property:'options',validator:function(){return util.isPlainObject(options);},error:'object'},{property:'options.rectangles',validator:function(){return(options.rectangles instanceof Array);},error:'array'},{property:'options.startIndex',validator:function(){return util.isMinInteger(options.startIndex,0);},error:'integer that is at least 0'},{property:'options.endIndex',validator:function(){return util.isMinInteger(options.endIndex,0);},error:'integer that is at least 0'},{property:'options.startIndex',validator:function(){return util.isMaxInteger(options.startIndex,options.endIndex);},error:'integer that is at most "options.endIndex"'}];util.validateInput(rules);};function getContext(options){validateGetContextOptions(options);var startIndex=Math.max(options.startIndex-options.padding,0);var endIndex=Math.min(options.endIndex+options.padding,options.text.length-1);return{startIndex:(startIndex===0)?options.startIndex:options.padding,context:options.text.substring(startIndex,endIndex+1)};};function getBoundingRectangle(options){validateRectangleOptions(options);var boundingRectangle={left:Number.MAX_VALUE,right:0,top:Number.MAX_VALUE,bottom:0};var rectangle;for(var i=options.startIndex;i<=options.endIndex;i++){rectangle=options.rectangles[i];boundingRectangle.left=Math.min(rectangle[0],boundingRectangle.left);boundingRectangle.right=Math.max(rectangle[0]+rectangle[2],boundingRectangle.right);boundingRectangle.top=Math.min(rectangle[1],boundingRectangle.top);boundingRectangle.bottom=Math.max(rectangle[1]+rectangle[3],boundingRectangle.bottom);}return{x:boundingRectangle.left,y:boundingRectangle.top,width:boundingRectangle.right-boundingRectangle.left,height:boundingRectangle.bottom-boundingRectangle.top};};function getLineRectangles(options){validateRectangleOptions(options);var lineRectangles=[];function processCharacter(rectangle){var character=util.getRectangleObject(rectangle);var line=lineRectangles[lineRectangles.length-1];if(util.isCharacterAtEndOfLine(character,line)){lineRectangles.splice(-1,1,util.joinRectangles(line,character));return;}lineRectangles.push(character);};for(var i=options.startIndex;i<=options.endIndex;i++){processCharacter(options.rectangles[i]);}return lineRectangles;};module.exports={getContext:getContext,getBoundingRectangle:getBoundingRectangle,getLineRectangles:getLineRectangles};},{"./util.js":10}],7:[function(require,module,exports){var formatter=require('./formatter.js');var regexSearch=require('./regex-search.js');var proximitySearch=require('./proximity-search.js');var combinedSearch=require('./combined-search.js');module.exports={formatter:formatter,regex:regexSearch,proximity:proximitySearch,combined:combinedSearch};},{"./combined-search.js":5,"./formatter.js":6,"./proximity-search.js":8,"./regex-search.js":9}],8:[function(require,module,exports){var regexSearch=require('./regex-search.js');var util=require('./util.js');function isAProximityResult(matching,searchTerms){return(Object.keys(matching).length===searchTerms.length);};function getStartIndex(wordIndex,searchResult){var startIndex= -1;for(var i=1;i<wordIndex.length;i++){if(wordIndex[i]>searchResult.startIndex){startIndex=i-1;break;}}if(startIndex=== -1&&searchResult.startIndex>wordIndex[wordIndex.length-1]){startIndex=wordIndex.length-1;}return startIndex;};function getEndIndex(wordIndex,searchResult,termsLength,distance){var startIndex=getStartIndex(wordIndex,searchResult);var endIndex=null;if(distance===0){endIndex=startIndex+termsLength-1;}else{endIndex=startIndex+((termsLength-1)*distance+termsLength)-1;}return wordIndex[endIndex<wordIndex.length?endIndex:wordIndex.length-1];};function getWordIndex(text){if(typeof text!=='string'){throw util.inputError('text','string');}var wordIndex=[];var regex=(/[^\s]+/gm);var regexResult;while((regexResult=regex.exec(text))!==null){wordIndex.push(regexResult.index);}return wordIndex;};function getResults(text,searchTerms,distance){if(!util.isPositiveInteger(distance)){throw util.inputError('distance','integer that is greater than 0');}var wordIndex=getWordIndex(text);var searchResults=regexSearch.getResults(text,searchTerms);var proximityResults=[];searchResults.forEach(function(searchResult,i){var opts={nextIndex: -1,currentIndex:i,matches:{},nextResult:null};opts.endIndex=getEndIndex(wordIndex,searchResult,searchTerms.length,distance);opts.matches[searchResult.term]=true;while(opts.nextIndex<opts.endIndex&& !isAProximityResult(opts.matches,searchTerms)&&opts.currentIndex+1<searchResults.length){opts.nextResult=searchResults[++opts.currentIndex];opts.nextIndex=opts.nextResult.startIndex;if(opts.nextIndex<=opts.endIndex){opts.matches[opts.nextResult.term]=true;}}if(isAProximityResult(opts.matches,searchTerms)){proximityResults.push({text:text.substring(searchResult.startIndex,opts.nextResult.startIndex+opts.nextResult.text.length),startIndex:searchResult.startIndex});}});return proximityResults;};module.exports={getWordIndex:getWordIndex,getResults:getResults};},{"./regex-search.js":9,"./util.js":10}],9:[function(require,module,exports){var util=require('./util.js');function isRegExp(input){return(input instanceof RegExp);};function isArrayOfRegExp(input){if(!(input instanceof Array)){return false;}return util.every(input,isRegExp);};function validateGetResultsForTerm(text,searchTerm){if(typeof text!=='string'){throw util.inputError('text','string');}if(!isRegExp(searchTerm)){throw util.inputError('searchTerm','regular expression');}};function getResultsForTerm(text,searchTerm){validateGetResultsForTerm(text,searchTerm);var searchResults=[];var regexResult;while((regexResult=searchTerm.exec(text))!==null){if(regexResult[0]){searchResults.push({term:searchTerm.toString(),text:regexResult[0],startIndex:regexResult.index});}else{searchTerm.lastIndex+=1;}}return searchResults;};function getResults(text,searchTerms){if(typeof text!=='string'){throw util.inputError('text','string');}if(!isArrayOfRegExp(searchTerms)){throw util.inputError('searchTerms','array of regular expressions');}var combinedResults=[];for(var i=0;i<searchTerms.length;i++){combinedResults=combinedResults.concat(getResultsForTerm(text,searchTerms[i]));}util.sortResults(combinedResults);return combinedResults;};module.exports={getResultsForTerm:getResultsForTerm,getResults:getResults};},{"./util.js":10}],10:[function(require,module,exports){function inputError(property,expected){var a=(['a','e','i','o','u'].indexOf(expected.charAt(0))> -1)?'an':'a';return new Error('Invalid argument. Argument "'+property+'" must be '+a+' '+expected+'.');};function isInteger(input){return(typeof input==='number'&&Math.round(input)===input);};function isMinInteger(input,min){if(typeof min!=='number'){throw inputError('min','number');}return(isInteger(input)&&input>=min);};function isMaxInteger(input,max){if(typeof max!=='number'){throw inputError('max','number');}return(isInteger(input)&&input<=max);};function isPositiveInteger(input){return isMinInteger(input,0);};function isPlainObject(input){return(typeof input==='object'&&input!==null&& !(input instanceof Array)&&input.constructor===Object);};function validateInput(rules){rules.forEach(function(rule){if(!rule.validator()){throw inputError(rule.property,rule.error);}});return true;};function every(obj,fn){for(var key in obj){if(obj.hasOwnProperty(key)){if(!fn(obj[key],key)){return false;}}}return true;};function sortResults(results){results.sort(function(a,b){return a.startIndex-b.startIndex;});};function joinRectangles(rectA,rectB){var left=Math.min(rectA.x,rectB.x);var top=Math.min(rectA.y,rectB.y);var right=Math.max(rectA.x+rectA.width,rectB.x+rectB.width);var bottom=Math.max(rectA.y+rectA.height,rectB.y+rectB.height);return{x:left,y:top,width:right-left,height:bottom-top};};function isCharacterAtEndOfLine(character,line){if(line&&Math.abs(character.y-line.y)<1&&Math.abs(character.height-line.height)<1&&(character.x+character.width)>=(line.x+line.width)){return true;}return false;};function getRectangleObject(rect){return{x:rect[0],y:rect[1],width:rect[2],height:rect[3]};};module.exports={inputError:inputError,isInteger:isInteger,isMinInteger:isMinInteger,isMaxInteger:isMaxInteger,isPositiveInteger:isPositiveInteger,isPlainObject:isPlainObject,validateInput:validateInput,every:every,sortResults:sortResults,joinRectangles:joinRectangles,isCharacterAtEndOfLine:isCharacterAtEndOfLine,getRectangleObject:getRectangleObject};},{}],11:[function(require,module,exports){var css="/* page list specific */\n.pccViewerControl {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  /* promote to a new layer */\n  -webkit-transform: translateZ(0);\n  transform: translateZ(0);\n  /* iOS momentum scrolling */\n  -webkit-overflow-scrolling: touch;\n  /* helps touch zoom not overlap any other element */\n  overflow: hidden;\n}\n/* normalize override */\nsvg:not(:root) {\n  overflow: visible!important;\n}\n.pccPageListContainer {\n  box-sizing: border-box;\n}\n.pccPageListContainerWrapper {\n  -ms-transform: scale(1,1) translate(0px,0px);\n  -moz-transform: scale(1,1) translate(0px,0px);\n  -webkit-transform: scale3d(1,1,1) translate3d(0px,0px,0px);\n  transform: scale3d(1,1,1) translate3d(0px,0px,0px);\n  -ms-transform-origin: 0% 0%;\n  -moz-transform-origin: 0% 0%;\n  -webkit-transform-origin: 0% 0%;\n  transform-origin: 0% 0%;\n  will-change: transform, -webkit-transform;\n}\n.pccPageListLoading {\n  height: 30px;\n  margin: -15px;\n  left: 50%;\n  position: absolute;\n  top: 50%;\n  width: 30px;\n}\n.pccPageListComments {\n  position: relative;\n  min-width: 300px;\n  height: auto;\n  vertical-align: top;\n  display: table-cell;\n  box-sizing: border-box;\n  z-index: 2;\n}\n.pccPageListComments > div {\n  position: absolute;\n}\n.pccHidden {\n  display: none;\n}\n.pccPageListItem {\n  background: #fff;\n  overflow: hidden;\n  margin: 13px;\n  vertical-align: middle;\n  border-bottom: 1px solid #d4d6db;\n}\n/* Single Page view mode */\n.pccSinglePageView .pccPageListItem {\n  -webkit-transform: translateZ(0);\n  transform: translateZ(0);\n  -webkit-animation-duration: 1s;\n  animation-duration: 1s;\n  -webkit-animation-timing-function: ease-out;\n  animation-timing-function: ease-out;\n}\n/* Next and previous page list items for single page view mode */\n.pccSinglePageView .pccNextPage {\n  opacity: 0;\n  z-index: 0;\n}\n.pccSinglePageView .pccPreviousPage {\n  opacity: 0;\n  z-index: 0;\n}\n.pccSinglePageView .pccCurrentPage {\n  opacity: 1;\n  z-index: 1;\n}\n/* Default animations for single page view mode */\n.pccSinglePageView .pccNextPageIn {\n  animation-name: moveInFromRight;\n  -webkit-animation-name: moveInFromRight;\n}\n.pccSinglePageView .pccPreviousPageIn {\n  animation-name: moveInFromLeft;\n  -webkit-animation-name: moveInFromLeft;\n}\n.pccSinglePageView .pccPageForward {\n  animation-name: moveLeft;\n  -webkit-animation-name: moveLeft;\n}\n.pccSinglePageView .pccPageBack {\n  animation-name: moveRight;\n  -webkit-animation-name: moveRight;\n}\n@keyframes moveRight {\n  0% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n\n  100% {\n    transform: translate3d(110%, 0, 0);\n    opacity: 0;\n  }\n}\n@-webkit-keyframes moveRight {\n  0% {\n    -webkit-transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n\n  100% {\n    -webkit-transform: translate3d(110%, 0, 0);\n    opacity: 0;\n  }\n}\n@keyframes moveLeft {\n  0% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n\n  100% {\n    transform: translate3d(-110%, 0, 0);\n    opacity: 0;\n  }\n}\n@-webkit-keyframes moveLeft {\n  0% {\n    -webkit-transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n\n  100% {\n    -webkit-transform: translate3d(-110%, 0, 0);\n    opacity: 0;\n  }\n}\n@keyframes moveInFromLeft {\n  0% {\n    transform: translate3d(-110%, 0, 0);\n    opacity: 0;\n  }\n\n  100% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n@-webkit-keyframes moveInFromLeft {\n  0% {\n    -webkit-transform: translate3d(-110%, 0, 0);\n    opacity: 0;\n  }\n\n  100% {\n    -webkit-transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n@keyframes moveInFromRight {\n  0% {\n    transform: translate3d(110%, 0, 0);\n    opacity: 0;\n  }\n\n  100% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n@-webkit-keyframes moveInFromRight {\n  0% {\n    -webkit-transform: translate3d(110%, 0, 0);\n    opacity: 0;\n  }\n\n  100% {\n    -webkit-transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n/*\n.pccPageListItem * {\n    -ms-touch-action: pinch-zoom pan-x pan-y;\n    touch-action: pinch-zoom pan-x pan-y;\n} */\n.pccPageListItem .pccPageListItemLoading {\n  margin: 30% auto;\n  display: block;\n  filter: Alpha(Opacity=50);\n  background-color: #fff;\n}\n.pccPageListItem .pccPageLoadFail {\n  margin: 35% auto;\n  text-align: center;\n  line-height: 2;\n  color: #777;\n}\n/* PageList container fix */\n.pccPageListItem .igAnchor,\n.pccPageListItem .igViewerScroller,\n.pccPageListItem .igViewerGraphics,\n.pccThumbnailView .igAnchor {\n  /* never recalculate these values */\n  width: 100% !important;\n  height: 100% !important;\n}\n.igAnchor > svg {\n  width: 100%;\n  height: 100%;\n}\n.igMagnifierFrame .igAnchor > svg {\n  width: auto;\n  height: auto;\n}\n.igViewerScroller,\n.igViewerGraphics,\n.igAnchor,\n.igAnchor > svg,\n.igAnchor svg svg {\n  -webkit-user-select: none !important;\n  -webkit-touch-callout: none !important;\n  -webkit-tap-highlight-color: rgba(0,0,0,0) !important;\n}\n.igAnchor svg svg use {\n  pointer-events: none;\n}\n/* do not show textarea outline on text marks */\n.pccViewerControl textarea {\n  outline: none;\n}\n/* copy text */\n.pccCopyText {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 0;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n  opacity: 0;\n  filter: alpha(opacity=0);\n  color: #000;\n}\n/* about modal */\n.pccPageListAboutModal {\n  background: #383a3f;\n  position: absolute;\n  top: -300px;\n  left: 0;\n  right: 0;\n  margin: 0 auto;\n  width: 280px;\n  padding: 10px;\n  visibility: hidden;\n  opacity: 0;\n  z-index: 5;\n  border-radius: 3px;\n  text-align: center;\n  -webkit-box-shadow: 0 2px 4px -1px rgba(0, 0, 0, .4);\n  box-shadow: 0 2px 4px -1px rgba(0, 0, 0, .4);\n  -webkit-transition: all 400ms;\n  transition: all 400ms;\n}\n.pccPageListAboutModal * {\n  text-align: left;\n  font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n  -webkit-text-size-adjust: 100%;\n  -ms-text-size-adjust: 100%;\n  text-size-adjust: 100%;\n}\n.pccPageListAboutModal h3 {\n  margin: 10px 0;\n  font-size: 18px;\n  color: #fff;\n  font-weight: bold;\n}\n.pccPageListAboutModal p {\n  font-size: 12px;\n  color: #c2c5ce;\n}\n.pccPageListAboutModal p:last-child {\n  color: #c2c5ce;\n}\n.pccPageListAboutModal a {\n  color: #afc3eb;\n}\nhtml .pccPageListAboutModal button {\n  position: absolute;\n  top: 0;\n  right: 0;\n  font-size: 20px;\n  color: #fff;\n  background: none;\n  border: none;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  height: auto;\n}\n.pccPageListAboutModal.open {\n  visibility: visible;\n  opacity: 1;\n  top: 122px;\n}\n.pccEditMarkButton {\n  display: inline-block;\n  background: no-repeat url(../../../../src/img/EditTextMark.png);\n  border: none;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  height: 26px;\n  width: 26px;\n  -webkit-background-size: 26px 26px;\n  background-size: 26px;\n  cursor: pointer !important;\n}\n/* svg elements can have body tags inside them, so we protect styling of them */\n/* viewer marks that do not look correct can likely be affected by conflicting styles */\n.pccViewerControl body {\n  background-color: initial;\n  min-height: initial;\n  position: static;\n  height: 100%;\n}\n/* style for thumbnail views */\n.pccThumbnailWrapper {\n  position: relative;\n  display: block;\n  width: 100px;\n  height: 100px;\n  margin: 5px 0 2em 0;\n}\n.pccThumbnail {\n  width: 100%;\n  height: 100%;\n}\n.pccThumbnailView {\n  /* it's important not to edit these width and height\n     * they are depended upon in the actual size calculation */\n  height: 100%;\n  width: 100%;\n  margin: auto !important;\n}\n.pccThumbnailLabel {\n  position: absolute;\n  top: 100%;\n  left: 0;\n  width: 100%;\n  text-align: center;\n}\n/* mark selection handles */\n.pccMarkHandleTopLeft,\n.pccMarkHandleTopCenter,\n.pccMarkHandleTopRight,\n.pccMarkHandleMidLeft,\n.pccMarkHandleMidRight,\n.pccMarkHandleBottomLeft,\n.pccMarkHandleBottomCenter,\n.pccMarkHandleBottomRight,\n.pccMarkHandlePoint,\n.pccMarkHandleTextSelectionStart,\n.pccMarkHandleTextSelectionEnd {\n  position: absolute;\n  width: 40px;\n  height: 40px;\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpkMmJhOTYxOS02NDJjLTQzOTUtYTI2Mi1iZTQ5NzM5MDEzYjEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDQ3M0M1RkFDMUM2MTFFNDlBMzZFODY3RUQwOTI4QjgiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDQ3M0M1RjlDMUM2MTFFNDlBMzZFODY3RUQwOTI4QjgiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowYzJmZjg5Ny1iMWRmLTQ4MGItOGRlNy01N2VkNGE0ZjJmZDgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6ZDJiYTk2MTktNjQyYy00Mzk1LWEyNjItYmU0OTczOTAxM2IxIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+SvzVDQAAAn9JREFUeNrsWMFr01AcTvvSNsnG1jQqOIeTTQ/z4EA9WFQQPYpn0epFL/4DiiBMFATRf0AvXtSJdwU9bHhY3UlBQQdThxVRUNN2wzVd26R+v/ILVA9r0iVQWR58zXuP9/3yNXnv9/tIrNlsSr3c4lKPt0hgJDASGAn8jwTKgAEMSAEHXU/TgRPAQWC0LV4dWADywDOg1O0NYn5K3ZEbc63riytZevKngTNAqgNtFXgATIHvMD+8J4jgGi7XgP3uXKVmi/xCMf3ll6XKIt4czihWdpe+pCWFzX/gPDAB7lWIrIT2BHnP3gb20qC0Uk/cnSmMTL8zh+q289d+Toi4c3S38e3CsZGC3peo8/Rr4CLghCXwLHCOOp9+VNRLj+YnzN81ZS2C0Z+s3jo1/mZsi2bx1D3gfhinOAPk+MnJlx/P7+kkjhqtobXE4akcxwpc4HH3QNyZLuz4uVxTvRJpLXF4mOJYgQs8RD/LVkOeeW8O+T1c4GxdWbUFDw8HLVDmPCfNfSyl/z0QXho44uWHYpqHo14ziNcbDboBv5qWInXZKA1xV3DMjVOLl4AGdYYNtdrtzbZvUt1UY3PMwASSuEXqHBjTy5SE/YoDx87u1Ms8XHT/cJCvON/ajJrcoArhVyA43/sV2ebhbBhp5gkXfonK1+aBpOWVSGvB+dxmHp6GIbAIPGx5LNTWmyfH31IZ60SiNbQWHPeVUgxzY5oF8oNst64D+9x5qhCzsFvIkRrslrMto1TpQPSlhN1GfwVMkt3y4we7NayCDWvOo2GdolcLvu3XsMbW+fHI4MK/luV/zvs3fMvvoV4PchIuBxU0Fn1+iwRGAiOBkcDebn8EGACEVf6TPnvOjAAAAABJRU5ErkJggg==);\n}\n@media screen and (-webkit-min-device-pixel-ratio: 2), \n       screen and (min-resolution: 2dppx),\n       screen and (min-resolution: 192dpi) {\n  .pccMarkHandleTopLeft,\n  .pccMarkHandleTopCenter,\n  .pccMarkHandleTopRight,\n  .pccMarkHandleMidLeft,\n  .pccMarkHandleMidRight,\n  .pccMarkHandleBottomLeft,\n  .pccMarkHandleBottomCenter,\n  .pccMarkHandleBottomRight,\n  .pccMarkHandlePoint,\n  .pccMarkHandleTextSelectionStart,\n  .pccMarkHandleTextSelectionEnd {\n    -webkit-background-size: 40px 40px;\n    background-size: 40px;\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGsAAABrCAYAAABwv3wMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpkMmJhOTYxOS02NDJjLTQzOTUtYTI2Mi1iZTQ5NzM5MDEzYjEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6N0QwNDg4NENDNDAzMTFFNDgxM0JDREZDMUY0RTFFODIiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6N0QwNDg4NEJDNDAzMTFFNDgxM0JDREZDMUY0RTFFODIiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2MjI3ZGMxZS0xNjg1LTQ2YTktOTI5Mi0wYzNkMTM4YjU3MWMiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo2YWNjOTM4MC0wYzZkLTExNzgtYmZjOS1jNTk5OGE2MjYzNGUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4Xpv3rAAAGnklEQVR42uycXUxbZRjHT1u++gHjoxTWjTLYxpTBytxUEE3IdiHzxo8tzvmRyIwXRC+cNyaiJk42k11si0a9ME4v/LyYmTeCF1tIJo6YMCgwVMJnmQzKR7cWWr7a+jxyMLjsnNMWes7b0+ef/APJe9r3Of31fc97Tp/n1YRCIY4UH9LSR0CwSASLYJEIFolgESwSwSIRLIJFIlgkgkWwSASLRLAIFolgkQgWwSIRLBLBIlgkgkUiWASLxJ6SVHAOFvA28GZwFjgVbALPghfAbvAt8DDYRbDklRH8CHg/+AGwOYLXToGvg9vBreC5eDpxTRzluu8GPw1+lB896xWOuqvgS+AbBGtjZAfX8X9jJQf4S/4vwYpCOeB68EEZ+8SR9hE/XdJqMEwdAH8lMyjUY/wIO0ALjHuo5tS1//5vaajCL89r4GcUDAlXku/y18hPIL7gmvhoNch/ECnw5x3+2x2R3HNLyf0Tc/rhSb/BtxjQzS8FdGnJuoAhRRfYlqv37cgz+rOMyUsRvi1+YXIhrkYAtkgj6/+gToP3hfua7lGvqcnhynM4PVlj7nmT2JVXA7Zmpc3abRnuQ3bLRHlB+mwE0+JpiK8BgC3QAmPluvkBf+8kKoy02eEyf982Vjgy5U+PtsNCs977XKV1pNZumdKE95Lf+KkxmOiw8Bp1JJyRdLZpsGRo0pexUR0X5Ro8b9QW9cGIC2ek/Qj+OJFh4TTzPj9TCY6mCy3Ord9eG9seCIY0Gx2ATqsJPV9lHTheY7sZxps3gi8nIqwcfnluEjpgcTmofe9i3662fnderIN5aHumq/HIrj9TkrRiUx2OwJfB04l2n1UvBerNb3rL5ACF+n3gtuXE171l2K/Esr4+0W6K7WI3vDjWcUT13PRmyxnUjb+92divxFxzkIvtoy/mYNWJNcI1qkCuEXW3sN8voH+Jw44nCqxysW8mrvpgMVGk5KrnO+gfRrVJ5JA9/HmoHtZTYtPf+ebBnbDqU/SZJfZ/rmlwZyjK81ALLAO4Wqjx505X7oDLt4mFpyoYB8Yjckg1fz6qhSX6w+EPbWM2jiFJxJPKRfEcM55g7RdqcDg9Jud09I+QYiGMB+MSOWSfmmHtFWpo7prM4xhUk8OVH835xDssMyeS3NIxfCebRVidI54siXOyqBGW4L0L/h41cWfByCKscYgL4xM5pCihYPWNzxlYTtvB+ESaN6sRluA0Nzrt1zPMSiq+TDXCEpzmZueXdSzDkojPoEZYgvP+/FKQaVgS8aWoEZZgwkpasjbAMiyJ+BbVCEswr9yQmsQ0LFOaaHw+NcKaEWooNOv9LMMqyBGN77YaYY0KNZTkG30sw5KI71ZCwcIEzPxNqUyW30BcPokE0SE1wpriRBL+Kwoz3CzCgrhmJM7JpUZYqA6hhkN2yziLsCTi6pAzFrlhtQs1YKKlLUfvZQkUxiORANquZlhY/ySYM3600upkCZZEPKuVk6qFhauqVqHGJyosk8UWg4cFUBgHxiNySKuc91hKwEJdEmrA9OUTtcV9Oq1G0QIA7B/j0ER5HmqC1Q3uEmrEcpxjVdYhJWFh/xJlQV38eageFuqCWOMrNbbRyh1ZE0oEhv1i/+uJX22wsCr+sth0ePJwyV9lW9Nn5Axq95b0GexXYvq7wilU1a9kMuVn3EpVxj2F1RxnXyjtkWuEPVic6Tr3YmlPGFUknyr1gSkJC8tmznAribiCwD48et8fL1Vv6cc6qhgtJkL4/meO3d8rAQp1nlOo3OffGYeBysfXwYclVyWjXhOmVm9kxi4uz3HVF2aNccJXPq6O7rBrijGlGTNl15MQijXFzz5sdeJ9FNUURyDcB6OloQpTkU9xEWS4do540n/pnrR0OT3ZY+55YxjV+nN7bBkzj5fnuioKMyJ5rIUbc72N1fpK74PBBCzUevfBwHQx55RfP7ewrFtYDupSk7QBY2pSwGbW+/H3qCj2wVh9SnFydR8MgsXeDjNrr1FM7TDD6kZbWG3yFidScxxDzfKr1KusfSisbrT1K7dSFX9F5n4RUB2LoFgeWWtVAX4VXBrDPnrBn+O6heUPIp528sTymie5lYrDjdhzaplfQPzEyfyLb7SKpz1yO3in88D28kv9nAifmlznjaC8cXT+cTWyhHT37tNp3EpePWZLzXO0+zRTcsU7hHhfDZIIFsEiESwSwSJYJIJFIlgEi0SwSASLYJEIFolgESwSwSIRLIJFIlgkgkWwSASLYJEIFolgJbT+EWAAqiM7sRyeWSQAAAAASUVORK5CYII=);\n  }\n}\n.pccv input.no-ms-clear::-ms-clear {\n  display: none;\n}\n.pcc-image-stamp-img {\n  height: auto;\n  max-height: available;\n  width: 100%;\n  max-width: 100%;\n  position: relative;\n}\n.pccv .pcc-load,\n.pccv .pccPageListLoading,\n.pccv .pccPageListItemLoading {\n  -webkit-animation-duration: 1s;\n  animation-duration: 1s;\n  -webkit-animation-iteration-count: infinite;\n  animation-iteration-count: infinite;\n  -webkit-animation-timing-function: linear;\n  animation-timing-function: linear;\n  -webkit-animation-name: pcc-anim-load;\n  animation-name: pcc-anim-load;\n}\n@-webkit-keyframes pcc-anim-load {\n  0% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n\n  100% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n}\n@keyframes pcc-anim-load {\n  0% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n\n  100% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n}\n.pccv .pccPageListLoading svg,\n.pccv .pccPageListItemLoading svg {\n  fill: #7d7f85;\n  height: 26px;\n  width: 26px;\n}\n.pccv .pccPageListLoading,\n.pccv .pccPageListItemLoading {\n  display: block;\n}\n@media print {\n  .no-clip-on-print {\n    clip-path: none !important;\n  }\n\n  .expand-on-print {\n    transform: scale(9999, 9999);\n  }\n}\n";(require("browserify-css").createStyle(css,{"href":"src\\css\\viewercontrol.css"},{"insertAt":"bottom"}));module.exports=css;},{"browserify-css":1}],12:[function(require,module,exports){var lv=function(){this.aq=false;this.H=false;this.bV=IPCC.bG.AddFreehandMark;};lv.prototype.nd=function(H){this.H=H;};lv.prototype.fa=function(){this.H=false;};lv.prototype.au=function(){if(this.aq){this.K=null;this.oD=null;this.H.oZ(null);this.aq=false;this.H.cI();}};lv.prototype.pP=function(){this.au();};lv.prototype.kY=function(F){this.au();if(F.domEvent.button===0){this.aq=true;this.K=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Polyline);this.K.get_points().addPoint(F.imagePoint);this.oD=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Freehand);this.H.oZ(this.K,this.oD);this.K.set_lineWidth(this.oD.dW);this.K.set_lineColor(this.oD.kR);this.K.set_opacity(this.oD.du);this.sH=F.imagePoint;this.sp=F.windowPoint;this.H.cI();}};lv.prototype.kP=function(F){if(F.domEvent.button!==0){this.au();}if(this.aq){this.K.get_points().addPoint(F.imagePoint);this.H.cI();}};lv.prototype.AV=function(F){if(this.aq){this.au();}};lv.prototype.jV=function(F){if(this.aq&&F.domEvent.button===0){this.K.get_points().addPoint(F.imagePoint);var ajW=this.K.get_points();var aY=[];var gP=Number.MAX_VALUE,hV=0,_top=Number.MAX_VALUE,kw=0;var h=0;for(h=0;h<ajW.get_length();h++){var rK=ajW.getPoint(h);if(rK.x<gP){gP=rK.x;}if(rK.x>hV){hV=rK.x;}if(rK.y<_top){_top=rK.y;}if(rK.y>kw){kw=rK.y;}aY.push({x:rK.x,y:rK.y});}var CJ=3;var rY;var qi=(aY.length<CJ)?aY:IPCC.C.filter(aY,function(bg){if(rY){var bf=bg.x-rY.x,dB=bg.y-rY.y,fc=bf*bf+dB*dB;if(Math.sqrt(fc)<4){return false;}}bg.x=bg.x-gP;bg.y=bg.y-_top;rY=bg;return true;});if(qi.length<CJ){qi=[aY[0],aY[aY.length-1]];}var bY='';rY=undefined;if(qi.length<CJ){bY+=this.PB(qi);}else{bY='M'+IPCC.C.bspline(qi);bY=bY.replace(/\d*\.?\d*/g,function(al){var Is=al.indexOf('.');if(al.length&&Is>0){return al.substr(0,Is+3);}else if(al!==""){return al;}else{return al;}});}var aK=hV-gP;var an=kw-_top;if(an===0&&aK===0){this.au();return;}var pF={clientX:F.domEvent.clientX,clientY:F.domEvent.clientY};this.oD.set_rectangle({x:gP,y:_top,width:aK,height:an});this.oD.set_pathString(bY);this.oD.set_pathWidth(aK);this.oD.set_pathHeight(an);this.H.oZ(null);this.H.dV().addMark(this.oD,pF);this.H.cI();}this.au();};lv.prototype.PB=function(gU,Ji){var QH=(Ji&&IPCC.C.Fe)?'m':'M';var XU=(Ji&&IPCC.C.Fe)?'l':'L';return IPCC.C.map(gU,function(bg,h){if(h===0){return QH+bg.x+','+bg.y;}else{return XU+bg.x+','+bg.y;}}).join('');};lv.prototype.oX=function(F){var bj=this.H.eT();if(F.windowPoint.x<=0||F.windowPoint.x>=bj.width-2){this.au();}if(F.windowPoint.y<=0||F.windowPoint.y>=bj.height-2){this.au();}};lv.prototype.mo=function(){this.au();};module.exports=lv;},{}],13:[function(require,module,exports){var mI=function(){this.aq=false;this.H=false;this.bV=IPCC.bG.AddLineMark;};mI.prototype.nd=function(H){this.H=H;};mI.prototype.fa=function(){this.H=false;};mI.prototype.au=function(){if(this.aq){this.K=null;this.H.oZ(null);this.aq=false;this.H.cI();}};mI.prototype.pP=function(){this.au();};mI.prototype.kY=function(F){this.au();if(F.domEvent.button===0){this.aq=true;this.K=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Line);this.K.get_points().setPoint(0,F.imagePoint);this.K.get_points().setPoint(1,F.imagePoint);this.H.oZ(this.K);this.sH=F.imagePoint;this.sp=F.windowPoint;}};mI.prototype.kP=function(F){if(F.domEvent.button!==0){this.au();}if(this.aq){this.K.get_points().setPoint(1,F.imagePoint);this.H.cI();}};mI.prototype.jV=function(F){if(this.aq&&F.domEvent.button===0){var fe=F.windowPoint.x-this.sp.x;var gd=fe*fe;fe=F.windowPoint.y-this.sp.y;gd+=fe*fe;if(gd>25){var H=this.H;var pF={clientX:F.domEvent.clientX,clientY:F.domEvent.clientY};this.K.get_points().setPoint(1,F.imagePoint);this.H.oZ(null);this.H.dV().addMark(this.K,pF);H.cI();}}this.au();};mI.prototype.oX=function(F){var bj=this.H.eT();if(F.windowPoint.x<=0||F.windowPoint.x>=bj.width-2){this.au();}if(F.windowPoint.y<=0||F.windowPoint.y>=bj.height-2){this.au();}};mI.prototype.mo=function(){this.au();};module.exports=mI;},{}],14:[function(require,module,exports){var jS=function(bq){this.aq=false;this.H=false;this.bq=bq;switch(this.bq){case IPCC.Web.UI.MarkType.Polygon:this.bV=IPCC.bG.AddPolygonMark;break;case IPCC.Web.UI.MarkType.Polyline:this.bV=IPCC.bG.AddPolylineMark;this.YO=false;break;}};jS.prototype.nd=function(H){this.H=H;};jS.prototype.fa=function(){this.H=false;};jS.prototype.au=function(){if(this.aq){if(arguments[0]){if(arguments[0]===true){if(this.K&&this.YO===false){this.H.dV().addMark(this.K);this.YO=true;this.H.cI();}}}this.K=null;this.H.oZ(null);this.aq=false;this.H.cI();}};jS.prototype.pP=function(){this.au();};jS.prototype.kY=function(F){if(F.domEvent.button===0){if(!this.aq){this.aq=true;this.K=new IPCC.Web.UI.Mark(this.bq);this.K.get_points().addPoint(F.imagePoint);this.H.oZ(this.K);}var aY=this.K.get_points();if(aY.get_length()>0){aY.setPoint(aY.get_length()-1,F.imagePoint);}aY.addPoint(F.imagePoint);this.sH=F.imagePoint;this.sp=F.windowPoint;this.H.cI();}else{this.au();}};jS.prototype.AV=function(F){if(this.aq&&F.domEvent.button===0){var aY=this.K.get_points(),cg=aY.get_length(),Wp,WB;if(cg>2){var ahh=true;while(ahh){cg=aY.get_length();Wp=aY.getPoint(cg-1);WB=aY.getPoint(cg-2);if(Wp.x===WB.x&&Wp.y===WB.y){aY.removePoint(cg-1);}else{ahh=false;}}}if(aY.get_length()>0){aY.setPoint(aY.get_length()-1,F.imagePoint);}this.H.oZ(null);var pF={clientX:F.domEvent.clientX,clientY:F.domEvent.clientY};this.H.dV().addMark(this.K,pF);this.YO=true;this.H.cI();}this.au();};jS.prototype.kP=function(F){if(F.domEvent.button!==0){this.au();}if(this.aq){var aY=this.K.get_points();if(aY.get_length()>0){aY.setPoint(aY.get_length()-1,F.imagePoint);}this.H.cI();}};jS.prototype.oX=function(F){var bj=this.H.eT();if(F.windowPoint.x<=0||F.windowPoint.x>=bj.width-2){this.au();}if(F.windowPoint.y<=0||F.windowPoint.y>=bj.height-2){this.au();}};jS.prototype.mo=function(){this.au();};module.exports=jS;},{}],15:[function(require,module,exports){var ep=function(bq){this.aq=false;this.H=false;this.bq=bq;switch(this.bq){case IPCC.Web.UI.MarkType.Rectangle:this.bV=IPCC.bG.AddRectangleMark;break;case IPCC.Web.UI.MarkType.Ellipse:this.bV=IPCC.bG.AddEllipseMark;break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:this.bV=IPCC.bG.AddTextMark;break;case IPCC.Web.UI.MarkType.Stamp:this.bV=IPCC.bG.AddStampMark;break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:this.bV=IPCC.bG.AddImageStampMark;break;case IPCC.Web.UI.MarkType.RectangleRedaction:this.bV=IPCC.bG.AddRectangleRedactionMark;break;case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:this.bV=IPCC.bG.AddRectangleMark;break;}};ep.prototype.nd=function(H){this.H=H;};ep.prototype.fa=function(){this.H=false;};ep.prototype.au=function(){if(this.aq){this.K=null;this.H.oZ(null);this.aq=false;this.H.cI();}};ep.prototype.pP=function(){this.au();};ep.prototype.kY=function(F){this.au();if(F.domEvent.button===0){this.aq=true;this.K=new IPCC.Web.UI.Mark(this.bq);this.K.set_rectangle({x:F.imagePoint.x,y:F.imagePoint.y,width:0,height:0});this.H.oZ(this.K);this.sH=F.imagePoint;this.sp=F.windowPoint;}};ep.prototype.kP=function(F){if(F.domEvent.button!==0){this.au();}if(this.aq){var kp={x:Math.min(F.imagePoint.x,this.sH.x),y:Math.min(F.imagePoint.y,this.sH.y)};kp.width=Math.max(F.imagePoint.x,this.sH.x)-kp.x;kp.height=Math.max(F.imagePoint.y,this.sH.y)-kp.y;this.K.set_rectangle(kp);this.H.cI();}};ep.prototype.jV=function(F){if(this.aq&&F.domEvent.button===0){var fe=F.windowPoint.x-this.sp.x;var gd=fe*fe;fe=F.windowPoint.y-this.sp.y;gd+=fe*fe;if(gd>25){var kp={x:Math.min(F.imagePoint.x,this.sH.x),y:Math.min(F.imagePoint.y,this.sH.y)};kp.width=Math.max(F.imagePoint.x,this.sH.x)-kp.x;kp.height=Math.max(F.imagePoint.y,this.sH.y)-kp.y;this.H.oZ(null);this.K.set_rectangle(kp);var bP=this.K;var H=this.H;var pF={clientX:F.domEvent.clientX,clientY:F.domEvent.clientY};this.H.dV().addMark(this.K,pF);if(bP.jr()===IPCC.Web.UI.MarkType.Text||bP.jr()===IPCC.Web.UI.MarkType.TextLine||bP.jr()===IPCC.Web.UI.MarkType.TextAreaSignature){H.wu(bP);}H.cI();}}this.au();};ep.prototype.oX=function(F){var bj=this.H.eT();if(F.windowPoint.x<=0||F.windowPoint.x>=bj.width-2){this.au();}if(F.windowPoint.y<=0||F.windowPoint.y>=bj.height-2){this.au();}};ep.prototype.mo=function(){this.au();};module.exports=ep;},{}],16:[function(require,module,exports){var bZ={};var axl=require('./ArtUIDirector');var MO=require('./ArtSVGUIDirector');bZ.tE={Ja:function(){var wN=IPCC.bZ.tE;if(wN.uV===null){
/*@cc_on@if(@_jscript)wN.uV=document.documentMode>8;@else@*/ wN.uV=true;/*@end@*/}return wN.uV;},uV:null};bZ.BX=1;bZ.cj=axl;bZ.MO=MO;module.exports=bZ;},{"./ArtSVGUIDirector":17,"./ArtUIDirector":18}],17:[function(require,module,exports){var ams=function(){};ams.prototype={axs:function(H,aj,ah){this.H=H;this.aA=H.aN();this.aj=aj;this.dY=ah.width;this.eV=ah.height;this.JS=ah.hf;this.aFw=ah.gM;aj.Bp=this.cU('g');this.cW(aj.Bp,{'fill-opacity':1});aj.Ay.appendChild(aj.Bp);},ayM:function(V){var iz='',R,J=this;switch(V.K.get_type()){case IPCC.Web.UI.MarkType.Rectangle:V.ac=this.cU('rect');if(V.K.iP()&&V.K.get_opacity()===255){V.ac.addEventListener("mouseover",function(F){if(V.K.get_selected()===false&&V.ac&&(F.which===0||F.buttons===0)){V.ac.style.opacity=127/255;}},false);V.ac.addEventListener("mouseout",function(F){if(V.ac&&(F.which===0||F.buttons===0)){V.ac.style.opacity=V.K.get_opacity()/255;}},false);}break;case IPCC.Web.UI.MarkType.HighlightText:iz="highlighttextannotation-"+V.K.jR();V.ac=this.cU('g');V.iy=this.cU('g');V.ac.appendChild(V.iy);V.kg=this.cU('g');V.kg.setAttribute('data-pcc-mark',iz);V.ac.appendChild(V.kg);break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:iz="texthyperlinkannotation-"+V.K.jR();V.ac=this.cU('g');V.ac.style.cursor=IPCC.bG.fg(IPCC.bG.Link);V.iy=this.cU('g');V.ac.appendChild(V.iy);V.kg=this.cU('g');V.kg.style.opacity=IPCC.bZ.cj.afo();V.kg.style.fill="blue";V.kg.setAttribute('data-pcc-mark',iz);V.ac.appendChild(V.kg);V.jG=this.cU('g');V.jG.style.stroke="blue";V.jG.style.opacity=IPCC.bZ.cj.Io(false);V.jG.setAttribute('data-pcc-mark',iz);V.ac.appendChild(V.jG);V.ac.addEventListener("mouseover",function(F){if(V.jG){V.jG.style.opacity=IPCC.bZ.cj.Io(true,V.K.get_selected());}},false);V.ac.addEventListener("mouseout",function(F){if(V.jG){V.jG.style.opacity=IPCC.bZ.cj.Io(false,V.K.get_selected());}},false);break;case IPCC.Web.UI.MarkType.DocumentHyperlink:iz="documenthyperlink-"+V.K.jR();V.ac=this.cU('g');V.ac.style.cursor=IPCC.bG.fg(IPCC.bG.Link);V.R=this.cU('rect');V.R.style['fill-opacity']=IPCC.bZ.cj.afo();if(V.K.Ql!=='Underline'){V.R.style.stroke=V.K.kR;V.R.style['stroke-width']=V.K.dW+'px';V.R.style['stroke-opacity']=(V.K.dW===0)?0:V.K.re/255;if(V.K.Ql==='Dashed'){V.R.style['stroke-dasharray']=V.K.Au.join(', ');}V.R.setAttribute('rx',V.K.JU);V.R.setAttribute('ry',V.K.Jz);}else{V.ww=this.cU('line');V.ww.style.stroke=V.K.kR;V.ww.style['stroke-opacity']=V.K.re/255;V.ww.style['stroke-width']=V.K.dW+'px';V.ac.appendChild(V.ww);}V.R.style.fill='transparent';V.R.setAttribute('data-pcc-mark',iz);V.ac.appendChild(V.R);break;case IPCC.Web.UI.MarkType.RectangleRedaction:iz="textmark-"+V.K.jR();V.ac=this.cU('g');V.fK=this.cU('rect');V.fP=this.cU('g');V.fP.setAttribute('data-pcc-mark',iz);if(IPCC.C.xL.aCJ){V.fP.style.cursor='pointer';}V.yN=document.createTextNode('');if(document.documentMode>8||IPCC.C.xL.AO){V.dw=this.cU('text');V.dw.setAttribute('data-pcc-mark',iz);V.dw.appendChild(V.yN);V.zV=this.cU('clipPath');V.Bh=this.cU('rect');V.fP.appendChild(V.zV);V.zV.appendChild(V.Bh);V.fP.appendChild(V.dw);V.IS="PCC"+IPCC.bZ.BX;IPCC.bZ.BX++;this.cW(V.zV,{id:V.IS,clipPathUnits:"userSpaceOnUse"});R=V.K.get_rectangle();this.cW(V.Bh,{x:0,y:0,width:R.width,height:R.height,"data-pcc-mark":iz});var akd=function(F){if(V.K.get_selected()===false&&V.fK&&(F.which===0||F.buttons===0)){if(J.H.mr()===false){V.ac.style.opacity=0.5;V.dw.style.opacity=0;}}};V.ac.addEventListener("mouseover",function(F){akd(F);},false);V.fP.addEventListener("mouseover",function(F){akd(F);},false);V.fP.addEventListener("mouseout",function(F){if(V.fK&&(F.which===0||F.buttons===0)){if(J.H.mr()===false){V.ac.style.opacity=1;V.dw.style.opacity=1;}}},false);V.ac.addEventListener("mouseout",function(F){if(V.fK&&(F.which===0||F.buttons===0)){if(J.H.mr()===false){V.ac.style.opacity=1;V.dw.style.opacity=1;}}},false);}else{V.mQ=document.createElement('div');this.cW(V.mQ,{"data-pcc-mark":iz});V.mQ.appendChild(V.yN);V.RX=document.createElement('div');this.cW(V.RX,{"data-pcc-mark":iz});V.RX.appendChild(V.mQ);V.tI=document.createElement('body');this.cW(V.tI,{xmlns:'http://www.w3.org/1999/xhtml',style:'margin:0;overflow:hidden;background-color:transparent;white-space:pre-wrap;',"data-pcc-mark":iz});V.tI.appendChild(V.RX);V.Cr=this.cU('foreignObject');V.Cr.appendChild(V.tI);V.fP.appendChild(V.Cr);V.tI.addEventListener("mouseover",function(F){if(V.K.get_selected()===false&&V.fK&&(F.which===0||F.buttons===0)){V.fK.style.opacity=0.5;V.mQ.style.opacity=0;}},false);V.tI.addEventListener("mouseout",function(F){if(V.fK&&(F.which===0||F.buttons===0)){if(J.H.mr()===false){V.fK.style.opacity=1;V.mQ.style.opacity=1;}}},false);}V.ac.appendChild(V.fK);break;case IPCC.Web.UI.MarkType.Ellipse:V.ac=this.cU('ellipse');break;case IPCC.Web.UI.MarkType.Highlight:V.ac=this.cU('rect');break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:V.ac=this.cU('g');V.iy=V.ac;break;case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:V.ac=this.cU('g');V.sZ=this.cU('polyline');V.ZK=this.cU('path');V.ZF=this.cU('path');V.ac.appendChild(V.sZ);V.ac.appendChild(V.ZK);V.ac.appendChild(V.ZF);V.sZ.setAttribute('stroke-linejoin','miter');V.sZ.setAttribute('stroke-linecap','butt');V.sZ.setAttribute('stroke-miterlimit','4');break;case IPCC.Web.UI.MarkType.Polygon:V.ac=this.cU('polygon');break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.TextAreaSignature:iz="textmark-"+V.K.jR();V.ac=this.cU('g');V.GQ=this.cU('polygon');V.sZ=this.cU('path');V.SU=this.cU('path');V.fP=this.cU('g');V.ac.appendChild(V.GQ);V.ac.appendChild(V.sZ);V.ac.appendChild(V.SU);this.cW(V.GQ,{style:'stroke:none;'});V.fP.setAttribute('data-pcc-mark',iz);V.yN=document.createTextNode('');if(document.documentMode>8||IPCC.C.xL.AO){V.dw=this.cU('text');V.dw.setAttribute('data-pcc-mark',iz);V.dw.appendChild(V.yN);V.zV=this.cU('clipPath');V.Bh=this.cU('rect');V.fP.appendChild(V.zV);V.zV.appendChild(V.Bh);V.ajB=this.cU('g');V.fP.appendChild(V.ajB);V.fP.appendChild(V.dw);V.IS="PCC"+IPCC.bZ.BX;IPCC.bZ.BX++;this.cW(V.zV,{id:V.IS,clipPathUnits:"userSpaceOnUse"});R=V.K.get_rectangle();this.cW(V.Bh,{x:0,y:0,width:R.width,height:R.height,"data-pcc-mark":iz});}else{V.mQ=document.createElement('div');V.mQ.appendChild(V.yN);V.tI=document.createElement('body');this.cW(V.tI,{xmlns:'http://www.w3.org/1999/xhtml',style:'margin:0;overflow:hidden;background-color:transparent;white-space:pre-wrap;',"data-pcc-mark":iz});V.tI.appendChild(V.mQ);V.Cr=this.cU('foreignObject');V.Cr.appendChild(V.tI);V.fP.appendChild(V.Cr);}V.GQ.setAttribute('data-pcc-mark',iz);break;case IPCC.Web.UI.MarkType.Stamp:V.ac=this.cU('g');V.uJ=this.cU('rect');V.uJ.style='fill:rgba(255, 255, 255, 0);stroke:none;';V.fK=this.cU('rect');V.Jh=this.TP(V);V.ac.appendChild(V.uJ);V.ac.appendChild(V.fK);V.ac.appendChild(V.Jh);break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:V.ac=this.cU('g');V.uJ=this.cU('rect');V.uJ.style='fill:rgba(255, 255, 255, 0);stroke:none;';V.fK=this.cU('rect');V.afB=this.avR(V);V.afB.setAttribute('data-pcc-mark',"mark-"+V.K.jR());V.ac.appendChild(V.uJ);V.ac.appendChild(V.fK);V.ac.appendChild(V.afB);break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Freehand:var K=V.K;var afY=K.eG();var aK=afY.width;var an=afY.height;var Hc=K.get_pathWidth();var Fi=K.get_pathHeight();var uC=K.get_pathString();var gp=IPCC.C.zu.Path(uC,{width:aK,height:an,multiplier:100,thickness:K.get_lineWidth(),color:K.get_lineColor()});var fh=IPCC.C.zu.SVG('0 0 '+Hc+' '+Fi,100);var ak=IPCC.C.zu.Rect(Hc,Fi,'fill:rgba(255, 255, 255, 0);stroke:none;');fh.appendChild(ak);fh.appendChild(gp);V.ac=fh;V.aya=gp;V.ahz=ak;this.aiu(V.ac,K.jk);break;case IPCC.Web.UI.MarkType.SignatureText:V.ac=this.cU('g');V.fK=this.cU('rect');V.fK.style='fill:rgba(255, 255, 255, 0);stroke:none;';V.Jh=this.TP(V);V.ac.appendChild(V.fK);V.ac.appendChild(V.Jh);V.K.jm=false;break;case IPCC.Web.UI.MarkType.TextLine:V.ac=this.cU('g');V.fK=this.cU('rect');V.fK.style='fill:rgba(255, 255, 255, 0);stroke:none;';V.Jh=this.TP(V);V.ac.appendChild(V.fK);V.ac.appendChild(V.Jh);break;case IPCC.Web.UI.MarkType.Strikethrough:iz="strikethroughannotation-"+V.K.jR();V.ac=this.cU('g');V.iy=this.cU('g');V.ac.appendChild(V.iy);V.kg=this.cU('g');V.kg.setAttribute('data-pcc-mark',iz);V.ac.appendChild(V.kg);V.vG=this.cU('g');V.vG.setAttribute('data-pcc-mark',iz);V.ac.appendChild(V.vG);break;}V.ac.ImGearMarkRelation=V;V.ac.setAttribute('data-pcc-mark',"mark-"+V.K.jR());this.aj.Bp.appendChild(V.ac);if(V.fP){V.fP.ImGearMarkRelation=V;this.aj.Bp.appendChild(V.fP);}this.amV(V);},TP:function(V){var K=V.K;var DX=K.bo;if(!DX){DX=K.cq[0];if(!DX){if(K.get_type()===IPCC.Web.UI.MarkType.Stamp){DX="APPROVED";}else{DX="";}}}var R=K.eG();V.dw=this.cU('text');V.IS="PCC"+IPCC.bZ.BX;IPCC.bZ.BX++;var nv=document.createTextNode(DX);V.dw.setAttribute("font-size","22px");if(K.get_type()===IPCC.Web.UI.MarkType.TextLine){V.dw.setAttribute("style",'white-space:pre;');}switch(V.K.jk){case IPCC.Web.UI.HorizontalAlignment.Left:V.dw.setAttribute('text-anchor','start');V.dw.setAttribute('x',R.x);break;case IPCC.Web.UI.HorizontalAlignment.Right:V.dw.setAttribute('text-anchor','end');V.dw.setAttribute("x",R.x+R.width);break;default:V.dw.setAttribute('text-anchor','middle');V.dw.setAttribute("x",R.x+(R.width/2));break;}V.dw.setAttribute('y',R.y+(R.height/2));V.dw.appendChild(nv);return V.dw;},avR:function(V){var K=V.K;V.aed=document.createElementNS('http://www.w3.org/2000/svg','svg');V.xZ=document.createElementNS('http://www.w3.org/2000/svg','image');V.xZ.setAttribute('id','childimg');V.xZ.setAttributeNS('http://www.w3.org/1999/xlink','href',K.get_image());V.aed.appendChild(V.xZ);return V.aed;},avZ:function(V,jk){var K=V.K;var R=K.eG();var bo=K.bo;var JB=bo.split('\n');var dw=V.dw;var Ug=0;var Tw=0;var ZO=0;var wP=0;var aii=0;var aiH=this.JS/72;var agl=K.dH*aiH;var vr=[];var aCm=/(.*\s)(.*)/;var nv,iH,Gr,Eg,_parent,akM,HY,FK,acZ,AN,akH,FJ;akM=dw.childNodes.length;if(akM>=1){_parent=dw.parentNode;HY=this.cU('text');HY.setAttribute('data-pcc-mark',V.fP.getAttribute('data-pcc-mark'));HY.setAttribute('width',V.fP.getAttribute('width')-V.K.dW);_parent.replaceChild(HY,dw);V.dw=HY;V.dw.appendChild(V.yN);V.fP.appendChild(V.dw);dw={};dw=V.dw;}dw.style.fontSize=K.dH*this.JS/72+'px';dw.style.fontFamily=K.gk;dw.width-=4;FK=(K.dW/2);if(jk){switch(jk){case IPCC.Web.UI.HorizontalAlignment.Center:FK=(R.width/2)-(K.dW/2);break;case IPCC.Web.UI.HorizontalAlignment.Right:FK=R.width-K.dW;break;}}for(var h=0;h<JB.length;h++){AN='';akH=1;if(JB[h].length>0){Gr=JB[h].split('');iH=this.cU('tspan');iH.setAttributeNS(null,"x",FK);if(h>0){iH.setAttributeNS(null,"dy",agl*(ZO+1));}nv=window.document.createTextNode(Gr[0]);iH.appendChild(nv);dw.appendChild(iH);for(var as=1;as<Gr.length;as++){aii=iH.firstChild.data.length;Eg=Gr[as];iH.firstChild.data+=Gr[as];AN+=Eg;acZ=AN.length*(K.dH*aiH);Ug=iH.getComputedTextLength();if(Ug===0){Tw=acZ;}else{Tw=Ug;}if(Tw>=(R.width-K.dW-2)){akH++;AN='';FJ=iH.firstChild.data.match(aCm);if(FJ){Eg=FJ[2];}if(FJ&&FJ[1].length>0){iH.firstChild.data=FJ[1];AN+=Eg;}else{iH.firstChild.data=iH.firstChild.data.slice(0,aii);AN+=Eg;}if(AN.length>=1){vr.push({aU:wP,akN:iH});iH=this.cU('tspan');iH.setAttributeNS(null,"x",FK);iH.setAttributeNS(null,"dy",agl);nv=window.document.createTextNode(Eg);iH.appendChild(nv);dw.appendChild(iH);}}}if(iH.firstChild.data.length>0){vr.push({aU:wP,akN:iH});}wP+=iH.firstChild.data.length+1;ZO=0;}else{ZO++;}}return vr;},aDz:function(lu,akc,iy,wP){if(lu.length>0){var ais=akc.getNumberOfChars();if(lu[0].aU>wP+ais){return;}for(var h=Math.max(lu[0].aU-wP,0);h<ais;h++){var R=akc.getExtentOfChar(h);var ak=this.cU('rect');this.cW(ak,{x:R.x,y:R.y,width:R.width,height:R.height,fill:lu[0].DI});iy.appendChild(ak);if(lu[0].cZ===h+wP){lu.shift();if(lu.length===0){return;}h=lu[0].aU-wP-1;}}}},Ed:function(dO,tj,sK){var gp='M',h;for(h=0;h<tj.length;h++){if(h>0){gp+=' L';}gp+=tj[h].x+','+tj[h].y;}if(sK){gp+='Z';}this.cW(dO,{d:gp});},Sp:function(dO,tj,sK){var Me='',h;for(h=0;h<tj.length;h++){if(h>0){Me+=' ';}Me+=tj[h].x+','+tj[h].y;}if(sK&&tj.length>2){Me+=' '+tj[0].x+','+tj[0].y;}this.cW(dO,{points:Me});},alU:function(gX,le,zF,sn,zi,ZM,Ft){var dr=this.avJ(gX,le,zF,sn,zi);var fA='';fA+='stroke:'+ZM+';';switch(zi){case IPCC.Web.UI.LineHeadType.None:fA='display:none;';break;case IPCC.Web.UI.LineHeadType.Pointer:this.Ed(Ft,[dr.Dr,gX,dr.EN],false);break;case IPCC.Web.UI.LineHeadType.Solid:this.Ed(Ft,[dr.Dr,gX,dr.EN],true);fA+='fill:'+ZM+';';break;case IPCC.Web.UI.LineHeadType.Open:this.Ed(Ft,[dr.Dr,gX,dr.EN],true);break;case IPCC.Web.UI.LineHeadType.PointerSolid:this.Ed(Ft,[dr.Dr,gX,dr.EN,dr.FO],true);fA+='fill:'+ZM+';';break;}this.cW(Ft,{style:fA});return dr;},aol:function(V){var K=V.K;var aY,gH,h,aeD,ajg,hS='',Dj;aY=K.get_points();gH=[];for(h=0;h<aY.get_length();h++){gH.push(aY.getPoint(h));}if(gH.length<2||K.sK){this.cW(V.ZK,{style:'display:none;'});this.cW(V.ZF,{style:'display:none;'});}else{K.zv=K.kR;Dj=this.aaq(gH,true);aeD=this.alU(Dj.gX,Dj.le,K.Jc,K.Jr,K.IF,K.zv,V.ZK);Dj=this.aaq(gH,false);ajg=this.alU(Dj.gX,Dj.le,K.Iy,K.GY,K.oP,K.zv,V.ZF);gH[0]=aeD.FO;gH[gH.length-1]=ajg.FO;}this.Sp(V.sZ,gH,K.sK);var yb=this.aaP(K.hS);if(yb!==''){hS+='stroke-dasharray:'+yb+';';}this.cW(V.sZ,{style:hS});},ano:function(V){var BM=this.axc(V);this.Sp(V.GQ,BM.ajs,false);var aiL='',hS='fill:none;',rm='fill:none;';if(BM.YN){aiL='stroke:none;';}if(BM.Sc){this.Ed(V.sZ,BM.Sc,false);}else{hS+='display:none;';}if(BM.OU){this.Ed(V.SU,BM.OU,false);}else{rm+='display:none;';}var K=V.K;if(K.As){rm+='stroke:'+K.EK+';stroke-width:'+K.CX+';';var yb=this.aaP(K.rm);if(yb!==''){rm+='stroke-dasharray:'+yb+';';}}this.cW(V.sZ,{style:hS});this.cW(V.SU,{style:rm});this.cW(V.GQ,{style:aiL});},Wx:function(V){var K=V.K,Ef;if(!K){return;}var R=K.eG();var FB=K.dH*this.JS/72;K.FB=FB;var qj=R.width,pJ=R.height,EO=false,fe;var gE,eg=0,dU=0;var tS=1;if(K.jm){tS+=K.dW/2;}switch(K.xz){case IPCC.Web.UI.Orientation.TopLeft:gE='1,0,0,1';break;case IPCC.Web.UI.Orientation.TopRight:gE='-1,0,0,1';eg=qj-tS;break;case IPCC.Web.UI.Orientation.BottomRight:gE='-1,0,0,-1';eg=qj-tS;dU=pJ-tS;break;case IPCC.Web.UI.Orientation.BottomLeft:gE='1,0,0,-1';dU=pJ-tS;break;case IPCC.Web.UI.Orientation.LeftTop:gE='0,1,1,0';EO=true;break;case IPCC.Web.UI.Orientation.RightTop:gE='0,1,-1,0';eg=qj-tS;EO=true;break;case IPCC.Web.UI.Orientation.RightBottom:gE='0,-1,-1,0';eg=qj-tS;dU=pJ-tS;EO=true;break;case IPCC.Web.UI.Orientation.LeftBottom:gE='0,-1,1,0';dU=pJ-tS;EO=true;break;}if(K.cw==="#c0c0c0"){K.cw='#ffffff';}if(K.get_type()===IPCC.Web.UI.MarkType.Text){if(K.iP()===true){K.cw='#ffffff';}else{K.set_opacity(K.du);}}if(EO){fe=qj;qj=pJ;pJ=fe;}if(qj<0){qj=0;}if(pJ<0){pJ=0;}var ZQ='normal';var co='normal';var mz='';var sb;mz+='word-wrap:break-word;background-color:transparent;line-height:1;';var yg=0;if(K.qU.length===7&&K.qU.charAt(0)==='#'){yg=parseInt(K.qU.slice(1),16);}var du=Math.min(1,Math.max(0,K.yC/255));if(document.documentMode>8||IPCC.C.xL.AO){co='normal';if(K.co&IPCC.Web.UI.FontStyle.Italic){co='italic';}ZQ='normal';if(K.co&IPCC.Web.UI.FontStyle.Bold){ZQ='bold';}sb='none';if((K.co&IPCC.Web.UI.FontStyle.Underline)&&(K.co&IPCC.Web.UI.FontStyle.Strikeout)){sb='underline line-through';}else if(K.co&IPCC.Web.UI.FontStyle.Underline){sb='underline';}else if(K.co&IPCC.Web.UI.FontStyle.Strikeout){sb='line-through';}}else{mz+='color:rgba('+(yg>>16)+','+((yg>>8)&255)+','+(yg&255)+','+du+');';mz+='font-family:'+K.gk+';';mz+='font-size:'+FB+'px;';if(K.co&IPCC.Web.UI.FontStyle.Italic){mz+='font-style:italic;';}if(K.co&IPCC.Web.UI.FontStyle.Bold){mz+='font-weight:bold;';}if((K.co&IPCC.Web.UI.FontStyle.Underline)&&(K.co&IPCC.Web.UI.FontStyle.Strikeout)){mz+='text-decoration:underline line-through;';}else if(K.co&IPCC.Web.UI.FontStyle.Underline){mz+='text-decoration:underline;';}else if(K.co&IPCC.Web.UI.FontStyle.Strikeout){mz+='text-decoration:line-through;';}}var EG={x:2,anchor:'start'};switch(K.jk){case IPCC.Web.UI.HorizontalAlignment.Left:mz+='text-align:left;';break;case IPCC.Web.UI.HorizontalAlignment.Center:mz+='text-align:center;';EG.x=(R.width/2)-3;EG.anchor='middle';break;case IPCC.Web.UI.HorizontalAlignment.Right:mz+='text-align:right;';EG.x=R.width-8;EG.anchor='end';break;default:break;}if(typeof document.documentMode==='undefined'&& !IPCC.C.xL.AO){switch(K.vM){case IPCC.Web.UI.VerticalAlignment.Center:if(K.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){this.cW(V.RX,{style:'display:table; width: 100%;'});mz+='display: table-cell; white-space: normal; vertical-align: middle; height:'+pJ+'px;';}break;case IPCC.Web.UI.VerticalAlignment.Bottom:break;default:break;}this.cW(V.mQ,{style:mz+'padding:2px;'});this.cW(V.fP,{transform:'matrix('+gE+','+(eg+R.x+(K.dW/2))+','+(dU+R.y+(K.dW/2))+')',});this.cW(V.Cr,{x:0,y:0,width:qj>K.dW?qj-K.dW:qj,height:pJ>K.dW?pJ-K.dW:pJ,});this.aon(V);}else{var vr=this.avZ(V,K.jk);var ahX=vr.length;switch(K.vM){case IPCC.Web.UI.VerticalAlignment.Center:if(K.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){Ef=(R.height/2)+(K.dH/4);if(ahX>1){Ef-=(ahX-1)*(K.dH/2);}if(Ef<0){Ef=K.dH;}}break;case IPCC.Web.UI.VerticalAlignment.Bottom:break;default:break;}this.cW(V.Bh,{x:0,y:0,width:R.width-K.dW,height:R.height-K.dW});var axO="url(#"+V.IS+")";var Xm={x:EG.x,y:(this.JS/72)*K.dH,width:R.width-K.dW,height:R.height-K.dW,'font-family':K.gk,'font-size':FB,fill:'rgba('+(yg>>16)+', '+((yg>>8)&255)+', '+(yg&255)+', '+du+')','font-weight':ZQ,'font-style':co,'text-decoration':sb,'text-anchor':EG.anchor};if(typeof Ef!=='undefined'){delete Xm.y;Xm.dy=Ef;}this.cW(V.dw,Xm);V.dw.style.opacity=du;this.cW(V.fP,{transform:'matrix('+gE+','+(eg+R.x+(K.dW/2))+','+(dU+R.y+(K.dW/2))+')','clip-path':axO});var iy=V.ajB;while(iy&&iy.firstChild){iy.removeChild(iy.firstChild);}if(K.fu){var lu=this.alJ(K.fu);for(var h=0;h<vr.length;h++){this.aDz(lu,vr[h].akN,iy,vr[h].aU);}}}},Ww:function(V){var K=V.K;if(K.am===null||K.am===undefined){return;}if(K.am.length===0&&K.cD>0&&this.H.dF().ma()){K.am=IPCC.C.SI(this.H.dF().hI(),K.aU,K.aU+K.cD-1);}if(!V.aU|| !V.cD||V.aU!==K.aU||V.cD!==K.cD||K.cQ===false||K.cQ===true){while(V.kg.firstChild){V.kg.removeChild(V.kg.firstChild);}if(V.jG){while(V.jG.firstChild){V.jG.removeChild(V.jG.firstChild);}}if(V.vG){while(V.vG.firstChild){V.vG.removeChild(V.vG.firstChild);}}if(K.cQ===false){return;}IPCC.C.forEach(V.K.am,function(fS){var aaW=this.cU('rect');V.kg.appendChild(aaW);this.cW(aaW,{x:fS.x,y:fS.y,width:fS.width,height:fS.height});if(V.jG){var ww=this.cU('line');this.cW(ww,{x1:fS.x,y1:fS.y+fS.height-1,x2:fS.x+fS.width,y2:fS.y+fS.height-1,"stroke-width":2});V.jG.appendChild(ww);}if(V.vG){aaW.setAttribute('fill','transparent');var agg=this.cU('line');var strikethroughY=fS.y+(fS.height/2);this.cW(agg,{x1:fS.x,y1:strikethroughY,x2:fS.x+fS.width,y2:strikethroughY,stroke:V.K.kR,"stroke-width":V.K.dW});V.vG.appendChild(agg);}},this);V.aU=K.aU;V.cD=K.cD;}},amV:function(V){var K=V.K;if(!K){return;}var ac=V.ac;var R,fA='',aY,jm=true,mG,wV,wB,YS,wA,FQ;var jI=false;switch(K.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:jI=true;this.aol(V);break;case IPCC.Web.UI.MarkType.Rectangle:R=K.get_rectangle();this.cW(ac,{x:R.x,y:R.y,width:R.width,height:R.height});break;case IPCC.Web.UI.MarkType.HighlightText:this.Ww(V);V.kg.style.fill=K.cw;V.kg.style.opacity=(K.du/255);this.OD(V);break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:this.Ww(V);V.kg.style.fill=K.cw;V.jG.style.stroke=K.cw;if(V.K.get_selected()){V.jG.style.opacity=IPCC.bZ.cj.Io(false,V.K.get_selected());}else{V.jG.style.opacity=IPCC.bZ.cj.Io(false,V.K.get_selected());}this.OD(V);break;case IPCC.Web.UI.MarkType.DocumentHyperlink:R=K.get_rectangle();this.cW(V.R,{x:R.x,y:R.y,width:R.width,height:R.height});if(V.ww){this.cW(V.ww,{x1:R.x,y1:R.y+R.height,x2:R.x+R.width,y2:R.y+R.height});}break;case IPCC.Web.UI.MarkType.RectangleRedaction:if(typeof V.fK!=='undefined'){if(this.H.mr()===true){V.fK.style.opacity=0.5;if(typeof V.mQ!=='undefined'){V.mQ.style.opacity=0;}else{V.dw.style.opacity=0;}}else{V.fK.style.opacity=1;if(typeof V.mQ!=='undefined'){V.mQ.style.opacity=1;}}}R=K.get_rectangle();this.cW(ac,{x:R.x,y:R.y,width:R.width,height:R.height});this.cW(V.fK,{x:R.x,y:R.y,width:R.width,height:R.height});if(this.H.mr()===false){this.Wx(V);}break;case IPCC.Web.UI.MarkType.Ellipse:R=K.get_rectangle();this.cW(ac,{cx:R.x+R.width/2,cy:R.y+R.height/2,rx:R.width/2,ry:R.height/2});break;case IPCC.Web.UI.MarkType.Polygon:aY=this.Yy(K);this.Sp(ac,aY,false);fA+='fill-rule:evenodd;';break;case IPCC.Web.UI.MarkType.Text:this.ano(V);this.Wx(V);break;case IPCC.Web.UI.MarkType.TextAreaSignature:var cd=IPCC.C.ada();var qd=IPCC.C.adf();qd.nodeValue=K.get_text();var ib=K.ib;var ba=this.H.mR().hO();R=K.get_rectangle();cd.style.width=(R.width-K.dW/2)+'px';cd.style.height=(R.height-K.dW/2)+'px';cd.style.fontFamily=K.gk;cd.style.padding='2px';cd.style.fontStyle=K.co;K.dH=IPCC.C.YT(cd,ib,ba)*72/this.JS;this.ano(V);this.Wx(V);break;case IPCC.Web.UI.MarkType.Stamp:R=K.get_rectangle();this.cW(ac,{x:R.x,y:R.y,width:R.width,height:R.height});this.cW(V.uJ,{x:R.x,y:R.y,width:R.width,height:R.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});V.uJ.style.opacity=1;this.cW(V.fK,{x:R.x,y:R.y,width:R.width,height:R.height,'stroke':K.cw,'stroke-width':'5','fill':'none','rx':10,'ry':10});var textFontSize=(R.width/6);if(textFontSize>R.height){textFontSize=(R.height-(R.height/6));}mG=V.K.get_text();if(!mG){mG='APPROVED';}V.dw.childNodes[0].data=mG;var rJ=mG.length*textFontSize;if(rJ>R.width){textFontSize=((R.width/mG.length));}FQ=Math.round(textFontSize);K.stampSize=FQ.toString();this.cW(V.dw,{x:R.x+(R.width/2),y:R.y+(R.height/2+(textFontSize/3)),'font-size':textFontSize,'stroke':K.cw,'font-family':"Arial"});break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:R=K.get_rectangle();this.cW(ac,{x:R.x,y:R.y,width:R.width,height:R.height});this.cW(V.uJ,{x:R.x,y:R.y,width:R.width,height:R.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});V.uJ.style.opacity=1;this.cW(V.fK,{x:R.x,y:R.y,width:R.width,height:R.height,'stroke':K.cw,'stroke-width':'0','fill':'none'});V.xZ.setAttribute('height',R.height);V.xZ.setAttribute('width',R.width);V.xZ.setAttribute('x',R.x);V.xZ.setAttribute('y',R.y);V.xZ.setAttributeNS('http://www.w3.org/1999/xlink','href',K.get_image());break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:this.OD(V);break;case IPCC.Web.UI.MarkType.Highlight:R=K.get_rectangle();if(R.x===0&&R.y===0){var fO=this.H.dF().hI();if(fO.ec()>0){var fI=fO.kT(K.aU);R=fI.af;}K.hQ='y';}this.cW(ac,{x:R.x,y:R.y,width:R.width,height:R.height});break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Freehand:R=K.get_rectangle();this.cW(ac,{x:R.x,y:R.y,width:R.width,height:R.height});var Mc=V.aya;if(K.afN===true){K.afN=false;Mc.setAttribute("d",K.get_pathString());var Hc=K.get_pathWidth();var Fi=K.get_pathHeight();ac.setAttribute('viewBox','0 0 '+Hc+' '+Fi);V.ahz.setAttribute('width',Hc);V.ahz.setAttribute('height',Fi);}if(K.get_visible()){V.ac.style.display='block';}else{V.ac.style.display='none';}this.aiu(V.ac,K.jk);Mc.style.stroke=K.get_lineColor();Mc.style.strokeWidth=K.get_lineWidth()+'px';Mc.style.opacity=K.get_opacity()/255;break;case IPCC.Web.UI.MarkType.SignatureText:R=K.get_rectangle();this.cW(ac,{x:R.x,y:R.y,width:R.width,height:R.height});this.cW(V.fK,{x:R.x,y:R.y,width:R.width,height:R.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});V.fK.style.opacity=1;var anS=V.K.get_text()||"";V.dw.childNodes[0].data=anS;wV=12*R.width/(K.xu||1);wB=12*R.height/(K.yU||1);wA=Math.min(wV,wB);var aqm=Math.floor(wA);K.stampSize=aqm.toString();switch(K.jk){case IPCC.Web.UI.HorizontalAlignment.Left:V.dw.setAttribute('text-anchor','start');V.dw.setAttribute('x',R.x);break;case IPCC.Web.UI.HorizontalAlignment.Right:V.dw.setAttribute('text-anchor','end');V.dw.setAttribute("x",R.x+R.width);break;default:V.dw.setAttribute('text-anchor','middle');V.dw.setAttribute("x",R.x+(R.width/2));break;}this.cW(V.dw,{y:R.y+(R.height/2+(wA/3)),'font-size':wA,'stroke':"none",'fill':K.get_fillColor(),'font-family':K.get_fontName()});if(K.get_visible()){V.ac.style.display='block';}else{V.ac.style.display='none';}break;case IPCC.Web.UI.MarkType.TextLine:this.cW(ac,{style:'fill:none;opacity:1;'+K.cQ?'display:block;':'display:none;'});R=K.get_rectangle();this.cW(ac,{x:R.x,y:R.y,width:R.width,height:R.height});fA='stroke:'+(K.jm?'black':'none')+';stroke-width:1;';this.cW(V.fK,{x:R.x,y:R.y,width:R.width,height:R.height,'stroke':K.jm?'black':'none','fill':'rgba(255, 255, 255, 0)','style':fA});V.dw.style.opacity=1;mG=V.K.get_text()||"";V.dw.childNodes[0].data=mG;YS=IPCC.C.ang(mG,K.get_fontName(),R.width,R.height,{wQ:"pre",fh:V.ac});wA=YS.fontSize;K.FB=wA;K.stampSize=wA;K.Gp=true;K.oH=YS;switch(K.jk){case IPCC.Web.UI.HorizontalAlignment.Center:V.dw.setAttribute('text-anchor','middle');V.dw.setAttribute("x",R.x+(R.width/2));break;case IPCC.Web.UI.HorizontalAlignment.Right:V.dw.setAttribute('text-anchor','end');V.dw.setAttribute("x",R.x+R.width);break;default:V.dw.setAttribute('text-anchor','start');V.dw.setAttribute('x',R.x);break;}this.cW(V.dw,{y:R.y+(R.height/2+(wA/3)),'font-size':wA,'stroke':"none",'fill':K.get_textColor(),'font-family':K.get_fontName(),'white-space':'pre'});break;case IPCC.Web.UI.MarkType.Strikethrough:this.Ww(V);this.OD(V);break;default:throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('type',K.get_type());}if(K.get_type()!==IPCC.Web.UI.MarkType.SignaturePath&&K.get_type()!==IPCC.Web.UI.MarkType.Freehand&&K.get_type()!==IPCC.Web.UI.MarkType.SignatureText&&K.get_type()!==IPCC.Web.UI.MarkType.HighlightText&&K.get_type()!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation&&K.get_type()!==IPCC.Web.UI.MarkType.DocumentHyperlink&&K.get_type()!==IPCC.Web.UI.MarkType.Strikethrough&&K.get_type()!==IPCC.Web.UI.MarkType.TextSelectionRedaction){if(jI){fA+='fill:none;';}else{if(K.GN){fA+='fill:'+K.cw+';';}else{fA+='fill:none;';}jm=K.jm;var yb=this.aaP(K.hS);if(yb!==''){fA+='stroke-dasharray:'+yb+';';}}if(jm){fA+='stroke:'+K.get_lineColor()+';';fA+='stroke-width:'+K.dW+';';}else{fA+='stroke:none;';}if(K.get_type()===IPCC.Web.UI.MarkType.SignatureText){fA+='opacity:'+1+';';}else{fA+='opacity:'+(K.du/255)+';';}if(!K.cQ){fA+='display:none;';if(V.fP){V.fP.style.display='none';}}else{if(V.fP){V.fP.style.display='block';}}this.cW(ac,{style:fA});}if(K.get_type()===IPCC.Web.UI.MarkType.Freehand){if(!K.cQ){fA+='display:none;';}else{fA+='display:block;';}this.cW(ac,{style:fA});}var bV;if(!this.H.get_areMarksEditable()){bV=this.H.get_cursor();}else if(K.nf===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled&&K.get_type()!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation&&K.get_type()!==IPCC.Web.UI.MarkType.DocumentHyperlink){bV='default';}else if(K.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||K.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink){bV=IPCC.bG.Link;}else if(K.get_type()!==IPCC.Web.UI.MarkType.Highlight&&K.get_type()!==IPCC.Web.UI.MarkType.HighlightText&&K.get_type()!==IPCC.Web.UI.MarkType.Strikethrough&&K.get_type()!==IPCC.Web.UI.MarkType.TextSelectionRedaction&& !(K.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&K.bn)){bV=IPCC.bG.Move;}else{bV=IPCC.bG.Arrow;}ac.style.cursor=IPCC.bG.fg(bV);if(V.fP){V.fP.style.cursor=IPCC.bG.fg(bV);}},aiu:function(ac,GP){switch(GP){case IPCC.Web.UI.HorizontalAlignment.Left:ac.setAttribute('preserveAspectRatio','xMinYMid');break;case IPCC.Web.UI.HorizontalAlignment.Center:ac.setAttribute('preserveAspectRatio','xMidYMid');break;case IPCC.Web.UI.HorizontalAlignment.Right:ac.setAttribute('preserveAspectRatio','xMaxYMid');break;}},OD:function(V){var K=V.K,aBg=K.get_visible();var R=K.get_rectangle();if(R.x===0&&R.y===0){return;}var iy=V.iy;while(iy.firstChild){iy.removeChild(iy.firstChild);}var jb;for(var h=0;h<K.fu.length;h++){for(var as=0;as<K.fu[h].length;as++){var aiG=this.H.dF().hI();if(aiG.ec()>0){var ayX=aiG.kT(K.fu[h].startIndex+as);jb=ayX.af;}var ak=this.cU('rect');this.cW(ak,{x:jb.x,y:jb.y,width:jb.width,height:jb.height,fill:K.fu[h].color,display:(aBg)?'block':'none'});ak.style.opacity=(K.fu[h].opacity)?(K.fu[h].opacity)/255.0:0.5;iy.appendChild(ak);}}},aaP:function(hS){switch(hS){case IPCC.Web.UI.LineStyle.Dash:return '7,7';case IPCC.Web.UI.LineStyle.Dot:return '1,7';case IPCC.Web.UI.LineStyle.DashDot:return '7,7,1,7';case IPCC.Web.UI.LineStyle.DashDotDot:return '7,7,1,7,1,7';default:break;}return '';},Rw:function(V){if(V.ac){this.aj.Bp.removeChild(V.ac);}if(V.fP){this.aj.Bp.removeChild(V.fP);}delete V.ac;},aIB:function(){},ass:function(){this.aj=undefined;},cU:function(bd){return document.createElementNS('http://www.w3.org/2000/svg',bd);},cW:function(ac,bH){var h;for(h in bH){if(bH.hasOwnProperty(h)){var attr=bH[h];ac.setAttribute(h,attr!==undefined&&attr!==null?attr.toString():'');}}}};module.exports=ams;},{}],18:[function(require,module,exports){var MO=require('./ArtSVGUIDirector');var cj=MO;cj.Io=function(isMouseOver,isSelected){return(isSelected?127:(isMouseOver?127:63))/255;};cj.afo=function(){return 39/255;};cj.aFY=function(isSelected){return isSelected?"purple":"blue";};cj.prototype.avJ=function(gX,le,zF,sn,zi){var dr={gX:gX,le:le,zF:zF,sn:sn,zi:zi};if(gX.x===le.x&&gX.y===le.y){dr.zi=IPCC.Web.UI.LineHeadType.None;}var NK=Math.atan2(gX.x-le.x,-(gX.y-le.y))+Math.PI/2;zF*=Math.PI/180;var hX=NK+zF;dr.Dr={x:gX.x+Math.cos(hX)*sn,y:gX.y+Math.sin(hX)*sn};hX=NK-zF;dr.EN={x:gX.x+Math.cos(hX)*sn,y:gX.y+Math.sin(hX)*sn};switch(dr.zi){case IPCC.Web.UI.LineHeadType.Solid:case IPCC.Web.UI.LineHeadType.Open:dr.FO={x:(dr.Dr.x+dr.EN.x)/2,y:(dr.Dr.y+dr.EN.y)/2};break;case IPCC.Web.UI.LineHeadType.PointerSolid:dr.FO={x:gX.x+Math.cos(NK)*sn/2,y:gX.y+Math.sin(NK)*sn/2};break;default:dr.FO=gX;break;}return dr;};cj.prototype.axc=function(V){var K=V.K;var R=K.get_rectangle();var IA={x:K.mc.x+R.x+0.00001,y:K.mc.y+R.y+0.00001};var aE={};var gR=[{x:R.x,y:R.y},{x:R.x+R.width,y:R.y},{x:R.x+R.width,y:R.y+R.height},{x:R.x,y:R.y+R.height}];if(!K.yT){aE.ajs=gR;aE.YN= !K.jm;return aE;}var h,afl=[];for(h=0;h<4;h++){afl.push({x:(gR[h].x+gR[(h+3)%4].x)/2,y:(gR[h].y+gR[(h+3)%4].y)/2,aCc:true});}for(h=3;h>=0;h--){gR.splice(h,0,afl[h]);}function acC(OA){var vH,akm;vH=(IA.x-(gR[OA].x+gR[(OA+1)%8].x)/2)*R.height;akm=vH*vH;vH=(IA.y-(gR[OA].y+gR[(OA+1)%8].y)/2)*R.width;return akm+vH*vH;};var Ti=0,adu=acC(0),gd;for(h=1;h<8;h++){gd=acC(h);if(gd<adu){adu=gd;Ti=h;}}gR=gR.slice(Ti+1).concat(gR.slice(0,Ti+1));var Gi=gR[0],Fz=gR[7];for(h=gR.length-1;h>=0;h--){if(gR[h].aCc){gR.splice(h,1);}}switch(K.Ce){case IPCC.Web.UI.CalloutType.Triangle:gR.splice(0,0,{x:(Gi.x*3+Fz.x)/4,y:(Gi.y*3+Fz.y)/4});gR.push({x:(Gi.x+Fz.x*3)/4,y:(Gi.y+Fz.y*3)/4});if(K.As){aE.YN=true;aE.Sc=[].concat(gR);aE.OU=[gR[0],IA,gR[gR.length-1]];}gR.push(IA);break;default:case IPCC.Web.UI.CalloutType.Line:aE.OU=[{x:(Gi.x+Fz.x)/2,y:(Gi.y+Fz.y)/2},IA];break;}aE.ajs=gR;if(!K.jm){aE.YN=true;delete aE.Sc;delete aE.OU;}return aE;};cj.prototype.Yy=function(K){var aY=K.get_points();var gH=[],h;for(h=0;h<aY.get_length();h++){gH.push(aY.getPoint(h));}return gH;};cj.prototype.aaq=function(gH,aEp){var bp=0,KC=1,abY=gH.length-2,gX,le;if(!aEp){bp=gH.length-1;KC= -1;}gX=gH[bp];bp+=KC;le=gH[bp];bp+=KC;while(gX.x===le.x&&gX.y===le.y&&abY>0){le=gH[bp];bp+=KC;abY--;}return{gX:gX,le:le};};cj.prototype.alI=function(H,aj,bb,jU){if(IPCC.C.abI){return;}if(!aj.lX){aj.lX=[];}var lX=aj.lX;if(bb.length<1&&lX.length<1){if(aj.yF.firstChild){aj.yF.innerHTML='';}return;}var aO=H.dV();var eO=aO.Ac();if(this.hu===undefined){this.hu=40;var yR=document.createElement("div");yR.className='pccMarkHandleTopLeft';yR.visibility='hidden';document.body.appendChild(yR);if(yR.currentStyle){this.hu=parseInt(yR.currentStyle.width,10)||0;}else if(document.defaultView&&document.defaultView.getComputedStyle){var aEz=document.defaultView.getComputedStyle(yR);this.hu=parseInt(aEz.width,10)||0;}document.body.removeChild(yR);}var h,FZ=[];for(h=0;h<bb.length;h++){if(bb[h].get_visible()===true){if(eO.Iz(bb[h])>=0||(bb[h].get_selected()===true&&(bb[h].lq===true||bb[h].kG===true))||bb[h].ym===true){FZ.push(bb[h]);}}}for(h=0;h<lX.length;h++){while(h<lX.length&&(h>=FZ.length||lX[h].K!==FZ[h])){aj.yF.removeChild(lX[h].fU);lX.splice(h,1);}if(h<lX.length){this.anr(lX[h],jU);}}for(h=lX.length;h<FZ.length;h++){lX[h]={K:FZ[h]};this.axm(aj.yF,lX[h]);this.anr(lX[h],jU);}};cj.prototype.wc=function(fU,avY,El,uG,asn,bV,cS){var cJ=[],h,bE;if(cS===undefined){cS='handle';}for(h=0;h<avY;h++){bE={ac:document.createElement('div')};bE.ac.ImGearMarkHandle=bE;bE.bV=bV;bE.bd=uG;bE.bp=asn+h;fU.appendChild(bE.ac);bE.ac.setAttribute('data-pcc-mark',cS+'-'+fU.ImGearMarkRelation.K.jR());cJ.push(bE);}return cJ;};cj.prototype.aom=function(cr){if(cr.cJ===undefined||this.H.get_areMarksEditable()===false){return;}var h;for(h=0;h<cr.cJ.length;h++){var bE=cr.cJ[h];bE.ac.style.cursor=IPCC.bG.fg(bE.bV);}};cj.prototype.axm=function(yF,cr){cr.fU=document.createElement('div');cr.fU.style.width='0px';cr.fU.style.height='0px';cr.fU.style.left='0px';cr.fU.style.top='0px';cr.fU.style.zIndex='1';var h,K=cr.K,bE;cr.fU.ImGearMarkRelation=cr;switch(K.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:cr.cJ=this.wc(cr.fU,2,this.hu,this.GX,0,IPCC.bG.Move);cr.cJ=cr.cJ.concat(this.wc(cr.fU,2,this.hu,this.Jj,0,IPCC.bG.Move));break;case IPCC.Web.UI.MarkType.Polygon:cr.cJ=[];break;case IPCC.Web.UI.MarkType.Freehand:cr.cJ=[];cr.ji=document.createElement('div');cr.ji.style.border='1px solid gray';cr.ji.style.position='absolute';cr.fU.appendChild(cr.ji);break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:if(K.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&K.bn!==undefined){break;}cr.ji=document.createElement('div');cr.ji.style.border='1px solid gray';cr.ji.style.position='absolute';cr.fU.appendChild(cr.ji);cr.cJ=this.wc(cr.fU,4,this.hu,this.UO,0,-1);cr.cJ=cr.cJ.concat(this.wc(cr.fU,4,this.hu,this.Uq,0,-1));for(h=4;h<8;h++){bE=cr.cJ[h];bE.avp=cr.cJ[h-4];bE.awp=cr.cJ[(h+1)%4];}if(K.get_type()===IPCC.Web.UI.MarkType.Text){cr.cJ=cr.cJ.concat(this.wc(cr.fU,1,this.hu,this.Ub,0,IPCC.bG.Move));}break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:cr.cJ=this.wc(cr.fU,1,this.hu,this.GX,0,IPCC.bG.Move,'texthandlestart');cr.cJ=cr.cJ.concat(this.wc(cr.fU,1,this.hu,this.GX,1,IPCC.bG.Move,'texthandleend'));break;}if(K.jr()===IPCC.Web.UI.MarkType.Text||K.jr()===IPCC.Web.UI.MarkType.TextLine||K.jr()===IPCC.Web.UI.MarkType.TextAreaSignature){var nz=document.createElement('div');nz.className='pccEditMarkButton';nz.setAttribute('data-pcc-mark','edit-'+K.jR());nz.onclick=function(az){az=az||{};az.stopPropagation?az.stopPropagation():az.cancelBubble=true;az.preventDefault?az.preventDefault():az.returnValue=false;var om;var tN=cr.fU;while(tN&&(tN.parentNode||tN.ownerSVGElement)){if(tN.parentNode.id&&tN.parentNode.id.indexOf("__pViewId")!== -1){om=tN.parentNode;}tN=tN.ownerSVGElement||tN.parentNode;}om&&om.aQ.axq(az,K);};cr.fU.appendChild(nz);var ayO={ac:nz};cr.cJ.push(ayO);}yF.appendChild(cr.fU);};cj.kr={TopLeft:0,TopRight:1,BottomLeft:2,BottomRight:3,TopCenter:4,MidRight:5,BottomCenter:6,MidLeft:7,Point:8,TextSelectionStart:9,TextSelectionEnd:10,Callout:11};cj.prototype.UO=0;cj.prototype.Uq=1;cj.prototype.Jj=2;cj.prototype.GX=3;cj.prototype.Ub=4;cj.prototype.ajc=function(bE,aDW){switch(aDW){case IPCC.bZ.cj.kr.TopLeft:bE.ac.className='pccMarkHandleTopLeft';break;case IPCC.bZ.cj.kr.TopCenter:bE.ac.className='pccMarkHandleTopCenter';break;case IPCC.bZ.cj.kr.TopRight:bE.ac.className='pccMarkHandleTopRight';break;case IPCC.bZ.cj.kr.MidLeft:bE.ac.className='pccMarkHandleMidLeft';break;case IPCC.bZ.cj.kr.MidRight:bE.ac.className='pccMarkHandleMidRight';break;case IPCC.bZ.cj.kr.BottomLeft:bE.ac.className='pccMarkHandleBottomLeft';break;case IPCC.bZ.cj.kr.BottomCenter:bE.ac.className='pccMarkHandleBottomCenter';break;case IPCC.bZ.cj.kr.BottomRight:bE.ac.className='pccMarkHandleBottomRight';break;case IPCC.bZ.cj.kr.Point:bE.ac.className='pccMarkHandlePoint';break;case IPCC.bZ.cj.kr.TextSelectionStart:bE.ac.className='pccMarkHandleTextSelectionStart';break;case IPCC.bZ.cj.kr.TextSelectionEnd:bE.ac.className='pccMarkHandleTextSelectionEnd';break;default:bE.ac.className='pccMarkHandlePoint';break;}};cj.prototype.zw=function(bE,azc,jU,El,nB){bE.aX=jU.transform(azc);bE.ac.style.left=(bE.aX.x-El/2)+'px';bE.ac.style.top=(bE.aX.y-El/2)+'px';bE.ac.style.display='block';bE.ac.style.zIndex='1';this.ajc(bE,nB);};cj.prototype.adn=function(bE,El,nB){bE.ac.style.left=(bE.aX.x-El/2)+'px';bE.ac.style.top=(bE.aX.y-El/2)+'px';bE.ac.style.display='block';bE.ac.style.zIndex='1';this.ajc(bE,nB);};cj.prototype.sh=function(bE){bE.ac.style.display='none';};cj.prototype.anr=function(cr,jU){if(this.H.get_areMarksEditable()===true){cr.fU.style.cursor='move';}var h,K=cr.K,cJ=cr.cJ,bE;var gH,R,qq,kn,uG,fd;var gd,DJ,eg,dU,Qj;switch(K.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:gH=this.Yy(K);DJ=gH.length+2-cJ.length;if(DJ>0){cr.cJ=cr.cJ.concat(this.wc(cr.fU,DJ,this.hu,this.Jj,cJ.length-2,IPCC.bG.Move));cJ=cr.cJ;}for(h=0;h<gH.length;h++){this.zw(cJ[h+2],gH[h],jU,this.hu,IPCC.bZ.cj.kr.Point);}for(h=gH.length+2;h<cJ.length;h++){this.sh(cJ[h+2]);}break;case IPCC.Web.UI.MarkType.Polygon:gH=this.Yy(K);DJ=gH.length-cJ.length;if(DJ>0){cr.cJ=cr.cJ.concat(this.wc(cr.fU,DJ,this.hu,this.Jj,cJ.length,IPCC.bG.Move));cJ=cr.cJ;}for(h=0;h<gH.length;h++){this.zw(cJ[h],gH[h],jU,this.hu,IPCC.bZ.cj.kr.Point);}for(h=gH.length;h<cJ.length;h++){this.sh(cJ[h]);}break;case IPCC.Web.UI.MarkType.Freehand:R=K.eG();qq=jU.transform({x:R.x,y:R.y});kn=jU.transform({x:R.x+R.width,y:R.y+R.height});fd={x:Math.min(qq.x,kn.x),y:Math.min(qq.y,kn.y)};fd.width=Math.max(qq.x,kn.x)-fd.x;fd.height=Math.max(qq.y,kn.y)-fd.y;cr.ji.style.left=fd.x+'px';cr.ji.style.top=fd.y+'px';cr.ji.style.width=fd.width+'px';cr.ji.style.height=fd.height+'px';cr.ji.setAttribute('data-pcc-mark','outline-'+K.jR());break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:if(K.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&K.bn!==undefined){break;}R=K.eG();cJ[0].aX=jU.transform({x:R.x,y:R.y});cJ[1].aX=jU.transform({x:R.x+R.width,y:R.y});cJ[2].aX=jU.transform({x:R.x+R.width,y:R.y+R.height});cJ[3].aX=jU.transform({x:R.x,y:R.y+R.height});fd={x:Math.min(cJ[0].aX.x,cJ[2].aX.x),y:Math.min(cJ[0].aX.y,cJ[2].aX.y)};fd.width=Math.max(cJ[0].aX.x,cJ[2].aX.x)-fd.x;fd.height=Math.max(cJ[0].aX.y,cJ[2].aX.y)-fd.y;Qj={x:fd.x+fd.width/2,y:fd.y+fd.height/2};for(h=0;h<4;h++){bE=cJ[h];uG=(bE.aX.x<Qj.x)?((bE.aX.y<Qj.y)?0:2):((bE.aX.y<Qj.y)?1:3);this.adn(bE,this.hu,uG);switch(uG){case 0:bE.bV=IPCC.bG.ResizeNW;break;case 1:bE.bV=IPCC.bG.ResizeNE;break;case 2:bE.bV=IPCC.bG.ResizeSW;break;case 3:bE.bV=IPCC.bG.ResizeSE;break;}}cr.ji.style.left=fd.x+'px';cr.ji.style.top=fd.y+'px';cr.ji.style.width=fd.width+'px';cr.ji.style.height=fd.height+'px';cr.ji.setAttribute('data-pcc-mark','outline-'+K.jR());var aEM=fd.x+fd.width/4;var aok=fd.x+fd.width*3/4;var aEB=fd.y+fd.height/4;var aoG=fd.y+fd.height*3/4;if(this.aA.zS()===IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose){qq=cJ[0].aX;kn=cJ[1].aX;var ayU=cJ[2].aX;eg=qq.x-kn.x;dU=kn.y-ayU.y;var aqn=eg*eg;var ard=dU*dU;if(Math.min(aqn,ard)<this.hu*this.hu*5){this.sh(cJ[0]);this.sh(cJ[1]);this.sh(cJ[2]);this.sh(cJ[3]);}}for(h=4;h<8;h++){bE=cJ[h];qq=bE.avp.aX;kn=bE.awp.aX;eg=qq.x-kn.x;dU=qq.y-kn.y;gd=eg*eg+dU*dU;if(this.aA.zS()===IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose&&gd<this.hu*this.hu*5){this.sh(bE);}else{bE.aX={x:(qq.x+kn.x)/2,y:(qq.y+kn.y)/2};this.adn(bE,this.hu,h);if(bE.aX.x<aEM){bE.bV=IPCC.bG.ResizeW;}else if(bE.aX.x>aok){bE.bV=IPCC.bG.ResizeE;}else if(bE.aX.y<aEB){bE.bV=IPCC.bG.ResizeN;}else if(bE.aX.y>aoG){bE.bV=IPCC.bG.ResizeS;}}}if(K.get_type()===IPCC.Web.UI.MarkType.Text){if(K.yT){this.zw(cJ[8],{x:R.x+K.mc.x,y:R.y+K.mc.y},jU,this.hu,IPCC.bZ.cj.kr.Callout);}else{this.sh(cJ[8]);}}break;case IPCC.Web.UI.MarkType.DocumentHyperlink:return;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:cr.fU.style.cursor='move';var fI,jb,yZ;var Fg=this.H.dF();var fO=Fg.hI();if(K.lq===true){yZ=K.aU;if(yZ>=fO.ec()){fI=fO.kT(fO.ec()-1);jb=fI.tC();this.zw(cJ[0],new IPCC.Web.UI.Point(jb.x+jb.width,jb.y),jU,this.hu,IPCC.bZ.cj.kr.TextSelectionStart);break;}fI=fO.kT(K.aU);jb=fI.tC();this.zw(cJ[0],new IPCC.Web.UI.Point(jb.x,jb.y),jU,this.hu,IPCC.bZ.cj.kr.TextSelectionStart);}else{this.sh(cJ[0]);}if(K.kG===true){yZ=K.aU+K.cD-1;if(yZ<0){fI=fO.kT(0);jb=fI.tC();this.zw(cJ[1],new IPCC.Web.UI.Point(jb.x,jb.y+jb.height),jU,this.hu,IPCC.bZ.cj.kr.TextSelectionEnd);break;}fI=fO.kT(yZ);jb=fI.tC();this.zw(cJ[1],new IPCC.Web.UI.Point(jb.x+jb.width,jb.y+jb.height),jU,this.hu,IPCC.bZ.cj.kr.TextSelectionEnd);}else{this.sh(cJ[1]);}break;}if(K.get_type()===IPCC.Web.UI.MarkType.Text||K.get_type()===IPCC.Web.UI.MarkType.TextLine||K.get_type()===IPCC.Web.UI.MarkType.TextAreaSignature){var wr=cJ[cJ.length-1];if(wr.ac.className.match(/pcc/)){var QZ=cr.ji.clientHeight;var Qs=cr.ji.clientWidth;var ajt=cr.ji.offsetTop;var ail=cr.ji.offsetLeft;var agU=wr.ac.clientHeight;var Qx=wr.ac.clientWidth;wr.ac.style.position='absolute';wr.ac.style.zIndex='2';if(QZ>agU+10&&Qs>Qx+10){wr.ac.style.top=(QZ-agU)/2+ajt+'px';wr.ac.style.left=(Qs-Qx)/2+ail+'px';}else{wr.ac.style.top=QZ+ajt+10+'px';wr.ac.style.left=(Qs-Qx)/2+ail+'px';}}}this.aom(cr);};cj.prototype.alJ=function(hJ,tm){var aBy=IPCC.C.anl(hJ,tm||'#ffffff'),aAf=IPCC.C.map(aBy,function(bg){return{aU:bg.startIndex,cZ:bg.endIndex,DI:bg.color};});return aAf;};cj.prototype.aon=function(V){var K=V.K;if(K.fu){var lu=this.alJ(K.fu);var Bd=K.bo;var zh='';for(var h=lu.length-1;h>=0;h--){var Tk=lu[h];var aU=Tk.aU;var cZ=Tk.cZ;var db=Tk.DI;var cO=IPCC.C.Gw(Bd.substr(aU,cZ-aU+1));var aoS=IPCC.C.Gw(Bd.substr(cZ+1,Bd.length-cZ+1));Bd=Bd.substr(0,aU);zh="<span style='background-color:"+db+";'>"+cO+'</span>'+aoS+zh;}zh=IPCC.C.Gw(Bd)+zh;zh=zh.replace(/\n/g,'<br/>');V.mQ.innerHTML=zh;}else{V.yN.data=K.bo;}};module.exports=cj;},{"./ArtSVGUIDirector":17}],19:[function(require,module,exports){var gW={};gW.InternetExplorer={};gW.Firefox={};gW.Safari={};gW.Opera={};gW.agent=null;gW.hasDebuggerStatement=false;gW.name=navigator.appName;gW.version=parseFloat(navigator.appVersion);gW.documentMode=0;gW.getBrowserInfo=function getBrowserInfo(){if(navigator.userAgent.indexOf(' MSIE ')> -1){IPCC.gW.agent=IPCC.gW.InternetExplorer;IPCC.gW.version=parseFloat(navigator.userAgent.match(/MSIE (\d+\.\d+)/)[1]);if(IPCC.gW.version>=8){if(document.documentMode>=7){IPCC.gW.documentMode=document.documentMode;}}IPCC.gW.hasDebuggerStatement=true;}else if(navigator.userAgent.indexOf(' Firefox/')> -1){IPCC.gW.agent=IPCC.gW.Firefox;IPCC.gW.version=parseFloat(navigator.userAgent.match(/ Firefox\/(\d+\.\d+)/)[1]);IPCC.gW.name='Firefox';IPCC.gW.hasDebuggerStatement=true;}else if(navigator.userAgent.indexOf(' AppleWebKit/')> -1){IPCC.gW.agent=IPCC.gW.Safari;IPCC.gW.version=parseFloat(navigator.userAgent.match(/ AppleWebKit\/(\d+(\.\d+)?)/)[1]);IPCC.gW.name='Safari';}else if(navigator.userAgent.indexOf('Opera/')> -1){IPCC.gW.agent=IPCC.gW.Opera;}};module.exports=gW;},{}],20:[function(require,module,exports){var tE={Ja:function(){var wN=IPCC.tE;if(wN.uV===null){
/*@cc_on@if(@_jscript)wN.uV=document.documentMode>8;@else@*/ wN.uV=true;/*@end@*/}return wN.uV;},uV:null};module.exports=tE;},{}],21:[function(require,module,exports){var fB=function(XZ,aDu){this.H=false;this.XZ=XZ;var mq=IPCC.Web.UI;var aF=aDu;if(!aF||aF===null){aF=IPCC.akC;}this.aF=aF;var aoR={bo:aF.zoomInMenuItem,eZ:IPCC.ee.afr,T:1.25};var anC={bo:aF.zoomOutMenuItem,eZ:IPCC.ee.aep,T:1.25};var asM={bo:aF.fullImageMenuItem,T:mq.FitType.FullImage};var arH={bo:aF.fullWidthMenuItem,T:mq.FitType.FullWidth};var asc={bo:aF.fullHeightMenuItem,T:mq.FitType.FullHeight};var aEg={bo:aF.oneToOneRatioMenuItem,T:mq.FitType.OneToOne};var atJ={bo:aF.actualSizeMenuItem,T:mq.FitType.ActualSize};var aAM={bo:aF.rotateRightMenuItem,eZ:IPCC.ee.YC,T:90};var aAj={bo:aF.rotateLeftMenuItem,eZ:IPCC.ee.YC,T: -90};var aFp={bo:aF.mirrorHorizontalMenuItem,eZ:IPCC.ee.ahI};var aFB={bo:aF.mirrorVerticalMenuItem,eZ:IPCC.ee.agy};var Wq={bo:aF.panToolMenuItem,T:mq.MouseTool.HandPan};var WE={bo:aF.areaSelectionToolMenuItem,T:mq.MouseTool.Select};var Vn={bo:aF.zoomRectangleToolMenuItem,T:mq.MouseTool.RectangleZoom};var Ye={bo:aF.flyingMagnifierToolMenuItem,T:mq.MouseTool.Magnifier};var awA={bo:aF.createTextMarkToolMenuItem,T:mq.MouseTool.CreateTextMark};var ayP={bo:aF.createLineMarkToolMenuItem,T:mq.MouseTool.CreateLineMark};var awy={bo:aF.createRectangleMarkToolMenuItem,T:mq.MouseTool.CreateRectangleMark};var avw={bo:aF.createEllipseMarkToolMenuItem,T:mq.MouseTool.CreateEllipseMark};var aqI={bo:aF.editMarksToolMenuItem,T:mq.MouseTool.EditMarks};var avL={bo:aF.createStampMarkToolMenuItem,T:mq.MouseTool.CreateStampMark};var awk={bo:aF.createHighlightMarkToolMenuItem,T:mq.MouseTool.CreateHighlightTextMark};var afy={aK:55,cc:[{bo:aF.thicknessMenu.item1,T:1},{bo:aF.thicknessMenu.item2,T:2},{bo:aF.thicknessMenu.item3,T:3},{bo:aF.thicknessMenu.item4,T:4},{bo:aF.thicknessMenu.item5,T:5},{bo:aF.thicknessMenu.item6,T:6},{bo:aF.thicknessMenu.item7,T:7},{bo:aF.thicknessMenu.item8,T:8}]};var aAn={aK:145,cc:[{bo:aF.opacityMenu.translucent,T:127},{bo:aF.opacityMenu.opaque,T:255}]};var OC={bo:aF.borderThicknessMenuItem,eZ:IPCC.ee.FG,by:'lineWidth',mP:afy};var Ou={bo:aF.borderColorMenuItem,eZ:IPCC.ee.MI,by:'lineColor'};var Ht={bo:aF.fillColorMenuItem,eZ:IPCC.ee.MI,by:'fillColor'};var amO={bo:aF.lineThicknessMenuItem,eZ:IPCC.ee.FG,by:'lineWidth',mP:afy};var aki={bo:aF.lineColorMenuItem,eZ:IPCC.ee.MI,by:'lineColor'};var asl={bo:aF.fontMenuItem,eZ:IPCC.ee.ahQ};var Mv={bo:aF.opacityMenuItem,eZ:IPCC.ee.FG,by:'opacity',mP:aAn};var aDT={bo:aF.moveToBackMenuItem,eZ:IPCC.ee.aag};var aFl={bo:aF.moveBackwardMenuItem,eZ:IPCC.ee.adk};var aDH={bo:aF.moveForwardMenuItem,eZ:IPCC.ee.abP};var aDR={bo:aF.moveToFrontMenuItem,eZ:IPCC.ee.abQ};var uv={bo:aF.deleteMarkMenuItem,eZ:IPCC.ee.aer};var anJ={aK:180,cc:[asM,arH,asc,aEg,atJ]};var apg={bo:aF.zoomToFitMenuItem,eZ:IPCC.ee.aeA,mP:anJ};var aAo={aK:200,cc:[aAM,aAj,aFp,aFB]};var aAO={bo:aF.orientationMenuItem,mP:aAo};var NG;if(IPCC.bZ){if(IPCC.gu===false){NG={aK:180,cc:[Wq,Vn,Ye,WE,null]};}else{NG={aK:180,cc:[Wq,Vn,Ye,WE,null,aqI,awA,ayP,awy,avw,avL,awk]};}}else{NG={aK:180,cc:[Wq,Vn,Ye,WE]};}var aGc={bo:aF.mouseToolsMenuItem,eZ:IPCC.ee.aje,mP:NG};var aBm={aK:150,cc:[Ht,OC,Ou,null,Mv]};var aqT={aK:150,cc:[Ht,OC,Ou,null,null]};var aCf={aK:150,bo:aF.rectangleMarkPropertiesMenuItem,mP:aBm};var aqB={aK:150,bo:aF.rectangleMarkPropertiesMenuItem,mP:aqT};var apl={aK:150,cc:[asl,Ht,OC,Ou,null,null,null,Mv]};var aoh={bo:aF.textMarkPropertiesMenuItem,mP:apl};var ayz={aK:150,cc:[Ht,OC,Ou,null,Mv]};var ayf={bo:aF.polygonMarkPropertiesMenuItem,mP:ayz};var ayg={aK:140,cc:[amO,aki,null,Mv]};var axU={bo:aF.polylineMarkPropertiesMenuItem,mP:ayg};var aEZ={aK:140,cc:[amO,aki,null,null]};var aFk={bo:aF.lineMarkPropertiesMenuItem,mP:aEZ};var aGu={aK:140,cc:[aDR,aDH,aFl,aDT]};var wn={bo:aF.markOrderingMenuItem,mP:aGu};var aqY={aK:150,cc:[Ht]};var act={bo:aF.stampMarkPropertiesMenuItem,mP:aqY};this.apo={aK:180,cc:[aoR,anC,apg,aAO,aGc]};this.aos={aK:140,cc:[aoh,wn,uv]};this.aCv={aK:140,cc:[aCf,wn,uv]};this.arb={aK:140,cc:[act,wn,uv]};this.ara={aK:140,cc:[null,wn,uv]};this.ark={aK:140,cc:[aqB,wn,uv]};this.ayR={aK:140,cc:[ayf,wn,uv]};this.axx={aK:140,cc:[axU,wn,uv]};this.aFu={aK:140,cc:[aFk,wn,uv]};this.aEh={aK:140,cc:[act,null,uv]};};fB.prototype.nd=function(H){this.H=H;};fB.prototype.fa=function(){this.H=false;};fB.prototype.au=function(){};fB.prototype.SC=function(F){var iF;if(F.mark&&this.XZ){var Nz=F.mark.iP();switch(F.mark.get_type()){case IPCC.Web.UI.MarkType.Line:iF=this.aFu;break;case IPCC.Web.UI.MarkType.Polyline:iF=this.axx;break;case IPCC.Web.UI.MarkType.Rectangle:iF=this.aCv;break;case IPCC.Web.UI.MarkType.Ellipse:iF=this.ark;break;case IPCC.Web.UI.MarkType.Polygon:iF=this.ayR;break;case IPCC.Web.UI.MarkType.Text:iF=this.aos;break;case IPCC.Web.UI.MarkType.Stamp:if(Nz===true){iF=this.ara;}else{iF=this.arb;}break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.Highlight:if(F.mark.hQ==='y'){iF=this.aEh;}break;}}if(!iF){iF=this.apo;}var tF=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var uW=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var acS=new IPCC.Web.UI.Point(F.domEvent.clientX+tF,F.domEvent.clientY+uW);var J=this;function wq(ar){if(rS){var aI=ar.target;if(aI&&aI===null){return;}var Bm,ahO;while(aI&&aI!==document.body&&aI.parentNode!==null){if(aI&&aI!==null){if(aI===rS){ahO=true;}if(!Bm&&aI.ImGearCommand){Bm=aI.ImGearCommand;}aI=aI.parentNode;}}if(!ahO||Bm){IPCC.Web.UI.bI.removeHandler(document.body,'mousedown',wq);IPCC.Web.UI.bI.removeHandler(document.body,'mousemove',abj);document.body.removeChild(rS);rS=null;if(Bm){Bm.QM=F;J.aqM(Bm);}}}};function Vo(Kp,xf,yd,Hn){var cQ=false,h,aI;for(h=0;h<xf.length;h++){if(Kp===xf[h]){cQ=true;}}if(!cQ&&Kp.ImGearType==='menu'){Kp.style.display='none';}else{Kp.style.display='block';}aI=Kp.firstChild;while(aI){if(aI.ImGearType==='menuItemHighlight'){if(aI===Hn){aI.style.display='block';}else{aI.style.display='none';}}if(aI.firstChild){Vo(aI,xf,yd,Hn);}aI=aI.nextSibling;}};function abj(ar){if(rS){var aI=ar.target;if(aI&&aI===null){return;}var xf=[rS],yd,Hn;while(aI&&aI!==document.body&&aI.parentNode!==null){if(!yd&&aI.ImGearType==='menuItem'){yd=aI;}if(aI.ImGearType==='menu'){xf.push(aI);}aI=aI.parentNode;}if(yd){aI=yd.firstChild;while(aI){if(aI.ImGearType==='menuItemHighlight'){Hn=aI;}else if(aI.ImGearType==='menu'){xf.push(aI);}aI=aI.nextSibling;}}Vo(rS,xf,yd,Hn);}};var af;if(window.innerWidth){af={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){af={x:tF,y:uW,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{af={x:tF,y:uW,width:document.body.clientWidth,height:document.body.clientHeight};}var rS=this.alu(iF,false,false,acS,acS,true,af,document.body,F.mark);Vo(rS,[rS],null,null);document.body.appendChild(rS);IPCC.Web.UI.bI.addHandler(document.body,'mousedown',wq);IPCC.Web.UI.bI.addHandler(document.body,'mousemove',abj);};fB.prototype.alu=function(iF,eZ,by,YD,ZI,BC,af,axF,K){var ace=24,aef=1;var h,aaQ=0;for(h=0;h<iF.cc.length;h++){var aFD=iF.cc[h];if(aFD){aaQ+=ace;}else{aaQ+=aef;}}var NS;if(BC){NS=ZI.x+iF.aK;if(NS>af.x+af.width){BC=false;}}if(!BC){NS=YD.x-iF.aK;if(NS<af.x){BC=true;}}var sq={x:ZI.x,y:ZI.y};if(!BC){sq={x:YD.x-iF.aK-2,y:YD.y-2};}var aiR=af.y+af.height-aaQ-8;if(sq.y>aiR){sq.y=aiR;}if(sq.y<af.y+2){sq.y=af.y+2;}function gD(pz){var yM=document.createElement('div');var h;for(h in pz){if(pz.hasOwnProperty(h)){yM.style[h]=pz[h];}}return yM;};var Op=gD({zIndex:2,width:iF.aK+'px',left:sq.x+'px',top:sq.y+'px',margin:'0px',padding:'0px',border:'1px solid #C0C0C0',position:'absolute',backgroundColor:'#F0F0F0',color:'Black',fontSize:'11px',fontFamily:'Arial, Helvetica, sans-serif',fontWeight:'bold',boxShadow:'0 2px 3px rgba(0,0,0,.2)'});Op.ImGearType='menu';for(h=0;h<iF.cc.length;h++){var vT=iF.cc[h];var tP;if(vT){tP=gD({position:'relative',height:'24px'});tP.ImGearType='menuItem';var zx=gD({position:'absolute',width:'24px',overflow:'hidden',borderRight:'1px solid #E0E0E0',height:'24px',textAlign:'center'});tP.appendChild(zx);var ajI=gD({textOverflow:'ellipsis',whiteSpace:'nowrap',width:iF.aK-44+'px',position:'absolute',left:'25px',padding:'0 0 0 4px',overflow:'hidden',borderLeft:'1px solid #FFFFFF',height:'24px',lineHeight:'24px'});tP.appendChild(ajI);var aly=gD({display:'none',position:'absolute',height:'24px',width:iF.aK+'px',backgroundColor:'#00C0E0',filter:'progid:DXImageTransform.Microsoft.Alpha(opacity=30)',opacity:'.3'});aly.ImGearType='menuItemHighlight';tP.appendChild(aly);ajI.appendChild(document.createTextNode(vT.bo));var Ot=vT.eZ||eZ;var Fa=vT.by||by;if(Fa){if(Ot===IPCC.ee.FG){var auZ=K['get_'+Fa]();if(auZ===vT.T){if(this.H.wG()){zx.style.backgroundImage='url(\''+this.H.wG()+'/MenuIcons.png'+'\')';}else{zx.style.backgroundImage='url(\''+'<%=WebResource("IPCC.Web.UI.MenuIcons.png")%>'+'\')';}zx.style.backgroundPosition='0px';}}else if(Ot===IPCC.ee.aiJ){var aul=K['get_'+Fa]();if(aul){if(this.H.wG()){zx.style.backgroundImage='url(\''+this.H.wG()+'/MenuIcons.png'+'\')';}else{zx.style.backgroundImage='url(\''+'<%=WebResource("IPCC.Web.UI.MenuIcons.png")%>'+'\')';}zx.style.backgroundPosition='24px 0px';}}}if(!vT.mP){tP.ImGearCommand={eZ:Ot,by:Fa,T:vT.T};}else{var aDU={x:af.x-sq.x,y:af.y-sq.y,width:af.width,height:af.height};this.alu(vT.mP,Ot,Fa,{x:0,y: -1},{x:iF.aK,y: -1},BC,aDU,tP,K);}sq.y+=ace;}else{tP=gD({height:'1px',overflow:'hidden',backgroundColor:'#E0E0E0'});sq.y+=aef;}Op.appendChild(tP);}axF.appendChild(Op);return Op;};fB.prototype.apQ=function(K,dm,H){var tF=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var uW=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var af;if(window.innerWidth){af={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){af={x:tF,y:uW,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{af={x:tF,y:uW,width:document.body.clientWidth,height:document.body.clientHeight};}var oi=af.x+af.width/2;var nC=af.y+af.height/2;var ih=document.createElement('div');ih.innerHTML='	<div style="z-index:2;border:1px solid #000000;font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:normal;font-variant:normal;'+'background-color:#F0F0F0;position:absolute;top:'+(nC-85)+'px;left:'+(oi-80)+'px;width:160px;height:170px;">'+'<div style="padding:4px;background-color:#666666;color:#FFFFFF;font-size:14px;">'+this.aF.selectColor+'</div>'+'<div style="position:relative;">'+'<div style="position:absolute;left:8px;top:10px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.aF.red+':</div>'+'<input id="ImGearColorRed" type="text" style="position:absolute;left:80px;top:8px;width:52px;" />'+'<div style="position:absolute;left:8px;top:40px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.aF.green+':</div>'+'<input id="ImGearColorGreen" style="position:absolute;left:80px;top:38px;width:52px" type="text" />'+'<div style="position:absolute;left:8px;top:70px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.aF.blue+':</div>'+'<input id="ImGearColorBlue" style="position:absolute;left:80px;top:68px;width:52px" type="text" />'+'<button id="ImGearColorOKButton" style="font-size:12px;position:absolute;left:9px;top:108px;width:65px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.aF.ok+'</button>'+'<button id="ImGearColorCancelButton" style="font-size:12px;position:absolute;left:81px;top:108px;width:71px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.aF.cancel+'</button>'+'</div>'+'</div>';document.body.appendChild(ih);var UY=document.getElementById('ImGearColorRed');var aal=document.getElementById('ImGearColorGreen');var ajE=document.getElementById('ImGearColorBlue');var ES=document.getElementById('ImGearColorOKButton');var Gn=document.getElementById('ImGearColorCancelButton');var QL=K['get_'+dm]();var Lm;if(QL.length===7&&QL.charAt(0)==='#'){Lm=parseInt(QL.slice(1),16);}UY.value=(Lm>>16);aal.value=((Lm>>8)&255);ajE.value=(Lm&255);function XM(Yn){var T=Math.floor(+(Yn.value));if(!isFinite(T)){T=0;}if(T<0){T=0;}if(T>255){T=255;}return T;};function zR(){IPCC.Web.UI.bI.removeHandler(ES,'click',Jl);IPCC.Web.UI.bI.removeHandler(Gn,'click',IB);IPCC.Web.UI.bI.removeHandler(document.body,'mousedown',wq);};function Jl(){var db=XM(UY)*65536+XM(aal)*256+XM(ajE);K['set_'+dm]('#'+(0x1000000+db).toString(16).slice(1));zR();document.body.removeChild(ih);ih=null;H.cI();};function IB(){zR();document.body.removeChild(ih);ih=null;};function wq(ar){if(ih){var aI=ar.target;var Kc;while(aI!==document.body){if(aI===ih){Kc=true;}aI=aI.parentNode;}if(!Kc){zR();document.body.removeChild(ih);ih=null;}}};IPCC.Web.UI.bI.addHandler(ES,'click',Jl);IPCC.Web.UI.bI.addHandler(Gn,'click',IB);IPCC.Web.UI.bI.addHandler(document.body,'mousedown',wq);UY.focus();};fB.prototype.arl=function(K,H){var tF=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var uW=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var af;if(window.innerWidth){af={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){af={x:tF,y:uW,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{af={x:tF,y:uW,width:document.body.clientWidth,height:document.body.clientHeight};}var oi=af.x+af.width/2;var nC=af.y+af.height/2;var ih=document.createElement('div');ih.innerHTML='<div style="z-index:2;border:1px solid #000000;font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:normal;font-variant:normal;'+'background-color:#F0F0F0;position:absolute;top:'+(nC-85)+'px;left:'+(oi-200)+'px;width:400px;height:170px;z-index:2">'+'<div style="padding:4px;background-color:#666666;color:#FFFFFF;font-size:14px;">'+this.aF.selectFont+'</div>'+'<div style="position:relative;">'+'<div style="position:absolute;left:8px;top:10px;width:90px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.aF.font+':</div>'+'<input id="ImGearFontFamily" style="position:absolute;left:100px;top:8px;width:280px" type="text" />'+'<div style="position:absolute;left:8px;top:40px;width:90px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.aF.size+':</div>'+'<input id="ImGearFontSize" style="position:absolute;left:100px;top:38px;width:54px" type="text" />'+'<div style="position:absolute;left:8px;top:70px;"><input id="ImGearFontItalic" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.aF.italic+'</div></div>'+'<div style="position:absolute;left:100px;top:70px;"><input id="ImGearFontBold" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.aF.bold+'</div></div>'+'<div style="position:absolute;left:200px;top:70px;"><input id="ImGearFontUnderline" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.aF.underline+'</div></div>'+'<div style="position:absolute;left:300px;top:70px;"><input id="ImGearFontStrikeout" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.aF.strikeout+'</div></div>'+'<button id="ImGearFontOKButton" style="font-size:12px;position:absolute;left:240px;top:108px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.aF.ok+'</button>'+'<button id="ImGearFontCancelButton" style="font-size:12px;position:absolute;left:315px;top:108px;width:71px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.aF.cancel+'</button>'+'</div>'+'</div>';document.body.appendChild(ih);var Zf=document.getElementById('ImGearFontFamily');var afU=document.getElementById('ImGearFontSize');var ahA=document.getElementById('ImGearFontItalic');var ahJ=document.getElementById('ImGearFontBold');var agi=document.getElementById('ImGearFontUnderline');var agp=document.getElementById('ImGearFontStrikeout');var ES=document.getElementById('ImGearFontOKButton');var Gn=document.getElementById('ImGearFontCancelButton');var aAw=K.get_fontName();var aAy=K.get_fontSize();var sd=K.get_fontStyle();Zf.value=aAw;afU.value=aAy;ahA.checked=sd&IPCC.Web.UI.FontStyle.Italic;ahJ.checked=sd&IPCC.Web.UI.FontStyle.Bold;agi.checked=sd&IPCC.Web.UI.FontStyle.Underline;agp.checked=sd&IPCC.Web.UI.FontStyle.Strikeout;function awF(Yn){var T=Math.floor(+(Yn.value));if(!isFinite(T)){T=12;}if(T<0.1){T=0.1;}if(T>288){T=288;}return T;};function zR(){IPCC.Web.UI.bI.removeHandler(ES,'click',Jl);IPCC.Web.UI.bI.removeHandler(Gn,'click',IB);IPCC.Web.UI.bI.removeHandler(document.body,'mousedown',wq);};function Jl(){K.set_fontName(Zf.value);var dH=awF(afU);K.set_fontSize(dH);var fA=0;if(ahA.checked){fA|=IPCC.Web.UI.FontStyle.Italic;}if(ahJ.checked){fA|=IPCC.Web.UI.FontStyle.Bold;}if(agi.checked){fA|=IPCC.Web.UI.FontStyle.Underline;}if(agp.checked){fA|=IPCC.Web.UI.FontStyle.Strikeout;}K.set_fontStyle(fA);zR();document.body.removeChild(ih);ih=null;H.cI();};function IB(){zR();document.body.removeChild(ih);ih=null;};function wq(ar){if(ih){var aI=ar.target;var Kc;while(aI!==document.body){if(aI===ih){Kc=true;}aI=aI.parentNode;}if(!Kc){zR();document.body.removeChild(ih);ih=null;}}};IPCC.Web.UI.bI.addHandler(ES,'click',Jl);IPCC.Web.UI.bI.addHandler(Gn,'click',IB);IPCC.Web.UI.bI.addHandler(document.body,'mousedown',wq);Zf.focus();};fB.prototype.aqM=function(F){var K=F.QM.mark;switch(F.eZ){case IPCC.ee.FG:K['set_'+F.by](F.T);this.H.cI();break;case IPCC.ee.MI:this.apQ(K,F.by,this.H);break;case IPCC.ee.ahQ:this.arl(K,this.H);break;case IPCC.ee.aiJ:K['set_'+F.by](!K['get_'+F.by]());this.H.cI();break;case IPCC.ee.aag:K.moveToBack();this.H.cI();break;case IPCC.ee.adk:K.moveBackward();this.H.cI();break;case IPCC.ee.abP:K.moveForward();this.H.cI();break;case IPCC.ee.abQ:K.moveToFront();this.H.cI();break;case IPCC.ee.aer:K.removeFromPage();this.H.cI();break;default:this.H.aCe(F);break;}};module.exports=fB;},{}],22:[function(require,module,exports){var bG={Default:0,Arrow:1,Crosshair:2,Link:3,HandOpen:4,HandClosed:5,Magnifier:6,None:7,RectangleZoom:8,AddRectangleMark:9,AddEllipseMark:10,AddLineMark:11,AddFreehandLineMark:12,AddPolygonMark:13,AddPolylineMark:14,AddTextMark:15,Move:16,ResizeN:17,ResizeE:18,ResizeS:19,ResizeW:20,ResizeNW:21,ResizeNE:22,ResizeSE:23,ResizeSW:24,EditMarks:25,RunMarks:26,Text:27,AddStampMark:28,AddRectangleRedactionMark:29,AddImageStampMark:30,fg:function(bV){if(typeof bV==='string'){return bV;}switch(bV){case IPCC.bG.Default:case IPCC.bG.Magnifier:case IPCC.bG.None:case IPCC.bG.RunMarks:return 'auto';case IPCC.bG.Arrow:case IPCC.bG.EditMarks:return 'default';case IPCC.bG.Crosshair:case IPCC.bG.RectangleZoom:case IPCC.bG.AddRectangleMark:case IPCC.bG.AddEllipseMark:case IPCC.bG.AddLineMark:case IPCC.bG.AddFreehandLineMark:case IPCC.bG.AddPolygonMark:case IPCC.bG.AddPolylineMark:case IPCC.bG.AddTextMark:case IPCC.bG.AddRectangleRedactionMark:case IPCC.bG.AddImageStampMark:case IPCC.bG.AddStampMark:return 'crosshair';case IPCC.bG.Link:return 'pointer';case IPCC.bG.HandOpen:case IPCC.bG.HandClosed:case IPCC.bG.Move:return 'move';case IPCC.bG.ResizeN:return 'n-resize';case IPCC.bG.ResizeE:return 'e-resize';case IPCC.bG.ResizeS:return 's-resize';case IPCC.bG.ResizeW:return 'w-resize';case IPCC.bG.ResizeNW:return 'nw-resize';case IPCC.bG.ResizeNE:return 'ne-resize';case IPCC.bG.ResizeSE:return 'se-resize';case IPCC.bG.ResizeSW:return 'sw-resize';case IPCC.bG.Text:return 'text';}return 'auto';}};module.exports=bG;},{}],23:[function(require,module,exports){var iJ={qz:function(jp,Ny){var bd,bY,ey;if(jp===null){return 'null';}if(!Ny){Ny=0;}bd=typeof(jp);if(bd==='undefined'){return 'undefined';}else if(bd==='number'||bd==='boolean'){return jp.toString();}else if(bd==='string'){return '\''+jp+'\'';}else if(bd==='function'){return 'function';}else{if(Ny<0){return 'jp';}bY='{';for(ey in jp){if(jp.hasOwnProperty(ey)){if(bY.length>2){bY+=', ';}bY+=ey;bY+=': ';bY+=IPCC.iJ.qz(jp[ey],Ny-1);}}bY+='}';return bY;}},RU:function(bo){var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value+=bo+'\n';}},aGL:function(){var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value='';}},lV:function(jn,FL,aW,Ez,Cl){var bo="PCC Controls - ";bo+=(Ez)?Ez:" ";bo+=" parent Div id = ";bo+=(Cl)?Cl:" ";if(FL){switch(FL){case 0:bo+=" FunctionCall ";break;case 1:bo+=" Exception ";break;case 2:bo+=" Custom ";break;case 3:bo+=" UserAction ";break;case 4:bo+=" Warning ";break;default:bo+=" unknown ";}}bo+=" - "+jn;if((typeof(Debug)!=='undefined')&&Debug.writeln){Debug.writeln(bo);}if(window.console&&window.console.log){window.console.log(bo);}if(window.opera){window.opera.postError(bo);}if(window.debugService){window.debugService.trace(bo);}var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value+=bo+'\n';}var LC;try{LC=onPCCItemLogged;}catch(ex){}if(LC&&(typeof(LC)).toLowerCase()==='function'){var cR=new IPCC.Web.UI.LogItemEventArgs();cR.message=jn;cR.cause=FL;cR.level=aW;cR.id=Cl;LC(cR);}}};module.exports=iJ;},{}],24:[function(require,module,exports){var jN=function(){this.aq=false;this.H=false;};jN.prototype.nd=function(H){this.H=H;this.H.abS(true);this.aA=H.aN();};jN.prototype.fa=function(){if(arguments[0]){if(arguments[0]===true){this.H=false;return;}}this.H.abS(false);this.H=false;};jN.prototype.au=function(){if(this.aq){this.H.BV(true);this.aA.oG();this.aq=false;this.H.cI();}};jN.prototype.AV=function(F){this.au();var K=F.mark;if(K&&K.jr()===IPCC.Web.UI.MarkType.Text){this.H.wu(K);this.H.cI();}};jN.prototype.kY=function(F){this.au();var io=F.domEvent;if(io.button===0){var cv=io.target;this.bE=cv.ImGearMarkHandle;if(this.bE){this.uG=this.bE.bd;this.nB=this.bE.bp;}else{this.uG=null;this.nB=null;}while(!(cv.ImGearMarkRelation)&&cv.parentNode&&cv!==document.body){cv=cv.parentNode;}this.V=cv.ImGearMarkRelation;if(this.V){this.K=this.V.K;}else{this.K=null;}this.aq=true;this.JX=F.imagePoint;this.Dh=F.imagePoint;var K=this.K;if(!K||K.get_interactionMode()===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){if(!io.shiftKey){this.H.dV().Ac().removeAllMarks();}this.aA.Cn(F.imagePoint);}else{var ge,R;switch(this.uG){case IPCC.bZ.cj.prototype.UO:this.ij=K.eG();this.YV=Math.abs(this.ij.width);this.HE=Math.abs(this.ij.height);ge={x:this.ij.x,y:this.ij.y};this.JD={x:this.ij.x+this.ij.width,y:this.ij.y+this.ij.height};if(this.nB>0&&this.nB<3){ge.x+=this.ij.width;this.JD.x-=this.ij.width;}if(this.nB>1){ge.y+=this.ij.height;this.JD.y-=this.ij.height;}this.aGk=ge;break;case IPCC.bZ.cj.prototype.Uq:R=K.eG();this.ij=R;ge={x:R.x+R.width/2,y:R.y+R.height/2};switch(this.nB){case 0:this.zH=R.y+R.height;ge.y=R.y;break;case 1:this.zH=R.x;ge.x=R.x+R.width;break;case 2:this.zH=R.y;ge.y=R.y+R.height;break;case 3:this.zH=R.x+R.width;ge.x=R.x;break;}break;case IPCC.bZ.cj.prototype.Jj:this.aY=K.oc();if(this.nB<0||this.nB>this.aY.ec()){this.au();}ge=this.aY.getPoint(this.nB);break;case IPCC.bZ.cj.prototype.GX:break;case IPCC.bZ.cj.prototype.Ub:R=K.eG();ge={x:R.x+K.mc.x,y:R.y+K.mc.y};break;default:var yD=K.get_selected();if(io.ctrlKey||io.shiftKey){yD= !yD;K.set_selected(yD);}else{if(!yD){yD=true;this.H.dV().Ac().removeAllMarks();if(K.get_type()===IPCC.Web.UI.MarkType.Highlight){for(var h=0;h<this.H.dV().get_markCount();h++){var WL=this.H.dV().getMark(h);if(WL.jr()===608&&WL.bn===K.bn){WL.set_selected(yD);}}}else{K.set_selected(yD);}}}if(!yD){this.au();}break;}if(this.aq&&ge){this.asX=ge.x-this.JX.x;this.asd=ge.y-this.JX.y;if(this.bE){this.aA.app(this.bE.bV);}}}if(this.aq){this.H.BV(false);}}this.H.cI();};jN.prototype.kP=function(F){var io=F.domEvent;var Dh;function axn(amR){amR.Hk(F.imagePoint.x-Dh.x,F.imagePoint.y-Dh.y);};if(io.button!==0){this.au();}if(this.aq){var K=this.K;if(!K||K.get_interactionMode()===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){this.aA.xA(F.imagePoint);}else{var ge={x:F.imagePoint.x+this.asX,y:F.imagePoint.y+this.asd};var R;switch(this.uG){case IPCC.bZ.cj.prototype.UO:var qf={x:ge.x,y:ge.y};var lc={x:this.JD.x,y:this.JD.y};if(io.ctrlKey){lc.x=this.ij.x+this.ij.width/2;lc.y=this.ij.y+this.ij.height/2;}if(io.shiftKey){var sU=Math.abs(qf.x-lc.x);var rM=Math.abs(qf.y-lc.y);if(sU*this.HE<rM*this.YV){if(this.HE>0.001){sU=rM*this.YV/this.HE;}}else{if(this.HE>0.001){rM=sU*this.HE/this.YV;}}if(qf.x<lc.x){sU= -sU;}if(qf.y<lc.y){rM= -rM;}qf.x=lc.x+sU;qf.y=lc.y+rM;}if(io.ctrlKey){lc={x:lc.x-(qf.x-lc.x),y:lc.y-(qf.y-lc.y)};}R={};R.x=Math.min(lc.x,qf.x);R.width=Math.max(lc.x,qf.x)-R.x;R.y=Math.min(lc.y,qf.y);R.height=Math.max(lc.y,qf.y)-R.y;K.set_rectangle(R);break;case IPCC.bZ.cj.prototype.Uq:R=K.eG();var FE;if(this.nB&1){if(io.ctrlKey){FE=this.ij.x+this.ij.width/2;R.width=Math.abs(ge.x-FE)*2;R.x=FE-R.width/2;}else{R.x=Math.min(ge.x,this.zH);R.width=Math.max(ge.x,this.zH)-R.x;}}else{if(io.ctrlKey){FE=this.ij.y+this.ij.height/2;R.height=Math.abs(ge.y-FE)*2;R.y=FE-R.height/2;}else{R.y=Math.min(ge.y,this.zH);R.height=Math.max(ge.y,this.zH)-R.y;}}K.set_rectangle(R);break;case IPCC.bZ.cj.prototype.Jj:this.aY=K.oc();ge=this.aY.setPoint(this.nB,ge);break;case IPCC.bZ.cj.prototype.GX:break;case IPCC.bZ.cj.prototype.Ub:R=K.eG();K.set_calloutPoint({x:ge.x-R.x,y:ge.y-R.y});break;default:Dh=this.Dh;this.Dh=F.imagePoint;this.H.dV().Ac().jX(axn);break;}}this.H.cI();}};jN.prototype.jV=function(){function awf(K){var IO=K.aie();if(agq.contains(IO)&&agq.contains({x:IO.x+IO.width,y:IO.y+IO.height})){K.set_selected(true);}};if(this.aq){if(!this.K){var agq=this.aA.xa();this.H.dV().Cs(awf);this.aA.oG();}this.au();}};jN.prototype.oX=function(F){var bj=this.H.eT();if(F.windowPoint.x<=0||F.windowPoint.x>=bj.width-2){this.au();}if(F.windowPoint.y<=0||F.windowPoint.y>=bj.height-2){this.au();}};jN.prototype.mo=function(){this.au();};module.exports=jN;},{}],25:[function(require,module,exports){var ci=require('./IPCC.Util').regClass;var Ng=function(){return this;};Ng.registerClass=ci;Ng.prototype={};Ng.registerClass('IPCC.ExceptionEventArgs');module.exports=Ng;},{"./IPCC.Util":29}],26:[function(require,module,exports){var de=require('./IPCC.Util').regEnum;var pl=function(){};pl.registerEnum=de;pl.prototype={FitToWidth:0,ShrinkToWidth:1,ActualSize:2,FitToHeight:3,BestFit:4};pl.registerEnum('IPCC.FitType',false);module.exports=pl;},{"./IPCC.Util":29}],27:[function(require,module,exports){var wh=function(){function CW(){return Math.floor((Math.random()*10)).toString();};var ha=new Date();return CW()+CW()+'_'+ha.getTime()+"_"+CW()+CW()+CW()+CW();};module.exports=wh;},{}],28:[function(require,module,exports){var oT=function(){this.aq=false;this.H=false;};oT.prototype.nd=function(H){this.H=H;};oT.prototype.fa=function(){this.H=false;};oT.prototype.au=function(){if(this.aq){this.aq=false;}};oT.prototype.pP=function(){this.au();};oT.prototype.kY=function(F){this.au();if(F.domEvent.button===0){this.aq=true;this.JX=F.imagePoint;}};oT.prototype.kP=function(F){if(F.domEvent.button!==0){this.au();}if(this.aq){var H=this.H;var aA=H.aN();var ax=aA.eI();var bj=H.eT();ax.Uy(this.JX,F.windowPoint);ax.kx(H.dv(),bj);H.ae('userModifiedViewState',{});aA.iu(ax);H.cI();}};oT.prototype.jV=function(){this.au();};oT.prototype.oX=function(F){var bj=this.H.eT();if(F.windowPoint.x<=0||F.windowPoint.x>=bj.width-2){this.au();}if(F.windowPoint.y<=0||F.windowPoint.y>=bj.height-2){this.au();}};oT.prototype.mo=function(){this.au();};module.exports=oT;},{}],29:[function(require,module,exports){var C={};C.Xg=(function(){var kQ={};var zm=[];kQ.get=function aFW(qs){if(zm.length===0){return;}for(var i=0;i<qs.length;i++){if(zm[i]&&zm[i].qs===qs){return zm[i].jt;}}};kQ.set=function aHZ(qs,jt){zm.push({qs:qs,jt:jt});if(zm.length>10){zm.shift();}};kQ.contains=function jA(qs){return kQ.get(qs)!==undefined;};kQ.cacheReponse=function aGB(qs,jt){if(jt.readyState===4){kQ.set(qs,jt);}else{var aGp=jt.onreadystatechange;jt.onreadystatechange=function(){if(jt.readyState===XMLHttpRequest.DONE&&jt.status===200){kQ.set(qs,jt);}aGp();};}};return kQ;})();C.abI=false;C.aqA=(function supportsSVG(){return! !('createElementNS'in document&&document.createElementNS('http://www.w3.org/2000/svg','svg').createSVGRect);})();C.Qc=(function(){var Qc=false;var rO=navigator.userAgent,Zc=((rO.indexOf('Mozilla/5.0')> -1&&rO.indexOf('Android ')> -1&&rO.indexOf('AppleWebKit')> -1)&& !(rO.indexOf('Chrome')> -1)),adX=new RegExp(/AppleWebKit\/([\d.]+)/),azN=adX.exec(rO),anc=(azN===null?null:parseFloat(adX.exec(rO)[1]));Qc=Zc&&anc!==null&&anc<537;return Qc;})();C.aBO=(function(){var acv=false;var rO=navigator.userAgent,Zc=/Android/i.test(rO),aBb=/iPhone|iPad|iPod/i.test(rO),aBI=/IEMobile/i.test(rO);acv=(Zc||aBb||aBI);return acv;})();C.DG=(function(){var DG=false;if(document.documentMode===8||document.documentMode===9||document.documentMode===10){DG=true;}return DG;})();C.At=(function(){var aof=navigator.userAgent;if(document.documentMode===10||C.Qc){return 'svg';}else if(document.documentMode===9){return 'svga';}else if(/Apple Computer/.test(navigator.vendor||'')&&/Mac OS X.*?Version\/9\..*?Safari/i.test(aof)&& !C.aBO){return 'svga';}else{return 'svgb';}})();C.Fe=(function(){if(document.documentMode===8){document.namespaces.add('v','urn:schemas-microsoft-com:vml');document.createStyleSheet().addRule("v\\: *","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:roundrect","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:oval","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:roundrect","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:fill","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:line","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:shape","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:polyline","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:stroke","behavior:url(#default#VML); position:absolute");return true;}return false;})();C.CC=(function(){return window.navigator.pointerEnabled||window.navigator.msPointerEnabled;})();C.Jf=C.CC||(function(){return('ontouchstart'in document.documentElement);})();C.aBq=(function(){return(navigator.platform)? ! !navigator.platform.match(/iPad|iPhone|iPod/g):false;})();C.acJ=function(){return C.ayB.btoa((Math.random().toString(36).slice(-4))+'_'+C.wD(new Date())+'_'+(Math.random().toString(36).slice(-6)));};C.inArray=function(dp,dR){for(var i=0,l=dp.length;i<l;i++){if(dp[i]===dR){return true;}}return false;};C.forEach=function(bQ,bA,dJ){var pL=[].forEach,aDV=Object.prototype.hasOwnProperty;if(pL&&bQ.forEach===pL){bA&&bQ.forEach(bA,dJ);}else if(bQ.length=== +bQ.length){for(var i=0,length=bQ.length;i<length;i++){bA&&bA.call(dJ,bQ[i],i,bQ);}}else{for(var by in bQ){if(aDV.call(bQ,by)){bA&&bA.call(dJ,bQ[by],by,bQ);}}}};C.map=function(dp,bA,dJ){var pL=[].map,ug=[];if(pL&&dp.map===pL){ug=dp.map(bA,dJ);}else{C.forEach(dp,function(el,i){ug.push(bA.call(dJ,el,i,dp));});}return ug;};C.filter=function(dp,bA,dJ){var pL=[].filter,ug=[],akR=false;if(pL&&dp.filter===pL){ug=dp.filter(bA,dJ);}else{C.forEach(dp,function(bg,i){akR=bA.call(dJ,bg,i,dp);if(akR){ug.push(bg);}});}return ug;};C.find=function(obj,cb,context){var hasProp=Object.prototype.hasOwnProperty;cb=(typeof cb==='function')?cb:function(){};if(obj.length=== +obj.length){for(var i=0,length=obj.length;i<length;i++){if(! !cb.call(context,obj[i],i,obj)){return obj[i];}}}else{for(var name in obj){if(hasProp.call(obj,name)){if(! !cb.call(context,obj[name],name,obj)){return obj[name];}}}}return undefined;};C.remove=function(dp,bA,dJ){var VO=[];var aoj=C.filter(dp,bA,dJ);C.forEach(aoj,function(dR){var bp=C.indexOf(dp,dR);if(bp=== -1){return;}VO=VO.concat(dp.splice(bp,1));});return VO;};C.keys=function(bQ){if(Object&&Object.keys){return Object.keys(bQ);}else{var od=[];for(var h in bQ){if(bQ.hasOwnProperty&&bQ.hasOwnProperty(h)){od.push(h);}}return od;}};C.indexOf=function(dp,ahs,aja){if(Array.prototype.indexOf){return dp.indexOf(ahs,aja);}var k;if(dp==null){throw new TypeError('"dp" is null or not defined');}var O=Object(dp);var len=O.length>>>0;if(len===0){return-1;}var n= +aja||0;if(Math.abs(n)===Infinity){n=0;}if(n>=len){return-1;}k=Math.max(n>=0?n:len-Math.abs(n),0);while(k<len){if(k in O&&O[k]===ahs){return k;}k++;}return-1;};C.reduce=function(dp,bA,fL,dJ){var pL=[].reduce;var Fo=(arguments.length===2)?undefined:fL;if(pL&&typeof pL==='function'&&dp.reduce===pL&&dJ===undefined){if(fL!==undefined){return dp.reduce(bA,fL,dJ);}return dp.reduce(bA);}IPCC.C.forEach(dp,function(al,bL){if(Fo===undefined){Fo=al;return;}Fo=bA.call(dJ,Fo,al,bL,dp);});return Fo;};C.reduceLeft=function(dp,bA,fL,dJ){var ug=dp.reverse();return C.reduce.call(undefined,ug,bA,fL,dJ);};C.contains=function(dp,al){var dI=dp.length;while(dI--){if(dp[dI]===al){return true;}}return false;};C.axw=function(Wm,alR){if(Wm.length!==alR.length){return false;}for(var i=0,l=Wm.length;i<l;i++){if(Wm[i]!==alR[i]){return false;}}return true;};C.extend=function(target){"use strict";var source;if(!target){throw new IPCC.Web.UI.ImGearArgumentException("target","target must be defined.");}else if(typeof target!=='object'){throw new IPCC.Web.UI.ImGearArgumentException("target","typeof target must be 'object'");}else{for(var i=1;i<arguments.length;i++){source=arguments[i];for(var property in source){if(source.hasOwnProperty(property)){target[property]=source[property];}}}}return target;};C.trim=function(bY){if(String.prototype.trim){return bY.trim();}return bY.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,'');};C.getPageFromPoint=function(bf,dB,dJ){var aqd=function(hg){return hg.left<=bf&&bf<=hg.right&&hg.top<=dB&&dB<=hg.bottom;};var apu=function(){return C.filter(dJ.querySelectorAll('[id*=__pViewId]:not(.pccPreviousPage):not(.pccNextPage)'),function(iI){return aqd(iI.getBoundingClientRect());});};if(!dJ){dJ=document;}return apu(bf,dB)[0];};C.regEnum=function(name,flags){for(var i in this.prototype){if(this.prototype.hasOwnProperty(i)){this[i]=this.prototype[i];}}this.__typeName=name;this.__flags=flags;this.__enum=true;};C.regClass=function(typeName,baseType,interfaceTypes){this.prototype.constructor=this;this.__typeName=typeName;this.__class=true;if(baseType){this.__baseType=baseType;for(var NR in baseType.prototype){if(baseType.prototype.hasOwnProperty(NR)){var aFa=baseType.prototype[NR];if(!this.prototype[NR]){this.prototype[NR]=aFa;}}}}return this;};C.afH=function(Yw,RR,aid){if(RR){if(!aid){RR.apply(Yw);}else{RR.apply(Yw,aid);}}return Yw;};C.agT=function agT(xc,anI,afq){var qV;return function(){var dJ=this,cR=arguments;var aBQ=function(){qV=undefined;if(!afq){xc.apply(dJ,cR);}};var axo=afq&& !qV;clearTimeout(qV);qV=setTimeout(aBQ,anI);if(axo){xc.apply(dJ,cR);}};};C.aeE=function aeE(aP,sJ){if(aP.classList){aP.classList.add(sJ);}else{aP.className+=' '+sJ;}};C.adj=function adj(aP,sJ){if(aP.classList){aP.classList.remove(sJ);}else{aP.className=aP.className.replace(sJ,'');}};C.Yk=function(hU){return{width:hU.width||(hU.right-hU.left),height:hU.height||(hU.bottom-hU.top),top:hU.top,bottom:hU.bottom,left:hU.left,right:hU.right};};C.ajb=function(alphabet,size){var ra='';for(var h=0;h<size;h++){ra+=alphabet[Math.floor(Math.random()*1000)%alphabet.length];}return ra;};C.asQ=function(){var axZ='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';var aBB='AQgw';return C.ajb(axZ,21)+C.ajb(aBB,1);};C.ajN=function(){var gz={'Accusoft-Gid':C.asQ(),'Accusoft-Parent-Name':'ViewerControl','Accusoft-Parent-Pid':0,'Accusoft-Parent-Taskid':0};return gz;};C.pu=function(bw){if(bw instanceof C.pu){return bw;}this.gz=C.reduce(bw.headers||{},function(pO,al,aV){aV=aV.toLowerCase();if(pO[aV]){pO[aV]+=', '+al;}else{pO[aV]=al;}return pO;},{});this.status=bw.status;this.statusText=bw.statusText;this.responseText=bw.responseText;if(typeof bw.responseBody!=='undefined'){this.responseBody=bw.responseBody;}return this;};C.pu.prototype.getResponseHeader=function(CK){var bw=this.gz[CK.toLowerCase()];return bw!==undefined?bw:null;};C.mH=(function(){var yB={};yB.gz={};yB.Mj=undefined;function acE(agO){var gz={};if(!agO){return gz;}var agJ=agO.split('\u000d\u000a');for(var h=0,cg=agJ.length;h<cg;h++){var Zs=agJ[h];var bp=Zs.indexOf('\u003a\u0020');if(bp>0){var aV=Zs.substring(0,bp);var al=Zs.substring(bp+2);if(gz[aV]){gz[aV]+=', '+al;}else{gz[aV]=al;}}}return gz;};yB.ff=function(azd){var zn={method:'GET',url:null,headers:{},body:null,timeout:null,mimeType:null,cache:false},lh=PCCViewer.Deferred(),dK=lh.getPromise(),qK;var bu=C.extend({},zn,azd);bu.headers=C.extend({},yB.gz,bu.headers);if(typeof yB.Mj==='function'){qK=yB.Mj(bu);if(typeof qK==='object'&&typeof qK.then==='function'){qK.then(function(aE){lh.resolve(aE);},function(aE){lh.reject(aE);});return dK;}}if(bu.cache&&C.Xg.contains(bu.url)){var jt=C.Xg.get(bu.url);var bw,uY={};uY={status:jt.status,headers:acE(jt.getAllResponseHeaders())};try{uY.responseText=jt.responseText;}catch(e){}if(typeof jt.responseBody!=='undefined'){uY.responseBody=jt.responseBody;}bw=new C.pu(uY);if(jt.status>=200&&jt.status<300||status===304){lh.resolve(bw);}else{lh.reject({response:bw,error:new PCCViewer.Error("Error","An AJAX problem occurred: "+jt.status+" "+jt.statusText)});}return dK;}var iR,qV;try{iR=new XMLHttpRequest();}catch(e){lh.reject(new PCCViewer.Error("Error",e.message));}if(iR){iR.open(bu.method,bu.url,true);if(bu.timeout){qV=window.setTimeout(function(){iR.abort();lh.reject({error:new PCCViewer.Error("Error","Request timed out")});},bu.timeout);}iR.onreadystatechange=function(){var bw,uY={};if(iR.readyState===4){if(qV){window.clearTimeout(qV);}uY={status:iR.status,headers:acE(iR.getAllResponseHeaders())};try{uY.responseText=iR.responseText;}catch(e){}if(typeof iR.responseBody!=='undefined'){uY.responseBody=iR.responseBody;}bw=new C.pu(uY);if(iR.status>=200&&iR.status<300||status===304){lh.resolve(bw);}else{lh.reject({response:bw,error:new PCCViewer.Error("Error","An AJAX problem occurred: "+iR.status+" "+iR.statusText)});}}};var WI=C.extend({},bu.headers,C.ajN());for(var aV in WI){if(WI.hasOwnProperty(aV)){iR.setRequestHeader(aV,WI[aV]);}}if(typeof bu.mimeType==='string'&&typeof iR.overrideMimeType==='function'){iR.overrideMimeType(bu.mimeType);}if(bu.cache){C.Xg.cacheReponse(bu.url,iR);}iR.send(bu.body);}return dK;};return yB;})();C.SI=function(fO,jv,fa){var fR=[],sI=null,ud=null,as;var aCA=function(ud,sI){if(!sI){return false;}else{return Math.abs(ud.y-sI.y)<1&&Math.abs(ud.height-sI.height)<1&&ud.x+ud.width>=sI.x+sI.width;}};for(as=jv;as<fa+1;as++){ud=fO.kT(as).af;if(aCA(ud,sI)){sI.union(ud);}else{sI=ud.clone();fR.push(sI);}}return fR;};C.addEvent=function addEvent(obj,event,handler){if(obj.addEventListener){obj.addEventListener(event,handler,false);}else if(obj.attachEvent){obj.attachEvent('on'+event,handler);}};C.removeEvent=function(obj,event,handler){if(obj.removeEventListener){obj.removeEventListener(event,handler,false);}else if(obj.detachEvent){obj.detachEvent('on'+event,handler);}};C.bspline=(function(){var d3_svg_lineBasisBezier1=[0,2/3,1/3,0],d3_svg_lineBasisBezier2=[0,1/3,2/3,0],d3_svg_lineBasisBezier3=[0,1/6,2/3,1/6];function d3_svg_lineLinear(points){return points.join("L");};function d3_svg_lineDot4(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3];};function d3_svg_lineBasisBezier(path,x,y){path.push("C",d3_svg_lineDot4(d3_svg_lineBasisBezier1,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier1,y),",",d3_svg_lineDot4(d3_svg_lineBasisBezier2,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier2,y),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,y));};function d3_svg_lineBasis(points){if(points.length<3){return d3_svg_lineLinear(points);}var i=1,n=points.length,pi=points[0],x0=pi[0],y0=pi[1],px=[x0,x0,x0,(pi=points[1])[0]],py=[y0,y0,y0,pi[1]],path=[x0,",",y0,"L",d3_svg_lineDot4(d3_svg_lineBasisBezier3,px),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,py)];points.push(points[n-1]);while(++i<=n){pi=points[i];px.shift();px.push(pi[0]);py.shift();py.push(pi[1]);d3_svg_lineBasisBezier(path,px,py);}points.pop();path.push("L",pi);return path.join("");};return function(aY){var awr=C.map(aY,function(bg){return[bg.x,bg.y];});return d3_svg_lineBasis(awr);};})();C.aHC=function(bY){if(bY.match(/[^a-zA-Z0-9\s\,\.]/)){throw new Error('The path data attribute is not valid. It cannot be parsed.');}var aEd=C.filter(bY.replace(/[Mm]/g,'|').split('|'),function(g){return! !g.length;});var awv=C.map(aEd,function(el){var avO=el.replace(/[a-zA-Z]/g,'|').split('|');return C.map(avO,function(eZ){var aiF=eZ.split(',');return{x: +aiF[0],y: +aiF[1]};});});return awv;};C.ang=function(bY,iZ,iq,iG,bu){bu.dH="12px";var jE=C.uo(bY,iZ,bu),wV=12*iq/(jE.width||1),wB=12*iG/(jE.height||1),apJ=Math.min(wV,wB);bu.dH=apJ;return C.akK(bY,iZ,iq,iG,bu);};C.akK=function(bY,iZ,iq,iG,bu,OV){OV=OV||1;var lT={},jE=C.uo(bY,iZ,bu),dH=bu.dH;lT.width=jE.width;lT.height=jE.height;lT.fontSize=dH;if(OV>3){return lT;}if((jE.width<iq+1)&&(jE.height<iG+1)){return lT;}else{var wV=dH*iq/(jE.width||1),wB=dH*iG/(jE.height||1),zI=Math.min(wV,wB);if(zI>=bu.dH){return lT;}else{bu.dH=zI;return C.akK(bY,iZ,iq,iG,bu,OV+1);}}};C.uo=function(bY,iZ,bu){bu=bu||{};if(document.createElementNS){return C.aDy(bY,iZ,bu);}else{return C.aax(bY,iZ,bu);}};C.aDy=function(bY,iZ,bu){var svg,ahj=false;if(bu.fh){svg=bu.fh;}else{svg=document.createElementNS("http://www.w3.org/2000/svg","svg");svg.setAttribute('style','border: 1px solid black');svg.setAttribute('width','600');svg.setAttribute('height','600');ahj=true;document.body.appendChild(svg);}var dH=bu.dH||"12px";if(typeof dH==="number"){dH=dH+"px";}var dw=document.createElementNS("http://www.w3.org/2000/svg","text");C.forEach({x:0,y:0,'font-size':dH,'stroke':"none",'fill':"#000000",'font-family':iZ},function(value,name){dw.setAttribute(name,value);});if(bu.wQ){dw.setAttribute('style','white-space:'+bu.wQ);}var nv=document.createTextNode(bY);dw.appendChild(nv);svg.appendChild(dw);var va=dw.getBBox(),Ju=va.width,KA=va.height;svg.removeChild(dw);if(ahj){document.body.removeChild(svg);}if(Ju===0&&KA===0&&bY!=="M"){return C.uo("M",iZ,bu);}else{return{width:Ju,height:KA};}};C.aax=function(bY,iZ,bu){var nv=document.createTextNode(bY),EJ=document.createElement('div');var dH=bu.dH||"12px";if(typeof dH==="number"){dH=dH+"px";}C.forEach({position:'absolute',display:'inline-block',top:0,left:0,visibility:'hidden',fontSize:dH,fontFamily:iZ},function(value,name){EJ.style[name]=value;});if(bu.wQ){EJ.style.whiteSpace=bu.wQ;}EJ.appendChild(nv);document.body.appendChild(EJ);var va=EJ.getBoundingClientRect(),Ju=va.width||va.right-va.left,KA=va.height||va.bottom-va.top;document.body.removeChild(EJ);if(Ju===0&&KA===0&&bY!=="M"){return C.aax("M",iZ,dH);}else{return{width:Ju,height:KA};}};C.aaA=function(svgPath){var regexp=/[\s,]*(M)[\s,]*([\d\.]+)[\s,]+([\d\.]+)|[\s,]*(C)[\s,]?([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)|[\s,]*(L)[\s,]*([\d\.]+)[\s,]+([\d\.]+)/g;var match=regexp.exec(svgPath);var xArr=[],yArr=[];function updateBounds(x,y){xArr.push(Number(x));yArr.push(Number(y));};while(match!==null){if(match[1]){updateBounds(match[2],match[3]);}else if(match[4]){updateBounds(match[5],match[6]);updateBounds(match[7],match[8]);updateBounds(match[9],match[10]);}else if(match[11]){updateBounds(match[12],match[13]);}match=regexp.exec(svgPath);}return{width:Math.max.apply(Math,xArr),height:Math.max.apply(Math,yArr)};};C.zu=(C.aqA)?{SVG:function SVG(WU){var fh=document.createElementNS("http://www.w3.org/2000/svg","svg");fh.setAttribute('viewBox',WU);return fh;},Path:function Path(qN,gj){var gp=document.createElementNS("http://www.w3.org/2000/svg","path");gp.style.fill='none';gp.style.stroke=gj.color||'#000000';gp.style.strokeWidth=gj.thickness||4;if(qN){gp.setAttribute('d',qN.toString().trim());}return gp;},Rect:function Rect(aK,an,fA){var ak=document.createElementNS("http://www.w3.org/2000/svg","rect");ak.setAttribute('width',aK||0);ak.setAttribute('height',an||0);if(fA){ak.setAttribute('style',fA);}return ak;}}:{SVG:function(WU,MF){var aP=document.createElement("div");aP.style.left="0px";aP.style.top="0px";aP.style.position="relative";aP.baseInit=false;aP.baseX=0;aP.baseY=0;var aAc=aP.setAttribute;aP.setAttribute=function(aV,T){if(aV==="width"){this.style.width=T*(+MF||1);}else if(aV==="height"){this.style.height=T*(+MF||1);}else if(aV==="x"){this.style.left=T;}else if(aV==="y"){this.style.top=T;}else if(aV==="viewBox"){var qL=T.split(" ");this.style.height= +qL.pop()*(+MF||1)+'px';this.style.width= +qL.pop()*(+MF||1)+'px';}else{aAc(aV,T);}};aP.setAttribute('viewBox',WU);aP.setAttribute('data-pcc-mark','signature');return aP;},Path:function(qN,gj){var aP=document.createElement("v:shape");aP.style.width=gj.width*(+gj.multiplier||1);aP.style.height=gj.height*(+gj.multiplier||1);aP.coordsize=[gj.width,gj.height].join(', ');aP.style.position="absolute";aP.setAttribute=function(aV,T){if(aV==="d"){var Dy=0;var Eo=0;T=T.replace(/(\d*)((\.*\d*)(e ?-?\d*))/g,"$1");var KJ=T.match(/([MLHVCSQTAZ].*?)(?=[MLHVCSQTAZ]|$)/gi);var alX="",gU=[];for(var i=0;i<KJ.length;i++){var eZ=KJ[i].substring(0,1);var lY=KJ[i].substring(1,KJ[i].length);lY=lY.split(/[, ]/);for(var j=0;j<lY.length;j++){lY[j]=Math.round(lY[j]);}lY=lY.join();switch(eZ){case "M":eZ="m";gU=lY.split(/[, ]/);Dy=parseInt(gU[0],10);Eo=parseInt(gU[1],10);break;case "m":eZ="t";gU=lY.split(/[, ]/);gU[0]=parseInt(gU[0],10)+parseInt(Dy,10);gU[1]=parseInt(gU[1],10)+parseInt(Eo,10);Dy=parseInt(gU[0],10);Eo=parseInt(gU[1],10);break;case "A":eZ="ae";var cR=lY.split(/[, ]+/);cR[0]=parseInt(cR[0],10);cR[1]=parseInt(cR[1],10);cR[2]=parseInt(cR[2],10);cR[3]=parseInt(cR[3],10);cR[4]=parseInt(cR[4],10);cR[5]=parseInt(cR[5],10);lY=cR[4]+" "+cR[5]+" "+cR[2]*2+" "+cR[3]*2+" 0 360";break;case "L":eZ="l";gU=lY.split(/[, ]+/);Dy=parseInt(gU[0],10);Eo=parseInt(gU[1],10);break;case "l":eZ="r";gU=lY.split(/[, ]+/);gU[0]=parseInt(gU[0],10)+parseInt(Dy,10);gU[1]=parseInt(gU[1],10)+parseInt(Eo,10);Dy=parseInt(gU[0],10);Eo=parseInt(gU[1],10);break;case "c":eZ="v";break;case "z":eZ="xe";lY="";break;default:eZ=eZ.toLowerCase();}alX+=eZ+lY;}this.path=alX;return;}else if(aV==="stroke"){this.stroked=(T==="none"?0:1);this.strokecolor=T;return;}else if(aV==="stroke-width"){this.strokeweight=parseFloat(T)/1.2+"pt";return;}else if(aV==="fill"){this.filled=(T==="none"?0:1);this.fillcolor=T;return;}};if(qN){aP.setAttribute('d',qN);}aP.setAttribute('stroke-width',gj.thickness||4);aP.setAttribute('stroke',gj.color||'#000000');aP.filled=0;aP.fillcolor='none';return aP;},Rect:function(aK,an){var aP=document.createElement("v:roundrect");aP.rxy=0;aP.svg2vmlStyle={fill:{value:"#000000",valueSource:"default"},stroke:{value:"none",valueSource:"default"},"stroke-width":{value:"1",valueSource:"default"}};aP.setAttribute=function(aV,T,aym){if(this.svg2vmlStyle[aV]){this.svg2vmlStyle[aV]["value"]=T;this.svg2vmlStyle[aV]["valueSource"]=(aym||"user");}if(aV==="x"){this.style.left=parseInt(T,10)+'px';return;}else if(aV==="y"){this.style.top=parseInt(T,10)+'px';return;}else if(aV==="stroke"){this.stroked=(T==="none"?0:1);this.strokecolor=T;return;}else if(aV==="stroke-width"){this.strokeweight=parseFloat(T)/1.2+"pt";return;}else if(aV==="fill"){this.filled=(T==="none"?0:1);this.fillcolor=T;return;}else if(aV==="width"||aV==="height"||aV==="rx"||aV==="ry"){if(aV==="width"){this.style.width=parseInt(T,10)+'px';}else if(aV==="height"){this.style.height=parseInt(T,10)+'px';}else if(aV==="rx"||aV==="ry"){if(parseInt(T,10)){this.rxy=parseInt(T,10);}}if(this.rxy!==0){var HK=parseInt(this.style.width,10);var RD=parseInt(this.style.height,10);if(!HK){HK=0;}if(!RD){RD=0;}if(RD<HK){HK=RD;}var KV=this.rxy/HK;this.arcsize=KV;}else{this.arcsize=0;}return;}};if(aK){aP.setAttribute('width',aK);}if(an){aP.setAttribute('height',an);}for(var aV in aP.svg2vmlStyle){if((aP.svg2vmlStyle[aV]["value"])&&(aP.svg2vmlStyle[aV]["valueSource"]==="default")){aP.setAttribute(aV,aP.svg2vmlStyle[aV]["value"],"default");}}return aP;}};C.IY=function IY(lW){var regexIso8601=/^(\d{4}|\+\d{6})(?:-(\d{2})(?:-(\d{2})(?:T(\d{2}):(\d{2}):(\d{2})\.(\d{1,3})(?:Z|([\-+])(\d{2}):(\d{2}))?)?)?)?$/;var m=regexIso8601.exec(lW);if(m){return Date.UTC(m[1],(m[2]||1)-1,m[3]||1,m[4]-(m[8]?m[8]+m[9]:0)||0,m[5]-(m[8]?m[8]+m[10]:0)||0,m[6]||0,((m[7]||0)+'00').substr(0,3));}else{return new Error(lW+' cannot be parsed as an ISO 8601 date.');}};C.wD=function aFz(ha){if(ha.toISOString&&typeof ha.toISOString==='function'){return ha.toISOString();}else if(ha instanceof Date){var pad=function pad(number){if(number<10){return '0'+number;}return number;};return ha.getUTCFullYear()+'-'+pad(ha.getUTCMonth()+1)+'-'+pad(ha.getUTCDate())+'T'+pad(ha.getUTCHours())+':'+pad(ha.getUTCMinutes())+':'+pad(ha.getUTCSeconds())+'.'+(ha.getUTCMilliseconds()/1000).toFixed(3).slice(2,5)+'Z';}else{return new Error(ha+' is not a Date object.');}};C.ub=function ub(o){return(!o?false:typeof Node==="object"?o instanceof Node:o&&typeof o==="object"&&typeof o.nodeType==="number"&&typeof o.nodeName==="string");};C.QQ=function QQ(o){if(C.ub(o)){while(o.firstChild){o.removeChild(o.firstChild);}}};C.Zx=function sync(funcs,done){var counter=funcs.length;var idx=0;var next=function(err){if(err){done(err);}else if(--counter===0){done();}else{funcs[idx++](next);}};funcs[idx++](next);};C.agt=function(al){al=String(al).replace(/[^0-9a-f]/gi,"");if(al.length<6){al=al[0]+al[0]+al[1]+al[1]+al[2]+al[2];}var SD=function(bY){return parseInt(bY,16);};var r=SD(al.substring(0,2));var g=SD(al.substring(2,4));var b=SD(al.substring(4,6));return{r:r,g:g,b:b};};C.azH=function(al){var OP="";var Mu=function(n){while(n.length<2){n='0'+n;}return n;};var Tf=function(n){return Mu(n.toString(16));};OP+=Tf(Math.floor(al.r));OP+=Tf(Math.floor(al.g));OP+=Tf(Math.floor(al.b));return '#'+OP;};C.aqS=function(apG,axG,apL){var ED=apL,_E=C.agt(apG),nU=C.agt(axG);nU.r=(1-ED)*nU.r+(_E.r*ED);nU.g=(1-ED)*nU.g+(_E.g*ED);nU.b=(1-ED)*nU.b+(_E.b*ED);nU.r=Math.floor(nU.r);nU.g=Math.floor(nU.g);nU.b=Math.floor(nU.b);return C.azH(nU);};C.akY=function(awP,tm){var arJ=C.reduceLeft(awP,function(fL,db){if(db.opacity===undefined){db.opacity=127;}var aBK=db.opacity/255;return C.aqS(db.color,fL,aBK);},tm);return arJ;};C.anl=function(hJ){if(hJ.length===0){return hJ;}var fu=hJ.slice(0);fu.sort(function(a,b){return a.startIndex-b.startIndex;});var WY=null;var lu=[];var Tj=0,Ph=[];var h=fu[0].startIndex;while(fu.length>0){Tj=0;Ph=null;Ph=[];var as=0;while(as<fu.length&&fu[as].startIndex<=h){if(h<=fu[as].startIndex+fu[as].length-1){Tj++;Ph.push(fu[as]);as++;}else{fu.splice(as,1);}}if(Tj>0){var DI=C.akY(Ph,'#ffffff');if(DI===WY){lu[lu.length-1].endIndex=h;}else{lu.push({startIndex:h,endIndex:h,color:DI});}WY=DI;h++;}else{if(fu.length>0){h=fu[0].startIndex;}WY=null;}}return lu;};C.Gw=function(Qr){return Qr.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");};C.abO=function(ao){var blackListPattern=/^\s*(file|data|javascript|[a-z]):.*$/i;return blackListPattern.test(ao);};C.Mu=function(jl,dI){var bY=""+jl;while(bY.length<dI){bY='0'+bY;}return bY;};C.aEX=function(fc){var gK=fc.getTimezoneOffset();gK=((gK<0?'+':'-')+C.Mu(parseInt(Math.abs(gK/60),10),2)+C.Mu(Math.abs(gK%60),2));return gK;};C.agC=['Sun','Mon','Tue','Wed','Thurs','Fri','Sat'];C.QG=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];C.akB=function(Rz){var aBt=/^\s*\w+\s+(\w+)\s+(\d+)\s+(\d+):(\d+):(\d+)\s+GMT[+-]?\d+\s+(\d+)\s*$/i,aE=aBt.exec(Rz),aeT,Ct,agr,aeR,afm,xr,ahu;if(!aE){return null;}else{aeT=aE[1].toLowerCase();agr=aE[2];aeR=aE[3];afm=aE[4];xr=aE[5];ahu=aE[6];for(Ct=0;Ct<12;Ct++){if(C.QG[Ct].toLowerCase()===aeT){break;}}if(Ct>=12){return null;}return new Date(Date.UTC(ahu,Ct,agr,aeR,afm,xr));}};C.adi=function(fc){return(C.agC[fc.getUTCDay()]+" "+C.QG[fc.getUTCMonth()]+" "+fc.getUTCDate()+" "+fc.getUTCHours()+':'+fc.getUTCMinutes()+':'+fc.getUTCSeconds()+" "+"GMT+0000 "+fc.getUTCFullYear());};C.arr=function(fc){return(C.agC[fc.getUTCDay()]+" "+C.QG[fc.getUTCMonth()]+" "+fc.getUTCDate()+" "+fc.getUTCFullYear());};C.asE=function(fc){return(fc.getUTCHours()+':'+fc.getUTCMinutes()+':'+fc.getUTCSeconds()+" "+"GMT+0000");};C.nL=function(text){return text.replace(/[&<>\"\']/g,function(char){switch(char){case "&":return "&amp;";case "<":return "&lt;";case ">":return "&gt;";case "\"":return "&quot;";case "'":return "&apos;";default:throw new Error("Did not find a replacement character.");}});};C.yI=function(text){return text.replace(/&amp;/g,'&').replace(/&gt;/g,'>').replace(/&lt;/g,'<').replace(/&quot;/g,'"').replace(/&apos;/g,'\'');};C.ayB=(function(chars){chars='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';function InvalidCharacterError(message){this.message=message;};InvalidCharacterError.prototype=new Error;InvalidCharacterError.prototype.name='InvalidCharacterError';function btoa(input){var str=String(input);for(var block,charCode,idx=0,map=chars,output='';str.charAt(idx|0)||(map='=',idx%1);output+=map.charAt(63&block>>8-idx%1*8)){charCode=str.charCodeAt(idx+=3/4);if(charCode>0xFF){throw new InvalidCharacterError("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");}block=block<<8|charCode;}return output;};function atob(input){var str=String(input).replace(/=+$/,'');if(str.length%4==1){throw new InvalidCharacterError("'atob' failed: The string to be decoded is not correctly encoded.");}for(var bc=0,bs,buffer,idx=0,output='';buffer=str.charAt(idx++);~buffer&&(bs=bc%4?bs*64+buffer:buffer,bc++ %4)?output+=String.fromCharCode(255&bs>>(-2*bc&6)):0){buffer=chars.indexOf(buffer);}return output;};return{btoa:btoa,atob:atob};})();C.pn=(function(){var pn=['down','enter','leave','move','out','over','up'];if(window.navigator.pointerEnabled){var afu={};pn.forEach(function(aeu){afu[aeu]='pointer'+aeu;});return afu;}if(window.navigator.msPointerEnabled){var abK={};for(var h=0;h<pn.length;h++){var Wt=pn[h];var aCY='MSPointer'+Wt.charAt(0).toUpperCase()+Wt.slice(1);abK[Wt]=aCY;}return abK;}return{};})();C.xL=(function(){return{AO: ! !navigator.userAgent.match('Edge'),aGl:document.documentMode!==undefined,aFi:document.documentMode===8,aFr:document.documentMode===9,aEW:document.documentMode===10,aEV:document.documentMode===11,aCJ:(navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i))};})();C.MJ=(function(oQ){if(!oQ|| !IPCC.C.trim(oQ)){return 'regular';}return IPCC.C.trim(oQ).toLowerCase();});C.aHN=function(arg,value){return typeof arg!=='undefined'?arg:value;};C.Lu=function(value){return Number(value.replace(/[a-z]+$/,''));};C.Po=function(elem,propertyName){if(elem.currentStyle){return elem.currentStyle[propertyName];}else{return window.getComputedStyle(elem,null).getPropertyValue(propertyName);}};C.adf=function(){if(this.qd===undefined){this.qd=document.createTextNode('');}return this.qd;};C.ada=function(){if(this.cd===undefined){this.cd=document.createElement('textarea');this.qd=document.createTextNode('');this.cd.appendChild(C.qd);this.cd.style.position='absolute';this.cd.style.overflow='hidden';this.cd.style.width='80px';this.cd.style.height='80px';this.cd.style.resize='none';this.cd.style.top='-9999px';this.cd.style.left='-9999px';this.cd.style.whiteSpace='pre-wrap';this.cd.style.border=0;this.cd.style.padding='2px';document.body.appendChild(this.cd);}return this.cd;};C.YT=function(cd,Ga,ba){var Ya=0.1;var Hh;if(Ga===0||Ga>ba){Ga=ba;}while(Ya<=Ga){Hh=(Ya+Ga)/2;cd.style.fontSize=Hh+'px';if(cd.scrollHeight<=cd.offsetHeight){Ya=Hh+0.1;}else{Ga=Hh-0.1;}}var aiW=(Hh-0.5)*0.95;cd.style.fontSize=aiW+'px';return aiW;};C.NV=function(xc,qR,Uh,qK){if(xc(qR,Uh)!==Uh){return typeof(qK)==='number'?qK:Uh;}return qR;};C.MR=function(qR,aFJ,qK){return C.NV(Math.min,qR,aFJ,qK);};C.MX=function(qR,aDp,qK){return C.NV(Math.max,qR,aDp,qK);};C.anR=(function(){var He;return function(anV,ka,aso){if(He!==undefined&& !aso){setTimeout(ka.bind(null,He),0);return;}aEl(anV,function(ra){He=ra;ka(ra);});};function aEl(LZ,ka){var iZ='jctqxvjmncyjagibfltptfzhknc';var ik='@font-face {font-family:'+iZ+';src:url(data:application/x-font-woff;charset=utf-8;base64,d09GRk9UVE8AAAQoAAkAAAAAA+QAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABDRkYgAAAC+AAAARkAAAEZ9R5YPk9TLzIAAAFEAAAAYAAAAGBKDUcOY21hcAAAAqwAAAAsAAAALAAMAFZoZWFkAAAA4AAAADYAAAA2+UdJt2hoZWEAAAEYAAAAJAAAACQIOgMbaG10eAAABBQAAAAUAAAAFAhtAW5tYXhwAAABPAAAAAYAAAAGAAVQAG5hbWUAAAGkAAABBQAAAQVCmPyecG9zdAAAAtgAAAAgAAAAIAADAAAAAQAAAAEAAM9NZw1fDzz1AAAD6AAAAADLUgMfAAAAAMtSAx8Ac//5AxwCmwAAAAgAAgAAAAAAAAABAAACm//5Ag4DHABzAAADHAABAAAAAAAAAAAAAAAAAAAABQAAUAAABQAAAAQCzwGQAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAEFDQ1UAQAAfACMCm//5AkACmwAHAAAAAQAAAAAAAAAAAAAAIAAAAAAABgBOAAEAAAAAAAEAGwAAAAEAAAAAAAIABwBRAAEAAAAAAAYAGwBmAAMAAQQJAAEANgAbAAMAAQQJAAIADgBYAAMAAQQJAAYANgCBamN0cXh2am1uY3lqYWdpYmZsdHB0Znpoa25jAGoAYwB0AHEAeAB2AGoAbQBuAGMAeQBqAGEAZwBpAGIAZgBsAHQAcAB0AGYAegBoAGsAbgBjUmVndWxhcgBSAGUAZwB1AGwAYQByamN0cXh2am1uY3lqYWdpYmZsdHB0Znpoa25jAGoAYwB0AHEAeAB2AGoAbQBuAGMAeQBqAGEAZwBpAGIAZgBsAHQAcAB0AGYAegBoAGsAbgBjAAAAAAAAAQADAAEAAAAMAAQAIAAAAAQABAABAAAAI///AAAAIP///+EAAQAAAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEABAQAAQEBHGpjdHF4dmptbmN5amFnaWJmbHRwdGZ6aGtuYwABAQEq+Bv4HIsMHvgdAvgdA/cHhPmw+S8FiwwfkAwi95sMJPc5DCX3NA/3QREABAEBBg8qRUFkb2JlSWRlbnRpdHkwamN0cXh2am1uY3lqYWdpYmZsdHB0Znpoa25jamN0cXh2am1uY3lqYWdpYmZsdHB0Znpoa25jAAACAAEAAwMAAQAAAAAFAAUBAQIDFDNSDg7Q9xX5JxX5J4uL/Sf9J4sFDtj3LvkOFYv89fj1i4v49QWs/RUV/TaLi/k2+TaLBQ77JvcHixWL+NH4XouL/NEF/FCZFfhCi4v4tfxCiwUOAAEBAQn4HgwmkPeoEosU+WMVAAAAAAAAAAAAAAADFACBAxwAegI9AHM=)}';var fA;var oa;var afT;var amt,amG;avP();aEu(function(ra){aAk();ka(ra);});function avP(){fA=document.createElement('style');fA.innerText=ik;LZ.appendChild(fA);oa=document.createElement('div');oa.style.cssText='position: absolute;width: 100%;top:-9999px;left: -9999px;visibility: hidden;pointer-events: none;';amt=afg(oa,'monospace');amG=afg(oa,'arial');LZ.appendChild(oa);};function aAk(){clearInterval(afT);LZ.removeChild(oa);LZ.removeChild(fA);};function aEu(bA){var amU=Date.now();var qV=500;var aBZ=25;afT=setInterval(function(){var agc=amt.offsetWidth===amG.offsetWidth;if(agc||Date.now()-amU>qV){bA(agc);}},aBZ);};function afg(oa,ik){var axK='!!';var amn=document.createElement('div');var IU=document.createElement('span');IU.style.cssText='font-size: 30px; font-weight: normal; font-style: normal; letter-spacing: 0px; white-space: nowrap;';IU.innerText=axK;IU.style.fontFamily=iZ+', '+ik;amn.appendChild(IU);oa.appendChild(amn);return IU;}}})();module.exports=C;},{}],30:[function(require,module,exports){var zA=require('./Type');zA.registerNamespace('IPCC');module.exports={Pagecounter:1,gu:true,akC:null,initializePageViewPlugin:require('./initializePageViewPlugin'),initializePageListPlugin:require('./initializePageListPlugin'),qF:require('./predefinedContextMenu'),Yh:require('./indexOf'),Lq:require('./setProperties'),aa:require('./PageItem'),wh:require('./GetUniqueID'),Ws:require('./ViewerState'),tE:require('./Configuration'),bG:require('./Cursor'),kH:require('./Res'),bC:require('./Validate'),iJ:require('./Debug'),ee:require('./MenuCommand'),PageLayout:require('./PageLayout'),ViewMode:require('./ViewMode'),FitType:require('./FitType'),ScaleTrigger:require('./ScaleTrigger'),PageEventArgs:require('./PageEventArgs'),ExceptionEventArgs:require('./ExceptionEventArgs'),OpenPageEventArgs:require('./OpenPageEventArgs'),PageList:require('./PageList'),Web:require('./Web/Web'),Type:zA,C:require('./IPCC.Util'),bZ:require('./Art'),ku:require('./SelectTextController'),eA:require('./Matrix'),Xi:require('./ViewerModel'),fB:require('./ContextMenuController'),ek:require('./SvgUIDirector'),oe:require('./PropertyChangedEventArgs'),gW:require('./Browser'),zG:require('./StringBuilder'),dQ:require('./MultiTouchController'),rD:require('./ImagePyramid'),dq:require('./SingleTouchController'),jS:require('./AddPolyMarkController'),pp:require('./SelectController'),ep:require('./AddRectangularMarkController'),lv:require('./AddFreehandMarkController'),mI:require('./AddLineMarkController'),dj:require('./MouseWheelController'),oT:require('./HandPanController'),lK:require('./RectangleZoomController'),rn:require('./MagnifierController'),jN:require('./EditMarksController'),zb:require('./RunMarksController'),Bk:require('./Space'),hm:require('./Image'),OI:require('./ImagePool'),DQ:require('./PyramidLevel'),vE:require('./PyramidTile'),};},{"./AddFreehandMarkController":12,"./AddLineMarkController":13,"./AddPolyMarkController":14,"./AddRectangularMarkController":15,"./Art":16,"./Browser":19,"./Configuration":20,"./ContextMenuController":21,"./Cursor":22,"./Debug":23,"./EditMarksController":24,"./ExceptionEventArgs":25,"./FitType":26,"./GetUniqueID":27,"./HandPanController":28,"./IPCC.Util":29,"./Image":31,"./ImagePool":32,"./ImagePyramid":33,"./MagnifierController":34,"./Matrix":35,"./MenuCommand":36,"./MouseWheelController":37,"./MultiTouchController":38,"./OpenPageEventArgs":39,"./PageEventArgs":40,"./PageItem":41,"./PageLayout":42,"./PageList":43,"./PropertyChangedEventArgs":44,"./PyramidLevel":45,"./PyramidTile":46,"./RectangleZoomController":47,"./Res":48,"./RunMarksController":49,"./ScaleTrigger":50,"./SelectController":51,"./SelectTextController":52,"./SingleTouchController":53,"./Space":54,"./StringBuilder":55,"./SvgUIDirector":56,"./Type":57,"./Validate":58,"./ViewMode":59,"./ViewerModel":60,"./ViewerState":61,"./Web/Web":125,"./indexOf":126,"./initializePageListPlugin":127,"./initializePageViewPlugin":128,"./predefinedContextMenu":129,"./setProperties":130}],31:[function(require,module,exports){var hm=function(kM,bF,aK,an,hf,gM){IPCC.Bk.call(this,0,0,0,0);this.width=aK;this.height=an;this.hf=hf;this.gM=gM;this.bF=bF||0;this.ed=0;this.pW=true;this.ayV={};this.zr=false;var J=this;this.bF=bF;this.get_url=function(gq,eW,ap){eW=eW||'Image';ap=ap||'';var BP=hm.HA(kM);var Gy=false;if(/^[\x00-\x7F]*$/.test(BP)){Gy=true;}if(ap===null||ap===''){if(eW==='Attributes'){var vg='';if(!IPCC.tE.Ja()){vg='&ContentType=png';}if(!Gy){return gq+'/Page/q/'+bF.toString()+'/'+eW+'?DocumentID=e'+kM+vg;}else{return gq+'/Page/q/'+bF.toString()+'/'+eW+'?DocumentID=u'+encodeURIComponent(BP)+vg;}}else{if(eW==='SvgImage'){if(!Gy){return gq+'/Page/q/'+bF.toString()+'?DocumentID=e'+kM+'&'+ap;}else{return gq+'/Page/q/'+bF.toString()+'?DocumentID=u'+encodeURIComponent(BP)+'&'+ap;}}if(!Gy){return gq+'/Page/q/'+bF.toString()+'/'+eW+'?DocumentID=e'+kM+'&'+ap;}else{return gq+'/Page/q/'+bF.toString()+'/'+eW+'?DocumentID=u'+encodeURIComponent(BP)+'&'+ap;}}}else{if(eW==='SvgImage'){if(!Gy){return gq+'/Page/q/'+bF.toString()+'?DocumentID=e'+kM+'&'+ap;}else{return gq+'/Page/q/'+bF.toString()+'?DocumentID=u'+encodeURIComponent(BP)+'&'+ap;}}if(!Gy){return gq+'/Page/q/'+bF.toString()+'/'+eW+'?DocumentID=e'+kM+'&'+ap;}else{return gq+'/Page/q/'+bF.toString()+'/'+eW+'?DocumentID=u'+encodeURIComponent(BP)+'&'+ap;}}};this.get_urlArt=function(gq,eW,ap){eW=eW||'Art';ap=ap||'';if(ap===null||ap===''){if(eW==='Art'){return gq+'/Page/q/'+bF.toString()+'/'+eW+'?DocumentID=e'+kM;}}else{return gq+'/Page/q/'+bF.toString()+'/'+eW+'?DocumentID=e'+kM+'&'+ap;}};this.get_identifier=function(){return IPCC.hm.HA(kM);};this.get_encodedIdentifier=function(){return kM;};this.toString=function(){return 'Image("'+kM+'", '+this.bF+', '+this.width+' x '+this.height+', '+this.hf+', '+this.gM+')';};function agR(anN,H){if(H.ZL()){J.pW=true;J.zr=false;return;}var abg=anN.split(',');var mw=false;for(var bU=0;bU<abg.length;bU++){if(abg[bU]==="SVG"||abg[bU]==="svg"){if(IPCC.tE.Ja()){J.zr=true;J.pW=false;}else{J.zr=false;}mw=true;break;}}if(!mw){J.zr=false;J.pW=true;}if(H){if(H.La){H.La(J.zr);}}};this.SF=function(gq,H,yG){H.bF=this.bF;var lF=0;var mU=H.zP();if(mU){if(document.documentMode<9){mU=false;}}var qA=true;if(H.jO()===0){qA=false;}var nA=function(fN,bw){try{if(fN===null){throw new IPCC.Web.UI.ImGearArgumentException(null,'Unable to load the specified image. Failed to obtain Image attributes. Returned JSON from the server is null');}if(fN.errorCode){if(fN.errorCode==='SvgNotAvailable'){mU=false;J.width= +(fN.pageAttributes.imageWidth);J.height= +(fN.pageAttributes.imageHeight);J.hf= +(fN.pageAttributes.imageXResolution);if(J.hf<=0){J.hf=72;}J.gM= +(fN.pageAttributes.imageYResolution);if(J.gM<=0){J.gM=72;}J.ed= +(fN.pageAttributes.pageCount);J.pW=fN.pageAttributes.isRaster!=='false';agR(fN.pageAttributes.contentType,H);}}else{J.width= +(fN.imageWidth);J.height= +(fN.imageHeight);J.hf= +(fN.imageXResolution);if(J.hf<=0){J.hf=72;}J.gM= +(fN.imageYResolution);if(J.gM<=0){J.gM=72;}J.ed= +(fN.pageCount);J.pW=fN.isRaster!=='false';agR(fN.contentType,H);}var pq=bw.getResponseHeader("Accusoft-Data-Encrypted");var Gb=false;if(pq==="true"){Gb=true;}H.adG(Gb);if(yG){yG();}}catch(e){H.ay('openPage',e);if(typeof(H.ae)==='function'){var cN=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cN.exception=e;cN.pageNumber=H.bF;H.ae('pageOpenFailed',cN);}}};function ND(){mU=false;if(lF<1){var hs={method:'GET',url:J.get_url(gq,'Attributes'),headers:{'Content-Type':'application/json'}};if(qA===true){hs.timeout=H.jO();}IPCC.C.mH.ff(hs).then(fq,eP);lF++;}};var axI=function(hD,bw){var aK;var an;function atk(){var XE;try{XE=JSON.parse(hD);}catch(ar){XE=undefined;mU=true;}return XE;};try{aK=hD.match(/width=\"([0-9.]+)\"/);an=hD.match(/height=\"([0-9.]+)\"/);if(aK&&an){aK=Number(aK[1]);an=Number(an[1]);}else{throw "error";}if(isNaN(aK)||isNaN(an)){throw "error";}J.width=aK;J.height=an;J.hf=72;J.gM=72;J.zr=true;J.pW=false;if(H){if(typeof(H.La==='function')){H.La(J.zr);}}if(yG){yG();}}catch(e){var aE=atk();if(aE){nA(aE,bw);return;}if(mU){if(lF<1){mU=false;setTimeout(ND,10);return;}}H.ay('openPage',e);if(typeof(H.ae)==='function'){var cN=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cN.exception=e;cN.pageNumber=H.bF;H.ae('pageOpenFailed',cN);}}};function fq(bw){var aE=null,cF;try{if(!mU){aE=JSON.parse(bw.responseText);nA(aE,bw);}else{var mO;var pq=bw.getResponseHeader("Accusoft-Data-Encrypted");if(pq==='true'&&H.ja()===true){var tZ=IPCC.Web.hA.pA.vC(bw.getResponseHeader("Accusoft-Data-SK"));var aV=IPCC.Web.Hx(tZ,iC);var er=IPCC.Web.Fm(bw);var vd=IPCC.Web.DU(er,aV,iC);mO=IPCC.Web.hA.GM.mY(vd);}else{mO=bw.responseText;}var YX;if(mO.length>=1000){YX=mO.substring(0,1000);}else{YX=mO.substring(0,mO.length);}axI(YX,bw);}}catch(ex){if(mU){mU=false;if(lF<1){setTimeout(ND,10);return;}}cF="Attributes parsing error, Error message = "+ex.message;throw new IPCC.Web.UI.ImGearArgumentException(null,cF);}};function eP(aE){try{var cF,mJ,mN;if(!aE.response){throw new IPCC.Web.UI.ImGearHttpException(aE.response.status,"Client timed out on load");}if(aE.response.status===403){lF++;if(aE.response.statusText&&aE.response.statusText!==""){cF="Expired viewer session ID, error message from the server: "+aE.response.statusText;}else{cF="Expired viewer session ID. Np error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(aE.response.status,cF);}if(mU){mU=false;if(lF<1){setTimeout(ND,10);return;}}mN=aE.response.getResponseHeader('Accusoft-Status-Message');if(mN){var qT;mJ=aE.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.yp(mJ)){qT=parseInt(mJ,10);}throw new IPCC.Web.UI.ImGearHttpException(aE.response.status,mN,qT);}else{if(aE.response.statusText&&aE.response.statusText!==""){cF="Error message from the service: "+aE.response.statusText;}else{cF="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(aE.response.status,cF);}}catch(e){if(mU){mU=false;if(lF<1){setTimeout(ND,10);return;}}H.ay('openPage',e);if(typeof(H.ae)==='function'){var cN=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cN.exception=e;cN.pageNumber=H.bF;H.ae('pageOpenFailed',cN);}}};var iC=IPCC.Web.FU.acV(4,IPCC.Web.OM());var qt=IPCC.Web.hA.IE.mY(iC);var hs={method:'GET',cache:true};if(!mU){hs.url=this.get_url(gq,'Attributes');hs.headers={'Content-Type':'application/json'};}else{var ao;if(H.ja()===true){iC=IPCC.Web.FU.aav(4,IPCC.Web.OM());qt=IPCC.Web.hA.IE.mY(iC);ao=this.get_url(gq,'SvgImage','Scale=1&ContentType='+IPCC.C.At+'&iv='+qt);}else{ao=this.get_url(gq,'SvgImage','Scale=1&ContentType='+IPCC.C.At);}hs.url=ao;}IPCC.C.mH.ff(hs).then(fq,eP);};this.azK=function(gq,H,yG){H.bF=this.bF;var lF=0;var qA=true;if(H.jO()===0){qA=false;}var nA=function(fN,bw){try{if(fN===null){throw new IPCC.Web.UI.ImGearArgumentException(null,'Unable to load the specified image. Failed to obtain Image attributes. Returned JSON from the server is null');}J.width= +(fN.imageWidth);J.height= +(fN.imageHeight);J.hf= +(fN.imageXResolution);if(J.hf<=0){J.hf=72;}J.gM= +(fN.imageYResolution);if(J.gM<=0){J.gM=72;}J.ed= +(fN.pageCount);J.pW=true;var pq=bw.getResponseHeader("Accusoft-Data-Encrypted");var Gb=false;if(pq==="true"){Gb=true;}H.adG(Gb);if(yG){yG();}}catch(e){H.ay('openPage',e);if(typeof(H.ae)==='function'){var cN=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cN.exception=e;cN.pageNumber=H.bF;H.ae('pageOpenFailed',cN);}}};function fq(bw){try{var hb=bw.status,aE,cF;if(hb===200){aE=null;try{aE=JSON.parse(bw.responseText);nA(aE,bw);}catch(ex){cF="Attributes parsing error, Error meesage = "+ex.message;throw new IPCC.Web.UI.ImGearArgumentException(null,cF);}}}catch(e){H.ay('openPageForRaster',e);if(typeof(H.ae)==='function'){var cN=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cN.exception=e;cN.pageNumber=H.bF;H.ae('pageOpenFailed',cN);}}};function eP(aE){try{var hb=aE.response.status,cF,mN,mJ;if(!aE.response){throw new IPCC.Web.UI.ImGearHttpException(hb,"Client timed out on load");}if(hb===403){lF++;if(aE.response.statusText&&aE.response.statusText!==""){cF="Expired viewer session ID, error message from the server: "+aE.response.statusText;}else{cF="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(hb,cF);}mN=aE.response.getResponseHeader('Accusoft-Status-Message');if(mN){var qT;mJ=aE.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.yp(mJ)){qT=parseInt(mJ,10);}throw new IPCC.Web.UI.ImGearHttpException(hb,mN,qT);}else{if(aE.response.statusText&&aE.response.statusText!==""){cF="Error message from the service: "+aE.response.statusText;}else{cF="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(hb,cF);}}catch(e){H.ay('openPageForRaster',e);if(typeof(H.ae)==='function'){var cN=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cN.exception=e;cN.pageNumber=H.bF;H.ae('pageOpenFailed',cN);}}};var acc={method:'GET',url:this.get_url(gq,'Attributes'),headers:{'Content-Type':'application/json'}};if(qA===true){acc.timeout=H.jO();}IPCC.C.mH.ff(acc).then(fq,eP);};return this;};hm.prototype.clone=function(){var TC=new hm(this.get_encodedIdentifier(),this.bF,this.width,this.height,this.hf,this.gM);TC.ed=this.ed;TC.pW=this.pW;return TC;};hm.prototype.equals=function(T){if(this.get_encodedIdentifier()!==T.get_encodedIdentifier()){return false;}if(this.bF!==T.bF){return false;}return true;};hm.prototype.rj=8;hm.prototype.sN=0.000001;hm.ajz=function(ap){var Im=ap.referenceDocumentIdentifier;var afb=hm.rE(Im);var gm=ap.encodedDocumentIdentifier;var ig=ap.documentIdentifier;var fe;if(gm===''){gm=undefined;}if(ig===''){ig=undefined;}if(Im&&Im!==''){if(gm===afb){gm=undefined;}if(ig===Im){ig=undefined;}}if(ig){fe=IPCC.hm.rE(ig);if(gm){if(gm!==fe){throw new IPCC.Web.UI.ImGearArgumentException('documentIdentifier','When both are specified, documentIdentifier and encodedDocumentIdentifier must reference the same document (and encodedDocumentIdentifier must be base64-encoded).');}}else{gm=fe;}}else{if(gm){ig=IPCC.hm.HA(gm);}}if(!gm){ig=Im;gm=afb;}var aR=ap.pageNumber;var afv=ap.referencePageNumber;if(aR===afv){aR=undefined;}if(aR!==0&& !aR){aR=afv;}ap.encodedDocumentIdentifier=gm;ap.documentIdentifier=ig;ap.pageNumber=aR;};hm.rE=function(iT){if(!iT||iT===''){return '';}var mZ=[];var h;for(h=0;h<iT.length;h++){mZ.push(iT.charCodeAt(h)%256);mZ.push(Math.floor(iT.charCodeAt(h)/256));}mZ.push(0);mZ.push(0);var Pj='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_';var ov=[],sj;for(h=0;h<mZ.length-1;h+=3){sj=mZ[h]*0x10000+mZ[h+1]*0x100+mZ[h+2];ov.push(Pj.charAt(Math.floor(sj/0x40000)));ov.push(Pj.charAt(Math.floor(sj/0x1000)%0x40));ov.push(Pj.charAt(Math.floor(sj/0x40)%0x40));ov.push(Pj.charAt(sj%0x40));}var Yt=Math.ceil(iT.length*16/6);while(ov.length>Yt){ov.pop();}if((ov.length%4)===3){ov.push('1');}else if((ov.length%4)===2){ov.push('2');}else if((ov.length%4)===0){ov.push('0');}return ov.join('');};hm.HA=function(kM){if(!kM||kM===''){return '';}var ajG=kM.length-1;var Ry=[],sj;var pB,mZ=[],nP=[];var h;for(h=0;h<ajG;h++){pB=kM.charCodeAt(h);if(pB>64&&pB<91){nP.push(pB-65);}else if(pB>96&&pB<123){nP.push(pB-97+26);}else if(pB>47&&pB<58){nP.push(pB-48+52);}else if(pB===45){nP.push(62);}else if(pB===95){nP.push(63);}else{return '';}}nP.push(0);nP.push(0);nP.push(0);for(h=0;h<nP.length-3;h+=4){sj=nP[h]*0x40000+nP[h+1]*0x1000+nP[h+2]*0x40+nP[h+3];mZ.push(Math.floor(sj/0x10000));mZ.push(Math.floor(sj/0x100)%256);mZ.push(sj%256);}for(h=0;h<mZ.length-1;h+=2){Ry.push(String.fromCharCode(mZ[h]+mZ[h+1]*0x100));}var Yt=Math.floor(ajG*6/16);while(Ry.length>Yt){Ry.pop();}return Ry.join('');};module.exports=hm;},{}],32:[function(require,module,exports){var OI=function(){this.cc=[];this.parentElementID='';this.lockTile=function(fm){var dR,h,TL,YQ;if(this.UK(fm)){return;}TL=0;for(h=this.cc.length-1;h>=0;h--){if(!(this.cc[h].locked)){TL++;YQ=h;}}if(TL>4){dR=this.cc[YQ];this.uiDirector.aga(dR);this.cc.splice(YQ,1);}dR=new aEF();dR.pool=this;this.uiDirector.ayw(dR);this.cc.push(dR);dR.locked=true;dR.tile=fm;fm.poolItem=dR;return;};this.UK=function(fm){var dR,h;if(this.locked){return true;}for(h=0;h<this.cc.length;h++){if(this.cc[h].tile===fm){dR=this.cc[h];dR.locked=true;fm.poolItem=dR;return true;}}return false;};this.aju=function(fm){var jh,h;jh=fm.poolItem;if(jh!==undefined&&jh.locked){this.uiDirector.aEo(jh);jh.locked=false;fm.poolItem=undefined;for(h=0;h<this.cc.length;h++){if(this.cc[h]===jh){this.cc.splice(h,1);this.cc.push(jh);return;}}}};return this;};OI.prototype.asT=function(){var h;for(h=0;h<this.cc.length;h++){if(!this.cc[h].locked){this.uiDirector.aga(this.cc[h]);}}};var aEF=function(){this.locked=false;this.loaded=false;this.tile=undefined;this.pool=undefined;this.elementID='';return this;};module.exports=OI;},{}],33:[function(require,module,exports){var rD=function(){this.fi=[];return this;};rD.prototype.aqD=function(dc,cY){var cf=dc.nY();var h,md,pm;var du=1;var KV;var xT=[];var uS=[];var vl=[];var ET,OH;pm=this.fi.length;for(h=0;h<this.fi.length;h++){if(this.fi[h].cf>cf){pm=h;break;}}md=pm-1;if(md<0){md=0;}if(pm>=this.fi.length){pm=this.fi.length-1;}if(md!==pm){KV=(cf-this.fi[md].cf)/(this.fi[pm].cf-this.fi[md].cf);du=KV*1.0;if(du>=0.15){du=1;md=pm;}if(du<=0.15){du=1;pm=md;}}uS=this.fi[md].Nt(cY);vl=this.fi[pm].Nt(cY);var Ma=function(nS){var h;for(h=0;h<nS.length;h++){nS[h].level.pool.UK(nS[h]);}};var Yl=function(nS){var adV=[];var h;for(h=0;h<nS.length;h++){if(!nS[h].get_isLockedAndLoaded()){adV.push(nS[h]);}}return adV;};var acd=function(nS){var amE=[];var h;for(h=0;h<nS.length;h++){if(nS[h].get_isLockedAndLoaded()){amE.push(nS[h]);}}return amE;};if(md>0&&md===pm&&this.fi[pm].tiles.length>1){md=pm-1;uS=this.fi[md].Nt(cY);}Ma(uS);xT=Yl(uS);if(xT.length>0){for(ET=md-1;ET>=0;ET--){OH=this.fi[ET].Nt(cY);Ma(OH);if(Yl(OH).length<1){break;}}if(ET<0){uS=acd(uS);}else{md=ET;uS=OH;du=1;}}else{Ma(vl);xT=Yl(vl);}Ma(vl);vl=acd(vl);if(xT.length>3){xT.splice(3,xT.length-3);}function aEA(){var aE;function VR(AY){var aE='',h,aW;if(AY.length<1){return '';}aW=AY[0].level;aE+='level '+aW.id.toString()+' - ';for(h=0;h<AY.length;h++){if(h>0){aE+=', ';}aE+='('+(AY[h].x/aW.nl).toString()+','+(AY[h].y/aW.xC).toString()+')';if(AY[h].get_isLockedAndLoaded()){aE+='*';}}return aE;};aE='tilesToRequest: '+VR(xT)+'<br/>';aE+='opaqueTiles: '+VR(uS)+'<br/>';aE+='translucentTiles: '+VR(vl)+'<br/>';aE+='opacity: '+du.toString()+'<br/>';aE+='apm: '+cf.toString()+'<br/>';aE+='dc: '+dc.toString()+'<br/>';return aE;};return{opaqueTiles:uS,translucentTiles:vl,opacity:du,tilesToRequest:xT,toString:aEA,apm:cf,dc:dc.toString()};};rD.prototype.aFn=function(pS){var EH=[];var sl=[];var h,j;var aW,tile;for(h=0;h<this.fi.length;h++){aW=this.fi[h];for(j=0;j<aW.tiles.length;j++){tile=aW.tiles[j];if(tile.poolItem!==undefined){EH.push(tile);}}}var anb=function(SH,ajQ){var h,j,Tp,Sv;for(h=0;h<ajQ.length;h++){Tp=ajQ[h];Sv=true;for(j=0;j<SH.length;j++){if(Tp===SH[j]){Sv=false;break;}}if(Sv){SH.push(Tp);}}};sl=pS.tilesToRequest.concat();anb(sl,pS.opaqueTiles);anb(sl,pS.translucentTiles);for(h=EH.length-1;h>=0;h--){var axJ=EH[h];for(j=0;j<sl.length;j++){if(sl[j]===axJ){EH.splice(h,1);break;}}}for(h=0;h<EH.length;h++){EH[h].unlock();}for(h=0;h<sl.length;h++){sl[h].relock();}for(h=0;h<sl.length;h++){if(sl[h].poolItem===undefined){sl[h].lock();}}};rD.prototype.unlockAllItems=function(){var h,j,aW;for(h=0;h<this.fi.length;h++){aW=this.fi[h];for(j=0;j<aW.tiles.length;j++){if(aW.tiles[j].poolItem!==undefined){aW.pool.aju(aW.tiles[j]);}}}};rD.prototype.aIn=function(){var h;for(h=0;h<this.fi.length;h++){this.fi[h].pool.asT();}};rD.prototype.toString=function(){var aE='',h,j,aW;for(h=0;h<this.fi.length;h++){aW=this.fi[h];aE+='Level '+h.toString()+':   scaleFactor='+aW.cf.toString()+'  image='+aW.width.toString()+'x'+aW.height.toString()+'  tile='+aW.nl.toString()+'x'+aW.xC.toString()+'\n';for(j=0;j<aW.tiles.length;j++){if(j>0){aE+=', ';}aE+='('+aW.tiles[j].x.toString()+', '+aW.tiles[j].y.toString()+')';}aE+='\n';}return aE;};rD.prototype.expandTile=function(fm,ZB,ZD,afI,aec,aW){fm.x=IPCC.C.MR(ZB-fm.wl,0,ZB,ZB-fm.wl);fm.y=IPCC.C.MR(ZD-fm.wJ,0,ZD,ZD-fm.wJ);fm.aK=IPCC.C.MX(afI+(2*fm.wl),aW.width,afI);fm.an=IPCC.C.MX(aec+(2*fm.wJ),aW.height,aec);if(fm.x+fm.aK>aW.width){fm.x=fm.x-fm.wl;fm.aK=aW.width-fm.x;fm.wl=0;}if(fm.y+fm.an>aW.height){fm.y=fm.y-fm.wJ;fm.wJ=0;fm.an=aW.height-fm.y;}return fm;};rD.prototype.createPyramid=function(ke,H){var aDj=6000000;var aaB=5000;var nl=1024;var aEv=nl*nl*3*150;var agd=0.5;var aGy=2;var bO=H.dv();var yO=bO.width*bO.height*3;var vA;var aW;var cf;var h;var bf,dB;var tile;var Df,Ei;this.fi=[];if(bO.pW){cf=1.0;vA=yO*cf*cf;while(this.fi.length<aGy||vA>aaB){aW=new IPCC.DQ();aW.cf=cf;this.fi.unshift(aW);cf*=agd;vA=yO*cf*cf;}}else{if(H.or()===true){yO=bO.width*bO.height;}cf=Math.sqrt(aaB/yO);var azb=cf*bO.hf;cf=Math.ceil(azb)/bO.hf;vA=yO*cf*cf;if(H.or()===false){while(vA<aEv){aW=new IPCC.DQ();aW.cf=cf;this.fi.push(aW);cf/=agd;vA=yO*cf*cf;}}else{aW=new IPCC.DQ();aW.cf=1;this.fi.push(aW);}}bO.rj=this.fi[this.fi.length-1].cf*8;for(h=0;h<this.fi.length;h++){aW=this.fi[h];aW.LD=85;if(h===this.fi.length-1){aW.LD=100;}aW.pyramid=this;aW.id=h;aW.pool=new IPCC.OI();aW.pool.uiDirector=ke;vA=yO*aW.cf*aW.cf;aW.width=Math.round(bO.width*aW.cf);aW.height=Math.round(bO.height*aW.cf);aW.nl=aW.width;aW.xC=aW.height;if(h>2&&h>this.fi.length-2){aW.nl=Math.min(nl/2,aW.width);aW.xC=Math.min(nl/2,aW.height);}if(vA>aDj){aW.nl=Math.min(nl,aW.width);aW.xC=Math.min(nl,aW.height);}aW.tiles=[];Df=aW.nl;for(bf=0;bf<aW.width;bf+=Df){Df=aW.nl;if(bf+Df*1.25>aW.width){Df=aW.width-bf;}Ei=aW.xC;for(dB=0;dB<aW.height;dB+=Ei){Ei=aW.xC;if(dB+Ei*1.25>aW.height){Ei=aW.height-dB;}tile=new IPCC.vE();tile.level=aW;if(H.or()===false){var Nk='jpeg';if(aW.LD>=100){Nk='png';}tile.contentType=Nk;tile.wJ=2;tile.wl=2;tile=this.expandTile(tile,bf,dB,Df,Ei,aW);if(tile.aK!==aW.width||tile.an!==aW.height){tile.url=H.XB('Tile/'+tile.x.toString()+'/'+tile.y.toString()+'/'+tile.aK.toString()+'/'+tile.an.toString(),'Scale='+aW.cf.toString()+'&Quality='+aW.LD+'&ContentType='+Nk);}else{tile.url=H.XB('','Scale='+aW.cf.toString()+'&Quality='+aW.LD+'&ContentType='+Nk);}}else{tile.url=H.XB('','Scale='+aW.cf.toString()+'&ContentType='+IPCC.C.At);tile.aHL=ke.ali();}tile.right=tile.x+tile.aK;tile.bottom=tile.y+tile.an;aW.tiles.push(tile);}}}};module.exports=rD;},{}],34:[function(require,module,exports){var rn=function(){this.aq=false;this.H=false;};rn.prototype.nd=function(H){this.H=H;};rn.prototype.fa=function(){this.H=false;};rn.prototype.au=function(){if(this.aq){this.H.aN().hideMagnifier();this.aq=false;}};rn.prototype.pP=function(){this.au();};rn.prototype.kY=function(F){this.au();if(F.domEvent.button===0){this.aq=true;this.H.aN().showMagnifier(F.windowPoint);this.H.cI();}};rn.prototype.kP=function(F){if(F.domEvent.button!==0){this.au();}if(this.aq){this.H.aN().showMagnifier(F.windowPoint);this.H.cI();}};rn.prototype.jV=function(){this.au();this.H.cI();};rn.prototype.oX=function(F){var bj=this.H.eT();if(F.windowPoint.x<=0||F.windowPoint.x>=bj.width-2){this.au();}if(F.windowPoint.y<=0||F.windowPoint.y>=bj.height-2){this.au();}};module.exports=rn;},{}],35:[function(require,module,exports){var eA=function(hC,jy,jj,gc,fw,eN){if(arguments.length===0){hC=gc=1;jy=jj=fw=eN=0;}this.amv=function(){return hC*gc-jy*jj;};this.aHW=function(){return hC===1&&jy===0&&jj===0&&gc===1&&fw===0&&eN===0;};this.nQ=function(){return hC;};this.oK=function(){return jy;};this.pH=function(){return jj;};this.sD=function(){return gc;};this.vx=function(){return fw;};this.wE=function(){return eN;};this.append=function(dc){var JJ=hC*dc.nQ()+jy*dc.pH();var Kt=hC*dc.oK()+jy*dc.sD();var IV=jj*dc.nQ()+gc*dc.pH();var Kz=jj*dc.oK()+gc*dc.sD();var Jx=fw*dc.nQ()+eN*dc.pH()+dc.vx();var Js=fw*dc.oK()+eN*dc.sD()+dc.wE();hC=JJ;jy=Kt;jj=IV;gc=Kz;fw=Jx;eN=Js;};this.equals=function(T){if(hC!==T.nQ()){return false;}if(jy!==T.oK()){return false;}if(jj!==T.pH()){return false;}if(gc!==T.sD()){return false;}if(fw!==T.vx()){return false;}if(eN!==T.wE()){return false;}return true;};this.wz=function(){if(!this.anp()){throw new IPCC.Web.UI.ImGearArgumentException(null,'Matrix has no inverse');}var Bs=this.amv();var JJ=gc/Bs;var Kt= -jy/Bs;var IV= -jj/Bs;var Kz=hC/Bs;var Jx=(jj*eN-gc*fw)/Bs;var Js=(jy*fw-hC*eN)/Bs;hC=JJ;jy=Kt;jj=IV;gc=Kz;fw=Jx;eN=Js;};this.JM=function(dc){var JJ=dc.nQ()*hC+dc.oK()*jj;var Kt=dc.nQ()*jy+dc.oK()*gc;var IV=dc.pH()*hC+dc.sD()*jj;var Kz=dc.pH()*jy+dc.sD()*gc;var Jx=dc.vx()*hC+dc.wE()*jj+fw;var Js=dc.vx()*jy+dc.wE()*gc+eN;hC=JJ;jy=Kt;jj=IV;gc=Kz;fw=Jx;eN=Js;};this.xS=function(ky,ta,oi,nC){fw-=oi;eN-=nC;this.scale(ky,ta);fw+=oi;eN+=nC;};this.arp=function(){hC=gc=1;jy=jj=fw=eN=0;};this.transform=function(aX){var bf=aX.x*hC+aX.y*jj+fw;var dB=aX.y*gc+aX.x*jy+eN;return new IPCC.Web.UI.Point(bf,dB);};this.nj=function(VT,Vt){fw+=VT;eN+=Vt;};this.aDi=function(T){if(Math.abs(hC-T.nQ())>1e-8){return false;}if(Math.abs(jy-T.oK())>1e-8){return false;}if(Math.abs(jj-T.pH())>1e-8){return false;}if(Math.abs(gc-T.sD())>1e-8){return false;}if(Math.abs(fw-T.vx())>1e-8){return false;}if(Math.abs(eN-T.wE())>1e-8){return false;}return true;};this.toString=function(){return '{'+hC.toFixed(6)+', '+jy.toFixed(6)+', '+jj.toFixed(6)+', '+gc.toFixed(6)+', '+fw.toFixed(3)+', '+eN.toFixed(3)+'}';};this.parse=function(){};this.clone=function(){return new IPCC.eA(hC,jy,jj,gc,fw,eN);};this.Py=function(gC){hC=gC.nQ();jy=gC.oK();jj=gC.pH();gc=gC.sD();fw=gC.vx();eN=gC.wE();};this.aqH=function(ah,bj){hC=1;gc=bj.gM*ah.hf/(ah.gM*bj.hf);jy=jj=fw=eN=0;};this.Wr=function(bd,ah,bj){switch(bd){case IPCC.Web.UI.FitType.FullImage:this.anU(ah,bj);break;case IPCC.Web.UI.FitType.FullWidth:this.akz(ah,bj);break;case IPCC.Web.UI.FitType.FullHeight:this.alm(ah,bj);break;case IPCC.Web.UI.FitType.ActualSize:this.akO(ah,bj);break;case IPCC.Web.UI.FitType.OneToOne:if(!(ah.pW)){this.akO(ah,bj);}else{this.aoa(ah,bj);}break;}};this.akz=function(ah,bj){var mn=this.nV(ah);var AP=bj.width-2;if(AP<1){AP=1;}var bk=AP/mn.width;this.scale(bk,bk);mn=this.nV(ah);if(mn.y<0){this.nj(0,-mn.y);}};this.alm=function(ah,bj){var mn=this.nV(ah);var AP=bj.height-2;if(AP<1){AP=1;}var bk=AP/mn.height;this.scale(bk,bk);mn=this.nV(ah);if(mn.x<0){this.nj(-mn.x,0);}};this.anU=function(ah,bj){var kf=this.clone();kf.akz(ah,bj);this.alm(ah,bj);if(Math.max(Math.abs(hC),Math.abs(jy))>Math.max(Math.abs(kf.nQ()),Math.abs(kf.oK()))){this.Py(kf);}};this.akO=function(ah,bj){var mn=this.nV({x:0,y:0,width:ah.hf,height:ah.gM});var bk=bj.hf/mn.width;this.scale(bk,bk);};this.aoa=function(ah,bj){var mn=this.nV({x:0,y:0,width:1,height:1});var bk=1/Math.min(mn.width,mn.height);this.scale(bk,bk);if(Math.abs(hC-1)<0.0001){hC=1;}if(Math.abs(gc-1)<0.0001){gc=1;}};return this;};eA.prototype.anp=function(){return Math.abs(this.amv())>1e-14;};eA.prototype.rotate=function(Al){this.adT(Al,0,0);};eA.prototype.adT=function(Al,oi,nC){var HD=Al*Math.PI*2/360;var ii=Math.sin(HD);var ea=Math.cos(HD);var dc=new IPCC.eA(ea,ii,-ii,ea,oi*(1-ea)+nC*ii,nC*(1-ea)-oi*ii);this.append(dc);};eA.prototype.aAJ=function(Al,oi,nC){var HD=Al*Math.PI*2/360;var ii=Math.sin(HD);var ea=Math.cos(HD);var dc=new IPCC.eA(ea,ii,-ii,ea,oi*(1-ea)+nC*ii,nC*(1-ea)-oi*ii);this.JM(dc);};eA.prototype.aFS=function(Al){this.aAJ(Al,0,0);};eA.prototype.scale=function(ky,ta){var dc=new IPCC.eA(ky,0,0,ta,0,0);this.append(dc);};eA.prototype.aFb=function(ky,ta,oi,nC){var dc=new IPCC.eA(ky,0,0,ta,oi*(1-ky),nC*(1-ta));this.JM(dc);};eA.prototype.aEO=function(ky,ta){var dc=new IPCC.eA(ky,0,0,ta,0,0);this.JM(dc);};eA.prototype.skew=function(ou,nT){var dc=new IPCC.eA(1,Math.tan(nT*Math.PI*2/360),Math.tan(ou*Math.PI*2/360),1,0,0);this.append(dc);};eA.prototype.aFy=function(ou,nT){var dc=new IPCC.eA(1,Math.tan(nT*Math.PI*2/360),Math.tan(ou*Math.PI*2/360),1,0,0);this.JM(dc);};eA.prototype.aHj=function(VT,Vt){var dc=new IPCC.eA(1,0,0,1,VT,Vt);this.JM(dc);};eA.prototype.zg=function(R){var ey=this.transform({x:R.x,y:R.y});var kk=ey.x;var mx=ey.x;var lx=ey.y;var nh=ey.y;ey=this.transform({x:R.x+R.width,y:R.y});kk=Math.min(kk,ey.x);mx=Math.max(mx,ey.x);lx=Math.min(lx,ey.y);nh=Math.max(nh,ey.y);ey=this.transform({x:R.x+R.width,y:R.y+R.height});kk=Math.min(kk,ey.x);mx=Math.max(mx,ey.x);lx=Math.min(lx,ey.y);nh=Math.max(nh,ey.y);ey=this.transform({x:R.x,y:R.y+R.height});kk=Math.min(kk,ey.x);mx=Math.max(mx,ey.x);lx=Math.min(lx,ey.y);nh=Math.max(nh,ey.y);return new IPCC.Web.UI.Rectangle(kk,lx,mx-kk,nh-lx);};eA.prototype.apq=function(ah,bj,fd){var ahc=this.clone();ahc.wz();var azg=ahc.transform({x:fd.x+fd.width/2,y:fd.y+fd.height/2});var bk=Math.min(bj.width/fd.width,bj.height/fd.height);bk-=1e-10;var kZ=this.nY();if(kZ*bk>ah.rj){bk=ah.rj/kZ;}if(kZ*bk<ah.sN){bk=ah.sN/kZ;}this.scale(bk,bk);this.ajO(bj,azg);};eA.prototype.PF=function(ah,bj,cY){this.apq(ah,bj,this.zg(cY));};eA.prototype.aIo=function(bj){this.xS(1,-1,bj.width/2,bj.height/2);};eA.prototype.aoJ=function(bj){this.xS(-1,1,bj.width/2,bj.height/2);};eA.prototype.Uy=function(ayo,anq){var ajS=this.transform(ayo);this.nj(anq.x-ajS.x,anq.y-ajS.y);};eA.prototype.ajO=function(bj,ca){var aeW=this.transform(ca);this.nj(bj.width/2-aeW.x,bj.height/2-aeW.y);};eA.prototype.kx=function(bO,bj){var bf=0,dB=0,end;var mD=this.nV(bO);if(mD.width<bj.width){bf=(bj.width-mD.width)/2-mD.x;}else{end=mD.x+mD.width;if(end<bj.width){bf=bj.width-end;}if(mD.x>0){bf= -mD.x;}}if(mD.height<bj.height){dB=(bj.height-mD.height)/2-mD.y;}else{end=mD.y+mD.height;if(end<bj.height){dB=bj.height-end;}if(mD.y>0){dB= -mD.y;}}this.nj(bf,dB);};eA.prototype.nV=function(bO){return this.zg({x:0,y:0,width:bO.width,height:bO.height});};eA.prototype.atZ=function(){var gS,yo,hV,xG,acr,hX;gS=this.transform({x:0,y:0});yo=this.transform({x:0,y:1});hV=this.transform({x:1,y:0});xG=Math.atan2(yo.y-gS.y,yo.x-gS.x);acr=Math.atan2(hV.y-gS.y,hV.x-gS.x);hX=xG-acr;if(hX>Math.PI){hX=hX-2*Math.PI;}if(hX< -Math.PI){hX=hX+2*Math.PI;}return hX<0;};eA.prototype.ajX=function(){var gS,yo,xG;gS=this.transform({x:0,y:0});yo=this.transform({x:0,y:1});xG=Math.atan2(yo.y-gS.y,yo.x-gS.x)-Math.PI/2;if(xG<0){xG=xG+2*Math.PI;}return xG*360/(Math.PI*2);};eA.prototype.nY=function(){var gd;var gS,qE;var eg,dU,cf;gS=this.transform({x:0,y:0});qE=this.transform({x:1,y:0});eg=qE.x-gS.x;dU=qE.y-gS.y;gd=eg*eg+dU*dU;qE=this.transform({x:0,y:1});eg=qE.x-gS.x;dU=qE.y-gS.y;cf=Math.min(gd,eg*eg+dU*dU);qE=this.transform({x:1,y:1});eg=qE.x-gS.x;dU=qE.y-gS.y;cf=Math.min(gd,eg*eg+dU*dU);qE=this.transform({x:1,y: -1});eg=qE.x-gS.x;dU=qE.y-gS.y;cf=Math.min(gd,eg*eg+dU*dU);return Math.sqrt(gd);};eA.aGT=function(){return new IPCC.eA(1,0,0,1,0,0);};module.exports=eA;},{}],36:[function(require,module,exports){var ee={afr:1,aep:2,YC:3,ahI:4,agy:5,FG:6,MI:7,ahQ:8,aiJ:9,aag:10,adk:11,abP:12,abQ:13,aer:14,aeA:15,aje:16};module.exports=ee;},{}],37:[function(require,module,exports){var dj=function(){this.H=false;this.arv=1.5;};dj.prototype.nd=function(H){this.H=H;};dj.prototype.fa=function(){this.H=false;};dj.prototype.au=function(){};dj.prototype.mo=function(F){var aA=this.H.aN();var ah=this.H.dv();var bj=this.H.eT();var ax=aA.eI();var OQ=F.wheelDelta/120;if(F.domEvent.ctrlKey){F.domEvent.preventDefault();var bk=((this.arv-1)/2)+1;if(OQ<0){bk=1/bk;}var kZ=ax.nY();if(kZ*bk>ah.rj){bk=ah.rj/kZ;}if(kZ*bk<ah.sN){bk=ah.sN/kZ;}ax.xS(bk,bk,F.windowPoint.x,F.windowPoint.y);ax.kx(ah,bj);this.H.ae('userModifiedViewState',{});aA.iu(ax);}else{var adI=ax.transform({x:0,y:0});ax.nj(0,OQ*bj.gM);ax.kx(ah,bj);var adK=ax.transform({x:0,y:0});if(Math.abs(adI.x-adK.x)>0.001||Math.abs(adI.y-adK.y)>0.001){F.domEvent.preventDefault();this.H.ae('userModifiedViewState',{});aA.iu(ax);}}this.H.cI();};module.exports=dj;},{}],38:[function(require,module,exports){var dQ=function(alV){this.alV=alV;this.Tx=0;this.NJ=1;this.Nh=2;this.SZ=3;this.Uc=4;this.dP=this.Tx;this.H=false;this.tu=0;};dQ.prototype.nd=function(H){this.H=H;this.aA=H.aN();};dQ.prototype.fa=function(){this.H=false;};dQ.prototype.au=function(){if(this.dP===this.Nh){this.H.aN().hideMagnifier();}this.dP=this.Tx;};dQ.prototype.Le=function(F){var ar=F.domEvent.rawEvent;switch(this.dP){case this.Tx:if(ar.touches.length===1){this.apK(F);}else if(ar.touches.length===2){this.aib(F);}else if(ar.touches.length===3){this.Yq(F);}else{this.au();}break;case this.NJ:if(ar.touches.length===2){this.aib(F);}else if(ar.touches.length===3){this.Yq(F);}else{this.au();}break;case this.Uc:if(ar.touches.length!==3){this.au();}break;case this.Nh:this.au();break;case this.SZ:if(ar.touches.length===3){this.Yq(F);}else if(ar.touches.length!==2){this.au();}break;}};dQ.prototype.LJ=function(F){switch(this.dP){case this.NJ:this.tu++;break;case this.Nh:this.abl(F);break;case this.SZ:this.ayv(F);break;case this.Uc:this.ars(F);break;}};dQ.prototype.Lo=function(){this.au();};dQ.prototype.FS=function(){this.au();};dQ.prototype.apK=function(F){this.dP=this.NJ;this.tu++;var aEN=this.tu;var J=this;function awn(){if(J.dP===this.NJ&&aEN===J.tu){J.apI(F);}};setTimeout(awn,1000);};dQ.prototype.apI=function(F){this.H.fX('pP',F);this.abl(F);this.dP=this.Nh;};dQ.prototype.Yq=function(F){var ar=F.domEvent.rawEvent;if(ar.touches.length!==3){this.au();return;}var hj=ar.touches[0];var ct={x:hj.screenX,y:hj.screenY};var dc=this.aA.eI();dc.wz();this.Mq=ct;this.ayc=ct;this.Zt=dc.transform(ct);this.dP=this.Uc;this.aGs=this.aA.eI();this.ahF=true;this.ahy=true;};dQ.prototype.ars=function(F){var ar=F.domEvent.rawEvent;if(ar.touches.length!==3){this.au();return;}var hj=ar.touches[0];var ct={x:hj.screenX,y:hj.screenY};var auR=Math.abs(ct.x-this.Mq.x);var atN=Math.abs(ct.y-this.Mq.y);if(auR>35){this.ahy=false;}if(atN>35){this.ahF=false;}if(this.ahF){ct.y=this.Mq.y;}if(this.ahy){ct.x=this.Mq.x;}this.ayc=ct;var ax=this.aA.eI();var bj=this.H.eT();var ah=this.H.dv();ax.Uy(this.Zt,ct);ax.kx(ah,bj);this.aA.iu(ax);};dQ.prototype.aIA=function(){};dQ.prototype.acO=function(F){var ar=F.domEvent.rawEvent;if(ar.touches.length!==2){this.au();return{};}var Rr=ar.touches[0];var QN=ar.touches[1];var eg=Rr.screenX-QN.screenX;var dU=Rr.screenY-QN.screenY;var vD=Math.sqrt(eg*eg+dU*dU);var hX=Math.atan2(eg,dU)*180/Math.PI;var aX={x:(Rr.screenX+QN.screenX)/2,y:(Rr.screenY+QN.screenY)/2};return{vD:vD,hX:hX,adh:aX};};dQ.prototype.aib=function(F){this.dP=this.SZ;this.aCh=this.acO(F);this.LN=this.aCh;var dc=this.aA.eI();dc.wz();this.Zt=dc.transform(this.LN.adh);this.Fd=this.LN.hX;};dQ.prototype.abl=function(F){var ar=F.domEvent.rawEvent;var hj=ar.touches[0];var ct={x:hj.screenX,y:hj.screenY};this.aA.showMagnifier(ct);};dQ.prototype.ayv=function(F){var xe=this.acO(F);var cf=xe.vD/this.LN.vD;var ax=this.aA.eI();var bj=this.H.eT();var ah=this.H.dv();ax.scale(cf,cf);var GG=this.Fd-xe.hX;var afa=this.Fd-xe.hX-360;var afc=this.Fd-xe.hX+360;if(Math.abs(GG)>Math.abs(afa)){GG=afa;}if(Math.abs(GG)>Math.abs(afc)){GG=afc;}if(GG< -40){ax.rotate(-90);this.Fd=xe.hX;}else if(GG>40){ax.rotate(90);this.Fd=xe.hX;}ax.Uy(this.Zt,xe.adh);ax.kx(ah,bj);this.aA.iu(ax);this.LN=xe;};dQ.prototype.aGJ=function(F){var ax=this.aA.eI();var bj=this.H.eT();var ah=this.H.dv();ax.Wr(IPCC.Web.UI.FitType.FullImage,ah,bj);ax.kx(ah,bj);this.aA.iu(ax);};dQ.prototype.mo=function(){this.au();};module.exports=dQ;},{}],39:[function(require,module,exports){var ci=require('./IPCC.Util').regClass;var Mt=function(){return this;};Mt.registerClass=ci;Mt.prototype={};Mt.registerClass('IPCC.OpenPageEventArgs');module.exports=Mt;},{"./IPCC.Util":29}],40:[function(require,module,exports){var ci=require('./IPCC.Util').regClass;var LP=function(){return this;};LP.registerClass=ci;LP.prototype={};LP.registerClass('IPCC.PageEventArgs');module.exports=LP;},{"./IPCC.Util":29}],41:[function(require,module,exports){var aa=function(ap){this.en=ap.page;this.bS=0;this.ba=0;this.gB=0;this.hB=0;var be=new IPCC.Web.UI.gv();this.amX=undefined;this.gg=false;this.axL=false;this.IP=0;this.aGM=undefined;this.ze=false;this.yk=false;this.DY=false;this.gn=0;this.CB=0;this.CG=false;this.Ig=false;this.aO=new IPCC.Web.UI.ArtPage();this.fz=new IPCC.Web.UI.ArtPage();this.dh=this.en.get_pageNumber();this.bi=this.en.aG.Re+'_'+this.dh+'__pViewId';this.aG=this.en.aG;this.cP=function(dm){var G=be.getHandler('propertyChanged');if(G){G(this,new IPCC.oe(dm));}};return this;};aa.prototype.jJ=function(){if(this.en){return this.en.kE()||this.bS;}return this.bS;};aa.prototype.ny=function(){if(this.en){return this.en.hO()||this.ba;}return this.ba;};aa.prototype.SK=function(bool){bool= ! !bool;if(this.en){this.en.CG=bool;}this.CG=bool;};aa.prototype.aeK=function(){if(this.en){return this.en.CG||this.CG;}return this.CG;};module.exports=aa;},{}],42:[function(require,module,exports){var de=require('./IPCC.Util').regEnum;var EC=function(){};EC.registerEnum=de;EC.prototype={VerticalScrollDirection:0,HorizontalScrollDirection:1};EC.registerEnum('IPCC.PageLayout',false);module.exports=EC;},{"./IPCC.Util":29}],43:[function(require,module,exports){var ci=require('./IPCC.Util').regClass;var awI=function(){this.bW=undefined;return this;};var KX=function(element){var J=this;var II=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(func){return setTimeout(func,16);};var ayL=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||function(id){return clearTimeout(id);};var be=new IPCC.Web.UI.gv();var aJ=[];var aow;var bx='';var By='';var bv='';var jQ='';var JH='';var Ie=0;this.Ae=new IPCC.Web.UI.ImGearDocumentCollection();var GZ=[];this.aHv=0;this.aHF={x:0,y:0};var mC=0;var oY=IPCC.Web.UI.DebugErrorLevel.Production;var _debug=false;var po=false;var dN=0;var uT=false;var Nm=[];var JT='';var ce=1;var pE=0;var nr=1;var pR=1;var bD=IPCC.Web.UI.MouseTool.None;var zN=false;var sQ=true;var bV=IPCC.bG.None;var iW;var hx=0;var il=0;var aiI=0;var ft=0;var eK=15;var hZ=0;var fT=15;var ph=0;var mA=0;var pK=0;var nH=0;var aql=0;var hh=0;var hi=0;var pb=1;var ew=IPCC.PageLayout.VerticalScrollDirection;var dk=IPCC.ViewMode.Document;var nq=null;var SB=null;var KE=0;var VP=0;var yA=0;var xn=false;var kd=null;var Kj=0;var Hb='';var Ec='';var qc=[];var Cx=0;var uI=3;var PJ=0.5;var Ih=true;var QP=false;var NY=false;var Wo;var su=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;var vf=true;var nb;var cn={};var sF=false;var lG=function(){return null;};var hM=null;var ajf="font-size:11px;color:#888;text-align:center;cursor:pointer;";var asU=ajf+"padding:18px 0 20px;display:table-caption;caption-side:bottom;";var atd=ajf+"white-space:nowrap;line-height:50px;display:table-cell;vertical-align:middle;padding-right:10px;";var cG=96;var bh;function mj(HL){if(!_debug){return false;}return oY>=HL;};this.ay=function(ju,jC){if(!mj(IPCC.Web.UI.DebugErrorLevel.Production)){return;}var cK=ju+'() threw an exception ('+jC.name+'), "'+jC.message+'"';cK=cK.replace(/\n/g," ");IPCC.iJ.lV(cK,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production,'PageList',this.lD().id);var ng=new IPCC.ExceptionEventArgs();ng.functionName=ju;ng.exception=jC;this.ae('exceptionThrown',ng);};this.aM=function(ju,jT,rF){if(!mj(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var cK=ju+'(';var h;for(h=0;h<jT.length;h++){if(h>0){cK+=', ';}cK+=IPCC.iJ.qz(jT[h],(rF?rF:0));}cK+=')';this.vX(cK,IPCC.Web.UI.DebugErrorLevel.Development);};this.CU=function(ju,jT,lT,rF){if(!mj(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var cK=ju+'(';var h;for(h=0;h<jT.length;h++){if(h>0){cK+=', ';}cK+=IPCC.iJ.qz(jT[h],(rF?rF:0));}cK+=') = ';cK+=IPCC.iJ.qz(lT,1);this.vX(cK,IPCC.Web.UI.DebugErrorLevel.Development);};this.ck=function(ju,jT,lT){if(!mj(IPCC.Web.UI.DebugErrorLevel.Detailed)){return;}var cK=ju+'(';var h;for(h=0;h<jT.length;h++){if(h>0){cK+=', ';}cK+=IPCC.iJ.qz(jT[h],0);}cK+=') = ';cK+=IPCC.iJ.qz(lT,1);this.vX(cK,IPCC.Web.UI.DebugErrorLevel.Detailed);};this.vX=function(jn,aW){IPCC.iJ.lV(jn,IPCC.Web.UI.DebugItemCause.FunctionCall,aW,'PageList',this.lD().id);};this.lV=function(jn){IPCC.iJ.lV(jn,IPCC.Web.UI.DebugItemCause.Custom,IPCC.Web.UI.DebugErrorLevel.Production,'PageList',this.lD().id);};this.Jw=function(){return _debug;};this.Ur=function(T){var Jm= ! !T;if(_debug===Jm){return;}_debug=Jm;var dg=iB();var cB=[];if(dg){cB=te(dg);}var h=0;for(h=0;h<cB.length;h++){var ai;if(aJ[cB[h]].bi){ai=document.getElementById(aJ[cB[h]].bi).aQ;}if(ai){ai.set_debug(_debug);}}this.cP('debug');};this.AT=function(){return oY;};this.Gd=function(T){IPCC.bC.kt(T,'value',IPCC.Web.UI.DebugErrorLevel);if(oY===T){return;}oY=T;var dg=iB();var cB=[];if(dg){cB=te(dg);}var h=0;for(h=0;h<cB.length;h++){var ai;if(aJ[cB[h]].bi){ai=document.getElementById(aJ[cB[h]].bi).aQ;}if(ai){ai.set_debugErrorLevel(oY);}}this.cP('debugErrorLevel');};function cC(dE,G){be.addHandler(dE,G);};function dz(dE,G){be.removeHandler(dE,G);};this.Pi=function(G){cC('mouseDown',G);};this.Uk=function(G){dz('mouseDown',G);};this.OY=function(G){cC('mouseMove',G);};this.UT=function(G){dz('mouseMove',G);};this.Qm=function(G){cC('mouseUp',G);};this.Vl=function(G){dz('mouseUp',G);};this.Ui=function(G){cC('selectTextMouseToolCompleted',G);};this.VW=function(G){dz('selectTextMouseToolCompleted',G);};this.Am=function(G){cC('textPageReady',G);};this.Eq=function(G){dz('textPageReady',G);};this.XL=function(G){cC('hyperlinkPageReady',G);};this.adY=function(G){dz('hyperlinkPageReady',G);};this.auo=function(G){cC('allPagesAdded',G);};this.aBA=function(G){dz('allPagesAdded',G);};this.WN=function(G){cC('pageOpening',G);};this.VE=function(G){dz('pageOpening',G);};this.Xl=function(G){cC('pageOpened',G);};this.Vz=function(G){dz('pageOpened',G);};this.GT=function(G){cC('pageOpenFailed',G);};this.Ge=function(G){dz('pageOpenFailed',G);};this.XY=function(G){cC('pageDisplayed',G);};this.Vx=function(G){dz('pageDisplayed',G);};this.jK=function(G){cC('propertyChanged',G);};this.lC=function(G){dz('propertyChanged',G);};this.Xd=function(G){cC('exceptionThrown',G);};this.UU=function(G){dz('exceptionThrown',G);};this.AI=function(G){cC('textExtractionFailed',G);};this.BU=function(G){dz('textExtractionFailed',G);};this.yW=function(G){cC('markAdded',G);};this.zt=function(G){dz('markAdded',G);};this.XS=function(G){cC('markCreating',G);};this.VN=function(G){dz('markCreating',G);};this.Hv=function(G){cC('markChanged',G);};this.HU=function(G){dz('markChanged',G);};this.Gx=function(G){cC('markReordered',G);};this.Ir=function(G){dz('markReordered',G);};this.EY=function(G){cC('markSelectionChanged',G);};this.Hq=function(G){dz('markSelectionChanged',G);};this.GJ=function(G){cC('markTextSelectionChanged',G);};this.HM=function(G){dz('markTextSelectionChanged',G);};this.yh=function(G){cC('markRemoved',G);};this.Az=function(G){dz('markRemoved',G);};this.atG=function(G){cC('commentAdding',G);};this.aBe=function(G){dz('commentAdding',G);};this.yu=function(G){cC('commentAdded',G);};this.BN=function(G){dz('commentAdded',G);};this.wW=function(G){cC('commentRemoved',G);};this.BI=function(G){dz('commentRemoved',G);};this.sR=function(G){cC('commentChanged',G);};this.ty=function(G){dz('commentChanged',G);};this.Va=function(G){cC('scaleChanged',G);};this.Vu=function(G){dz('scaleChanged',G);};this.PO=function(){var aQ=document.getElementById(aJ[dN].bi).aQ;if(aQ){return aQ.get_currentState();}else{return null;}};this.anu=function(){var aS=IPCC.C.find(aJ,function(ey){return ey.dh===dN;});if(!aS){return;}return aS.en;};this.arQ=function(bF){var aS=IPCC.C.find(aJ,function(ey){return ey.dh===dN;});if(!aS){return;}return aS.bi;};this.nY=function(){return ce;};this.apH=function(cf){jY(cf,undefined,undefined,undefined,undefined,undefined,IPCC.ScaleTrigger.Zoom);};this.Qq=function(bk,pZ,Sl,eJ){eJ=eJ||IPCC.ScaleTrigger.Zoom;jY(ce*bk,Sl,undefined,undefined,undefined,pZ,eJ);};this.anK=function(bk,bf,dB,Bq,eJ){eJ=eJ||IPCC.ScaleTrigger.Zoom;if(ce*bk<8){jY(ce*bk,false,bf,dB,Bq,undefined,eJ);}else{jY(8,false,bf,dB,Bq);}};this.UD=function(bk,eJ){eJ=eJ||IPCC.ScaleTrigger.Zoom;jY(ce/bk,false,undefined,undefined,undefined,undefined,eJ);};this.atK=function(){return Sm();};this.adR=function(eJ,es,Ri){var Kd,Je,bS,ba;var aaC=0;var h=0;for(h=0;h<aJ.length;h++){bS=aJ[h].jJ();ba=aJ[h].ny();if(ir(aJ[h].gn)===true){var Jy=bS;bS=ba;ba=Jy;}if(bS>0&&ba>0){var Iu=bS/ba;if(Iu>aaC){aaC=Iu;Kd=ba;Je=bS;}}}if(aaC>0){var anA=(bx.offsetWidth-IPCC.Web.oM()-uz()-(eK+fT+mA+nH));var aop=anA/(Je*cG/aJ[0].gB);var fs=hx;var fr=il;if(ir(aJ[0].gn)===true){fs=il;fr=hx;}var amf=Kd/fr*aop;var kh=(bx.clientHeight-(ft+hZ+ph+pK))/(fr*cG/aJ[0].hB);var GR=amf;if(Ri===true&&amf>kh){GR=kh;}jY(GR,true,undefined,undefined,undefined,undefined,eJ,es);}};this.alZ=function(eJ,es,Ri){var Kd,Je,bS,ba;var aab=0;var h=0;for(h=0;h<aJ.length;h++){bS=aJ[h].jJ();ba=aJ[h].ny();if(ir(aJ[h].gn)===true){var Jy=bS;bS=ba;ba=Jy;}if(bS>0&&ba>0){var Iu=ba/bS;if(Iu>aab){aab=Iu;Kd=ba;Je=bS;}}}if(aab>0){var apd=(bx.offsetHeight-IPCC.Web.oM()-(ft+hZ+ph+pK));var aoE=apd/(Kd*cG/aJ[0].hB);var fs=hx;var fr=il;if(ir(aJ[0].gn)===true){fs=il;fr=hx;}var alF=Je/fs*aoE;var kh=(bx.clientWidth-uz()-(eK+fT+mA+nH))/(fs*cG/aJ[0].gB);var GR=alF;if(Ri===true&&alF>kh){GR=kh;}jY(GR,true,undefined,undefined,undefined,undefined,eJ,es);}};this.asC=function(es,eJ){if(J.xb&&typeof J.xb==='function'){J.xb();}var bS;var ba;var fD;var jM=1;eJ=eJ||IPCC.ScaleTrigger.Fit;if(es===IPCC.FitType.FitToWidth){if(dk===IPCC.ViewMode.Document){jM=(bx.offsetWidth-IPCC.Web.oM()-uz()-(eK+fT+mA+nH))/(hh/ce);jY(jM,true,undefined,undefined,undefined,undefined,eJ,es);}else if(dk===IPCC.ViewMode.SinglePage){if(ir(aJ[dN].gn)===true){bS=aJ[dN].ny();fD=cG/aJ[dN].hB;}else{bS=aJ[dN].jJ();fD=cG/aJ[dN].gB;}jM=(bx.offsetWidth-IPCC.Web.oM()-uz()-(eK+fT+mA+nH))/(bS*fD);jY(jM,true,undefined,undefined,undefined,undefined,eJ,es);}else{if(ew===IPCC.PageLayout.VerticalScrollDirection){Um(eJ,es);}else{J.adR(eJ,es);}}}else if(es===IPCC.FitType.ShrinkToWidth){var aph=bx.clientWidth-uz();var anw=20;var SO=aph-anw;if(dk===IPCC.ViewMode.SinglePage){if(ir(aJ[dN].gn)===true){bS=aJ[dN].ny();fD=cG/aJ[dN].hB;}else{bS=aJ[dN].jJ();fD=cG/aJ[dN].gB;}if(SO<ce*bS*fD){jM=(bx.offsetWidth-IPCC.Web.oM()-uz()-(eK+fT+mA+nH))/(bS*fD);jY(jM,true,undefined,undefined,undefined,undefined,eJ,es);}}else{if(SO<hh){jY(ce*SO/hh,true,undefined,undefined,undefined,undefined,eJ,es);}}}else if(es===IPCC.FitType.ActualSize){if(dk===IPCC.ViewMode.Document||dk===IPCC.ViewMode.SinglePage){jY(1,true,undefined,undefined,undefined,undefined,eJ,es);}}else if(es===IPCC.FitType.FitToHeight){if(dk===IPCC.ViewMode.Document){jM=(bx.offsetHeight-IPCC.Web.oM()-(ft+hZ+ph+pK))/(hi/ce);jY(jM,true,undefined,undefined,undefined,undefined,eJ,es);}else if(dk===IPCC.ViewMode.SinglePage){if(ir(aJ[dN].gn)===true){ba=aJ[dN].jJ();fD=cG/aJ[dN].gB;}else{ba=aJ[dN].ny();fD=cG/aJ[dN].hB;}jM=(bx.offsetHeight-IPCC.Web.oM()-(ft+hZ+ph+pK))/(ba*fD);jY(jM,true,undefined,undefined,undefined,undefined,eJ,es);}else{if(ew===IPCC.PageLayout.HorizontalScrollDirection){Um(eJ,es);}else{J.alZ(eJ,es);}}}else if(es===IPCC.FitType.BestFit){var CP;if(dk===IPCC.ViewMode.Document){jM=(bx.offsetWidth-IPCC.Web.oM()-(eK+fT+mA+nH))/(hh/ce);CP=(bx.offsetHeight-IPCC.Web.oM()-(ft+hZ+ph+pK))/(hi/ce);if(CP<jM){jM=CP;}jY(jM,true,undefined,undefined,undefined,undefined,eJ,es);}else if(dk===IPCC.ViewMode.SinglePage){if(ir(aJ[dN].gn)===true){bS=aJ[dN].ny();ba=aJ[dN].jJ();fD=cG/aJ[dN].gB;}else{bS=aJ[dN].jJ();ba=aJ[dN].ny();fD=cG/aJ[dN].hB;}jM=(bx.offsetWidth-IPCC.Web.oM()-uz()-(eK+fT+mA+nH))/(bS*fD);CP=(bx.offsetHeight-IPCC.Web.oM()-(ft+hZ+ph+pK))/(ba*fD);if(CP<jM){jM=CP;}jY(jM,true,undefined,undefined,undefined,undefined,eJ,es);}else{if(ew===IPCC.PageLayout.HorizontalScrollDirection){J.adR(eJ,es,true);}else{J.alZ(eJ,es,true);}}}};this.aED=function(aR,aY){var aS=aJ[aR-1];var aD=document.getElementById(aS.bi);var BO=[];if(aD){var ef,Bj,aX;try{ef=TO(aD);}catch(e){return null;}BO=IPCC.C.map(aY,function(ey){Bj=aD.aQ.transformPagePointToWindow(new IPCC.Web.UI.Point(ey.x,ey.y),true);aX=aaF(aD,Bj.x,Bj.y,ef);return{clientX:aX.x,clientY:aX.y};});return BO;}else{return null;}};this.asN=function(){var h=0;for(h=0;h<aJ.length;h++){J.cI(h);}iB();pk();};this.cI=function(bF){var aT;if(aJ[bF].bi){aT=document.getElementById(aJ[bF].bi);}J.xJ(aT,bF);};this.IC=function(bF){var aT;if(aJ[bF].bi){aT=document.getElementById(aJ[bF].bi);}if(aT){var ai=aT.aQ;ai.IC();}};this.xJ=function(aT,bF){if(aT&&aT.aQ&&aT.aQ.fv()===true){var ai=aT.aQ;ai.display();aJ[bF].gg=true;if(dk===IPCC.ViewMode.SinglePage){var mX= -1;if(Array.prototype.indexOf){mX=qc.indexOf(bF);}else{mX=IPCC.Web.iE(qc,bF);}if(mX!== -1){qc.splice(mX,1);}}}};function abe(cB){var aT;for(var h=0;h<cB.get_length();h++){var aS=cB.getPage(h);var bF=aS.get_pageNumber();if(aJ[bF].bi){aT=document.getElementById(aJ[bF].bi);}if(aT&&aT.aQ&&aT.aQ.Cg()!==null){return aT.aQ;}}return null;};this.Fv=function(){var cB=this.get_displayedPages();var MV=abe(cB);MV.Fv();};this.EL=function(bk){var hG=0;var gJ=aJ.length-1;for(var bU=hG;bU<=gJ;bU++){var ai;var aT=document.getElementById(aJ[bU].bi);if(aT){ai=aT.aQ;}else{continue;}ai.set_sharpening(bk);if(ai&&aJ[bU].gg===true&&ai.fv()===true){ai.display();}}pE=bk;};this.atS=function(){return pE;};this.CL=function(bk){var hG=0;var gJ=aJ.length-1;for(var bU=hG;bU<=gJ;bU++){var ai;var aT=document.getElementById(aJ[bU].bi);if(aT){ai=aT.aQ;}else{continue;}ai.set_gamma(bk);if(ai&&aJ[bU].gg===true&&ai.fv()===true){ai.display();}}pR=bk;};this.auS=function(){return pR;};this.Gc=function(bk){var hG=0;var gJ=aJ.length-1;for(var bU=hG;bU<=gJ;bU++){var ai;var aT=document.getElementById(aJ[bU].bi);if(aT){ai=aT.aQ;}else{continue;}ai.set_svgLineWidthMultiplier(bk);if(ai&&aJ[bU].gg===true&&ai.fv()===true){ai.display();}}nr=bk;};this.auT=function(){return nr;};this.Cg=function(){var cB=this.get_displayedPages();var MV=abe(cB);if(MV){return MV.Cg();}return null;};this.wu=function(bF,K){var aT;if(aJ[bF].bi){aT=document.getElementById(aJ[bF].bi);}if(aT&&aT.aQ){aT.aQ.wu(K);}};this.ow=function(bF){var aT;if(aJ[bF].bi){aT=document.getElementById(aJ[bF].bi);}if(aT&&aT.aQ){aT.aQ.ow();}};var wI='';this.ts=function(T){wI=T;};this.lD=function(){return wI;};this.ae=function(dE,F){try{var G=be.getHandler(dE);if(G!==null){G(J,F);}}catch(e){J.ay(dE+'Event',e);}};this.cP=function(dm){var G=be.getHandler('propertyChanged');if(G){G(this,new IPCC.oe(dm));}};this.atT=function(G){be.addHandler('currentPageChanged',G);};this.aCd=function(G){be.removeHandler('currentPageChanged',G);};this.zk=function(dO,T){dO.style.cursor='move';dO.style.cursor='-webkit-'+T;dO.style.cursor='-moz-'+T;dO.style.cursor=T;};this.akq=function(){return bv.style.cursor||'auto';};this.aoI=function(T){bv.style.cursor=T||'auto';var h=0;for(h=0;h<aJ.length;h++){if(aJ[h].bi){var aT=document.getElementById(aJ[h].bi);if(aT){var ai=aT.aQ;aT.style.cursor=T;if(ai){ai.set_cursor(T);if(aJ[h].gg===true&&ai.fv()===true){ai.display();}}}}}};this.Yr=function(){return bD;};this.Il=function(T){IPCC.bC.kt(T,'value',IPCC.Web.UI.MouseTool);var nI=false;if(bD!==T){iW=null;bD=T;switch(bD){case IPCC.Web.UI.MouseTool.HandPan:bV='grab';J.zk(bv,'grab');break;case IPCC.Web.UI.MouseTool.SelectText:J.um();bV=IPCC.bG.Text;bv.style.cursor=IPCC.bG.fg(bV);break;case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:J.um();bV=IPCC.bG.Text;bv.style.cursor=IPCC.bG.fg(bV);break;case IPCC.Web.UI.MouseTool.None:bV=IPCC.bG.None;bv.style.cursor=IPCC.bG.fg(bV);break;case IPCC.Web.UI.MouseTool.Magnifier:bV=IPCC.bG.Magnifier;bv.style.cursor=IPCC.bG.fg(bV);break;case IPCC.Web.UI.MouseTool.RectangleZoom:bV=IPCC.bG.RectangleZoom;bv.style.cursor=IPCC.bG.fg(bV);break;case IPCC.Web.UI.MouseTool.CreateRectangleMark:bV=IPCC.bG.AddRectangleMark;bv.style.cursor=IPCC.bG.fg(bV);nI=true;iW=function(){return[new IPCC.ep(IPCC.Web.UI.MarkType.Rectangle)];};break;case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:bV=IPCC.bG.AddRectangleRedactionMark;bv.style.cursor=IPCC.bG.fg(bV);nI=true;iW=function(){return[new IPCC.ep(IPCC.Web.UI.MarkType.RectangleRedaction)];};break;case IPCC.Web.UI.MouseTool.CreateEllipseMark:bV=IPCC.bG.AddEllipseMark;bv.style.cursor=IPCC.bG.fg(bV);nI=true;iW=function(){return[new IPCC.ep(IPCC.Web.UI.MarkType.Ellipse)];};break;case IPCC.Web.UI.MouseTool.CreateLineMark:bV=IPCC.bG.AddLineMark;bv.style.cursor=IPCC.bG.fg(bV);nI=true;iW=function(){return[new IPCC.mI()];};break;case IPCC.Web.UI.MouseTool.CreateStampMark:bV=IPCC.bG.AddStampMark;bv.style.cursor=IPCC.bG.fg(bV);nI=true;iW=function(){return[new IPCC.ep(IPCC.Web.UI.MarkType.Stamp)];};break;case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:bV=IPCC.bG.AddImageStampMark;bv.style.cursor=IPCC.bG.fg(bV);nI=true;iW=function(){return[new IPCC.ep(IPCC.Web.UI.MarkType.ImageStampAnnotation)];};break;case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:bV=IPCC.bG.AddImageStampMark;bv.style.cursor=IPCC.bG.fg(bV);nI=true;iW=function(){return[new IPCC.ep(IPCC.Web.UI.MarkType.ImageStampRedaction)];};break;case IPCC.Web.UI.MouseTool.CreateTextMark:bV=IPCC.bG.AddTextMark;bv.style.cursor=IPCC.bG.fg(bV);nI=true;iW=function(){return[new IPCC.ep(IPCC.Web.UI.MarkType.Text)];};break;case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:bV=IPCC.bG.AddTextMark;bv.style.cursor=IPCC.bG.fg(bV);nI=true;iW=function(){return[new IPCC.ep(IPCC.Web.UI.MarkType.TextLine)];};break;case IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark:bV=IPCC.bG.AddTextMark;bv.style.cursor=IPCC.bG.fg(bV);nI=true;iW=function(){return[new IPCC.ep(IPCC.Web.UI.MarkType.TextAreaSignature)];};break;case IPCC.Web.UI.MouseTool.CreateFreehandMark:bV=IPCC.bG.AddFreehandLineMark;bv.style.cursor=IPCC.bG.fg(bV);nI=true;iW=function(){return[new IPCC.lv()];};break;case IPCC.Web.UI.MouseTool.CreatePolylineMark:bV=IPCC.bG.AddPolylineMark;bv.style.cursor=IPCC.bG.fg(bV);nI=true;iW=function(){return[new IPCC.jS(IPCC.Web.UI.MarkType.Polyline)];};break;case IPCC.Web.UI.MouseTool.EditMarks:bV=IPCC.bG.EditMarks;bv.style.cursor=IPCC.bG.fg(bV);nI=true;iW=function(){return[new IPCC.jN(IPCC.Web.UI.MarkType.Text)];};break;default:bV=IPCC.bG.None;bv.style.cursor=IPCC.bG.fg(bV);break;}var h=0;for(h=0;h<aJ.length;h++){if(aJ[h].bi){var aT=document.getElementById(aJ[h].bi);if(aT){var ai=aT.aQ;if(bV==='grab'){J.zk(aT,'grab');}else{aT.style.cursor=IPCC.bG.fg(bV);}if(ai){ai.set_cursor(bV);ai.Mr(bD===IPCC.Web.UI.MouseTool.HandPan||bD===IPCC.Web.UI.MouseTool.EditMarks);if(nI===true){ai.Kf(iW());}else{ai.set_mouseTool(IPCC.Web.UI.MouseTool.None);}if(aJ[h].gg===true&&ai.fv()===true){ai.display();}}}}}this.cP('mouseTool');}};this.auI=function(){return zN;};this.aqR=function(bool){zN= ! !bool;};this.zS=function(){return su;};this.Kk=function(T){if(su!==T){su=T;var dg=iB();var cB=[];if(dg){cB=te(dg);}var h=0;for(h=0;h<cB.length;h++){var aT;var ai;aT=document.getElementById(aJ[cB[h]].bi);ai=aT.aQ;if(ai){ai.set_markHandleMode(su);this.xJ(aT,h);}}this.cP('markHandleMode');}};this.lf=function(){return sQ;};this.Jq=function(T){if(sQ!==T){sQ=T;var dg=iB();var cB=[];if(dg){cB=te(dg);}var h=0;for(h=0;h<cB.length;h++){var ai;if(aJ[cB[h]].bi){ai=document.getElementById(aJ[cB[h]].bi).aQ;}if(ai){ai.set_textRequired(sQ);}}this.cP('textRequired');}};this.aty=function(){return uI;};this.anZ=function(T){if(T<0){T=0;}if(uI!==T){uI=T;this.cP('maxPrefetch');}};this.atP=function(){return Ih;};this.aqe=function(T){if(Ih!==T){Ih=T;this.cP('displayPagesWhenScrolling');}};this.atV=function(){return Cx;};this.aoM=function(T){if(T<0){T=0;}if(Cx!==T){Cx=T;this.cP('maxOutOfViewDisplay');}};this.avh=function(){return QP;};this.apD=function(T){if(QP!==T){QP= ! !T;this.cP('discardOutOfViewText');}};this.ary=function(){return NY;};this.aqZ=function(T){if(NY!==T){NY= ! !T;this.cP('retainPageText');}};this.arO=function(){return PJ;};this.aov=function(T){if(T<0){T=0;}if(PJ!==T){PJ=T;this.cP('scrollDisplayThreshold');}};this.arP=function(){return ew;};this.aoF=function(T){if(ew===T){return;}ew=T;if(bx===''||bx.clientHeight<=0||dk===IPCC.ViewMode.SinglePage){this.cP('pageLayout');return;}var tp=dN;var HI=dk;if(dk===IPCC.ViewMode.EqualWidthPages||dk===IPCC.ViewMode.EqualFitPages){J.Lf(IPCC.ViewMode.Document);}bx.scrollLeft=0;bx.scrollTop=0;var h=0;var aT;if(ew===IPCC.PageLayout.VerticalScrollDirection){if(JH){JH.setAttribute('style',asU);}By.insertBefore(jQ,JH);for(h=0;h<aJ.length;h++){aT=document.getElementById(aJ[h].bi);aT.style.display='block';if(hx>0){aT.style.margin=ft+'px auto '+hZ+'px auto';}}bv.style.margin='0px '+eK+'px 0px '+fT+'px';bx.scrollLeft=(hh-bx.clientWidth)/2+eK+mA;}else{if(JH){JH.setAttribute('style',atd);}By.removeChild(jQ);for(h=0;h<aJ.length;h++){aT=document.getElementById(aJ[h].bi);if(aT){aT.style.display='inline-block';if(hx>0){aT.style.margin=ft+'px '+eK+'px '+hZ+'px '+fT+'px';}}}bv.style.margin='0px';bx.scrollTop=(hi-bx.clientHeight)/2+ft+ph;}if(HI===IPCC.ViewMode.EqualWidthPages){J.Lf(IPCC.ViewMode.EqualWidthPages);}else if(HI===IPCC.ViewMode.EqualFitPages){J.Lf(IPCC.ViewMode.EqualFitPages);}this.qD(tp);pk();this.cP('layout');};this.atm=function(){return dk;};this.Lf=function(T,eJ){eJ=eJ||IPCC.ScaleTrigger.ViewMode;if(dk===T){return;}dk=T;if(bx===''||bx.clientHeight<=0){this.cP('viewMode');return;}var tp=dN;this.qD(tp);if(dk===IPCC.ViewMode.Document){var kh=1;var bS=hx;var ba=il;if(ir(qS)===true){bS=il;ba=hx;}if(ew===IPCC.PageLayout.VerticalScrollDirection){kh=(bx.clientWidth-(eK+fT+mA+nH))/bS;}else{kh=(bx.clientHeight-(ft+hZ+ph+pK))/ba;}jY(kh,true,undefined,undefined,undefined,undefined,eJ);}else{Um(eJ);}this.qD(tp);this.cP('viewMode');Aj(cn,true);lE(cn,true);};var qS=0;this.atc=function(){return qS;};this.aqW=function(T){if(qS!==T){qS=T;var h=0;for(h=0;h<aJ.length;h++){if(aJ[h].CB===0){aJ[h].gn=qS;}}this.cP('pageRotation');}};this.Yp=function(aR){var dh;if(arguments.length>0){if(!isNaN(aR)){dh=aR;}else{dh=dN;}}else{dh=dN;}for(var h=0;h<aJ.length;h++){if(dh===h){return aJ[h].gn;}}return 0;};var oJ=false;this.ja=function(){return oJ;};this.lU=function(T){if(typeof T!=="boolean"){return;}if(T===oJ){return;}oJ=T;};this.auU=function(){return Wo;};this.aqJ=function(T,og,xI,ve){if(Wo!==T){Wo=T;for(var h=0;h<aJ.length;h++){aJ[h].aO.aEP(T,h,aJ[h].jJ(),aJ[h].ny(),aJ[h].en,og,xI,ve);var aAe= !aJ[h].jJ();aJ[h].SK(aAe);}this.cP('annotationXmlDom');}};var rz;this.HG=function(T){rz=T;};this.wG=function(){return rz;};var qX=false;this.mr=function(){return qX;};this.qn=function(T){if(typeof T!=="boolean"){return;}if(T===qX){return;}qX=T;IPCC.C.forEach(aJ,function(aa,h){var ai;if(aJ[h].bi){var aT=document.getElementById(aJ[h].bi);if(aT){ai=aT.aQ;}}if(ai){ai.qn(qX);ai=undefined;}});};this.aoD=function(T){if(JT!==T){JT=T;this.cP('loadingContent');}};this.atI=function(){return JT;};this.atr=function(){var dg=iB();var cB=[];if(dg){cB=te(dg);}var agm=new IPCC.Web.UI.ImGearPageCollection();var h=0;for(h=0;h<cB.length;h++){agm.amm(aJ[cB[h]].en);}return agm;};this.auB=function(bF){if(aJ[bF]){return aJ[bF].bi;}};this.zP=function(){return vf;};this.Ix=function(T){vf=T;};this.jO=function(){return nb;};this.ya=function(T){nb=T;};this.Md=function(aS,xU,xw){var J=this;if(aS.kE()>0||aS.hO()>0){xU(aS.kE(),aS.hO());return;}aS.requestPageAttributes(function(aK,an){if(aJ[aS.get_pageNumber()].aeK()===true){var ht=aK/aS.ajL();if(ht!==1){var aO=J.fQ(aS);if(aO){aln(aO,ht);}}}aJ[aS.get_pageNumber()].SK(false);xU(aK,an);},function(eU){xw(eU);});};this.azl=function(){if(sF===true){return;}sF=true;this.eY(jQ,'pccHidden');Aj(cn,true);lE(cn,true);};this.ayl=function(){if(sF===false){return;}sF=false;this.kb(jQ,'pccHidden');};this.auD=function(){return sF;};this.kb=function(dO,sJ){var HH=new RegExp('(?:^|\\s)'+sJ+'(?!\\S)','g');if(dO.className.match(HH)===null){dO.className=dO.className+' '+sJ;}};this.eY=function(dO,sJ){var HH=new RegExp('(?:^|\\s)'+sJ+'(?!\\S)','g');dO.className=dO.className.replace(HH,'');};this.auV=function(){return lG;};this.aqq=function(T){lG=T;};this.arD=function(){return hM;};this.aoz=function(T){if(hM===T){return;}var K,bW,uh;if(hM){K=hM.get_mark();uh=cn[K.get_markID()];bW=lG(K,{isSelected:true},(uh)?uh.bW:undefined);if(uh){Bn(K,cn,bW);}}K=bW=uh=undefined;hM=T;if(hM){K=hM.get_mark();uh=cn[K.get_markID()];bW=lG(K,{isSelected:true},(uh)?uh.bW:undefined);if(uh){Bn(K,cn,bW);}}lE(cn,true);};this.aBa=function(Zz){var kz=vt();IPCC.C.forEach(Zz,function(Or){var dR=cn[Or];if(dR){var kc=lG(dR.K,{isSelected:(dR.K.get_conversation()===hM)},dR.bW);if(!IPCC.C.ub(kc)){throw new Error(kc+' is not a valid HTMLElement');}if(kc!==dR.bW){Bn(dR.K,cn,kc);}}});lE(cn,false,kz);};this.initialize=function(){var da=this.lD();var h;for(h=da.childNodes.length-1;h>=0;h--){if(da.childNodes[h].tagName!=='INPUT'){da.removeChild(da.childNodes[h]);}}this.Ae.add_documentAdded(ayt);this.Ae.add_pageAdded(Wd);this.Ae.add_pageRemoved(UQ);this.acj(true);da.aQ=this;aha();var abR='webkit moz o'.split(' '),CQ='';if(bv.style.animationName!==undefined){Hb='animationend';Ec='transitionend';return;}for(h=0;h<abR.length;h++){if(bv.style[abR[h]+'Animation']!==undefined){CQ=abR[h];Hb=CQ+'AnimationEnd';Ec=CQ+'TransitionEnd';break;}}};this.auq=function(){return po;};this.acj=function(T){po=T;this.cP('enabled');};this.azF=function(){if(dN+1<aJ.length){J.qD(dN+1);}};this.azR=function(){var WZ=dN-1;if(WZ<0){WZ=0;}J.qD(WZ);};function DH(F){IPCC.Web.UI.bI.removeHandler(F.target,Hb,DH);IPCC.Web.UI.bI.removeHandler(F.target,Ec,DH);if(Kj>dN){J.eY(F.target,'pccNextPageIn');J.eY(F.target,'pccPreviousPageIn');J.eY(F.target,'pccCurrentPage');J.eY(F.target,'pccPageBack');J.eY(F.target,'pccPageForward');J.kb(F.target,'pccNextPage');}else if(Kj<dN){J.eY(F.target,'pccNextPageIn');J.eY(F.target,'pccPreviousPageIn');J.eY(F.target,'pccCurrentPage');J.eY(F.target,'pccPageBack');J.eY(F.target,'pccPageForward');J.kb(F.target,'pccPreviousPage');}J.eY(bv,'pccPageListContainerPageChanging');bx.style.overflow='auto';kd=null;bv.style.overflow='hidden';var kX=IPCC.C.filter(cn,function(bg){return bg.aR===dN+1;});Ok(kX);setTimeout(function(){pk();},60);};this.qD=function aIz(bF){var IJ=dN;var kX;if(dk===IPCC.ViewMode.SinglePage){kX=IPCC.C.filter(cn,function(bg){return bg.aR!==bF+1;});FP(kX);}else{uT=true;var adC=aex(bF);if(ew===IPCC.PageLayout.VerticalScrollDirection){bx.scrollTop=adC;}else{bx.scrollLeft=adC;}}var AB=[];if(dN!==bF){dN=bF;var aa=aJ[dN];var F=new IPCC.PageEventArgs();F.imGearPage=J.get_currentPage();F.pageIndex=dN;F.pageNodeID=aa.bi;J.ae('currentPageChanged',F);if(dk===IPCC.ViewMode.SinglePage){var gr=document.getElementById(aJ[dN].bi);var qB=document.getElementById(aJ[IJ].bi);if(gr===null){gr=Fk(aJ[dN].en);AB.push(aJ[dN]);gr.className='pccPageListItem pccCurrentPage';qc.push(dN);if(hx>0){var gj=Vv(aJ[dN]);gr.style.width=gj.aK+'px';gr.style.height=gj.an+'px';}else{gr.style.width=bv.clientWidth-eK-fT+'px';gr.style.height=bv.clientWidth*0.8+'px';}gr.style.display='block';gr.setAttribute('id',aJ[dN].bi);bv.appendChild(gr);}if(Ec.length>0){bx.style.overflow='hidden';bv.style.width=gr.style.width;bv.style.height=gr.style.height;bv.style.overflow='visible';if(kd!==null){IPCC.Web.UI.bI.removeHandler(kd,Hb,DH);IPCC.Web.UI.bI.removeHandler(kd,Ec,DH);if(Kj>dN){this.eY(kd,'pccNextPageIn');this.eY(kd,'pccPreviousPageIn');this.eY(kd,'pccCurrentPage');this.eY(kd,'pccPageForward');this.eY(kd,'pccPageBack');this.kb(kd,'pccNextPage');}else if(Kj<dN){this.eY(kd,'pccNextPageIn');this.eY(kd,'pccPreviousPageIn');this.eY(kd,'pccCurrentPage');this.eY(kd,'pccPageForward');this.eY(kd,'pccPageBack');this.kb(kd,'pccPreviousPage');}}IPCC.Web.UI.bI.addHandler(qB,Hb,DH);IPCC.Web.UI.bI.addHandler(qB,Ec,DH);kd=qB;Kj=IJ;this.kb(bv,'pccPageListContainerPageChanging');if(dN>IJ){this.kb(qB,'pccPageForward');this.eY(gr,'pccPageBack');this.eY(gr,'pccPreviousPage');this.eY(gr,'pccPreviousPageIn');this.eY(gr,'pccNextPage');this.kb(gr,'pccCurrentPage');this.kb(gr,'pccNextPageIn');}else{this.kb(qB,'pccPageBack');this.eY(gr,'pccPageForward');this.eY(gr,'pccPreviousPage');this.eY(gr,'pccNextPage');this.eY(gr,'pccNextPageIn');this.kb(gr,'pccCurrentPage');this.kb(gr,'pccPreviousPageIn');}}else{bv.style.width=gr.style.width;bv.style.height=gr.style.height;if(dN>IJ){this.eY(qB,'pccNextPage');this.eY(qB,'pccCurrentPage');this.kb(qB,'pccPreviousPage');}else{this.eY(qB,'pccPreviousPage');this.eY(qB,'pccCurrentPage');this.kb(qB,'pccNextPage');}this.eY(gr,'pccPreviousPage');this.eY(gr,'pccNextPage');this.kb(gr,'pccCurrentPage');kX=IPCC.C.filter(cn,function(el){return el.aR===bF+1;});Ok(kX);setTimeout(function(){pk();},60);}IPCC.C.forEach(AB,agY);}}};this.azC=function(){if(aJ.length>0){J.qD(0);}};this.azW=function(){if(dN<aJ.length-1){J.qD(aJ.length-1);}};this.aAH=function(cE){if(sF===false){return "CommentsPanelClosed";}var eL=cn[cE.get_mark().get_markID()];if(!eL){return "ConversationDivDoesNotExist";}if(dk===IPCC.ViewMode.SinglePage&&eL.aR-1!==dN){return "SinglePageModePageNotShown";}var aS=document.getElementById(aJ[eL.aR-1].bi);if(aJ[eL.aR-1].gg===false||aS===undefined||aS.aQ===undefined||aS.aQ===null||aS.aQ.fv()===false){return "PageOutOfView";}var R=cE.get_mark().get_boundingRectangle();var sy=aS.aQ.transformPagePointToWindow(new IPCC.Web.UI.Point(R.x,R.y),true);var AK=aS.aQ.transformPagePointToWindow(new IPCC.Web.UI.Point(R.x+R.width,R.y),true);sy.x=bv.offsetWidth;AK.x=bv.offsetWidth+uz();J.agn(aS.offsetTop,aS.offsetLeft,sy,AK);return "Success";};this.azx=function(bF,R){if(dk===IPCC.ViewMode.SinglePage&&bF!==dN){return true;}var aS=document.getElementById(aJ[bF].bi);if(aJ[bF].gg===false||aS===undefined||aS.aQ===undefined||aS.aQ===null||aS.aQ.fv()===false){return false;}var sy=aS.aQ.transformPagePointToWindow(new IPCC.Web.UI.Point(R.x,R.y),true);var AK=aS.aQ.transformPagePointToWindow(new IPCC.Web.UI.Point(R.x+R.width,R.y+R.height),true);J.agn(aS.offsetTop,aS.offsetLeft,sy,AK);return true;};this.aza=function(apa,aoB){bx.scrollTop+=Math.round(aoB);bx.scrollLeft+=Math.round(apa);};this.agn=function(azs,azA,sy,AK){var abv=AK.x-sy.x;var aai=AK.y-sy.y;var ct=new IPCC.Web.UI.Point(0,0);if(abv>bx.clientWidth){ct.x=sy.x;}else{ct.x=sy.x+(abv/2);}if(aai>bx.clientHeight){ct.y=sy.y;}else{ct.y=sy.y+(aai/2);}if(ew===IPCC.PageLayout.VerticalScrollDirection){bx.scrollTop=azs+ct.y-bx.clientHeight/2;bx.scrollLeft=ct.x-bx.clientWidth/2;}else{bx.scrollLeft=azA+ct.x-bx.clientWidth/2;bx.scrollTop=ct.y-bx.clientHeight/2;}};this.asb=function(){var h=0;for(h=0;h<aJ.length;h++){EB(h,true);}};this.awm=function(){var dg=iB();var cB=[];if(dg){cB=te(dg);}var h=0;for(h=0;h<cB.length;h++){EB(cB[h]);}if(J.Ae.get_length()>0){J.Ae.removeAllDocuments();}};this.UM=function(bF,aU,cZ,db){if(aJ[bF]&&aJ[bF].gg===true){var aT=document.getElementById(aJ[bF].bi);if(aT&&aT.aQ&&aT.aQ.fv()===true){if(db){IPCC.bC.db(db,"selectText");var hE=aT.aQ.Cc();var aAG=hE.kR;var azO=hE.cw;hE.kR=db;hE.cw=db;aT.aQ.showTextSelection(aU,cZ);hE.kR=aAG;hE.cw=azO;}else{aT.aQ.showTextSelection(aU,cZ);}}}};this.axN=function(){var dg=iB();var cB=[];if(dg){cB=te(dg);}var h;for(h=0;h<cB.length;h++){if(aJ[cB[h]].gg===true){var ez=document.getElementById(aJ[cB[h]].bi),aQ=ez?ez.aQ:undefined;if(aQ&&aQ.fv()===true){aQ.showEmptyTextSelection(0);aQ.extendTextSelection(undefined);aQ.display();}}}};this.ayJ=function(bF){if(aJ[bF]&&aJ[bF].gg===true){var ez=document.getElementById(aJ[bF].bi),aQ=ez?ez.aQ:undefined;if(aQ&&aQ.fv()===true){aQ.showEmptyTextSelection(0);aQ.extendTextSelection(undefined);aQ.display();}}};this.um=function(){var aS,aP,aQ;bh=null;IPCC.C.forEach(Nm,function(h){aS=aJ[h];aP=document.getElementById(aS.bi);if(aP){aQ=aP.aQ;}if(aQ){if(aQ.fv()&&aQ.Dn()){aQ.showEmptyTextSelection(0);aQ.extendTextSelection(undefined);if(aS.gg){aQ.display();}}}aS=aP=aQ=undefined;});};this.xW=function(bF,sL){var aT;var ai;var amj=function(arN,aDk){return(arN+aDk)%360;};aJ[bF].gn=amj(aJ[bF].gn,sL);if(aJ[bF].bi){aT=document.getElementById(aJ[bF].bi);}if(aT===undefined||aT===null){return;}ai=aT.aQ;if(ai&&ai.fv()===false){aJ[bF].CB=amj(aJ[bF].CB,sL);return;}uT=true;if(ai&&ai.fv()===true){ai.rotate(sL);}var bS=0;var ba=0;var fs=hx;var fr=il;if(ir(qS)===true){fs=il;fr=hx;}if(ir(aJ[bF].gn)===true){if(ai&&ai.fv()===true){bS=ai.get_pageHeight();ba=ai.get_pageWidth();}else{bS=il;ba=hx;}}else{if(ai&&ai.fv()===true){bS=ai.get_pageWidth();ba=ai.get_pageHeight();}else{bS=hx;ba=il;}}uT=true;if(dk===IPCC.ViewMode.SinglePage){aT.style.width=bS*ce*cG/aJ[bF].gB+'px';aT.style.height=ba*ce*cG/aJ[bF].hB+'px';if(bF===dN){bv.style.width=bS*ce*cG/aJ[bF].gB+'px';bv.style.height=ba*ce*cG/aJ[bF].hB+'px';}}else if(dk===IPCC.ViewMode.Document){aT.style.width=bS*ce*cG/aJ[bF].gB+'px';aT.style.height=ba*ce*cG/aJ[bF].hB+'px';var h=0;if(ew===IPCC.PageLayout.VerticalScrollDirection){if(bS*ce*cG/aJ[bF].gB>hh){hh=bS*ce*cG/aJ[bF].gB;}else if(aT.clientHeight>=hh-10){hh=0;for(h=0;h<aJ.length;h++){aT=document.getElementById(aJ[h].bi);if(aT&&aT.clientWidth>hh){hh=aT.clientWidth;}}}if(ba*ce*cG/aJ[bF].hB>hi){hi=ba*ce*cG/aJ[bF].hB;}}else{if(ba*ce*cG/aJ[bF].hB>hi){hi=ba*ce*cG/aJ[bF].hB;}else if(aT.clientWidth>=hi-10){hi=0;for(h=0;h<aJ.length;h++){aT=document.getElementById(aJ[h].bi);if(aT&&aT.clientHeight>hi){hi=aT.clientHeight;}}}if(bS*ce*cG/aJ[bF].gB>hh){hh=bS*ce*cG/aJ[bF].gB;}}}else{var gV;if(ew===IPCC.PageLayout.VerticalScrollDirection){gV=fs/bS*ce*cG/aJ[bF].hB;if(ai&&ai.fv()===true){ai.zoom(gV);}uT=true;aT.style.width=fs*ce*cG/aJ[bF].gB+'px';aT.style.height=gV*ba+'px';}else{gV=fr/ba*ce*cG/aJ[bF].hB;if(ai&&ai.fv()===true){ai.zoom(gV);}uT=true;aT.style.height=fr*ce*cG/aJ[bF].hB+'px';aT.style.width=gV*bS+'px';}if(fs*ce*cG/aJ[bF].gB>hh){hh=fs*ce*cG/aJ[bF].gB;}if(fr*ce*cG/aJ[bF].hB>hi){hi=fr*ce*cG/aJ[bF].hB;}}if(ai&&ai.fv()===true){uT=true;this.xJ(aT,bF);setTimeout(function(){if(sF===false){return;}var kz=vt();var kX=IPCC.C.filter(cn,function(el){return bF===el.aR-1;});Aj(kX);lE(kX,true,kz);},0);}};this.azX=function(sL){var tp=dN;this.xW(dN,sL);if(dk!==IPCC.ViewMode.SinglePage){var J=this;setTimeout(function(){J.qD(tp);},10);}};this.aeO=function(sL){var tp=dN;var dg=iB();if(dk!==IPCC.ViewMode.SinglePage){this.qD(tp);}var hG=0;var gJ=aJ.length-1;var h;for(h=hG;h<=gJ;h++){this.xW(h,sL);}if(dk!==IPCC.ViewMode.SinglePage){var J=this;setTimeout(function(){abX(dg);J.qD(tp);},10);}};function aaw(AF,nt){var mV=0;var nK=0;var Di=false;uT=true;var dg=iB();if(dg){IPCC.C.forEach(dg.Kb,function(al){var gK=ew===IPCC.PageLayout.VerticalScrollDirection?al.an+ft:al.aK+eK+fT;var axu=AF.Kb[al.bL];if(axu.wK){Di=true;return;}if(nt&&al.bL>=nt.kv&&al.bL<=nt.lk){var aT=document.getElementById(aJ[al.bL].bi);if(aT){return;}}if(Di){nK+=gK;}else{mV+=gK;}});}return{nK:nK,mV:mV};};function abX(AF){if(dk===IPCC.ViewMode.SinglePage){return;}var nt=Ra(AF);var qQ=aaw(AF,nt);if(ew===IPCC.PageLayout.VerticalScrollDirection){bv.style.paddingTop=qQ.mV+'px';bv.style.paddingBottom=qQ.nK+'px';}else{bv.style.paddingLeft=qQ.mV+'px';bv.style.paddingRight=qQ.nK+'px';}};function avN(AF){if(dk===IPCC.ViewMode.SinglePage){return;}var LM;var nt;if(ew===IPCC.PageLayout.VerticalScrollDirection){LM=parseInt(window.getComputedStyle(bv,null).getPropertyValue('padding-top'),10);}else{LM=parseInt(window.getComputedStyle(bv,null).getPropertyValue('padding-left'),10);}nt=Ra(AF);var qQ=aaw(AF,nt);if(ew===IPCC.PageLayout.VerticalScrollDirection){bv.style.paddingTop=qQ.mV+'px';bv.style.paddingBottom=qQ.nK+'px';bx.scrollTop=bx.scrollTop+qQ.mV-LM;}else{bv.style.paddingLeft=qQ.mV+'px';bv.style.paddingRight=qQ.nK+'px';bx.scrollLeft=bx.scrollLeft+qQ.mV-LM;}};this.Mb=function(bF){IPCC.bC.lg(bF,'pageIndex',0,aJ.length-1);var aS=aJ[bF];if(aS&&aS.bi&&(aS.DY===true||aS.yk===false)){var aZ;var aT=document.getElementById(aS.bi);if(aT.aQ){aT.aQ.dispose();}acW(aT);aZ=new IPCC.Web.UI.PageView(aT,false,bx);if(aZ){aZ.set_autoUpdate(false);aZ.ts(aT);aZ.initialize();aZ.set_imageHandlerUrl(aS.aG.rU);aZ.set_requireRequestsOptimize(vf);if(nb!==undefined){aZ.set_serviceResponseTimeout(nb);}aZ.set_scrollBars(IPCC.Web.UI.ScrollBars.None);aZ.Mr(bD===IPCC.Web.UI.MouseTool.HandPan||bD===IPCC.Web.UI.MouseTool.EditMarks);Uv(aZ,aS);Wb(aZ);Uu(aZ);US(aZ);Vf(aZ);}aZ.set_textRequired(sQ);aZ.set_markHandleMode(su);aZ.set_debug(_debug);aZ.set_gamma(pR);aZ.set_sharpening(pE);aZ.set_svgLineWidthMultiplier(nr);aZ.set_debugErrorLevel(oY);aZ.lU(J.ja());if(rz){aZ.set_resourcePath(rz);}if(iW){aZ.Kf(iW());}else{aZ.set_mouseTool(IPCC.Web.UI.MouseTool.None);}aZ.qn(J.mr());aS.DY=false;aS.ze=false;var zZ={encodedDocumentIdentifier:aS.aG.get_encodedDocumentIdentifier(),pageNumber:bF,artServiceOption:0,documentArtPage:aS.fz,viewRotationDegreesClockwise:aS.gn};if(aS.aO){zZ.artPage=aS.aO;}if(aS.fz){zZ.documentArtPage=aS.fz;}aZ.openPage(zZ);aS.yk=true;mC++;}};function Um(eJ,es){if(hx<=0){return;}var fs=hx;var fr=il;var fD=cG/aJ[0].gB;if(ir(qS)===true){fs=il;fr=hx;fD=cG/aJ[0].hB;}var kh=1;if(ew===IPCC.PageLayout.VerticalScrollDirection){kh=(bx.clientWidth-uz()-(eK+fT+mA+nH))/(fs*fD);}else{kh=(bx.clientHeight-(ft+hZ+ph+pK))/(fr*fD);}var ut;if(ce<=kh){ut=false;}else if(ce>kh){ut=true;}if(isNaN(kh)||kh<=0||Math.abs(kh)===Infinity){return;}ce=kh;hh=0;hi=0;var hG=0;var gJ=aJ.length-1;var bU=0;var ai;for(bU=hG;bU<=gJ;bU++,ai=undefined){var aT=document.getElementById(aJ[bU].bi);if(aT){ai=aT.aQ;}if(ai===undefined){continue;}var bS=fs;var ba=fr;if(aJ[bU].jJ()>0){if(ir(aJ[bU].gn)===true){bS=aJ[bU].ny();ba=aJ[bU].jJ();}else{bS=aJ[bU].jJ();ba=aJ[bU].ny();}}var gV=1;if(ew===IPCC.PageLayout.VerticalScrollDirection){gV=fs/bS*ce*fD;aT.style.width=fs*ce*fD+'px';aT.style.height=ba*gV+'px';if(fs*ce*fD>hh){hh=fs*ce*fD;}if(ba*gV*cG/aJ[bU].hB>hi){hi=ba*gV*fD;}}else{gV=fr/ba*ce;aT.style.height=fr*ce*fD+'px';aT.style.width=bS*gV*fD+'px';if(bS*ce*cG/aJ[bU].gB>hh){hh=bS*ce*fD;}if(fr*gV*fD>hi){hi=fr*gV*fD;}}if(ai&&aJ[bU].gg===true&&ai.fv()===true){ai.zoom(gV);}if(ai&&aJ[bU].gg===true&&ai.fv()===true){ai.display();}ai=undefined;}iB();pk();setTimeout(function(){Aj(cn);lE(cn);},0);J.ae('scaleChanged',{scaleType:(ut)?"scaledDown":"scaledUp",scaleTrigger:eJ,fitType:es,scaleFactor:ce});};function ir(hH){switch(hH){case 90:case 270:case-90:case-270:return true;default:return false;}};function gD(pz){var yM=document.createElement('div');var h;for(h in pz){if(pz.hasOwnProperty(h)){yM.style[h]=pz[h];}}return yM;};this.axR=function(){if(Ie===undefined||Ie===null){Ie=1;}var cS=this.lD().id.toString()+'_'+Ie.toString();Ie++;return cS;};this.XF=function(){return this.Ae;};this.fQ=function(aDQ){for(var pG=0;pG<aJ.length;pG++){var amH=aJ[pG];if(aDQ===amH.en){return aJ[pG].aO;}}return null;};this.aFX=function(ic){var aT=document.getElementById(aJ[ic.get_pageNumber()].bi);if(aT){return aT.aQ.nm();}return null;};function ayt(aC,F){Ut(F);};function Ut(ap){var gI=ap.imGearDocument;var arw=J.axR();gI.Re=arw;var cT=gI.get_pages();var cg=cT.get_length();if(cg>0){var RZ=document.createDocumentFragment();for(var bU=0;bU<cg;bU++){var aS=cT.getPage(bU);if(!aS.aG){aS.aG=gI;}Fk(aS,aS.get_pageNumber()===0?null:RZ);}bv.appendChild(RZ);}};var asP=IPCC.C.agT(function(){if(GZ.length>0&&po){var dh;var Hs;var Ik=0;IPCC.C.forEach(GZ,aen);var ajP=iB();if(!ajP){return;}var gj=ajP.Kb;IPCC.C.forEach(GZ,function(aS,bL){dh=aS.nJ();Hs=gj[dh];if(ew===IPCC.PageLayout.VerticalScrollDirection){Ik+=Hs.an+ft;}else{Ik+=Hs.aK+eK;}});if(Ik&&dk!==IPCC.ViewMode.SinglePage){if(ew===IPCC.PageLayout.VerticalScrollDirection){bv.style.paddingBottom=Ik+'px';}else{bv.style.paddingRight=Ik+'px';}}Aj(cn,true);lE(cn,true);if(J.Ae.Qg(0).ed===aJ.length){J.ae('allPagesAdded');}pk();}GZ=[];},10);function Wd(aC,F){if(F.imGearPage.get_pageNumber()===0){Fk(F.imGearPage);return;}GZ.push(F.imGearPage);asP();};function UQ(aC,F){var dh=F.imGearPage.get_pageNumber();var abo=F.imGearPage.aG.get_documentIdentifier();for(var bU=0;bU<aJ.length;bU++){if(aJ[bU].en.get_pageNumber()===dh&&aJ[bU].en.aG.get_documentIdentifier()===abo){var aT=document.getElementById(aJ[bU].bi);if(aT){bv.removeChild(aT);if(aT.aQ){aT.aQ.dispose();var kX=IPCC.C.filter(cn,function(el){return el.aR===aJ[bU].dh+1;});FP(kX);}}aJ.splice(bU,1);}}};function aen(ic){if(!IPCC.C.contains(aJ,ic)){var aa=new IPCC.aa({page:ic});if(qS){aa.gn=qS;}if(!aa.aG){aa.aG=ic.aG;}aJ.push(aa);IPCC.Pagecounter++;aJ=aJ.sort(function(dA,eE){return dA.dh-eE.dh;});aCP(ic);axQ(ic);aAx(ic);aa.axL=false;aa.ze=false;aBh(aa);aAg(aa);Vy(aa);aBu(aa);aBV(aa);aCL(aa);azV(aa);azD(aa);aAb(aa);aAl(aa);return aa;}};function Fk(aS,RZ){var QR=aS.get_pageNumber();var da=J.lD();var gI=null;var VL;var cg=J.get_documents().get_length();for(var as=0;as<cg;as++){gI=J.get_documents().getDocument(as);if(gI!==null){VL=gI.Re;if(VL===aS.aG.Re){break;}}}var gh=IPCC.C.find(aJ,function(aa){return aa.en&&aa.en===aS;});if(!gh){gh=aen(aS);}gh.Ig=true;var abx=gh.bi;if(gh.IP===1){return document.getElementById(abx);}gh.IP=1;if(bv===''){aha();}var mp=(function(){var aI;if(dk!==IPCC.ViewMode.SinglePage){aI=gD({overflow:'hidden',position:'relative'});}else{aI=gD({overflow:'hidden',position:'absolute',margin:'0px'});if(gh.dh>dN){J.kb(aI,'pccNextPage');}else if(gh.dh<dN){J.kb(aI,'pccPreviousPage');}else{J.kb(aI,'pccCurrentPage');}}qc.push(aS.dh);J.kb(aI,'pccPageListItem');acW(aI);var CY=Vv(gh);aI.style.width=CY.aK+'px';aI.style.height=CY.an+'px';var dg=iB();var NX;if(ew===IPCC.PageLayout.VerticalScrollDirection||dk===IPCC.ViewMode.SinglePage){aI.style.display='block';if(hx>0){aI.style.margin=ft+'px auto '+hZ+'px auto';}if(dg.cQ.length>0&&dk!==IPCC.ViewMode.SinglePage){NX=dg.cQ[0];if(QR<NX.bL){var ast=IPCC.C.Po(bv,'padding-top');var asy=IPCC.C.Lu(ast);var Rx=asy-CY.an-ft;if(Rx<0){Rx=0;}bv.style.paddingTop=Rx+'px';}else{var arE=IPCC.C.Po(bv,'padding-bottom');var atg=IPCC.C.Lu(arE);var Su=atg-CY.an-ft;if(Su<0){Su=0;}bv.style.paddingBottom=Su+'px';}}}else{aI.style.display='inline-block';if(hx>0){aI.style.margin=ft+'px '+eK+'px '+hZ+'px '+fT+'px';}if(dg.cQ.length>0&&dk!==IPCC.ViewMode.SinglePage){NX=dg.cQ[0];if(QR<NX.bL){var arR=IPCC.C.Po(bv,'padding-left');var asp=IPCC.C.Lu(arR);var TI=asp-CY.aK-eK;if(TI<0){TI=0;}bv.style.paddingLeft=TI+'px';}else{var asZ=IPCC.C.Po(bv,'padding-right');var asA=IPCC.C.Lu(asZ);var Sj=asA-CY.aK-eK;if(Sj<0){Sj=0;}bv.style.paddingRight=Sj+'px';}}}aI.setAttribute('id',abx);return aI;}());gh.en=gh.en||aS;gh.amX=gh.amX||VL;gh.gn=gh.gn!==undefined?gh.gn:qS;gh.gg=false;function ask(ez){var Te=ez.childNodes;var aCQ=IPCC.C.find(aJ,function(aa){if(aa.dh<=QR){return;}var iI=IPCC.C.find(Te,function(iI){return iI.id&&iI.id===aa.bi;});if(!iI){return;}if(aa.dh>QR){iI.parentElement.insertBefore(mp,iI);return true;}});if(!aCQ){ez.appendChild(mp);}}(function aGa(){if(aJ.length===1){bv.appendChild(mp);}else{return ask(RZ||bv);}}());var ayh=false;if(mp&&da.clientWidth>0){var awR=da.clientWidth/(mp.clientWidth+(mp.clientLeft*2));var azz=da.clientHeight/(mp.clientHeight+(mp.clientTop*2));if(aJ.length<(awR*azz)){ayh=true;}}if(aJ.length<2){var aZ=new IPCC.Web.UI.PageView(mp,false,bx);if(aZ){aZ.set_autoUpdate(false);aZ.ts(mp);aZ.initialize();aZ.set_imageHandlerUrl(aS.aG.rU);aZ.set_imGearPage(gh.en);aZ.set_artPage(gh.aO);aZ.set_documentArtPage(gh.fz);aZ.set_requireRequestsOptimize(vf);if(nb!==undefined){aZ.set_serviceResponseTimeout(nb);}aZ.set_scrollBars(IPCC.Web.UI.ScrollBars.None);aZ.set_textRequired(sQ);aZ.set_markHandleMode(su);aZ.set_debug(_debug);aZ.set_gamma(pR);aZ.set_sharpening(pE);aZ.set_svgLineWidthMultiplier(nr);aZ.set_debugErrorLevel(oY);aZ.lU(J.ja());if(rz){aZ.set_resourcePath(rz);}if(iW){aZ.Kf(iW());}else{aZ.set_mouseTool(IPCC.Web.UI.MouseTool.None);}aZ.qn(J.mr());aZ.Mr(bD===IPCC.Web.UI.MouseTool.HandPan||bD===IPCC.Web.UI.MouseTool.EditMarks);}Uv(aZ,gh);Uu(aZ);US(aZ);Wb(aZ);Vf(aZ);aZ.openPage({encodedDocumentIdentifier:aS.aG.get_encodedDocumentIdentifier(),pageNumber:aS.get_pageNumber(),artServiceOption:0,imGearPage:gh.en,artPage:gh.aO,documentArtPage:gh.fz,viewRotationDegreesClockwise:gh.gn});gh.yk=true;mC++;}return mp;};function aad(aa){return aa.Ig;};function pk(){if(mC>0||po===false||kd!==null){return;}if(xn){return;}var dg=iB();if(!dg){return;}aJ.forEach(function(aS,bL){if(!aS.gg){return;}J.IC(bL);});var AB=avc(dg);IPCC.C.forEach(AB||[],function(bL){var aS=aJ[bL];if(aS){agY(aS);}});IPCC.C.forEach(dg.cQ,function(Hs){var aa=aJ[Hs.bL];if(aad(aa)&& !aa.gg&&aa.IP){Qa(aa);}});var nt=Ra(dg);for(var bL=nt.kv;bL<=nt.lk;bL++){var aa=aJ[bL];if(!aad(aa)){aa.Ig=true;var aap=J.XF();var gI=aap.Qg(0);var ic=gI.cT.iO(bL);Fk(ic);ago(aa,false);}}aDK();};function avc(dg){var aBF=te(dg);var AB=[];IPCC.C.forEach(aBF,function(bL){var aS=aJ[bL];if(aS&&aS.IP===0){var aap=J.XF();var gI=aap.Qg(0);var ic=gI.cT.iO(bL);Fk(ic);AB.push(bL);}});return AB;};function aDK(){var ue=bx.scrollTop;var wv=bx.scrollLeft;var tL=bx.clientHeight;var tO=bx.clientWidth;var uF=bx.scrollWidth;var wZ=bx.scrollHeight;var dg=UH({ue:ue,wv:wv,tL:tL,tO:tO,uF:uF,wZ:wZ});var nt=Ra(dg);var abZ=azw(dg);var mV=0;var nK=0;var Di=false;IPCC.C.forEach(dg.Kb,function(al){var gK=ew===IPCC.PageLayout.VerticalScrollDirection?al.an+ft:al.aK+eK+fT;var bL= +al.bL;if(al.wK||(dk===IPCC.ViewMode.SinglePage&&bL===dN)){Di=true;return;}if(bL>=nt.kv&&bL<=nt.lk){if(bL>=abZ.kv&&bL<=abZ.lk){return;}if(Di){if(EB(bL,true)> -1){nK+=gK;}}else{if(EB(bL,true)> -1){mV+=gK;}}return;}if(Di){nK+=gK;EB(bL);}else{mV+=gK;EB(bL);}});if(dk===IPCC.ViewMode.SinglePage){return;}if(ew===IPCC.PageLayout.VerticalScrollDirection){bv.style.paddingTop=mV+'px';bv.style.paddingBottom=nK+'px';}else{bv.style.paddingLeft=mV+'px';bv.style.paddingRight=nK+'px';}};function EB(bU,aDd){var aS=aJ[bU];if(!aS){return-1;}var dh=aS.dh;if(aDd===true&& !aS.gg){return-1;}aS.ze=false;aS.yk=false;aS.gg=false;aS.IP=0;aS.Ig=false;if(QP&& !aS.en.dF().ava()&&NY!==true){aS.en.acM();}var zp=document.getElementById(aS.bi);if(!zp){return-1;}if(zp.aQ){zp.aQ.dispose();var kX=IPCC.C.filter(cn,function(el){return el.aR===dh+1;});FP(kX);zp.parentElement.removeChild(zp);return bU;}else{zp.parentElement.removeChild(zp);}return-1;};function Qa(aa){var aI=document.getElementById(aa.bi);J.xJ(aI,aa.dh);};function agY(aa){ago(aa,true);Qa(aa);};function ago(aS,atY){var aI=document.getElementById(aS.bi);if(aI===null){return;}var aZ=new IPCC.Web.UI.PageView(aI,false,bx);aZ.set_autoUpdate(false);aZ.ts(document.getElementById(aS.bi));aZ.initialize();aZ.set_imageHandlerUrl(aS.aG.rU);aZ.set_imGearPage(aS.en);aZ.set_artPage(aS.aO);aZ.set_requireRequestsOptimize(vf);if(nb!==undefined){aZ.set_serviceResponseTimeout(nb);}aZ.set_scrollBars(IPCC.Web.UI.ScrollBars.None);aZ.set_textRequired(sQ);aZ.set_markHandleMode(su);aZ.set_debug(_debug);aZ.set_gamma(pR);aZ.set_sharpening(pE);aZ.set_svgLineWidthMultiplier(nr);aZ.set_debugErrorLevel(oY);aZ.lU(J.ja());if(rz){aZ.set_resourcePath(rz);}if(iW){aZ.Kf(iW());}else{aZ.set_mouseTool(IPCC.Web.UI.MouseTool.None);}aZ.qn(J.mr());aZ.Mr(bD===IPCC.Web.UI.MouseTool.HandPan||bD===IPCC.Web.UI.MouseTool.EditMarks);Uv(aZ,aS);Uu(aZ);US(aZ);Wb(aZ);Vf(aZ);if(atY===true){aZ.add_pageOpened(function aFs(az){J.xJ(aI,aS.dh);});}if(aS.ze===false&&aS.en){aS.Ig=true;var zZ={encodedDocumentIdentifier:aS.en.aG.get_encodedDocumentIdentifier(),pageNumber:aS.en.get_pageNumber(),imGearPage:aS.en,viewRotationDegreesClockwise:aS.gn};if(aS.aO){zZ.artPage=aS.aO;}if(aS.fz){zZ.documentArtPage=aS.fz;}aZ.openPage(zZ);aS.yk=true;mC++;}};function aln(aO,ht){var ak;aO.forEachMark(function(K){switch(K.get_type()){case IPCC.Web.UI.MarkType.Line:var aY=K.get_points();var aX=aY.xp(0);var kn=aY.xp(1);aY.setPoint(0,new IPCC.Web.UI.Point(aX.x*ht,aX.y*ht));aY.setPoint(1,new IPCC.Web.UI.Point(kn.x*ht,kn.y*ht));break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.TextSelectionRedaction:ak=K.get_rectangle();K.set_rectangle({x:ak.x*ht,y:ak.y*ht,width:ak.width*ht,height:ak.height*ht});break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.Strikethrough:ak=K.get_rectangle();K.set_rectangle({x:ak.x*ht,y:ak.y*ht,width:ak.width*ht,height:ak.height*ht});var am=K.am,fS;for(var i=0;i<am.length;i++){fS=am[i];fS.x=fS.x*ht;fS.y=fS.y*ht;fS.width=fS.width*ht;fS.height=fS.height*ht;}break;default:break;}});};function Uv(aZ,aS){function atA(sender,evnt){var aeQ=function(aK,an,aR){var WJ={'width':aK,'height':an,'pageNumber':aR};J.ae('pageOpening',WJ);};var dh=evnt.pageNumber;var abo=evnt.documentIdentifier;aS.bS=aZ.get_pageWidth();aS.ba=aZ.get_pageHeight();var hf=aZ.get_pageXResolution();var gM=aZ.get_pageYResolution();if(!isNaN(parseFloat(hf))&&isFinite(hf)){aS.gB=hf;}if(!isNaN(parseFloat(gM))&&isFinite(gM)){aS.hB=gM;}aZ=null;for(var bU=0;bU<aJ.length;bU++){if(po&&aJ[bU].en.get_pageNumber()===dh&&aJ[bU].en.aG.get_documentIdentifier()===abo){aJ[bU].yk=false;aJ[bU].ze=true;aJ[bU].DY=false;if(dk===IPCC.ViewMode.SinglePage){var mX= -1;if(Array.prototype.indexOf){mX=qc.indexOf(bU);}else{mX=IPCC.Web.iE(qc,bU);}if(mX!== -1){qc.splice(mX,1);}}var ani=false;for(var as=0;as<Nm.length;as++){if(Nm[as]===bU){ani=true;}}if(ani===false){Nm.push(bU);}var mK=0;var nu=0;var aT=document.getElementById(aJ[bU].bi);var ai=aT.aQ;var fs;var fr;var Wj;if(hx===0&&(bU===0||aJ[0].DY===true)){if(aT.currentStyle){ph=parseInt(aT.currentStyle.borderTopWidth,10)||0;ft=parseInt(aT.currentStyle.marginTop,10)||0;mA=parseInt(aT.currentStyle.borderLeftWidth,10)||0;eK=parseInt(aT.currentStyle.marginLeft,10)||0;pK=parseInt(aT.currentStyle.borderBottomWidth,10)||0;hZ=parseInt(aT.currentStyle.marginBottom,10)||0;nH=parseInt(aT.currentStyle.borderRightWidth,10)||0;fT=parseInt(aT.currentStyle.marginRight,10)||0;}else if(document.defaultView&&document.defaultView.getComputedStyle){var wX=document.defaultView.getComputedStyle(aT);ph=parseInt(wX.borderTopWidth,10)||0;ft=parseInt(wX.marginTop,10)||0;mA=parseInt(wX.borderLeftWidth,10)||0;eK=parseInt(wX.marginLeft,10)||0;pK=parseInt(wX.borderBottomWidth,10)||0;hZ=parseInt(wX.marginBottom,10)||0;nH=parseInt(wX.borderRightWidth,10)||0;fT=parseInt(wX.marginRight,10)||0;}if(dk===IPCC.ViewMode.SinglePage){aT.style.margin=ft+'px 0px '+hZ+'px 0px';bv.style.margin="0px auto";}else{if(ew===IPCC.PageLayout.VerticalScrollDirection){aT.style.margin=ft+'px auto '+hZ+'px auto';}else{aT.style.margin=ft+'px '+fT+'px '+hZ+'px '+eK+'px';bv.style.margin='0px '+fT+'px 0px '+eK+'px';}}hx=ai.get_pageWidth();il=ai.get_pageHeight();aiI=hf;fs=hx;fr=il;var fD=cG/aJ[bU].gB;if(ir(aJ[bU].gn)===true){fr=hx;fs=il;fD=cG/aJ[bU].hB;}if(dk===IPCC.ViewMode.SinglePage){var apf=(bx.offsetWidth-(eK+fT+mA+nH));var apn=(bx.offsetHeight-(ft+hZ+ph+pK+aql));pb=apf/(fs*fD);Wj=apn/(fr*fD);if(Wj<pb){pb=Wj;}ai.zoom(pb*fD);}else if(ew===IPCC.PageLayout.VerticalScrollDirection){pb=(bx.offsetWidth-IPCC.Web.oM()-(eK+fT+mA+nH))/(fs*fD);ai.zoom(pb*fD);}else{pb=(bx.offsetHeight-IPCC.Web.oM()-(ft+hZ+ph+pK))/(fr*fD);ai.zoom(pb*fD);}mK=fs*pb*fD;nu=fr*pb*fD;aT.style.width=mK+'px';aT.style.height=nu+'px';if(dk===IPCC.ViewMode.SinglePage){bv.style.width=mK+'px';bv.style.height=nu+'px';}if(dk!==IPCC.ViewMode.SinglePage){for(var pG=0;pG<aJ.length;pG++){if(aJ[pG].gg===false&&pG!==bU){if(aJ[pG].bi){aT=document.getElementById(aJ[pG].bi);aT.style.width=fs*pb+'px';aT.style.height=fr*pb+'px';if(ew===IPCC.PageLayout.VerticalScrollDirection){aT.style.margin=ft+'px auto '+hZ+'px auto';}else{aT.style.margin=ft+'px '+fT+'px '+hZ+'px '+eK+'px';}}}}}ce=pb;aeQ(aS.bS,aS.ba,dh+1);aT.aQ.display();}else{if(dk===IPCC.ViewMode.Document||dk===IPCC.ViewMode.SinglePage){if(ir(aJ[bU].gn)===true){mK=ai.get_pageHeight()*ce*cG/aJ[bU].gB;nu=ai.get_pageWidth()*ce*cG/aJ[bU].hB;}else{mK=ai.get_pageWidth()*ce*cG/aJ[bU].gB;nu=ai.get_pageHeight()*ce*cG/aJ[bU].hB;}}else{var gV;var bS=ai.get_pageWidth();var ba=ai.get_pageHeight();fs=hx;fr=il;if(ir(qS)===true){fs=il;fr=hx;}if(ir(aJ[bU].gn)===true){bS=ai.get_pageHeight();ba=ai.get_pageWidth();}if(ew===IPCC.PageLayout.VerticalScrollDirection){gV=fs/bS*ce*cG/aJ[0].hB;mK=fs*ce*cG/aJ[0].gB;nu=ba*gV;}else{gV=fr/ba*ce*cG/aJ[0].gB;nu=fr*ce*cG/aJ[0].hB;mK=bS*gV;}}if(mK!==Math.round(mK)){mK=Math.floor(mK*100)/100;}if(nu!==Math.round(nu)){nu=Math.floor(nu*100)/100;}if(aT.style.width!==mK+'px'||aT.style.height!==nu+'px'){if(ew===IPCC.PageLayout.VerticalScrollDirection){aT.style.width=mK+'px';aT.style.height=nu+'px';}else{aT.style.width=mK+'px';aT.style.height=nu+'px';}Aj(cn,true);lE(cn,true);}aeQ(aS.bS,aS.ba,dh+1);}if(mK>hh){hh=mK;if(ew===IPCC.PageLayout.VerticalScrollDirection){bx.scrollLeft=(hh-bx.clientWidth)/2;}}if(nu>hi){hi=nu;if(ew===IPCC.PageLayout.HorizontalScrollDirection){bx.scrollTop=(hi-bx.clientHeight)/2;}}if(aJ[bU].CB>0){var Ty=document.getElementById(aJ[bU].bi).aQ;if(Ty){Ty.rotate(aJ[bU].CB);Ty.display();aJ[bU].CB=0;}}if(mC>0){mC=mC-1;}if(aJ[bU].aeK()===true){var ic=aJ[bU].en;var ht=aJ[bU].jJ()/ic.ajL();if(ht!==1){var aO=J.fQ(ic);if(aO){aln(aO,ht);}}}aJ[bU].SK(false);iB();var Go=new IPCC.OpenPageEventArgs();Go.pageIndex=evnt.pageNumber;Go.imGearPage=evnt.imGearPage;Go.viewRotationDegreesClockwise=evnt.viewRotationDegreesClockwise;Go.pageNodeID=aJ[bU].bi;J.ae('pageOpened',Go);break;}}if(mC===0&&nq===null&&kd===null){setTimeout(function(){pk();},60);}};aZ.add_pageOpened(atA);};function Uu(aZ){function atR(aC,aL){if(po===false){return;}var xd;if(aL.pageNumber>=0){if(aJ[aL.pageNumber].bi){xd=aJ[aL.pageNumber].bi;}}aJ[aL.pageNumber].DY=true;aJ[aL.pageNumber].yk=false;aJ[aL.pageNumber].ze=false;aJ[aL.pageNumber].gg=false;var ng=new IPCC.ExceptionEventArgs();ng.exception=aL.exception;ng.pageIndex=aL.pageNumber;ng.pageNodeID=xd;J.ae('pageOpenFailed',ng);if(mC>0){mC=mC-1;if(mC===0){setTimeout(function(){pk();},60);}}};aZ.add_pageOpenFailed(atR);};function US(aZ){function avg(aC,aL){if(po===false){return;}var F=new IPCC.PageEventArgs();F.pageIndex=aL.aR;F.imGearPage=aJ[aL.aR].en;F.pageNodeID=aJ[aL.aR].bi;aJ[aL.aR].gg=true;if(dk===IPCC.ViewMode.SinglePage){var mX= -1;if(Array.prototype.indexOf){mX=qc.indexOf(aL.aR);}else{mX=IPCC.Web.iE(qc,aL.aR);}if(mX!== -1){qc.splice(mX,1);}}J.ae('pageDisplayed',F);setTimeout(function(){var kX=IPCC.C.filter(cn,function(el){if(dk===IPCC.ViewMode.SinglePage){return aL.aR===el.aR-1&&el.aR-1===dN;}else{return aL.aR===el.aR-1;}});Aj(kX);lE(kX);},0);};aZ.add_pageDisplayed(avg);};function axQ(aS){function Jv(aC,aL){if(po===false){return;}J.ae('textPageReady',{pageIndex:aL.pageNumber,containsText:aL.containsText});var dg=iB();var cB=[];if(dg){cB=te(dg);}if(aL.containsText===true&&aL.pageNumber>=cB[0]&&aL.pageNumber<=cB[cB.length-1]){if(aJ[aL.pageNumber].aO&&aJ[aL.pageNumber].aO.get_markCount()>0){var aT=document.getElementById(aJ[aL.pageNumber].bi);J.xJ(aT,aL.pageNumber);}}};aS.Am(Jv);};function aAx(aS){function axy(aC,aL){if(po===false){return;}var fz=aJ[aL.pageNumber].fz;aS.aml().IM().jX(function(fV){var K=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.DocumentHyperlink),ak=fV.eG();K.set_rectangle(new IPCC.Web.UI.Rectangle(ak.x,ak.y,ak.width,ak.height));K.set_href(fV.amF());K.set_lineColor(fV.auz());K.set_lineWidth(fV.aud());K.set_borderPattern(fV.auf());K.set_borderType(fV.aup());K.set_borderHorizontalRadius(fV.aue());K.set_borderVerticalRadius(fV.att());K.set_borderOpacity(fV.auj());fz.addMark(K);fV.anF(K);});J.ae('hyperlinkPageReady',{pageIndex:aL.pageNumber});var dg=iB();var cB=[];if(dg){cB=te(dg);}if(aL.pageNumber>=cB[0]&&aL.pageNumber<=cB[cB.length-1]){var aT=document.getElementById(aJ[aL.pageNumber].bi);J.xJ(aT,aL.pageNumber);}};aS.XL(axy);};function aCP(aS){function Kn(aC,aL){if(po===false){return;}var xd;if(aL.pageNumber>=0){if(aJ[aL.pageNumber].bi){xd=aJ[aL.pageNumber].bi;}}J.ae('textExtractionFailed',{'exception':aL.exception,'pageIndex':aL.pageNumber,'pageNodeID':xd});};aS.AI(Kn);};function Wb(aZ){function ayd(aC,aL){if(po===false){return;}var xd;if(isNaN(aL.pageNumber)===false){if(aL.pageNumber>=0){if(aJ[aL.pageNumber].bi){xd=aJ[aL.pageNumber].bi;}}aJ[aL.pageNumber].DY=true;aJ[aL.pageNumber].yk=false;aJ[aL.pageNumber].ze=false;aJ[aL.pageNumber].gg=false;}var ng=new IPCC.ExceptionEventArgs();ng.functionName=aL.function_name;ng.exception=aL.exception;ng.pageIndex=aL.pageNumber;ng.pageNodeID=xd;J.ae('exceptionThrown',ng);if(mC>0){mC=mC-1;if(mC===0){setTimeout(function(){pk();},60);}}};aZ.add_exceptionThrown(ayd);};function Vf(aZ){function Km(aC,aL){J.ae('markCreating',aL);};aZ.add_markCreating(Km);};function aBh(aa){function aaa(){if(po===false){return;}var dg=iB();var cB=[];if(dg){cB=te(dg);}if(aa.dh>=cB[0]&&aa.dh<=cB[cB.length-1]){var aT=document.getElementById(aa.bi);J.xJ(aT,aa.dh);}var F=new IPCC.Web.UI.MarkEventArgs();F.pageIndex=aa.dh;J.ae('marksLoaded',F);};aa.aO.add_marksLoaded(aaa);};function aAg(aa){function iM(aC,aL){var F=new IPCC.Web.UI.MarkEventArgs();F.pageIndex=aa.dh;F.mark=aL.mark;F.zIndex=aL.zIndex;F.clientX=aL.clientX;F.clientY=aL.clientY;J.ae('markAdded',F);};aa.aO.add_markAdded(iM);};function Vy(aa){var XQ,st=false,Zv,aba;function Ks(L,eL){if(sF===false){return;}var kz=vt();akv(L,eL,kz);lE(cn,true,kz);};function avz(L,eL){Zv=L;aba=eL;if(st&& !XQ){XQ=II(function(){st=false;XQ=undefined;if(Zv&&aba){Ks(Zv,aba);}else{Ks(L,eL);}});}};function mb(aC,aL){if(aL.mark.ym===true){return;}var F=new IPCC.Web.UI.MarkEventArgs();F.pageIndex=aa.dh;F.mark=aL.mark;F.zIndex=aL.zIndex;F.propertyName=aL.propertyName;J.ae('markChanged',F);var eL=cn[aL.mark.get_markID()];if(eL&&(aL.propertyName==='rectangle'||aL.propertyName==='points'||aL.propertyName==='startPoint'||aL.propertyName==='endPoint')){st=true;avz(aL.mark,eL);}else if(eL&&aL.propertyName==='visible'){var aBM=aL.mark.get_visible();var UZ=(function(dR){return IPCC.C.inArray(QW(),dR.aR-1);})(eL);if(aBM&&UZ){Ok([eL]);lE(cn,true,vt());}else{FP([eL]);}}};aa.aO.add_markChanged(mb);};function aBu(aa){function aaV(aC,aL){var F=new IPCC.Web.UI.MarkEventArgs();F.pageIndex=aa.dh;F.mark=aL.mark;F.zIndex=aL.zIndex;F.oldZIndex=aL.oldZIndex;J.ae('markReordered',F);};aa.aO.add_markReordered(aaV);};function aBV(aa){function DF(aC,aL){if(aL.mark.ym===true){return;}var F=new IPCC.Web.UI.MarkEventArgs();F.pageIndex=aa.dh;F.mark=aL.mark;F.zIndex=aL.zIndex;J.ae('markSelectionChanged',F);};aa.aO.add_markSelectionChanged(DF);};function azV(aa){function Dw(aC,aL){if(aL.mark){var F=new IPCC.Web.UI.MarkEventArgs();F.pageIndex=aa.dh;F.mark=aL.mark;F.zIndex=aL.zIndex;J.ae('markRemoved',F);var eL=cn[aL.mark.get_markID()];if(eL){if(aL.mark.get_conversation()===hM){hM=null;}eL.bW.parentElement.removeChild(eL.bW);delete cn[aL.mark.get_markID()];lE(cn,true);}}};aa.aO.add_markRemoved(Dw);};function aCL(aa){function za(aC,aL){var F=new IPCC.Web.UI.MarkEventArgs();F.pageIndex=aa.dh;F.mark=aL.mark;F.zIndex=aL.zIndex;J.ae('markTextSelectionChanged',F);};aa.aO.add_markTextSelectionChanged(za);};function akv(L,eL,RN){var aa=aJ[eL.aR-1],aS=document.getElementById(aa.bi),CT=Ve(L,aa.dh+1);if(aS.aQ){var ct=aS.aQ.transformPagePointToWindow(new IPCC.Web.UI.Point(CT.x,CT.y),true);var qe=(ft*aa.dh);var Hj=(aS.offsetTop-qe+ct.y)/(RN-(ft*aJ.length));eL.ak=CT;eL.aaN=Hj;}};function FP(it,aR){var aEE=typeof aR==='undefined';IPCC.C.forEach(it,function(bg){if(bg&&(aEE||bg.pageNumber===aR)){bg.bW.style.display='none';bg.wK=false;}});};function uz(){if(jQ.currentStyle&&jQ.currentStyle.display==='none'){return 0;}return jQ.clientWidth;};function vt(){if(jQ.currentStyle&&jQ.currentStyle.display==='none'){return 0;}return jQ.offsetHeight;};function Ok(it,aR){var arh=typeof aR==='undefined';IPCC.C.forEach(it,function(el){if(arh||el.pageNumber===aR){el.bW.style.display='';el.wK=true;if(el&&el.K&&el.K.get_visible()===false){el.bW.style.display='none';el.wK=false;}}});};function Aj(it,Zy){if(sF===false){return;}var MN=(! !Zy)?IPCC.C.filter(cn,function(dR){return IPCC.C.contains(QW(),dR.aR-1);}):it;var kz=vt();IPCC.C.forEach(MN,function(el){akv(el.K,el,kz);});};function avF(a,b){return(a.ak.y!==b.ak.y)?(a.ak.y-b.ak.y):(a.ak.x!==b.ak.x)?(a.ak.x-b.ak.x):(a.xF-b.xF);};function awW(a,b){return(a.ak.x!==b.ak.x)?(a.ak.x-b.ak.x):(a.ak.y!==b.ak.y)?(b.ak.y-a.ak.y):(a.xF-b.xF);};function avl(a,b){return(a.ak.y!==b.ak.y)?(b.ak.y-a.ak.y):(a.ak.x!==b.ak.x)?(b.ak.x-a.ak.x):(a.xF-b.xF);};function avM(a,b){return(a.ak.x!==b.ak.x)?(b.ak.x-a.ak.x):(a.ak.y!==b.ak.y)?(a.ak.y-b.ak.y):(a.xF-b.xF);};function awN(Zg,kz,zX){zX=zX||0;var _top,aff,IL,Sq=(ft*aJ.length),TF=kz-Sq;IPCC.C.forEach(Zg,function(dR){IL=(ft*(dR.aR-1));aff=(dR.aaN*TF)+IL;_top=Math.max(zX+5,aff);if(dR.bW.style.top!==_top+'px'){dR.bW.style.top=_top+'px';}zX=_top+dR.YP;});};function aws(Zg,kz){var KK,_top,Og,IL,adb,Sq=(ft*aJ.length),TF=kz-Sq;IPCC.C.forEach(Zg,function(dR){IL=(ft*(dR.aR-1));Og=(dR.aaN*TF)+IL;if(KK===undefined){KK=Og;}if(dR.K.get_conversation()===hM){_top=Og;adb=_top+dR.YP;}else{_top=Math.min(KK-5-dR.YP,Og);}if(dR.bW.style.top!==_top+'px'){dR.bW.style.top=_top+'px';}KK=_top;});return adb;};function lE(it,Zy,kz){if(sF===false){return;}if(!kz){kz=vt();}var apN=function(a,b){if(a.aR!==b.aR){return(a.aR-b.aR);}var aS=aJ[a.aR-1],hH=aS.gn;switch(hH){case 90:return awW(a,b);case 180:return avl(a,b);case 270:return avM(a,b);default:return avF(a,b);}};var MN=(! !Zy)?IPCC.C.filter(cn,function(dR){return IPCC.C.inArray(QW(),dR.aR-1);}):it;Ok(MN);var anP=IPCC.C.map(MN,function(dR,aV){dR.YP=dR.bW.offsetHeight;return dR;});var ZA=anP.sort(apN);var Nd=[],TG=[],Zl=false;if(hM){var anv=cn[hM.get_mark().get_markID()];if(!IPCC.C.inArray(ZA,anv)){Zl=true;}IPCC.C.forEach(ZA,function(dR){if(Zl){TG.push(dR);}else if(dR.K.get_conversation()===hM){Nd.unshift(dR);Zl=true;}else{Nd.unshift(dR);}});}else{TG=ZA;}var zX=0;if(Nd.length){zX=aws(Nd,kz);}awN(TG,kz,zX);};function avQ(it,L,dh){var dR=it[L.jR()];dR.aR=dh;dR.K=L;dR.ak=Ve(L,dh);dR.xF=L.dV().oR(L);};function Bn(L,it,kc){var eL=it[L.get_markID()];if(eL){eL.bW.parentElement.replaceChild(kc,eL.bW);eL.bW=kc;}return eL;};function aAz(L,it,kc,aAi,aGA,Hj,dh){var eL=new awI();eL.bW=kc;cn[L.get_markID()]=eL;avQ(cn,L,dh);eL.aaN=Hj;aAi.appendChild(kc);return eL;};function Ve(L,aR){var ak=(L.get_boundingRectangle)?L.get_boundingRectangle():{},hH=aJ[aR-1].gn;switch(hH){case 90:return{x:ak.x,y:ak.y+(ak.height||0)};case 180:return{x:ak.x+(ak.width||0),y:ak.y+(ak.height||0)};case 270:return{x:ak.x+(ak.width||0),y:ak.y};default:return{x:ak.x,y:ak.y};}};function azD(aa){function Qo(aC,aL){var F=new IPCC.Web.UI.CommentEventArgs();F.pageIndex=aa.dh;F.mark=aL.mark;F.index=aL.index;F.comment=aL.comment;var aS=document.getElementById(aa.bi);J.ae('commentAdding',F);setTimeout(function(){var RN=vt(),eL,bW;if(aL.index===0){bW=lG(aL.mark,{isSelected:false},null);if(!bW){return;}else if(!IPCC.C.ub(bW)){throw new Error(bW+' is not a valid HTMLElement');}var CT=Ve(aL.mark,aa.dh+1),azP=CT.x,azQ=CT.y;var ct;if(aS&&aS.aQ){ct=aS.aQ.transformPagePointToWindow(new IPCC.Web.UI.Point(azP,azQ),true);}else{ct=new IPCC.Web.UI.Point(0,0);}var qe=(ft*(aa.dh));var Hj=(aex(aa.dh)-qe+ct.y)/(RN-(ft*aJ.length));eL=aAz(aL.mark,cn,bW,jQ,ct,Hj,aa.dh+1);}else{var EZ=aL.mark.get_conversation()===hM;var currentConversationDiv=cn[aL.mark.get_markID()];if(!currentConversationDiv){return;}bW=lG(aL.mark,{isSelected:EZ},currentConversationDiv.bW);if(!bW){return;}else if(!IPCC.C.ub(bW)){throw new Error(bW+' is not a valid HTMLElement');}eL=Bn(aL.mark,cn,bW);}if(IPCC.C.contains(QW(),aa.dh)){lE(cn,true,RN);}else{FP([eL]);}J.ae('commentAdded',F);},0);};aa.aO.add_commentAdded(Qo);};function aAb(aa){function Pm(aC,aL){var bW=null;if(cn[aL.mark.get_markID()]){bW=cn[aL.mark.get_markID()].bW;var EZ=aL.mark.get_conversation()===hM;bW=lG(aL.mark,{isSelected:EZ},bW);}if(!bW){J.ae('commentChanged',aL);return;}else if(!IPCC.C.ub(bW)){throw new Error(bW+' is not a valid HTMLElement');}if(bW){var kz=vt();Bn(aL.mark,cn,bW);lE(cn,true,kz);}J.ae('commentChanged',aL);};aa.aO.add_commentChanged(Pm);};function aAl(aa){function Pv(aC,aL){var bW=null;if(cn[aL.mark.get_markID()]){bW=cn[aL.mark.get_markID()].bW;}var EZ=aL.mark.get_conversation()===hM;bW=lG(aL.mark,{isSelected:EZ},bW);if(IPCC.C.ub(bW)){Bn(aL.mark,cn,bW);}else{var eL=cn[aL.mark.get_markID()];if(eL){if(aL.mark.get_conversation()===hM){hM=null;}eL.bW.parentElement.removeChild(eL.bW);delete cn[aL.mark.get_markID()];}}lE(cn,true);J.ae('commentRemoved',aL);};aa.aO.add_commentRemoved(Pv);};function Sm(){var an=il;var aK=hx;var aqL=function(hU){return{width:hU.width||(hU.right-hU.left),height:hU.height||(hU.bottom-hU.top),top:hU.top,bottom:hU.bottom,left:hU.left,right:hU.right};};var acH=aqL(bx.getBoundingClientRect());var nF={height:acH.height/2};nF.width=nF.height*aK/an;if(nF.width>aK/2){nF.width=aK/2;}if(nF.height>an/2){nF.height=an/2;}var ZX=8;var aji={height:an*ZX,width:aK*ZX};var ayY=aK*ce<nF.width+5;var ayN=aK*ce>aji.width-5;return{min:nF,max:aji,page:{width:aK,height:an},viewport:acH,atMin:ayY,atMax:ayN,maxFactor:ZX,minFactor:nF.width/aK};};function jY(bk,Sl){if(Sl){acA.apply(this,arguments);return;}var ut=(bk<ce)?true:false;var oV=Sm();if((oV.atMin&&ut)||(oV.atMax&& !ut)){return;}if(bk>oV.maxFactor){bk=oV.maxFactor;}else if(bk<oV.minFactor){bk=oV.minFactor;}if(!oV.atMax|| !oV.atMin){acA.apply(this,arguments);}};function acA(bk,aIp,bf,dB,Bq,pZ,eJ,es){if(isNaN(bk)||bk<=0||Math.abs(bk)===Infinity){return;}var Rj=dN;var dg=iB();var ut=(bk<ce)?true:false;var hG=0;var gJ=aJ.length-1;if(dk===IPCC.ViewMode.SinglePage){if(dN-uI>=0){hG=dN-uI;}if(dN+uI<aJ.length-1){gJ=dN+uI;}}var QK=bk/ce;ce=bk;var Dq=bx.getBoundingClientRect();var aeB=(pZ&&pZ.x!==undefined)?pZ.x:bx.scrollLeft+(Dq.width/2);var agL=(pZ&&pZ.y!==undefined)?pZ.y:bx.scrollTop+(Dq.height/2);var aDg=pZ&&pZ.x!==undefined&&pZ.y!==undefined;hh=0;hi=0;for(var bU=hG;bU<=gJ;bU++){var ai;var aT=document.getElementById(aJ[bU].bi);if(aT){ai=aT.aQ;}else{continue;}if(bU===Rj){var RK=aT.getBoundingClientRect();if(!aDg){if(ew===IPCC.PageLayout.HorizontalScrollDirection&&Dq.height>RK.height){agL-=((Dq.height-RK.height)/2);}else if(ew===IPCC.PageLayout.VerticalScrollDirection&&Dq.width>RK.width){aeB-=((Dq.width-RK.width)/2);}}}var hF=bk*cG/aJ[bU].gB;var bS=hx;var ba=il;var fs=hx;var fr=il;if(ir(qS)===true){fs=il;fr=hx;}if(aJ[bU].jJ()>0){if(ir(aJ[bU].gn)===true){bS=aJ[bU].ny();ba=aJ[bU].jJ();}else{bS=aJ[bU].jJ();ba=aJ[bU].ny();}}else{hF=bk*cG/aJ[0].gB;if(ir(aJ[bU].gn)===true){var Jy=bS;bS=ba;ba=Jy;hF=bk*cG/aJ[0].hB;}}var Kl,Hi,gV;if(dk===IPCC.ViewMode.SinglePage){Hi=bS*hF;Kl=ba*hF;aT.style.width=Hi+'px';aT.style.height=Kl+'px';if(bU===dN){bv.style.width=Hi+'px';bv.style.height=Kl+'px';}if(ai&&aJ[bU].gg===true&&ai.fv()===true){ai.zoom(hF);}}else if(dk===IPCC.ViewMode.Document){Hi=bS*hF;Kl=ba*hF;aT.style.width=Hi+'px';aT.style.height=Kl+'px';if(ai&&aJ[bU].gg===true&&ai.fv()===true){ai.zoom(hF);}if(bS*hF>hh){hh=bS*hF;}if(ba*hF>hi){hi=ba*hF;}}else{hF=bk*cG/aJ[0].gB;if(ew===IPCC.PageLayout.VerticalScrollDirection){gV=fs/bS*hF;aT.style.width=fs*hF+'px';aT.style.height=ba*gV+'px';if(fs*hF>hh){hh=fs*hF;}if(ba*hF>hi){hi=ba*hF;}}else{gV=fr/ba*hF;aT.style.height=fr*hF+'px';aT.style.width=bS*gV+'px';if(bS*hF>hh){hh=bS*hF;}if(fr*hF>hi){hi=fr*hF;}}if(ai&&aJ[bU].gg===true&&ai.fv()===true){ai.zoom(gV);}}if(ai&&aJ[bU].gg===true&&ai.fv()===true){ai.display();if(IPCC.C.xL.AO){var azj=bx.style.display;bx.style.display='none';bx.style.display=azj;aCV();}}}if(ew===IPCC.PageLayout.VerticalScrollDirection){KE=bx.scrollTop;}else{KE=bx.scrollLeft;}var RF,Pg,LY=0,LU=0;if(Bq){RF=Bq.offsetLeft+QK*bf;Pg=Bq.offsetTop+QK*dB;bx.scrollLeft=RF-(bx.clientWidth/2)+LY;bx.scrollTop=Pg-(bx.clientHeight/2)+LU;avN(dg);}else{if(ew===IPCC.PageLayout.VerticalScrollDirection){LU=ft*(Rj+1);}else{LY=fT+((eK+fT)*(Rj+1));}RF=QK*(aeB-LY);Pg=QK*(agL-LU);abX(dg);bx.scrollLeft=RF-(bx.clientWidth/2)+LY;bx.scrollTop=Pg-(bx.clientHeight/2)+LU;}if(dk!==IPCC.ViewMode.SinglePage&&(eJ===IPCC.ScaleTrigger.Pinch||ut===true)){pk();}lE(cn,true);J.ae('scaleChanged',{scaleType:(ut)?"scaledDown":"scaledUp",scaleTrigger:eJ,fitType:es,scaleFactor:ce});};function aCV(){var dummy=document.createElement('div');setTimeout(function(){bx.appendChild(dummy);bx.removeChild(dummy);},0);};function aaF(aD,dS,eo,ef){var ga=aD.igElements;ef=ef||TO(aD);if(ef&&(ef.right-ef.left)>0&&(ef.bottom-ef.top)>0){return new IPCC.Web.UI.Point(dS+ef.left+ga.nx.scrollLeft,eo+ef.top+ga.nx.scrollTop);}else{return;}};function TO(aD){var ga=aD.igElements;var ef=null;if(!aD|| !ga|| !ga.mT){return null;}if(ga.mT.getBoundingClientRect){try{ef=ga.mT.getBoundingClientRect();}catch(ar){return;}}else{var ez=ga.mT;var tq=document.documentElement;ef={left:tq.clientLeft-tq.scrollLeft,top:tq.clientTop-tq.scrollTop};ez=ez.offsetParent;while(ez){ef.top+=ez.offsetTop-ez.scrollTop;ef.left+=ez.offsetLeft-ez.scrollLeft;ez=ez.offsetParent;}}return ef;};function aha(){var da=J.lD();var KZ=da.id;var xE;var xj;var ni;var Xt;var Wi;var aq=false;var aD;var nD=[];var tW= -1;var hl=0;var pd;var De;var Ak;var kU=0;var cV=0;var so=null;var wT=null;if(bv===''){bx=gD({width:'100%',height:'100%',position:'relative',margin:'0px',overflow:'auto',textAlign:'center'});bx.className='pccPageListContainerWrapper';bx.tabIndex=2;var ZJ=function(dS,eo){return IPCC.C.getPageFromPoint(dS,eo,bx)||false;};var aaH=function(aD,dS,eo){var ga=aD.igElements;var ef=TO(aD);if(ef&&(ef.right-ef.left)>0&&(ef.bottom-ef.top)>0){return new IPCC.Web.UI.Point(dS-ef.left-ga.nx.scrollLeft,eo-ef.top-ga.nx.scrollTop);}else{return;}};var apx=function(om){om.Kf([new IPCC.jN(IPCC.Web.UI.MarkType.Text)]);};var aqG=function(om){om.set_mouseTool(IPCC.Web.UI.MouseTool.None);};var ML=false,aFR="";var akI=function aGE(ar,im,aS){if(im.match(/edit/)){ML=true;return;}apx(aS.aQ);ML=true;aFR=im;aS.aQ.Gs("touchstart",ar);};var ajU=function(aS){ML=false;aqG(aS.aQ);};var Yd=function(ar){if(ar.target&&ar.target.attributes&&ar.target.getAttribute('data-pcc-mark')){return ar.target;}else if(ar.target.parentElement&&ar.target.parentElement.attributes&&ar.target.parentElement.getAttribute('data-pcc-mark')){return ar.target.parentElement;}else if(ar.target.parentNode&&ar.target.parentNode.attributes&&ar.target.parentNode.getAttribute('data-pcc-mark')){return ar.target.parentNode;}else{return undefined;}};var YB=function(ar){var dO=Yd(ar);if(dO){return dO.getAttribute('data-pcc-mark');}return undefined;};var afh=function(om){if(om&&om.dV()){om.dV().Cs(function(K){K.set_selected(false);});om.display();}};var MQ,abL=false;var Nc=function(ar,F){var lP={cv:undefined,K:undefined,bF:null};var lo=Yd(ar);if(lo){if(typeof aD!=='undefined'&&aD!==false&&aD.aQ&&aD.igElements&&aD.aQ.fv()===true){lP.bF=aD.aQ.nJ();}if(lo.ImGearMarkRelation){lP.cv='mark';lP.K=lo.ImGearMarkRelation.K;lP.XN=lP.K.get_selected();return lP;}else{while(!(lo.ImGearMarkRelation)&&lo.parentNode&&lo!==document.body){lo=lo.parentNode;if(lo.ImGearMarkRelation){lP.cv='mark';lP.K=lo.ImGearMarkRelation.K;lP.XN=lP.K.get_selected();return lP;}}}}if(typeof aD!=='undefined'&&aD!==false&&aD.aQ&&aD.igElements&&aD.aQ.fv()===true){lP.bF=aD.aQ.nJ();var bF=0;for(bF=0;bF<aJ.length;bF++){if(aJ[bF].bi===aD.id){if(typeof F.targetType==='undefined'||F.targetType===null){lP.cv='page';return lP;}break;}}}return lP;};var PQ=function(bF,rs,lp,aAh){if(bh===null||bh===undefined){return;}var XI=false;if(rs===undefined){rs=bh.rs;XI=true;}if(lp===undefined){lp=bh.lp;XI=true;}var K;var aS=document.getElementById(aJ[bF].bi);if(aAh===true){K=bh.wi;}else{K=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);K.set_rectangle({x:0,y:0,width:0,height:0});K.du=127;K.cw='#3366CC';K.am=null;aS.aQ.nm().addMark(K);}K.set_selected(true);if(XI===true){if(bh.hG===bh.gJ){K.aU=hl;K.cD=lp-hl+1;K.lq=true;K.kG=true;aS.aQ.display();}else if(bF===bh.hG){K.aU=hl;K.cD=aS.aQ.dF().hI().ec()-1-rs;K.lq=true;K.kG=false;aS.aQ.display();}else if(bF===bh.gJ){K.aU=0;K.cD=lp+1;K.lq=false;K.kG=true;aS.aQ.display();}else{K.aU=0;K.cD=aS.aQ.dF().hI().ec()-1-hl;K.lq=false;K.kG=false;}}else{if(bh.hG===bh.gJ){K.lq=true;K.kG=true;}else if(bF===bh.hG){K.lq=true;K.kG=false;}else if(bF===bh.gJ){K.lq=false;K.kG=true;}else{K.lq=false;K.kG=false;}}bh.fb[bF]=K;};var ahV=function(dO,bf,dB,MA){if(dO){var Nx=dO.getBoundingClientRect();bf=IPCC.C.MR(bf,Nx.left+MA);bf=IPCC.C.MX(bf,Nx.right-MA);dB=IPCC.C.MR(dB,Nx.top+MA);dB=IPCC.C.MX(dB,Nx.bottom-MA);}return{x:bf,y:dB};};var kY=function(ar){if(Ak){if(Ak.clientX===ar.clientX&&Ak.clientY===ar.clientY){if(ar.rawEvent.preventDefault){ar.rawEvent.preventDefault();}else if(ar.preventDefault){ar.preventDefault();}if(ar.rawEvent.stopPropagation){ar.rawEvent.stopPropagation();}else if(ar.stopPropagation){ar.stopPropagation();}abL=true;Ak=undefined;return false;}}MQ=ar;aaL(ar,ar.clientX,ar.clientY,ar.button);};var abi=function(ar,F){ni=Nc(ar,F);};var aaL=function(ar,dS,eo,nz){var F=new IPCC.Web.UI.MouseEventArgs();aD=ZJ(dS,eo);abi(ar,F);var im;var lo=Yd(ar);if(lo){im=lo.getAttribute('data-pcc-mark');}var SX=false;var Lk=im&&im.substring(0,10);if(im&&Lk==='texthandle'){De=true;SX=true;Lk=im.substring(10,13);var K=lo.parentNode.ImGearMarkRelation.K;if(bh&&K.am===null){nD=bh.tg.slice();nD[F.pageIndex]=undefined;}else{bh=null;nD=[];J.um();}var alf=function(aAt){hl=bh.rs;var h;for(h=bh.gJ;h>=bh.hG;h--){var aS=document.getElementById(aJ[h].bi);if(aS.aQ===undefined||aS.aQ===null){continue;}var AS=hl;if(h!==bh.hG){AS=0;}var pV;if(h===bh.gJ){pV=bh.lp;}else{pV=aS.aQ.get_textPage().hI().ec()-1;}aAt(aS,AS,pV);if(h!==bh.pj){PQ(h);}}so=bD;bD=IPCC.Web.UI.MouseTool.SelectText;aq=true;};var h,bF,aO,LL,fl,sr,cO;if(Lk==='sta'){if(bh===null||bh===undefined){bF=K.bF;bh={};bh.fb=[];bh.hG=bF;bh.rs=K.aU;hl=K.aU;while(bF<aJ.length){aO=aJ[bF].aO;LL=aO.get_markCount();for(h=0;h<LL;h++){fl=aO.getMark(h);if(K.bn===fl.bn&&fl.get_type()===K.get_type()){bh.fb[bF]=fl;for(sr=fl.am.length-1;sr>=0;sr--){if(fl.am[sr].set_visible){fl.am[sr].set_visible(false);}else{fl.set_visible(false);break;}}if(bF===K.bF){wT=fl;}else{nD[bF]=cO.substring(fl.aU,fl.cD);fl.set_selected(false);}cO=fl.cO.substring(fl.cD);if(fl.kG===true){bh.lp=fl.aU+fl.cD-1;bh.gJ=bF;break;}}}bF++;}}pd=bh.lp+1;kU=bh.gJ;var apw=function(aS,AS,pV){aS.aQ.showEmptyTextSelection(pV+1);aS.aQ.extendTextSelection(undefined);aS.aQ.extendTextSelection(pV);aS.aQ.extendTextSelection(AS);};bh.fb[bh.hG].ym=true;bh.pj=bh.hG;bh.wi=bh.fb[bh.hG];alf(apw);}else if(Lk==='end'){if(bh===null||bh===undefined){bF=K.bF;bh={};bh.fb=[];bh.gJ=bF;bh.lp=K.aU+K.cD-1;while(bF>=0){aO=aJ[bF].aO;LL=aO.get_markCount();for(h=0;h<LL;h++){fl=aO.getMark(h);if(K.bn===fl.bn&&fl.get_type()===K.get_type()){bh.fb[bF]=fl;for(sr=fl.am.length-1;sr>=0;sr--){if(fl.am[sr].set_visible){fl.am[sr].set_visible(false);}else{fl.set_visible(false);break;}}if(bF===K.bF){cO=fl.cO;}else{nD[bF]=cO.substring(cO.length-fl.cD);fl.set_selected(false);}cO=fl.cO.substring(0,cO.length-fl.cD);if(fl.lq===true){bh.rs=fl.aU;hl=fl.aU;bh.hG=bF;wT=fl;break;}}}bF--;}}pd=bh.rs;kU=bh.hG;var aqr=function(aS,AS,pV){aS.aQ.showEmptyTextSelection(AS);aS.aQ.extendTextSelection(undefined);aS.aQ.extendTextSelection(AS);aS.aQ.extendTextSelection(pV);};bh.fb[bh.gJ].ym=true;bh.pj=bh.gJ;bh.wi=bh.fb[bh.gJ];alf(aqr);}if(wT){aD.aQ.display();}}var xg=ar.target.tagName&&ar.target.tagName.toLowerCase()==='textarea';if(xg){return;}var yJ=ar.target.tagName&&ar.target.tagName.toLowerCase()==='input'&&ar.target.type&&ar.target.type.toLowerCase()==='text';if(yJ){return;}if(bD===IPCC.Web.UI.MouseTool.HandPan&&zN&&im&&SX===false){if(!ni||ni.K.get_interactionMode()!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){akI(ar,im,aD);return;}}var ca;var fC;if(aD!==false&&aD.aQ&&aD.igElements&&aD.aQ.fv()===true){var bp=0;for(bp=0;bp<aJ.length;bp++){if(aJ[bp].bi===aD.id){F.pageIndex=bp;break;}}F.pointLiesWithinImage=true;fC=aaH(aD,dS,eo);if(fC){ca=aD.aQ.Nl(fC,false);F.imagePoint=ca;F.constrainedImagePoint=ca;}else{F.pointLiesWithinImage=false;}}else{F.pointLiesWithinImage=false;}F.domEvent=ar;F.windowPoint=new IPCC.Web.UI.Point(dS,eo);if(SX===true){tW= -1;cV=F.pageIndex;ar.preventDefault();J.ae('mouseDown',F);return;}switch(bD){case IPCC.Web.UI.MouseTool.None:ar.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:ar.preventDefault();xE=eo;xj=dS;Xt=bx.scrollTop;Wi=bx.scrollLeft;aq=true;J.zk(bv,'grabbing');if(aD&&aD.aQ){J.zk(aD,'grabbing');aD.aQ.set_cursor('grabbing');aD.aQ.display();}break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:ar.preventDefault();if(nz===0&&aD&&aD.aQ&&ca){J.um();nD=[];tW= -1;De=undefined;var dC=aD.aQ.transformPagePointToTextIndex(ca);hl=dC;pd=dC;aq=true;if(dC===undefined){J.ae('mouseDown',F);return;}aD.aQ.showEmptyTextSelection(dC);aD.aQ.extendTextSelection(undefined);aD.aQ.extendTextSelection(dC);aD.aQ.display();kU=F.pageIndex;cV=F.pageIndex;}break;case IPCC.Web.UI.MouseTool.Magnifier:ar.preventDefault();if(nz===0&&aD&&aD.aQ&&fC){var kK=IPCC.bG.fg(IPCC.bG.None);bv.style.cursor=kK;aD.aQ.showMagnifier(fC);aD.aQ.display();}aq=true;break;case IPCC.Web.UI.MouseTool.RectangleZoom:ar.preventDefault();if(nz===0&&aD&&aD.aQ&&ca){aq=true;xE=fC.y;xj=fC.x;aD.aQ.showEmptySelection(ca);aD.aQ.display();}break;}J.ae('mouseDown',F);};var kP=function(ar){aas(ar,ar.clientX,ar.clientY,ar.button);};var adN=function(F,dS,eo,cz){F.windowPoint=new IPCC.Web.UI.Point(dS,eo);cz=ZJ(dS,eo);var ca,fC;if(cz!==false&&cz.aQ&&cz.igElements&&cz.aQ.fv()===true){F.pointLiesWithinImage=true;fC=aaH(cz,dS,eo);if(fC){ca=cz.aQ.Nl(fC,false);F.imagePoint=ca;F.constrainedImagePoint=ca;}else{F.pointLiesWithinImage=false;}}else{F.pointLiesWithinImage=false;}return{F:F,dS:dS,eo:eo,cz:cz,ca:ca,fC:fC};};var aas=function(ar,dS,eo,nz){var xg=ar.target.tagName&&ar.target.tagName.toLowerCase()==='textarea';if(xg){return;}var yJ=ar.target.tagName&&ar.target.tagName.toLowerCase()==='input'&&ar.target.type&&ar.target.type.toLowerCase()==='text';if(yJ){return;}var F=new IPCC.Web.UI.MouseEventArgs();var ca,fC,cz;var GI=function(dS,eo){var nG=adN(F,dS,eo,cz);F=nG.F;F.domEvent=ar;dS=nG.dS;eo=nG.eo;cz=nG.cz;ca=nG.ca;fC=nG.fC;};GI(dS,eo);var lo=Nc(ar,F);if(lo&&lo.K){F.mark=lo.K;}var kK;switch(bD){case IPCC.Web.UI.MouseTool.None:ar.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:ar.preventDefault();if(aq){var asf=eo;var arB=dS;var ayH=xE-asf;var ayD=xj-arB;bx.scrollTop=Xt+ayH;bx.scrollLeft=Wi+ayD;}break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:ar.preventDefault();if(aq){if(nz!==0){Bu();}var jc;if(!cz){J.ae('mouseMove',F);return;}if(hl===undefined){aD=cz;}else if(cz!==aD&&cz.aQ&&fC){tW= -1;var jH=0;var h=0;for(h=0;h<aJ.length;h++){if(aJ[h].bi===cz.id){jH=h;break;}}if(jH>cV){if(jH>kU){jc=aD.aQ.get_textPage().hI().ec()-1;if(jc<0){Bu();J.ae('mouseMove',F);return;}aD.aQ.extendTextSelection(jc);if(bh){jc=aD.aQ.get_textPage().hI().ec()-1;bh.fb[cV].set_startIndex(aD.aQ.PY());bh.fb[cV].set_textLength(aD.aQ.Ca());bh.gJ=jH;hl=aD.aQ.PY();}nD[cV]=aD.aQ.getSelectedText();cz.aQ.showEmptyTextSelection(0);cz.aQ.extendTextSelection(undefined);tW=0;aD.aQ.display();aD=cz;}else{hl=0;nD[cV]=undefined;nD[jH]=undefined;aD.aQ.showEmptyTextSelection(0);aD.aQ.extendTextSelection(undefined);if(bh&&bh.fb[cV]){bh.fb[cV].lq=false;}aD.aQ.display();aD=cz;if(bh&&bh.fb[cV]){bh.fb[cV]=undefined;bh.hG=jH;bh.fb[jH].set_startIndex(0);bh.fb[jH].set_textLength(bh.fb[jH].get_startIndex()+bh.fb[jH].get_textLength());bh.fb[jH].lq=true;aD.aQ.display();}}}else if(jH<cV){if(jH<kU){jc=aD.aQ.get_currentTextIndex();if(jc!==0){aD.aQ.extendTextSelection(0);}if(bh){bh.fb[cV].set_startIndex(aD.aQ.PY());bh.fb[cV].set_textLength(aD.aQ.Ca());bh.hG=jH;}nD[cV]=aD.aQ.getSelectedText();aD.aQ.display();jc=cz.aQ.dF().hI().ec()-1;tW=jc;hl=0;cz.aQ.showEmptyTextSelection(jc+1);cz.aQ.extendTextSelection(undefined);aD=cz;aD.aQ.display();}else{nD[cV]=undefined;nD[jH]=undefined;aD.aQ.showEmptyTextSelection(0);aD.aQ.extendTextSelection(undefined);if(bh&&bh.fb[cV]){bh.fb[cV].kG=false;}aD.aQ.display();aD=cz;if(bh&&bh.fb[cV]){bh.fb[cV]=undefined;bh.gJ=jH;jc=aD.aQ.dF().hI().ec()-1;bh.fb[jH].set_textLength(cz.aQ.Ca());bh.fb[jH].kG=true;aD.aQ.display();}}}cV=jH;}var axf=(cV<kU),axe=(cV>kU);if(aD&&aD.aQ&&aD.aQ.fv()===true&&fC){fC=aaH(aD,dS,eo);ca=aD.aQ.Nl(fC,false);var dC=aD.aQ.transformPagePointToTextIndex(ca);if(hl===undefined){hl=dC;pd=dC;if(dC===undefined){J.ae('mouseMove',F);return;}aD.aQ.showEmptyTextSelection(dC);aD.aQ.extendTextSelection(undefined);aD.aQ.extendTextSelection(dC);aD.aQ.display();var as=0;for(as=0;as<aJ.length;as++){if(aJ[as].bi===aD.id){kU=as;cV=as;break;}}}else{if(hl=== +hl&&dC=== +dC){if(axf){hl=dC;}else if(!axe){hl=Math.min(pd,dC);}}}jc=aD.aQ.get_currentTextIndex();if(jc===dC||dC===undefined){J.ae('mouseMove',F);return;}if(tW!== -1){if(dC!==tW){aD.aQ.extendTextSelection(tW);}tW= -1;}if((dC>pd&&cV===kU)||cV>kU){if(bh){if(bh.fb[cV]===undefined||bh.fb[cV]===null){PQ(cV,0,0,cV===bh.pj);if(cV-1>=0&&bh.fb[cV-1]){bh.fb[cV-1].kG=false;document.getElementById(aJ[cV-1].bi).aQ.display();}}bh.fb[cV].kG=true;}if(De===undefined){De=false;}}else if(dC<pd||cV<kU){if(bh){if(bh.fb[cV]===undefined||bh.fb[cV]===null){PQ(cV,aD.aQ.dF().hI().ec()-1,0,cV===bh.pj);if(bh.fb[cV+1]){bh.fb[cV+1].lq=false;document.getElementById(aJ[cV+1].bi).aQ.display();}}bh.fb[cV].lq=true;}if(De===undefined){De=true;pd++;aD.aQ.showEmptyTextSelection(pd);aD.aQ.extendTextSelection(undefined);var pV=aD.aQ.dF().hI().ec();if(pd>=pV){aD.aQ.extendTextSelection(pV-1);}else{aD.aQ.extendTextSelection(pd);}}}aD.aQ.extendTextSelection(dC);if(bh&&bh.fb[cV]){bh.fb[cV].set_startIndex(aD.aQ.PY());bh.fb[cV].set_textLength(aD.aQ.Ca());}aD.aQ.display();}}break;case IPCC.Web.UI.MouseTool.Magnifier:ar.preventDefault();if(aq){if(nz!==0||(aD&&aD.aQ&&aD!==cz)){aD.aQ.hideMagnifier();kK=IPCC.bG.fg(IPCC.bG.Magnifier);bv.style.cursor=kK;aD.aQ.display();}if(cz&&cz.aQ&&fC){aD=cz;kK=IPCC.bG.fg(IPCC.bG.None);bv.style.cursor=kK;cz.aQ.showMagnifier(fC);cz.aQ.display();}}break;case IPCC.Web.UI.MouseTool.RectangleZoom:ar.preventDefault();if(aq){var FA=ahV(aD,dS,eo,1);GI(FA.x,FA.y);if(cz&&cz.aQ&&ca&&cz===aD){if(nz!==0){cz.aQ.hideSelection();cz.aQ.display();aq=false;}else{cz.aQ.extendSelection(ca);cz.aQ.display();}}}break;}J.ae('mouseMove',F);};var jV=function(ar){if(abL!==true){YY(ar,ar.clientX,ar.clientY);}else{abL=false;}};var agh=function(ar,F){F.upTargetType=null;var DN=Nc(ar,F);F.originalEvent=ar.rawEvent;F.clientX=ar.clientX;F.clientY=ar.clientY;F.downTarget={type:undefined,pageIndex:undefined};if(typeof ni!=='undefined'&&typeof ni.cv!=='undefined'){F.downTarget.type=ni.cv;}if(typeof ni!=='undefined'&&typeof ni.bF!=='undefined'){F.downTarget.pageIndex=ni.bF;}if(typeof ni!=='undefined'&&typeof ni.XN!=='undefined'){F.downTarget.alreadySelected=ni.XN;}F.downMark=(typeof ni!=='undefined')?ni.K:undefined;F.upMark=DN.K;switch(DN.cv){case 'page':case 'mark':F.upTarget={type:DN.cv,pageIndex:DN.bF};break;}if(F.pointLiesWithinImage===false&&DN.cv==='page'){DN.bF= -1;}};var YY=function(ar,dS,eo){var F=new IPCC.Web.UI.MouseEventArgs();var cz;var ca;var fC;var GI=function(dS,eo){var nG=adN(F,dS,eo,cz);F=nG.F;F.domEvent=ar;dS=nG.dS;eo=nG.eo;cz=nG.cz;ca=nG.ca;fC=nG.fC;};GI(dS,eo);if(ar){agh(ar,F);J.ae('mouseUp',F);}ni=undefined;var kK;switch(bD){case IPCC.Web.UI.MouseTool.None:ar.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:ar.preventDefault();if(aq){xj=undefined;xE=undefined;Xt=undefined;Wi=undefined;aq=false;kK='move';J.zk(bv,'grab');if(aD&&aD.aQ){J.zk(aD,'grab');aD.aQ.set_cursor('grab');aD.aQ.display();}}break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:if(ar){ar.preventDefault();}if(aq){var pN=new IPCC.Web.UI.TextSelectedEventArgs(),jd=[],h,wk,Ag;var lp;var Ib=aD.aQ.getSelectedText();var tg=nD.slice();if(Ib.length>0){tg[cV]=aD.aQ.getSelectedText();}else{if(cV>kU){cV--;aD=document.getElementById(aJ[cV].bi);if(tg[cV]){Ib=tg[cV];}}else if(cV<kU){cV++;aD=document.getElementById(aJ[cV].bi);if(tg[cV]){Ib=tg[cV];}}}pN.text=tg.join('');var RY=true;if(cV>=kU){if(cV===kU){if(aD.aQ.get_currentTextIndex()>=pd){RY=false;}lp=hl+Ib.length-1;}else{lp=Ib.length-1;}if(lp<0){lp=0;}wk=kU;Ag=cV;}else{RY=false;lp=pd-1;wk=cV;Ag=kU;}for(h=wk;h<=Ag;h++){jd.push(h);}if(pN.text.length===0){Bu();jd=[];}pN.pageNumbers=jd;pN.clientX=dS;pN.clientY=eo;if(hl!==undefined){if(bD===IPCC.Web.UI.MouseTool.SelectText){var atz=function(aS,yZ){var Fg=aS.aQ.dF();var fO=Fg.hI();var fI=fO.kT(yZ);return fI.tC();};var jc=aD.aQ.get_currentTextIndex();var Pr=atz(aD,jc);var fw=0,eN=0;if(RY===false){fw=Pr.width;eN=Pr.height;}var Bj=aD.aQ.transformPagePointToWindow(new IPCC.Web.UI.Point(Pr.x+fw,Pr.y+eN),true);var ct=aaF(aD,Bj.x,Bj.y);pN.handleClientX=ct.x;pN.handleClientY=ct.y;}var avx=bh===undefined||bh===null;if(wT){pN.previousFirstMark=wT;pN.firstMark=bh.fb[wk];if(bh.pj<wk||bh.pj>Ag){var GU=document.getElementById(aJ[bh.pj].bi);if(GU.aQ){GU.aQ.nm().removeMark(bh.wi);}}bh.wi.ym=false;J.um();if(so!==null){bD=so;}so=null;}else if(avx===true){if(bD===IPCC.Web.UI.MouseTool.SelectText){bh={hG:wk,rs:hl,gJ:Ag,lp:lp,tg:tg.slice(),fb:[]};for(h=0;h<jd.length;h++){PQ(jd[h]);}}else{J.um();}}else{if(bh.pj<wk||bh.pj>Ag){var adU=document.getElementById(aJ[bh.pj].bi);if(adU.aQ){adU.aQ.nm().removeMark(bh.wi);}}bh.wi.ym=false;bh.hG=wk;bh.rs=hl;bh.gJ=Ag;bh.lp=lp;bh.tg=tg.slice();if(so!==null){bD=so;}so=null;}pN.mouseTool=bD;pN.startIndex=hl;J.ae('selectTextMouseToolCompleted',pN);if(wT){wT=null;bh=null;}}aq=false;}break;case IPCC.Web.UI.MouseTool.Magnifier:ar.preventDefault();if(cz&&cz.aQ){cz.aQ.hideMagnifier();kK=IPCC.bG.fg(IPCC.bG.Magnifier);bv.style.cursor=kK;cz.aQ.display();}aq=false;break;case IPCC.Web.UI.MouseTool.RectangleZoom:ar.preventDefault();var FA=ahV(aD,dS,eo,1);GI(FA.x,FA.y);if(aq&&fC){var Eu=0;var DZ=0;var TQ=0;var TU=0;if(fC.x<xj){Eu=xj-fC.x;TQ=fC.x+Eu/2;}else{Eu=fC.x-xj;TQ=xj+Eu/2;}if(fC.y<xE){DZ=xE-fC.y;TU=fC.y+DZ/2;}else{DZ=fC.y-xE;TU=xE+DZ/2;}var adM=bx.clientWidth/Eu;var acN=bx.clientHeight/DZ;var pQ=adM;if(adM>acN){pQ=acN;}if(cz&&cz.aQ){cz.aQ.oG();cz.aQ.display();}aq=false;if(Eu*2+DZ*2>25){J.anK(pQ,TQ,TU,cz);}}break;}var xg=false;var yJ=false;if(ar){xg=ar.target.tagName&&ar.target.tagName.toLowerCase()==='textarea';yJ=ar.target.tagName&&ar.target.tagName.toLowerCase()==='input'&&ar.target.type&&ar.target.type.toLowerCase()==='text';}if(ML&& !xg&& !yJ){ajU(aD);}else if(bD===IPCC.Web.UI.MouseTool.HandPan&&MQ&& !xg&& !yJ&&ar&&MQ.clientX===ar.clientX&&MQ.clientY===ar.clientY&&ar.shiftKey!==true&&ar.ctrlKey!==true){afh(aD.aQ);}};var aEb=function(){var kK;switch(bD){case IPCC.Web.UI.MouseTool.None:break;case IPCC.Web.UI.MouseTool.HandPan:J.zk(bv,'grab');aq=false;break;case IPCC.Web.UI.MouseTool.SelectText:Bu();break;case IPCC.Web.UI.MouseTool.Magnifier:if(aD&&aD.aQ){aD.aQ.hideMagnifier();kK=IPCC.bG.fg(IPCC.bG.Magnifier);bv.style.cursor=kK;aD.aQ.display();}aq=false;break;case IPCC.Web.UI.MouseTool.RectangleZoom:if(aD&&aD.aQ){aD.aQ.hideSelection();aD.aQ.display();aq=false;}break;}};var aCT=function(){aEb();};var aDI=function(){if(bD===IPCC.Web.UI.MouseTool.Magnifier){if(aD&&aD.aQ){aD.aQ.hideMagnifier();var kK=IPCC.bG.fg(IPCC.bG.Magnifier);bv.style.cursor=kK;aD.aQ.display();}aq=false;}else if(bD===IPCC.Web.UI.MouseTool.RectangleZoom){if(aD&&aD.aQ){aD.aQ.hideSelection();aD.aQ.display();aq=false;}}else if(bD===IPCC.Web.UI.MouseTool.SelectText){Bu();}};var mo=function(ar){if(ar.ctrlKey){switch(bD){case IPCC.Web.UI.MouseTool.None:break;case IPCC.Web.UI.MouseTool.SelectText:break;default:break;case IPCC.Web.UI.MouseTool.HandPan:var OQ=ar.rawEvent.wheelDelta;ar.preventDefault();if(OQ<0){J.zoomOut(1.5);}else{J.zoomIn(1.5);}break;}}else{ar.preventDefault();bx.scrollTop-=ar.rawEvent.wheelDelta*0.72;}if(bD===IPCC.Web.UI.MouseTool.Magnifier){if(aD&&aD.aQ){aD.aQ.hideMagnifier();var kK=IPCC.bG.fg(IPCC.bG.Magnifier);bv.style.cursor=kK;aD.aQ.display();}aq=false;}else if(bD===IPCC.Web.UI.MouseTool.RectangleZoom){if(aD&&aD.aQ){aD.aQ.hideSelection();aD.aQ.display();aq=false;}}else if(bD===IPCC.Web.UI.MouseTool.SelectText){Bu();}};var aDA=function(az){var F=new IPCC.Web.UI.MouseEventArgs();F.upTarget={type:'comments',element:az.target};F.downTarget={type:'comments',element:az.target};F.originalEvent=az.rawEvent;F.clientX=az.clientX;F.clientY=az.clientY;F.pageIndex=undefined;J.ae('mouseUp',F);};var Bu=function(){if(aq===true){if(bh&&bh.pj!==undefined){if(wT){YY(null,0,0);return;}else{var GU=document.getElementById(aJ[bh.pj].bi);if(GU.aQ){GU.aQ.nm().removeMark(bh.wi);}bh.wi.ym=false;}}J.um();wT=null;aq=false;if(so!==null){bD=so;}so=null;}};By=gD({position:'relative',width:'auto',height:'auto',display:'table',tableLayout:'fixed',borderSpacing:'0px',margin:'0px auto',clear:'both',boxSizing:'border-box'});if(dk===IPCC.ViewMode.SinglePage){bv=gD({position:'relative',whiteSpace:'nowrap',width:'auto',height:'auto',overflow:'hidden'});bv.className='pccPageListContainer pccSinglePageView';}else{bv=gD({position:'relative',whiteSpace:'nowrap',width:'auto',height:'auto',display:'table-cell',verticalAlign:'top'});bv.className='pccPageListContainer';}IPCC.Web.UI.bI.addHandler(bx,"mousedown",kY);IPCC.Web.UI.bI.addHandler(bx,"mouseup",jV);IPCC.Web.UI.bI.addHandler(bx,"mousemove",kP);IPCC.Web.UI.bI.addHandler(bx,"mouseleave",aCT);IPCC.Web.UI.bI.addHandler(bx,"mousewheel",mo);IPCC.Web.UI.bI.addHandler(bx,"DOMMouseScroll",aDI);bx.onscroll=(! !II)?awj:avb;bv.setAttribute('id',KZ+'_ListContainer');bx.setAttribute('id',KZ+'_ListWrapper');aow=KZ+'_ListWrapper';jQ=gD();jQ.className='pccPageListComments pccHidden';jQ.setAttribute('id',KZ+'_CommentsPanel');var WO=[];if(IPCC.C.aBq){WO.push('touchend');}else{WO.push('click');}IPCC.C.forEach(WO,function(evName){IPCC.Web.UI.bI.addHandler(jQ,evName,aDA);});By.appendChild(bv);By.appendChild(jQ);bx.appendChild(By);da.appendChild(bx);if(navigator.userAgent.match('MSIE 10')&&document.documentMode===10){var aK='',an='',sU='',rM='',qk;var xb=function(){qk=getComputedStyle(da);sU=qk.getPropertyValue('width');rM=qk.getPropertyValue('height');if(sU!==aK||rM!==an){aK=sU;an=rM;bx.style.width=aK;bx.style.height=an;}};setInterval(xb,1000);window.addEventListener('resize',xb);xb();J.xb=xb;}var aDN=IPCC.C.Jf;if(document.documentElement.getBoundingClientRect&&Array.prototype.forEach&&aDN&&window.addEventListener&&document.querySelector){apY(bx);}var aDf=function(bv,aHD){var kW;var ZS=function(az){var dE=az.rawEvent,hj=dE.touches[0]||dE.changedTouches[0];az.clientX=hj.clientX;az.clientY=hj.clientY;az.preventDefault=function(){dE.preventDefault();};az.stopPropagation=function(){dE.stopPropagation();};return az;};var Gv=function(ia,az){var F=new IPCC.Web.UI.MouseEventArgs(),Et=(ia==='touchstart')?'mouseDown':(ia==='touchend')?'mouseUp':null;var EI=(ia==='touchstart')?aaL:(ia==='touchmove')?aas:(ia==='touchend')?YY:null;kW=ZJ(az.clientX,az.clientY);if(ia==='doubleTap'){kW&&kW.aQ&&kW.aQ.Gs(ia,az);}var im;im=YB(az);if(im){if(im.substring(0,5)==='texth'){az.preventDefault();az.stopPropagation();if(ia==='touchstart'){Ak=az;}EI&&EI(az,az.clientX,az.clientY,0);return;}}switch(bD){case IPCC.Web.UI.MouseTool.CreateLineMark:case IPCC.Web.UI.MouseTool.CreatePolylineMark:case IPCC.Web.UI.MouseTool.CreateRectangleMark:case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:case IPCC.Web.UI.MouseTool.CreateEllipseMark:case IPCC.Web.UI.MouseTool.CreateTextMark:case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:case IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark:case IPCC.Web.UI.MouseTool.CreateStampMark:case IPCC.Web.UI.MouseTool.CreateFreehandMark:case IPCC.Web.UI.MouseTool.EditMarks:case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:kW&&kW.aQ&&kW.aQ.Gs(ia,az);if(Et==='mouseUp'){agh(az,F);}else if(Et==='mouseDown'){abi(az,F);}J.ae(ia,F);break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:az.preventDefault();az.stopPropagation();if(ia==='touchstart'){Ak=az;if(im){J.um();break;}}EI&&EI(az,az.clientX,az.clientY,0);break;case IPCC.Web.UI.MouseTool.Magnifier:case IPCC.Web.UI.MouseTool.RectangleZoom:az.preventDefault();az.stopPropagation();if(ia==='touchstart'){Ak=az;}EI&&EI(az,az.clientX,az.clientY,0);break;case IPCC.Web.UI.MouseTool.HandPan:if(im===undefined){im=YB(az);}var V=Nc(az,{});if(im&&zN){if(!V||V.K.get_interactionMode()!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){if(ia==='touchstart'){akI(az,im,kW);}else if(ia==='touchmove'){kW&&kW.aQ&&kW.aQ.Gs(ia,az);}else if(ia==='touchend'){kW&&kW.aQ&&kW.aQ.Gs(ia,az);ajU(kW);}}}break;}};var Bi,Af,uN;var aDJ=function(az){if(az.rawEvent.touches.length>1){clearTimeout(uN);uN=Af=Bi=undefined;return;}az=ZS(az);Bi=az;if(bD===IPCC.Web.UI.MouseTool.CreatePolylineMark){az.preventDefault();}Af=function(){Gv('touchstart',az);uN=Af=Bi=undefined;};uN=setTimeout(function(){Af();},200);};var JF,Bw;var aDZ=function(az){az=ZS(az);st=false;var axr=function(){if(!Bw){return false;}var eg=Bw.clientX-az.clientX;var dU=Bw.clientY-az.clientY;var gd=eg*eg+dU*dU;return gd<2500;};var adL=function(){JF=Bw=undefined;var im=YB(az);if(!im&&bD===IPCC.Web.UI.MouseTool.HandPan&&zN&&kW){afh(kW.aQ);}};var amq=function(){var ahi=Af;if(JF&&axr()){clearTimeout(JF);Bw=JF=undefined;ahi();Gv('touchend',az);Gv('doubleTap',az);}else{JF=setTimeout(function(){ahi();Gv('touchend',az);adL();},300);Bw=az;}};if(Bi&&uN){clearTimeout(uN);if(bD===IPCC.Web.UI.MouseTool.CreatePolylineMark){amq();}else{adL();}uN=Af=Bi=undefined;return;}Gv('touchend',az);};var alo,st=false;var aEw=function(az){if(az.rawEvent.touches.length>1){return;}alo=az;if(Bi&&uN){clearTimeout(uN);Af();}awi();};function awi(){var az=ZS(alo);Gv('touchmove',az);};IPCC.Web.UI.bI.addHandler(bv,"touchstart",aDJ);IPCC.Web.UI.bI.addHandler(bv,"touchmove",aEw);IPCC.Web.UI.bI.addHandler(bv,"touchend",aDZ);};aDf(bv,jQ);}};function apY(hy){var adZ=function(){},cf=1;function adJ(afd,acK,gS,azq){hy.style['-ms-transform']=afd;hy.style['-moz-transform']=afd;hy.style['-webkit-transform']=acK;hy.style['transform']=acK;hy.style['-ms-transform-origin']=gS;hy.style['-moz-transform-origin']=gS;hy.style['-webkit-transform-origin']=gS;hy.style['transform-origin']=gS;hy.style.overflow=azq||'';};function adv(){adJ('scale(1,1) translate(0px,0px)','scale3d(1,1,1) translate3d(0px,0px,0px)','0% 0%','auto');};adv();function awD(pQ,gK,QI,uU,aez){var fw=(-gK.x/pQ)-QI.x,eN=(-gK.y/pQ)-QI.y,azp="scale3d("+pQ+","+pQ+",1) translate3d("+fw+"px,"+eN+"px,0px)",aCp="scale("+pQ+", "+pQ+") translate("+fw+"px,"+eN+"px)";var aoY=aez.x+'px '+aez.y+'px';adJ(aCp,azp,aoY,'visible');adZ=function(){var af=hy.getBoundingClientRect();var Tl={x:(hy.clientWidth/2+ -af.left+uU.left)/pQ,y:(hy.clientHeight/2+ -af.top+uU.top)/pQ};if(ew===IPCC.PageLayout.VerticalScrollDirection&&uU.aaZ){Tl.x=Tl.x-(uU.aaZ/2);}adv();J.Qq(pQ,Tl,undefined,IPCC.ScaleTrigger.Pinch);xn=false;};return hy;};function acq(x,y,x0,y0){return Math.sqrt((x-=x0)*x+(y-=y0)*y);};function aei(x,y,x0,y0){return{x:(x+x0)/2,y:(y+y0)/2};};function azL(agK,Hk){return{x:agK.x-Hk.x,y:agK.y-Hk.y};};var XJ=false;hy.addEventListener('touchstart',function(ev){if(xn){return;}if(!XJ&&ev.touches.length===2){adq(ev);}});var standardizeMSTouch=function(ev){var event={};event.identifier=ev.pointerId;event.x=event.clientX=ev.clientX;event.y=event.clientY=ev.clientY;event.preventDefault=ev.preventDefault;event.stopPropagation=ev.stopPropagation;event.rawEvent=ev;event.touches=[event];event.changedTouches=[event];return event;};var yw,abU=false,ye={};PCCViewer.EventEmitter.extend(ye);hy.addEventListener(IPCC.C.pn['down'],function(az){abU=true;az=standardizeMSTouch(az);if(yw){var dE={};dE.touches=[yw,az];dE.changedTouches=[yw,az];dE.preventDefault=function(){yw.rawEvent.preventDefault();az.rawEvent.preventDefault();};dE.stopPropagation=function(){yw.rawEvent.stopPropagation();az.rawEvent.stopPropagation();};adq(dE);}else{yw=az;}});hy.addEventListener(IPCC.C.pn['move'],function(az){ye.trigger('touchmove',{rawEvent:az});});hy.addEventListener(IPCC.C.pn['up'],function(az){ye.trigger('touchend',{rawEvent:az});yw=undefined;});function adq(ev){xn=true;var QI={x:hy.scrollLeft,y:hy.scrollTop};var uU=hy.getBoundingClientRect();var oV=Sm();var GW=hy.querySelector('.pccPageListItem');if(ew===IPCC.PageLayout.VerticalScrollDirection&&GW.clientWidth<uU.width-30){uU.aaZ=uU.width-GW.clientWidth;}var gK={x:0,y:0,set:function(anj){this.x=anj.x;this.y=anj.y;return this;}};var st=false;XJ=true;ev.preventDefault();ev.stopPropagation();function NB(hj){hj.x=hj.clientX||hj.pageX||hj.screenX;hj.y=hj.clientY||hj.pageY||hj.screenY;return hj;};var kv=NB(ev.touches[0]);var xr=NB(ev.touches[1]);var vD=acq(kv.x,kv.y,xr.x,xr.y);var ach=aei(kv.x,kv.y,xr.x,xr.y);var xK,An;function Xk(az){az.preventDefault();[].forEach.call(az.changedTouches,function(t){if(t.identifier===kv.identifier){xK=NB(t);}else if(t.identifier===xr.identifier){An=NB(t);}});if(!xK|| !An){return;}var aDX=acq(xK.x,xK.y,An.x,An.y);var aDS=aei(xK.x,xK.y,An.x,An.y);cf=aDX/vD;if((ce*cf)<oV.minFactor){cf=oV.minFactor/ce;}else if((ce*cf)>oV.maxFactor){cf=oV.maxFactor/ce;}gK.set(azL(ach,aDS));if(!st){st=true;Ks();}};function WR(){XJ=false;st=false;hy.removeEventListener('touchmove',Xk);hy.removeEventListener('touchend',WR);if(abU){ye.off('touchmove',acG);ye.off('touchend',adD);}if(!xK|| !An){xn=false;return;}II(adZ);};var acG=function(az){var acR=standardizeMSTouch(az.rawEvent);acR.preventDefault=function(){};Xk(acR);};var adD=function(az){WR(standardizeMSTouch(az.rawEvent));};hy.addEventListener('touchmove',Xk);hy.addEventListener('touchend',WR);if(abU){ye.on('touchmove',acG);ye.on('touchend',adD);}function Ks(){if(st){II(function(){if(!st){return;}awD(cf,gK,QI,uU,ach);Ks();});}}}};function awj(){if(dk===IPCC.ViewMode.SinglePage){return;}if(xn){return;}if(nq){clearTimeout(nq);}if(SB){ayL(SB);}aus();nq=setTimeout(function(){nq=null;SB=II(function aHq(){if(xn){return;}pk();});},40);};function avb(){if(po===false||dk===IPCC.ViewMode.SinglePage){return;}iB(true);if(nq!==null){clearTimeout(nq);}var axH=bx.scrollHeight/aJ.length;var Qw=0;if(ew===IPCC.PageLayout.VerticalScrollDirection){Qw=bx.scrollTop;}else{Qw=bx.scrollLeft;}var azI=Qw-KE;KE=Qw;var asa=new Date().getTime();var Tn=asa-yA;if(Tn>1000){Tn=1000;}VP=azI/axH*1000/Tn;nq=setTimeout(function(){nq=null;yA=0;yA=new Date().getTime();pk();},1000);yA=new Date().getTime();if(VP!==0&&Math.abs(VP)<PJ){if(Ih&&nq!==null){clearTimeout(nq);nq=null;}yA=0;yA=new Date().getTime();setTimeout(function(){if(Ih&&nq!==null){clearTimeout(nq);nq=null;}yA=0;yA=new Date().getTime();pk();},40);}};function aCz(){function ys(ase,asq,bN,du){var FF=document.createElementNS('http://www.w3.org/2000/svg','circle');FF.setAttribute('cx',ase);FF.setAttribute('cy',asq);FF.setAttribute('r',bN);FF.setAttribute('opacity',du);return FF;};var qH=document.createElementNS('http://www.w3.org/2000/svg','svg');qH.setAttribute('viewBox','0 0 52 52');qH.appendChild(ys(26,13.813,2.813,1));qH.appendChild(ys(24,38.188,2.813,0.4));qH.appendChild(ys(13.813,26,2.813,0.1));qH.appendChild(ys(38.188,26,2.813,0.7));qH.appendChild(ys(34.618,34.618,2.813,0.55));qH.appendChild(ys(17.382,34.618,2.813,0.25));qH.appendChild(ys(34.618,17.382,2.813,0.85));return qH;};function acW(mp){var as=0;var aeo=false;var Ld;var Jk;var qH;for(as=0;as<mp.childNodes.length;as++){if(mp.childNodes[as].className==="pccPageListItemLoading"){aeo=true;}}if(aeo===false){Jk=document.createElement('div');Jk.className='pccPageListItemLoading';qH=aCz();mp.innerHTML="";mp.appendChild(Jk);Jk.appendChild(qH);if(JT.length>0){Ld=document.createElement('div');Ld.className='pccPageListItemLoadingContent';Ld.innerHTML=JT;Jk.appendChild(Ld);}}};function aus(){var ue=bx.scrollTop;var wv=bx.scrollLeft;var tL=bx.clientHeight;var tO=bx.clientWidth;var uF=bx.scrollWidth;var wZ=bx.scrollHeight;var dg=UH({ue:ue,wv:wv,tL:tL,tO:tO,uF:uF,wZ:wZ});var h=dg.acL;if(po&&uT===false&&dN!==h&&h>=0){dN=h;var F=new IPCC.PageEventArgs();F.imGearPage=J.get_currentPage();F.pageIndex=dN;F.pageNodeID=aJ[dN].bi;J.ae('currentPageChanged',F);}};function Vv(aa){var aK=aa.bS||hx;var an=aa.ba||il;if(aa.gn%180){var pD=aK;aK=an;an=pD;}var ra=aa.gB||aiI;return{aK:aK*(ce*cG/ra),an:an*(ce*cG/ra),aGe:ra,bL:aa.dh};};function Uz(azt){return IPCC.C.reduce(azt,function(fL,al,bL){fL[bL]=Vv(al);return fL;},{});};function aex(bF){var vV,FW,AR,yc,qe;if(ew===IPCC.PageLayout.VerticalScrollDirection){vV=bx.scrollTop;FW=bx.scrollHeight;AR=bx.clientHeight;yc='an';qe=ft;}else{vV=bx.scrollLeft;FW=bx.scrollWidth;AR=bx.clientWidth;yc='aK';qe=eK+fT;}var gj=Uz(aJ);var JZ=ew===IPCC.PageLayout.VerticalScrollDirection?ft:eK;var ame=false;IPCC.C.forEach(gj,function(al,bL){if(al.bL===bF){ame=true;}if(ame){return;}JZ+=al[yc]+qe;});return JZ-(qe/2);};function te(dg){var Ey=IPCC.C.map(dg.cQ,function(al){return+al.bL;}).sort();var kv=Ey[0];var lk=Ey[Ey.length-1];var ed=aJ.length;for(var h=Cx;h;h--){kv-=1;lk+=1;if(kv>=0){Ey.unshift(kv);}if(lk<ed){Ey.push(lk);}}return Ey.sort();};function Ra(dg){var kv=Math.max(dg.cQ[0].bL-uI,0);var lk=Math.min(dg.cQ[dg.cQ.length-1].bL+uI,aJ.length-1);return{kv:kv,lk:lk};};function azw(dg){var kv=Math.max(dg.cQ[0].bL-Cx,0);var lk=Math.min(dg.cQ[dg.cQ.length-1].bL+Cx,aJ.length-1);return{kv:kv,lk:lk};};function UH(ag){if(dk===IPCC.ViewMode.SinglePage){return adS();}var vV,FW,AR,yc,qe;if(ew===IPCC.PageLayout.VerticalScrollDirection){vV=ag.ue;FW=ag.wZ;AR=ag.tL;yc='an';qe=ft;}else{vV=ag.wv;FW=ag.uF;AR=ag.tO;yc='aK';qe=eK+fT;}var anH=vV;var aor=vV+AR;var gj=Uz(aJ);var JZ=ew===IPCC.PageLayout.VerticalScrollDirection?ft:eK;var aAR=vV/FW;var PZ=(aAR*AR)+vV;var SN=Number.MAX_VALUE;var sa= -1;var cQ=[];IPCC.C.forEach(gj,function(al,bL){var jv=JZ;var fa=jv+al[yc];if(jv<aor&&fa>anH){al.wK=true;cQ.push(al);}var aee=Math.min(Math.abs(jv-PZ),Math.abs(fa-PZ));if(jv<PZ&&fa>PZ){SN=0;sa=bL;}else if(aee<SN){sa=bL;SN=aee;}JZ+=al[yc]+qe;});if(cQ.length===0&&gj[sa]!==undefined){cQ.push(gj[sa]);}return{cQ:cQ,acL:Number(sa)||0,Kb:gj};};function adS(){var gj=Uz(aJ);var aog=[dN];var cQ=IPCC.C.filter(gj,function(al){return IPCC.C.contains(aog,+al.bL);});return{cQ:cQ,acL:dN,Kb:gj};};function QW(){var dg=iB();if(!dg){return[];}return IPCC.C.map(dg.cQ,function(al){return al.bL;});};function iB(){if(dk===IPCC.ViewMode.SinglePage){return adS();}if(bx===''||bx.clientHeight<=0){return;}var ue=bx.scrollTop;var wv=bx.scrollLeft;var tL=bx.clientHeight;var tO=bx.clientWidth;var uF=bx.scrollWidth;var wZ=bx.scrollHeight;var anX=UH({ue:ue,wv:wv,tL:tL,tO:tO,uF:uF,wZ:wZ});uT=false;return anX;}};KX.prototype={dispose:function(){this.aM('dispose',arguments);this.acj(false);this.awm();},disposeDisplayedPages:function(){this.asb();},get_debug:function(){try{var bN=this.Jw();this.ck('get_debug',arguments,bN);return bN;}catch(e){this.ay('get_debug',e);throw e;}},set_debug:function(value){try{this.aM('set_debug',arguments);var xY=this.Jw();this.Ur(value);if(!xY){this.aM('set_debug',arguments);}}catch(e){this.ay('set_debug',e);throw e;}},get_debugErrorLevel:function(){try{var bN=this.AT();this.ck('get_debugErrorLevel',arguments,bN);return bN;}catch(e){this.ay('get_debugErrorLevel',e);throw e;}},set_debugErrorLevel:function(value){try{this.aM('set_debugErrorLevel',arguments);var xY=this.AT();this.Gd(value);if(xY<IPCC.Web.UI.DebugErrorLevel.Development){this.aM('set_debugErrorLevel',arguments);}}catch(e){this.ay('set_debugErrorLevel',e);throw e;}},add_mouseDown:function(handler){try{this.Pi(handler);}catch(e){this.ay('add_mouseDown',e);throw e;}},remove_mouseDown:function(handler){try{this.Uk(handler);}catch(e){this.ay('remove_mouseDown',e);throw e;}},add_mouseMove:function(handler){try{this.OY(handler);}catch(e){this.ay('add_mouseMove',e);throw e;}},remove_mouseMove:function(handler){try{this.UT(handler);}catch(e){this.ay('remove_mouseMove',e);throw e;}},add_mouseUp:function(handler){try{this.Qm(handler);}catch(e){this.ay('add_mouseUp',e);throw e;}},remove_mouseUp:function(handler){try{this.Vl(handler);}catch(e){this.ay('remove_mouseUp',e);throw e;}},add_selectTextMouseToolCompleted:function(handler){try{this.Ui(handler);}catch(e){this.ay('add_selectTextMouseToolCompleted',e);throw e;}},remove_selectTextMouseToolCompleted:function(handler){try{this.VW(handler);}catch(e){this.ay('remove_selectTextMouseToolCompleted',e);throw e;}},add_currentPageChanged:function(handler){try{this.atT(handler);}catch(e){this.ay('add_currentPageChanged',e);throw e;}},remove_currentPageChanged:function(handler){try{this.aCd(handler);}catch(e){this.ay('remove_currentPageChanged',e);throw e;}},add_textPageReady:function(handler){try{this.Am(handler);}catch(e){this.ay('add_textPageReady',e);throw e;}},remove_textPageReady:function(handler){try{this.Eq(handler);}catch(e){this.ay('remove_textPageReady',e);throw e;}},add_hyperlinkPageReady:function(handler){try{this.XL(handler);}catch(e){this.ay('add_hyperlinkPageReady',e);throw e;}},remove_hyperlinkPageReady:function(handler){try{this.adY(handler);}catch(e){this.ay('remove_hyperlinkPageReady',e);throw e;}},add_textExtractionFailed:function(handler){this.AI(handler);},remove_textExtractionFailed:function(handler){this.BU(handler);},add_allPagesAdded:function(handler){try{this.auo(handler);}catch(e){this.ay('add_allPagesAdded',e);throw e;}},remove_allPagesAdded:function(handler){try{this.aBA(handler);}catch(e){this.ay('remove_allPagesAdded',e);throw e;}},add_pageOpening:function(handler){try{this.WN(handler);}catch(e){this.ay('add_pageOpening',e);throw e;}},remove_pageOpening:function(handler){try{this.VE(handler);}catch(e){this.ay('remove_pageOpening',e);throw e;}},add_pageOpened:function(handler){try{this.Xl(handler);}catch(e){this.ay('add_pageOpened',e);throw e;}},remove_pageOpened:function(handler){try{this.Vz(handler);}catch(e){this.ay('remove_pageOpened',e);throw e;}},add_pageOpenFailed:function(handler){try{this.GT(handler);}catch(e){this.ay('add_pageOpenFailed',e);throw e;}},remove_pageOpenFailed:function(handler){try{this.Ge(handler);}catch(e){this.ay('remove_pageOpenFailed',e);throw e;}},add_pageDisplayed:function(handler){try{this.XY(handler);}catch(e){this.ay('add_pageDisplayed',e);throw e;}},remove_pageDisplayed:function(handler){try{this.Vx(handler);}catch(e){this.ay('remove_pageDisplayed',e);throw e;}},add_propertyChanged:function(handler){try{this.jK(handler);}catch(e){this.ay('add_propertyChanged',e);throw e;}},remove_propertyChanged:function(handler){try{this.lC(handler);}catch(e){this.ay('remove_propertyChanged',e);throw e;}},add_markAdded:function(handler){try{this.yW(handler);}catch(e){this.ay('add_markAdded',e);throw e;}},remove_markAdded:function(handler){try{this.zt(handler);}catch(e){this.ay('remove_markAdded',e);throw e;}},add_markCreating:function(handler){try{this.XS(handler);}catch(e){this.ay('add_markCreating',e);throw e;}},remove_markCreating:function(handler){try{this.VN(handler);}catch(e){this.ay('remove_markCreating',e);throw e;}},add_markChanged:function(handler){try{this.Hv(handler);}catch(e){this.ay('add_markChanged',e);throw e;}},remove_markChanged:function(handler){try{this.HU(handler);}catch(e){this.ay('remove_markChanged',e);throw e;}},add_markReordered:function(handler){try{this.Gx(handler);}catch(e){this.ay('add_markReordered',e);throw e;}},remove_markReordered:function(handler){try{this.Ir(handler);}catch(e){this.ay('remove_markReordered',e);throw e;}},add_markSelectionChanged:function(handler){try{this.EY(handler);}catch(e){this.ay('add_markSelectionChanged',e);throw e;}},remove_markSelectionChanged:function(handler){try{this.Hq(handler);}catch(e){this.ay('remove_markSelectionChanged',e);throw e;}},add_markTextSelectionChanged:function(handler){try{this.GJ(handler);}catch(e){this.ay('add_markTextSelectionChanged',e);throw e;}},remove_markTextSelectionChanged:function(handler){try{this.HM(handler);}catch(e){this.ay('remove_markTextSelectionChanged',e);throw e;}},add_markRemoved:function(handler){try{this.yh(handler);}catch(e){this.ay('add_markRemoved',e);throw e;}},remove_markRemoved:function(handler){try{this.Az(handler);}catch(e){this.ay('remove_markRemoved',e);throw e;}},add_commentAdding:function(handler){try{this.atG(handler);}catch(e){this.ay('add_commentAdding',e);throw e;}},remove_commentAdding:function(handler){try{this.aBe(handler);}catch(e){this.ay('remove_commentAdding',e);throw e;}},add_commentAdded:function(handler){try{this.yu(handler);}catch(e){this.ay('add_commentAdded',e);throw e;}},remove_commentAdded:function(handler){try{this.BN(handler);}catch(e){this.ay('remove_commentAdded',e);throw e;}},add_commentRemoved:function(handler){try{this.wW(handler);}catch(e){this.ay('add_commentRemoved',e);throw e;}},remove_commentRemoved:function(handler){try{this.BI(handler);}catch(e){this.ay('remove_commentRemoved',e);throw e;}},add_commentChanged:function(handler){try{this.sR(handler);}catch(e){this.ay('add_commentChanged',e);throw e;}},remove_commentChanged:function(handler){try{this.ty(handler);}catch(e){this.ay('remove_commentChanged',e);throw e;}},add_scaleChanged:function(handler){try{this.Va(handler);}catch(e){this.ay('add_scaleChanged',e);throw e;}},remove_scaleChanged:function(handler){try{this.Vu(handler);}catch(e){this.ay('remove_scaleChanged',e);throw e;}},add_exceptionThrown:function(handler){this.Xd(handler);},remove_exceptionThrown:function(handler){this.UU(handler);},writeToLog:function(message){try{this.lV(message);}catch(e){this.ay('writeToLog',e);throw e;}},get_currentState:function(){try{var bN=this.PO();this.ck('get_currentState',arguments,bN);return bN;}catch(e){this.ay('get_currentState',e);throw e;}},get_scaleFactor:function(){try{var bN=this.nY();this.ck('get_scaleFactor',arguments,bN);return bN;}catch(e){this.ay('get_scaleFactor',e);throw e;}},set_scaleFactor:function(scaleFactor){try{this.aM('set_scaleFactor',arguments);this.apH(scaleFactor);}catch(e){this.ay('set_scaleFactor',e);throw e;}},zoomIn:function(factor){try{this.aM('zoomIn',arguments);this.Qq(factor);}catch(e){this.ay('zoomIn',e);throw e;}},zoomOut:function(factor){try{this.aM('zoomOut',arguments);this.UD(factor);}catch(e){this.ay('zoomOut',e);throw e;}},getMinMaxZoom:function(){return this.atK();},displayAll:function(){try{this.aM('displayAll',arguments,1);this.asN();}catch(e){this.ay('displayAll',e);throw e;}},display:function(pageIndex){try{this.aM('display',arguments);this.cI(pageIndex);}catch(e){this.ay('display',e);throw e;}},get_textRequired:function(){try{var bN=this.lf();this.ck('get_textRequired',arguments,bN);return bN;}catch(e){this.ay('get_textRequired',e);throw e;}},set_textRequired:function(value){try{this.aM('set_textRequired',arguments);this.Jq(value);}catch(e){this.ay('set_textRequired',e);throw e;}},selectText:function(pageIndex,startIndex,endIndex,color){try{this.aM('selectText',arguments,1);this.UM(pageIndex,startIndex,endIndex,color);}catch(e){this.ay('selectText',e);throw e;}},clearSelectedText:function(pageIndex){try{this.aM('clearSelectedText',arguments,1);this.ayJ(pageIndex);}catch(e){this.ay('clearSelectedText',e);throw e;}},clearAllSelectedText:function(){try{this.aM('clearAllSelectedText',arguments);this.axN();}catch(e){this.ay('clearAllSelectedText',e);throw e;}},get_maxPrefetch:function(){try{var bN=this.aty();this.ck('get_maxPrefetch',arguments,bN);return bN;}catch(e){this.ay('get_maxPrefetch',e);throw e;}},set_maxPrefetch:function(value){try{this.aM('set_maxPrefetch',arguments);this.anZ(value);}catch(e){this.ay('set_maxPrefetch',e);throw e;}},get_displayPagesWhenScrolling:function(){try{var bN=this.atP();this.ck('get_displayPagesWhenScrolling',arguments,bN);return bN;}catch(e){this.ay('get_displayPagesWhenScrolling',e);throw e;}},set_displayPagesWhenScrolling:function(value){try{this.aM('set_displayPagesWhenScrolling',arguments);this.aqe(value);}catch(e){this.ay('set_displayPagesWhenScrolling',e);throw e;}},get_maxOutOfViewDisplay:function(){try{var bN=this.atV();this.ck('get_maxOutOfViewDisplay',arguments,bN);return bN;}catch(e){this.ay('get_maxOutOfViewDisplay',e);throw e;}},set_maxOutOfViewDisplay:function(value){try{this.aM('set_maxOutOfViewDisplay',arguments);this.aoM(value);}catch(e){this.ay('set_maxOutOfViewDisplay',e);throw e;}},get_discardOutOfViewText:function(){try{var bN=this.avh();this.ck('get_discardOutOfViewText',arguments,bN);return bN;}catch(e){this.ay('get_discardOutOfViewText',e);throw e;}},set_discardOutOfViewText:function(value){try{this.aM('set_discardOutOfViewText',arguments);this.apD(value);}catch(e){this.ay('set_discardOutOfViewText',e);throw e;}},get_scrollDisplayThreshold:function(){try{var bN=this.arO();this.ck('get_scrollDisplayThreshold',arguments,bN);return bN;}catch(e){this.ay('get_scrollDisplayThreshold',e);throw e;}},set_scrollDisplayThreshold:function(value){try{this.aM('set_scrollDisplayThreshold',arguments);this.aov(value);}catch(e){this.ay('set_scrollDisplayThreshold',e);throw e;}},get_mouseCursor:function(){try{var bN=this.akq();this.ck('get_mouseCursor',arguments,bN);return bN;}catch(e){this.ay('akq',e);throw e;}},set_mouseCursor:function(value){try{this.aM('set_mouseCursor',arguments);this.aoI(value);}catch(e){this.ay('set_mouseCursor',e);throw e;}},get_mouseTool:function(){try{var bN=this.Yr();this.ck('get_mouseTool',arguments,bN);return bN;}catch(e){this.ay('get_mouseTool',e);throw e;}},set_mouseTool:function(value){try{this.aM('set_mouseTool',arguments);this.Il(value);}catch(e){this.ay('set_mouseTool',e);throw e;}},get_markHandleMode:function(){try{var bN=this.zS();this.aM('get_markHandleMode',arguments);return bN;}catch(e){this.ay('get_markHandleMode',e);throw e;}},set_markHandleMode:function(T){try{this.aM('set_markHandleMode',arguments);this.Kk(T);}catch(e){this.ay('set_markHandleMode',e);throw e;}},get_retainPageText:function(){try{var bN=this.ary();this.aM('get_retainPageText',arguments);return bN;}catch(e){this.ay('get_retainPageText',e);throw e;}},set_retainPageText:function(T){try{this.aM('set_retainPageText',arguments);this.aqZ(T);}catch(e){this.ay('set_retainPageText',e);throw e;}},get_allowMarkEdits:function(){try{var bN=this.auI();this.aM('get_allowMarkEdits',arguments);return bN;}catch(e){this.ay('get_allowMarkEdits',e);throw e;}},set_allowMarkEdits:function(bool){try{this.aM('set_allowMarkEdits',arguments);this.aqR(! !bool);}catch(e){this.ay('set_allowMarkEdits',e);throw e;}},get_currentPage:function(){try{var bN=this.anu();this.ck('get_currentPage',arguments,bN);return bN;}catch(e){this.ay('get_currentPage',e);throw e;}},get_pageNodeId:function(pageIndex){try{var ama=this.arQ(pageIndex);this.ck('get_pageNodeId',arguments,ama);return ama;}catch(e){this.ay('get_pageNodeId',e);throw e;}},scrollToNextPage:function(){try{this.aM('scrollToNextPage',arguments);this.azF();}catch(e){this.ay('scrollToNextPage',e);throw e;}},scrollToPreviousPage:function(){try{this.aM('scrollToPreviousPage',arguments);this.azR();}catch(e){this.ay('scrollToPreviousPage',e);throw e;}},scrollToFirstPage:function(){try{this.aM('scrollToFirstPage',arguments);this.azC();}catch(e){this.ay('scrollToFirstPage',e);throw e;}},scrollToLastPage:function(){try{this.aM('scrollToLastPage',arguments);this.azW();}catch(e){this.ay('scrollToLastPage',e);throw e;}},scrollToPage:function(pageIndex){try{this.aM('scrollToPage',arguments,1);this.qD(pageIndex);}catch(e){this.ay('scrollToPage',e);throw e;}},rotate:function(degreesClockwise){try{this.aM('rotate',arguments,1);this.azX(degreesClockwise);}catch(e){this.ay('rotate',e);throw e;}},rotateAll:function(degreesClockwise){try{this.aM('rotateAll',arguments,1);this.aeO(degreesClockwise,true);}catch(e){this.ay('rotateAll',e);throw e;}},get_enabled:function(){try{var bN=this.auq();this.ck('get_enabled',arguments,bN);return bN;}catch(e){this.ay('get_enabled',e);throw e;}},get_pageLayout:function(){try{var bN=this.arP();this.ck('get_pageLayout',arguments,bN);return bN;}catch(e){this.ay('get_pageLayout',e);throw e;}},set_pageLayout:function(value){try{this.aM('set_pageLayout',arguments);this.aoF(value);}catch(e){this.ay('set_pageLayout',e);throw e;}},get_viewMode:function(){try{var bN=this.atm();this.ck('get_viewMode',arguments,bN);return bN;}catch(e){this.ay('get_viewMode',e);throw e;}},set_viewMode:function(value){try{this.aM('set_viewMode',arguments);this.Lf(value);}catch(e){this.ay('set_viewMode',e);throw e;}},get_loadingContent:function(){try{var bN=this.atI();this.ck('get_loadingContent',arguments,bN);return bN;}catch(e){this.ay('get_loadingContent',e);throw e;}},set_loadingContent:function(value){try{this.aM('set_loadingContent',arguments);this.aoD(value);}catch(e){this.ay('set_loadingContent',e);throw e;}},fitPages:function(fitType){try{this.aM('fitPages',arguments,1);this.asC(fitType);}catch(e){this.ay('fitPages',e);throw e;}},openPage:function(pageIndex){try{this.aM('openPage',arguments,1);this.Mb(pageIndex);}catch(e){this.ay('openPage',e);throw e;}},requestPageAttributes:function(page,attributesRetrievedCallback,attributesRetrievalFailedCallback){try{this.aM('requestPageAttributes',arguments,1);this.Md(page,attributesRetrievedCallback,attributesRetrievalFailedCallback);}catch(e){this.ay('requestPageAttributes',e);throw e;}},scrollRegionIntoView:function(pageIndex,rectangle){try{this.aM('scrollRegionIntoView',arguments,1);return this.azx(pageIndex,rectangle);}catch(e){this.ay('scrollRegionIntoView',e);throw e;}},scrollBy:function(xVal,yVal){try{this.aM('scrollBy',arguments,1);return this.aza(xVal,yVal);}catch(e){this.ay('scrollBy',e);throw e;}},scrollConversationIntoView:function(conversation){try{this.aM('scrollConversationIntoView',arguments,1);return this.aAH(conversation);}catch(e){this.ay('scrollConversationIntoView',e);throw e;}},get_documents:function(){return this.XF();},get_encryption:function(){try{var bN=this.ja();this.ck('get_encryption',arguments,bN);return bN;}catch(e){this.ay('get_encryption',e);throw e;}},set_encryption:function(value){try{this.aM('set_encryption',arguments);this.lU(value);}catch(e){this.ay('set_encryption',e);throw e;}},get_annotationXmlDom:function(){try{var bN=this.auU();return bN;}catch(e){this.ay('get_annotationXmlDom',e);throw e;}},set_annotationXmlDom:function(value,stampImages,retainExistingMarks,loadAsHidden){try{this.aqJ(value,stampImages,retainExistingMarks,loadAsHidden);}catch(e){this.ay('set_annotationXmlDom',e);throw e;}},get_resourcePath:function(){try{var bN=this.wG();this.ck('get_resourcePath',arguments,bN);return bN;}catch(e){this.ay('get_resourcePath',e);throw e;}},set_resourcePath:function(T){try{this.aM('set_resourcePath',arguments);this.HG(T);}catch(e){this.ay('set_resourcePath',e);throw e;}},get_redactionDraftMode:function(){try{var bN=this.mr();this.ck('get_redactionDraftMode',arguments,bN);return bN;}catch(e){this.ay('get_redactionDraftMode',e);throw e;}},set_redactionDraftMode:function(value){try{this.aM('set_redactionDraftMode',arguments);this.qn(value);}catch(e){this.ay('set_redactionDraftMode',e);throw e;}},get_displayedPages:function(){try{var bN=this.atr();this.ck('get_displayedPages',arguments,bN);return bN;}catch(e){this.ay('get_displayedPages',e);throw e;}},get_requireRequestsOptimize:function(){try{var bN=this.zP();this.ck('get_requireRequestsOptimize',arguments,bN);return bN;}catch(e){this.ay('zP',e);throw e;}},set_requireRequestsOptimize:function(value){try{this.aM('set_requireRequestsOptimize',arguments);this.Ix(value);}catch(e){this.ay('set_requireRequestsOptimize',e);throw e;}},get_serviceResponseTimeout:function(){try{var bN=this.jO();this.ck('get_serviceResponseTimeout',arguments,bN);return bN;}catch(e){this.ay('get_serviceResponseTimeout',e);throw e;}},set_serviceResponseTimeout:function(value){try{this.aM('set_serviceResponseTimeout',arguments);this.ya(value);}catch(e){this.ay('set_serviceResponseTimeout',e);throw e;}},get_pageRotation:function(){try{var bN=this.atc();this.ck('get_pageRotation',arguments,bN);return bN;}catch(e){this.ay('get_pageRotation',e);throw e;}},set_pageRotation:function(value){try{this.aM('set_pageRotation',arguments);this.aqW(value);}catch(e){this.ay('set_pageRotation',e);throw e;}},getNodeID:function(pageIndex){try{this.aM('getNodeID',arguments,1);return this.auB(pageIndex);}catch(e){this.ay('getNodeID',e);throw e;}},get_isCommentsPanelOpen:function(){try{var bN=this.auD();this.ck('get_isCommentsPanelOpen',arguments,bN);return bN;}catch(e){this.ay('get_isCommentsPanelOpen',e);throw e;}},openCommentsPanel:function(){try{this.aM('openCommentsPanel',arguments);this.azl();}catch(e){this.ay('openCommentsPanel',e);throw e;}},closeCommentsPanel:function(){try{this.aM('closeCommentsPanel',arguments);this.ayl();}catch(e){this.ay('closeCommentsPanel',e);throw e;}},get_conversationDOMFactory:function(){try{var bN=this.auV();this.ck('get_conversationDOMFactory',arguments,bN);return bN;}catch(e){this.ay('get_conversationDOMFactory',e);throw e;}},set_conversationDOMFactory:function(value){try{this.aM('set_conversationDOMFactory',arguments);this.aqq(value);}catch(e){this.ay('set_conversationDOMFactory',e);throw e;}},get_selectedConversation:function(){try{var bN=this.arD();this.ck('get_selectedConversation',arguments,bN);return bN;}catch(e){this.ay('get_selectedConversation',e);throw e;}},set_selectedConversation:function(value){try{this.aM('set_selectedConversation',arguments);this.aoz(value);}catch(e){this.ay('set_selectedConversation',e);throw e;}},refreshConversations:function(markIDs){try{this.aM('refreshConversations',arguments);this.aBa(markIDs);}catch(e){this.ay('refreshConversations',e);throw e;}}};KX.registerClass=ci;KX.registerClass('IPCC.PageList',{});module.exports=KX;},{"./IPCC.Util":29}],44:[function(require,module,exports){var oe=function(dm,vU){var J=this;this.dm=dm;this.vU=vU;this.atj=function(){return J.dm;};this.aIx=function(){return J.vU;};};oe.prototype.get_propertyName=function(){return this.dm;};oe.prototype.get_propertyInfo=function(){return this.vU;};module.exports=oe;},{}],45:[function(require,module,exports){var DQ=function(){this.cf=1;this.width=0;this.height=0;this.nl=0;this.xC=0;this.pool=undefined;return this;};DQ.prototype.Nt=function(cY){if(cY.width<1||cY.height<1){return[];}var kk=Math.floor(cY.x*this.cf);var lx=Math.floor(cY.y*this.cf);var mx=Math.ceil((cY.x+cY.width)*this.cf);var nh=Math.ceil((cY.y+cY.height)*this.cf);var nS=[];var h,fm;var cg=this.tiles.length;for(h=0;h<cg;h++){fm=this.tiles[h];if(fm.x<=mx&&fm.right>=kk&&fm.y<=nh&&fm.bottom>=lx){nS.push(fm);}}return nS;};module.exports=DQ;},{}],46:[function(require,module,exports){var vE=function(){this.x=0;this.y=0;this.right=0;this.bottom=0;this.aK=0;this.an=0;this.wl=0;this.wJ=0;this.url='';this.poolItem=undefined;this.level=undefined;return this;};vE.prototype.unlock=function(){this.level.pool.aju(this);};vE.prototype.lock=function(){this.level.pool.lockTile(this);};vE.prototype.relock=function(){return this.level.pool.UK(this);};vE.prototype.get_isLockedAndLoaded=function(){if(this.poolItem===undefined|| !this.poolItem.loaded){return false;}return true;};vE.prototype.toString=function(){var aE='x:'+this.x.toString()+', y:'+this.y.toString()+', right:'+this.right.toString()+', bottom:'+this.bottom.toString();if(this.level){aE='scale:'+this.level.cf.toString()+', '+aE;}return aE;};module.exports=vE;},{}],47:[function(require,module,exports){var lK=function(){this.aq=false;this.H=false;};lK.prototype.nd=function(H){this.H=H;};lK.prototype.fa=function(){this.H=false;};lK.prototype.au=function(){if(this.aq){this.H.aN().oG();this.aq=false;this.H.cI();}};lK.prototype.pP=function(){this.au();this.H.cI();};lK.prototype.kY=function(F){this.au();if(F.domEvent.button===0){var aA=this.H.aN();this.aq=true;aA.Cn(F.constrainedImagePoint);this.sp=F.windowPoint;this.H.cI();}};lK.prototype.kP=function(F){if(F.domEvent.button!==0){this.au();}if(this.aq){var aA=this.H.aN();aA.xA(F.constrainedImagePoint);this.H.cI();}};lK.prototype.jV=function(F){if(this.aq&&F.domEvent.button===0){var fe=F.windowPoint.x-this.sp.x;var gd=fe*fe;fe=F.windowPoint.y-this.sp.y;gd+=fe*fe;if(gd>25){var H=this.H;var aA=H.aN();var ax=aA.eI();var bj=H.eT();var aAQ=bj.width;var azi=bj.height;var ah=H.dv();aA.xA(F.constrainedImagePoint);var kA=aA.xa();aA.oG();H.ae('userModifiedViewState',{});ax.PF(ah,bj,kA);ax.kx(ah,bj);aA.iu(ax);H.cI();if(aAQ!==bj.width||azi!==bj.height){ax=aA.eI();ax.PF(ah,bj,kA);ax.kx(ah,bj);aA.iu(ax);}}}this.au();};lK.prototype.oX=function(F){var bj=this.H.eT();if(F.windowPoint.x<=0||F.windowPoint.x>=bj.width-2){this.au();}if(F.windowPoint.y<=0||F.windowPoint.y>=bj.height-2){this.au();}};lK.prototype.mo=function(){this.au();};module.exports=lK;},{}],48:[function(require,module,exports){var kH={'paramName':'Parameter name: {0}','svctype':'License','argumentNull':'Value cannot be null.','spc':' ','actualValue':'Actual value was {0}.','fwdslash':'/','prodInfo':'prodInfoPass','argumentOutOfRange':'Specified argument was out of the range of valid values.','argumentTypeWithTypes':'Object of type \'{0}\' cannot be converted to type \'{1}\'.','argumentType':'Object cannot be converted to the required type.','invalidOperation':'Operation is not valid due to the current state of the object.','notImplemented':'The method or operation is not implemented.','argument':'Value does not fall within the expected range.','prodFailInfo':'prodInfoFail','svcReqStr':'','viewer':'ClientViewer','querySymb':'?','version':'v=','iv':'iv=','param':'p='};module.exports=kH;},{}],49:[function(require,module,exports){var zb=function(){};zb.prototype.nd=function(H){this.H=H;this.aA=H.aN();};zb.prototype.fa=function(){this.H=false;};zb.prototype.au=function(){};module.exports=zb;},{}],50:[function(require,module,exports){var de=require('./IPCC.Util').regEnum;var Cz=function(){};Cz.registerEnum=de;Cz.prototype={Pinch:"Pinch",Zoom:"Zoom",Fit:"Fit",ViewMode:"ViewMode"};Cz.registerEnum('IPCC.ScaleTrigger',false);module.exports=Cz;},{"./IPCC.Util":29}],51:[function(require,module,exports){var pp=function(){this.aq=false;this.H=false;};pp.prototype.nd=function(H){this.H=H;};pp.prototype.fa=function(){this.H=false;};pp.prototype.au=function(){if(this.aq){this.H.oG();this.aq=false;this.H.cI();}};pp.prototype.pP=function(){this.au();};pp.prototype.kY=function(F){this.au();if(F.domEvent.button===0){var aA=this.H.aN();this.aq=true;aA.Cn(F.constrainedImagePoint);this.H.cI();}};pp.prototype.kP=function(F){if(F.domEvent.button!==0){this.au();}if(this.aq){var aA=this.H.aN();aA.xA(F.constrainedImagePoint);this.H.cI();}};pp.prototype.jV=function(F){if(F.domEvent.button===0){this.aq=false;}this.au();};pp.prototype.oX=function(F){var bj=this.H.eT();if(F.windowPoint.x<=0||F.windowPoint.x>=bj.width-2){this.au();}if(F.windowPoint.y<=0||F.windowPoint.y>=bj.height-2){this.au();}};pp.prototype.mo=function(){this.au();};module.exports=pp;},{}],52:[function(require,module,exports){var ku=function(){this.aq=false;this.H=false;};ku.prototype.nd=function(H){this.H=H;};ku.prototype.fa=function(){this.H=false;};ku.prototype.au=function(){if(this.aq){this.H.aN().Zo();this.aq=false;}};ku.prototype.pP=function(){this.au();};ku.prototype.kY=function(F){if(F.domEvent.button===0){var aA=this.H.aN();this.aq=true;var dC=this.H.GC(F.constrainedImagePoint);this.H.hl=dC;if(!dC){return;}this.H.zl(dC);aA.zl(dC);aA.uw(undefined);this.H.cI();}};ku.prototype.kP=function(F){var H=this.H;H.aBP=true;if(F.domEvent.button!==0){this.au();}if(this.aq){var aA=H.aN();var dC=H.GC(F.constrainedImagePoint);var jc=aA.Ee();if(jc===dC){return;}H.uw(dC);H.cI();}};ku.prototype.jV=function(F){if(F.domEvent.button===0){this.aq=false;}var H=this.H;var aA=this.H.aN();var dI=aA.jF.length;if(dI===0){this.au();return;}var aU=aA.jF[0].dC;var cZ=aA.jF[dI-1].dC;if(H.GD===true){if(aU>cZ){aU=cZ;}var h;var lz=IPCC.wh();this.K=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);this.K.aU=aU;this.K.cO=H.Dn();this.K.cD=dI;this.K.set_fillColor(H.qx);this.K.hQ='y';this.K.bn=lz;for(h=0;h<aA.jF.length;h++){var bQ=aA.jF[h];var Dz=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);var zM=bQ.K.eG();Dz.set_fillColor(H.qx);Dz.set_opacity(bQ.K.get_opacity());Dz.set_rectangle(zM);Dz.bn=lz;Dz.hQ='y';this.H.dV().addMark(Dz);}aA.jF=[];if(dI>0){this.H.dV().addMark(this.K);}H.nm().removeAllMarks();}dI=aA.jF.length;var ajl=new IPCC.Web.UI.TextSelectedEventArgs();ajl.text=H.Dn();H.ae('selectTextMouseToolCompleted',ajl);H.cI();this.au();};ku.prototype.oX=function(F){var bj=this.H.eT();if(F.windowPoint.x<=0||F.windowPoint.x>=bj.width-2){this.au();}if(F.windowPoint.y<=0||F.windowPoint.y>=bj.height-2){this.au();}};ku.prototype.mo=function(){this.au();};module.exports=ku;},{}],53:[function(require,module,exports){var dq=function(){this.H=false;this.GE=0;this.aDE=1;this.alc=2;this.ajV=3;};dq.prototype.nd=function(H){this.H=H;this.dP=this.GE;};dq.prototype.fa=function(){this.H=false;};dq.prototype.au=function(){this.dP=this.GE;};dq.prototype.aiO=function(F){var arm=new Date()-this.anz;if(arm<750){var eg=this.ajx.x-F.windowPoint.x;var dU=this.ajx.y-F.windowPoint.y;var gd=eg*eg+dU*dU;if(gd<2500){return true;}}return false;};dq.prototype.aik=function(F){this.anz=new Date();this.ajx=new IPCC.Web.UI.Point(F.windowPoint.x,F.windowPoint.y);};dq.prototype.Le=function(F){var ar=F.domEvent.rawEvent;if(ar.touches.length===1){if(this.dP===this.alc&&this.aiO(F)){this.dP=this.ajV;}else{this.dP=this.aDE;}this.aik(F);this.H.fX('kY',F);}else{this.dP=this.GE;this.H.fX('pP',F);}};dq.prototype.LJ=function(F){var ar=F.domEvent.rawEvent;if(ar.touches.length===1){this.H.fX('kP',F);}};dq.prototype.Lo=function(F){var ar=F.domEvent.rawEvent;if(ar.touches.length===0){if(this.aiO(F)){if(this.dP===this.ajV){this.dP=this.GE;this.H.fX('jV',F);this.H.fX('AV',F);}else{this.aik(F);this.dP=this.alc;this.H.fX('jV',F);}}else{this.dP=this.GE;this.H.fX('jV',F);}}};dq.prototype.FS=function(F){this.H.fX('pP',F);};module.exports=dq;},{}],54:[function(require,module,exports){var Bk=function(aK,an,hf,gM){IPCC.Web.UI.Rectangle.call(this,0,0,0,0);this.width=aK;this.height=an;this.hf=hf;this.gM=gM;return this;};Bk.prototype.toString=function(){return 'Space('+this.width+' x '+this.height+', '+this.hf+', '+this.gM+')';};module.exports=Bk;},{}],55:[function(require,module,exports){var zG=function(JY){this.qL=(typeof(JY)!=='undefined'&&JY!==null&&JY!=='')?[JY.toString()]:[];this.T={};this.cg=0;};zG.prototype.aGU=function(bo){this.qL[this.qL.length]=bo;};zG.prototype.aHM=function(bo){this.qL[this.qL.length]=((typeof(bo)==='undefined')||(bo===null)||(bo===''))?'\r\n':bo+'\r\n';};zG.prototype.aGR=function(){this.qL=[];this.T={};this.cg=0;};zG.prototype.aFC=function(){if(this.qL.length===0){return true;}return this.toString()==='';};zG.prototype.aGN=function(zJ){zJ=zJ||'';var parts=this.qL;if(this.cg!==parts.length){this.T={};this.cg=parts.length;}var val=this.T;if(typeof(val[zJ])==='undefined'){if(zJ!==''){for(var i=0;i<parts.length;){if((typeof(parts[i])==='undefined')||(parts[i]==='')||(parts[i]===null)){parts.splice(i,1);}else{i++;}}}val[zJ]=this.qL.join(zJ);}return val[zJ];};module.exports=zG;},{}],56:[function(require,module,exports){var ek=function(H,ps){this.Rn=false;this.XH=false;this.Ek=true;this.aaf=false;this.Pa=false;this.vR=0;this.wa=0;var ab=this;this.aAq='opacity';this.azZ=function(du){return du.toString();};var akw=function akw(aj,fG,oI,ah,np,mk){var gE;if(this.H.or()===true){aj.wm.setAttribute('width',oI.width);aj.wm.setAttribute('height',oI.height);aj.tm.setAttribute('width',oI.width);aj.tm.setAttribute('height',oI.height);gE=fG.nQ().toString()+','+fG.oK().toString()+','+fG.pH().toString()+','+fG.sD().toString()+','+(fG.vx()+np).toString()+','+(fG.wE()+mk).toString();this.hw(aj.Ay,'transform','matrix('+gE+')');}else{aj.wm.setAttribute('width',oI.width);aj.wm.setAttribute('height',oI.height);aj.tm.setAttribute('width',oI.width);aj.tm.setAttribute('height',oI.height);gE=fG.nQ().toString()+','+fG.oK().toString()+','+fG.pH().toString()+','+fG.sD().toString()+','+(fG.vx()+np).toString()+','+(fG.wE()+mk).toString();this.hw(aj.Ay,'transform','matrix('+gE+')');}};function awQ(aj){var pathList=aj.wm.getElementsByTagName('path');var gList=aj.wm.getElementsByTagName('g');aj.Qh=[];function acD(pathItem,index){if(!pathItem.hasAttribute('data-pcc-mark')){if(pathItem.hasAttribute('stroke-width')||pathItem.style.strokeWidth){pathItem.originalStrokeWidth=pathItem.getAttribute('stroke-width')||pathItem.style.strokeWidth;aj.Qh.push(pathItem);}}};IPCC.C.forEach(pathList,acD);IPCC.C.forEach(gList,acD);};this.amI=function(aj){var aA=H.aN();var asi=1;var nr=aA.asJ();function setStrokeWidthToOriginalValue(pathItem,index){if(pathItem.hasAttribute('stroke-width')){pathItem.setAttribute('stroke-width',parseFloat(pathItem.originalStrokeWidth));}else{var strokeWidth=parseFloat(pathItem.originalStrokeWidth);pathItem.style.strokeWidth=strokeWidth;}};function updateStrokeWidthByLineWidthMultiplier(pathItem,index){if(pathItem.hasAttribute('stroke-width')){pathItem.setAttribute('stroke-width',parseFloat(pathItem.originalStrokeWidth*nr));}else{var strokeWidth=parseFloat(pathItem.originalStrokeWidth);pathItem.style.strokeWidth=strokeWidth*nr;}};if(aj.Qh===undefined){awQ(aj);}if(nr===asi){IPCC.C.forEach(aj.Qh,setStrokeWidthToOriginalValue);}else{IPCC.C.forEach(aj.Qh,updateStrokeWidthByLineWidthMultiplier);}aA.aqO(false);};function atH(aj,bk){aj.rI.setAttribute('exponent',bk);aj.sA.setAttribute('exponent',bk);aj.rG.setAttribute('exponent',bk);};function auv(aj,bk){var avI=841;var mg=(bk/avI)* -1;var gE;if(IPCC.C.DG){gE='{00} {01} {02} '+'{10} {11} {12} '+'{20} {21} {22}';gE=gE.replace('{00}',mg).replace('{01}',mg).replace('{02}',mg).replace('{10}',mg).replace('{11}',1).replace('{12}',mg).replace('{20}',mg).replace('{21}',mg).replace('{22}',mg);}else{gE='{00} {01} {02} {03} {04} '+'{10} {11} {12} {13} {14} '+'{20} {21} {22} {23} {24} '+'{30} {31} {32} {33} {34} '+'{40} {41} {42} {43} {44}';gE=gE.replace('{00}',0).replace('{01}',0).replace('{02}',0).replace('{03}',0).replace('{04}',0).replace('{10}',0).replace('{11}',mg).replace('{12}',mg).replace('{13}',mg).replace('{14}',0).replace('{20}',0).replace('{21}',mg).replace('{22}',1).replace('{23}',mg).replace('{24}',0).replace('{30}',0).replace('{31}',mg).replace('{32}',mg).replace('{33}',mg).replace('{34}',0).replace('{40}',0).replace('{41}',0).replace('{42}',0).replace('{43}',0).replace('{44}',0);}aj.kI.setAttribute('kernelMatrix',gE);};this.aoN=function(aj){var aA=H.aN();var pR=aA.aur();var pE=aA.atl();if(pE===0&&pR===1){aj.Ay.removeAttribute('filter','url(#'+aj.It+')');}else{aj.Ay.setAttribute('filter','url(#'+aj.It+')');}atH(aj,pR);auv(aj,pE);};var ZV,YW;this.amh=function(aj,fG,oI,ah,np,mk){if(aj.Zd.match('maglevel')){akw.apply(this,arguments);return;}var af=aj.gl.parentElement.getBoundingClientRect();var ky=af.width/ah.width;var acm=function(val){return Math.abs(val)<1.0e-14;};var fw=0,eN=0;var aru=function(){var ou=fG.oK();if(acm(ou)){ou=0;}var nT=fG.pH();if(acm(nT)){nT=0;}var aAv=fG.nQ();var hH=(ou>=0&&nT<0)?90:(ou<0&&nT>=0)?270:(aAv<0)?180:(ou>=0&&nT>=0)?0:0;switch(hH){case 90:fw=af.width;break;case 180:fw=af.width;eN=af.height;break;case 270:eN=af.height;break;}return hH*(Math.PI/180);};var hH=aru();if(parseInt(hH,10)===1||parseInt(hH,10)===4){ky=af.height/ah.width;}if(ky===ZV&&hH===YW){return;}else{ZV=ky;YW=hH;}var ea=1,ii=0;if(hH!==0){ea=Math.cos(hH);ii=Math.sin(hH);}var ax={ky:ea*ky,ta:ea*ky,ou:ii*ky,nT:ii* -1*ky,fw:fw,eN:eN};var aEc=new IPCC.eA(ax.ky,ax.ou,ax.nT,ax.ta,ax.fw,ax.eN);fG.Py(aEc);H.aN().iu(fG);var gE='matrix({scaleX},{skewX},{skewY},{scaleY},{moveX},{moveY})';gE=gE.replace('{scaleX}',ax.ky).replace('{scaleY}',ax.ta).replace('{skewX}',ax.ou).replace('{skewY}',ax.nT).replace('{moveX}',ax.fw).replace('{moveY}',ax.eN);this.hw(aj.Ay,'transform',gE);};this.axY=function(){ZV=undefined;YW=undefined;};this.aBi(H);this.awU=function(dO){var bj=new IPCC.Bk(dO.clientWidth,dO.clientHeight,96,96);return bj;};this.aiB=function(ar){ar.preventDefault();ab.kY(ar);};this.ahM=function(ar){ar.preventDefault();ab.kP(ar);};this.aiC=function(ar){ar.preventDefault();ab.jV(ar);};this.aey=function(ar){ab.kY(ar);};this.ait=function(ar){ab.AV(ar);};this.agP=function(ar){ab.kP(ar);};this.QX=function(ar){ab.mo(ar);};this.ahE=function(ar){ab.jV(ar);};this.aho=function(ar){ab.AV(ar);};this.ahS=function(ar){ab.SC(ar);};this.Pp=function(ar){if(ar.target!==document.activeElement){ab.aDh(ar);}};this.aiU=function(ar){if(ar.target!==document.activeElement){ab.aDl(ar);}};this.oX=function(ar){try{ar.preventDefault();var F=new IPCC.Web.UI.MouseEventArgs();F.domEvent=ar;ab.sv(F);H.aCF(F);}catch(ex){H.ay('mouseOut',ex);}};this.Le=function(ar){try{ar.preventDefault();var F=new IPCC.Web.UI.MouseEventArgs();F.domEvent=ar;ab.sv(F);H.aCb(F);}catch(ex){H.ay('touchStart',ex);}};this.LJ=function(ar){try{ar.preventDefault();var F=new IPCC.Web.UI.MouseEventArgs();F.domEvent=ar;ab.sv(F);H.aBN(F);}catch(ex){H.ay('touchMove',ex);}};this.Lo=function(ar){try{ar.preventDefault();var F=new IPCC.Web.UI.MouseEventArgs();F.domEvent=ar;ab.sv(F);H.aCC(F);}catch(ex){H.ay('touchEnd',ex);}};this.FS=function(ar){try{ar.preventDefault();var F=new IPCC.Web.UI.MouseEventArgs();F.domEvent=ar;ab.sv(F);H.aCH(F);}catch(ex){H.ay('touchCancel',ex);}};this.ajy=function(ar){try{ar.preventDefault();}catch(ex){H.ay('dragStart',ex);}};this.axp=function(){var eH=H.mB().igElements.mT;IPCC.Web.UI.bI.addHandler(eH,"mousewheel",this.QX);IPCC.Web.UI.bI.addHandler(eH,"DOMMouseScroll",this.QX);if(ps){IPCC.Web.UI.bI.addHandler(eH,"touchstart",this.Le);IPCC.Web.UI.bI.addHandler(eH,"touchmove",this.LJ);IPCC.Web.UI.bI.addHandler(eH,"touchend",this.Lo);IPCC.Web.UI.bI.addHandler(eH,"touchcancel",this.FS);}IPCC.Web.UI.bI.addHandler(eH,"mouseout",this.oX);IPCC.Web.UI.bI.addHandler(eH,"dragstart",this.ajy);};this.asY=function(){var eH=H.mB().igElements.mT;IPCC.Web.UI.bI.removeHandler(eH,"DOMMouseScroll",this.QX);IPCC.Web.UI.bI.removeHandler(eH,"mouseout",this.oX);if(ps){IPCC.Web.UI.bI.removeHandler(eH,"touchstart",this.Le);IPCC.Web.UI.bI.removeHandler(eH,"touchmove",this.LJ);IPCC.Web.UI.bI.removeHandler(eH,"touchend",this.Lo);IPCC.Web.UI.bI.removeHandler(eH,"touchcancel",this.FS);}IPCC.Web.UI.bI.removeHandler(eH,"dragstart",this.ajy);};function aEC(aj,jz){var pe=document.createElementNS('http://www.w3.org/2000/svg','filter');var It='filter'+jz;aj.It=It;pe.setAttribute('id',It);pe.setAttribute('x','0');pe.setAttribute('y','0');pe.setAttribute('filterUnits','objectBoundingBox');pe.setAttribute('color-interpolation-filters','sRGB');return pe;};function aBc(jz){var kI=document.createElementNS('http://www.w3.org/2000/svg','feConvolveMatrix');kI.setAttribute('in','SourceGraphic');kI.setAttribute('result',jz+'kI');kI.setAttribute('preserveAlpha','true');if(IPCC.C.DG){kI.setAttribute('order','3 3');kI.setAttribute('kernelMatrix','0 0 0 0 1 0 0 0 0');}else{kI.setAttribute('order','5 5');kI.setAttribute('kernelMatrix','0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0');}return kI;};function aAZ(jz){var pg=document.createElementNS('http://www.w3.org/2000/svg','feComponentTransfer');pg.setAttribute('in',jz+'kI');pg.setAttribute('result',jz+'pg');return pg;};function aBX(jz){var rI=document.createElementNS('http://www.w3.org/2000/svg','feFuncR');rI.setAttribute('type','gamma');rI.setAttribute('amplitude','1');rI.setAttribute('exponent','1');rI.setAttribute('offset','0');var sA=document.createElementNS('http://www.w3.org/2000/svg','feFuncG');sA.setAttribute('type','gamma');sA.setAttribute('amplitude','1');sA.setAttribute('exponent','1');sA.setAttribute('offset','0');var rG=document.createElementNS('http://www.w3.org/2000/svg','feFuncB');rG.setAttribute('type','gamma');rG.setAttribute('amplitude','1');rG.setAttribute('exponent','1');rG.setAttribute('offset','0');return{rI:rI,sA:sA,rG:rG};};function ayn(aj,jz){var HC=document.createElementNS('http://www.w3.org/2000/svg','feMerge');var akL=document.createElementNS('http://www.w3.org/2000/svg','feMergeNode');var akl=document.createElementNS('http://www.w3.org/2000/svg','feMergeNode');akL.setAttribute('in',jz+'kI');akl.setAttribute('in',jz+'pg');HC.appendChild(akL);HC.appendChild(akl);return HC;};this.ayy=function(aj,gl,sg,jz){var h,aW,dO,Zb;var RQ=function(bd,cS,bH){var dO=document.createElementNS('http://www.w3.org/2000/svg',bd);var h;if(cS){dO.setAttribute('id',cS);}for(h in bH){if(bH.hasOwnProperty(h)){dO.setAttribute(h,bH[h]);}}return dO;};var fh=RQ('svg',null,{xmlns:'http://www.w3.org/2000/svg',version:'1.1',xlink:'http://www.w3.org/1999/xlink','image-rendering':'optimizeQuality'});var pe=aEC(aj,jz);aj.aER=pe;var kI=aBc(jz);aj.kI=kI;pe.appendChild(kI);var pg=aAZ(jz);aj.pg=pg;pe.appendChild(pg);var Dm=aBX();pg.appendChild(Dm.rI);pg.appendChild(Dm.sA);pg.appendChild(Dm.rG);aj.rI=Dm.rI;aj.sA=Dm.sA;aj.rG=Dm.rG;var HC=ayn(aj,jz);pe.appendChild(HC);fh.appendChild(pe);aj.tm=RQ('rect',null,{x:0,y:0,'fill-opacity':'0.005',fill:'#808080'});fh.appendChild(aj.tm);var TE=RQ('g',null,{});aj.Ay=TE;fh.appendChild(TE);var cg;if(H.or()===false){cg=sg.fi.length;}else{cg=1;}for(h=0;h<cg;h++){aW=sg.fi[h];aW.pool.parentElementID=jz+h.toString();Zb=1/aW.cf;dO=RQ('g',aW.pool.parentElementID,{transform:'matrix('+Zb.toString()+',0,0,'+Zb.toString()+',0,0)'});TE.appendChild(dO);}aj.wm=fh;gl.appendChild(fh);};this.ayw=function(jh){var amT=this.ali();jh.elementID=amT;};this.aEo=function(jh){var dO=document.getElementById(jh.elementID);this.hw(dO,'display','none');};this.aga=function(jh){var dO=document.getElementById(jh.elementID);if(dO===null){jh.elementID='';return;}dO.setAttributeNS('http://www.w3.org/1999/xlink','href','');dO.parentNode.removeChild(dO);jh.elementID='';};var aEk=function(ar){try{ar.target.onload=undefined;ar.target.onerror=undefined;ar.target.onabort=undefined;var jh=ar.target.poolItem;jh.loaded=true;ab.Ab();}catch(ex){H.ay('downloadImage',ex);}};var aks=function(ar){try{ar.target.onload=undefined;ar.target.onerror=undefined;ar.target.onabort=undefined;ar.target.setAttributeNS('http://www.w3.org/1999/xlink','href','');ar.target.setAttribute('display','none');throw new IPCC.Web.UI.ImGearException('An image failed to download or the user cancelled it',{name:'IPCC.Web.UI.ImGearHttpException'});}catch(ex){H.ay('downloadImage',ex);var cN=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cN.exception=ex;cN.pageNumber=H.bF;H.ae('pageOpenFailed',cN);}};this.aEf=function(xM){var h;var cg=xM.length;if(H.or()===false){cg=xM.length;}else{cg=1;}for(h=0;h<cg;h++){var dX=xM[h];var dO=document.getElementById(dX.poolItem.elementID);if(dO===null){var jh=dX.poolItem;var KW=jh.pool;var gl=document.getElementById(KW.parentElementID);dO=document.createElementNS('http://www.w3.org/2000/svg','image');this.hw(dO,'id',jh.elementID);this.hw(dO,'externalResourcesRequired','true');dO.poolItem=jh;dO.onload=aEk;dO.onerror=aks;dO.onabort=aks;if(document.documentMode>8||IPCC.C.xL.AO){jh.loaded=true;}dO.setAttributeNS('http://www.w3.org/1999/xlink','href','data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7');this.aEa(dO,dX.url,'image/'+dX.contentType);gl.appendChild(dO);this.hw(dO,'display','block');var aK=dX.right-dX.x;var an=dX.bottom-dX.y;this.hw(dO,'x',dX.x);this.hw(dO,'y',dX.y);this.hw(dO,'width',aK);this.hw(dO,'height',an);if(cg>1){var ayj=aK-dX.wl;var ayq=an-dX.wJ;var Ns=document.createElementNS('http://www.w3.org/2000/svg','clipPath');Ns.id=dO.id+'_clip';var fK=document.createElementNS('http://www.w3.org/2000/svg','rect');this.hw(fK,'x',dX.x-dX.wl);this.hw(fK,'y',dX.y-dX.wJ);this.hw(fK,'width',ayj);this.hw(fK,'height',ayq);this.hw(fK,'class','expand-on-print');Ns.appendChild(fK);var insertBeforeElement=null;for(var i=0;i<gl.childNodes.length;i++){if(gl.childNodes.item(i).getAttribute('x')<dX.x||gl.childNodes.item(i).getAttribute('y')<dX.y){insertBeforeElement=gl.childNodes.item(i);break;}}gl.insertBefore(dO,insertBeforeElement);gl.appendChild(Ns);this.hw(dO,'style','clip-path: url(#'+Ns.id+')');this.hw(dO,'class','no-clip-on-print');}}this.hw(dO,'display','block');}if((document.documentMode>8||IPCC.C.xL.AO)&&xM.length>0){ab.Ab();}};this.aEa=function(dO,ao,vg){var qA=true;var lF=0;if(H.jO()===0){qA=false;}function fq(bw){var cF,cN;try{var er=IPCC.Web.Fm(bw),RA;var pq=bw.getResponseHeader("Accusoft-Data-Encrypted");if(pq==='true'&&H.ja()===true){var tZ=IPCC.Web.hA.pA.vC(bw.getResponseHeader("Accusoft-Data-SK"));var aV=IPCC.Web.Hx(tZ,iC);var vd=IPCC.Web.DU(er,aV,iC);RA=IPCC.Web.hA.pA.mY(vd,0,0);}else{RA=IPCC.Web.hA.pA.mY(er,0,0);}dO.setAttributeNS('http://www.w3.org/1999/xlink','href','data:'+vg+';base64,'+RA);}catch(ex){cF="Image error, Error message = "+ex.message;cN=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cN.exception=ex;cN.pageNumber=H.bF;H.ae('pageOpenFailed',cN);throw new IPCC.Web.UI.ImGearArgumentException(null,cF);}};function eP(aE){var hb=aE.response.status,cF,mN,mJ;if(!aE.response){throw new IPCC.Web.UI.ImGearHttpException(hb,"Client Image load timeout");}if(hb===403){lF++;if(aE.response.statusText&&aE.response.statusText!==""){cF="Expired viewer session ID, error message from the server: "+aE.response.statusText;}else{cF="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(hb,cF);}mN=aE.response.getResponseHeader('Accusoft-Status-Message');if(mN){var qT;mJ=aE.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.yp(mJ)){qT=parseInt(mJ,10);}throw new IPCC.Web.UI.ImGearHttpException(hb,mN,qT);}else{if(aE.response.statusText&&aE.response.statusText!==""){cF=aE.response.statusText;}else{cF="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(hb,cF);}};var hs={method:'GET'};if(qA===true){hs.timeout=H.jO();}if(H.atn()&&H.ja()===true){var iC=IPCC.Web.FU.acV(4);var qt=IPCC.Web.hA.IE.mY(iC);var apE=ao+'&iv='+qt;hs.url=apE;}else{hs.mimeType='text/plain; charset=x-user-defined';hs.url=ao;}IPCC.C.mH.ff(hs).then(fq,eP);};this.aEx=function(aj){var J=this;if(aj.Xy){return;}var lF=0;var dX=aj.sg.fi[0].tiles[0];if(!dX){return;}var KW=dX.level.pool;var gl=document.getElementById(KW.parentElementID);var qA=true;if(H.jO()===0){qA=false;}var wO=H.WM();if(aj.Fs){if(wO===2){delete aj.Fs;if(gl.childNodes.length>0){gl.removeChild(gl.childNodes[0]);}}else if(wO===1){if(gl.childNodes.length>0){gl.removeChild(gl.childNodes[0]);}}else{if(gl.childNodes.length===0){gl.appendChild(aj.anO);}}H.yV=true;return;}if(wO>0){return;}function fq(bw){var cN,cF;aj.Xy=false;try{try{var mO;var pq=bw.getResponseHeader("Accusoft-Data-Encrypted");if(pq==='true'&&H.ja()===true){var tZ=IPCC.Web.hA.pA.vC(bw.getResponseHeader("Accusoft-Data-SK"));var aV=IPCC.Web.Hx(tZ,iC);var er=IPCC.Web.Fm(bw);var vd=IPCC.Web.DU(er,aV,iC);mO=IPCC.Web.hA.GM.mY(vd);}else{mO=bw.responseText;}aCi(mO);}catch(ex){cF="SVG image error, Error message = "+ex.message;cN=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cN.exception=ex;cN.pageNumber=H.bF;H.ae('pageOpenFailed',cN);throw new IPCC.Web.UI.ImGearArgumentException(null,cF);}}catch(e){H.ay('openPage',e);if(typeof(H.ae)==='function'){cN=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cN.exception=e;cN.pageNumber=H.bF;H.ae('pageOpenFailed',cN);}}};function eP(aE){var cN,cF,mN,mJ;aj.Xy=false;try{if(!aE.response){throw new IPCC.Web.UI.ImGearHttpException(0,"Client SVG load timeout");}var hb=aE.response.status;if(hb===480){lF++;if(aE.response.statusText&&aE.response.statusText!==""){cF=cF="PDF file password required, error message from the server: "+aE.response.statusText;}else{cF="PDF file password required.";}throw new IPCC.Web.UI.ImGearHttpException(hb,cF);}if(hb===403){lF++;if(aE.response.statusText&&aE.response.statusText!==""){cF="Expired viewer session ID, error message from the server: "+aE.response.statusText;}else{cF="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(hb,cF);}mN=aE.response.getResponseHeader('Accusoft-Status-Message');if(mN){var qT;mJ=aE.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.yp(mJ)){qT=parseInt(mJ,10);}throw new IPCC.Web.UI.ImGearHttpException(hb,mN,qT);}else{if(aE.response.statusText&&aE.response.statusText!==""){cF=aE.response.statusText;}else{cF="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(hb,cF);}}catch(e){H.ay('openPage',e);if(typeof(H.ae)==='function'){cN=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cN.exception=e;cN.pageNumber=H.bF;H.ae('pageOpenFailed',cN);}}};var aps=function(){var aA=H.aN();var zy=aA.amZ();H.yV=true;H.ae('pageDisplayed',{aR:H.bF});if(zy){J.amI(aj);}};var aCi=function(hD){var tu=KW.parentElementID.toString();var Kv=(IPCC.C.DG||IPCC.C.abI)?'':window.location.href.replace(window.location.hash,'').replace(/#$/,'');var aDs=Kv.replace(/"/g,'\\$&');var akX=Kv.replace(/[()]/g,'\\$&');hD=hD.replace(/href="#/g,'href="'+aDs+'#'+tu);hD=hD.replace(/="url\(#/g,'="url('+akX+'#'+tu);hD=hD.replace(/fill:url\(#/g,'fill:url('+akX+'#'+tu);hD=hD.replace(/ id="/g,' id="'+tu);hD=hD.replace(/<use([^>]+)\/>/g,' <use$1></use>');var Xh=document.createElement('div');Xh.innerHTML=hD;var qk=Xh.querySelectorAll('style');IPCC.C.forEach(qk,function(bg){var akV=(bg.styleSheet)?bg.styleSheet.cssText:bg.textContent;if(bg.styleSheet){bg.styleSheet.cssText=akV;}else{bg.appendChild(document.createTextNode(akV));}});var ly=null;var Jd=Xh.firstChild;while(Jd!==null){if(Jd.nodeName==='svg'){ly=Jd;break;}Jd=Jd.nextSibling;}if(ly===null){throw new IPCC.Web.UI.ImGearInvalidOperationException('Unable to process SVG image data.');}if(!aj.Fs){aj.anO=ly;gl.appendChild(ly);aj.Fs=true;if(!H.yV&&aj.Fs){setTimeout(aps,1);}}};var ao;var iC,qt;H.yV=false;if(H.ja()===true){iC=IPCC.Web.FU.aav(4,IPCC.Web.OM());qt=IPCC.Web.hA.IE.mY(iC);ao=dX.url+'&iv='+qt;}else{ao=dX.url;}var hs={method:'GET',url:ao,cache:true};if(qA===true){hs.timeout=H.jO();}aj.Xy=true;IPCC.C.mH.ff(hs).then(fq,eP);};this.aqk=function(dX,du){if(!dX){return;}var Do=document.getElementById(dX.poolItem.elementID);this.hw(Do,'x',dX.x);this.hw(Do,'y',dX.y);this.hw(Do,'width',dX.right-dX.x);this.hw(Do,'height',dX.bottom-dX.y);this.hw(Do,'opacity',du);this.hw(Do,'display','block');};this.abd=function(xM,du,fG){var h;if(H.or()===false){for(h=0;h<xM.length;h++){this.aqk(xM[h],du);}}};return this;};ek.viewerCounter=0;ek.tileCounter=0;ek.imageIDCounter=0;ek.prototype.aBi=function(H){this.jz=IPCC.ek.viewerCounter.toString();IPCC.ek.viewerCounter++;this.H=H;if(IPCC.bZ){this.oA=new IPCC.Web.UI.MarkCollection();}var J=this;function avX(aC,F){J.aDB(F);};function wj(aC,F){J.aDn(F);};H.jK(avX);H.add_markAdded(wj);H.add_markChanged(wj);H.add_inProgressMarkChanged(wj);H.add_markRemoved(wj);H.add_markReordered(wj);H.add_marksLoaded(wj);H.add_markSelectionChanged(wj);H.add_markTextSelectionChanged(wj);};ek.prototype.ali=function(){var cS='igtile'+IPCC.ek.tileCounter.toString();IPCC.ek.tileCounter++;return cS;};ek.prototype.Ab=function(){this.Rn=true;this.Ek=this.Ek&&this.XH;var J=this;var ayp=function(){if(!J.Rn){return;}J.cI(J.H.dv(),J.H.aN(),J.H.eT());J.Ek=true;};window.setTimeout(ayp,0);};ek.prototype.aDB=function(F){var vN=F.get_propertyName();switch(vN){case 'magnifierWindowSize':case 'magnifierWindowPosition':case 'magnifierMagnification':if(!this.H.aN().get_magnifierIsVisible()){return;}break;case 'cursor':case 'markCursor':this.Iq=true;if(this.H.Ar()===true){this.Ab();}return;case 'displayedPageRectangle':if(this.H.yV===true){this.Ab();return;}break;case 'redactionDraftMode':this.Iq=true;this.Ab();return;}if(this.H.Ar()===true){this.Ab();}};ek.prototype.aDn=function(F){if(F.mark&& !this.Iq){this.oA.addMark(F.mark);}else{this.Iq=true;}if(this.H.Ar()===true){this.Ab();}};ek.prototype.Wv=function(){this.kC=this.fG.clone();this.kC.nj(this.acI,this.abM);this.kC.kx(this.H.dv(),this.H.eT());this.rQ=this.kC.clone();this.rQ.wz();};ek.prototype.cI=function(bO,aA,bj){try{this.Rn=false;if(this.OG===true){return;}var da=this.H.mB();if(da===null){return;}var dG=da.igElements;try{this.OG=true;if(this.Fq===undefined||bO===undefined|| !(this.Fq.equals(bO))){if(this.aaf){if(this.jL){this.asY(this.jL);var eH=dG.mT;IPCC.Web.UI.bI.removeHandler(eH,"mousedown",this.aey);IPCC.Web.UI.bI.removeHandler(eH,"mousemove",this.agP);IPCC.Web.UI.bI.removeHandler(eH,"mouseup",this.ahE);IPCC.Web.UI.bI.removeHandler(eH,"dblclick",this.aho);IPCC.Web.UI.bI.removeHandler(eH,"contextmenu",this.ahS);IPCC.Web.UI.bI.removeHandler(dG.eQ,"blur",this.Pp);IPCC.Web.UI.bI.removeHandler(dG.gL,"blur",this.aiU);IPCC.Web.UI.bI.removeHandler(dG.cd,"blur",this.Pp);}delete this.jL;this.aem(dG.oy);this.aem(dG.Cu);this.aaf=false;if(this.HV!==undefined){this.HV.unlockAllItems();}if(this.JQ!==undefined){this.JQ.unlockAllItems();}this.HV=undefined;this.JQ=undefined;da.igElements.nx.onscroll=null;da.igElements.nx.onresize=null;}if(da.querySelectorAll){if(da.querySelectorAll(".pccPageLoadFail").length===0){da.innerHTML='';}}this.H.ow(true);if(bO===undefined){this.OG=false;this.Fq=undefined;this.axY();return;}this.Fq=bO.clone();this.HV=new IPCC.rD();this.HV.createPyramid(this,this.H);this.JQ=new IPCC.rD();this.JQ.createPyramid(this,this.H);this.aaf=true;this.aye(this.jz);}this.fG=aA.eI();var Rf=this.fG.nV(bO);this.fG.nj(-Rf.x,-Rf.y);this.atE=this.fG.clone();this.atE.wz();this.acI=Math.round(Rf.x);this.abM=Math.round(Rf.y);this.Wv();this.anQ(bO,aA,bj);if(bO.bF===0){this.Wv();}}finally{this.OG=false;this.Iq=false;if(this.oA){this.oA.removeAllMarks();}}this.afC(true);}catch(e){this.H.ay('display',e);throw e;}};ek.prototype.aqz=function(vu,vm,yi){if(vu[vm]===yi){return;}vu[vm]=yi;};ek.prototype.hw=function(vu,vm,yi){if(vu.getAttribute(vm)===yi){return;}vu.setAttribute(vm,yi);};ek.prototype.yf=function(vu,vm,yi){if(vu.style[vm]===yi){return;}vu.style[vm]=yi;};ek.prototype.afC=function(ayT){if(this.OG){return;}if(this.Rn&& !this.Ek){return;}if(!ayT){try{this.XH=true;var da=this.H.mB();if(da){this.vR=da.igElements.nx.scrollLeft;this.wa=da.igElements.nx.scrollTop;}this.aoo();this.Wv();this.H.aN().iu(this.kC);this.H.ae('userModifiedViewState',{});this.H.ow(false);}finally{this.XH=false;}}};ek.prototype.amB=function(aj,fG,asR){var sg=aj.sg;var pS=sg.aqD(fG,asR);if(!this.H.yV&&pS.tilesToRequest.length===0&&(pS.opaqueTiles.length+pS.translucentTiles.length)>0){this.H.yV=true;this.H.ae('pageDisplayed',{aR:this.H.bF});}sg.aFn(pS);if(this.H.or()===false){this.aEf(pS.tilesToRequest);this.abd(pS.opaqueTiles,1,fG);this.abd(pS.translucentTiles,pS.opacity,fG);}};ek.prototype.aye=function(jz){var H=this.H;var da=H.mB();var aA=H.aN();var ab=this;function gD(pz){var yM=document.createElement('div');var h;for(h in pz){if(pz.hasOwnProperty(h)){yM.style[h]=pz[h];}}return yM;};var dG={};da.igElements=dG;var iL=gD({width:'100%',height:'100%',position:'relative',overflow:aA.get_overflow(),margin:'0px',borderWidth:'0px','-moz-user-select':'text','-webkit-user-select':'text'});dG.nx=iL;iL.setAttribute('class','igViewerScroller');iL.onscroll=function(){ab.afC(false);};iL.onresize=function(){var bj=H.eT();bj.width=iL.clientWidth;bj.height=iL.clientHeight;H.ae('resize',{});};var eH=gD({width:'2px',height:'2px',position:'relative',overflow:'hidden',margin:'0px',left:'0',top:'0','-ms-touch-action':'none'});iL.appendChild(eH);dG.mT=eH;eH.setAttribute('class','igViewerGraphics');this.AC=2;this.zf=2;this.vR=0;this.wa=0;var aj={};aj.sg=this.HV;aj.Zd='ig'+jz+'level';dG.oy=aj;this.amx(aj,eH,gD);aj.sc=this.sc;var kJ;if(H.or()===false){kJ=gD({position:'absolute',display:'none',width:(aA.un().width+4)+'px',height:(aA.un().height+4)+'px',backgroundColor:'#000000'});}else{kJ=gD({position:'absolute',display:'none',width:(aA.un().width+4)+'px',height:(aA.un().height+4)+'px',backgroundColor:'#cccccc'});}eH.appendChild(kJ);dG.kJ=kJ;kJ.setAttribute('class','igMagnifierFrame');var rc=gD({width:'0px',height:'0px',position:'absolute',overflow:'hidden',margin:'0px',left:'0',top:'0'});dG.rc=rc;kJ.appendChild(rc);aj={};aj.sg=this.JQ;aj.Zd='ig'+jz+'maglevel';dG.Cu=aj;this.amx(aj,rc,gD);aj.sc=this.axA;var PR=document.createTextNode('');dG.PR=PR;var eQ=document.createElement('textarea');eQ.appendChild(PR);eQ.style.position='absolute';eQ.style.overflow='auto';eQ.style.width='80px';eQ.style.height='80px';eQ.style.resize='none';eQ.style.display='none';iL.appendChild(eQ);dG.eQ=eQ;var YJ=document.createTextNode('');dG.YJ=YJ;var gL=document.createElement('input');gL.type="text";gL.style.position='absolute';gL.style.overflow='hidden';gL.style.width='80px';gL.style.height='80px';gL.style.resize='none';gL.style.display='none';gL.style.padding='0px';gL.style.margin='0px';gL.style.lineHeight='normal';gL.className="no-ms-clear";var ale=function(ev){var vo=gL,aK=parseFloat(vo.style['width']),an=parseFloat(vo.style['height']),iZ=vo.style['fontFamily'];var aET=vo.value.length>vo.placeholder.length?vo.value:vo.placeholder;var jE=IPCC.C.uo(aET,iZ,{wQ:'pre',fh:dG.oy.wm}),wV=12*aK/(jE.width||1),wB=12*an/(jE.height||1),zI=Math.floor(Math.min(wV,wB))*0.9;vo.style.fontSize=zI+'px';};gL.onkeyup=ale;gL.onfocus=function(ev){ale(ev);if(gL.setSelectionRange){var hg=gL.value.length*2;gL.setSelectionRange(hg,hg);}};iL.appendChild(gL);dG.gL=gL;var qd=document.createTextNode('');dG.qd=qd;var cd=document.createElement('textarea');cd.appendChild(qd);cd.style.position='absolute';cd.style.overflow='hidden';cd.style.width='80px';cd.style.height='80px';cd.style.resize='none';cd.style.display='none';cd.style.whiteSpace='pre-wrap';cd.style.border=0;cd.style.padding='2px';cd.style.fontStyle='normal';var aCW=function(az){var aou=H.Fy();var cf=H.aN().eI().nY();var ib=aou.ib*cf;var ba=H.mR().hO()*cf;IPCC.C.YT(cd,ib,ba);};cd.onkeyup=aCW;iL.appendChild(cd);dG.cd=cd;this.jL={};this.axp(this.jL);IPCC.Web.UI.bI.addHandler(eH,"mousedown",this.aey);IPCC.Web.UI.bI.addHandler(eH,"mousemove",this.agP);IPCC.Web.UI.bI.addHandler(eH,"mouseup",this.ahE);IPCC.Web.UI.bI.addHandler(eH,"dblclick",this.aho);IPCC.Web.UI.bI.addHandler(eH,"contextmenu",this.ahS);IPCC.Web.UI.bI.addHandler(eQ,"blur",this.Pp);IPCC.Web.UI.bI.addHandler(gL,"blur",this.aiU);IPCC.Web.UI.bI.addHandler(cd,"blur",this.Pp);da.appendChild(iL);};ek.prototype.amx=function(aj,gl,gD){var rA=gD({width:'2px',height:'2px',position:'absolute'});aj.gl=gl;gl.appendChild(rA);aj.alQ=rA;rA.setAttribute('class','igAnchor');this.ayy(aj,rA,aj.sg,aj.Zd);aj.yF=gD({position:'absolute',width:'10px',height:'10px',left:'0px',top:'0px',overflow:'visible'});rA.appendChild(aj.yF);var kA=gD({overflow:'hidden',display:'none',position:'absolute',backgroundColor:'#00C0E0',border:'#006070 2px solid'});kA.style[this.aAq]=this.azZ(0.5);rA.appendChild(kA);aj.kA=kA;};ek.prototype.aem=function(aj){if(aj&&aj.Pa){aj.sc.ass();aj.Pa=false;}aj.gl=null;};ek.prototype.anQ=function(bO,aA,bj){var H=this.H;var lH=this.kC.nV(bO);var da=H.mB();var avv=H.auY();var zL=H.auJ();var dG=da.igElements;var oy=dG.oy;var Cu=dG.Cu;var iL=dG.nx;var eH=dG.mT;var rA=oy.alQ;var kJ=dG.kJ;var rc=dG.rc;var ahW=Cu.alQ;var Ko=Math.max(0,-lH.x);var IZ=Math.max(0,-lH.y);var aDP=Math.max(lH.width,bj.width);var aCZ=Math.max(lH.height,bj.height);var np=Math.max(0,lH.x);var mk=Math.max(0,lH.y);var adE=false;var EE=false;if(aA.Ap()){EE=aA.xa();}var ayi=this.AC;this.AC=Math.floor(aDP-1);if(this.AC<0){this.AC=0;}var aAA=this.zf;this.zf=Math.floor(aCZ-1);if(this.zf<0){this.zf=0;}if(H.or()===true){if(this.zf===0){this.zf=2;}if(this.AC===0){this.AC=2;}}var azm=this.vR;var azv=this.wa;if(!this.Ek){this.vR=Math.floor(Ko);this.wa=Math.floor(IZ);}if(this.aiA){this.yf(rA,'left',np+'px');this.yf(rA,'top',mk+'px');}var fG=aA.eI();fG.nj(Ko-np,IZ-mk);this.amw(oy,aA.eI(),fG,bO,bj,EE,np,mk);this.yf(iL,'overflow',aA.get_overflow());if(bj.width!==iL.clientWidth||bj.height!==iL.clientHeight){bj.width=iL.clientWidth;bj.height=iL.clientHeight;adE=true;}this.aqz(rA.style,'visibility','visible');if(aA.get_magnifierIsVisible()){var uH=aA.get_magnifierWindowPosition();var AQ=aA.un();var Ly=aA.OZ();var LA=aA.PH();var Xa=aA.aut();var aFZ=Math.round(uH.x-AQ.width/2+Ko+Ly);var aFh=Math.round(uH.y-AQ.height/2+IZ+LA);var Mn=Xa.nV(bO);var aGf=Math.max(0,-Mn.x);var aFj=Math.max(0,-Mn.y);this.yf(ahW,'left',Mn.x+'px');this.yf(ahW,'top',Mn.y+'px');var KY=2;kJ.style.width=(AQ.width+KY*2)+'px';kJ.style.height=(AQ.height+KY*2)+'px';rc.style.width=AQ.width+'px';rc.style.height=AQ.height+'px';rc.style.left=KY+'px';rc.style.top=KY+'px';kJ.style.left=aFZ+'px';kJ.style.top=aFh+'px';var alj=Xa.clone();alj.nj(aGf,aFj);this.amw(Cu,Xa,alj,bO,AQ,EE,0,0);kJ.style.display='block';}else{kJ.style.display='none';}if(H.ann()){var jo=H.Fy();var aoW=jo.eG();var hv=this.kC.zg(aoW);var nF=(jo.get_type()===IPCC.Web.UI.MarkType.Text)?64:0;var abr=jo.dW* -1,agS=jo.dW* -1;if(hv.width<nF){hv.width=nF;}if(hv.height<nF){hv.height=nF;}if(hv.width>bj.width){hv.width=bj.width;}if(hv.height>bj.height){hv.height=bj.height;}if(hv.x<0){hv.x=0;}if(hv.y<0){hv.y=0;}if(hv.x+hv.width+1>=bj.width){hv.x=bj.width-hv.width;abr= -8;}if(hv.y+hv.height+1>=bj.height){hv.y=bj.height-hv.height;agS= -8;}var hK=this.FT(jo);hK.style.left=this.vR+hv.x+1+(jo.dW/2)+'px';hK.style.top=this.wa+hv.y+1+(jo.dW/2)+'px';hK.style.width=hv.width+abr-1+'px';hK.style.height=hv.height+agS-1+'px';if(hK.style.display!=='block'){hK.style.display='block';hK.style.whiteSpace='pre-wrap';var sd=jo.co;var sb='';if(sd&IPCC.Web.UI.FontStyle.Italic){hK.style.fontStyle="italic";}if(sd&IPCC.Web.UI.FontStyle.Bold){hK.style.fontWeight="bold";}if(sd&IPCC.Web.UI.FontStyle.Underline){sb+="underline";}if(sd&IPCC.Web.UI.FontStyle.Strikeout){if(sd&IPCC.Web.UI.FontStyle.Underline){sb+=" line-through";}else{sb="line-through";}}hK.style.textDecoration=sb;hK.style.color=jo.qU;hK.style.backgroundColor=jo.cw;hK.style.fontFamily=jo.gk;hK.style['z-index']=100;var zI=jo.FB*this.kC.nY();if(zI){hK.style.fontSize=zI+"px";}switch(jo.jk){case IPCC.Web.UI.HorizontalAlignment.Center:hK.style.textAlign='center';break;case IPCC.Web.UI.HorizontalAlignment.Right:hK.style.textAlign='right';break;default:hK.style.textAlign='left';break;}if(jo.gY){setTimeout(function(){dG.eQ.maxLength=jo.gY;dG.gL.maxLength=jo.gY;dG.cd.maxLength=jo.gY;},0);}if(jo.iv){if(zL){zL.destroy();H.VX(null);}H.VX(new PCCViewer.aBW(hK,jo.iv));}if(jo.jr()===IPCC.Web.UI.MarkType.TextAreaSignature){var cd=IPCC.C.ada();cd.style.width=dG.cd.style.width;cd.style.height=dG.cd.style.height;cd.style.fontFamily=dG.cd.style.fontFamily;cd.style.fontStyle=dG.cd.style.fontStyle;cd.style.fontWeight=dG.cd.style.fontWeight;var cf=H.aN().eI().nY();var ib=jo.ib*cf;var ba=H.mR().hO()*cf;IPCC.C.adf().nodeValue=jo.bo||'m';dG.cd.style.fontSize=IPCC.C.YT(cd,ib,ba)+'px';}hK.focus();}}else{dG.eQ.style.display='none';dG.gL.style.display='none';dG.cd.style.display='none';dG.eQ.removeAttribute('maxlength');dG.gL.removeAttribute('maxlength');dG.cd.removeAttribute('maxlength');if(zL){zL.destroy();H.VX(null);}if(document.activeElement===dG.eQ){dG.eQ.blur();}if(document.activeElement===dG.gL){dG.gL.blur();}if(document.activeElement===dG.cd){dG.cd.blur();}}if(adE){H.ae('resize',{});}if(this.AC!==ayi){this.yf(eH,'width','100%');}if(this.zf!==aAA){this.yf(eH,'height','100%');}if(this.vR!==azm){iL.scrollLeft=this.vR;}if(this.wa!==azv){iL.scrollTop=this.wa;}if(avv==="PageView"&& !this.Ek){aA=H.aN();var ax=aA.eI();var xv=(+ax.nY().toFixed(6));if(H.LE!==xv){H.LE=xv;setTimeout(function(){H.ae('scaleChanged',{scaleFactor:xv,pageNumber:H.bF});},1);H.ae('scaleChanged',{scaleFactor:xv,pageNumber:H.bF});}}};ek.prototype.amw=function(aj,kC,fG,ah,bj,EE,np,mk){var lH=kC.nV(ah);var oI={};oI.width=Math.max(lH.width,bj.width);oI.height=Math.max(lH.height,bj.height);this.anB(aj,kC,fG,ah,bj,np,mk);this.amh(aj,fG,oI,ah,np,mk);if(this.H.or()===false){this.amN(aj,bj,kC,fG);}else{this.aEx(aj);var aA=this.H.aN();var zy=aA.amZ();if(this.H.yV&&zy){this.amI(aj);}}this.aoN(aj);if(EE){var Er=fG.zg(EE);if(this.aiA){aj.kA.style.left=(Er.x-2)+'px';aj.kA.style.top=(Er.y-2)+'px';}else{aj.kA.style.left=(Er.x-2+np)+'px';aj.kA.style.top=(Er.y-2+mk)+'px';}aj.kA.style.width=Er.width+'px';aj.kA.style.height=Er.height+'px';aj.kA.style.display='block';}else{aj.kA.style.display='none';}};ek.prototype.amN=function(aj,bj,kC,fG){var amo=this.H.atM();var Gg={x:0,y:0,width:bj.width,height:bj.height};if(amo){var we=amo.getBoundingClientRect();var hc=aj.gl.getBoundingClientRect();var Sk;if(hc.left<we.left){Sk=we.left-hc.left;Gg.x=(Sk/hc.width)*bj.width;}if(hc.right>we.right){Gg.width=we.width;}if(hc.top<we.top){Sk=we.top-hc.top;Gg.y=(Sk/hc.height)*bj.height;}if(hc.bottom>we.bottom){Gg.height=we.height;}}var rQ=kC.clone();rQ.wz();var aoc=rQ.zg(Gg);this.amB(aj,fG,aoc);};ek.prototype.anB=function(aj,kC,fG,ah,bj,np,mk){var aO=this.H.dV();var hq=this.H.nm();var fz=this.H.Pl();var aiX=0;var J=this;if(aj.mt){aiX=aj.mt.length;}if(!aj.sc|| !aO){return;}var ox=this.H.atW();if(aO.get_markCount()<=0&&hq.get_markCount()<=0&&fz.get_markCount()<=0&&aiX<=0&& !ox){return;}if(!aj.Pa){aj.sc.axs(this.H,aj,ah);aj.mt=[];aj.Pa=true;}hq=this.H.nm();var bb=[];function awB(K){if((J.H.lf()&&J.H.dF().ma()===true)||K.get_type()!==IPCC.Web.UI.MarkType.Highlight){bb.push(K);}};function acg(K){bb.push(K);};fz.forEachMark(acg);hq.forEachMark(acg);aO.forEachMark(awB);if(ox){bb.push(ox);}var h,mt=aj.mt;for(h=0;h<mt.length;h++){while(h<mt.length&&(h>=bb.length||mt[h].K!==bb[h])){aj.sc.Rw(mt[h]);mt.splice(h,1);}if(h<mt.length&&(this.Iq||this.oA.contains(mt[h].K))){aj.sc.amV(mt[h]);}}for(h=mt.length;h<bb.length;h++){mt[h]={K:bb[h]};var V=mt[h];if(!V){continue;}aj.sc.ayM(mt[h]);}if(this.aiA){aj.sc.alI(this.H,aj,bb,fG,this.H.alD());}else{var ajJ=fG.clone();ajJ.nj(np,mk);aj.sc.alI(this.H,aj,bb,ajJ,this.H.alD());}};ek.prototype.amh=function(){};ek.prototype.aoo=function(){var da=this.H.mB();if(da){this.acI=da.igElements.mT.offsetLeft-this.vR;this.abM=da.igElements.mT.offsetTop-this.wa;}};ek.prototype.sv=function(F,cI){var ga=this.H.mB().igElements;var io=F.domEvent;var ef;if(ga.mT.getBoundingClientRect){ef=ga.mT.getBoundingClientRect();}else{var ez=ga.mT;var tq=document.documentElement;ef={left:tq.clientLeft-tq.scrollLeft,top:tq.clientTop-tq.scrollTop};ez=ez.offsetParent;while(ez){ef.top+=ez.offsetTop-ez.scrollTop;ef.left+=ez.offsetLeft-ez.scrollLeft;ez=ez.offsetParent;}}if(io.rawEvent.touches){if(io.rawEvent.touches.length>0){this.MH=new IPCC.Web.UI.Point(io.rawEvent.touches[0].clientX-ga.nx.scrollLeft-ef.left,io.rawEvent.touches[0].clientY-ga.nx.scrollTop-ef.top);}if(!this.MH){this.MH=new IPCC.Web.UI.Point(0,0);}F.windowPoint=new IPCC.Web.UI.Point(this.MH.x,this.MH.y);io.button=0;}else{F.windowPoint=new IPCC.Web.UI.Point(io.clientX-ef.left-ga.nx.scrollLeft,io.clientY-ef.top-ga.nx.scrollTop);}var RW=this.rQ.transform(F.windowPoint);F.imagePoint=new IPCC.Web.UI.Point(RW.x,RW.y);F.constrainedImagePoint=new IPCC.Web.UI.Point(RW.x,RW.y);F.constrainedImagePoint.x=Math.min(Math.max(F.constrainedImagePoint.x,0),this.Fq.width);F.constrainedImagePoint.y=Math.min(Math.max(F.constrainedImagePoint.y,0),this.Fq.height);F.pointLiesWithinImage=(F.constrainedImagePoint.x===F.imagePoint.x&&F.constrainedImagePoint.y===F.imagePoint.y);F.mark=null;try{var cv=io.target;while(!(cv.ImGearMarkRelation)&&cv.parentNode&&cv!==document.body){cv=cv.parentNode;}if(cv.ImGearMarkRelation){F.mark=cv.ImGearMarkRelation.K;}}catch(ar){}};ek.prototype.kY=function(ar){try{ar.preventDefault();var F=new IPCC.Web.UI.MouseEventArgs();F.domEvent=ar;this.sv(F);this.H.aCB(F);}catch(ex){this.H.ay('mouseDown',ex);}};ek.prototype.kP=function(ar){try{ar.preventDefault();var F=new IPCC.Web.UI.MouseEventArgs();F.domEvent=ar;this.sv(F);this.H.aBU(F);}catch(ex){this.H.ay('mouseMove',ex);}};ek.prototype.mo=function(ar){try{var F=new IPCC.Web.UI.MouseEventArgs();F.domEvent=ar;this.sv(F);if(!ar.rawEvent.wheelDelta){F.wheelDelta= -ar.rawEvent.detail*120;}else{F.wheelDelta=ar.rawEvent.wheelDelta;}this.H.aCq(F);}catch(ex){this.H.ay('mouseWheel',ex);}};ek.prototype.AV=function(ar){try{ar.preventDefault();var F=new IPCC.Web.UI.MouseEventArgs();F.domEvent=ar;this.sv(F);this.H.aCM(F);}catch(ex){this.H.ay('mouseDoubleClick',ex);}};ek.prototype.jV=function(ar){try{ar.preventDefault();var F=new IPCC.Web.UI.MouseEventArgs();F.domEvent=ar;this.sv(F);this.H.aAY(F);}catch(ex){this.H.ay('mouseUp',ex);}};ek.prototype.SC=function(ar){try{ar.preventDefault();var F=new IPCC.Web.UI.MouseEventArgs();F.domEvent=ar;this.sv(F);this.H.aCK(F);}catch(ex){this.H.ay('contextMenu',ex);}};ek.prototype.aDh=function(ar){try{this.H.ow(true);}catch(ex){this.H.ay('textAreaBlur',ex);}};ek.prototype.aDl=function(ar){try{this.H.ow(true);}catch(ex){this.H.ay('textInputBlur',ex);}};ek.prototype.aGI=function(K){var eQ=this.FT(K);eQ.value=K.bo||"";};ek.prototype.azY=function(){var H=this.H;var K=H.Fy();if(!K|| !H.ann()){return;}var aaK=this.FT(K);if(document.activeElement===aaK){aaK.blur();}var bo=aaK.value;bo=bo.replace(/(\n|\n\r|\r\n|\r)/g,'\n');K.set_text(bo);};ek.prototype.FT=function(K){var ga=this.H.mB().igElements,eQ=null;if(K.get_type()===IPCC.Web.UI.MarkType.TextLine){eQ=ga.gL;}else if(K.get_type()===IPCC.Web.UI.MarkType.TextAreaSignature){eQ=ga.cd;}else if(K.get_type()===IPCC.Web.UI.MarkType.Text){eQ=ga.eQ;}return eQ;};module.exports=ek;},{}],57:[function(require,module,exports){var zA={};zA.registerNamespace=function(namespacePath){var rootObject=window;var namespaceParts=namespacePath.split('.');var getTypeName=function(){return this.__typeName;};for(var i=0;i<namespaceParts.length;i++){var currentPart=namespaceParts[i];var ns=rootObject[currentPart];var nsType=typeof(ns);if((nsType!=="undefined")&&(ns!==null)){if(nsType==="function"){throw new Error("namespace error: "+namespacePath);}if((typeof(ns)!=="object")||(ns instanceof Array)){throw new Error("Name space error: "+ns);}}if(!ns){ns=rootObject[currentPart]={};}if(!ns.__namespace){ns.__namespace=true;ns.__typeName=namespaceParts.slice(0,i+1).join('.');ns.getName=getTypeName;}rootObject=ns;}};module.exports=zA;},{}],58:[function(require,module,exports){var ImGearExceptions=require('./Web/UI/ImGearExceptions');var bC={bd:function(T,by,bd){if(typeof(T)!==bd){throw new ImGearExceptions.AU(by,typeof(T),bd);}},lW:function(T,by){bC.bd(T,by,'string');},ha:function(T,by){if(!(T instanceof Date)){throw new ImGearExceptions.AU(by,typeof(T),"Date");}},jl:function(T,by){bC.bd(T,by,'number');if(!isFinite(T)){throw new ImGearExceptions.sm(by,T,'The value must be a number.');}},lg:function(T,by,yz,wb){bC.bd(T,by,'number');if(T<yz||T>wb|| !isFinite(T)){throw new ImGearExceptions.sm(by,T,'The value must be a number between '+yz+' and '+wb+' inclusive.');}},SG:function(T,by,Ho){bC.bd(T,by,'number');var h;for(h=0;h<Ho.length;h++){if(T===Ho[h]){return;}}var Pu='';for(h=0;h<Ho.length;h++){if(h>0){if(h===Ho.length-1){Pu+=' or ';}else{Pu+=', ';}}Pu+=Ho[h];}throw new ImGearExceptions.sm(by,T,'The value must be '+Pu+'.');},mE:function(T,by,yz,wb){bC.lg(T,by,yz,wb);if(T!==Math.floor(T)){throw new ImGearExceptions.tY(by,'The value must be an integer.');}},db:function(T,by){bC.bd(T,by,'string');if(!T.match(/#[0-9A-Fa-f]{6}/)){throw new ImGearExceptions.tY(by,'Colors must be strings that begin with a # symbol, followed by 6 hexadecimal digits.');}},TM:function(T,by){bC.bd(T,by,'string');if(!T.match(/#[0-9A-Fa-f]{6}|transparent/)){throw new ImGearExceptions.tY(by,'Colors must be strings that begin with a # symbol, followed by 6 hexadecimal digits or comply with other W3C accepted color values like "transparent".');}},kt:function(T,by,kt,afO){bC.bd(T,by,'number');var dm;var Yb=0;for(dm in kt){if(kt.hasOwnProperty(dm)){if(afO){Yb|=kt[dm];}else{if(T===kt[dm]){return;}}}}var bY="";if(afO){if((T|Yb)===Yb){return;}else{throw new ImGearExceptions.sm(by,T,'The value must be zero or more members of the '+bY+' enumeration.');}}throw new ImGearExceptions.sm(by,T,'The value must be a member of the '+bY+' enumeration.');},aX:function(T,by){bC.jl(T.x,by+'.x');bC.jl(T.y,by+'.y');},R:function(T,by){bC.jl(T.x,by+'.x');bC.jl(T.y,by+'.y');bC.jl(T.width,by+'.width');bC.jl(T.height,by+'.height');}};module.exports=bC;},{"./Web/UI/ImGearExceptions":86}],59:[function(require,module,exports){var de=require('./IPCC.Util').regEnum;var CN=function(){};CN.registerEnum=de;CN.prototype={Document:0,EqualWidthPages:1,SinglePage:2,EqualFitPages:3};CN.registerEnum('IPCC.ViewMode',false);module.exports=CN;},{"./IPCC.Util":29}],60:[function(require,module,exports){var Xi=function(ps){var aA;var bO;var ke;var bj;var ab=this;var Cl;var Ez='';var _debug=false;var oY=IPCC.Web.UI.DebugErrorLevel.Production;var mu=[];var be=new IPCC.Web.UI.gv();var aO;var fz;var ox=null;var GO=false;var wH=false;var wp;var amz=IPCC.Web.UI.ImGearArtDataServices.None;var Iv=false;var wI='';var rz;var aaJ=false;var acF=false;var wO=0;var sQ=true;var ic;var hq;var vf=false;var aij=true,oJ=false;var abk=false;var zL=null;var PG;var Xn=false;var bV=null;this.LE=0.0;this.mj=function(HL){if(!_debug){return false;}return oY>=HL;};this.lV=function(jn,FL,aW){IPCC.iJ.lV(jn,FL,aW,Ez,Cl);};this.ay=function(ju,jC){if(!this.mj(IPCC.Web.UI.DebugErrorLevel.Production)){return;}var cK=ju+'() threw an exception ('+jC.name+'), "'+jC.message+'"';cK=cK.replace(/\n/g," ");this.lV(cK,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production);ab.ae('exceptionThrown',{"function_name":ju,"exception":jC,"pageNumber":ab.bF});};this.FT=function(K){var ga=this.mB().igElements,eQ=null;if(K.get_type()===IPCC.Web.UI.MarkType.TextLine){eQ=ga.gL;}else if(K.get_type()===IPCC.Web.UI.MarkType.TextAreaSignature){eQ=ga.cd;}else if(K.get_type()===IPCC.Web.UI.MarkType.Text){eQ=ga.eQ;}return eQ;};this.get_debug=function(){return _debug;};this.set_debug=function(T){var Jm= ! !T;if(_debug===Jm){return;}_debug=Jm;this.cP('debug');};this.AT=function(){return oY;};this.Gd=function(T){if(oY===T){return;}oY=T;this.cP('debugErrorLevel');};this.get_areMarksEditable=function(){return Xn;};this.set_areMarksEditable=function(T){if(Xn===T){return;}Xn=T;this.cP('areMarksEditable');};this.get_cursor=function(){return bV;};this.set_cursor=function(T){if(bV===T){return;}bV=T;this.cP('cursor');};this.aqE=function(T){Ez=T;};this.auY=function(){return Ez;};this.aqF=function(T){Cl=T;};this.aqK=function(T){PG=T;};this.atM=function(){return PG;};this.eB=function(aDv){this.ow(false);var h;for(h=mu.length-1;h>=0;h--){if(mu[h]instanceof IPCC.jS){mu[h].au(true);}else{mu[h].au();}if(mu[h]instanceof IPCC.jN){mu[h].fa(true);}else{mu[h].fa();}}mu=aDv;for(h=0;h<mu.length;h++){mu[h].nd(this);}};this.aHX=function(){var h;for(h=0;h<mu.length;h++){mu[h].au();}};this.fX=function(ahR,F){var h;for(h=0;h<mu.length;h++){if(F&&F.afF&&F.afF()){return;}if(mu[h][ahR]){mu[h][ahR](F);}}};this.axk=function(ia,cR){switch(ia){case 'touchstart':ke.aiB&&ke.aiB(cR);break;case 'touchmove':ke.ahM&&ke.ahM(cR);break;case 'touchend':ke.aiC&&ke.aiC(cR);break;case 'doubleTap':ke.ait&&ke.ait(cR);break;}};this.jK=function(G){be.addHandler('propertyChanged',G);};this.lC=function(G){be.removeHandler('propertyChanged',G);};this.add_mouseDown=function(G){be.addHandler('mouseDown',G);};this.remove_mouseDown=function(G){be.removeHandler('mouseDown',G);};this.add_mouseMove=function(G){be.addHandler('mouseMove',G);};this.remove_mouseMove=function(G){be.removeHandler('mouseMove',G);};this.add_mouseUp=function(G){be.addHandler('mouseUp',G);};this.remove_mouseUp=function(G){be.removeHandler('mouseUp',G);};this.add_contextMenu=function(G){be.addHandler('contextMenu',G);};this.remove_contextMenu=function(G){be.removeHandler('contextMenu',G);};this.atO=function(G){be.addHandler('contextMenuCommand',G);};this.aGD=function(G){be.removeHandler('contextMenuCommand',G);};this.add_mouseWheel=function(G){be.addHandler('mouseWheel',G);};this.remove_mouseWheel=function(G){be.removeHandler('mouseWheel',G);};this.add_mouseOut=function(G){be.addHandler('mouseOut',G);};this.remove_mouseOut=function(G){be.removeHandler('mouseOut',G);};this.awK=function(G){be.addHandler('resize',G);};this.aFL=function(G){be.removeHandler('resize',G);};this.awT=function(G){be.addHandler('userModifiedViewState',G);};this.aFI=function(G){be.removeHandler('userModifiedViewState',G);};this.add_scaleChanged=function(G){be.addHandler('scaleChanged',G);};this.remove_scaleChanged=function(G){be.removeHandler('scaleChanged',G);};this.add_markAdded=function(G){be.addHandler('markAdded',G);};this.remove_markAdded=function(G){be.removeHandler('markAdded',G);};this.add_markCreating=function(G){be.addHandler('markCreating',G);};this.remove_markCreating=function(G){be.removeHandler('markCreating',G);};this.add_markChanged=function(G){be.addHandler('markChanged',G);};this.remove_markChanged=function(G){be.removeHandler('markChanged',G);};this.add_inProgressMarkChanged=function(G){be.addHandler('inProgressMarkChanged',G);};this.remove_inProgressMarkChanged=function(G){be.removeHandler('inProgressMarkChanged',G);};this.add_markRemoved=function(G){be.addHandler('markRemoved',G);};this.remove_markRemoved=function(G){be.removeHandler('markRemoved',G);};this.add_markReordered=function(G){be.addHandler('markReordered',G);};this.remove_markReordered=function(G){be.removeHandler('markReordered',G);};this.add_marksLoaded=function(G){be.addHandler('marksLoaded',G);};this.remove_marksLoaded=function(G){be.removeHandler('marksLoaded',G);};this.add_marksSaved=function(G){be.addHandler('marksSaved',G);};this.remove_marksSaved=function(G){be.removeHandler('marksSaved',G);};this.add_markSelectionChanged=function(G){be.addHandler('markSelectionChanged',G);};this.remove_markSelectionChanged=function(G){be.removeHandler('markSelectionChanged',G);};this.add_markTextSelectionChanged=function(G){be.addHandler('markTextSelectionChanged',G);};this.remove_markTextSelectionChanged=function(G){be.removeHandler('markTextSelectionChanged',G);};this.add_pageOpenFailed=function(G){be.addHandler('pageOpenFailed',G);};this.add_pageDisplayed=function(G){be.addHandler('pageDisplayed',G);};this.remove_pageOpenFailed=function(G){be.removeHandler('pageOpenFailed',G);};this.add_textPageReady=function(G){be.addHandler('textPageReady',G);};this.remove_textPageReady=function(G){be.removeHandler('textPageReady',G);};this.add_selectTextMouseToolCompleted=function(G){be.addHandler('selectTextMouseToolCompleted',G);};this.remove_selectTextMouseToolCompleted=function(G){be.removeHandler('selectTextMouseToolCompleted',G);};this.add_exceptionThrown=function(G){be.cC('exceptionThrown',G);};this.remove_exceptionThrown=function(G){be.dz('exceptionThrown',G);};this.add_textExtractionFailed=function(G){be.cC('textExtractionFailed',G);};this.remove_textExtractionFailed=function(G){be.dz('textExtractionFailed',G);};this.cP=function(dm,vU){var G=be.getHandler("propertyChanged");if(G){G(this,new IPCC.oe(dm,vU));}};this.mB=function(){var _parent=document.getElementById(Cl);return _parent;};this.aN=function(){return aA;};this.aHo=function(){return be;};function BH(aC,F){Iv=true;F.pageIndex=ab.bF;ab.ae('markAdded',F);ab.fX('iM',F);};function CF(aC,F){Iv=true;F.pageIndex=ab.bF;ab.ae('markChanged',F);ab.fX('mb',F);};function acl(aC,F){F=new IPCC.Web.UI.MarkEventArgs();F.mark=ox;F.pageIndex=ab.bF;ab.ae('inProgressMarkChanged',F);ab.fX('_onInProgressMarkChanged',F);};function Bo(aC,F){Iv=true;F.pageIndex=ab.bF;ab.ae('markRemoved',F);ab.fX('Dw',F);};function avm(aC,F){ab.ae('textPageReady',F);};function avk(aC,F){ab.ae('textExtractionFailed',F);};function Bb(aC,F){Iv=true;F.pageIndex=ab.bF;ab.ae('markReordered',F);ab.fX('aaV',F);};function CA(aC,F){F.pageIndex=ab.bF;ab.ae('marksLoaded',F);ab.fX('aaa',F);};function BQ(aC,F){F.pageIndex=ab.bF;ab.ae('markSelectionChanged',F);ab.fX('DF',F);};function aby(aC,F){F.pageIndex=ab.bF;ab.ae('markTextSelectionChanged',F);};this.aBD=function(aC,F){this.fX('_onTextMarkEditCompleted',F);};function Es(aC,F){F.pageIndex=ab.bF;ab.ae('propertyChanged',F);};this.me=function(T){if(T===aO){return;}if(aO){aO.remove_markAdded(BH);aO.remove_markChanged(CF);aO.remove_markRemoved(Bo);aO.remove_markReordered(Bb);aO.remove_marksLoaded(CA);aO.remove_markSelectionChanged(BQ);aO.lC(Es);aO.BV(true);}aO=T;if(aO){aO.add_markAdded(BH);aO.add_markChanged(CF);aO.add_markRemoved(Bo);aO.add_markReordered(Bb);aO.add_marksLoaded(CA);aO.add_markSelectionChanged(BQ);aO.add_markTextSelectionChanged(aby);aO.jK(Es);}this.cP('artPage');};this.dV=function(){return aO;};this.Fb=function(T){if(T===fz){return;}if(fz){fz.remove_markAdded(BH);fz.remove_markChanged(CF);fz.remove_markRemoved(Bo);fz.remove_markReordered(Bb);fz.remove_marksLoaded(CA);fz.remove_markSelectionChanged(BQ);fz.lC(Es);fz.BV(true);}fz=T;if(fz){fz.add_markAdded(BH);fz.add_markChanged(CF);fz.add_markRemoved(Bo);fz.add_markReordered(Bb);fz.add_marksLoaded(CA);fz.add_markSelectionChanged(BQ);fz.add_markTextSelectionChanged(aby);fz.jK(Es);}this.cP('documentArtPage');};this.Pl=function(){return fz;};this.nm=function(){return hq;};this.AW=function(T){if(T===hq){return;}if(hq){hq.remove_markAdded(BH);hq.remove_markChanged(CF);hq.remove_markRemoved(Bo);hq.remove_markReordered(Bb);hq.remove_marksLoaded(CA);hq.remove_markSelectionChanged(BQ);hq.lC(Es);}hq=T;if(hq){hq.add_markAdded(BH);hq.add_markChanged(CF);hq.add_markRemoved(Bo);hq.add_markReordered(Bb);hq.add_marksLoaded(CA);hq.add_markSelectionChanged(BQ);hq.jK(Es);}this.cP('transientArtPage');};var hE;this.Cc=function(){if(!hE){if(IPCC.Web.UI.Mark){hE=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);hE.set_opacity(100);hE.set_fillColor('#3366CC');hE.set_fillVisible(true);}}return hE;};this.St=function(T){amz=T;this.cP('artServiceOption');};this.WD=function(){return amz;};this.oZ=function(K,oD){if(ox===K){return;}if(ox){ox.remove_propertyChanged(acl);}if(K&& !ox){var F=new IPCC.Web.UI.MarkEventArgs();F.mark=oD?oD:K;F.pageIndex=this.bF;this.ae('markCreating',F);}ox=K;if(ox){ox.add_propertyChanged(acl);}this.cP('inProgressMark');};this.atW=function(){return ox;};this.zd=function(T){if(T===bO){return;}bO=T;this.yV=false;aA.oG();this.cP('image');};this.dv=function(){return bO;};this.abS=function(T){if(T===GO){return;}GO=T;this.cP('GO');};this.alD=function(){return GO;};this.Fv=function(){var wp=this.Fy();var ahU=this.FT(wp);var apc=ahU.value;setTimeout(function(){ahU.setSelectionRange(0,apc.length);},1);};this.wu=function(K){this.ow(false);ke.aGI(K);wH=true;wp=K;this.cP('wH');};this.aiY=function(aU,dI){if(this.lf()&&this.dF().ma()===true){var fO=this.dF().hI();var h=aU;for(;h<aU+dI;h++){var fI=fO.kT(h);var tM='#3366CC';var Kq='#3366CC';hq.aaz(fI.af,Kq,tM,false,h);}}};this.aGQ=function(ak){var h;try{var bP=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);if(!hE){hE=ab.Cc();}for(h in hE){if(hE.hasOwnProperty(h)){bP[h]=hE[h];}}bP.set_rectangle({x:ak.x,y:ak.y,width:ak.width,height:ak.height});ab.oZ(bP);hq.addMark(bP);return bP;}catch(aqw){var aFm=aqw.message;window.console.log(aFm);}};this.GC=function(ca){var Fg;var fO;var XW;Fg=ab.dF();fO=ab.dF().hI();function auM(To){var si=To.tC();if((ca.x>=si.x-10&&ca.x<=si.x+si.width+1)&&(ca.y>=si.y-1&&ca.y<=si.y+si.height+1)){return true;}si=undefined;};if(!XW){for(var h=0;h<fO.ec();h++){if(auM(fO.kT(h))){XW=h;break;}}}return XW;};this.aBP=false;this.zl=function(dC){if(dC===undefined){return;}if(ab.lf()&&ab.dF().ma()===true){var FC=ab.dF().hI().ec();IPCC.bC.mE(dC,'textIndex',0,FC);ab.aN().zl(dC);ab.nm().Cs(function(K){if(K.ym!==true&&K.get_type()!==IPCC.Web.UI.MarkType.ImageStampAnnotation){ab.nm().vb(K);}});if(ab.Ar()===true){ab.cI();}}};this.Vd=function(){var BS=ab.aN().get_transientHighlightMarks();while(BS.length>0){ab.nm().removeMark(BS.pop());}};this.MC=function(uK,dI){if(ab.lf()&&ab.dF().ma()===true){var h=uK;var fO=this.dF().hI();var cZ=uK+dI;if(!hE){hE=ab.Cc();}var BS=ab.aN().get_transientHighlightMarks();for(;h<cZ;h++){var fI=fO.kT(h);BS.push(hq.arC(fI.af,hE,h));}}};this.aGx=function(aGg,dI){var aA=ab.aN();for(var as=dI-1;as>dI;as--){var bQ=aA.jF[as];hq.removeMark(bQ.K);}};this.uw=function(dC){if(dC===undefined){return;}var fI;var aA=ab.aN();var jc=aA.Ee();var tM='#3366CC';var Kq='#3366CC';var du=100;if(!hE){hE=ab.Cc();}du=hE.get_opacity();if(!du){du=100;}tM=hE.get_fillColor();if(tM===undefined){tM='#3366CC';}var fO=ab.dF().hI();if(jc===undefined){fI=fO.kT(dC);var K=hq.aaz(fI.af,Kq,tM,false,du,dC);aA.uw(dC,K,fI.jP);return;}var as;function acX(bp,awq){for(as=aA.jF.length-1;as>=0;as--){var bQ=aA.jF[as];if(bQ.dC===bp){aA.jF.splice(as,1);hq.removeMark(bQ.K);aA.apZ(awq);aA.apr(bp);return as;}}return-1;};function QE(bp){fI=fO.kT(bp);var ahm=hq.aaz(fI.af,Kq,tM,false,du,bp);if(aA.uw(bp,ahm,fI.jP)===false){hq.removeMark(ahm);}};var Lt=aA.anm();var h;if(dC>jc){for(h=jc;h<=dC;h++){if(h===dC){if(h<Lt){continue;}QE(h);}else if(h>=Lt){if(h===jc){continue;}QE(h);}else{acX(h,dC);}}}else if(dC<jc){for(h=jc;h>=dC;h--){if(h===dC){if(h>=Lt){continue;}QE(h);}else if(h<Lt){if(h===jc){continue;}QE(h);}else{acX(h,dC);}}}};this.Dn=function(){var adc="";try{var aA=ab.aN();if(ab.aN().FD()){var aot=ab.dF().hI();if(aA.jF.length>0){var CS=[];for(var h=0;h<aA.jF.length;h++){CS.push(aA.jF[h].dC);}if(CS[0]>CS[1]){CS.reverse();}for(h=0;h<CS.length;h++){adc+=aot.kT(CS[h]).auu();}}}return adc;}catch(e){window.console.log(e.message);}};this.ow=function(azk){if(wH){if(azk){ke.azY();}wH=false;wp=null;this.aBD();this.cP('wH');ab.cI();}};this.ann=function(){return wH;};this.Fy=function(){return wp;};this.Cg=function(){var wp=this.Fy();if(!wp){return null;}var ZU=wp.jr();if(ZU===IPCC.Web.UI.MarkType.TextLine){return 'singleline';}else if(ZU===IPCC.Web.UI.MarkType.TextAreaSignature){return 'multiline';}else if(ZU===IPCC.Web.UI.MarkType.Text){return 'multiline';}};this.aiZ=function(T){acF=T;};this.ZL=function(){return acF;};this.VX=function(T){zL=T;};this.auJ=function(){return zL;};this.aaX=function(T){if(T===wO){return;}wO=T;this.cP('wO');};this.WM=function(){return wO;};this.BV=function(T){if(aO){aO.BV(T);}};this.Pw=function(){if(aO){return aO.Pw();}return true;};this.aBR=function(aGH){var bj=ke.awU(this.mB());this.are(bj);};this.are=function(T){if(T===bj){return;}bj=T;this.cP('windowSpace');};this.eT=function(){return bj;};this.cI=function(){ke.cI(bO,aA,bj);};this.IC=function(){if(this.or()===false){var kC=aA.eI();var H=this;var lH=kC.nV(bO);var da=H.mB();var dG=da.igElements;var aj=dG.oy;var Ko=Math.max(0,-lH.x);var IZ=Math.max(0,-lH.y);var np=Math.max(0,lH.x);var mk=Math.max(0,lH.y);var fG=aA.eI();fG.nj(Ko-np,IZ-mk);ke.amN(aj,bj,kC,fG);}};this.HG=function(T){rz=T;};this.wG=function(){return rz;};this.dF=function(){return ic.dF();};var nb=0;this.mR=function(){return ic;};this.Cv=function(T){if(T===this.mR()){return;}ic=T;if(ic){ic.Am(avm);ic.AI(avk);}};this.lf=function(){return sQ;};this.Jq=function(T){sQ=T;this.cP('textRequired');};this.zP=function(){return vf;};this.Ix=function(T){if(vf===T){return;}vf=T;this.cP('requireRequestsOptimize');};this.Ar=function(){return aij;};this.SA=function(T){aij=T;this.cP('autoUpdate');};var qX=false;this.mr=function(){return qX;};this.qn=function(T){if(typeof T!=="boolean"){return;}if(T===qX){return;}qX=T;if(aO){var agW=false;aO.forEachMark(function(K){if(K.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){agW=true;}});if(agW===true){aO.qn(qX);}}};this.jO=function(){return nb;};this.ya=function(T){if(nb===T){return;}if(isNaN(T)){return;}nb=T;this.cP('serviceResponseTimeout');};var qY='';this.XB=function(eW,ap){if(eW!==''){eW='/'+eW;}ap=ap||'';if(ap===null||ap===''){if(eW==='/Attributes'){if(/^[\x00-\x7F]*$/.test(bO.get_identifier())){return qY+'/Page/q/'+bO.bF.toString()+eW+'?DocumentID=u'+encodeURIComponent(bO.get_identifier());}else{return qY+'/Page/q/'+bO.bF.toString()+eW+'?DocumentID=e'+bO.get_encodedIdentifier();}}else{if(/^[\x00-\x7F]*$/.test(bO.get_identifier())){return qY+'/Page/q/'+bO.bF.toString()+eW+'?DocumentID=u'+encodeURIComponent(bO.get_identifier())+'&Quality=85&ContentType=jpeg';}else{return qY+'/Page/q/'+bO.bF.toString()+eW+'?DocumentID=e'+bO.get_encodedIdentifier()+'&Quality=85&ContentType=jpeg';}}}else{if(/^[\x00-\x7F]*$/.test(bO.get_identifier())){return qY+'/Page/q/'+bO.bF.toString()+eW+'?DocumentID=u'+encodeURIComponent(bO.get_identifier())+'&'+ap;}else{return qY+'/Page/q/'+bO.bF.toString()+eW+'?DocumentID=e'+bO.get_encodedIdentifier()+'&'+ap;}}};this.arG=function(eW,ap){eW=eW||'Art';ap=ap||'';if(ap===null||ap===''){if(eW==='Art'){return qY+'/Page/q/'+bO.bF.toString()+'/'+eW+'?DocumentID=e'+bO.get_encodedIdentifier();}}else{return qY+'/Page/q/'+bO.bF.toString()+'/'+eW+'?DocumentID=e'+bO.get_encodedIdentifier()+'&'+ap;}};this.Zq=function(Dx){if(Iv===false){if(Dx){Dx();}return;}IPCC.C.mH.ff({method:'POST',url:this.arG('Art'),headers:{'Content-Type':'application/json'},body:aO.saveToJson()}).then(function(){if(Dx){Dx();}});};this.uR=function(){return qY;};this.VJ=function(T){qY=T;this.cP('imageHandlerUrl');};this.or=function(){return aaJ;};this.La=function(T){aaJ=T;};this.atn=function(){return abk;};this.adG=function(T){abk=T;};this.lD=function(){return wI;};this.ts=function(T){wI=T;wI.tabIndex= -1;};this.ja=function(){return oJ;};this.lU=function(T){if(typeof T!=="boolean"){return;}if(T===oJ){return;}oJ=T;};this.aCB=function(F){if(wH){this.ow(true);}else{this.ae('mouseDown',F);this.fX('kY',F);}};this.aBU=function(F){this.ae('mouseMove',F);this.fX('kP',F);};this.aAY=function(F){this.ae('mouseUp',F);this.fX('jV',F);};this.aCq=function(F){this.ae('mouseWheel',F);this.fX('mo',F);};this.aCM=function(F){this.ae('mouseDoubleClick',F);this.fX('AV',F);};this.aCK=function(F){this.ae('contextMenu',F);this.fX('SC',F);};this.aCe=function(F){this.ae('contextMenuCommand',F);};this.aCF=function(F){this.ae('mouseOut',F);this.fX('oX',F);};this.aCb=function(F){this.ae('touchStart',F);this.fX('kY',F);};this.aBN=function(F){this.ae('touchMove',F);this.fX('kP',F);};this.aCC=function(F){this.ae('touchEnd',F);this.fX('jV',F);};this.aCH=function(F){this.ae('touchCancel',F);this.fX('FS',F);};this.ae=function(dE,F){var G=be.getHandler(dE);if(G!==null){G(ab,F);}};var aeS=function(H,ps){aA=new IPCC.Ws();function CR(aC,F){ab.ae('propertyChanged',F);};aA.jK(CR);ke=new IPCC.ek(H,ps);if(IPCC.bZ){ke.sc=new IPCC.bZ.cj(H);ke.axA=new IPCC.bZ.cj(H);}};if(ps===false){aeS(this,false);}else{aeS(this,true);}return this;};module.exports=Xi;},{}],61:[function(require,module,exports){var Ws=function(){var pE=0;var pR=1;var nr=1;var zy=false;var dc=new IPCC.eA();var Dk=false;var tJ;var qI;var KF=false;var AX=new IPCC.Bk(200,150,96,96);var uH={x:0,y:0};var LH=3;var Ly=0,LA=0;var hu=0.2;var su=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;var Bz=new IPCC.eA();var JR=0;var Ii=0;var DR=false;var QY;this.jF=[];var WS=IPCC.Web.UI.ScrollBars.Auto;var BS=[];this.get_transientHighlightMarks=function(){return BS;};this.get_scrollBars=function(){return WS;};this.get_overflow=function(){switch(WS){case IPCC.Web.UI.ScrollBars.None:return 'hidden';case IPCC.Web.UI.ScrollBars.Both:return 'scroll';}return 'auto';};this.set_scrollBars=function(T){WS=T;this.cP('scrollBars');};var be=new IPCC.Web.UI.gv();this.jK=function(G){be.addHandler('propertyChanged',G);};this.lC=function(G){be.removeHandler('propertyChanged',G);};this.cP=function(dm){var G=be.getHandler('propertyChanged');if(G){G(this,new IPCC.oe(dm));}};var onSelectionChanged=function(aA){var F={};F.selectionIsVisible=Dk;F.selectionRectangle=aA.xa();aA.cP('selection');};this.oG=function(){tJ={x:0,y:0};qI={x:0,y:0};if(!Dk){return;}Dk=false;onSelectionChanged(this);};this.showSelection=function(cY){tJ.x=cY.x;tJ.y=cY.y;qI.x=cY.x+cY.width;qI.y=cY.y+cY.height;Dk=true;onSelectionChanged(this);};this.Cn=function(ca){tJ.x=ca.x;tJ.y=ca.y;qI.x=ca.x;qI.y=ca.y;Dk=true;onSelectionChanged(this);};this.xA=function(ca){qI.x=ca.x;qI.y=ca.y;onSelectionChanged(this);};this.Ap=function(){return Dk;};this.xa=function(){var R=new IPCC.Web.UI.Rectangle(Math.min(tJ.x,qI.x),Math.min(tJ.y,qI.y),0,0);R.width=Math.max(tJ.x,qI.x)-R.x;R.height=Math.max(tJ.y,qI.y)-R.y;return R;};var Hg=function(){if(!KF){Bz.arp();return;}Bz.Py(dc);Bz.nj(-uH.x,-uH.y);Bz.scale(LH,LH);Bz.nj(AX.width/2,AX.height/2);};this.hideMagnifier=function(){KF=false;Hg();this.cP('magnifierIsVisible');};this.showMagnifier=function(ct){uH.x=ct.x;uH.y=ct.y;KF=true;Hg();this.cP('magnifierWindowPosition');this.cP('magnifierIsVisible');};this.get_magnifierIsVisible=function(){return KF;};this.get_magnifierWindowPosition=function(){return{x:uH.x,y:uH.y};};this.get_magnifierMagnification=function(){return LH;};this.set_magnifierMagnification=function(T){LH=T;Hg();this.cP('magnifierMagnification');};this.OZ=function(){return Ly;};this.WG=function(T){Ly=T;this.cP('magnifierXOffset');};this.PH=function(){return LA;};this.XA=function(T){LA=T;this.cP('magnifierYOffset');};this.un=function(){return{width:AX.width,height:AX.height};};this.set_magnifierWindowSize=function(newMagnifierSize){AX.width=newMagnifierSize.width;AX.height=newMagnifierSize.height;Hg();this.cP('magnifierWindowSize');};this.aut=function(){return Bz.clone();};this.eI=function(){return dc.clone();};this.YH=function(){return hu;};this.XK=function(T){hu=T;this.cP('markHandleSize');};this.zS=function(){return su;};this.Kk=function(T){su=T;this.cP('markHandleMode');};this.iu=function(T){if(T===dc||T.aDi(dc)){return;}if(!T.anp()){throw new IPCC.Web.UI.ImGearInvalidOperationException('The viewing state of the control is invalid.');}dc.Py(T);Hg();this.cP('displayedPageRectangle');};var adB='0';this.get_presentationQuality=function(){return adB;};this.set_presentationQuality=function(T){adB=T;this.cP('presentationQuality');};this.aur=function(){return pR;};this.CL=function(T){pR=T;};this.atl=function(){return pE;};this.EL=function(T){pE=T;};this.asJ=function(){return nr;};this.Gc=function(T){if(T!==nr){zy=true;}nr=T;};this.aqO=function(T){zy=T;};this.amZ=function(){return zy;};var ZP=IPCC.bG.Default;this.aIu=function(){return ZP;};this.app=function(T){if(ZP!==T){ZP=T;this.cP('markCursor');}};this.zl=function(dC){JR=dC;DR=false;Ii=0;};this.MC=function(uK,dI){if(uK!==JR){JR=uK;}Ii=dI;DR=true;};this.Zo=function(){if(DR===true){for(var h=0;h<this.jF.length;h++){this.jF[h].K.set_visible(false);}DR=false;}};this.FD=function(){return DR;};this.uw=function(dC,K,jP){QY=dC;if(dC!==undefined){if(this.jF.length>0&&this.jF[this.jF.length-1].dC===dC){return false;}this.jF.push({dC:dC,K:K,jP:jP});DR=true;Ii++;}else{this.jF=[];Ii=0;}return true;};this.Ee=function(){return QY;};this.apZ=function(T){if(T===undefined){return;}QY=T;};var alb;this.aHa=function(){return alb;};this.apr=function(T){if(T===undefined){return;}alb=T;};this.anm=function(){return JR;};this.aGK=function(){return JR+Ii;};this.Ca=function(){return this.jF.length;};this.oG();this.hideMagnifier();return this;};module.exports=Ws;},{}],62:[function(require,module,exports){var zo={};zo.amS=function(aV){if(!this.AZ[0][0][0]){this.Xz();}var h,as,eb,Hz,QD,lO=this.AZ[0][4],us=this.AZ[1],sX=aV.length,Mw=1;if(sX!==4&&sX!==6&&sX!==8){throw new IPCC.Web.UI.ImGearArgumentException('none',"invalid aes key size");}this.aV=[Hz=aV.slice(0),QD=[]];for(h=sX;h<4*sX+28;h++){eb=Hz[h-1];if(h%sX===0||(sX===8&&h%sX===4)){eb=lO[eb>>>24]<<24^lO[eb>>16&255]<<16^lO[eb>>8&255]<<8^lO[eb&255];if(h%sX===0){eb=eb<<8^eb>>>24^Mw<<24;Mw=Mw<<1^(Mw>>7)*283;}}Hz[h]=Hz[h-sX]^eb;}for(as=0;h;as++,h--){eb=Hz[as&3?h:h-4];if(h<=4||as<4){QD[as]=eb;}else{QD[as]=us[0][lO[eb>>>24]]^us[1][lO[eb>>16&255]]^us[2][lO[eb>>8&255]]^us[3][lO[eb&255]];}}};zo.amS.prototype={Qt:function(bX){return this.avK(bX,1);},AZ:[[[],[],[],[],[]],[[],[],[],[],[]]],Xz:function(){var NM=this.AZ[0],us=this.AZ[1],lO=NM[4],aCO=us[4],h,bf,wY,fc=[],abz=[],SP,ahk,ahx,ii,Oz,PE;for(h=0;h<256;h++){abz[(fc[h]=h<<1^(h>>7)*283)^h]=h;}for(bf=wY=0;!lO[bf];bf^=SP||1,wY=abz[wY]||1){ii=wY^wY<<1^wY<<2^wY<<3^wY<<4;ii=ii>>8^ii&255^99;lO[bf]=ii;aCO[ii]=bf;ahx=fc[ahk=fc[SP=fc[bf]]];PE=ahx*0x1010101^ahk*0x10001^SP*0x101^bf*0x1010100;Oz=fc[ii]*0x101^ii*0x1010100;for(h=0;h<4;h++){NM[h][bf]=Oz=Oz<<24^Oz>>>8;us[h][ii]=PE=PE<<24^PE>>>8;}}for(h=0;h<5;h++){NM[h]=NM[h].slice(0);us[h]=us[h].slice(0);}},avK:function(qR,HT){if(qR.length!==4){throw new IPCC.Web.UI.ImGearArgumentException('blocksize','Invalid block size');}var aV=this.aV[HT],dA=qR[0]^aV[0],eE=qR[HT?3:1]^aV[1],ea=qR[2]^aV[2],fc=qR[HT?1:3]^aV[3],uk,aiQ,ahD,aDC=aV.length/4-2,h,Ba=4,fE=[0,0,0,0],Gt=this.AZ[HT],Ni=Gt[0],MY=Gt[1],Pd=Gt[2],PS=Gt[3],lO=Gt[4];for(h=0;h<aDC;h++){uk=Ni[dA>>>24]^MY[eE>>16&255]^Pd[ea>>8&255]^PS[fc&255]^aV[Ba];aiQ=Ni[eE>>>24]^MY[ea>>16&255]^Pd[fc>>8&255]^PS[dA&255]^aV[Ba+1];ahD=Ni[ea>>>24]^MY[fc>>16&255]^Pd[dA>>8&255]^PS[eE&255]^aV[Ba+2];fc=Ni[fc>>>24]^MY[dA>>16&255]^Pd[eE>>8&255]^PS[ea&255]^aV[Ba+3];Ba+=4;dA=uk;eE=aiQ;ea=ahD;}for(h=0;h<4;h++){fE[HT?3& -h:h]=lO[dA>>>24]<<24^lO[eE>>16&255]<<16^lO[ea>>8&255]<<8^lO[fc&255]^aV[Ba++];uk=dA;dA=eE;eE=ea;ea=fc;fc=uk;}return fE;}};module.exports=zo;},{}],63:[function(require,module,exports){var hA={};hA.GM={mY:function(dp){var fE="",qJ=IPCC.Web.gO.uE(dp),h,eb;for(h=0;h<qJ/8;h++){if((h&3)===0){eb=dp[h/4];}fE+=String.fromCharCode(eb>>>24);eb<<=8;}return decodeURIComponent(escape(fE));},vC:function(bY){bY=unescape(encodeURIComponent(bY));var fE=[],h,eb=0;for(h=0;h<bY.length;h++){eb=eb<<8|bY.charCodeAt(h);if((h&3)===3){fE.push(eb);eb=0;}}if(h&3){fE.push(IPCC.Web.gO.JO(8*(h&3),eb));}return fE;}};hA.pA={yQ:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mY:function(dp,aDt,ao){var fE="",h,er=0,ea=IPCC.Web.hA.pA.yQ,vq=0,qJ=IPCC.Web.gO.uE(dp);if(ao){ea=ea.substr(0,62)+'-_';}for(h=0;fE.length*6<qJ;){fE+=ea.charAt((vq^dp[h]>>>er)>>>26);if(er<6){vq=dp[h]<<(6-er);er+=26;h++;}else{vq<<=6;er-=6;}}while((fE.length&3)&& !aDt){fE+="=";}return fE;},vC:function(bY,ao){bY=bY.replace(/\s|=/g,'');var fE=[],h,er=0,ea=IPCC.Web.hA.pA.yQ,vq=0,bf;if(ao){ea=ea.substr(0,62)+'-_';}for(h=0;h<bY.length;h++){bf=ea.indexOf(bY.charAt(h));if(bf<0){throw new IPCC.Web.UI.ImGearArgumentException('base64','Invalid base64');}if(er>26){er-=26;fE.push(vq^bf>>>er);vq=bf<<(32-er);}else{er+=6;vq^=bf<<(32-er);}}if(er&56){fE.push(IPCC.Web.gO.JO(er&56,vq,1));}return fE;}};hA.IE={mY:function(dp){return IPCC.Web.hA.pA.mY(dp,1,1);},vC:function(bY){return IPCC.Web.hA.pA.vC(bY,1);}};module.exports=hA;},{}],64:[function(require,module,exports){var qr={};qr.TW=function(qr){if(!this.aV[0]){this.Xz();}if(qr){this.fo=qr.fo.slice(0);this.zY=qr.zY.slice(0);this.dI=qr.dI;}else{this.akJ();}};qr.TW.qr=function(bX){return(new IPCC.Web.qr.TW()).anT(bX).arI();};qr.TW.prototype={aHG:512,akJ:function(){this.fo=this.aej.slice(0);this.zY=[];this.dI=0;return this;},anT:function(bX){if(typeof bX==="string"){bX=IPCC.Web.Codec.GM.vC(bX);}var h,eE=this.zY=IPCC.Web.gO.SY(this.zY,bX),aiS=this.dI,aCU=this.dI=aiS+IPCC.Web.gO.uE(bX);for(h=512+aiS& -512;h<=aCU;h+=512){this.oa(eE.splice(0,16));}return this;},arI:function(){var h,eE=this.zY,fo=this.fo;eE=IPCC.Web.gO.SY(eE,[IPCC.Web.gO.JO(1,1)]);for(h=eE.length+2;h&15;h++){eE.push(0);}eE.push(Math.floor(this.dI/0x100000000));eE.push(this.dI|0);while(eE.length){this.oa(eE.splice(0,16));}this.akJ();return fo;},aej:[],aV:[],Xz:function(){var h=0,GH=2,bk;function afk(bf){return(bf-Math.floor(bf))*0x100000000|0;};aAB:for(;h<64;GH++){for(bk=2;bk*bk<=GH;bk++){if(GH%bk===0){continue aAB;}}if(h<8){this.aej[h]=afk(Math.pow(GH,1/2));}this.aV[h]=afk(Math.pow(GH,1/3));h++;}},oa:function(aoi){var h,eb,dA,eE,ie=aoi.slice(0),fo=this.fo,cs=this.aV,abF=fo[0],rh=fo[1],Gj=fo[2],Qf=fo[3],rR=fo[4],Nb=fo[5],GA=fo[6],aaj=fo[7];for(h=0;h<64;h++){if(h<16){eb=ie[h];}else{dA=ie[(h+1)&15];eE=ie[(h+14)&15];eb=ie[h&15]=((dA>>>7^dA>>>18^dA>>>3^dA<<25^dA<<14)+(eE>>>17^eE>>>19^eE>>>10^eE<<15^eE<<13)+ie[h&15]+ie[(h+9)&15])|0;}eb=(eb+aaj+(rR>>>6^rR>>>11^rR>>>25^rR<<26^rR<<21^rR<<7)+(GA^rR&(Nb^GA))+cs[h]);aaj=GA;GA=Nb;Nb=rR;rR=Qf+eb|0;Qf=Gj;Gj=rh;rh=abF;abF=(eb+((rh&Gj)^(Qf&(rh^Gj)))+(rh>>>2^rh>>>13^rh>>>22^rh<<30^rh<<19^rh<<10))|0;}fo[0]=fo[0]+abF|0;fo[1]=fo[1]+rh|0;fo[2]=fo[2]+Gj|0;fo[3]=fo[3]+Qf|0;fo[4]=fo[4]+rR|0;fo[5]=fo[5]+Nb|0;fo[6]=fo[6]+GA|0;fo[7]=fo[7]+aaj|0;}};module.exports=qr;},{}],65:[function(require,module,exports){var BL={};BL.ayS={by:"cbc",ajj:function(Lx,WK,jD,xi){if(xi&&xi.length){throw new IPCC.Web.UI.ImGearArgumentException('data','cannot authenticate data');}if(IPCC.Web.gO.uE(jD)!==128){throw new IPCC.Web.UI.ImGearArgumentException('iv','invalid data');}var h,ie=IPCC.Web.gO,Sd=ie.afQ,qJ=ie.uE(WK),air=0,nR=[];if(qJ&7){throw new IPCC.Web.UI.ImGearInvalidOperationException('padding works only for multiple bytes');}for(h=0;air+128<=qJ;h+=4,air+=128){jD=Lx.ajj(Sd(jD,WK.slice(h,h+4)));nR.splice(h,0,jD[0],jD[1],jD[2],jD[3]);}qJ=(16-((qJ>>3)&15))*0x1010101;jD=Lx.ajj(Sd(jD,ie.SY(WK,[qJ,qJ,qJ,qJ]).slice(h,h+4)));nR.splice(h,0,jD[0],jD[1],jD[2],jD[3]);return nR;},Qt:function(Lx,ME,jD,xi){if(xi&&xi.length){throw new IPCC.Web.UI.ImGearArgumentException(xi,"cbc can't authenticate data");}if(IPCC.Web.gO.uE(jD)!==128){throw new IPCC.Web.UI.ImGearArgumentException('iv',"cbc iv must be 128 bits");}if((IPCC.Web.gO.uE(ME)&127)|| !ME.length){throw new IPCC.Web.UI.ImGearInvalidOperationException("cbc ciphertext must be a positive multiple of the block size");}var h,ie=IPCC.Web.gO,Sd=ie.afQ,rV,rZ,nR=[];xi=xi||[];for(h=0;h<ME.length;h+=4){rV=ME.slice(h,h+4);rZ=Sd(jD,Lx.Qt(rV));nR.splice(h,0,rZ[0],rZ[1],rZ[2],rZ[3]);jD=rV;}rV=nR[h-1]&255;if(rV===0||rV>16){throw new IPCC.Web.UI.ImGearInvalidOperationException('pkcs#5 padding corrupt');}rZ=rV*0x1010101;if(!ie.aqv(ie.Ru([rZ,rZ,rZ,rZ],0,rV*8),ie.Ru(nR,nR.length*32-rV*8,nR.length*32))){throw new IPCC.Web.UI.ImGearInvalidOperationException('2pkcs#5 padding corrupt');}return ie.Ru(nR,0,nR.length*32-rV*8);}};module.exports=BL;},{}],66:[function(require,module,exports){var ci=require('../../IPCC.Util').regClass;var Qn=function(){var bb=[];var be=new IPCC.Web.UI.gv();var eO=new IPCC.Web.UI.MarkCollection();var J=this;var GS=true;this.aDM=[];function onMarkSelectionChanged(aC,F){var K=F.mark;if(K.am&&K.am[0]&&K.am[0].cQ===false){return;}var cA;var alH=F.mark.get_selected();if(K.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&K.bn!==undefined){eO.remove_markAdded(onMarkSelectionChanged);eO.remove_markRemoved(onMarkSelectionChanged);for(var h=0;h<bb.length;h++){if(bb[h].bn===K.bn){if(bb[h].get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){cA=bb[h];}else{bb[h].set_selected(F.mark.get_selected());}}}eO.add_markAdded(onMarkSelectionChanged);eO.add_markRemoved(onMarkSelectionChanged);if(cA){cA.set_selected(alH);}return;}else if(K.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){eO.remove_markAdded(onMarkSelectionChanged);eO.remove_markRemoved(onMarkSelectionChanged);for(var bU=0;bU<K.am.length;bU++){K.am[bU].set_selected(F.mark.get_selected());}eO.add_markAdded(onMarkSelectionChanged);eO.add_markRemoved(onMarkSelectionChanged);}var eF=new IPCC.Web.UI.MarkEventArgs();eF.mark=K;eF.zIndex=J.oR(K);eF.length=1;J.ae('markSelectionChanged',eF);};eO.add_markAdded(onMarkSelectionChanged);eO.add_markRemoved(onMarkSelectionChanged);var azf=eO.addMark;eO.addMark=function(K){if(J.oR(K)<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot select a Mark that is not associated with the ArtPage.');}if(!eO.contains(K)){azf.call(eO,K);K.cP('selected');}};var aAI=eO.addMarks;eO.addMarks=function(xB){var oA=[];function Vq(K){if(J.oR(K)<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot select a Mark that is not associated with the ArtPage.');}if(!eO.contains(K)){oA.push(K);}};xB.forEach(Vq,{});aAI.call(eO,xB);var h;for(h=0;h<oA.length;h++){oA[h].cP('selected');}};var azr=eO.removeMark;eO.removeMark=function(K){if(eO.contains(K)){azr.call(eO,K);K.cP('selected');}};var aAu=eO.removeAllMarks;eO.removeAllMarks=function(){var oA=[];function Vq(K){if(eO.contains(K)){oA.push(K);}};eO.forEach(Vq,{});aAu.call(eO);var h;for(h=0;h<oA.length;h++){oA[h].cP('selected');}};function ald(km){IPCC.bC.mE(km,'zIndex',0,bb.length-1);};this.YA=function(){return bb.length;};this.amu=function(){var h=0;for(;h<bb.length;h++){if(bb[h].get_type()!==IPCC.Web.UI.MarkType.HighlightText&&bb[h].get_type()!==IPCC.Web.UI.MarkType.Highlight&& !(bb[h].get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&bb[h].bn!==undefined)){break;}}return h;};this.Ac=function(){return eO;};this.BV=function(T){if(T===GS){return;}GS=T;this.cP('GS');};this.Pw=function(){return GS;};var qX=false;this.mr=function(){return qX;};this.qn=function(T){if(typeof T!=="boolean"){return;}qX=T;this.cP('redactionDraftMode');};function mb(aC,F){if(F.get_propertyName()==='selected'){return;}var eF=new IPCC.Web.UI.MarkEventArgs();eF.mark=aC;eF.zIndex=J.oR(aC);eF.propertyName=F.dm;eF.length=1;if(eF.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||(eF.mark.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&eF.mark.bn!=='undefined')){J.aoO(aC);}J.ae('markChanged',eF);};function za(aC){var eF=new IPCC.Web.UI.MarkEventArgs();eF.mark=aC;eF.zIndex=J.oR(aC);eF.length=1;J.ae('markTextSelectionChanged',eF);};function Qo(aC,F){var eF=new IPCC.Web.UI.CommentEventArgs();eF.mark=aC;eF.comment=F.comment;eF.index=F.index;J.ae('commentAdded',eF);};function Pv(aC,F){var eF=new IPCC.Web.UI.CommentEventArgs();eF.mark=aC;eF.comment=F.comment;eF.index=F.index;J.ae('commentRemoved',eF);};function Pm(aC,F){var eF=new IPCC.Web.UI.CommentEventArgs();eF.mark=aC;eF.comment=F.comment;eF.index=F.index;J.ae('commentChanged',eF);};this.Pq=function(K,pF){pF=pF||{};var km=this.oR(K);if(km>=0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot add a Mark to an ArtPage if the mark is already associated with the ArtPage.');}if(K.dV()){throw new IPCC.Web.UI.ImGearInvalidOperationExceptionException('You cannot add a Mark to an ArtPage if the mark is already associated with a different ArtPage.');}bb.push(K);K.me(this);K.add_propertyChanged(mb);K.add_markTextSelectionChanged(za);K.yu(Qo);K.wW(Pv);K.sR(Pm);var F=new IPCC.Web.UI.MarkEventArgs();F.mark=K;if(K.get_type()===IPCC.Web.UI.MarkType.Highlight||K.get_type()===IPCC.Web.UI.MarkType.HighlightText||K.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||K.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink||K.get_type()===IPCC.Web.UI.MarkType.Strikethrough||(K.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&K.bn!==undefined)){this.adt(K,0);}else{F.zIndex=bb.length-1;}F.clientX=pF.clientX;F.clientY=pF.clientY;F.length=1;J.ae('markAdded',F);};this.Cs=function(iA,dJ){var Ke=[].concat(bb);var h;for(h=0;h<Ke.length;h++){iA.call(dJ,Ke[h],h,this);}};this.Qv=function(km){ald(km);return bb[km];};this.oR=function(K){var h;for(h=0;h<bb.length;h++){if(bb[h]===K){return h;}}return-1;};this.aGb=function(fN){var eC=JSON.parse(fN);this.UG();var JN=[];var h;var MD=eC.m;if(MD){for(h=0;h<MD.length;h++){var bP=new IPCC.Web.UI.Mark(MD[h].t);bP.aEt(MD[h]);bP.me(this);bP.add_propertyChanged(mb);bP.add_markTextSelectionChanged(za);JN.push(bP);}}bb=JN;J.ae('marksLoaded',{});};var ALPHA_CHAR_CODES=[48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70];this.avB=function(){var ln=new Array(36);var bp=0;var h;var as;for(h=0;h<8;h++){ln[bp++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}for(h=0;h<3;h++){ln[bp++]=45;for(as=0;as<4;as++){ln[bp++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}}ln[bp++]=45;var apb=new Date().getTime();var amr=("0000000"+apb.toString(16).toUpperCase()).substr(-8);for(h=0;h<8;h++){ln[bp++]=amr.charCodeAt(h);}for(h=0;h<4;h++){ln[bp++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}return String.fromCharCode.apply(null,ln);};function Vc(ly){var bf=ly.firstChild;while(bf.nodeType!==1){bf=bf.nextSibling;}return bf;};function Pn(tA,ahZ,asF){var ayQ=parseFloat(tA.getAttribute(ahZ));var ayK=parseFloat(tA.getAttribute(ahZ+'Wn'));return asF/(ayQ/ayK);};function aEn(LF,bS,ba){if(bS<=0&&ba<=0){return 1;}var agX=LF.getAttribute('pageWidth');var ahf=LF.getAttribute('pageHeight');var KR,Rg,bk,tA,h;if(agX&&ahf){KR=parseFloat(agX);Rg=parseFloat(ahf);if(isFinite(KR)&&isFinite(Rg)&&KR>0&&Rg>0){return bS/KR;}}for(h=0;h<LF.childNodes.length;h++){tA=LF.childNodes[h];if(tA.nodeName!=='annotation'){continue;}bk=Pn(tA,'width',bS);if(isFinite(bk)&&bk>0){return bk;}bk=Pn(tA,'height',ba);if(isFinite(bk)&&bk>0){return bk;}bk=Pn(tA,'x',bS);if(isFinite(bk)&&bk>0){return bk;}bk=Pn(tA,'y',ba);if(isFinite(bk)&&bk>0){return bk;}}return 1;};this.aEP=function(ki,aR,bS,ba,Yg,stampImages,xI,ve){var J=this;if(xI!==true){this.UG();}if(ki){var jx;if(IPCC.tE.Ja()){jx=ki.firstChild;}else{var SJ=ki.firstChild.nodeName;if(SJ.toLowerCase()==='xml'){jx=ki.firstChild.nextSibling;}else{jx=ki.firstChild;}}var cT=Vc(jx);if(cT.nodeName!=='pages'){throw 'ERROR: pages';}if(cT.hasChildNodes()){var h;for(h=0;h<cT.childNodes.length;h++){var aS=cT.childNodes[h];if(aS.nodeName!=='page'){continue;}var zB=aS.getAttribute('id');var mw=false;var uj;var qp='';var JG=[];var ik;var oz,bU=0;var cD,cO,aU;if(Yg){var ahd=aS.getAttribute('pageWidth'),agk=aS.getAttribute('pageHeight');if(ahd){Yg.als(ahd);}if(agk){Yg.akZ(agk);}}var lQ=[],RH={},am;if((zB&&parseInt(zB,10))===(aR+1)){mw=true;var JN=[];var as;var bP;var ip,gG,qh,ti,rH,gY;var nc=1;var ajd=aEn(aS,bS,ba);if(ajd>0){nc=ajd;}for(as=0;as<aS.childNodes.length;as++){var bJ=aS.childNodes[as];if(bJ.nodeName!=='annotation'){continue;}var iK=parseFloat(bJ.getAttribute('width'))*nc;var jw=parseFloat(bJ.getAttribute('height'))*nc;var gT=parseFloat(bJ.getAttribute('x'))*nc;var gF=parseFloat(bJ.getAttribute('y'))*nc;var Vh=bJ.getAttribute('fillColor'),Wg,qw,Uw=bJ.getAttribute('lineColor'),amy,iU,afM=bJ.getAttribute('fontColor'),amA,AG;if(Vh==='transparent'){Wg=qw=Vh;}else{Wg=parseInt(Vh||0,10);qw=parseInt(Wg,10).toString(16);while(qw.length<6){qw='0'+qw;}qw='#'+qw;}if(Uw==='transparent'){iU=Uw;}else{amy=parseInt(Uw||0,10);iU=parseInt(amy,10).toString(16);while(iU.length<6){iU='0'+iU;}iU='#'+iU;}if(afM){amA=parseInt(afM||0,10);AG=parseInt(amA,10).toString(16);while(AG.length<6){AG='0'+AG;}AG='#'+AG;}var atC=bJ.getAttribute('stampSize');var OS=bJ.getAttribute('dragDirection');var Hd=parseInt(bJ.getAttribute('opacity'),10);if(isNaN(Hd)){Hd=255;}if(bJ.nodeName==='annotation'){var alN=bJ.getAttribute('label');if(!alN){alN='';}var kO=bJ.getAttribute('drawType');var ll;switch(kO){case 'imagestamp':case 'imagestamp_redact':var qv=bJ.getAttribute('imageStampId');var bq=(kO==='imagestamp')?IPCC.Web.UI.MarkType.ImageStampAnnotation:IPCC.Web.UI.MarkType.ImageStampRedaction;bP=new IPCC.Web.UI.Mark(bq);bP.set_rectangle({x:gT,y:gF,width:iK,height:jw});bP.set_image(stampImages[qv].base64format);bP.qv=qv;ip=true;if(kO==='imagestamp_redact'){bP.kL(true);}break;case 'circle':bP=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Ellipse);bP.set_rectangle({x:gT,y:gF,width:iK,height:jw});ip=true;bP.set_lineColor(iU);bP.set_fillVisible(false);bP.set_lineWidth(parseFloat(bJ.getAttribute('lineWidth')));break;case 'circle_filled':case 'circle_trans':bP=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Ellipse);bP.set_rectangle({x:gT,y:gF,width:iK,height:jw});ip=true;bP.set_fillColor(qw);bP.set_lineColor(iU);bP.set_fillVisible(true);bP.set_lineWidth(parseFloat(bJ.getAttribute('lineWidth')));break;case 'text':case 'text_redact':bP=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Text);bP.set_rectangle({x:gT,y:gF,width:iK,height:jw});bP.set_fontName('verdana');bP.set_fontSize(10);bP.set_opacity(0);uj=undefined;bP.set_fillColor('#000000');if(kO==='text_redact'){bP.kL(true);}if(kO==='text'){bP.set_fillColor(qw);bP.set_lineColor(iU);bP.set_lineWidth(parseFloat(bJ.getAttribute('lineWidth')));bP.set_fillVisible(true);bP.set_opacity(Hd);}gY=parseInt(bJ.getAttribute('maxLength'));if(!isNaN(gY)){bP.set_maxLength(gY);}lQ=[];gG=bJ.firstChild;while((gG)&&(gG.nodeType!==4)){gG=gG.nextSibling;}if((gG)&&(gG.nodeType===4)){ll=gG.innerText||gG.textContent||gG.data;bP.bH.bo=ll;oz=ll.split("</TEXTFORMAT>");qp='';JG=[];for(bU=0;bU<oz.length;bU++){if(oz[bU].match(/<TEXTFORMAT/)){oz[bU]=oz[bU]+"</TEXTFORMAT>";lQ.push(oz[bU]);}}for(bU=0;bU<lQ.length;bU++){if(lQ[bU].match(/<P/)){uj=this.adQ(lQ[bU]);JG.push(uj);qp+=uj+" ";if(bU===0){ik=this.acy(lQ[bU]);ady(ik,bP);}}qp=qp.replace(/\s+$/g,"");bP.set_text(qp);var GP=this.adA(lQ[bU]);switch(GP){case 'CENTER':bP.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);break;case 'RIGHT':bP.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Right);break;default:bP.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Left);break;}}}break;case 'line':case 'arrow':bP=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Line);var aY=bP.oc();if(OS==='br'){aY.setPoint(1,new IPCC.Web.UI.Point(gT+iK,gF+jw));aY.setPoint(0,new IPCC.Web.UI.Point(gT,gF));}else if(OS==='bl'){aY.setPoint(1,new IPCC.Web.UI.Point(gT,gF+jw));aY.setPoint(0,new IPCC.Web.UI.Point(gT+iK,gF));}else if(OS==='tr'){aY.setPoint(1,new IPCC.Web.UI.Point(gT+iK,gF));aY.setPoint(0,new IPCC.Web.UI.Point(gT,gF+jw));}else if(OS==='tl'){aY.setPoint(1,new IPCC.Web.UI.Point(gT,gF));aY.setPoint(0,new IPCC.Web.UI.Point(gT+iK,gF+jw));}bP.set_lineColor(iU);bP.set_lineWidth(parseFloat(bJ.getAttribute('lineWidth')));if(kO==='arrow'){bP.set_headFillColor(iU);bP.set_endHeadType(IPCC.Web.UI.LineHeadType.Solid);bP.set_startHeadAngle(30);bP.set_startHeadLength(35);bP.set_lineWidth(parseFloat(bJ.getAttribute('lineWidth')));}break;case 'stamp':case 'stamp_redact':bP=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Stamp);bP.set_rectangle({x:gT,y:gF,width:iK,height:jw});bP.set_fillColor(iU);if(kO==='stamp_redact'){bP.kL(true);bP.set_fillColor('#000000');}gG=bJ.firstChild;while((gG)&&(gG.nodeType!==4)){gG=gG.nextSibling;}if((gG)&&(gG.nodeType===4)){ll=gG.innerText||gG.textContent||gG.data;bP.bH.bo=ll;bP.set_text(ll);}break;case 'highlightText':bP=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);bP.set_rectangle({x:gT,y:gF,width:iK,height:jw});bP.set_fillColor(iU);bP.bn=bJ.getAttribute('highlightGroupID');if(bJ.getAttribute('textLength')){bP.cD=parseInt(bJ.getAttribute('textLength'),10);}bP.cO=bJ.getAttribute('selectedText');if(bJ.getAttribute('startIndex')){bP.aU=parseInt(bJ.getAttribute('startIndex'),10);}bP.hQ=bJ.getAttribute('isHighlight');bP.set_opacity(127);am=UW(bJ,nc);if(am){bP.am=am;}break;case 'rectangle_filled_redact':bP=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);bP.set_rectangle({x:gT,y:gF,width:iK,height:jw});bP.set_fillColor(qw||'#000000');bP.set_lineColor(iU);bP.set_lineWidth(parseFloat(bJ.getAttribute('lineWidth')));bP.set_textColor(AG||'#ffffff');bP.set_fillVisible(true);bP.kL(true);qh=bJ.getAttribute('highlightGroupID');bP.set_text(IPCC.C.yI(bJ.getAttribute('meta')));if(qh){bP.set_lineWidth(0);bP.bn=qh;var cA=RH[qh];if(!cA){cA=RH[qh]=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);cA.bn=qh;cA.set_rectangle(bP.get_rectangle());cA.kL(true);cA.set_text(IPCC.C.yI(bJ.getAttribute('meta')));}else{var HZ=false;var rg=cA.get_rectangle();var gP=rg.x,hV=rg.x+rg.width,_top=rg.y,kw=rg.y+rg.height;if(rg.x>gT){HZ=true;gP=gT;}if(rg.y>gF){HZ=true;_top=gF;}if(rg.x+rg.width<gT+iK){HZ=true;hV=gT+iK;}if(rg.y+rg.height<gF+jw){HZ=true;kw=gF+jw;}if(HZ===true){cA.set_rectangle({x:gP,y:_top,width:hV-gP,height:kw-_top});}}}break;case 'text_selection_redaction':qh=bJ.getAttribute('highlightGroupID');bP=RH[qh];if(!bP){bP=RH[qh]=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);bP.bn=qh;bP.set_rectangle({x:0,y:0,width:0,height:0});bP.kL(true);bP.set_text(bJ.getAttribute('meta'));}cD=bJ.getAttribute('textLength');if(cD){bP.cD=parseInt(cD,10);}cO=bJ.getAttribute('selectedText');if(cO){bP.cO=cO;}aU=bJ.getAttribute('startIndex');if(aU){bP.aU=parseInt(aU,10);}break;case 'text_hyperlink_annotation':bP=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextHyperlinkAnnotation);bP.set_fillColor(iU);qh=bJ.getAttribute('highlightGroupID');bP.bn=qh;var lm=bJ.getAttribute('href');if(lm){bP.set_href(IPCC.C.yI(lm));}cD=bJ.getAttribute('textLength');if(cD){bP.cD=parseInt(cD,10);}cO=bJ.getAttribute('selectedText');if(cO){bP.cO=cO;}aU=bJ.getAttribute('startIndex');if(aU){bP.aU=parseInt(aU,10);}var hQ=bJ.getAttribute('isHighlight');bP.hQ=hQ?hQ:'n';bP.am=UW(bJ,nc);bP.set_rectangle({x:gT,y:gF,width:iK,height:jw});break;case 'rectangle':bP=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);bP.set_rectangle({x:gT,y:gF,width:iK,height:jw});bP.set_lineVisible(true);bP.set_lineColor(iU);bP.set_fillVisible(false);bP.set_lineWidth(parseFloat(bJ.getAttribute('lineWidth')));break;case 'rectangle_filled':bP=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);bP.set_rectangle({x:gT,y:gF,width:iK,height:jw});bP.set_fillColor(qw);bP.set_lineColor(iU);bP.set_fillVisible(true);bP.set_lineWidth(parseFloat(bJ.getAttribute('lineWidth')));break;case 'rectangle_trans':case 'rectangle_trans_redact':bP=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);bP.set_rectangle({x:gT,y:gF,width:iK,height:jw});bP.set_fillColor(qw);bP.set_lineColor(iU);bP.set_fillVisible(true);if(kO==='rectangle_trans_redact'){bP.kL(true);}bP.set_lineWidth(parseFloat(bJ.getAttribute('lineWidth')));break;case 'freehand':case 'signature_path':if(kO==='freehand'){bP=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Freehand);}else{bP=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.SignaturePath);switch(bJ.getAttribute('align').toUpperCase()){case 'LEFT':bP.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Left);break;case 'RIGHT':bP.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Right);break;default:bP.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);break;}}bP.set_rectangle({x:gT,y:gF,width:iK,height:jw});bP.set_pathWidth(parseFloat(bJ.getAttribute('pathWidth')));bP.set_pathHeight(parseFloat(bJ.getAttribute('pathHeight')));bP.set_lineWidth(parseFloat(bJ.getAttribute('lineWidth')));bP.set_lineColor(iU);var tX=bJ.firstChild;while((tX)&&(tX.nodeType!==4)){tX=tX.nextSibling;}if((tX)&&(tX.nodeType===4)){ll=tX.innerText||tX.textContent||tX.data;bP.bH.bo=ll;bP.set_pathString(ll);}break;case 'signature_text':bP=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.SignatureText);bP.set_rectangle({x:gT,y:gF,width:iK,height:jw});bP.set_fontSize(10);bP.set_lineWidth=0;bP.set_fillVisible(true);bP.set_opacity(1);gG=bJ.firstChild;this.WC(gG,bP);bP.xu=parseFloat(bJ.getAttribute('fontWidth'));bP.yU=parseFloat(bJ.getAttribute('fontHeight'));break;case 'text_area_signature':bP=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextAreaSignature);bP.set_rectangle({x:gT,y:gF,width:iK,height:jw});bP.set_fontName('verdana');uj=undefined;gY=parseInt(bJ.getAttribute('maxLength'));if(!isNaN(gY)){bP.set_maxLength(gY);}var ib=parseInt(bJ.getAttribute('maxFontSize'));if(!isNaN(ib)){bP.set_maxFontSize(ib);}gG=bJ.firstChild;this.WC(gG,bP);break;case 'text_input_signature':bP=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextLine);bP.set_rectangle({x:gT,y:gF,width:iK,height:jw});gG=bJ.firstChild;this.WC(gG,bP);bP.xu=parseFloat(bJ.getAttribute('fontWidth'));bP.yU=parseFloat(bJ.getAttribute('fontHeight'));bP.set_lineVisible(false);gY=parseInt(bJ.getAttribute('maxLength'));if(!isNaN(gY)){bP.set_maxLength(gY);}asL(bJ,bP);break;case 'polyline':bP=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Polyline);bP.set_lineWidth(parseFloat(bJ.getAttribute('lineWidth')));bP.set_lineColor(iU);var tn=bJ.firstChild;while((tn)&&(tn.nodeType!==4)){tn=tn.nextSibling;}var IW;if((tn)&&(tn.nodeType===4)){ll=tn.innerText||tn.textContent||tn.data;if(ll&&ll!=='undefined'){IW=JSON.parse(ll);aY=bP.oc();if(IW){for(h=0;h<IW.length;h++){aY.addPoint(new IPCC.Web.UI.Point(IW[h].x*nc,IW[h].y*nc));}}}}break;case 'strikethrough':bP=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Strikethrough);bP.set_rectangle({x:gT,y:gF,width:iK,height:jw});bP.set_lineWidth(parseFloat(bJ.getAttribute('lineWidth')));bP.set_lineColor(iU);bP.bn=bJ.getAttribute('highlightGroupID');var textLength=bJ.getAttribute('textLength');if(textLength){bP.cD=parseInt(textLength,10);}bP.cO=bJ.getAttribute('selectedText');var startIndex=bJ.getAttribute('startIndex');if(startIndex){bP.aU=parseInt(startIndex,10);}bP.hQ=bJ.getAttribute('isHighlight');am=UW(bJ,nc);if(am){bP.am=am;}break;default:}if(bP){bP.bH.je=bJ.getAttribute('nodeId');if(Hd>=0&&(kO==='rectangle_trans_redact'|| !bP.iP())&&kO!=='stamp'&&kO!=='imagestamp'&&kO!=='imagestamp_redact'&&kO!=='text_hyperlink_annotation'&&kO!=='text_input_signature'&&kO!=='text_area_signature'&&kO!=='strikethrough'){bP.set_opacity(Hd);}bP.bH.FQ=atC;bP.bH.aHE=kO;bP.bH.dW=bJ.getAttribute('lineWidth');bP.bH.cw=bJ.getAttribute('fillColor');bP.bH.kR=bJ.getAttribute('lineColor');bP.bH.aHK=bJ.getAttribute('dragDirection');bP.bH.zB=zB;bP.bH.bf=bJ.getAttribute('x');bP.bH.dB=bJ.getAttribute('y');bP.bH.an=bJ.getAttribute('height');bP.bH.aK=bJ.getAttribute('width');bP.bH.aFv=bJ.getAttribute('x_percent');bP.bH.aFc=bJ.getAttribute('y_percent');bP.bH.aGi=bJ.getAttribute('height_percent');bP.bH.aFq=bJ.getAttribute('width_percent');bP.bH.aGZ=bJ.getAttribute('formUser');bP.bH.aHl=bJ.getAttribute('created');bP.bH.aFx=bJ.getAttribute('modified');bP.bH.aGq=bJ.getAttribute('saveDate');bP.bH.aFP=bJ.getAttribute('saveTime');bP.bH.gj=bJ.getAttribute('meta');var xo=bJ.firstChild;while((xo)&&(xo.nodeType!==4)){xo=xo.nextSibling;}if((xo)&&(xo.nodeType===4)){bP.cq.push(xo.data);}else{bP.cq.push('');}var nf=parseInt(bJ.getAttribute('interactionMode'))||IPCC.Web.UI.MarkInteractionMode.Full;bP.set_interactionMode(nf);bP.me(this);bP.add_propertyChanged(mb);bP.add_markTextSelectionChanged(za);bP.yu(Qo);bP.wW(Pv);bP.sR(Pm);JN.push(bP);arV(bJ,bP);ti=IPCC.C.akB(bJ.getAttribute('created'));rH=IPCC.C.akB(bJ.getAttribute('modified'));ti=ti||new Date();rH=rH||new Date();bP.initializeDates(ti,rH);if(ve){bP.set_visible(false);}}}}bb=bb.concat(JN);J.ae('marksLoaded',{});}if(mw){atw(ki,aR);break;}}}}};this.WC=function(uM,bP){var h,ll,oz,qp,JG,uj,lQ=[],yx=bP.get_type()===IPCC.Web.UI.MarkType.SignatureText,arU=yx?IPCC.Web.UI.HorizontalAlignment.Center:IPCC.Web.UI.HorizontalAlignment.Left,ik;while((uM)&&(uM.nodeType!==4)){uM=uM.nextSibling;}if((uM)&&(uM.nodeType===4)){ll=uM.innerText||uM.textContent||uM.data;bP.bH.bo=ll;oz=ll.split("</TEXTFORMAT>");for(h=0;h<oz.length;h++){if(oz[h].match(/<TEXTFORMAT/)){oz[h]=oz[h]+"</TEXTFORMAT>";lQ.push(oz[h]);}}qp='';JG=[];for(h=0;h<lQ.length;h++){if(lQ[h].match(/<P/)){uj=this.adQ(lQ[h]);JG.push(uj);qp+=uj+" ";if(h===0){ik=this.acy(lQ[h]);ady(ik,bP);}}qp=qp.replace(/\s+$/g,"");bP.set_text(qp);var GP=this.adA(lQ[h]);switch(GP){case 'LEFT':bP.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Left);break;case 'CENTER':bP.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);break;case 'RIGHT':bP.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Right);break;default:bP.set_textHorizontalAlignment(arU);break;}}}};function UV(aeM,bX){for(var i=0;i<aeM.childNodes.length;i++){var aaE=aeM.childNodes[i];if(aaE.nodeName==='kvp'){var aV=aaE.getAttribute("key");var T=aaE.getAttribute("value");bX.set_data(aV,T);}}};function asK(Qe,cE){var di=new IPCC.Web.UI.Comment(IPCC.C.yI(Qe.getAttribute("text")));di.set_creationTime(Qe.getAttribute("created"));cE.addComment(di);for(var i=0;i<Qe.childNodes.length;i++){var aiz=Qe.childNodes[i];if(aiz.nodeName==='data'){UV(aiz,di.get_data());}}};function atf(akP,cE){for(var i=0;i<akP.childNodes.length;i++){var Pe=akP.childNodes[i];if(Pe.nodeName==='comments'){var he=Pe;for(var j=0;j<he.childNodes.length;j++){var aiv=he.childNodes[j];if(aiv.nodeName==='comment'){asK(aiv,cE);}}}else if(Pe.nodeName==='data'){UV(Pe,cE.get_data());}}};function arV(HO,K){for(var i=0;i<HO.childNodes.length;i++){var uc=HO.childNodes[i];if(uc.nodeName==='conversation'){atf(uc,K.get_conversation());}else if(uc.nodeName==='data'){UV(uc,K.get_data());}}};function asL(HO,K){var T=null,Fx={};for(var i=0;i<HO.childNodes.length;i++){var uc=HO.childNodes[i];if(uc.nodeName==='inputMask'){T=IPCC.C.yI(uc.getAttribute('value'));for(var j=0;j<uc.childNodes.length;j++){var Zj=uc.childNodes[j];if(Zj.nodeName==='translation'){Fx[IPCC.C.yI(Zj.getAttribute('key'))]=new RegExp(IPCC.C.yI(Zj.getAttribute('value').replace(/(^\/|\/$)/g,'')));}}break;}}if(T!==null){K.set_mask({value:T,translations:Fx});}};function UW(sM,vW){var fR=null,iI;for(var i=0;i<sM.childNodes.length;i++){iI=sM.childNodes[i];if(iI.nodeName==='line-rectangles'){if(!fR){fR=axh(iI,vW);}else{throw new Error("An XML annotation node cannot have more than one line-rectangles child node.");}}}return fR;};function axh(sM,vW){var fR=[],iI;for(var i=0;i<sM.childNodes.length;i++){iI=sM.childNodes[i];if(iI.nodeName==='rectangle'){fR.push(awc(iI,vW));}}return fR;};function awc(sM,vW){var bf=parseFloat(sM.getAttribute("x"))*vW;var dB=parseFloat(sM.getAttribute("y"))*vW;var aK=parseFloat(sM.getAttribute("width"))*vW;var an=parseFloat(sM.getAttribute("height"))*vW;return new IPCC.Web.UI.Rectangle(bf,dB,aK,an);};this.aaz=function(ak,Kq,tM,jm,du,bp){var bP=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);bP.set_rectangle({x:ak.x,y:ak.y,width:ak.width,height:ak.height});bP.set_fillColor(tM);bP.set_fillVisible(true);bP.aU=bp;bP.cD=1;if(du){bP.set_opacity(du);}else{bP.set_opacity(127);}J.addMark(bP);return bP;};this.arC=function(ak,RS,bp){var bP=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);bP.set_rectangle({x:ak.x,y:ak.y,width:ak.width,height:ak.height});bP.set_fillColor(RS.get_fillColor());bP.set_fillVisible(true);bP.aU=bp;bP.cD=1;if(RS.get_opacity()){bP.set_opacity(RS.get_opacity());}else{bP.set_opacity(127);}J.addMark(bP);return bP;};function ady(ik,bP){for(var cs=0;cs<ik.length;cs++){var cc=ik[cs].attribs;var mw=false;if(ik[cs].attribs.length>1&& !mw&&ik[cs].Gm==='font'){mw=true;for(var as=0;as<cc.length;as++){if(cc[as].by==="FACE"){bP.set_fontName(cc[as].T);}else if(cc[as].by==="SIZE"&&bP.get_type()!==IPCC.Web.UI.MarkType.TextLine&&bP.get_type()!==IPCC.Web.UI.MarkType.TextAreaSignature){var ss=parseFloat(cc[as].T);bP.set_fontSize(ss);}else if(cc[as].by==="COLOR"){var ajn=cc[as].T;if(bP.get_type()===IPCC.Web.UI.MarkType.SignatureText){bP.set_fillColor(ajn);}else{bP.set_textColor(ajn);}}}var kS=false;if(ik[cs+1]&&bP.get_type()!==IPCC.Web.UI.MarkType.TextLine){if(ik[cs+1].tagName==='font'){break;}else{var vL=ik[cs+1].Gm;if(vL==='b'||vL==='i'||vL==='u'||vL==='s'){if(vL==='b'){bP.set_fontStyle(IPCC.Web.UI.FontStyle.Bold);}else if(vL==='i'){bP.set_fontStyle(IPCC.Web.UI.FontStyle.Italic);}else if(vL==='u'){bP.set_fontStyle(IPCC.Web.UI.FontStyle.Underline);}else if(vL==='s'){bP.set_fontStyle(IPCC.Web.UI.FontStyle.Strikeout);}kS=true;}}if(ik[cs+2]){var aqu=ik[cs+2].Gm;kS=XP(bP,kS,aqu);}if(ik[cs+3]){var apz=ik[cs+3].Gm;kS=XP(bP,kS,apz);}if(ik[cs+4]){var aqi=ik[cs+4].Gm;kS=XP(bP,kS,aqi);}if(mw){break;}}}}};function XP(K,agj,wo){var kS=agj;var bP=K;if(agj){if(wo==='b'){bP.set_fontStyle(bP.get_fontStyle()|IPCC.Web.UI.FontStyle.Bold);kS=true;}else if(wo==='i'){bP.set_fontStyle(bP.get_fontStyle()|IPCC.Web.UI.FontStyle.Italic);kS=true;}else if(wo==='u'){bP.set_fontStyle(bP.get_fontStyle()|IPCC.Web.UI.FontStyle.Underline);kS=true;}else if(wo==='s'){bP.set_fontStyle(bP.get_fontStyle()|IPCC.Web.UI.FontStyle.Strikeout);kS=true;}}else{if(wo==='b'){bP.set_fontStyle(IPCC.Web.UI.FontStyle.Bold);kS=true;}else if(wo==='i'){bP.set_fontStyle(IPCC.Web.UI.FontStyle.Italic);kS=true;}else if(wo==='u'){bP.set_fontStyle(IPCC.Web.UI.FontStyle.Underline);kS=true;}else if(wo==='s'){bP.set_fontStyle(IPCC.Web.UI.FontStyle.Strikeout);kS=true;}}return kS;};function Cw(str){var obj={},items=str.split(",");for(var i=0;i<items.length;i++){obj[items[i]]=true;}return obj;};var afj=/^<([\-A-Za-z0-9_]+)((?:\s+\w+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,ajp=/^<\/([\-A-Za\-z0-9_]+)[^>]*>/,axS=/([\-A-Za\-z0-9_]+)(?:\s*=\s*(?:(?:"((?:\\[\w\W]|[^"])*)")|(?:'((?:\\[\w\W]|[^'])*)')|([^>\s]+)))?/g;var apB=Cw("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed");var oa=Cw("address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul");var aBf=Cw("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var");var avi=Cw("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr");var asr=Cw("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected");var apT=Cw("script,style");this.aeG=function(html,handler){var bp,yQ,uu,na=[],lk=html;function parseEndTag(tag,tagName){var hg;if(!tagName){hg=0;}else{for(hg=na.length-1;hg>=0;hg--){if(na[hg]===tagName){break;}}}if(hg>=0){for(var i=na.length-1;i>=hg;i--){if(handler.end){handler.end(na[i]);}}na.length=hg;}};function parseStartTag(tag,tagName,rest,unary){tagName=tagName.toLowerCase();if(oa[tagName]){while(na.last()&&aBf[na.last()]){parseEndTag("",na.last());}}if(avi[tagName]&&na.last()===tagName){parseEndTag("",tagName);}unary=apB[tagName]|| ! !unary;if(!unary){na.push(tagName);}if(handler.start){var attrs=[];rest.replace(axS,function(uu,name){var value=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:asr[name]?name:"";attrs.push({name:name,value:value,escaped:value.replace(/(^|[^\\])"/g,'$1\\\"')});});if(handler.start){handler.start(tagName,attrs,unary);}}};na.last=function(){return this[this.length-1];};function awd(all,text){text=text.replace(/<!--([\w\W]*?)-->/g,"$1").replace(/<!\[CDATA\[([\w\W]*?)\]\]\]>/g,"$1");if(handler.chars){handler.chars(text);}return "";};while(html){yQ=true;if(!na.last()|| !apT[na.last()]){if(html.indexOf("<!--")===0){bp=html.indexOf("-->");if(bp>=0){if(handler.comment){handler.comment(html.substring(4,bp));}html=html.substring(bp+3);yQ=false;}}else if(html.indexOf("</")===0){uu=html.match(ajp);if(uu){html=html.substring(uu[0].length);uu[0].replace(ajp,parseEndTag);yQ=false;}}else if(html.indexOf("<")===0){uu=html.match(afj);if(uu){html=html.substring(uu[0].length);uu[0].replace(afj,parseStartTag);yQ=false;}}if(yQ){bp=html.indexOf("<");var text=bp<0?html:html.substring(0,bp);text=IPCC.C.yI(text);html=bp<0?"":html.substring(bp);if(handler.chars){handler.chars(text);}}}else{html=html.replace(new RegExp("(.*)<\/"+na.last()+"[^>]*>"),awd);parseEndTag("",na.last());}if(html===lk){throw " Parse Error in annotation Html Text: "+html;}lk=html;}parseEndTag();};this.adQ=function(html){var results="";this.aeG(html,{start:function(){},end:function(){},chars:function(text){results+=text;},comment:function(){}});return results;};this.acy=function(html){var et=[];this.aeG(html,{start:function(tag,attrs){var fe;fe=tag;if(tag==='font'||tag==='b'||tag==='i'||tag==='u'||tag==='s'){var vS={};vS.Gm=tag;vS.attribs=[];if(tag==='b'){vS.aFQ=true;}else if(tag==='i'){vS.aGd=true;}else if(tag==='u'){vS.aGo=true;}else if(tag==='s'){vS.aGF=true;}else{for(var i=0;i<attrs.length;i++){var yH={};yH.by=attrs[i].name;yH.T=attrs[i].value;vS.attribs.push(yH);}}et.push(vS);}},end:function(){},chars:function(){},comment:function(){}});return et;};this.adA=function(html){var parts=html.toUpperCase().split('ALIGN="');var alignment=parts[1].split('"')[0];return alignment;};function atw(ki,aAV){var jW=ki.getElementsByTagName("highlights")[0];if(jW.hasChildNodes()){var ld;var dh;for(var h=0;h<jW.childNodes.length;h++){ld=jW.childNodes[h];if(ld.nodeType===1){dh=ld.getAttribute('page');if(dh&&parseInt(dh,10)===aAV+1){var iX=new IPCC.Web.UI.Yc();iX.aEH=ld.nodeName;switch(iX.aEH){case 'tag':iX.IX=IPCC.Web.UI.HighLightType.Tag;break;case 'highlight':iX.IX=IPCC.Web.UI.HighLightType.InlineHighLight;break;case 'link':iX.IX=IPCC.Web.UI.HighLightType.Link;break;case 'redaction':iX.IX=IPCC.Web.UI.HighLightType.Redaction;break;case 'strikethrough':iX.IX=IPCC.Web.UI.HighLightType.Strikethrough;break;default:iX.IX=undefined;}if(ld.childNodes[0].data){iX.cq.push(ld.childNodes[0].data);}iX.bH.cS=ld.getAttribute('id');iX.bH.aHP=ld.getAttribute('userid');iX.bH.aFV=ld.getAttribute('mode');iX.bH.db=ld.getAttribute('color');iX.bH.aFH=ld.getAttribute('occurence');iX.bH.bJ=ld.getAttribute('annotation');iX.bH.aS=ld.getAttribute('page');iX.bH.aHA=ld.getAttribute('documentname');iX.bH.aHm=ld.getAttribute('tooltip');iX.bH.aGY=ld.getAttribute('allowdelete');iX.bH.jv=ld.getAttribute('start');iX.bH.aFt=ld.getAttribute('end');J.aDM.push(iX);}}}}};this.UG=function(){var F;if(bb.length<1){return;}eO.removeAllMarks();var h;for(h=bb.length-1;h>=0;h--){bb[h].remove_propertyChanged(mb);bb[h].remove_markTextSelectionChanged(za);bb[h].me(null);F=new IPCC.Web.UI.MarkEventArgs();F.length=bb.length;F.zIndex=0;F.mark=bb.pop();J.ae('markRemoved',F);}F=new IPCC.Web.UI.MarkEventArgs();F.length=bb.length;F.zIndex=0;J.ae('markRemoved',F);};this.vb=function(K){var km=this.oR(K);var tz=K.bn;if(km>=0){K.remove_propertyChanged(mb);K.remove_markTextSelectionChanged(za);K.me(null);bb.splice(km,1);eO.removeMark(K);var F=new IPCC.Web.UI.MarkEventArgs();F.mark=K;F.zIndex=km;F.length=1;J.ae('markRemoved',F);if(tz){this.arK(tz);}}};this.aIt=function(ql){var ur=bb.length;var tz=ql.bn;while(ur--){var K=bb[ur];if(K.bn===tz){K.set_fillColor(ql.get_fillColor());}}};this.aoO=function(ql){var ur=bb.length;var tz=ql.bn;if(!tz){ql.set_text(ql.get_text());return;}while(ur--){var K=bb[ur];if(K.bn===tz){if(K.get_text()!==ql.get_text()){K.set_text(ql.get_text());}if(K.get_fontName()!==ql.get_fontName()){K.set_fontName(ql.get_fontName());}if(K.get_fontSize()!==ql.get_fontSize()){K.set_fontSize(ql.get_fontSize());}}}};this.arK=function(tz){var ur=bb.length;while(ur--){var K=bb[ur];if(K.bn===tz){var km=this.oR(K);eO.removeMark(K);bb.splice(ur,1);var F=new IPCC.Web.UI.MarkEventArgs();F.mark=K;F.zIndex=km;F.length=1;}}};this.adt=function(K,km){var Mh=this.oR(K);if(Mh<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot reorder a Mark unless it is currently associated with the ArtPage.');}if(Mh===km){return;}ald(km);bb.splice(Mh,1);bb.splice(km,0,K);if(K.get_type()===IPCC.Web.UI.MarkType.Highlight||K.get_type()===IPCC.Web.UI.MarkType.HighlightText||K.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||K.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink||K.get_type()===IPCC.Web.UI.MarkType.Strikethrough||(K.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&K.bn!==undefined)){return;}var F=new IPCC.Web.UI.MarkEventArgs();F.mark=K;F.zIndex=km;F.oldZIndex=Mh;F.length=1;J.ae('markReordered',F);};function XO(fR,dY,eV){if(!fR){return undefined;}var iV={fF:'line-rectangles',cq:[],bH:{}};IPCC.C.forEach(fR,function(R){iV.cq.push({fF:'rectangle',cq:[],bH:{x:R.x,y:R.y,height:R.height,width:R.width}});});return iV;};function awu(iv){if(!iv){return undefined;}var iV={fF:'inputMask',cq:[],bH:{value:IPCC.C.nL(iv.value)}};IPCC.C.forEach(iv.translations,function(T,aV){iV.cq.push({fF:'translation',cq:[],bH:{key:IPCC.C.nL(aV),value:IPCC.C.nL(T.toString())}});});return iV;};function Uo(bX){if(!bX){return undefined;}var od=bX.get_dataKeys();if(od.length===0){return undefined;}var iV={fF:'data',cq:[],bH:{}};IPCC.C.forEach(od,function(aV){var T=bX.get_data(aV);iV.cq.push({fF:'kvp',cq:[],bH:{key:aV,value:T}});});return iV;};function aEJ(di){if(!di){return undefined;}var yX={fF:'comment',cq:[],bH:{}};yX.bH.text=IPCC.C.nL(di.get_text());yX.bH.created=di.get_creationTime();var iV=Uo(di.get_data());if(iV){yX.cq.push(iV);}return yX;};function aDG(cE){if(!cE||cE.get_length()===0){return undefined;}var Tz={fF:'conversation',cq:[],bH:{}};var aeC={fF:'comments',cq:[],bH:{}};Tz.cq.push(aeC);cE.forEach(function(di){var yX=aEJ(di);if(yX){aeC.cq.push(yX);}});var iV=Uo(cE.get_data());if(iV){Tz.cq.push(iV);}return Tz;};this.awZ=function(K,dY,eV,wx){var bq=K.get_type();var jI=false;var hY;var gA;var agN;var Yi;var gQ,sT,ri,bo;var bM={fF:'annotation',cq:[],bH:{}};if(!K.bH.je){bM.bH.nodeId=J.avB();}else{bM.bH.nodeId=K.bH.je;}var JV,Bf="",oj="";if(K.get_lineColor()){var VG=K.get_lineColor();if(VG==='transparent'){bM.bH.lineColor=VG;}else{JV=VG.replace(/#/,"");Bf=parseInt(JV,16);oj=Bf.toString();bM.bH.lineColor=oj;}}bM.bH.interactionMode=K.get_interactionMode();bM.bH.stampSize='122';var Oi={};Oi[IPCC.Web.UI.MarkType.Stamp]=true;Oi[IPCC.Web.UI.MarkType.ImageStampAnnotation]=true;Oi[IPCC.Web.UI.MarkType.ImageStampRedaction]=true;if((bq===IPCC.Web.UI.MarkType.Rectangle&&K.get_opacity()<255|| !K.iP())&&Oi[bq]!==true){bM.bH.opacity=K.get_opacity();}if(K.get_conversation().get_length()>0){bM.cq.push(aDG(K.get_conversation()));}var iV=Uo(K.get_data());if(iV){bM.cq.push(iV);}jI=false;switch(bq){case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.Ellipse:gA=K.get_fillColor();if(gA==='transparent'){bM.bH.fillColor=gA;}else if(gA){hY=gA.replace(/#/,"");bM.bH.fillColor=parseInt(hY,16).toString();}else{bM.bH.fillColor=oj;}if(K.get_fillVisible()){if(K.get_type()===IPCC.Web.UI.MarkType.Rectangle){if(K.get_opacity()===255){if(K.iP()===true){bM.bH.drawType='rectangle_filled_redact';if(K.bn){bM.bH.highlightGroupID=K.bn;}}else{bM.bH.drawType='rectangle_filled';}}else{if(K.iP()===true){bM.bH.drawType='rectangle_trans_redact';}else{bM.bH.drawType='rectangle_trans';}}}else{if(K.get_opacity()===255){bM.bH.drawType='circle_filled';if(K.iP()){bM.bH.drawType='circle_filled_redact';}}else{bM.bH.drawType='circle_trans';if(K.iP()){bM.bH.drawType='circle_trans_redact';}}}}else{if(K.get_type()===IPCC.Web.UI.MarkType.Rectangle){bM.bH.drawType='rectangle';bM.bH.fillColor=oj;}else{bM.bH.drawType='circle';bM.bH.fillColor=oj;}}bM.bH.dragDirection='br';var R=K.get_rectangle();bM.bH.x=R.x;bM.bH.y=R.y;bM.bH.x_percent=R.x/dY;bM.bH.y_percent=R.y/eV;bM.bH.height_percent=R.height/eV;bM.bH.width_percent=R.width/dY;bM.bH.height=R.height;bM.bH.width=R.width;break;case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:bM.bH.lineWidth=K.get_lineWidth();jI=true;break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:bM.bH.highlightGroupID=K.bn;bM.bH.drawType='text_selection_redaction';if(K.cO&&K.cO.length>0){bM.bH.startIndex=K.aU;bM.bH.selectedText=K.cO;bM.bH.textLength=K.cD;}break;case IPCC.Web.UI.MarkType.Text:var kq=K.get_rectangle();bM.bH.x=kq.x;bM.bH.y=kq.y;bM.bH.x_percent=kq.x/dY;bM.bH.y_percent=kq.y/eV;bM.bH.height_percent=kq.height/eV;bM.bH.width_percent=kq.width/dY;bM.bH.height=kq.height;bM.bH.width=kq.width;bM.bH.maxLength=K.get_maxLength();gA=K.get_fillColor();if(K.iP()===true){bM.bH.drawType='text_redact';}else{bM.bH.drawType='text';bM.bH.opacity=K.get_opacity();}if(gA==='transparent'){bM.bH.fillColor=gA;}else if(gA){hY=gA.replace(/#/,"");bM.bH.fillColor=parseInt(hY,16).toString();}else{bM.bH.fillColor='16776960';}var aH='';aH="<TEXTFORMAT LEADING=\"2\">";switch(K.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:aH+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:aH+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:aH+="<P ALIGN=\"right\" ";break;}aH+=">";aH+="<FONT ";sT=K.get_fontName();aH+="FACE="+"\""+sT+"\" ";ri=K.get_fontSize().toString();aH+="SIZE= \""+ri+"\" ";gQ="\""+K.get_textColor()+"\" ";aH+="COLOR="+gQ+" ";aH+="LETTERSPACING=\"0\" ";aH+="KERNING=\"0\" ";aH+=">";var co=K.get_fontStyle();if(co&IPCC.Web.UI.FontStyle.Bold){aH+="<B>";}if(co&IPCC.Web.UI.FontStyle.Italic){aH+="<I>";}if(co&IPCC.Web.UI.FontStyle.Underline){aH+="<U>";}if(co&IPCC.Web.UI.FontStyle.Strikeout){aH+="<S>";}bo=K.get_text();bo=IPCC.C.nL(bo);aH+=bo;if(co&IPCC.Web.UI.FontStyle.Strikeout){aH+="</S>";}if(co&IPCC.Web.UI.FontStyle.Underline){aH+="</U>";}if(co&IPCC.Web.UI.FontStyle.Italic){aH+="</I>";}if(co&IPCC.Web.UI.FontStyle.Bold){aH+="</B>";}aH+="</FONT>";aH+="</P>";aH+="</TEXTFORMAT>";break;case IPCC.Web.UI.MarkType.Highlight:R=K.get_rectangle();bM.bH.x=R.x;bM.bH.y=R.y;bM.bH.x_percent=R.x/dY;bM.bH.y_percent=R.y/eV;bM.bH.height_percent=R.height/eV;bM.bH.width_percent=R.width/dY;bM.bH.height=R.height;bM.bH.width=R.width;bM.bH.drawType='highlight';bM.bH.highlightGroupID=K.bn;bM.bH.isHighlight=K.hQ;gA=K.get_fillColor();if(gA){hY=gA.replace(/#/,"");bM.bH.fillColor=parseInt(hY,16).toString();bM.bH.lineColor=parseInt(hY,16).toString();}else{bM.bH.fillColor=oj;}break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:R=K.get_rectangle();bM.bH.x=R.x;bM.bH.y=R.y;bM.bH.height=R.height;bM.bH.width=R.width;bM.bH.drawType='text_hyperlink_annotation';bM.bH.href=IPCC.C.nL(K.lm);bM.bH.startIndex=K.aU;bM.bH.selectedText=K.cO;bM.bH.textLength=K.cD;bM.bH.highlightGroupID=K.bn;bM.bH.isHighlight=K.hQ;gA=K.get_fillColor();if(gA){hY=gA.replace(/#/,"");bM.bH.fillColor=parseInt(hY,16).toString();bM.bH.lineColor=parseInt(hY,16).toString();}else{bM.bH.fillColor=oj;}bM.cq.push(XO(K.am,dY,eV));break;case IPCC.Web.UI.MarkType.HighlightText:R=K.get_rectangle();bM.bH.x=R.x;bM.bH.y=R.y;bM.bH.x_percent=R.x/dY;bM.bH.y_percent=R.y/eV;bM.bH.height_percent=R.height/eV;bM.bH.width_percent=R.width/dY;bM.bH.height=R.height;bM.bH.width=R.width;bM.bH.drawType='highlightText';bM.bH.startIndex=K.aU;bM.bH.selectedText=K.cO;bM.bH.textLength=K.cD;bM.bH.highlightGroupID=K.bn;bM.bH.isHighlight=K.hQ;gA=K.get_fillColor();if(gA){hY=gA.replace(/#/,"");bM.bH.fillColor=parseInt(hY,16).toString();bM.bH.lineColor=parseInt(hY,16).toString();}else{bM.bH.fillColor=oj;}bM.cq.push(XO(K.am,dY,eV));break;case IPCC.Web.UI.MarkType.RectangleRedaction:R=K.get_rectangle();bM.bH.drawType='rectangle_filled_redact';bM.bH.x=R.x;bM.bH.y=R.y;bM.bH.x_percent=R.x/dY;bM.bH.y_percent=R.y/eV;bM.bH.height_percent=R.height/eV;bM.bH.width_percent=R.width/dY;bM.bH.height=R.height;bM.bH.width=R.width;bM.bH.meta=IPCC.C.nL(K.get_text());bM.bH.stampSize=K.get_fontSize();bM.bH.lineWidth=K.get_lineWidth();gA=K.get_fillColor();if(gA){hY=gA.replace(/#/,"");bM.bH.fillColor=parseInt(hY,16).toString();}else{bM.bH.fillColor=oj;}JV=K.get_lineColor();if(JV){Bf=JV.replace(/#/,"");bM.bH.lineColor=parseInt(Bf,16).toString();}else{bM.bH.lineColor=oj;}Yi=K.get_textColor();if(Yi){agN=Yi.replace(/#/,"");bM.bH.fontColor=parseInt(agN,16).toString();}else{bM.bH.fontColor=oj;}if(K.bn){bM.bH.highlightGroupID=K.bn;}break;case IPCC.Web.UI.MarkType.Stamp:gA=K.get_fillColor();if(gA){hY=gA.replace(/#/,"");bM.bH.fillColor=parseInt(hY,16).toString();bM.bH.lineColor=parseInt(hY,16).toString();}else{bM.bH.fillColor=oj;}R=K.get_rectangle();bM.bH.x=R.x;bM.bH.y=R.y;bM.bH.x_percent=R.x/dY;bM.bH.y_percent=R.y/eV;bM.bH.height_percent=R.height/eV;bM.bH.width_percent=R.width/dY;bM.bH.height=R.height;bM.bH.width=R.width;if(K.iP()===true){bM.bH.drawType='stamp_redact';}else{bM.bH.drawType='stamp';}bo=K.get_text();bM.bH.stampSize=K.stampSize;bM.cq.push('<![CDATA['+bo+']]>');break;case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.SignaturePath:if(K.get_type()===IPCC.Web.UI.MarkType.Freehand){bM.bH.drawType='freehand';}else{bM.bH.drawType='signature_path';switch(K.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:bM.bH.align='center';break;case IPCC.Web.UI.HorizontalAlignment.Left:bM.bH.align='left';break;case IPCC.Web.UI.HorizontalAlignment.Right:bM.bH.align='right';break;}}aH=K.get_pathString();bM.bH.pathWidth=K.get_pathWidth();bM.bH.pathHeight=K.get_pathHeight();R=K.get_rectangle();bM.bH.x=R.x;bM.bH.y=R.y;bM.bH.x_percent=R.x/dY;bM.bH.y_percent=R.y/eV;bM.bH.height_percent=R.height/eV;bM.bH.width_percent=R.width/dY;bM.bH.height=R.height;bM.bH.width=R.width;break;case IPCC.Web.UI.MarkType.SignatureText:gA=K.get_fillColor();var cw;if(gA){hY=gA.replace(/#/,"");bM.bH.fillColor="";bM.bH.lineColor="";cw=parseInt(hY,16).toString();}else{bM.bH.fillColor="";cw=oj;}R=K.get_rectangle();bM.bH.x=R.x;bM.bH.y=R.y;bM.bH.x_percent=R.x/dY;bM.bH.y_percent=R.y/eV;bM.bH.height_percent=R.height/eV;bM.bH.width_percent=R.width/dY;bM.bH.height=R.height;bM.bH.width=R.width;bM.bH.opacity=0;bM.bH.drawType='signature_text';bM.bH.stampSize=K.stampSize;bM.bH.fontWidth=K.xu;bM.bH.fontHeight=K.yU;aH='';aH="<TEXTFORMAT LEADING=\"2\">";switch(K.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:aH+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:aH+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:aH+="<P ALIGN=\"right\" ";break;}aH+=">";aH+="<FONT ";sT=K.get_fontName();aH+="FACE="+"\""+sT+"\" ";ri=K.stampSize.toString();aH+="SIZE= \""+ri+"\" ";gQ="\""+K.get_fillColor()+"\" ";aH+="COLOR="+gQ+" ";aH+="LETTERSPACING=\"0\" ";aH+="KERNING=\"0\" ";aH+=">";bo=IPCC.C.nL(K.get_text());aH+=bo;aH+="</FONT>";aH+="</P>";aH+="</TEXTFORMAT>";break;case IPCC.Web.UI.MarkType.TextAreaSignature:kq=K.get_rectangle();bM.bH.x=kq.x;bM.bH.y=kq.y;bM.bH.x_percent=kq.x/dY;bM.bH.y_percent=kq.y/eV;bM.bH.height_percent=kq.height/eV;bM.bH.width_percent=kq.width/dY;bM.bH.height=kq.height;bM.bH.width=kq.width;bM.bH.maxLength=K.gY;bM.bH.maxFontSize=K.ib;if(wx){bM.bH.drawType='text';}else{bM.bH.drawType='text_area_signature';}bM.bH.fillColor='transparent';aH='';aH="<TEXTFORMAT LEADING=\"2\">";switch(K.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:aH+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:aH+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:aH+="<P ALIGN=\"right\" ";break;}aH+=">";aH+="<FONT ";sT=K.get_fontName();aH+="FACE="+"\""+sT+"\" ";ri=K.dH.toString();aH+="SIZE= \""+ri+"\" ";gQ="\""+K.get_textColor()+"\" ";aH+="COLOR="+gQ+" ";aH+="LETTERSPACING=\"0\" ";aH+="KERNING=\"0\" ";aH+=">";co=K.get_fontStyle();if(co&IPCC.Web.UI.FontStyle.Bold){aH+="<B>";}if(co&IPCC.Web.UI.FontStyle.Italic){aH+="<I>";}if(co&IPCC.Web.UI.FontStyle.Underline){aH+="<U>";}if(co&IPCC.Web.UI.FontStyle.Strikeout){aH+="<S>";}bo=K.get_text();bo=IPCC.C.nL(bo);aH+=bo;if(co&IPCC.Web.UI.FontStyle.Strikeout){aH+="</S>";}if(co&IPCC.Web.UI.FontStyle.Underline){aH+="</U>";}if(co&IPCC.Web.UI.FontStyle.Italic){aH+="</I>";}if(co&IPCC.Web.UI.FontStyle.Bold){aH+="</B>";}aH+="</FONT>";aH+="</P>";aH+="</TEXTFORMAT>";break;case IPCC.Web.UI.MarkType.TextLine:if(!wx){R=K.get_rectangle();bM.bH.x=R.x;bM.bH.y=R.y;bM.bH.x_percent=R.x/dY;bM.bH.y_percent=R.y/eV;bM.bH.height_percent=R.height/eV;bM.bH.maxLength=K.get_maxLength();bM.bH.width_percent=R.width/dY;bM.bH.height=R.height;bM.bH.width=R.width;bM.bH.opacity=0;bM.bH.drawType='text_input_signature';bM.bH.stampSize=K.stampSize;bM.bH.fontWidth=K.xu;bM.bH.fontHeight=K.yU;aH='';aH="<TEXTFORMAT LEADING=\"2\">";switch(K.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:aH+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:aH+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:aH+="<P ALIGN=\"right\" ";break;}aH+=">";aH+="<FONT ";sT=K.get_fontName();aH+="FACE="+"\""+sT+"\" ";ri=K.stampSize.toString();aH+="SIZE= \""+ri+"\" ";gQ="\""+K.get_textColor()+"\" ";aH+="COLOR="+gQ+" ";aH+="LETTERSPACING=\"0\" ";aH+="KERNING=\"0\" ";aH+=">";bo=IPCC.C.nL(K.get_text());aH+=bo;aH+="</FONT>";aH+="</P>";aH+="</TEXTFORMAT>";var afG=awu(K.get_mask());if(afG){bM.cq.push(afG);}}else{R=K.get_rectangle();var Cy=K.stampSize;var oH;if(!K.Gp|| !K.oH){var anM=IPCC.C.ang(K.get_text(),K.get_fontName(),R.width,R.height,{wQ:"pre",dH:Cy+"px"});oH=anM;K.Gp=true;K.oH=oH;}else{oH=K.oH;}Cy=oH.fontSize;var ht=oH.width/R.width,cf=1.0,MIN_BUFFER=0.85;if(/mono/i.test(K.get_fontName())){MIN_BUFFER=0.75;}if(ht>MIN_BUFFER){cf=MIN_BUFFER*R.width/oH.width;Cy=Cy*cf;}var aht=R.width,art=oH.height*cf,agB=R.height-(R.height-art)/2,ahv=R.x,ags=R.y+(R.height-oH.height)/2+(oH.height*(1-cf));bM.bH.x=ahv;bM.bH.y=ags;bM.bH.x_percent=ahv/dY;bM.bH.y_percent=ags/eV;bM.bH.height_percent=agB/eV;bM.bH.width_percent=aht/dY;bM.bH.height=agB;bM.bH.width=aht;bM.bH.opacity=0;bM.bH.drawType='text_redact';aH='';aH="<TEXTFORMAT>";switch(K.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:aH+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:aH+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:aH+="<P ALIGN=\"right\" ";break;}aH+=">";aH+="<FONT ";sT=K.get_fontName();aH+="FACE="+"\""+sT+"\" ";if(K.arX){ri=(Cy/K.arX).toString();}else{ri=Cy.toString();}aH+="SIZE= \""+ri+"\" ";gQ="\""+K.get_textColor()+"\" ";aH+="COLOR="+gQ+" ";aH+="LETTERSPACING=\"0\" ";aH+="KERNING=\"0\" ";aH+=">";bo=IPCC.C.nL(K.get_text());aH+=bo;aH+="</FONT>";aH+="</P>";aH+="</TEXTFORMAT>";}break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:bM.bH.drawType=(bq===IPCC.Web.UI.MarkType.ImageStampRedaction)?'imagestamp_redact':'imagestamp';R=K.get_rectangle();bM.bH.x=R.x;bM.bH.y=R.y;bM.bH.height=R.height;bM.bH.width=R.width;bM.bH.lineWidth=K.get_lineWidth();bM.bH.x_percent=R.x/dY;bM.bH.y_percent=R.y/eV;bM.bH.height_percent=R.height/eV;bM.bH.width_percent=R.width/dY;bM.bH.imageStampId=K.qv;break;case IPCC.Web.UI.MarkType.Strikethrough:R=K.get_rectangle();bM.bH.x=R.x;bM.bH.y=R.y;bM.bH.height=R.height;bM.bH.width=R.width;bM.bH.drawType='strikethrough';bM.bH.startIndex=K.aU;bM.bH.selectedText=K.cO;bM.bH.textLength=K.cD;bM.bH.highlightGroupID=K.bn;bM.bH.isHighlight=K.hQ;bM.cq.push(XO(K.am,dY,eV));break;}if(jI){bM.bH.lineWidth=K.get_lineWidth();var ak=K.get_boundingRectangle();bM.bH.x=ak.x;bM.bH.y=ak.y;bM.bH.x_percent=ak.x/dY;bM.bH.y_percent=ak.y/eV;bM.bH.height_percent=ak.height/eV;bM.bH.width_percent=ak.width/dY;bM.bH.height=ak.height;bM.bH.width=ak.width;if(bq===IPCC.Web.UI.MarkType.Line){if(K.get_endHeadType()===IPCC.Web.UI.LineHeadType.None){bM.bH.drawType='line';}else{bM.bH.drawType='arrow';}}else{bM.bH.drawType='polyline';}bM.bH.lineWidth=K.get_lineWidth();var aY=K.get_points();if(bq===IPCC.Web.UI.MarkType.Line){if((aY.getPoint(0).x<aY.getPoint(1).x)&&(aY.getPoint(0).y>aY.getPoint(1).y)){bM.bH.dragDirection='tr';}else if((aY.getPoint(0).x>aY.getPoint(1).x)&&(aY.getPoint(0).y>aY.getPoint(1).y)){bM.bH.dragDirection='tl';}else if((aY.getPoint(0).x>aY.getPoint(1).x)&&(aY.getPoint(0).y<aY.getPoint(1).y)){bM.bH.dragDirection='bl';}else if((aY.getPoint(0).x<aY.getPoint(1).x)&&(aY.getPoint(0).y<aY.getPoint(1).y)){bM.bH.dragDirection='br';}else{bM.bH.dragDirection='br';}}else{var vk=[];var cg=aY.get_length(),aX;if(cg>1){for(var as=0;as<aY.get_length();as++){aX=aY.getPoint(as);vk.push({x:aX.x,y:aX.y});}aH=JSON.stringify(vk);}}if(Bf){bM.bH.fillColor=Bf;}else{bM.bH.fillColor="";}}else{bM.bH.lineWidth=K.get_lineWidth();bM.bH.dragDirection='br';}if(K.get_type()!==IPCC.Web.UI.MarkType.RectangleRedaction){bM.bH.meta='';}bM.bH.label='';var fc=new Date();bM.bH.saveDate=IPCC.C.arr(fc);bM.bH.saveTime=IPCC.C.asE(fc);bM.bH.uuid='';bM.bH.formUser='';bM.bH.created=IPCC.C.adi(K.get_dateCreated());bM.bH.modified=IPCC.C.adi(K.get_dateModified());if(K.get_type()===IPCC.Web.UI.MarkType.Text||K.get_type()===IPCC.Web.UI.MarkType.Freehand||K.get_type()===IPCC.Web.UI.MarkType.SignaturePath||K.get_type()===IPCC.Web.UI.MarkType.SignatureText||K.get_type()===IPCC.Web.UI.MarkType.Polyline||K.get_type()===IPCC.Web.UI.MarkType.TextAreaSignature||K.get_type()===IPCC.Web.UI.MarkType.TextLine){bM.cq.push('<![CDATA['+aH+']]>');}else{bM.cq.push('');}return bM;};this.aCa=function(aR,dY,eV,bu){var jx={fF:'documentAnnotations',cq:[],bH:{}};var cT={fF:'pages',cq:[],bH:{}};jx.cq.push(cT);var jW={fF:'highlights',cq:[],bH:{}};jx.cq.push(jW);var tx={},og=[];var aS={fF:'page',cq:[],bH:{id:(aR+1).toString(),pageWidth:dY,pageHeight:eV}};cT.cq.push(aS);bu=bu||{};var afx=(bu.includeAnnotations!==undefined)? ! !bu.includeAnnotations:true,afD=(bu.includeRedactions!==undefined)? ! !bu.includeRedactions:true,aeh=(bu.includeSignatures!==undefined)? ! !bu.includeSignatures:false,wx=(bu.wx!==undefined)? ! !bu.wx:false,YG=(bu.CV!==undefined)?bu.CV:false,apX= ! !wx,aih=YG?YG:bb;for(var h=0;h<aih.length;h++){var K=aih[h];var bq=K.get_type();if(K.get_type()===IPCC.Web.UI.MarkType.Highlight){continue;}if(apX&& !K.get_visible()){continue;}if(!YG){if(afx===false&&afD===false&&aeh===false){break;}if(afx===false){if(bq===IPCC.Web.UI.MarkType.Rectangle||bq===IPCC.Web.UI.MarkType.Ellipse||bq===IPCC.Web.UI.MarkType.Line||bq===IPCC.Web.UI.MarkType.Text||bq===IPCC.Web.UI.MarkType.Stamp||bq===IPCC.Web.UI.MarkType.Highlight||bq===IPCC.Web.UI.MarkType.Strikethrough||bq===IPCC.Web.UI.MarkType.HighlightText||bq===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||bq===IPCC.Web.UI.MarkType.Freehand||bq===IPCC.Web.UI.MarkType.ImageStampAnnotation||bq===IPCC.Web.UI.MarkType.Polyline){if(K.iP()===false){continue;}}}if(afD===false){if(K.iP()===true){continue;}if(bq===IPCC.Web.UI.MarkType.RectangleRedaction||bq===IPCC.Web.UI.MarkType.TextSelectionRedaction||bq===IPCC.Web.UI.MarkType.ImageStampRedaction){continue;}}if(aeh===false){if(bq===IPCC.Web.UI.MarkType.SignaturePath||bq===IPCC.Web.UI.MarkType.SignatureText||bq===IPCC.Web.UI.MarkType.SignatureImage||bq===IPCC.Web.UI.MarkType.TextAreaSignature||bq===IPCC.Web.UI.MarkType.TextLine){continue;}}}switch(bq){case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:tx[K.qv]={fF:'stampImage',cq:[],bH:{imageStampId:K.qv,base64format:K.dv()}};break;}aS.cq.push(this.awZ(K,dY,eV,wx));}for(var FY in tx){if(tx.hasOwnProperty(FY)){og.push(tx[FY]);}}return{jx:jx,og:og};};this.aAS=function(){var eC={m:[]};var h;for(h=0;h<bb.length;h++){eC.m.push(bb[h].aAm());}J.ae('marksSaved',{});var ads="";ads=JSON.stringify(eC);return ads;};this.yW=function(G){be.addHandler('markAdded',G);};this.zt=function(G){be.removeHandler('markAdded',G);};this.Hv=function(G){be.addHandler('markChanged',G);};this.HU=function(G){be.removeHandler('markChanged',G);};this.yh=function(G){be.addHandler('markRemoved',G);};this.Az=function(G){be.removeHandler('markRemoved',G);};this.Gx=function(G){be.addHandler('markReordered',G);};this.Ir=function(G){be.removeHandler('markReordered',G);};this.Xc=function(G){be.addHandler('marksLoaded',G);};this.Un=function(G){be.removeHandler('marksLoaded',G);};this.aHf=function(G){be.addHandler('marksSaved',G);};this.aGG=function(G){be.removeHandler('marksSaved',G);};this.EY=function(G){be.addHandler('markSelectionChanged',G);};this.Hq=function(G){be.removeHandler('markSelectionChanged',G);};this.GJ=function(G){be.addHandler('markTextSelectionChanged',G);};this.HM=function(G){be.removeHandler('markTextSelectionChanged',G);};this.yu=function(G){be.addHandler('commentAdded',G);};this.BN=function(G){be.removeHandler('commentAdded',G);};this.wW=function(G){be.addHandler('commentRemoved',G);};this.BI=function(G){be.removeHandler('commentRemoved',G);};this.sR=function(G){be.addHandler('commentChanged',G);};this.ty=function(G){be.removeHandler('commentChanged',G);};this.jK=function(G){be.addHandler('propertyChanged',G);};this.lC=function(G){be.removeHandler('propertyChanged',G);};this.ae=function(dE,F){var G=be.getHandler(dE);if(G!==null){G(this,F);}};this.cP=function(dm){var G=be.getHandler("propertyChanged");if(G){G(this,new IPCC.oe(dm));}};return this;};Qn.prototype={get_markCount:function(){return this.YA();},get_selectedMarks:function(){return this.Ac();},toString:function(){return 'ArtPage with '+this.get_markCount()+' marks';},addMark:function(mark,mouseLocation){this.Pq(mark,mouseLocation);},forEachMark:function(method,context){this.Cs(method,context);},getMark:function(zIndex){return this.Qv(zIndex);},getZIndexOfMark:function(mark){return this.oR(mark);},loadFromJson:function(json){this.aGb(json);},removeAllMarks:function(){this.UG();},removeMark:function(mark){this.vb(mark);},reorderMark:function(mark,zIndex){this.adt(mark,zIndex);},saveToJson:function(){return this.aAS();},add_markAdded:function(handler){this.yW(handler);},remove_markAdded:function(handler){this.zt(handler);},add_markChanged:function(handler){this.Hv(handler);},remove_markChanged:function(handler){this.HU(handler);},add_markRemoved:function(handler){this.yh(handler);},remove_markRemoved:function(handler){this.Az(handler);},add_markReordered:function(handler){this.Gx(handler);},remove_markReordered:function(handler){this.Ir(handler);},add_marksLoaded:function(handler){this.Xc(handler);},remove_marksLoaded:function(handler){this.Un(handler);},add_markSelectionChanged:function(handler){this.EY(handler);},remove_markSelectionChanged:function(handler){this.Hq(handler);},add_markTextSelectionChanged:function(handler){this.GJ(handler);},remove_markTextSelectionChanged:function(handler){this.HM(handler);},add_commentAdded:function(handler){this.yu(handler);},remove_commentAdded:function(handler){this.BN(handler);},add_commentRemoved:function(handler){this.wW(handler);},remove_commentRemoved:function(handler){this.BI(handler);},add_commentChanged:function(handler){this.sR(handler);},remove_commentChanged:function(handler){this.ty(handler);}};Qn.registerClass=ci;Qn.registerClass('IPCC.Web.UI.ArtPage');module.exports=Qn;},{"../../IPCC.Util":29}],67:[function(require,module,exports){var de=require('../../IPCC.Util').regEnum;var Qk=function(){};Qk.registerEnum=de;Qk.prototype={Line:0,Triangle:1};Qk.registerEnum('IPCC.Web.UI.CalloutType',false);module.exports=Qk;},{"../../IPCC.Util":29}],68:[function(require,module,exports){var ci=require('../../IPCC.Util').regClass;var PK=function(text){var be=new IPCC.Web.UI.gv();var bX=new IPCC.Web.UI.Data();this.abm=IPCC.C.wD(new Date());this.bo=text;this.apk=function(bo){if(bo===this.bo){return;}this.bo=bo;var F=new IPCC.Web.UI.CommentEventArgs();F.comment=this;F.length=1;this.ae('commentChanged',F);};this.auK=function(){return this.bo;};this.apC=function(aCE){this.abm=aCE;};this.atQ=function(){return this.abm;};this.sR=function(G){be.addHandler('commentChanged',G);};this.ty=function(G){be.removeHandler('commentChanged',G);};this.ae=function(dE,F){var G=be.getHandler(dE);if(G!==null){G(this,F);}};this.yq=function(){return bX;};return this;};PK.prototype={toString:function(){return 'Comment('+this.creationTime+', '+this.text+')';},add_commentChanged:function(handler){this.sR(handler);},remove_commentChanged:function(handler){this.ty(handler);},get_text:function(){return this.auK();},set_text:function(text){this.apk(text);},get_creationTime:function(){return this.atQ();},set_creationTime:function(isoTimeString){this.apC(isoTimeString);},get_data:function(){return this.yq();}};PK.registerClass=ci;PK.registerClass('IPCC.Web.UI.Comment');module.exports=PK;},{"../../IPCC.Util":29}],69:[function(require,module,exports){var ci=require('../../IPCC.Util').regClass;var OW=function(){return this;};OW.registerClass=ci;OW.prototype={};OW.registerClass('IPCC.Web.UI.CommentEventArgs');module.exports=OW;},{"../../IPCC.Util":29}],70:[function(require,module,exports){var ci=require('../../IPCC.Util').regClass;var Oq=function(axv){var he=[];var be=new IPCC.Web.UI.gv();var bX=new IPCC.Web.UI.Data();var K=axv;var J=this;function Ps(aC,F){J.ae('commentChanged',F);};this.EP=function(di){di.add_commentChanged(Ps);he.push(di);var F=new IPCC.Web.UI.CommentEventArgs();F.comment=di;F.length=1;F.index=he.length-1;this.ae('commentAdded',F);};this.aBj=function(di){var SL= -1;IPCC.C.forEach(he,function(el,idx){if(el===di){SL=idx;}});if(SL=== -1){throw new IPCC.Web.UI.ImGearArgumentException('comment',"The provided comment was not found in the conversation.");}var aeX=he.splice(SL,1)[0];aeX.ty(Ps);var F=new IPCC.Web.UI.CommentEventArgs();F.comment=aeX;F.length=1;this.ae('commentRemoved',F);};this.jX=function(iA,dJ){var h;for(h=0;h<he.length;h++){iA.call(dJ,he[h],h,this);}};this.ec=function(){return he.length;};this.yu=function(G){be.addHandler('commentAdded',G);};this.BN=function(G){be.removeHandler('commentAdded',G);};this.sR=function(G){be.addHandler('commentChanged',G);};this.ty=function(G){be.removeHandler('commentChanged',G);};this.wW=function(G){be.addHandler('commentRemoved',G);};this.BI=function(G){be.removeHandler('commentRemoved',G);};this.yq=function(){return bX;};this.PU=function(){return K;};this.ae=function(dE,F){var G=be.getHandler(dE);if(G!==null){G(this,F);}};return this;};Oq.prototype={toString:function(){return 'Conversation with '+this.get_length()+' comments';},addComment:function(comment){this.EP(comment);},removeCommentInstance:function(comment){this.aBj(comment);},forEach:function(method,context){this.jX(method,context);},get_length:function(){return this.ec();},add_commentAdded:function(handler){this.yu(handler);},remove_commentAdded:function(handler){this.BN(handler);},add_commentChanged:function(handler){this.sR(handler);},remove_commentChanged:function(handler){this.ty(handler);},add_commentRemoved:function(handler){this.wW(handler);},remove_commentRemoved:function(handler){this.BI(handler);},get_data:function(){return this.yq();},get_mark:function(){return this.PU();}};Oq.registerClass=ci;Oq.registerClass('IPCC.Web.UI.Conversation');module.exports=Oq;},{"../../IPCC.Util":29}],71:[function(require,module,exports){var ci=require('../../IPCC.Util').regClass;var Rk=function(){this.bX={};this.yq=function(key){if(typeof key==='undefined'){return IPCC.C.extend({},this.bX);}else if(typeof key==='string'){return this.bX[key];}else{throw new IPCC.Web.UI.ImGearArgumentException("key","The argument must be a string.");}};this.aqU=function(key,value){if(typeof key!=='string'){throw new IPCC.Web.UI.ImGearArgumentException("key","The argument must be a string.");}if(typeof value==='string'){this.bX[key]=value;}else if(typeof value==='undefined'){delete this.bX[key];}else{throw new IPCC.Web.UI.ImGearArgumentException("value","The argument must be a string.");}return this;};this.atD=function(){var keys=[];IPCC.C.forEach(this.bX,function(value,key){keys.push(key);});return keys;};return this;};Rk.prototype={toString:function(){return 'Data('+this.creationTime+', '+this.text+')';},get_data:function(key){return this.yq(key);},set_data:function(key,value){return this.aqU(key,value);},get_dataKeys:function(){return this.atD();}};Rk.registerClass=ci;Rk.registerClass('IPCC.Web.UI.Data');module.exports=Rk;},{"../../IPCC.Util":29}],72:[function(require,module,exports){var de=require('./../../IPCC.Util').regEnum;var QB=function(){};QB.prototype={Production:0,Development:1,Detailed:2};QB.registerEnum=de;QB.registerEnum('IPCC.Web.UI.DebugErrorLevel',false);module.exports=QB;},{"./../../IPCC.Util":29}],73:[function(require,module,exports){var de=require('./../../IPCC.Util').regEnum;var Rd=function(){};Rd.prototype={FunctionCall:0,Exception:1,Custom:2,UserAction:3,Warning:4};Rd.registerEnum=de;Rd.registerEnum('IPCC.Web.UI.DebugItemCause',false);module.exports=Rd;},{"./../../IPCC.Util":29}],74:[function(require,module,exports){var ci=require('./../../IPCC.Util').regClass;var bI=function(apW){var az=apW;var aiD=this.type=az.type.toLowerCase();var Ln=typeof az.changedTouches!=='undefined';this.rawEvent=az;this.altKey=az.altKey;if(typeof(az.button)!=='undefined'){this.button=(typeof(az.which)!=='undefined')?az.button:(az.button===4)?IPCC.Web.UI.MouseButton.middleButton:(az.button===2)?IPCC.Web.UI.MouseButton.rightButton:IPCC.Web.UI.MouseButton.leftButton;}if(aiD==='keypress'){this.charCode=az.charCode||az.keyCode;}else if(az.keyCode&&(az.keyCode===46)){this.keyCode=127;}else{this.keyCode=az.keyCode;}this.clientX=(Ln)?az.changedTouches[0].clientX:az.clientX;this.clientY=(Ln)?az.changedTouches[0].clientY:az.clientY;this.ctrlKey=az.ctrlKey;this.target=az.target?az.target:az.srcElement;function atF(bg){var bf=0;var dB=0;while(bg&& !isNaN(bg.offsetLeft)&& !isNaN(bg.offsetTop)){bf+=bg.offsetLeft-bg.scrollLeft;dB+=bg.offsetTop-bg.scrollTop;if(bg.offsetparent){bg=bg.offsetParent;}else{bg=bg.parentNode;}}return{top:dB,left:bf};};var eb=""+aiD;var CQ='key';if(eb.substr(0,CQ.length)!==CQ){if((typeof(az.offsetX)!=='undefined')&&(typeof(az.offsetY)!=='undefined')){this.offsetX=az.offsetX;this.offsetY=az.offsetY;}else if(this.target&&(this.target.nodeType!==3)&&(typeof(az.clientX)==='number')){var Kv=atF(this.target);var ez=this.target;var gI=ez.ownerDocument||ez.document||ez;var ie=gI.defaultView||gI.parentWindow;this.offsetX=(ie.pageXOffset||0)+az.clientX-Kv.left;this.offsetY=(ie.pageYOffset||0)+az.clientY-Kv.top;}}this.screenX=(Ln)?az.changedTouches[0].screenX:az.screenX;this.screenY=(Ln)?az.changedTouches[0].screenY:az.screenY;this.shiftKey=az.shiftKey;};bI.prototype={preventDefault:function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}if(this.rawEvent.preventDefault){this.rawEvent.preventDefault();}else if(window.event){this.rawEvent.returnValue=false;}},stopPropagation:function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}if(this.rawEvent.stopPropagation){this.rawEvent.stopPropagation();}else if(window.event){this.rawEvent.cancelBubble=true;}}};bI.registerClass=ci;bI.registerClass('IPCC.Web.UI.bI');bI.addHandler=function(element,eventName,handler,autoRemove){IPCC.Web.UI.bI.YR(element);if(eventName==="error"){throw new IPCC.Web.UI.ImGearInvalidOperationException(IPCC.kH.addHandlerCantBeUsedForError);}if(!element.be){element.be={};}var eventCache=element.be[eventName];if(!eventCache){element.be[eventName]=eventCache=[];}var browserHandler;if(element.addEventListener){browserHandler=function(e){return handler.call(element,new IPCC.Web.UI.bI(e));};element.addEventListener(eventName,browserHandler,false);}else if(element.attachEvent){browserHandler=function(){var e={};try{var doc=element.ownerDocument||element.document||element;var ez=doc.defaultView||doc.parentWindow;e=ez.event;}catch(ex){}return handler.call(element,new IPCC.Web.UI.bI(e));};element.attachEvent('on'+eventName,browserHandler);}eventCache[eventCache.length]={handler:handler,browserHandler:browserHandler,autoRemove:autoRemove};if(autoRemove){var d=element.dispose;if(d!==IPCC.Web.UI.bI.acw){element.dispose=IPCC.Web.UI.bI.acw;if(typeof(d)!=="undefined"){element.ahP=d;}}}};bI.clearHandlers=function(element){IPCC.Web.UI.bI.YR(element);IPCC.Web.UI.bI.aip(element,false);};bI.aip=function(element,autoRemoving){if(element.be){var cache=element.be;for(var name in cache){if(cache.hasOwnProperty(name)){var handlers=cache[name];for(var i=handlers.length-1;i>=0;i--){var entry=handlers[i];if(!autoRemoving||entry.autoRemove){IPCC.Web.UI.bI.removeHandler(element,name,entry.handler);}}}}element.be=null;}};bI.acw=function(){IPCC.Web.UI.bI.aip(this,true);var d=this.ahP,type=typeof(d);if(type!=="undefined"){this.dispose=d;this.ahP=null;if(type==="function"){this.dispose();}}};bI.removeHandler=function(element,eventName,handler){IPCC.Web.UI.bI.dz(element,eventName,handler);};bI.dz=function(element,eventName,handler){IPCC.Web.UI.bI.YR(element);var browserHandler=null;if((typeof(element.be)!=='object')|| !element.be){throw new IPCC.Web.UI.ImGearInvalidOperationException('DOM event handler was not added through the DomEvent.addHandler method.');}var cache=element.be[eventName];if(!(cache instanceof Array)){throw new IPCC.Web.UI.ImGearInvalidOperationException('DOM event handler was not added through the DomEvent.addHandler method.');}for(var i=0,l=cache.length;i<l;i++){if(cache[i].handler===handler){browserHandler=cache[i].browserHandler;break;}}if(typeof(browserHandler)!=='function'){throw new IPCC.Web.UI.ImGearInvalidOperationException('Handler was not added through the IPCC.Web.UI.bI.addHandler method.');}if(element.removeEventListener){element.removeEventListener(eventName,browserHandler,false);}else if(element.detachEvent){element.detachEvent('on'+eventName,browserHandler);}cache.splice(i,1);};bI.YR=function(element){if(element.tagName&&(element.tagName.toUpperCase()==="SCRIPT")){return;}var doc=element.ownerDocument||element.document||element;if((typeof(element.document)!=='object')&&(element!==doc)&&(typeof(element.nodeType)!=='number')){throw new IPCC.Web.UI.ImGearArgumentException("element",IPCC.kH.argumentDomNode);}};module.exports=bI;},{"./../../IPCC.Util":29}],75:[function(require,module,exports){var de=require('../../IPCC.Util').regEnum;var pl=function(){};pl.registerEnum=de;pl.prototype={FullImage:0,FullWidth:1,FullHeight:2,ActualSize:3,OneToOne:4,Rectangle:5};pl.registerEnum('IPCC.Web.UI.FitType',false);module.exports=pl;},{"../../IPCC.Util":29}],76:[function(require,module,exports){var de=require('../../IPCC.Util').regEnum;var PL=function(){};PL.registerEnum=de;PL.prototype={Regular:0,Bold:1,Italic:2,Underline:4,Strikeout:8};PL.registerEnum('IPCC.Web.UI.FontStyle',true);module.exports=PL;},{"../../IPCC.Util":29}],77:[function(require,module,exports){var de=require('../../IPCC.Util').regEnum;var RV=function(){};RV.registerEnum=de;RV.prototype={Tag:0,InlineHighLight:1,Link:2,Redaction:3,Strikethrough:4};RV.registerEnum('IPCC.Web.UI.HighLight',false);module.exports=RV;},{"../../IPCC.Util":29}],78:[function(require,module,exports){var de=require('../../IPCC.Util').regEnum;var Rq=function(){};Rq.registerEnum=de;Rq.prototype={Left:0,Center:16,Right:32};Rq.registerEnum('IPCC.Web.UI.HorizontalAlignment',false);module.exports=Rq;},{"../../IPCC.Util":29}],79:[function(require,module,exports){var de=require('./../../IPCC.Util').regEnum;var QA=function(){};QA.registerEnum=de;QA.prototype={None:0,ArtDataService:1};QA.registerEnum('IPCC.Web.UI.ImGearArtDataServices',false);module.exports=QA;},{"./../../IPCC.Util":29}],80:[function(require,module,exports){var ci=require('./../../IPCC.Util').regClass;var DC=function(ap){var ig='';var gm='';var J=this;this.cT=new IPCC.Web.UI.ImGearPageCollection();this.Re=undefined;this.cT.aG=this;var KU=false;this.rU=undefined;var ed=0;var Ll=IPCC.Web.UI.ImGearPageCountStatus.UnRequested;var be=new IPCC.Web.UI.gv();this.iC=IPCC.Web.FU.aav(4,IPCC.Web.OM());this.qt=IPCC.Web.hA.IE.mY(this.iC);var yY=[];var lJ=0;var ml=[];var DO=[];var hn={startPage:0,lastPage:0,requestCount:0,stopRequests:false,lastTimeout:1000};var ZT=false;this.ae=function(dE,F){var G=be.getHandler(dE);if(G!==null){try{G(J,F);}catch(e){IPCC.iJ.RU('raise event error in ImGearDocument, error: '+e.message);IPCC.iJ.lV(e.message,IPCC.Web.UI.ImGearDocument,IPCC.Web.UI.DebugErrorLevel.Production,'ImGearDocument','');}}};function Wd(aC,F){if(F.length>0){J.ae('pageAdded',F);}};function UQ(aC,F){if(F.length>0){J.ae('pageRemoved',F);}};function IT(aC,F){J.ae('pageChanged',F);};this.cT.add_pageAdded(Wd);this.cT.add_pageRemoved(UQ);this.cT.add_pageChanged(IT);function ayI(){function avD(ju,jC){var cK=ju+'() threw an exception ';if(jC.name){cK+='( '+jC.name+" ";}else{cK+=".";}if(jC.message){cK+="  exception message = "+jC.message;}if(jC.statusCode){cK+="  exception statusCode = "+jC.statusCode;}cK=cK.replace(/\n/g," ");IPCC.iJ.lV(cK,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production,'ImGearDocument',"document");};this.ay=avD;this.ae=function(dE,F){var G=be.getHandler(dE);if(G!==null){G(J,F);}};};if(arguments.length===0){var cK="ImGearDocument object creation requires parameters";throw new IPCC.Web.UI.ImGearArgumentException('ImGearDocument',cK);}if(arguments.length>0){if(ap.documentIdentifier!==undefined){ig=ap.documentIdentifier;gm=IPCC.hm.rE(ig);}if(ap.encodedDocumentIdentifier!==undefined){var vH=ap.encodedDocumentIdentifier;if(ap.documentIdentifier!==undefined){gm=IPCC.hm.rE(ig);if(vH!==gm){throw new IPCC.Web.UI.ImGearArgumentException('documentIdentifier','When both are specified, documentIdentifier and encodedImageIdentifier must reference the same document.');}}else{ig=IPCC.hm.HA(ap.encodedDocumentIdentifier);}}if(ap.imageServicePath!==undefined){this.rU=ap.imageServicePath;}else{throw new IPCC.Web.UI.ImGearArgumentException('ImGearDocument','Document creation requires imageServicePath.');}var sB;if(ap.includeAllPages!==undefined){KU=ap.includeAllPages;if(KU===true){var aEG=new ayI();var Yz=0;J.bO=new IPCC.hm(gm,0,0,0,0,0);var nA=function(){ed=J.bO.ed;Ll=IPCC.Web.UI.ImGearPageCountStatus.Known;for(;Yz<ed;Yz++){var acn=new IPCC.Web.UI.ImGearPage({pageNumber:Yz,aG:J});acn.aG=J;J.cT.addPage(acn);}};Ll=IPCC.Web.UI.ImGearPageCountStatus.RequestPending;try{this.bO.SF(this.rU,aEG,nA);}catch(e){Ll=IPCC.Web.UI.ImGearPageCountStatus.Failed;var cN=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cN.exception=e;J.ae('pageOpenFailed',cN);throw e;}}}else if(ap.pages!==undefined){if(ap.pages.length>0){var h=0;for(h=0;h<ap.pages.length;h++){var aa=ap.pages[h];aa.document=this;this.cT.addPage(aa);}}}else if(ap.pageNumber!==undefined){if(ap.pageRangeCount!==undefined){var qZ=ap.pageRangeCount;if(qZ>0){var bU;for(bU=ap.pageNumber;bU<=qZ;bU++){sB=new IPCC.Web.UI.ImGearPage(bU);sB.aG=J;this.cT.addPage(sB);}}else if(qZ===0){sB=new IPCC.Web.UI.ImgearPage({pageNumber:ap.pageNumber,aG:J});sB.aG=J;J.cT.addPage(sB);}}else{if(ap.selected){sB=new IPCC.Web.UI.ImGearPage({pageNumber:ap.pageNumber,aG:J,selected:true});}else{sB=new IPCC.Web.UI.ImGearPage({pageNumber:ap.pageNumber,aG:J});}sB.aG=J;J.cT.addPage(sB);}}}this.Ky=function(){return ig;};this.PA=function(){return gm;};this.ajM=function(){return this.cT;};this.arY=function(){return ed;};this.arM=function(){return Ll;};this.auk=function(){return KU;};this.apA=function(T){KU=T;this.cP('includeAllPages');};var oJ=false;this.ja=function(){return oJ;};this.lU=function(T){oJ=T;};this.HJ=function(G){be.addHandler('pageAdded',G);};this.HS=function(G){be.removeHandler('pageAdded',G);};this.If=function(G){be.addHandler('pageRemoved',G);};this.HW=function(G){be.removeHandler('pageRemoved',G);};this.GT=function(G){be.addHandler('pageOpenFailed',G);};this.Ge=function(G){be.removeHandler('pageOpenFailed',G);};this.jK=function(G){be.addHandler('propertyChanged',G);};this.lC=function(G){be.removeHandler('propertyChanged',G);};this.HF=function(G){be.addHandler('pageChanged',G);};this.EV=function(G){be.removeHandler('pageChanged',G);};this.cP=function(dm){var G=be.getHandler('propertyChanged');if(G){G(this,new IPCC.oe(dm));}};this.awO=function(G){be.addHandler('textPagesReceived',G);};this.aBT=function(G){be.removeHandler('textPagesReceived',G);};this.auF=function(){return DO.length;};this.arL=function(){return yY;};this.asH=function(){return yY.length;};this.atx=function(){return hn;};this.auA=function(){return ZT;};this.aFg=function(T){ZT=T;};this.axt=function(gZ){if(hn.stopRequests===true){var F={};F.error=0;F.textPagesReceived=Pz(gZ);if(F.textPagesReceived.length===0){if(lJ>0&&lJ<gZ){for(var cs=lJ;cs<gZ;cs++){F.textPagesReceived.push(cs);}}}F.length=2;J.ae('textPagesReceived',F);return;}var jA=true;var Hy=false;for(var h=0;h<lJ;h++){if(Array.prototype.indexOf){if(yY.indexOf(h)<0){jA=false;Hy=true;break;}}else{if(IPCC.Web.iE(yY,h)<0){Hy=true;break;}}}if(Hy){J.Oh(h,undefined,gZ);}else if(lJ<gZ){for(var as=0;as<gZ;as++){if(Array.prototype.indexOf){if(ml.indexOf(as)<0){jA=false;break;}}else{if(IPCC.Web.iE(ml,as)<0){jA=false;break;}}}if(!jA){Hy=true;J.Oh(as,undefined,gZ);}else{J.Oh(lJ,undefined,gZ);}}else{Hy=false;}};function Pz(gZ){var Xj=[],cs;if(ml.length>0){var jA=true;for(cs=0;cs<gZ;cs++){jA=true;if(Array.prototype.indexOf){if(ml.indexOf(cs)<0){jA=false;}}else{if(IPCC.Web.iE(ml,cs)<0){jA=false;}}if(!jA){ml.push(cs);DO.push(cs);Xj.push(cs);}}}else{for(cs=0;cs<gZ;cs++){ml.push(cs);DO.push(cs);Xj.push(cs);}}return Xj;};this.Oh=function(afs,aiy,gZ){ZT=true;var aU;if(!isNaN(afs)){aU=afs;}else{aU=0;}var Da;if(!isNaN(gZ)){Da=gZ;}var cZ;if(!isNaN(aiy)){cZ=aiy;}else if(!isNaN(Da)){cZ=Da-1;}else{Da=gZ;if(!isNaN(Da)){cZ=Da-1;}}if(isNaN(cZ)){cZ=aU+1;}if(cZ-aU>9){cZ=aU+9;}function PV(bo){var Tq=lJ;var Yo=[];var jA=true;var bB;for(var aS=0;aS<bo.pages.length;aS++){if(Array.prototype.indexOf){if(yY.indexOf(bo.pages[aS].number)<0){jA=false;}}else{if(IPCC.Web.iE(yY,bo.pages[aS].number)<0){jA=false;}}if(!jA){yY.push(bo.pages[aS].number);if(J.cT.iO(bo.pages[aS].number).dF().wf()===false){bB=J.cT.iO(bo.pages[aS].number);bB.aeg(bo.pages[aS]);bB.akg(bo.pages[aS]);bB.ajA(bo.pages[aS].markup,bo.pages[aS].height,bo.pages[aS].width);}lJ++;Yo.push(bo.pages[aS].number);ml.push(bo.pages[aS].number);if(!bo.pages[aS].text){DO.push(bo.pages[aS].number);}}}var F={};if(bo.hasOwnProperty("errorCode")){F.error=0;J.pageExtractionFailed=true;F.textPagesReceived=Yo;F.length=2;for(var AA=hn.startPage;AA<hn.lastPage+1;AA++){jA=true;if(Array.prototype.indexOf){if(ml.indexOf(AA)<0){jA=false;}}else{if(IPCC.Web.iE(ml,AA)<0){jA=false;}}if(!jA){ml.push(AA);DO.push(AA);F.textPagesReceived.push(AA);}}J.ae('textPagesReceived',F);hn.stopRequests=true;return;}if(lJ>Tq){F.textPagesReceived=Yo;F.length=2;F.error=0;}var qW=hn.lastTimeout;if(hn.startPage===aU&&hn.lastPage===cZ&&lJ===Tq){if(hn.requestCount<25){qW=qW+1000;hn.requestCount++;}else{F.error=0;F.textPagesReceived=[];F.length=2;jA=true;var cs;for(cs=hn.startPage;cs<hn.lastPage+1;cs++){jA=true;if(Array.prototype.indexOf){if(ml.indexOf(cs)<0){jA=false;}}else{if(IPCC.Web.iE(ml,cs)<0){jA=false;}}if(!jA){ml.push(cs);DO.push(cs);F.textPagesReceived.push(cs);}}if(F.textPagesReceived.length===0){if(lJ>0&&lJ<gZ){for(cs=lJ;cs<gZ;cs++){F.textPagesReceived.push(cs);}}}hn.stopRequests=true;J.ae('textPagesReceived',F);return;}}else{qW=1000;hn.requestCount=0;}hn.lastTimeout=qW;hn.startPage=aU;hn.lastPage=cZ;setTimeout(function(){J.axt(gZ);},qW);if(lJ>Tq){J.ae('textPagesReceived',F);}};function fq(bw){var F={},hD,aE;try{var pq=bw.getResponseHeader("Accusoft-Data-Encrypted");if(pq==='true'){var tZ=IPCC.Web.hA.pA.vC(bw.getResponseHeader("Accusoft-Data-SK"));var aV=IPCC.Web.Hx(tZ,J.iC);var er=IPCC.Web.Fm(bw);var vd=IPCC.Web.DU(er,aV,J.iC);hD=IPCC.Web.hA.GM.mY(vd);}else{hD=bw.responseText;}aE=JSON.parse(hD);PV(aE);}catch(e){F.error= -1;Pz(gZ);F.textPagesReceived=[];F.length=2;J.ae('textPagesReceived',F);return;}};function eP(aE){var F={},hb;try{hb=aE.response.status;if(aE.response.responseText){aE=JSON.parse(aE.response.responseText);if(aE.hasOwnProperty("errorCode")){F.error=0;if(lJ>0){if(aE.pages){if(aE.pages.length>0){PV(aE);return;}}}else{F.error= -1;}if(ml.length===0){F.error= -1;}J.pageExtractionFailed=true;F.textPagesReceived=[];F.length=2;F.textPagesReceived=Pz(gZ);J.ae('textPagesReceived',F);return;}else{throw new IPCC.Web.UI.ImGearHttpException(hb,"Unable to obtain text");}}else{throw new IPCC.Web.UI.ImGearHttpException(hb,"Unable to obtain text");}}catch(e){F.error= -1;Pz(gZ);F.textPagesReceived=[];F.length=2;J.ae('textPagesReceived',F);return;}};var iT=ig;var gq=J.rU;if(!(/^[\x00-\x7F]*$/.test(iT))){iT='e'+gm;}else{iT='u'+iT;}var ao;if(J.ja()){ao=gq+'/Document/q/'+aU.toString()+'-'+cZ.toString()+'/Text?DocumentID='+iT+'&iv='+J.qt;}else{ao=gq+'/Document/q/'+aU.toString()+'-'+cZ.toString()+'/Text?DocumentID='+iT;}IPCC.C.mH.ff({method:'GET',url:ao,headers:{'accept':'application/json'}}).then(fq,eP);};return this;};DC.encodeDocumentIdentifier=function(ig){var gm;if(ig!==undefined){gm=IPCC.hm.rE(ig);}return gm;};DC.decodeDocumentIdentifier=function(gm){var ahG;if(gm!==undefined){ahG=IPCC.hm.HA(gm);}return ahG;};DC.prototype={get_documentIdentifier:function(){var bN=this.Ky();return bN;},get_encodedDocumentIdentifier:function(){var bN=this.PA();return bN;},get_pages:function(){return this.ajM();},get_pageCountStatus:function(){var r=this.arM();return r;},set_pageCountStatus:function(value){this.aHn(value);},get_pageCount:function(){var r=this.arY();return r;},get_includeAllPages:function(){try{var bN=this.auk();return bN;}catch(e){throw e;}},set_includeAllPages:function(value){try{this.apA(value);}catch(e){throw e;}},get_encryption:function(){var bN=this.ja();return bN;},set_encryption:function(value){this.lU(value);},add_pageChanged:function(handler){this.HF(handler);},remove_pageChanged:function(handler){this.EV(handler);},add_pageRemoved:function(handler){this.If(handler);},remove_pageRemoved:function(handler){this.HW(handler);},add_pageAdded:function(handler){this.HJ(handler);},remove_pageAdded:function(handler){this.HS(handler);},add_pageOpenFailed:function(handler){this.GT(handler);},remove_pageOpenFailed:function(handler){this.Ge(handler);},get_textRequestInfo:function(){try{var bN=this.atx();return bN;}catch(e){throw e;}},get_pagesWithText:function(){try{var bN=this.arL();return bN;}catch(e){throw e;}},get_numberOfPagesWithText:function(){try{var bN=this.asH();return bN;}catch(e){throw e;}},get_numberOfPagesWithoutText:function(){try{var bN=this.auF();return bN;}catch(e){throw e;}},add_textPagesReceived:function(handler){try{this.awO(handler);}catch(e){throw e;}},remove_textPagesReceived:function(handler){try{this.aBT(handler);}catch(e){this.ay('remove_textPagesReceived',e);throw e;}},add_propertyChanged:function(handler){this.jK(handler);},remove_propertyChanged:function(handler){this.lC(handler);}};DC.registerClass=ci;DC.registerClass('IPCC.Web.UI.ImGearDocument');module.exports=DC;},{"./../../IPCC.Util":29}],81:[function(require,module,exports){var ci=require('./../../IPCC.Util').regClass;var Rh=function(){var iY=[];var be=new IPCC.Web.UI.gv();var J=this;function aEL(aC,F){if(F){var PW=new IPCC.Web.UI.ImGearDocumentEventArgs();PW.document=aC;PW.propertyName=F.get_propertyName();PW.length=2;J.ae('documentChanged',PW);}};this.Ut=function(asz){this.aew(iY.length,asz);};this.aew=function(bp,aG){var as;var cg=iY.length;if(bp>iY.length||(bp<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bp,'document index is out of range');}for(as=0;as<cg;as++){if(iY[as]===aG){throw new IPCC.Web.UI.ImGearInvalidOperationException('The document instance object to be inserted already exists in the collection. You cannot use the same instance of a document object.');}}var aat=be.getHandler('pageAdded');if(aat){aG.add_pageAdded(aat);}var aet=be.getHandler('pageRemoved');if(aet){aG.add_pageRemoved(aet);}var adl=be.getHandler('pageChanged');if(adl){aG.add_pageChanged(adl);}aG.add_propertyChanged(aEL);iY.splice(bp,0,aG);var F=new IPCC.Web.UI.ImGearDocumentEventArgs();F.imGearDocument=aG;F.index=bp;F.length=1;this.ae('documentAdded',F);};function kF(bp){if(bp>iY.length-1||(bp<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bp,'document index is out of range');}};this.Qg=function(bp){kF(bp);return iY[bp];};this.ec=function(){return iY.length;};this.aIr=function(iA,dJ){var akb=[].concat(iY);var h;for(h=0;h<akb.length;h++){iA.call(dJ,akb[h],h,this);}};this.afz=function(bp){kF(bp);var F=new IPCC.Web.UI.ImGearDocumentEventArgs();F.imGearDocument=iY[bp];F.length=1;iY[bp].get_pages().removeAllPages();iY.splice(bp,1);this.ae('documentRemoved',F);};this.aBv=function(){var h=0;while(iY.length>0){this.afz(h);}};this.auy=function(G){be.addHandler('documentAdded',G);};this.aBn=function(G){be.removeHandler('documentAdded',G);};this.avt=function(G){be.addHandler('documentRemoved',G);};this.aCG=function(G){be.removeHandler('documentRemoved',G);};this.atu=function(G){be.addHandler('documentChanged',G);};this.aCr=function(G){be.removeHandler('documentChanged',G);};this.HJ=function(G){be.addHandler('pageAdded',G);};this.HS=function(G){be.removeHandler('pageAdded',G);for(var as=0;as<iY.length;as++){iY[as].remove_pageAdded(G);}};this.HF=function(G){be.addHandler('pageChanged',G);};this.EV=function(G){be.removeHandler('pageChanged',G);for(var as=0;as<iY.length;as++){iY[as].remove_pageChanged(G);}};this.If=function(G){be.addHandler('pageRemoved',G);};this.HW=function(G){be.removeHandler('pageRemoved',G);for(var as=0;as<iY.length;as++){iY[as].remove_pageRemoved(G);}};this.ae=function(dE,F){var G=be.getHandler(dE);if(G!==null){try{G(J,F);}catch(e){IPCC.iJ.RU('event raise, ImGearDocumentCollection, error: '+e.message);}}};return this;};Rh.prototype={addDocument:function(imGearDocument){this.Ut(imGearDocument);},insertDocument:function(index,imGearDocument){this.aew(index,imGearDocument);},forEach:function(method,context){this.jX(method,context);},getDocument:function(index){return this.Qg(index);},get_length:function(){return this.ec();},removeDocument:function(imGearDocument){this.afz(imGearDocument);},removeAllDocuments:function(){this.aBv();},add_documentAdded:function(handler){this.auy(handler);},remove_documentAdded:function(handler){this.aBn(handler);},add_documentRemoved:function(handler){this.avt(handler);},remove_documentRemoved:function(handler){this.aCG(handler);},add_documentChanged:function(handler){this.atu(handler);},remove_documentChanged:function(handler){this.aCr(handler);},add_pageAdded:function(handler){this.HJ(handler);},remove_pageAdded:function(handler){this.HS(handler);},add_pageRemoved:function(handler){this.If(handler);},remove_pageRemoved:function(handler){this.HW(handler);},add_pageChanged:function(handler){this.HF(handler);},remove_pageChanged:function(handler){this.EV(handler);}};Rh.registerClass=ci;Rh.registerClass('IPCC.Web.UI.ImGearDocumentCollection');module.exports=Rh;},{"./../../IPCC.Util":29}],82:[function(require,module,exports){var ci=require('./../../IPCC.Util').regClass;var Si=function(){return this;};Si.registerClass=ci;Si.prototype={};Si.registerClass('IPCC.Web.UI.ImGearDocumentCreateArgs');module.exports=Si;},{"./../../IPCC.Util":29}],83:[function(require,module,exports){var ci=require('./../../IPCC.Util').regClass;var QS=function(){return this;};QS.registerClass=ci;QS.prototype={};QS.registerClass('IPCC.Web.UI.ImGearDocumentEventArgs');module.exports=QS;},{"./../../IPCC.Util":29}],84:[function(require,module,exports){var aDr=function(jZ){var bf=0,dB=0,aK=0,an=0,lm=jZ.href||"",axX=jZ.borderStyle||"Solid",lN=jZ.borderThickness||0,Au=jZ.borderPattern||[1],JU=jZ.borderHorizontalRadius||0,Jz=jZ.borderHorizontalRadius||0,oU=jZ.borderColor||"#0000FF",re=jZ.borderOpacity||255,R,K;if(typeof re==='string'){re=parseInt(re,10);}if(jZ.rectangle){bf=jZ.rectangle.x;dB=jZ.rectangle.y;aK=jZ.rectangle.width;an=jZ.rectangle.height;}R=new IPCC.Web.UI.Rectangle(bf,dB,aK,an);this.eG=function(){var Zr=new IPCC.Web.UI.Rectangle(R.x,R.y,R.width,R.height);return Zr;};this.DV=function(kp){R.x=kp.x;R.y=kp.y;R.width=kp.width;R.height=kp.height;};this.amF=function(){return lm;};this.aup=function(){return axX;};this.aud=function(){return lN;};this.auf=function(){return Au;};this.aue=function(){return JU;};this.att=function(){return Jz;};this.auz=function(){return oU;};this.auj=function(){return re;};this.PU=function(){return K;};this.anF=function(aDx){K=aDx;};this.aBJ=function(){return IPCC.C.abO(lm);};};module.exports=aDr;},{}],85:[function(require,module,exports){var gv=function gv(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}this.Jt={};};gv.prototype.cC=function(cS,G){var dp=this.abn(cS,true);dp[dp.length]=G;};gv.prototype.addHandler=function(cS,G){this.cC(cS,G);};gv.prototype.dz=function(cS,G){var tk=this.abn(cS);if(!tk){return;}var bp=IPCC.Yh(tk,G);if(bp>=0){tk.splice(bp,1);}};gv.prototype.removeHandler=function(cS,G){this.dz(cS,G);};gv.prototype.getHandler=function(cS){var tk=this.abn(cS);if(!tk||(tk.length===0)){return null;}var dp=tk.slice();tk=dp;return function(source,args){for(var h=0,qa=tk.length;h<qa;h++){tk[h](source,args);}};};gv.prototype.abn=function(cS,awa){if(!this.Jt[cS]){if(!awa){return null;}this.Jt[cS]=[];}return this.Jt[cS];};module.exports=gv;},{}],86:[function(require,module,exports){var ci=require('./../../IPCC.Util').regClass;var BA=function(message,errorInfo){this.message=message;var J=this;if(errorInfo){for(var XV in errorInfo){if(errorInfo.hasOwnProperty(XV)){J[XV]=errorInfo[XV];}}}};BA.prototype=new Error();BA.registerClass=ci;BA.registerClass('IPCC.Web.UI.ImGearException');var BK=function(statusCode,message,customErrorCode){var gf="IPCC.Web.UI.ImGearHttpException: ";if(message){gf+=message;}this.message=gf;this.statusCode=statusCode;this.customErrorCode=customErrorCode;};BK.prototype=new Error();BK.registerClass=ci;BK.registerClass('IPCC.Web.UI.ImGearHttpException');var tY=function(paramName,message){var gf="IPCC.Web.UI.ImGearArgumentException: "+(message?message:IPCC.kH.argument);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){gf+="\n"+IPCC.Web.zU(IPCC.kH.paramName,paramName);}}this.message=gf;this.paramName=paramName;};tY.prototype=new Error();tY.registerClass=ci;tY.registerClass('IPCC.Web.UI.ImGearArgumentException');var Ep=function(paramName,message){var gf="IPCC.Web.UI.ImGearArgumentNullException: "+(message?message:IPCC.kH.argumentNull);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){gf+="\n"+IPCC.Web.zU(IPCC.Res.paramName,paramName);}}this.message=gf;this.paramName=paramName;};Ep.prototype=new Error();Ep.registerClass=ci;Ep.registerClass('IPCC.Web.UI.ImGearArgumentNullException');var sm=function(paramName,actualValue,message){var gf="IPCC.Web.UI.ImGearArgumentOutOfRangeException: "+(message?message:IPCC.kH.argumentOutOfRange);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){gf+="\n"+IPCC.Web.zU(IPCC.kH.paramName,paramName);}}if(typeof(actualValue)!=="undefined"&&actualValue!==null){gf+="\n"+IPCC.Web.zU(IPCC.kH.actualValue,actualValue);}this.message=gf;this.paramName=paramName;this.actualValue=actualValue;};sm.prototype=new Error();sm.registerClass=ci;sm.registerClass('IPCC.Web.UI.ImGearArgumentOutOfRangeException');var AU=function(paramName,actualType,expectedType,message){var gf="IPCC.Web.UI.ImGearArgumentTypeException ";if(message){gf+=message;}else if(actualType&&expectedType){if(typeof(actualType.getName)==='function'&&typeof(expectedType.getName)==='function'){gf+=IPCC.Web.zU(IPCC.kH.argumentTypeWithTypes,actualType.getName(),expectedType.getName());}else{gf+="actualType = "+actualType+" expectedType =  "+expectedType;}}else{gf+=IPCC.kH.argumentType;}if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){gf+="\n"+IPCC.Web.zU(IPCC.kH.paramName,paramName);}}this.message=gf;this.paramName=paramName;this.actualType=actualType;this.expectedType=expectedType;};AU.prototype=new Error();AU.registerClass=ci;AU.registerClass('IPCC.Web.UI.ImGearArgumentTypeException');var Cj=function(paramName,message){var gf="IPCC.Web.UI.ImGearArgumentUndefinedException: "+(message?message:IPCC.kH.argumentUndefined);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){gf+="\n"+IPCC.Web.zU(IPCC.Res.paramName,paramName);}}this.message=gf;this.paramName=paramName;};Cj.prototype=new Error();Cj.registerClass=ci;Cj.registerClass('IPCC.Web.UI.ImGearArgumentUndefinedException');var DP=function(message){var gf="IPCC.Web.UI.ImGearInvalidOperationException: "+(message?message:IPCC.kH.invalidOperation);this.message=gf;};DP.prototype=new Error();DP.registerClass=ci;DP.registerClass('IPCC.Web.UI.ImGearInvalidOperationException');var Dg=function(message){var gf="IPCC.Web.UI.ImGearNotImplementedException: "+(message?message:IPCC.kH.notImplemented);this.message=gf;};Dg.prototype=new Error();Dg.registerClass=ci;Dg.registerClass('IPCC.Web.UI.ImGearNotImplementedException');var Dv=function(message){var gf="IPCC.Web.UI.ImGearParameterCountException: "+(message?message:IPCC.kH.parameterCount);this.message=gf;};Dv.prototype=new Error();Dv.registerClass=ci;Dv.registerClass('IPCC.Web.UI.ImGearParameterCountException');module.exports={BA:BA,BK:BK,tY:tY,Ep:Ep,sm:sm,AU:AU,Cj:Cj,DP:DP,Dg:Dg,Dv:Dv};},{"./../../IPCC.Util":29}],87:[function(require,module,exports){var aEi=function(){var HX=[];this.awE=function(aDw){HX.push(aDw);};this.dI=function(){return HX.length;};this.jX=function(iA,dJ){IPCC.C.forEach(HX,iA,dJ);};this.aAW=function(){if(HX.length<1){return;}HX=[];};return this;};module.exports=aEi;},{}],88:[function(require,module,exports){var aDe=function(){var Fu=new IPCC.Web.UI.ImGearHyperlinkCollection();this.IM=function(){return Fu;};};module.exports=aDe;},{}],89:[function(require,module,exports){var ci=require('./../../IPCC.Util').regClass;var QJ=function(ap){this.aG=undefined;var aR=0;var bS=0,ake=0,alx=0;var ba=0,amK=0,alO=0;var J=this;var be=new IPCC.Web.UI.gv();this.aHr=undefined;this.hn={qC:0,aeV:false,qb:1000,Qb:false};var fJ=new IPCC.Web.UI.ImGearTextPage();var Sh=new IPCC.Web.UI.ImGearHyperlinkPage();var nb=0;var oJ=false;var Cq=false,BY=0,Bv=0;function akA(o){return!isNaN(o-0);};if(ap.pageNumber!==undefined){if(akA(ap.pageNumber)){aR=ap.pageNumber;}else{throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException("pageNumber","",'The value must be a number.');}}this.nJ=function(){return aR;};this.aGS=function(T){if(akA(ap.pageNumber)){aR=T;}};this.kE=function(){return bS;};function alB(){if(!fJ){fJ=new IPCC.Web.UI.ImGearTextPage();}var aoZ=fJ.hI();var oC=bS/BY,qo=ba/Bv;aoZ.aAU(oC,qo);};function ako(){var Fu=Sh.IM();var oC=bS/BY,qo=ba/Bv;Fu.jX(function(fV){fV.DV(fV.eG().scale(oC,qo));var aeH=fV.PU();aeH.set_rectangle(aeH.get_rectangle().scale(oC,qo));});};this.KO=function(T){bS=T;if(Cq&&bS&&bS!==BY&&ba&&ba!==Bv){alB();ako();Cq=false;}};this.hO=function(){return ba;};this.KM=function(T){ba=T;if(Cq&&bS&&bS!==BY&&ba&&ba!==Bv){alB();ako();Cq=false;}};this.ajL=function(){return ake;};this.als=function(T){ake=T;};this.aId=function(){return amK;};this.akZ=function(T){amK=T;};this.aHp=function(){return alx;};this.aEU=function(T){alx=T;};this.aID=function(){return alO;};this.aIm=function(T){alO=T;};this.atL=function(){return this.aG;};this.dF=function(){if(!fJ){fJ=new IPCC.Web.UI.ImGearTextPage();}return fJ;};this.jO=function(){return nb;};this.ya=function(T){if(nb===T){return;}if(isNaN(T)){return;}nb=T;this.cP('serviceResponseTimeout');};this.ja=function(){return oJ;};this.lU=function(T){oJ=T;};this.jK=function(G){be.addHandler('propertyChanged',G);};this.lC=function(G){be.removeHandler('propertyChanged',G);};this.Am=function(G){be.addHandler('textPageReady',G);};this.Eq=function(G){be.removeHandler('textPageReady',G);};this.aml=function(){return Sh;};this.XL=function(G){be.addHandler('hyperlinkPageReady',G);};this.adY=function(G){be.removeHandler('hyperlinkPageReady',G);};this.AI=function(G){be.cC('textExtractionFailed',G);};this.BU=function(G){be.dz('textExtractionFailed',G);};this.aeg=function(hk){if(bS===0&&ba===0){Cq=true;BY=hk.width;Bv=hk.height;}};this.akg=function(hk){if(!fJ){fJ=new IPCC.Web.UI.ImGearTextPage();}if(fJ.hI().ec()>0){return;}else if(hk.errorCode){var op=new IPCC.Web.UI.ImGearException(hk.errorDescription,{name:'Text Extraction'});var cN=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cN.exception=op;cN.pageNumber=J.get_pageNumber();J.ae('textExtractionFailed',cN);return;}var aoH=fJ.hI();var Oa=false;var aao;function Gw(Qr){return Qr;};var qo=1;var oC=1;if(hk.height&&hk.height>0&&ba>0){if(hk.height!==ba){qo=ba/hk.height;}}if(hk.width&&hk.width>0&&bS>0){if(hk.width!==bS){oC=bS/hk.width;}}var iQ;var abT= -1;var Np;var hL,xV;for(var h=0;h<hk.rectangles.length;h++){hL=hk.rectangles[h];xV=Gw(hk.text[h]);Oa=false;if(hL[2]===0){xV="\n";Oa=true;if(h>0){aao=hk.rectangles[h-1];hL[2]=aao[2];}}if(oC===1&&qo===1){Np=new IPCC.Web.UI.ImGearTextCharacter(hL[0],hL[1],hL[2],hL[3],xV,Oa);}else{Np=new IPCC.Web.UI.ImGearTextCharacter(hL[0]*oC,hL[1]*qo,hL[2]*oC,hL[3]*qo,xV,Oa);}if(Np){aoH.aux(Np);}if(iQ===undefined||abT!==hL[1]||hL[0]<iQ.eG().x){if(iQ){fJ.Zw().amL(iQ);}iQ=new IPCC.Web.UI.ImGearTextSection();iQ.DV(new IPCC.Web.UI.Rectangle(hL[0],hL[1],hL[2],hL[3]));iQ.aoA(h);}else{if(hL[0]+hL[2]-iQ.eG().x>iQ.eG().width){iQ.eG().width=hL[0]+hL[2]-iQ.eG().x;}}iQ.arf(h);abT=hL[1];}if(iQ){fJ.Zw().amL(iQ);}fJ.aqN(hk.text);if(hk.text.length>0){fJ.Lh(true);J.ae('textPageReady',{pageNumber:J.nJ(),containsText:true});}else{fJ.Lh(false);J.ae('textPageReady',{pageNumber:J.nJ(),containsText:false});}};this.ajA=function(amC,KN,Mp){if(!amC){return;}Sh.IM().aAW();var qo=1;var oC=1;if(KN&&KN>0&&ba>0){if(KN!==ba){qo=ba/KN;}}if(Mp&&Mp>0&&bS>0){if(Mp!==bS){oC=bS/Mp;}}IPCC.C.forEach(amC,function(akp){var fV;switch(akp.markType){case "DocumentHyperlink":fV=new IPCC.Web.UI.ImGearDocumentHyperlink(akp.properties);fV.DV(fV.eG().scale(oC,qo));if(!fV.aBJ()){Sh.IM().awE(fV);}break;default:break;}});J.ae('hyperlinkPageReady',{pageNumber:J.nJ()});};this.asx=function(){J.zz();};this.zz=function(){if(!fJ){fJ=new IPCC.Web.UI.ImGearTextPage();}if(!J.aG){throw new IPCC.Web.UI.ImGearInvalidOperationException('You must add this Page to a valid ImGearDocument object which has a valid ImageServicePath property.');}if(fJ.wf()){return;}var akj=true;if(J.jO()===0){akj=false;}function PV(bo){if(bo.pages){var bF;if(bo.pages.length>0){if(bo.pages[0].number!==J.nJ()){for(var h=0;h<bo.pages.length;h++){if(bo.pages[h].number===J.nJ()){bF=h;break;}}if(!bF){J.hn.Qb=false;return;}}else{bF=0;}var hk=bo.pages[bF];J.hn.Qb=true;if(bo.pages[bF].text&&bo.pages[bF].text.length>0){fJ.Lh(true);}else{fJ.Lh(false);}J.hn.qb=1000;J.aeg(hk);J.akg(hk);J.ajA(hk.markup,hk.height,hk.width);return;}}var qW=J.hn.qb;if(!J.hn.Qb){if(J.hn.qC<6){if(J.hn.qC<2){qW=qW+1000;}else{qW=qW+3000;}J.hn.qC++;J.hn.qb=qW;setTimeout(J.asx,qW);}else{J.hn.aeV=true;}}};function fq(bw){var iC=J.aG.iC,aE;try{var hD;var pq=bw.getResponseHeader("Accusoft-Data-Encrypted");if(pq==='true'){var tZ=IPCC.Web.hA.pA.vC(bw.getResponseHeader("Accusoft-Data-SK"));var aV=IPCC.Web.Hx(tZ,iC);var er=IPCC.Web.Fm(bw);var vd=IPCC.Web.DU(er,aV,iC);hD=IPCC.Web.hA.GM.mY(vd);}else{hD=bw.responseText;}aE=JSON.parse(hD);PV(aE);}catch(e){var cN=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cN.exception=e;cN.pageNumber=J.get_pageNumber();J.ae('textExtractionFailed',cN);return;}};function eP(aE){try{if(!aE.response){throw new IPCC.Web.UI.ImGearHttpException(0,"Text extraction timeout");}else{if(aE.response.statusText){throw new IPCC.Web.UI.ImGearHttpException(aE.response.status,"Unable to obtain text, Error from the service = "+aE.response.statusText);}else{throw new IPCC.Web.UI.ImGearHttpException(aE.response.status,"Unable to obtain text from the service");}}}catch(e){var cN=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cN.exception=e;cN.pageNumber=J.get_pageNumber();J.ae('textExtractionFailed',cN);return;}};var aU=J.get_pageNumber();var iT=J.aG.get_documentIdentifier();if(!(/^[\x00-\x7F]*$/.test(iT))){iT='e'+J.aG.get_encodedDocumentIdentifier();}else{iT='u'+encodeURIComponent(iT);}var gq=J.aG.rU;var qt=J.aG.qt;var ao;if(J.ja()){ao=gq+'/Document/q/'+aU.toString()+'-'+aU.toString()+'/Text?DocumentID='+iT+'&iv='+qt;}else{ao=gq+'/Document/q/'+aU.toString()+'-'+aU.toString()+'/Text?DocumentID='+iT;}var hs={method:'GET',url:ao,headers:{'accept':'application/json'}};if(akj===true){hs.timeout=J.jO();}IPCC.C.mH.ff(hs).then(fq,eP);};this.dF=function(){if(!fJ){fJ=new IPCC.Web.UI.ImGearTextPage();}return fJ;};this.aGt=function(T){if(typeof T.ma!=='function'){return;}fJ=T;};this.acM=function(){fJ=undefined;J.hn={qC:0,aeV:false,qb:1000,Qb:false};Cq=false;BY=0;Bv=0;};this.Md=function(xU,xw){var J=this;function fq(bw){var aE;aE=JSON.parse(bw.responseText);if(aE.imageWidth&&aE.imageHeight){J.KO(aE.imageWidth);J.KM(aE.imageHeight);xU(aE.imageWidth,aE.imageHeight);}else{xw("Unable to obtain document information from the server");}};function eP(aE){xw("Unable to obtain document information from the server");};if(J.kE()>0||J.hO()>0){xU(J.kE(),J.hO());}else{var qg=IPCC.hm.rE(J.aG.get_documentIdentifier());if(!qg||qg===""){xw("Invalid encoded Identifier");}var vg='';if(!IPCC.tE.Ja()){vg='&ContentType=png';}var ao;if(!(/^[\x00-\x7F]*$/.test(qg))){ao=J.aG.rU+'/Page/q/'+(J.get_pageNumber())+'/Attributes?DocumentID=e'+qg+vg;}else{ao=J.aG.rU+'/Page/q/'+(J.get_pageNumber())+'/Attributes?DocumentID=u'+encodeURIComponent(J.aG.get_documentIdentifier())+vg;}IPCC.C.mH.ff({method:'GET',url:ao,headers:{'Content-Type':'application/json'}}).then(fq,eP);}};this.cP=function(dm){var G=be.getHandler('propertyChanged');if(G){G(this,new IPCC.oe(dm));}};this.ae=function(dE,F){var G=be.getHandler(dE);if(G!==null){try{G(J,F);}catch(e){IPCC.iJ.RU('event raise, ImGearPage, error: '+e.message);}}};return this;};QJ.prototype={get_pageNumber:function(){var bN=this.nJ();return bN;},get_pageWidth:function(){var bN=this.kE();return bN;},get_pageHeight:function(){var bN=this.hO();return bN;},get_textPage:function(){var bN=this.dF();return bN;},get_encryption:function(){var bN=this.ja();return bN;},set_encryption:function(value){this.lU(value);},get_hyperlinkPage:function(){return this.aml();},get_document:function(){var bN=this.atL();return bN;},add_propertyChanged:function(handler){this.jK(handler);},remove_propertyChanged:function(handler){this.lC(handler);},requestPageAttributes:function(attributesRetrievedCallback,attributesRetrievalFailedCallback){this.Md(attributesRetrievedCallback,attributesRetrievalFailedCallback);}};QJ.registerClass=ci;QJ.registerClass('IPCC.Web.UI.ImGearPage');module.exports=QJ;},{"./../../IPCC.Util":29}],90:[function(require,module,exports){var ci=require('./../../IPCC.Util').regClass;var QC=function(){var J=this;var cT=[];var be=new IPCC.Web.UI.gv();this.azE=false;this.aAC=true;this.aG=undefined;this.amm=function(aS){this.afK(cT.length,aS);};function kF(bp){if(bp>cT.length-1||(bp<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bp,'page index is out of range in the page collection');}};this.afK=function(bp,aS){var as;var cg=cT.length;if(bp>cT.length||(bp<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bp,'index of the page Collection is out of range');}if(J.aAC&&J.azE){if(cg>0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You must first remove the existing selected page before adding a new one to the selected page collection).');}}for(as=0;as<cg;as++){if(cT[as]===aS){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot duplicate same page instance in a page collection).');}}if(J.aG){if(!aS.aG){aS.aG=J.aG;}}aS.add_propertyChanged(IT);cT.splice(bp,0,aS);var F=new IPCC.Web.UI.ImGearPageEventArgs();F.imGearPage=aS;F.length=1;J.ae('pageAdded',F);};this.iO=function(bp){kF(bp);var ey=cT[bp];return ey;};this.apv=function(bp,aS){kF(bp);var Ta=cT[bp];if(Ta===aS){return;}cT[bp]=aS;var F=new IPCC.Web.UI.ImGearPageEventArgs();F.imGearPage=aS;F.length=1;this.ae('pageAdded',F);Ta.remove_propertyChanged(IT);var yt=new IPCC.Web.UI.ImGearPageEventArgs();yt.imGearPage=Ta;yt.length=1;this.ae('pageRemoved',yt);};this.ec=function(){return cT.length;};this.jX=function(iA,dJ){var akW=[].concat(cT);var h;for(h=0;h<akW.length;h++){iA.call(dJ,akW[h],h,this);}};this.agV=function(bp){kF(bp);var F=new IPCC.Web.UI.ImGearPageEventArgs();F.imGearPage=cT[bp];cT[bp].remove_propertyChanged(IT);F.length=1;cT.splice(bp,1);J.ae('pageRemoved',F);};this.aEY=function(aS){var dI=cT.length;for(var h=0;h<dI;h++){if(aS===cT[h]){return h;}}return-1;};this.aBl=function(){var h=0;while(cT.length>0){this.agV(h);}};function IT(aC,F){var yt=new IPCC.Web.UI.ImGearPageEventArgs();yt.imGearPage=aC;yt.length=1;J.ae('pageChanged',yt);};this.HJ=function(G){be.addHandler('pageAdded',G);};this.HS=function(G){be.removeHandler('pageAdded',G);};this.HF=function(G){be.addHandler('pageChanged',G);};this.EV=function(G){be.removeHandler('pageChanged',G);};this.If=function(G){be.addHandler('pageRemoved',G);};this.HW=function(G){be.removeHandler('pageRemoved',G);};this.ae=function(dE,F){var G=be.getHandler(dE);if(G!==null){try{G(J,F);}catch(e){IPCC.iJ.RU('raise event error in ImGearPageCollection, Error: '+e.message);}}};return this;};QC.prototype={addPage:function(page){this.amm(page);},insertPage:function(index,page){this.afK(index,page);},forEach:function(method,context){this.jX(method,context);},getPage:function(index){return this.iO(index);},setPage:function(index,page){this.apv(index,page);},get_length:function(){return this.ec();},removePage:function(index){this.agV(index);},removeAllPages:function(){this.aBl();},add_pageAdded:function(handler){this.HJ(handler);},remove_pageAdded:function(handler){this.HS(handler);},add_pageChanged:function(handler){this.HF(handler);},remove_pageChanged:function(handler){this.EV(handler);},add_pageRemoved:function(handler){this.If(handler);},remove_pageRemoved:function(handler){this.HW(handler);}};QC.registerClass=ci;QC.registerClass('IPCC.Web.UI.ImGearPageCollection');module.exports=QC;},{"./../../IPCC.Util":29}],91:[function(require,module,exports){var de=require('./../../IPCC.Util').regEnum;var NA=function(){};NA.registerEnum=de;NA.prototype={UnRequested:0,RequestPending:1,Known:2,Failed:3};NA.registerEnum('IPCC.Web.UI.ImGearPageCountStatus',false);module.exports=NA;},{"./../../IPCC.Util":29}],92:[function(require,module,exports){var ci=require('./../../IPCC.Util').regClass;var JL=function(){};JL.registerClass=ci;JL.prototype={};JL.registerClass('IPCC.Web.UI.ImGearPageCreateArgs');module.exports=JL;},{"./../../IPCC.Util":29}],93:[function(require,module,exports){var ci=require('./../../IPCC.Util').regClass;var Lp=function(){return this;};Lp.prototype={};Lp.registerClass=ci;Lp.registerClass('IPCC.Web.UI.ImGearPageEventArgs');module.exports=Lp;},{"./../../IPCC.Util":29}],94:[function(require,module,exports){var ci=require('../../IPCC.Util').regClass;var JW=function(){return this;};JW.registerClass=ci;JW.prototype={};JW.registerClass('IPCC.Web.UI.ImGearPageOpenFailedEventArgs');module.exports=JW;},{"../../IPCC.Util":29}],95:[function(require,module,exports){var aBH=function(bf,dB,aK,an,xV,aCy){this.af=new IPCC.Web.UI.Rectangle(bf,dB,aK,an);this.jP=xV;this.Gf=aCy;this.auu=function(){return xV;};this.tC=function(){var Zr=new IPCC.Web.UI.Rectangle(this.af.x,this.af.y,this.af.width,this.af.height);return Zr;};this.aIq=function(){return this.Gf;};};module.exports=aBH;},{}],96:[function(require,module,exports){var aCR=function(){var jB=[];this.aux=function(lw){jB.push(new IPCC.Web.UI.ImGearTextCharacter(lw.af.x,lw.af.y,lw.af.width,lw.af.height,lw.jP,lw.Gf));};this.aIl=function(aoQ){function ka(lw){jB.push(lw);};aoQ.forEach(ka,{});};this.arS=function(){var afS=[];for(var as=0;as<this.ec();as++){var PD=this.kT(as).af;var R=[];R.push(PD.x);R.push(PD.y);R.push(PD.width);R.push(PD.height);afS.push(R);}return afS;};this.aGn=function(bp,amD){var as;var cg=jB.length;if(bp>jB.length||(bp<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bp,'index of theText Character Collection is out of range');}for(as=0;as<cg;as++){if(jB[as]===amD){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot duplicate same bo Character instance in a lw collection).');}}jB.splice(bp,0,amD);};this.aAU=function(aia,agz){IPCC.C.forEach(jB,function(jP){jP.af.width=jP.af.width*aia;jP.af.height=jP.af.height*agz;jP.af.x=jP.af.x*aia;jP.af.y=jP.af.y*agz;});};this.jX=function(iA,dJ){var Xe=[].concat(jB);var h;for(h=0;h<Xe.length;h++){iA.call(dJ,new IPCC.Web.UI.ImGearTextCharacter(Xe[h].x,Xe[h].y),h,this);}};function kF(bp){if(bp>jB.length-1||(bp<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bp);}};this.kT=function(bp){kF(bp);var pD=jB[bp];return new IPCC.Web.UI.ImGearTextCharacter(pD.af.x,pD.af.y,pD.af.width,pD.af.height,pD.jP,pD.Gf);};this.aFO=function(bp,lw){kF(bp);var Dc=jB[bp];if(Dc.af.x===lw.af.x&&Dc.af.y===lw.y&&Dc.af.width===lw.af.width&&Dc.af.height===lw.af.height&&Dc.jP===lw.jP&&Dc.Gf===lw.Gf){return;}jB[bp]=lw;};this.ec=function(){return jB.length;};this.aGr=function(bp){kF(bp);jB.splice(bp,1);};this.aGh=function(){if(jB.length<1){return;}jB=[];};return this;};module.exports=aCR;},{}],97:[function(require,module,exports){var aBr=function(){var aoK=new IPCC.Web.UI.ImGearTextCharacterCollection();var YM=false;var akD=false;var Wf="";var uf=new IPCC.Web.UI.ImGearTextSectionCollection();var YK=false;this.hI=function(){return aoK;};this.ma=function(){return YM;};this.Lh=function(T){akD=true;if(T===YM){return;}if((T===true)||(T===false)){YM=T;}};this.wf=function(){return akD;};this.Cd=function(){return Wf;};this.aqN=function(T){if(T===Wf){return;}Wf=T;};this.Zw=function(){return uf;};this.ava=function(){return YK;};this.adF=function(T){if(T===YK){return;}if((T===true)||(T===false)){YK=T;}};};module.exports=aBr;},{}],98:[function(require,module,exports){var aCt=function(){var R=null;var aU=0;var cZ=0;this.eG=function(){return R;};this.DV=function(T){R=T;};this.ajR=function(){return aU;};this.aoA=function(T){aU=T;};this.anf=function(){return cZ;};this.arf=function(T){cZ=T;};};module.exports=aCt;},{}],99:[function(require,module,exports){var aCN=function(){var uf=[];this.amL=function(iQ){uf.push(iQ);};function kF(bp){if(bp>uf.length-1||(bp<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bp);}};this.arZ=function(bp){kF(bp);return uf[bp];};this.ec=function(){return uf.length;};return this;};module.exports=aCN;},{}],100:[function(require,module,exports){var de=require('./../../IPCC.Util').regEnum;var Od=function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}throw new IPCC.Web.UI.ImGearNotImplementedException();};Od.registerEnum=de;Od.prototype={backspace:8,tab:9,enter:13,esc:27,space:32,pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40,del:127};Od.registerEnum("IPCC.Web.UI.Key");module.exports=Od;},{"./../../IPCC.Util":29}],101:[function(require,module,exports){var de=require('../../IPCC.Util').regEnum;var Na=function(){};Na.registerEnum=de;Na.prototype={Pointer:0,Solid:1,Open:2,PointerSolid:3,None:4};Na.registerEnum('IPCC.Web.UI.LineHeadType',false);module.exports=Na;},{"../../IPCC.Util":29}],102:[function(require,module,exports){var de=require('../../IPCC.Util').regEnum;var Lc=function(){};Lc.registerEnum=de;Lc.prototype={Solid:0,Dash:1,Dot:2,DashDot:3,DashDotDot:4};Lc.registerEnum('IPCC.Web.UI.LineStyle',false);module.exports=Lc;},{"../../IPCC.Util":29}],103:[function(require,module,exports){var ci=require('../../IPCC.Util').regClass;var KG=function(){return this;};KG.registerClass=ci;KG.prototype={};KG.registerClass('IPCC.Web.UI.LogItemEventArgs');module.exports=KG;},{"../../IPCC.Util":29}],104:[function(require,module,exports){var ci=require('../../IPCC.Util').regClass;var LW=function(type){var bd=type;type=undefined;var ti=new Date();var rH=new Date();var aO=null;var R;var aY;var cE;var bX=new IPCC.Web.UI.Data();var be=new IPCC.Web.UI.gv();var J=this;var jg;this.eu=function(lj,dm){if((jg&lj)===0){throw new IPCC.Web.UI.ImGearInvalidOperationException(dm+' is not a valid property for this type of Mark.');}};if(bd===IPCC.Web.UI.MarkType.SignatureText){this.kR='#000000';this.hS=IPCC.Web.UI.LineStyle.Solid;this.dW=0;}else{this.kR='#000000';this.hS=IPCC.Web.UI.LineStyle.Solid;this.dW=1;}this.du=255;this.nf=IPCC.Web.UI.MarkInteractionMode.Full;var jI=false;switch(bd){case IPCC.Web.UI.MarkType.Line:jI=true;aY=new IPCC.Web.UI.PointCollection();aY.addPoint({x:0,y:0});aY.addPoint({x:0,y:0});jg=1;this.kR='#18385F';this.dW=6;break;case IPCC.Web.UI.MarkType.Polyline:jI=true;this.sK=false;aY=new IPCC.Web.UI.PointCollection();jg=2;this.dW=2;break;case IPCC.Web.UI.MarkType.Rectangle:R=new IPCC.Web.UI.Rectangle(0,0,0,0);jg=4;this.cw='#FB0404';this.dW=4;break;case IPCC.Web.UI.MarkType.Ellipse:R=new IPCC.Web.UI.Rectangle(0,0,0,0);jg=8;this.cw='#FB0404';this.dW=4;break;case IPCC.Web.UI.MarkType.Polygon:aY=new IPCC.Web.UI.PointCollection();jg=16;break;case IPCC.Web.UI.MarkType.Text:this.EK='#000000';this.As=false;this.rm=IPCC.Web.UI.LineStyle.Solid;this.CX=1;this.mc=new IPCC.Web.UI.Point(0,0);this.Ce=IPCC.Web.UI.CalloutType.Triangle;this.yT=false;this.gk='Arial';this.dH=12;this.co=IPCC.Web.UI.FontStyle.Regular;this.hS=IPCC.Web.UI.LineStyle.Solid;this.gY=0;R=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bo='';this.jk=IPCC.Web.UI.HorizontalAlignment.Left;this.vM=IPCC.Web.UI.VerticalAlignment.Top;this.qU='#000000';this.yC=255;this.xz=IPCC.Web.UI.Orientation.TopLeft;this.fu=[];this.dW=4;this.du=127;this.cw='#FFFFFF';jg=32;break;case IPCC.Web.UI.MarkType.Stamp:R=new IPCC.Web.UI.Rectangle(0,0,0,0);jg=128;break;case IPCC.Web.UI.MarkType.Highlight:R=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bn='';this.hQ='n';this.aU=0;this.cO='';this.cD=0;this.du=127;jg=256;break;case IPCC.Web.UI.MarkType.HighlightText:R=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bn='';this.hQ='n';this.aU=0;this.cO='';this.cD=0;this.du=127;this.cw='#FFFF00';jg=512;this.fu=[];this.am=[];break;case IPCC.Web.UI.MarkType.Freehand:R=new IPCC.Web.UI.Rectangle(0,0,0,0);jg=64;this.dW=4;this.kR='#000000';this.jm=false;this.WW=1;this.Xs=1;this.uC='M0,0';break;case IPCC.Web.UI.MarkType.SignaturePath:R=new IPCC.Web.UI.Rectangle(0,0,0,0);jg=1024;this.jk=IPCC.Web.UI.HorizontalAlignment.Center;this.dW=4;this.kR='#000000';this.jm=false;this.WW=1;this.Xs=1;this.uC='M0,0';break;case IPCC.Web.UI.MarkType.SignatureText:R=new IPCC.Web.UI.Rectangle(0,0,0,0);jg=2048;this.jk=IPCC.Web.UI.HorizontalAlignment.Center;this.bo='John Doe';this.qU='#000000';this.cw='#000000';this.gk="";break;case IPCC.Web.UI.MarkType.RectangleRedaction:R=new IPCC.Web.UI.Rectangle(0,0,0,0);jg=4096;this.gk='Arial';this.dH=8;this.co=IPCC.Web.UI.FontStyle.Regular;this.bo='';this.jk=IPCC.Web.UI.HorizontalAlignment.Center;this.vM=IPCC.Web.UI.VerticalAlignment.Center;this.cw='#000000';this.qU='#FFFFFF';this.yC=255;this.xz=IPCC.Web.UI.Orientation.TopLeft;break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:R=new IPCC.Web.UI.Rectangle(0,0,0,0);this.am=[];this.bn='';this.eU='';this.bo='';this.gk='Arial';this.dH=8;this.aU=0;this.cD=0;jg=8192;this.fu=[];break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:R=new IPCC.Web.UI.Rectangle(0,0,0,0);this.lm='';this.dW=2;this.cO='';this.bn='';this.hQ='n';this.aU=0;this.cD=0;this.cw='#3B00FF';jg=1<<14;this.fu=[];this.am=[];break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:R=new IPCC.Web.UI.Rectangle(0,0,0,0);jg=16384;this.bO='';this.qv='';break;case IPCC.Web.UI.MarkType.DocumentHyperlink:R=new IPCC.Web.UI.Rectangle(0,0,0,0);this.lm='';this.Ql='';this.Au='';this.JU=0;this.Jz=0;this.re=255;jg=32768;break;case IPCC.Web.UI.MarkType.TextLine:jg=65536;R=new IPCC.Web.UI.Rectangle(0,0,0,0);this.jk=IPCC.Web.UI.HorizontalAlignment.Left;this.bo='';this.qU='#000000';this.gk="Courier New";this.dW=1;this.jm=true;this.gY=0;this.FQ=0;this.Gp=false;var jE=IPCC.C.uo("M",this.gk,{wQ:'pre'});this.xu=jE.width;this.yU=jE.height;this.iv=null;break;case IPCC.Web.UI.MarkType.TextAreaSignature:this.EK='#000000';this.As=false;this.rm=IPCC.Web.UI.LineStyle.Solid;this.CX=1;this.mc=new IPCC.Web.UI.Point(0,0);this.Ce=IPCC.Web.UI.CalloutType.Triangle;this.yT=false;this.gk='Courier New';this.ib=0;this.gY=0;this.dH=12;this.co=IPCC.Web.UI.FontStyle.Regular;R=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bo='';this.jk=IPCC.Web.UI.HorizontalAlignment.Left;this.vM=IPCC.Web.UI.VerticalAlignment.Top;this.qU='#000000';this.yC=255;this.xz=IPCC.Web.UI.Orientation.TopLeft;this.fu=[];this.dW=1;this.jm=false;this.cw='#FFFFFF';this.du=0;jg=1<<18;break;case IPCC.Web.UI.MarkType.Strikethrough:R=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bn='';this.kR='#000000';this.dW=2;this.hQ='n';this.aU=0;this.cO='';this.cD=0;jg=1<<17;this.fu=[];this.am=[];break;default:throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('type',bd);}if(bd!==IPCC.Web.UI.MarkType.SignaturePath&&bd!==IPCC.Web.UI.MarkType.Freehand&&bd!==IPCC.Web.UI.MarkType.SignatureText&&bd!==IPCC.Web.UI.MarkType.DocumentHyperlink&&bd!==IPCC.Web.UI.MarkType.HighlightText&&bd!==IPCC.Web.UI.MarkType.Strikethrough&&bd!==IPCC.Web.UI.MarkType.TextLine){if(jI){this.Iy=15;this.GY=25;this.oP=IPCC.Web.UI.LineHeadType.None;this.zv='#000000';this.Jc=15;this.Jr=25;this.IF=IPCC.Web.UI.LineHeadType.None;}else{this.GN=true;this.jm=true;if(bd===IPCC.Web.UI.MarkType.Highlight){this.jm=false;this.du=100;}}}this.ZR=IPCC.Web.UI.aGC++;this.cQ=true;this.bH={};this.cq=[];var Nz=false;function azJ(aC,F){J.ae('commentAdded',F);};function azu(aC,F){J.ae('commentRemoved',F);};function Ps(aC,F){J.ae('commentChanged',F);};cE=new IPCC.Web.UI.Conversation(J);cE.add_commentAdded(azJ);cE.add_commentChanged(Ps);cE.add_commentRemoved(azu);this.ae=function(dE,F){var G=be.getHandler(dE);if(G!==null){G(this,F);}};function WV(aC,F){var aca='points';if(bd===IPCC.Web.UI.MarkType.Line){aca=F.index===0?'startPoint':'endPoint';}J.cP(aca,F);};if(aY){aY.add_pointAdded(WV);aY.add_pointChanged(WV);aY.add_pointRemoved(WV);}this.jr=function(){return bd;};this.alS=function(){return ti;};this.aac=function(T){ti=T;};this.alP=function(){return rH;};this.Vb=function(T){rH=T;};this.dV=function(){return aO;};this.me=function(value){if(aO!==value){aO=value;this.cP('artPage');}};this.iP=function(){return Nz;};this.kL=function(T){Nz=T;};this.aie=function(){var mf=new IPCC.Web.UI.Rectangle(0,0,0,0);switch(bd){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:case IPCC.Web.UI.MarkType.Polygon:return aY.tC();case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.DocumentHyperlink:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.Strikethrough:return R.clone();case IPCC.Web.UI.MarkType.Text:var hV=R.x+R.width,kw=R.y+R.height;var afR=R.x+this.mc.x,agQ=R.y+this.mc.y;mf.x=Math.min(R.x,Math.min(hV,afR));mf.y=Math.min(R.y,Math.min(kw,agQ));mf.width=Math.max(R.x,Math.max(hV,afR))-mf.x;mf.height=Math.max(R.y,Math.max(kw,agQ))-mf.y;break;}return mf;};this.eG=function(){return R.clone();};this.zd=function(T){this.DA(16384,'image','bO',T);};this.dv=function(){return this.bO;};this.oc=function(){return aY;};this.ats=function(){return cE;};this.yq=function(){return bX;};this.DV=function(T){var rJ;if(!R.equals(T)){R=new IPCC.Web.UI.Rectangle(T.x,T.y,T.width,T.height);if(bd===IPCC.Web.UI.MarkType.Stamp||bd===IPCC.Web.UI.MarkType.SignatureText||bd===IPCC.Web.UI.MarkType.TextLine){if(document.documentMode<9){rJ=0;if(R.width>=R.height){rJ=(R.width/14)/2;}else{rJ=R.width/15;}if(rJ*15>=R.width){rJ=(R.width/15)/2;}this.stampSize=Math.round(rJ);}else{var textFontSize=(R.width/6);if(textFontSize>R.height){textFontSize=(R.height-(R.height/6));}var mG=this.get_text();if(!mG){mG=(bd===IPCC.Web.UI.MarkType.Stamp)?'APPROVED':'';}rJ=mG.length*textFontSize;if(rJ>R.width){textFontSize=((R.width/mG.length));}var FQ=Math.round(textFontSize);this.stampSize=FQ.toString();}}this.cP('rectangle');}};this.jR=function(){return this.ZR;};this.Hk=function(eg,dU){if(eg!==0||dU!==0){switch(bd){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:case IPCC.Web.UI.MarkType.Polygon:aY.aeN(eg,dU);break;case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.Freehand:if(bd===IPCC.Web.UI.MarkType.RectangleRedaction&&this.bn!==undefined){break;}R.x+=eg;R.y+=dU;this.cP('rectangle');break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.Strikethrough:break;}}};this.UM=function(YU){if(this.fu&&YU!==this.fu){while(this.fu.length>0){this.fu.pop();}if(YU){this.fu=YU.slice(0);}this.ae('markTextSelectionChanged',{});}};this.GJ=function(G){if(this.fu){be.addHandler('markTextSelectionChanged',G);}};this.HM=function(G){if(this.fu){be.removeHandler('markTextSelectionChanged',G);}};this.yu=function(G){be.addHandler('commentAdded',G);};this.BN=function(G){be.removeHandler('commentAdded',G);};this.wW=function(G){be.addHandler('commentRemoved',G);};this.BI=function(G){be.removeHandler('commentRemoved',G);};this.sR=function(G){be.addHandler('commentChanged',G);};this.ty=function(G){be.removeHandler('commentChanged',G);};this.jK=function(G){be.addHandler('propertyChanged',G);};this.lC=function(G){be.removeHandler('propertyChanged',G);};this.cP=function(dm){var G=be.getHandler('propertyChanged');if(G){G(this,new IPCC.oe(dm));}};this.jK(function(K){K.Vb(new Date());});return this;};LW.prototype={toString:function(){switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:return 'Line Mark from '+this.oc().getPoint(0)+' to '+this.oc().getPoint(1);case IPCC.Web.UI.MarkType.Polyline:return 'Polyline Mark with '+this.oc().ec()+' vertices';case IPCC.Web.UI.MarkType.Rectangle:return 'Rectangle Mark at '+this.eG();case IPCC.Web.UI.MarkType.RectangleRedaction:return 'Rectangle Redaction Mark at '+this.eG();case IPCC.Web.UI.MarkType.Ellipse:return 'Ellipse Mark at '+this.eG();case IPCC.Web.UI.MarkType.Polygon:return 'Polygon Mark with '+this.oc().ec()+' vertices';case IPCC.Web.UI.MarkType.Text:return 'Text Mark, "'+this.bo+'", at '+this.eG();case IPCC.Web.UI.MarkType.Stamp:return 'Stamp Mark at '+this.eG();case IPCC.Web.UI.MarkType.Highlight:return 'Rectangle Mark at '+this.eG();case IPCC.Web.UI.MarkType.HighlightText:return 'Highlight Mark at '+this.eG();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Text Selection Redaction at '+this.eG();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Text Hyperlink Annotation at '+this.eG();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Document Hyperlink at '+this.eG();case IPCC.Web.UI.MarkType.SignaturePath:return 'Signature Path Mark, "'+this.uC+'", at '+this.eG();case IPCC.Web.UI.MarkType.Freehand:return 'Freehand Mark, "'+this.uC+'", at '+this.eG();case IPCC.Web.UI.MarkType.SignatureText:return 'Signature Text Mark at '+this.eG();case IPCC.Web.UI.MarkType.TextLine:return 'Text Line Mark at '+this.eG();case IPCC.Web.UI.MarkType.TextAreaSignature:return 'Text Area Signature Mark at '+this.eG();case IPCC.Web.UI.MarkType.ImageStampAnnotation:return 'ImageStamp Mark at '+this.eG();case IPCC.Web.UI.MarkType.ImageStampRedaction:return 'ImageStamp Redaction Mark at '+this.eG();case IPCC.Web.UI.MarkType.Strikethrough:return 'Strikethrough Mark at '+this.eG();}return 'Mark';},initializeDates:function(ti,rH){IPCC.bC.ha(ti,"dateCreated");IPCC.bC.ha(rH,"dateModified");this.aac(ti);this.Vb(rH);},get_dateCreated:function(){return this.alS();},get_dateModified:function(){return this.alP();},ks:function(lj,dm,lB,T){this.eu(lj,dm);if(this[lB]!==T){this[lB]=T;this.cP(dm);}},Ki:function(lj,dm,lB,T){IPCC.bC.TM(T,dm);this.ks(lj,dm,lB,T);},yn:function(lj,dm,lB,T){IPCC.bC.jl(T,dm);this.ks(lj,dm,lB,T);},xH:function(lj,dm,lB,T,yz,wb){IPCC.bC.lg(T,dm,yz,wb);this.ks(lj,dm,lB,T);},SQ:function(lj,dm,lB,T,yz,wb){IPCC.bC.mE(T,dm,yz,wb);this.ks(lj,dm,lB,T);},DA:function(lj,dm,lB,T){IPCC.bC.bd(T,dm,'string');this.ks(lj,dm,lB,T);},uD:function(lj,dm,lB,T,kt){IPCC.bC.kt(T,dm,kt);this.ks(lj,dm,lB,T);},aro:function(lj,dm,lB,T,kt){IPCC.bC.kt(T,dm,kt,true);this.ks(lj,dm,lB,T);},apU:function(lj,dm,lB,T){IPCC.bC.aX(T,dm);this.ks(lj,dm,lB,T);},get_artPage:function(){return this.dV();},get_boundingRectangle:function(){return this.aie();},get_selected:function(){var aO=this.dV();if(!aO){return false;}var eO=aO.Ac();return eO.contains(this);},set_selected:function(value){var aO=this.dV();if(aO){if(this.nf!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled|| !value){var eO=aO.Ac();if(value!==eO.contains(this)){if(value){eO.Pq(this);}else{eO.vb(this);}this.cP('selected');}}}else{if(value){throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be selected unless it is associated with an ArtPage.');}}},get_calloutLineColor:function(){this.eu(32,'calloutLineColor');return this.EK;},set_calloutLineColor:function(value){this.Ki(32,'calloutLineColor','EK',value);},get_calloutLineIsDistinct:function(){this.eu(32,'calloutLineIsDistinct');return this.As;},set_calloutLineIsDistinct:function(value){this.ks(32,'calloutLineIsDistinct','As',value);},get_calloutLineStyle:function(){this.eu(32,'calloutLineStyle');return this.rm;},set_calloutLineStyle:function(value){this.uD(32,'calloutLineStyle','rm',value,IPCC.Web.UI.LineStyle);},get_calloutLineWidth:function(){this.eu(32,'calloutLineWidth');return this.CX;},set_calloutLineWidth:function(value){this.xH(32,'calloutLineWidth','CX',value,0,50);},get_calloutPoint:function(){this.eu(32,'calloutPoint');return this.mc;},set_calloutPoint:function(value){this.apU(32,'calloutPoint','mc',value);},get_calloutType:function(){this.eu(32,'calloutType');return this.Ce;},set_calloutType:function(value){this.uD(32,'calloutType','Ce',value,IPCC.Web.UI.CalloutType);},get_calloutVisible:function(){this.eu(32,'calloutVisible');return this.yT;},set_calloutVisible:function(value){if(!this.yT&&value&&this.jr()===IPCC.Web.UI.MarkType.Text){if(this.mc.x===0&&this.mc.y===0){var R=this.eG();this.set_calloutPoint({x:R.width,y:R.height*1.5});}}this.ks(32,'calloutVisible','yT',value);},get_endHeadAngle:function(){this.eu(3,'endHeadAngle');return this.Iy;},set_endHeadAngle:function(value){this.xH(3,'endHeadAngle','Iy',value,0,180);},get_endHeadLength:function(){this.eu(3,'endHeadLength');return this.GY;},set_endHeadLength:function(value){this.xH(3,'endHeadLength','GY',value,0,100);},get_endHeadType:function(){this.eu(3,'endHeadType');return this.oP;},set_endHeadType:function(value){this.uD(3,'endHeadType','oP',value,IPCC.Web.UI.LineHeadType);},get_href:function(){this.eu(1<<14|1<<15,'href');return this.lm;},set_href:function(value){this.DA(1<<14|1<<15,'href','lm',value);},has_unsafe_href:function(){return(! !this.lm&&IPCC.C.abO(this.lm));},get_mask:function(){this.eu(65536,'mask');return this.iv;},set_mask:function(value){this.ks(65536,'mask','iv',value);},get_borderType:function(){this.eu(32768,'borderType');return this.Ql;},set_borderType:function(value){this.DA(32768,'borderType','Ql',value);},get_borderHorizontalRadius:function(){this.eu(32768,'borderHorizontalRadius');return this.JU;},set_borderHorizontalRadius:function(value){this.yn(32768,'borderHorizontalRadius','JU',value);},get_borderVerticalRadius:function(){this.eu(1<<15,'borderVerticalRadius');return this.Jz;},set_borderVerticalRadius:function(value){this.yn(32768,'borderVerticalRadius','Jz',value);},get_borderOpacity:function(){this.eu(32768,'re');return this.re;},set_borderOpacity:function(value){this.SQ(32768,'re','re',value,0,255);},get_borderPattern:function(){this.eu(32768,'Au');return this.Au;},set_borderPattern:function(value){this.ks(32768,'Au','Au',value,0,255);},get_fillColor:function(){this.eu(16380+(1<<14),'fillColor');return this.cw;},set_fillColor:function(value){this.Ki(16380+(1<<14),'fillColor','cw',value);},get_fillVisible:function(){this.eu(16380,'fillVisible');return this.GN;},set_fillVisible:function(value){this.ks(16380,'fillVisible','GN',value);},get_fontName:function(){this.eu(6176+8192+65536+(1<<18),'fontName');return this.gk;},set_fontName:function(value){this.DA(6176+8192+65536+(1<<18),'fontName','gk',value);if(this.jr()===IPCC.Web.UI.MarkType.SignatureText||this.jr()===IPCC.Web.UI.MarkType.TextLine){var bu=(this.jr()===IPCC.Web.UI.MarkType.TextLine)?{wQ:'pre'}:{};var jE=IPCC.C.uo(this.bo,this.gk,bu);this.xu=jE.width;this.yU=jE.height;}if(this.jr()===IPCC.Web.UI.MarkType.TextLine){this.Gp=false;}},get_fontSize:function(){this.eu(32+2048+4096+8192,'fontSize');return this.dH;},set_fontSize:function(value){this.xH(32+2048+4096+8192,'fontSize','dH',value,0.1,288);},get_fontStyle:function(){this.eu(6176+(1<<18),'fontStyle');return this.co;},set_fontStyle:function(value){this.aro(6176+(1<<18),'fontStyle','co',value,IPCC.Web.UI.FontStyle);},get_headFillColor:function(){this.eu(3,'headFillColor');return this.zv;},set_headFillColor:function(value){this.Ki(3,'headFillColor','zv',value);},get_interactionMode:function(){this.eu(~0,'interactionMode');return this.nf;},set_interactionMode:function(value){this.uD(~0,'interactionMode','nf',value,IPCC.Web.UI.MarkInteractionMode);if(value===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){this.set_selected(false);}},get_maxLength:function(){this.eu(32+65536+(1<<18),'maxLength');return this.gY;},set_maxLength:function(value){this.yn(32+65536+(1<<18),'maxLength','gY',value);},get_maxFontSize:function(){this.eu(1<<18,'maxFontSize');return this.ib;},set_maxFontSize:function(value){this.yn(1<<18,'maxFontSize','ib',value);},get_isClosed:function(){this.eu(2,'isClosed');return this.sK;},set_isClosed:function(value){this.ks(2,'isClosed','sK',value);},get_lineColor:function(){return this.kR;},set_lineColor:function(value){this.Ki(13567+32768+(1<<17),'lineColor','kR',value);},get_lineStyle:function(){return this.hS;},set_lineStyle:function(value){this.uD(63+32768,'lineStyle','hS',value,IPCC.Web.UI.LineStyle);},get_lineWidth:function(){return this.dW;},set_lineWidth:function(value){this.xH(13567+32768+(1<<17),'lineWidth','dW',value,0,50);},get_lineVisible:function(){this.eu(172+65536,'lineVisible');return this.jm;},set_lineVisible:function(value){this.ks(172+65536,'lineVisible','jm',value);},get_opacity:function(){return this.du;},set_opacity:function(value){this.SQ(895+2048+1024,'opacity','du',value,0,255);},get_points:function(){this.eu(19,'points');return this.oc();},get_conversation:function(){return this.ats();},get_data:function(){return this.yq();},get_image:function(){this.eu(16384,'image');return this.dv();},set_image:function(value){this.eu(16384,'image');this.zd(value);},get_rectangle:function(){this.eu((1<<18)+(1<<17)+65536+32768+16384+8192+4096+2048+1024+512+256+128+64+32+8+4,'rectangle');return this.eG();},set_rectangle:function(value){this.eu((1<<18)+(1<<17)+65536+32768+16384+8192+4096+2048+1024+512+256+128+64+32+8+4,'rectangle');IPCC.bC.R(value,'rectangle');this.DV(value);if(this.jr()===IPCC.Web.UI.MarkType.TextLine){this.Gp=false;}},get_startHeadAngle:function(){this.eu(3,'startHeadAngle');return this.Jc;},set_startHeadAngle:function(value){this.xH(3,'startHeadAngle','Jc',value,0,180);},get_startHeadLength:function(){this.eu(3,'startHeadLength');return this.Jr;},set_startHeadLength:function(value){this.xH(3,'startHeadLength','Jr',value,0,100);},get_startHeadType:function(){this.eu(3,'startHeadType');return this.IF;},set_startHeadType:function(value){this.uD(3,'startHeadType','IF',value,IPCC.Web.UI.LineHeadType);},get_text:function(){this.eu(14496+65536+(1<<17)+(1<<18),'text');return this.bo;},set_text:function(value){if(this.bo===value){return;}this.DA(14496+65536+(1<<17)+(1<<18),'text','bo',value);if(this.jr()===IPCC.Web.UI.MarkType.SignatureText||this.jr()===IPCC.Web.UI.MarkType.TextLine){var bu=(this.jr()===IPCC.Web.UI.MarkType.TextLine)?{wQ:'pre'}:{};var jE=IPCC.C.uo(this.bo,this.gk,bu);this.xu=jE.width;this.yU=jE.height;}if(this.fu){while(this.fu.length>0){this.fu.pop();}}},get_textHorizontalAlignment:function(){this.eu(32+1024+2048+65536+(1<<18),'textHorizontalAlignment');return this.jk;},set_textHorizontalAlignment:function(value){this.uD(32+1024+2048+65536+(1<<18),'textHorizontalAlignment','jk',value,IPCC.Web.UI.HorizontalAlignment);},get_textVerticalAlignment:function(){this.eu(32,'textVerticalAlignment');return this.vM;},set_textVerticalAlignment:function(value){this.uD(32,'textVerticalAlignment','vM',value,IPCC.Web.UI.VerticalAlignment);},get_textColor:function(){this.eu(6176+65536+(1<<18),'textColor');return this.qU;},set_textColor:function(value){this.Ki(6176+65536+(1<<18),'textColor','qU',value);},get_textOpacity:function(){this.eu(32,'textOpacity');return this.yC;},set_textOpacity:function(value){this.SQ(32,'textOpacity','yC',value,0,255);},get_textOrientation:function(){this.eu(32,'textOrientation');return this.xz;},set_textOrientation:function(value){this.uD(32,'textOrientation','xz',value,IPCC.Web.UI.Orientation);},get_type:function(){return this.jr();},get_visible:function(){return this.cQ;},set_visible:function(value){this.ks((1<<17)+65536+32768+16384+8192+4096+2048+1024+512+256+128+64+63,'visible','cQ',value);},get_markID:function(){return this.jR();},get_pathString:function(){return this.uC;},set_pathString:function(value){var uC=this.get_pathString();if(uC!==value){this.afN=true;}this.DA(1088,'pathString','uC',value);},get_pathWidth:function(){return this.WW;},set_pathWidth:function(value){this.yn(1088,'pathWidth','WW',value);},get_pathHeight:function(){return this.Xs;},set_pathHeight:function(value){this.yn(1088,'pathHeight','Xs',value);},get_startIndex:function(){this.eu((1<<17)+(1<<14)+8192+512,'startIndex');return this.aU;},set_startIndex:function(value){this.yn((1<<17)+(1<<14)+8192+512,'startIndex','aU',value);},get_textLength:function(){this.eu((1<<17)+(1<<14)+8192+512,'textLength');return this.cD;},set_textLength:function(value){this.yn((1<<17)+(1<<14)+8192+512,'textLength','cD',value);},add_propertyChanged:function(handler){this.jK(handler);},remove_propertyChanged:function(handler){this.lC(handler);},add_markTextSelectionChanged:function(handler){this.GJ(handler);},remove_markTextSelectionChanged:function(handler){this.HM(handler);},move:function(deltaX,deltaY){IPCC.bC.jl(deltaX,'deltaX');IPCC.bC.jl(deltaY,'deltaY');this.Hk(deltaX,deltaY);},moveBackward:function(){if(this.dV()){var index=this.dV().oR(this);var dr=this.dV().amu();if(index>dr){this.dV().reorderMark(this,index-1);}}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveForward:function(){if(this.dV()){var index=this.dV().oR(this);if(index<this.dV().YA()-1){this.dV().reorderMark(this,index+1);}}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveToBack:function(){if(this.dV()){var dr=0;dr=this.dV().amu();this.dV().reorderMark(this,dr);}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveToFront:function(){if(this.dV()){this.dV().reorderMark(this,this.dV().YA()-1);}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},removeFromPage:function(){if(this.dV()){this.dV().removeMark(this);}},selectText:function(textRanges){this.UM(textRanges);},aAm:function(){var eC={};var J=this;var aY,abH,aX,R,h;function ds(dm,Nn){eC[Nn]=J[dm];};var jI=false;var ip=false;var vO=false;switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:jI=true;vO=true;eC.__type='LineMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Polyline:jI=true;vO=true;eC.__type='PolyLineMark:#IPCC.Web';ds('sK','ic');break;case IPCC.Web.UI.MarkType.Rectangle:ip=true;eC.__type='RectangleMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.RectangleRedaction:ip=true;eC.__type='RectangleRedactionMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Ellipse:ip=true;eC.__type='EllipseMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Polygon:vO=true;eC.__type='PolygonMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Text:ip=true;eC.__type='TextMark:#IPCC.Web';ds('EK','clc');ds('As','clid');ds('rm','cls');ds('CX','clw');ds('Ce','ct');ds('yT','cv');ds('gk','fn');ds('dH','fs');ds('co','fst');ds('hS','ls');ds('bo','te');ds('jk','tha');ds('vM','tva');ds('qU','tc');ds('yC','to');ds('xz','tor');aX=this.mc;if(aX.x!==0||aX.y!==0){eC.cp={x:aX.x,y:aX.y};}break;case IPCC.Web.UI.MarkType.Stamp:ip=true;eC.__type='StampMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:ip=true;eC.__type='HighlightText:#IPCC.Web';break;}if(jI){ds('Iy','eha');ds('GY','ehl');ds('oP','eht');ds('zv','hfc');ds('Jc','sha');ds('Jr','shl');ds('IF','sht');}else{ds('cw','fc');ds('GN','fv');ds('jm','lv');}if(ip){R=this.get_rectangle();eC.r={x:R.x,y:R.y,width:R.width,height:R.height};}eC.t=this.get_type();ds('kR','lc');ds('hS','ls');ds('dW','lw');ds('du','o');ds('cQ','v');if(vO){aY=this.oc();abH=[];for(h=0;h<aY.get_length();h++){aX=aY.getPoint(h);abH.push({x:aX.x,y:aX.y});}eC.p=abH;}return eC;},aEt:function(eC){var J=this;var aY,h;function ds(dm,Nn){if(eC.hasOwnProperty(Nn)){J[dm]=eC[Nn];}};var jI=false;var ip=false;var vO=false;switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:jI=true;if(eC.p&&eC.p.length===2){aY=this.oc();aY.setPoint(0,new IPCC.Web.UI.Point(eC.p[0].x,eC.p[0].y));aY.setPoint(1,new IPCC.Web.UI.Point(eC.p[1].x,eC.p[1].y));}break;case IPCC.Web.UI.MarkType.Polyline:jI=true;vO=true;ds('sK','ic');break;case IPCC.Web.UI.MarkType.Rectangle:ip=true;break;case IPCC.Web.UI.MarkType.RectangleRedaction:ip=true;break;case IPCC.Web.UI.MarkType.Ellipse:ip=true;break;case IPCC.Web.UI.MarkType.Polygon:vO=true;break;case IPCC.Web.UI.MarkType.Text:ip=true;ds('EK','clc');ds('As','clid');ds('rm','cls');ds('CX','clw');ds('Ce','ct');ds('yT','cv');ds('gk','fn');ds('dH','fs');ds('co','fst');ds('hS','ls');ds('bo','te');ds('jk','tha');ds('vM','tva');ds('qU','tc');ds('yC','to');ds('xz','tor');if(eC.cp){this.mc=new IPCC.Web.UI.Point(eC.cp.x,eC.cp.y);}break;case IPCC.Web.UI.MarkType.Stamp:ip=true;break;case IPCC.web.UI.MarkType.Highlight:case IPCC.web.UI.MarkType.HighlightText:case IPCC.web.UI.MarkType.Strikethrough:ip=true;break;}if(jI){ds('Iy','eha');ds('GY','ehl');ds('oP','eht');ds('zv','hfc');ds('Jc','sha');ds('Jr','shl');ds('IF','sht');}else{ds('cw','fc');ds('GN','fv');ds('jm','lv');}if(ip){if(eC.r){this.set_rectangle(new IPCC.Web.UI.Rectangle(eC.r.x,eC.r.y,eC.r.width,eC.r.height));}}eC.t=this.get_type();ds('kR','lc');ds('hS','ls');ds('dW','lw');ds('du','o');ds('cQ','v');if(eC.p&&vO){aY=this.oc();for(h=0;h<eC.p.length;h++){aY.addPoint(new IPCC.Web.UI.Point(eC.p[h].x,eC.p[h].y));}}return eC;}};LW.registerClass=ci;LW.registerClass('IPCC.Web.UI.Mark');module.exports=LW;},{"../../IPCC.Util":29}],105:[function(require,module,exports){var ci=require('../../IPCC.Util').regClass;var KT=function(){var bb=[];var be=new IPCC.Web.UI.gv();this.Pq=function(K){if(this.Iz(K)=== -1){bb.push(K);var F=new IPCC.Web.UI.MarkEventArgs();F.mark=K;this.ae('markAdded',F);}};this.atv=function(xB){var F=new IPCC.Web.UI.MarkEventArgs();F.length=xB.get_length();var J=this;function ka(K){if(J.Iz(K)=== -1){bb.push(K);}};xB.forEach(ka,{});if(F.length>0){this.ae('markAdded',F);}};this.jX=function(iA,dJ){var Ke=[].concat(bb);var h;for(h=0;h<Ke.length;h++){iA.call(dJ,Ke[h],h,this);}};this.ec=function(){return bb.length;};this.vb=function(K){var h=this.Iz(K);if(h> -1){bb.splice(h,1);var F=new IPCC.Web.UI.MarkEventArgs();F.mark=K;this.ae('markRemoved',F);}};this.Iz=function(K){var h;for(h=0;h<bb.length;h++){if(bb[h]===K){return h;}}return-1;};this.yW=function(G){be.addHandler('markAdded',G);};this.zt=function(G){be.removeHandler('markAdded',G);};this.yh=function(G){be.addHandler('markRemoved',G);};this.Az=function(G){be.removeHandler('markRemoved',G);};this.ae=function(dE,F){var G=be.getHandler(dE);if(G!==null){G(this,F);}};return this;};KT.prototype={toString:function(){return 'MarkCollection with '+this.get_length()+' marks';},addMark:function(mark){this.Pq(mark);},addMarks:function(markCollection){this.atv(markCollection);},forEach:function(method,context){this.jX(method,context);},get_length:function(){return this.ec();},contains:function(mark){return this.Iz(mark)> -1;},removeMark:function(mark){this.vb(mark);},removeAllMarks:function(){this.jX(function(K,bp,xB){xB.vb(K);});},add_markAdded:function(handler){this.yW(handler);},remove_markAdded:function(handler){this.zt(handler);},add_markRemoved:function(handler){this.yh(handler);},remove_markRemoved:function(handler){this.Az(handler);}};KT.registerClass=ci;KT.registerClass('IPCC.Web.UI.MarkCollection');module.exports=KT;},{"../../IPCC.Util":29}],106:[function(require,module,exports){var ci=require('../../IPCC.Util').regClass;var MU=function(){return this;};MU.registerClass=ci;MU.prototype={};MU.registerClass('IPCC.Web.UI.MarkEventArgs');module.exports=MU;},{"../../IPCC.Util":29}],107:[function(require,module,exports){var de=require('../../IPCC.Util').regEnum;var Gz=function(){};Gz.registerEnum=de;Gz.prototype={HideSideHandlesWhenClose:0,HideCornerHandlesWhenClose:1};Gz.registerEnum('IPCC.Web.UI.MarkHandleMode',false);module.exports=Gz;},{"../../IPCC.Util":29}],108:[function(require,module,exports){var de=require('../../IPCC.Util').regEnum;var NZ=function(){};NZ.registerEnum=de;NZ.prototype={Full:0,SelectionDisabled:1};NZ.registerEnum('IPCC.Web.UI.MarkInteractionMode',false);module.exports=NZ;},{"../../IPCC.Util":29}],109:[function(require,module,exports){var de=require('../../IPCC.Util').regEnum;var NC=function(){};NC.registerEnum=de;NC.prototype={Line:3,Polyline:502,Rectangle:600,Ellipse:601,Polygon:604,Text:605,Highlight:606,Stamp:607,HighlightText:608,SignaturePath:609,Freehand:610,SignatureText:611,SignatureImage:612,RectangleRedaction:613,TextSelectionRedaction:614,ImageStampAnnotation:615,ImageStampRedaction:616,TextHyperlinkAnnotation:617,DocumentHyperlink:618,TextLine:619,Strikethrough:620,TextAreaSignature:621};NC.registerEnum('IPCC.Web.UI.MarkType',false);module.exports=NC;},{"../../IPCC.Util":29}],110:[function(require,module,exports){var de=require('./../../IPCC.Util').regEnum;var Rv=function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}throw new IPCC.Web.UI.ImGearNotImplementedException();};Rv.registerEnum=de;Rv.prototype={leftButton:0,middleButton:1,rightButton:2};Rv.registerEnum("IPCC.Web.UI.MouseButton");},{"./../../IPCC.Util":29}],111:[function(require,module,exports){var ci=require('../../IPCC.Util').regClass;var Om=function(){var afW=false;this.ayA=function(){afW=true;};this.afF=function(){return afW;};return this;};Om.prototype={preventDefault:function(){this.ayA();}};Om.registerClass=ci;Om.registerClass('IPCC.Web.UI.MouseEventArgs');module.exports=Om;},{"../../IPCC.Util":29}],112:[function(require,module,exports){var de=require('../../IPCC.Util').regEnum;var Os=function(){};Os.registerEnum=de;Os.prototype={None:0,Magnifier:1,RectangleZoom:2,HandPan:3,Select:4,CreateRectangleMark:5,CreateEllipseMark:6,CreateLineMark:7,CreatePolylineMark:8,CreateFreehandMark:9,CreatePolygonMark:10,CreateTextMark:11,EditMarks:12,RunMarks:13,SelectText:14,CreateStampMark:15,CreateHighlightTextMark:16,CreateTextSelectionRedaction:17,CreateRectangleRedactionMark:18,CreateImageStampAnnotationMark:19,CreateImageStampRedactionMark:20,CreateTextHyperlinkMark:21,CreateTextInputSignatureMark:22,CreateStrikethroughMark:23,CreateTextAreaSignatureMark:24};Os.registerEnum('IPCC.Web.UI.MouseTool',false);module.exports=Os;},{"../../IPCC.Util":29}],113:[function(require,module,exports){var de=require('../../IPCC.Util').regEnum;var Mg=function(){};Mg.registerEnum=de;Mg.prototype={TopLeft:1,TopRight:2,BottomRight:3,BottomLeft:4,LeftTop:5,RightTop:6,RightBottom:7,LeftBottom:8};Mg.registerEnum('IPCC.Web.UI.Orientation',false);module.exports=Mg;},{"../../IPCC.Util":29}],114:[function(require,module,exports){var alA=function(element,ps,PG){var fW=this;var bm;var H;var xt=0;var NI='';var Jg=false;var be=new IPCC.Web.UI.gv();var fk=null;var qF=IPCC.qF;var ahL=IPCC.qF;var JI=0.0;var GD=false;var Lz=0;var agD= -1;var agb= -1;var afV= -1;function mj(HL){if(!H){return false;}return H.mj(HL);};this.ay=function(ju,jC){if(mj(IPCC.Web.UI.DebugErrorLevel.Production)){H.ay(ju,jC);}};this.aM=function(ju,jT,rF){if(!mj(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var cK=ju+'(';var h;for(h=0;h<jT.length;h++){if(h>0){cK+=', ';}cK+=IPCC.iJ.qz(jT[h],(rF?rF:0));}cK+=')';this.vX(cK,IPCC.Web.UI.DebugErrorLevel.Development);};this.CU=function(ju,jT,lT,rF){if(!mj(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var cK=ju+'(';var h;for(h=0;h<jT.length;h++){if(h>0){cK+=', ';}cK+=IPCC.iJ.qz(jT[h],(rF?rF:0));}cK+=') = ';cK+=IPCC.iJ.qz(lT,1);this.vX(cK,IPCC.Web.UI.DebugErrorLevel.Development);};this.ck=function(ju,jT,lT){if(!mj(IPCC.Web.UI.DebugErrorLevel.Detailed)){return;}var cK=ju+'(';var h;for(h=0;h<jT.length;h++){if(h>0){cK+=', ';}cK+=IPCC.iJ.qz(jT[h],0);}cK+=') = ';cK+=IPCC.iJ.qz(lT,1);this.vX(cK,IPCC.Web.UI.DebugErrorLevel.Detailed);};this.vX=function(jn,aW){if(H){H.lV(jn,IPCC.Web.UI.DebugItemCause.FunctionCall,aW);}};this.lV=function(jn){if(H){H.lV(jn,IPCC.Web.UI.DebugItemCause.Custom,IPCC.Web.UI.DebugErrorLevel.Production);}};this.Jw=function(){return H.get_debug();};this.Ur=function(T){H.set_debug(T);};this.AT=function(){return H.AT();};this.Gd=function(T){IPCC.bC.kt(T,'value',IPCC.Web.UI.DebugErrorLevel);H.Gd(T);};this.aIe=function(T){GD=T;};this.aGO=function(){return GD;};var oh=function(){if(H.dv()===undefined){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot perform this operation unless an image is open (and it has completed the opening process).');}};function cC(dE,G){be.addHandler(dE,G);};function dz(dE,G){be.removeHandler(dE,G);};this.Gs=function(ia,cR){H.axk(ia,cR);};this.axq=function(cR,K){H.wu(K);H.cI();};this.WN=function(G){cC('pageOpening',G);};this.VE=function(G){dz('pageOpening',G);};this.Xl=function(G){cC('pageOpened',G);};this.Vz=function(G){dz('pageOpened',G);};this.awz=function(G){cC('pageClosed',G);};this.aCs=function(G){dz('pageClosed',G);};this.GT=function(G){cC('pageOpenFailed',G);};this.Ge=function(G){dz('pageOpenFailed',G);};this.XY=function(G){cC('pageDisplayed',G);};this.Vx=function(G){dz('pageDisplayed',G);};this.Pi=function(G){cC('mouseDown',G);};this.Uk=function(G){dz('mouseDown',G);};this.OY=function(G){cC('mouseMove',G);};this.UT=function(G){dz('mouseMove',G);};this.Qm=function(G){cC('mouseUp',G);};this.Vl=function(G){dz('mouseUp',G);};this.auG=function(G){cC('contextMenu',G);};this.aBx=function(G){dz('contextMenu',G);};this.yW=function(G){cC('markAdded',G);};this.zt=function(G){dz('markAdded',G);};this.XS=function(G){cC('markCreating',G);};this.VN=function(G){dz('markCreating',G);};this.Hv=function(G){cC('markChanged',G);};this.HU=function(G){dz('markChanged',G);};this.yh=function(G){cC('markRemoved',G);};this.Az=function(G){dz('markRemoved',G);};this.Gx=function(G){cC('markReordered',G);};this.Ir=function(G){dz('markReordered',G);};this.Xc=function(G){cC('marksLoaded',G);};this.Un=function(G){dz('marksLoaded',G);};this.EY=function(G){cC('markSelectionChanged',G);};this.Hq=function(G){dz('markSelectionChanged',G);};this.Am=function(G){cC('textPageReady',G);};this.Eq=function(G){dz('textPageReady',G);};this.Ui=function(G){cC('selectTextMouseToolCompleted',G);};this.VW=function(G){dz('selectTextMouseToolCompleted',G);};this.Xd=function(G){cC('exceptionThrown',G);};this.Va=function(G){cC('scaleChanged',G);};this.Vu=function(G){dz('scaleChanged',G);};this.UU=function(G){dz('exceptionThrown',G);};this.AI=function(G){cC('textExtractionFailed',G);};this.BU=function(G){dz('textExtractionFailed',G);};this.jK=function(G){cC('propertyChanged',G);};this.lC=function(G){dz('propertyChanged',G);};var ae=function(dE,F){try{var G;G=be.getHandler(dE);if(G){G(fW,F);}}catch(e){fW.ay(dE+'Event',e);}};var rf=function(dE){function CR(aC,F){ae(dE,F);};H['add_'+dE](CR);};var JA=function(dE){function CR(aC,F){if(Jg&&H.Pw()){CD();}ae(dE,F);};H['add_'+dE](CR);};function CD(){var eD,oq,Ys;if(NI!==''){Ys=document.getElementById(NI);if(Ys){eD=fW.PO();oq='{encodedDocumentIdentifier:"'+eD.encodedDocumentIdentifier;oq+='",pageNumber:'+eD.pageNumber.toString();oq+=',viewFitType:'+eD.viewFitType.toString();if(eD.viewRectangle&&eD.viewFitType===IPCC.Web.UI.FitType.Rectangle){oq+=',viewRectangle:{x:'+eD.viewRectangle.x.toFixed(5);oq+=',y:'+eD.viewRectangle.y.toFixed(5);oq+=',width:'+eD.viewRectangle.width.toFixed(5);oq+=',height:'+eD.viewRectangle.height.toFixed(5);oq+='}';}if(eD.viewRotationDegreesClockwise){oq+=',viewRotationDegreesClockwise:'+eD.viewRotationDegreesClockwise.toString();}if(eD.viewMirror){oq+=',viewMirror:'+eD.viewMirror.toString();}if(eD.viewZoomFactor){oq+=',viewZoomFactor:'+eD.viewZoomFactor.toString();}if(Jg){var aO=H.dV();if(aO){oq+=',artPageJson:"'+IPCC.hm.rE(aO.saveToJson())+'"';}}oq+='}';Ys.value=oq;}}};var aqa=function(){function CR(aC,F){var YL=true;switch(F.get_propertyName()){case 'documentIdentifier':case 'pageNumber':case 'artPage':case 'includeArtInPostBack':case 'displayedPageRectangle':CD();break;case 'magnifierWindowPosition':case 'magnifierIsVisible':case 'cursor':case 'markCursor':case 'inProgressMark':case 'GO':case 'wH':YL=false;break;case 'GS':if(H.Pw()){CD();}YL=false;break;}if(YL){ae('propertyChanged',F);}};H.jK(CR);};this.ZN=function(bd){IPCC.bC.kt(bd,'type',IPCC.Web.UI.FitType);if(bd===IPCC.Web.UI.FitType.Rectangle){throw new IPCC.Web.UI.ImGearArgumentException('type','The value must be a member of the IPCC.Web.UI.FitType enumeration (other than Rectangle).');}oh();fk={azU:true,viewFitType:bd};VF();};this.fv=function(){return H.dv()!==undefined;};this.kE=function(){oh();return H.dv().width;};this.hO=function(){oh();return H.dv().height;};this.asu=function(){oh();return H.dv().hf;};this.asg=function(){return H.aN().eI().ajX();};this.arz=function(){oh();return H.dv().gM;};this.Ky=function(){if(!H|| !(H.dv())){return '';}return H.dv().get_identifier();};this.PA=function(){if(!H|| !(H.dv())){return '';}return H.dv().get_encodedIdentifier();};this.nJ=function(){if(!H|| !(H.dv())){return-1;}return H.dv().bF;};this.auX=function(){if(!H|| !(H.dv())){return 0;}return H.dv().ed;};this.amJ=function(){var bO=H.dv();if(!bO){return new IPCC.Web.UI.Rectangle(0,0,0,0);}var bj=H.eT();bj.x=bj.y=0;var rQ=H.aN().eI();rQ.wz();var cY=rQ.zg(bj);if(cY.x<0){cY.width+=cY.x;cY.x=0;}if(cY.y<0){cY.height+=cY.y;cY.y=0;}if(cY.x+cY.width>bO.width){cY.width=bO.width-cY.x;}if(cY.y+cY.height>bO.height){cY.height=bO.height-cY.y;}return cY;};function Qz(){var dP={},dc=H.aN().eI();dP.documentIdentifier=fW.Ky();dP.encodedDocumentIdentifier=fW.PA();dP.pageNumber=fW.nJ();dP.artPage=fW.dV();dP.referenceDocumentIdentifier=fW.Ky();dP.referencePageNumber=fW.nJ();dP.viewFitType=IPCC.Web.UI.FitType.Rectangle;dP.viewRectangle=fW.amJ();dP.imGearPage=fW.mR();dP.transientArtPage=fW.nm();var hH=dc.ajX();if(hH!==0){dP.viewRotationDegreesClockwise=hH;}if(dc.atZ()){dP.viewMirror=true;}return dP;};this.aiY=function(aU,dI){H.aiY(aU,dI);};this.PO=function(){var dP;if(bm){dP=new IPCC.Web.UI.PageViewState();dP.documentIdentifier=bm.documentIdentifier;dP.encodedDocumentIdentifier=bm.encodedDocumentIdentifier;dP.pageNumber=bm.pageNumber;dP.artPage=bm.artPage;dP.artPageJson=bm.artPageJson;dP.referenceDocumentIdentifier=bm.documentIdentifier;dP.referencePageNumber=bm.pageNumber;dP.viewFitType=bm.viewFitType;dP.viewRectangle=bm.viewRectangle;dP.viewRotationDegreesClockwise=bm.viewRotationDegreesClockwise;dP.viewMirror=bm.viewMirror;dP.viewZoomFactor=bm.viewZoomFactor;dP.transientArtPage=bm.transientArtPage;}else{dP=Qz();}return dP;};this.Qq=function(bk){var bj=H.eT();this.afL(bk,{x:bj.width/2,y:bj.height/2});};this.afL=function(bk,ct){IPCC.bC.lg(bk,'factor',1.01,20);IPCC.bC.aX(ct,'point');oh();var aA=H.aN();var ax=aA.eI();var ah=H.dv();var kZ=ax.nY();if(kZ*bk>ah.rj){bk=ah.rj/kZ;}ax.xS(bk,bk,ct.x,ct.y);ax.kx(ah,H.eT());fk=null;aA.iu(ax);};this.UD=function(bk){var bj=H.eT();this.aeJ(bk,{x:bj.width/2,y:bj.height/2});};this.aeJ=function(bk,ct){IPCC.bC.lg(bk,'factor',1.01,20);IPCC.bC.aX(ct,'point');oh();var aA=H.aN();var ax=aA.eI();var ah=H.dv();var kZ=ax.nY();if(kZ/bk<ah.sN){bk=kZ/ah.sN;}ax.xS(1/bk,1/bk,ct.x,ct.y);ax.kx(ah,H.eT());fk=null;aA.iu(ax);};this.jY=function(bk){var bj=H.eT();this.apj(bk,{x:bj.width/2,y:bj.height/2});};this.EL=function(bk){var aA=H.aN();fk=null;aA.EL(bk);};this.CL=function(bk){var aA=H.aN();fk=null;aA.CL(bk);};this.Gc=function(bk){var aA=H.aN();fk=null;aA.Gc(bk);};this.apj=function(bk,ct){IPCC.bC.aX(ct,'point');oh();var aA=H.aN();var ax=aA.eI();var ah=H.dv();var kZ=ax.nY();if(bk>ah.rj){bk=ah.rj;}else if(bk<ah.sN){bk=ah.sN;}ax.xS(bk/kZ,bk/kZ,ct.x,ct.y);ax.kx(ah,H.eT());fk=null;aA.iu(ax);};this.xW=function(sL){IPCC.bC.SG(sL,'degreesClockwise',[90,180,270,-90,-180,-270]);oh();var aA=H.aN();var ax=aA.eI();var bj=H.eT();ax.adT(sL,bj.width/2,bj.height/2);ax.kx(H.dv(),H.eT());fk=null;aA.iu(ax);};this.agu=function(){oh();var aA=H.aN();var ax=aA.eI();var bj=H.eT();ax.xS(-1,1,bj.width/2,bj.height/2);ax.kx(H.dv(),H.eT());fk=null;aA.iu(ax);};this.aqV=function(cY){IPCC.bC.R(cY,'pageRectangle');oh();var aA=H.aN();var ax=aA.eI();var bj=H.eT();var ah=H.dv();ax.PF(ah,bj,cY);ax.kx(ah,H.eT());fk=null;aA.iu(ax);};this.aqx=function(ca){IPCC.bC.aX(ca,'imagePoint');oh();var aA=H.aN();var ax=aA.eI();var bj=H.eT();ax.ajO(bj,ca);ax.kx(H.dv(),H.eT());fk=null;aA.iu(ax);};this.agH=function(){oh();fk=null;var aA=H.aN();var ax=aA.eI();var bj=H.eT();ax.xS(1,-1,bj.width/2,bj.height/2);ax.kx(H.dv(),H.eT());fk=null;aA.iu(ax);};this.cI=function(){H.cI();};this.IC=function(){H.IC();};var VF=function(){var ah=H.dv();var bj=H.eT();var ax;if(!fk){ax=H.aN().eI();ax.kx(ah,bj);H.aN().iu(ax);return;}if(fk.azU){ax=H.aN().eI();}else{ax=new IPCC.eA();ax.aqH(ah,bj);if(fk.viewRotationDegreesClockwise){ax.rotate(fk.viewRotationDegreesClockwise);}if(fk.viewMirror){ax.aoJ(bj);}}if(fk.viewZoomFactor){if(fk.viewZoomFactor>ah.rj){fk.viewZoomFactor=ah.rj;}else if(fk.viewZoomFactor<ah.sN){fk.viewZoomFactor=ah.sN;}fk.viewFitType=IPCC.Web.UI.FitType.ActualSize;ax.Wr(fk.viewFitType,ah,bj);ax.scale(fk.viewZoomFactor,fk.viewZoomFactor);}else{if(!fk.viewFitType&&fk.viewFitType!==0){fk.viewFitType=IPCC.Web.UI.FitType.FullImage;}if(fk.viewFitType===IPCC.Web.UI.FitType.Rectangle&& !fk.viewRectangle){fk.viewFitType=IPCC.Web.UI.FitType.FullImage;}if(fk.viewFitType!==IPCC.Web.UI.FitType.Rectangle){ax.Wr(fk.viewFitType,ah,bj);}else{ax.PF(ah,bj,fk.viewRectangle);}}ax.kx(ah,bj);H.aN().iu(ax);};var amY=function(Jp){fk=Jp;Lz=0;VF();};this.Mb=function(ap){xt++;var VC=xt;var axi={};JI=0.0;H.LE=0.0;IPCC.hm.ajz(ap);if(mj(IPCC.Web.UI.DebugErrorLevel.Development)){var cK='opening documentIdentifier "'+ap.documentIdentifier+'", pageNumber '+ap.pageNumber;this.vX(cK,IPCC.Web.UI.DebugErrorLevel.Development);}bm=new IPCC.Web.UI.PageViewState();var h;for(h in ap){if(ap.hasOwnProperty(h)){bm[h]=ap[h];}}if(ap.documentIdentifier===''){this.Oo();return;}if(IPCC.Web.UI.ArtPage){if(bm){if(!bm.artPage){var aO=new IPCC.Web.UI.ArtPage();if(bm.artPageJson){aO.loadFromJson(bm.artPageJson);}bm.artPage=aO;}if(!bm.documentArtPage){var fz=new IPCC.Web.UI.ArtPage();bm.documentArtPage=fz;}if(this.lf()===true){if(!bm.imGearPage){var gI=new IPCC.Web.UI.ImGearDocument({documentIdentifier:ap.documentIdentifier,imageServicePath:this.uR()});bm.imGearPage=new IPCC.Web.UI.ImGearPage({pageNumber:ap.pageNumber,aG:gI});gI.get_pages().addPage(bm.imGearPage);}if(!bm.transientArtPage){bm.transientArtPage=new IPCC.Web.UI.ArtPage();}}}}if(bm.viewRotationDegreesClockwise){IPCC.bC.SG(bm.viewRotationDegreesClockwise,'parameters.viewRotationDegreesClockwise',[0,90,180,270,-90,-180,-270]);}if(bm.viewFitType){IPCC.bC.kt(bm.viewFitType,'parameters.viewFitType',IPCC.Web.UI.FitType);}if(bm.viewZoomFactor){IPCC.bC.lg(bm.viewZoomFactor,'parameters.viewZoomFactor',0,20);}ae('pageOpening',ap);var bO=new IPCC.hm(ap.encodedDocumentIdentifier,ap.pageNumber,0,0,0,0);var nA=function(){if(VC!==xt){return;}var tc=null;if(H.dv()){tc=Qz();}H.aN().oG();H.zd(bO);amY(bm);if(ap.artServiceOption===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(bm){if(bm.artPage){H.me(bm.artPage);H.dV().loadFromJson(bO.ayV);}}}else{if(bm){if(bm.artPage){H.me(bm.artPage);}if(bm.documentArtPage){H.Fb(bm.documentArtPage);}if(H.lf()===true){if(bm.imGearPage){var Wl=bm.imGearPage.get_pageWidth();var Wu=bm.imGearPage.get_pageHeight();bm.imGearPage.lU(fW.ja());if(!Wl){bm.imGearPage.KO(fW.get_pageWidth());}if(!Wu){bm.imGearPage.KM(fW.get_pageHeight());}H.Cv(bm.imGearPage);if(typeof(H.mR().zz==='function')){if(!H.mR().dF().wf()){bm.imGearPage.ya(fW.jO());setTimeout(H.mR().zz,1000);}}}if(bm.transientArtPage){H.AW(bm.transientArtPage);}}}}bm=null;if(tc){ae('pageClosed',tc);}CD();ae('pageOpened',ap);};if(ap.artServiceOption===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(bm){if(!bm.artPageJson){bO.aHH(H.uR(),H,nA,axi);}else{bO.SF(H.uR(),H,nA);}}}else{bO.SF(H.uR(),H,nA);}};this.Oo=function(){xt++;if(!(H.dv())){return;}var tc=Qz();H.zd(undefined);H.me(undefined);H.Cv(undefined);H.AW(undefined);this.cI();CD();tc=undefined;bm=undefined;fk=undefined;var da;da=fW.lD();if(da.igElements){if(da.igElements.oy){da.igElements.oy.Ay=null;da.igElements.oy.wm=null;da.igElements.oy.Fs=null;da.igElements.oy=null;}da.igElements.Cu=null;da.igElements.eQ=null;da.igElements.gL=null;da.igElements.cd=null;da.igElements.nx=null;da.igElements.mT=null;da.igElements.kJ=null;da.igElements.rc=null;da.igElements.PR=null;da.igElements.YJ=null;da.igElements.qd=null;}fW=null;da.aQ=null;ae('pageClosed',tc);};this.aAF=function(ap){xt++;var VC=xt;JI=0.0;H.LE=0.0;IPCC.hm.ajz(ap);if(mj(IPCC.Web.UI.DebugErrorLevel.Development)){var cK='opening documentIdentifier "'+ap.documentIdentifier+'", pageNumber '+ap.pageNumber;this.vX(cK,IPCC.Web.UI.DebugErrorLevel.Development);}bm=new IPCC.Web.UI.PageViewState();var h;for(h in ap){if(ap.hasOwnProperty(h)){bm[h]=ap[h];}}if(ap.documentIdentifier===''){this.Oo();return;}if(IPCC.Web.UI.ArtPage){if(bm){if(!bm.artPage){var aO=new IPCC.Web.UI.ArtPage();bm.artPage=aO;}if(!bm.documentArtPage){var fz=new IPCC.Web.UI.ArtPage();bm.documentArtPage=fz;}if(this.lf()===true){if(!bm.imGearPage){var gI=new IPCC.Web.UI.ImGearDocument({documentIdentifier:ap.documentIdentifier,imageServicePath:this.uR()});bm.imGearPage=new IPCC.Web.UI.ImGearPage({pageNumber:ap.pageNumber,aG:gI});gI.get_pages().addPage(bm.imGearPage);}if(!bm.transientArtPage){bm.transientArtPage=new IPCC.Web.UI.ArtPage();}}}}if(bm.viewRotationDegreesClockwise){IPCC.bC.SG(bm.viewRotationDegreesClockwise,'parameters.viewRotationDegreesClockwise',[0,90,180,270,-90,-180,-270]);}if(bm.viewFitType){IPCC.bC.kt(bm.viewFitType,'parameters.viewFitType',IPCC.Web.UI.FitType);}if(bm.viewZoomFactor){IPCC.bC.lg(bm.viewZoomFactor,'parameters.viewZoomFactor',0,20);}ae('pageOpening',ap);var bO=new IPCC.hm(ap.encodedDocumentIdentifier,ap.pageNumber,0,0,0,0);var nA=function(){if(VC!==xt){return;}var tc=null;if(H.dv()){tc=Qz();}H.aN().oG();H.zd(bO);amY(bm);if(bm){if(bm.artPage){H.me(bm.artPage);}if(bm.documentArtPage){H.Fb(bm.documentArtPage);}if(H.lf()===true){if(bm.imGearPage){var Wl=bm.imGearPage.get_pageWidth();var Wu=bm.imGearPage.get_pageHeight();bm.imGearPage.lU(fW.ja());if(!Wl){bm.imGearPage.KO(fW.get_pageWidth());}if(!Wu){bm.imGearPage.KM(fW.get_pageHeight());}H.Cv(bm.imGearPage);if(typeof(H.mR().zz==='function')){if(!H.mR().dF().wf()){bm.imGearPage.ya(fW.jO());setTimeout(H.mR().zz,1000);}}}if(bm.transientArtPage){H.AW(bm.transientArtPage);}}}bm=null;if(tc){ae('pageClosed',tc);}CD();ae('pageOpened',ap);};bO.azK(H.uR(),H,nA);};this.aHB=function(){xt++;if(!(H.dv())){return;}var bO=H.dv();H.zd(undefined);this.cI();H.zd(bO);};this.Zq=function(Dx){H.Zq(Dx);};this.me=function(T){H.me(T);};this.dV=function(){return H.dV();};this.Fb=function(T){H.Fb(T);};this.Pl=function(){return H.Pl();};this.nm=function(){return H.nm();};this.AW=function(T){H.AW(T);};this.Cc=function(){return H.Cc();};this.aoP=function(T){H.aoP(T);};this.HG=function(T){H.HG(T);};this.wG=function(){return H.wG();};this.apy=function(T){ahL=this.api(T);};this.ix=function(){return ahL;};this.aiZ=function(T){H.aiZ(T);};this.ZL=function(){return H.ZL();};this.mr=function(){return H.mr();};this.qn=function(T){H.qn(T);};this.aaX=function(T){H.aaX(T);};this.WM=function(){return H.WM();};this.St=function(azy){H.St(azy);};this.WD=function(){return H.WD();};this.api=function(aF){var aV='',LB='',Sr=function(bQ){var ss=0,aV;for(aV in bQ){if(bQ.hasOwnProperty(aV)){ss+=1;}}return ss;};for(aV in qF){if(qF.hasOwnProperty(aV)){if(typeof aF[aV]==='undefined'){aF[aV]=qF[aV];}if(typeof aF[aV]==='object'){if(!Sr(aF[aV])){aF[aV]=qF[aV];}else if(Sr(aF[aV])!==Sr(qF[aV])){for(LB in qF[aV]){if(typeof aF[aV][LB]==='undefined'){aF[aV][LB]=qF[aV][LB];}}}}}}return aF;};this.ari=function(aqC){if(aqC===false){IPCC.gu=false;H.eB([new IPCC.lK(),new IPCC.dj(),new IPCC.dq(),new IPCC.dQ(false)]);}else{IPCC.gu=true;IPCC.akC=this.ix();H.eB([new IPCC.lK(),new IPCC.dj(),new IPCC.fB(),new IPCC.dq(),new IPCC.dQ(false)]);}};this.oG=function(){var aA=H.aN();if(!aA.Ap()){return;}H.aN().oG();};this.aqs=function(cY){IPCC.bC.R(cY,'pageRectangle');var bO=H.dv();if(bO){H.aN().showSelection(cY);}};this.Cn=function(ca){IPCC.bC.aX(ca,'imagePoint');if(H.dv()){H.aN().Cn(new IPCC.Web.UI.Point(ca.x,ca.y));}};this.xA=function(ca){IPCC.bC.aX(ca,'imagePoint');if(H.dv()){H.aN().xA(new IPCC.Web.UI.Point(ca.x,ca.y));}};this.xa=function(){if(H.dv()&&H.aN().Ap()){return H.aN().xa();}return new IPCC.Web.UI.Rectangle(0,0,0,0);};this.arW=function(){if(H.dv()&&H.aN().Ap()){var cY=H.aN().xa();return H.aN().eI().zg(cY);}return new IPCC.Web.UI.Rectangle(0,0,0,0);};this.Ap=function(){return! !(H.dv()&&H.aN().Ap());};this.uR=function(){return H.uR();};this.VJ=function(T){IPCC.bC.lW(T,'value');H.VJ(T);};this.ato=function(){return NI;};this.aqQ=function(T){IPCC.bC.lW(T,'value');NI=T;};this.atX=function(){return Jg;};this.apR=function(T){Jg=T;};var wI='';this.ts=function(T){H.ts(T);wI=T;};this.lD=function(){return wI;};this.atq=function(){return H.aN().get_magnifierMagnification();};this.ape=function(T){IPCC.bC.lg(T,'value',1.5,8);H.aN().set_magnifierMagnification(T);};this.auh=function(){return H.aN().un().width;};this.anW=function(T){IPCC.bC.lg(T,'value',25,500);var ss=H.aN().un();ss.width=T;H.aN().set_magnifierWindowSize(ss);};this.aum=function(){return H.aN().un().height;};this.anE=function(T){IPCC.bC.lg(T,'value',25,500);var ss=H.aN().un();ss.height=T;H.aN().set_magnifierWindowSize(ss);};this.OZ=function(){return H.aN().OZ();};this.WG=function(T){IPCC.bC.lg(T,'value',-500,500);H.aN().WG(T);};this.PH=function(){return H.aN().PH();};this.XA=function(T){IPCC.bC.lg(T,'value',-500,500);H.aN().XA(T);};this.YH=function(){return H.aN().YH();};this.XK=function(T){IPCC.bC.lg(T,'value',0.1,0.5);H.aN().XK(T);};this.zS=function(){return H.aN().zS();};this.Kk=function(T){H.aN().Kk(T);};this.raisePropertyChanged=function(dm,vU){if(H){H.cP(dm,vU);}};var bD= -1;this.Yr=function(){return bD;};this.aHs=function(T){H.qx=T;};this.Mr=function(T){H.set_areMarksEditable(T);};this.aHc=function(){return H.set_areMarksEditable();};this.Il=function(T){IPCC.bC.kt(T,'value',IPCC.Web.UI.MouseTool);if(bD!==T){bD=T;var jf="None";switch(bD){case IPCC.Web.UI.MouseTool.None:H.eB([]);break;case IPCC.Web.UI.MouseTool.Magnifier:if(IPCC.gu===true){H.eB([new IPCC.rn(),new IPCC.dj(),new IPCC.fB(false,this.ix()),new IPCC.dq(),new IPCC.dQ(false)]);}else{H.eB([new IPCC.rn(),new IPCC.dj(),new IPCC.dq(),new IPCC.dQ(false)]);jf="Magnifier";}break;case IPCC.Web.UI.MouseTool.RectangleZoom:if(IPCC.gu===true){H.eB([new IPCC.lK(),new IPCC.dj(),new IPCC.fB(false,this.ix()),new IPCC.dq(),new IPCC.dQ(false)]);}else{H.eB([new IPCC.lK(),new IPCC.dj(),new IPCC.dq(),new IPCC.dQ(false)]);}jf="RectangleZoom";break;case IPCC.Web.UI.MouseTool.HandPan:if(IPCC.gu===true){H.eB([new IPCC.oT(),new IPCC.dj(),new IPCC.fB(false,this.ix()),new IPCC.dq(),new IPCC.dQ(true)]);}else{H.eB([new IPCC.oT(),new IPCC.dj(),new IPCC.dq(),new IPCC.dQ(true)]);}jf="HandPan";break;case IPCC.Web.UI.MouseTool.Select:if(IPCC.gu===true){H.eB([new IPCC.pp(),new IPCC.dj(),new IPCC.fB(false,this.ix()),new IPCC.dq(),new IPCC.dQ(false)]);}else{H.eB([new IPCC.pp(),new IPCC.dj(),new IPCC.dq(),new IPCC.dQ(false)]);}jf="Select";break;case IPCC.Web.UI.MouseTool.CreateRectangleMark:if(IPCC.gu===true){H.eB([new IPCC.ep(IPCC.Web.UI.MarkType.Rectangle),new IPCC.dj(),new IPCC.fB(true,this.ix()),new IPCC.dq(),new IPCC.dQ(false)]);}else{H.eB([new IPCC.ep(IPCC.Web.UI.MarkType.Rectangle),new IPCC.dj(),new IPCC.dq(),new IPCC.dQ(false)]);}jf="CreateRectangleMark";break;case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:if(IPCC.gu===true){H.eB([new IPCC.ep(IPCC.Web.UI.MarkType.RectangleRedaction),new IPCC.dj(),new IPCC.fB(true,this.ix()),new IPCC.dq(),new IPCC.dQ(false)]);}else{H.eB([new IPCC.ep(IPCC.Web.UI.MarkType.RectangleRedaction),new IPCC.dj(),new IPCC.dq(),new IPCC.dQ(false)]);}jf="CreateRectangleRedactionMark";break;case IPCC.Web.UI.MouseTool.CreateEllipseMark:if(IPCC.gu===true){H.eB([new IPCC.ep(IPCC.Web.UI.MarkType.Ellipse),new IPCC.dj(),new IPCC.fB(true,this.ix()),new IPCC.dq(),new IPCC.dQ(false)]);}else{H.eB([new IPCC.ep(IPCC.Web.UI.MarkType.Ellipse),new IPCC.dj(),new IPCC.dq(),new IPCC.dQ(false)]);}jf="CreateEllipseMark";break;case IPCC.Web.UI.MouseTool.CreateLineMark:if(IPCC.gu===true){H.eB([new IPCC.mI(),new IPCC.dj(),new IPCC.fB(true,this.ix()),new IPCC.dq(),new IPCC.dQ(false)]);}else{H.eB([new IPCC.mI(),new IPCC.dj(),new IPCC.dq(),new IPCC.dQ(false)]);}jf="CreateLineMark";break;case IPCC.Web.UI.MouseTool.CreatePolylineMark:if(IPCC.gu===true){H.eB([new IPCC.jS(IPCC.Web.UI.MarkType.Polyline),new IPCC.dj(),new IPCC.fB(true,this.ix()),new IPCC.dq(),new IPCC.dQ(false)]);}else{H.eB([new IPCC.jS(IPCC.Web.UI.MarkType.Polyline),new IPCC.dj(),new IPCC.dq(),new IPCC.dQ(false)]);}jf="CreatePolylineMark";break;case IPCC.Web.UI.MouseTool.CreateFreehandMark:if(IPCC.gu===true){H.eB([new IPCC.lv(),new IPCC.dj(),new IPCC.fB(true,this.ix()),new IPCC.dq(),new IPCC.dQ(false)]);}else{H.eB([new IPCC.lv(),new IPCC.dj(),new IPCC.dq(),new IPCC.dQ(false)]);}jf="CreateFreehandMark";break;case IPCC.Web.UI.MouseTool.CreatePolygonMark:if(IPCC.gu===true){H.eB([new IPCC.jS(IPCC.Web.UI.MarkType.Polygon),new IPCC.dj(),new IPCC.fB(true,this.ix()),new IPCC.dq(),new IPCC.dQ(false)]);}else{H.eB([new IPCC.jS(IPCC.Web.UI.MarkType.Polygon),new IPCC.dj(),new IPCC.dq(),new IPCC.dQ(false)]);}jf="CreatePolygonMark";break;case IPCC.Web.UI.MouseTool.CreateTextMark:if(IPCC.gu===true){H.eB([new IPCC.ep(IPCC.Web.UI.MarkType.Text),new IPCC.dj(),new IPCC.fB(true,this.ix()),new IPCC.dq(),new IPCC.dQ(false)]);}else{H.eB([new IPCC.ep(IPCC.Web.UI.MarkType.Text),new IPCC.dj(),new IPCC.dq(),new IPCC.dQ(false)]);}jf="CreateTextMark";break;case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:if(IPCC.gu===true){H.eB([new IPCC.ep(IPCC.Web.UI.MarkType.TextLine),new IPCC.dj(),new IPCC.fB(true,this.ix()),new IPCC.dq(),new IPCC.dQ(false)]);}else{H.eB([new IPCC.ep(IPCC.Web.UI.MarkType.TextLine),new IPCC.dj(),new IPCC.dq(),new IPCC.dQ(false)]);}jf="CreateTextInputSignatureMark";break;case IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark:H.eB([new IPCC.ep(IPCC.Web.UI.MarkType.TextAreaSignature),new IPCC.dj(),new IPCC.dq(),new IPCC.dQ(false)]);jf="CreateTextAreaSignatureMark";break;case IPCC.Web.UI.MouseTool.EditMarks:if(IPCC.gu===true){H.eB([new IPCC.jN(IPCC.Web.UI.MarkType.Text),new IPCC.dj(),new IPCC.fB(true,this.ix()),new IPCC.dq(),new IPCC.dQ(false)]);}else{H.eB([new IPCC.jN(IPCC.Web.UI.MarkType.Text),new IPCC.dj(),new IPCC.dq(),new IPCC.dQ(false)]);}jf="EditMarks";break;case IPCC.Web.UI.MouseTool.RunMarks:if(IPCC.gu===true){H.eB([new IPCC.zb(IPCC.Web.UI.MarkType.Text),new IPCC.dj(),new IPCC.fB(false,this.ix()),new IPCC.dq(),new IPCC.dQ(false)]);}else{H.eB([new IPCC.zb(IPCC.Web.UI.MarkType.Text),new IPCC.dj(),new IPCC.dq(),new IPCC.dQ(false)]);}jf="RunMarks";break;case IPCC.Web.UI.MouseTool.CreateStampMark:if(IPCC.gu===true){H.eB([new IPCC.ep(IPCC.Web.UI.MarkType.Stamp),new IPCC.dj(),new IPCC.fB(true,this.ix()),new IPCC.dq(),new IPCC.dQ(false)]);}else{H.eB([new IPCC.ep(IPCC.Web.UI.MarkType.Stamp),new IPCC.dj(),new IPCC.dq(),new IPCC.dQ(false)]);}jf="CreateStampMark";break;case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:if(IPCC.gu===true){H.eB([new IPCC.ep(IPCC.Web.UI.MarkType.ImageStampAnnotation),new IPCC.dj(),new IPCC.fB(true,this.ix()),new IPCC.dq(),new IPCC.dQ(false)]);}else{H.eB([new IPCC.ep(IPCC.Web.UI.MarkType.ImageStampAnnotation),new IPCC.dj(),new IPCC.dq(),new IPCC.dQ(false)]);}jf="CreateImageStampAnnotationMark";break;case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:if(IPCC.gu===true){H.eB([new IPCC.ep(IPCC.Web.UI.MarkType.ImageStampRedaction),new IPCC.dj(),new IPCC.fB(true,this.ix()),new IPCC.dq(),new IPCC.dQ(false)]);}else{H.eB([new IPCC.ep(IPCC.Web.UI.MarkType.ImageStampRedaction),new IPCC.dj(),new IPCC.dq(),new IPCC.dQ(false)]);}jf="CreateImageStampRedactionMark";break;case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:H.GD=true;if(IPCC.gu===true){H.eB([new IPCC.ku(),new IPCC.dj(),new IPCC.fB(false,this.ix()),new IPCC.dq(),new IPCC.dQ(false)]);}else{H.eB([new IPCC.ku(),new IPCC.dj(),new IPCC.dq(),new IPCC.dQ(false)]);}jf="CreateHighlightTextMark";break;case IPCC.Web.UI.MouseTool.SelectText:H.GD=false;if(IPCC.gu===true){H.eB([new IPCC.ku(),new IPCC.dj(),new IPCC.fB(false,this.ix()),new IPCC.dq(),new IPCC.dQ(false)]);}else{H.eB([new IPCC.ku(),new IPCC.dj(),new IPCC.dq(),new IPCC.dQ(false)]);}jf="SelectText";break;case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:if(IPCC.gu===true){H.eB([new IPCC.ku(),new IPCC.dj(),new IPCC.fB(true,this.ix()),new IPCC.dq(),new IPCC.dQ(false)]);}else{H.eB([new IPCC.ku(),new IPCC.dj(),new IPCC.dq(),new IPCC.dQ(false)]);}jf="CreateStrikethroughMark";break;}this.raisePropertyChanged('mouseTool',{mouseToolType:jf});}};this.Kf=function(avV){bD= -1;H.eB(avV);};this.asB=function(){return H.aN().get_presentationQuality();};this.aox=function(T){IPCC.bC.lg(T,'value',0,100);H.aN().set_presentationQuality(T);};this.asj=function(){return H.aN().get_scrollBars();};this.apS=function(T){IPCC.bC.kt(T,'value',IPCC.Web.UI.ScrollBars);H.aN().set_scrollBars(T);};this.aoq=function(ca,avy){IPCC.bC.aX(ca,'imagePoint');if(!(H.dv())){return new IPCC.Web.UI.Point(0,0);}var ct=H.aN().eI().transform(ca);if(avy){ct.constrain(H.eT());}return ct;};this.Nl=function(ct,awC){IPCC.bC.aX(ct,'windowPoint');var bO=H.dv();if(!bO){return new IPCC.Web.UI.Point(0,0);}var rQ=H.aN().eI();rQ.wz();var ca=rQ.transform(ct);if(awC){ca.constrain(bO);}return ca;};function avn(){var da;da=fW.lD();var akS=da.clientWidth;var aiK=da.clientHeight;var azh=(fk&&fk.viewFitType===agD&&akS===agb&&aiK===afV);if(azh){if(Lz>2){return;}Lz++;}else{agD=fk?fk.viewFitType: -1;agb=akS;afV=aiK;Lz=0;}VF();};function atU(){fk=null;};function aEy(aC,F){switch(F.eZ){case IPCC.ee.afr:fW.afL(1.25,F.QM.windowPoint);break;case IPCC.ee.aep:fW.aeJ(1.25,F.QM.windowPoint);break;case IPCC.ee.YC:fW.xW(F.T);break;case IPCC.ee.ahI:fW.agH();break;case IPCC.ee.agy:fW.agu();break;case IPCC.ee.aeA:fW.ZN(F.T);break;case IPCC.ee.aje:fW.Il(F.T);break;}};this.lf=function(){return H.lf();};this.Jq=function(T){H.Jq(T);};this.dF=function(){return H.dF();};this.mR=function(){return H.mR();};this.Cv=function(T){H.Cv(T);};this.zP=function(){return H.get_requireRequestsOptimize();};this.Ix=function(T){H.Ix(T);};this.jO=function(){return H.jO();};this.ya=function(T){H.ya(T);};this.GC=function(ca){IPCC.bC.aX(ca,'imagePoint');return H.GC(ca);};this.zl=function(dC){H.zl(dC);};this.Vd=function(){H.Vd();};this.MC=function(uK,dI){var FC=H.dF().hI().ec();IPCC.bC.mE(uK,'uK',0,FC-1);H.MC(uK,dI);};this.uw=function(dC){if(dC===undefined){H.aN().uw(dC);return false;}var FC=H.dF().hI().ec();IPCC.bC.mE(dC,'textIndex',0,FC-1);H.uw(dC);return true;};this.FD=function(){return! !(H.dv()&&H.lf()&&H.dF().ma()===true&&H.aN().FD());};this.Zo=function(){var aA=H.aN();aA.Zo();};this.PY=function(){if(H.lf()&&H.dF().ma()===true){return Math.min(H.aN().anm(),H.aN().Ee());}};this.Ca=function(){if(H.lf()&&H.dF().ma()===true){return H.aN().Ca();}};this.Dn=function(){if(H.lf()&&H.dF().ma()===true&&H.aN().FD()){return H.Dn();}else{return "";}};this.Ee=function(){return H.aN().Ee();};this.auc=function(){return H.get_cursor();};this.aqP=function(T){H.set_cursor(T);};this.Ar=function(){return H.Ar();};this.SA=function(T){H.SA(T);};this.ja=function(){return H.ja();};this.lU=function(T){H.lU(T);};this.aDm=function(){H.aN().hideMagnifier();};this.apO=function(ct){H.aN().showMagnifier(ct);};this.wu=function(K){if(H.mB().igElements){H.wu(K);H.cI();}};this.Fv=function(){H.Fv();};this.Cg=function(){return H.Cg();};this.ow=function(){if(H.mB().igElements){H.ow(true);}};function awH(aC,F){var xv=F.scaleFactor;var aL={scaleType:"scaledDown",pageNumber:F.pageNumber};if(JI!==xv){if(xv>JI){aL.scaleType="scaledUp";}JI=xv;ae('scaleChanged',aL);}};this.initialize=function(){H.aqF(this.lD().id);H.ts(this.lD().id);if(bD=== -1){this.Il(IPCC.Web.UI.MouseTool.RectangleZoom);}rf('mouseDown');rf('mouseMove');rf('mouseUp');rf('contextMenu');rf('markCreating');rf('pageOpenFailed');rf('textPageReady');rf('pageDisplayed');rf('exceptionThrown');rf('selectTextMouseToolCompleted');JA('markAdded');JA('markChanged');JA('markRemoved');rf('textExtractionFailed');JA('markReordered');JA('marksLoaded');rf('markSelectionChanged');aqa();H.awK(avn);H.awT(atU);H.atO(aEy);H.add_scaleChanged(awH);H.aBR();var da=this.lD();da.aQ=this;};ps=(ps!==false);H=new IPCC.Xi(ps);H.aqE('PageView');H.aqK(PG);};alA.prototype={dispose:function(){this.aM('dispose',arguments);this.Oo();},get_debug:function(){try{var bN=this.Jw();this.ck('get_debug',arguments,bN);return bN;}catch(e){this.ay('get_debug',e);throw e;}},set_debug:function(value){try{this.aM('set_debug',arguments);var xY=this.Jw();this.Ur(value);if(!xY){this.aM('set_debug',arguments);}}catch(e){this.ay('set_debug',e);throw e;}},get_debugErrorLevel:function(){try{var bN=this.AT();this.ck('get_debugErrorLevel',arguments,bN);return bN;}catch(e){this.ay('get_debugErrorLevel',e);throw e;}},set_debugErrorLevel:function(value){try{this.aM('set_debugErrorLevel',arguments);var xY=this.AT();this.Gd(value);if(xY<IPCC.Web.UI.DebugErrorLevel.Development){this.aM('set_debugErrorLevel',arguments);}}catch(e){this.ay('set_debugErrorLevel',e);throw e;}},get_artServiceOption:function(){try{var bN=this.WD();this.ck('get_artServiceOption',arguments,bN);return bN;}catch(e){this.ay('get_artServiceOption',e);throw e;}},set_artServiceOption:function(value){try{this.aM('set_artServiceOption',arguments);this.St(value);}catch(e){this.ay('set_artServiceOption',e);throw e;}},add_pageOpening:function(handler){try{this.WN(handler);}catch(e){this.ay('add_pageOpening',e);throw e;}},remove_pageOpening:function(handler){try{this.VE(handler);}catch(e){this.ay('remove_pageOpening',e);throw e;}},add_pageOpened:function(handler){try{this.Xl(handler);}catch(e){this.ay('add_pageOpened',e);throw e;}},remove_pageOpened:function(handler){try{this.Vz(handler);}catch(e){this.ay('remove_pageOpened',e);throw e;}},add_pageClosed:function(handler){try{this.awz(handler);}catch(e){this.ay('add_pageClosed',e);throw e;}},remove_pageClosed:function(handler){try{this.aCs(handler);}catch(e){this.ay('remove_pageClosed',e);throw e;}},add_pageOpenFailed:function(handler){try{this.GT(handler);}catch(e){this.ay('add_pageOpenFailed',e);throw e;}},remove_pageOpenFailed:function(handler){try{this.Ge(handler);}catch(e){this.ay('remove_pageOpenFailed',e);throw e;}},add_pageDisplayed:function(handler){try{this.XY(handler);}catch(e){this.ay('add_pageDisplayed',e);throw e;}},remove_pageDisplayed:function(handler){try{this.Vx(handler);}catch(e){this.ay('remove_pageDisplayed',e);throw e;}},add_mouseDown:function(handler){try{this.Pi(handler);}catch(e){this.ay('add_mouseDown',e);throw e;}},remove_mouseDown:function(handler){try{this.Uk(handler);}catch(e){this.ay('remove_mouseDown',e);throw e;}},add_mouseMove:function(handler){try{this.OY(handler);}catch(e){this.ay('add_mouseMove',e);throw e;}},remove_mouseMove:function(handler){try{this.UT(handler);}catch(e){this.ay('remove_mouseMove',e);throw e;}},add_mouseUp:function(handler){try{this.Qm(handler);}catch(e){this.ay('add_mouseUp',e);throw e;}},remove_mouseUp:function(handler){try{this.Vl(handler);}catch(e){this.ay('remove_mouseUp',e);throw e;}},add_contextMenu:function(handler){try{this.auG(handler);}catch(e){this.ay('add_contextMenu',e);throw e;}},remove_contextMenu:function(handler){try{this.aBx(handler);}catch(e){this.ay('remove_contextMenu',e);throw e;}},add_markAdded:function(handler){try{this.yW(handler);}catch(e){this.ay('add_markAdded',e);throw e;}},remove_markAdded:function(handler){try{this.zt(handler);}catch(e){this.ay('remove_markAdded',e);throw e;}},add_markCreating:function(handler){try{this.XS(handler);}catch(e){this.ay('add_markCreating',e);throw e;}},remove_markCreating:function(handler){try{this.VN(handler);}catch(e){this.ay('remove_markCreating',e);throw e;}},add_markChanged:function(handler){try{this.Hv(handler);}catch(e){this.ay('add_markChanged',e);throw e;}},remove_markChanged:function(handler){try{this.HU(handler);}catch(e){this.ay('remove_markChanged',e);throw e;}},add_markRemoved:function(handler){try{this.yh(handler);}catch(e){this.ay('add_markRemoved',e);throw e;}},remove_markRemoved:function(handler){try{this.Az(handler);}catch(e){this.ay('remove_markRemoved',e);throw e;}},add_markReordered:function(handler){try{this.Gx(handler);}catch(e){this.ay('add_markReordered',e);throw e;}},remove_markReordered:function(handler){try{this.Ir(handler);}catch(e){this.ay('remove_markReordered',e);throw e;}},add_marksLoaded:function(handler){try{this.Xc(handler);}catch(e){this.ay('add_marksLoaded',e);throw e;}},remove_marksLoaded:function(handler){try{this.Un(handler);}catch(e){this.ay('remove_marksLoaded',e);throw e;}},add_markSelectionChanged:function(handler){try{this.EY(handler);}catch(e){this.ay('add_markSelectionChanged',e);throw e;}},remove_markSelectionChanged:function(handler){try{this.Hq(handler);}catch(e){this.ay('remove_markSelectionChanged',e);throw e;}},add_selectTextMouseToolCompleted:function(handler){try{this.Ui(handler);}catch(e){this.ay('add_selectTextMouseToolCompleted',e);throw e;}},remove_selectTextMouseToolCompleted:function(handler){try{this.VW(handler);}catch(e){this.ay('remove_selectTextMouseToolCompleted',e);throw e;}},add_textPageReady:function(handler){try{this.Am(handler);}catch(e){this.ay('add_textPageReady',e);throw e;}},remove_textPageReady:function(handler){try{this.Eq(handler);}catch(e){this.ay('remove_textPageReady',e);throw e;}},add_exceptionThrown:function(handler){this.Xd(handler);},remove_exceptionThrown:function(handler){this.UU(handler);},add_scaleChanged:function(handler){try{this.Va(handler);}catch(e){this.ay('add_scaleChanged',e);throw e;}},remove_scaleChanged:function(handler){try{this.Vu(handler);}catch(e){this.ay('remove_scaleChanged',e);throw e;}},add_propertyChanged:function(handler){try{this.jK(handler);}catch(e){this.ay('add_propertyChanged',e);throw e;}},remove_propertyChanged:function(handler){try{this.lC(handler);}catch(e){this.ay('remove_propertyChanged',e);throw e;}},add_textExtractionFailed:function(handler){this.AI(handler);},remove_textExtractionFailed:function(handler){this.BU(handler);},writeToLog:function(message){try{this.lV(message);}catch(e){this.ay('writeToLog',e);throw e;}},fitPage:function(type){try{this.aM('fitPage',arguments);this.ZN(type);}catch(e){this.ay('fitPage',e);throw e;}},get_pageIsOpen:function(){try{var bN=this.fv();this.ck('get_pageIsOpen',arguments,bN);return bN;}catch(e){this.ay('get_pageIsOpen',e);throw e;}},get_pageWidth:function(){try{var bN=this.kE();this.ck('get_pageWidth',arguments,bN);return bN;}catch(e){this.ay('get_pageWidth',e);throw e;}},get_pageHeight:function(){try{var bN=this.hO();this.ck('get_pageHeight',arguments,bN);return bN;}catch(e){this.ay('get_pageHeight',e);throw e;}},get_pageXResolution:function(){try{var bN=this.asu();this.ck('get_pageXResolution',arguments,bN);return bN;}catch(e){this.ay('get_pageXResolution',e);throw e;}},get_pageYResolution:function(){try{var bN=this.arz();this.ck('get_pageYResolution',arguments,bN);return bN;}catch(e){this.ay('get_pageYResolution',e);throw e;}},get_documentIdentifier:function(){try{var bN=this.Ky();this.ck('get_documentIdentifier',arguments,bN);return bN;}catch(e){this.ay('get_documentIdentifier',e);throw e;}},get_encodedDocumentIdentifier:function(){try{var bN=this.PA();this.ck('get_encodedDocumentIdentifier',arguments,bN);return bN;}catch(e){this.ay('get_encodedDocumentIdentifier',e);throw e;}},get_pageNumber:function(){try{var bN=this.nJ();this.ck('get_pageNumber',arguments,bN);return bN;}catch(e){this.ay('get_pageNumber',e);throw e;}},get_documentPageCount:function(){try{var bN=this.auX();this.ck('get_documentPageCount',arguments,bN);return bN;}catch(e){this.ay('get_documentPageCount',e);throw e;}},get_displayedPageRectangle:function(){try{var bN=this.amJ();this.ck('get_displayedPageRectangle',arguments,bN);return bN;}catch(e){this.ay('get_displayedPageRectangle',e);throw e;}},get_currentState:function(){try{var bN=this.PO();this.ck('get_currentState',arguments,bN);return bN;}catch(e){this.ay('get_currentState',e);throw e;}},zoomIn:function(factor){try{this.aM('zoomIn',arguments);this.Qq(factor);}catch(e){this.ay('zoomIn',e);throw e;}},zoomOut:function(factor){try{this.aM('zoomOut',arguments);this.UD(factor);}catch(e){this.ay('zoomOut',e);throw e;}},set_sharpening:function(factor){try{this.aM('set_sharpening',arguments);this.EL(factor);}catch(e){this.ay('set_sharpening',e);throw e;}},set_gamma:function(factor){try{this.aM('set_gamma',arguments);this.CL(factor);}catch(e){this.ay('set_gamma',e);throw e;}},set_svgLineWidthMultiplier:function(factor){try{this.aM('set_svgLineWidthMultiplier',arguments);this.Gc(factor);}catch(e){this.ay('set_svgLineWidthMultiplier',e);throw e;}},zoom:function(factor){try{this.aM('zoom',arguments);this.jY(factor);}catch(e){this.ay('zoom',e);throw e;}},rotate:function(degreesClockwise){try{this.aM('rotate',arguments);this.xW(degreesClockwise);}catch(e){this.ay('rotate',e);throw e;}},showPageRectangle:function(imageRectangle){try{this.aM('showPageRectangle',arguments,1);this.aqV(imageRectangle);}catch(e){this.ay('showPageRectangle',e);throw e;}},showPagePointAtCenter:function(imagePoint){try{this.aM('showPagePointAtCenter',arguments,1);this.aqx(imagePoint);}catch(e){this.ay('showPagePointAtCenter',e);throw e;}},mirror:function(){try{this.aM('mirror',arguments);this.agu();}catch(e){this.ay('mirror',e);throw e;}},flip:function(){try{this.aM('flip',arguments);this.agH();}catch(e){this.ay('flip',e);throw e;}},display:function(){try{this.aM('display',arguments);this.cI();}catch(e){this.ay('display',e);throw e;}},openPage:function(parameters){try{this.aM('openPage',arguments,1);this.Mb(parameters);}catch(e){this.ay('openPage',e);throw e;}},closePage:function(){try{this.aM('closePage',arguments);this.Oo();}catch(e){this.ay('closePage',e);throw e;}},hideSelection:function(){try{this.aM('hideSelection',arguments);this.oG();}catch(e){this.ay('hideSelection',e);throw e;}},showSelection:function(imageRectangle){try{this.aM('showSelection',arguments);this.aqs(imageRectangle);}catch(e){this.ay('showSelection',e);throw e;}},showEmptySelection:function(imagePoint){try{this.aM('showEmptySelection',arguments);this.Cn(imagePoint);}catch(e){this.ay('showEmptySelection',e);throw e;}},extendSelection:function(imagePoint){try{this.aM('extendSelection',arguments);this.xA(imagePoint);}catch(e){this.ay('extendSelection',e);throw e;}},saveArtPage:function(onSave){try{this.aM('saveArtPage',arguments);this.Zq(onSave);}catch(e){this.ay('saveArtPage',e);throw e;}},get_selectionPageRectangle:function(){try{var bN=this.xa();this.ck('get_selectionPageRectangle',arguments,bN);return bN;}catch(e){this.ay('get_selectionPageRectangle',e);throw e;}},get_selectionWindowRectangle:function(){try{var bN=this.arW();this.ck('get_selectionWindowRectangle',arguments,bN);return bN;}catch(e){this.ay('get_selectionWindowRectangle',e);throw e;}},get_selectionIsVisible:function(){try{var bN=this.Ap();this.ck('get_selectionIsVisible',arguments,bN);return bN;}catch(e){this.ay('get_selectionIsVisible',e);throw e;}},get_controlStateElementId:function(){try{var bN=this.ato();this.ck('get_controlStateElementId',arguments,bN);return bN;}catch(e){this.ay('get_controlStateElementId',e);throw e;}},set_controlStateElementId:function(value){try{this.aM('set_controlStateElementId',arguments);this.aqQ(value);}catch(e){this.ay('set_controlStateElementId',e);throw e;}},get_includeArtInPostBack:function(){try{var bN=this.atX();this.ck('get_includeArtInPostBack',arguments,bN);return bN;}catch(e){this.ay('get_includeArtInPostBack',e);throw e;}},set_includeArtInPostBack:function(value){try{this.aM('set_includeArtInPostBack',arguments);this.apR(value);}catch(e){this.ay('set_includeArtInPostBack',e);throw e;}},get_artPage:function(){try{var bN=this.dV();this.ck('get_artPage',arguments,bN);return bN;}catch(e){this.ay('get_artPage',e);throw e;}},set_artPage:function(value){try{this.aM('set_artPage',arguments);this.me(value);}catch(e){this.ay('set_artPage',e);throw e;}},get_documentArtPage:function(){try{var bN=this.Pl();this.ck('get_documentArtPage',arguments,bN);return bN;}catch(e){this.ay('get_documentArtPage',e);throw e;}},set_documentArtPage:function(value){try{this.aM('set_documentArtPage',arguments);this.Fb(value);}catch(e){this.ay('set_documentArtPage',e);throw e;}},get_transientArtPage:function(){try{var bN=this.nm();this.ck('get_transientArtPage',arguments,bN);return bN;}catch(e){this.ay('get_transientArtPage',e);throw e;}},set_transientArtPage:function(value){try{this.aM('set_transientArtPage',arguments);this.AW(value);}catch(e){this.ay('set_transientArtPage',e);throw e;}},get_imageHandlerUrl:function(){try{var bN=this.uR();this.ck('get_imageHandlerUrl',arguments,bN);return bN;}catch(e){this.ay('get_imageHandlerUrl',e);throw e;}},set_imageHandlerUrl:function(value){try{this.aM('set_imageHandlerUrl',arguments);this.VJ(value);}catch(e){this.ay('set_imageHandlerUrl',e);throw e;}},get_resourcePath:function(){try{var bN=this.wG();this.ck('get_resourcePath',arguments,bN);return bN;}catch(e){this.ay('get_resourcePath',e);throw e;}},set_resourcePath:function(T){try{this.aM('set_resourcePath',arguments);this.HG(T);}catch(e){this.ay('set_resourcePath',e);throw e;}},get_contextMenuLanguageDictionary:function(){try{var bN=this.ix();this.ck('get_contextMenuLanguageDictionary',arguments,bN);return bN;}catch(e){this.ay('get_contextMenuLanguageDictionary',e);throw e;}},set_contextMenuLanguageDictionary:function(T){try{this.aM('set_contextMenuLanguageDictionary',arguments);this.apy(T);}catch(e){this.ay('set_contextMenuLanguageDictionary',e);throw e;}},get_textRequired:function(){try{var bN=this.lf();this.ck('get_textRequired',arguments,bN);return bN;}catch(e){this.ay('get_textRequired',e);throw e;}},set_textRequired:function(T){try{this.aM('set_textRequired',arguments);this.Jq(T);}catch(e){this.ay('set_textRequired',e);throw e;}},get_textPage:function(){try{var bN=this.dF();this.ck('get_textPage',arguments,bN);return bN;}catch(e){this.ay('get_textPage',e);throw e;}},get_textSelectionIsVisible:function(){try{var bN=this.FD();this.CU('textSelectionIsVisible',arguments,bN,1);return bN;}catch(e){this.ay('textSelectionIsVisible',e);throw e;}},getSelectedText:function(){try{var bN=this.Dn();this.CU('getSelectedText',arguments,bN,1);return bN;}catch(e){this.ay('getSelectedText',e);throw e;}},get_requireRequestsOptimize:function(){try{var bN=this.zP();this.ck('get_requireRequestsOptimize',arguments,bN);return bN;}catch(e){this.ay('zP',e);throw e;}},set_requireRequestsOptimize:function(value){try{this.aM('set_requireRequestsOptimize',arguments);this.Ix(value);}catch(e){this.ay('set_requireRequestsOptimize',e);throw e;}},get_magnifierMagnification:function(){try{var bN=this.atq();this.ck('get_magnifierMagnification',arguments,bN);return bN;}catch(e){this.ay('get_magnifierMagnification',e);throw e;}},set_magnifierMagnification:function(value){try{this.aM('set_magnifierMagnification',arguments);this.ape(value);}catch(e){this.ay('set_magnifierMagnification',e);throw e;}},get_magnifierWidth:function(){try{var bN=this.auh();this.ck('get_magnifierWidth',arguments,bN);return bN;}catch(e){this.ay('get_magnifierWidth',e);throw e;}},set_magnifierWidth:function(value){try{this.aM('set_magnifierWidth',arguments);this.anW(value);}catch(e){this.ay('set_magnifierWidth',e);throw e;}},get_magnifierHeight:function(){try{var bN=this.aum();this.ck('get_magnifierHeight',arguments,bN);return bN;}catch(e){this.ay('get_magnifierHeight',e);throw e;}},set_magnifierHeight:function(value){try{this.aM('set_magnifierHeight',arguments);this.anE(value);}catch(e){this.ay('set_magnifierHeight',e);throw e;}},get_magnifierXOffset:function(){try{var bN=this.OZ();this.ck('get_magnifierXOffset',arguments,bN);return bN;}catch(e){this.ay('get_magnifierXOffset',e);throw e;}},set_magnifierXOffset:function(value){try{this.aM('set_magnifierXOffset',arguments);this.WG(value);}catch(e){this.ay('set_magnifierXOffset',e);throw e;}},get_magnifierYOffset:function(){try{var bN=this.PH();this.ck('get_magnifierYOffset',arguments,bN);return bN;}catch(e){this.ay('get_magnifierYOffset',e);throw e;}},set_magnifierYOffset:function(value){try{this.aM('set_magnifierYOffset',arguments);this.XA(value);}catch(e){this.ay('set_magnifierYOffset',e);throw e;}},showMagnifier:function(windowPoint){try{this.aM('showMagnifier',arguments,1);this.apO(windowPoint);}catch(e){this.ay('showMagnifier',e);throw e;}},hideMagnifier:function(){try{this.aM('hideMagnifier',arguments);this.aDm();}catch(e){this.ay('hideMagnifier',e);throw e;}},get_markHandleSize:function(){try{var bN=this.YH();this.ck('get_markHandleSize',arguments,bN);return bN;}catch(e){this.ay('get_markHandleSize',e);throw e;}},set_markHandleSize:function(value){try{this.aM('set_markHandleSize',arguments);this.XK(value);}catch(e){this.ay('set_markHandleSize',e);throw e;}},get_markHandleMode:function(){try{var bN=this.zS();this.ck('get_markHandleMode',arguments,bN);return bN;}catch(e){this.ay('get_markHandleMode',e);throw e;}},set_markHandleMode:function(value){try{this.aM('set_markHandleMode',arguments);this.Kk(value);}catch(e){this.ay('set_markHandleMode',e);throw e;}},get_mouseTool:function(){try{var bN=this.Yr();this.ck('get_mouseTool',arguments,bN);return bN;}catch(e){this.ay('get_mouseTool',e);throw e;}},set_mouseTool:function(value){try{this.aM('set_mouseTool',arguments);this.Il(value);}catch(e){this.ay('set_mouseTool',e);throw e;}},get_presentationQuality:function(){try{var bN=this.asB();this.ck('get_presentationQuality',arguments,bN);return bN;}catch(e){this.ay('get_presentationQuality',e);throw e;}},set_presentationQuality:function(value){try{this.aM('set_presentationQuality',arguments);this.aox(value);}catch(e){this.ay('set_presentationQuality',e);throw e;}},get_scrollBars:function(){try{var bN=this.asj();this.ck('get_scrollBars',arguments,bN);return bN;}catch(e){this.ay('get_scrollBars',e);throw e;}},set_scrollBars:function(value){try{this.aM('set_scrollBars',arguments);this.apS(value);}catch(e){this.ay('set_scrollBars',e);throw e;}},get_imGearPage:function(){try{var bN=this.mR();this.ck('get_imGearPage',arguments,bN);return bN;}catch(e){this.ay('get_imGearPage',e);throw e;}},set_imGearPage:function(value){try{this.aM('set_imGearPage',arguments);this.Cv(value);}catch(e){this.ay('set_imGearPage',e);throw e;}},get_serviceResponseTimeout:function(){try{var bN=this.jO();this.ck('get_serviceResponseTimeout',arguments,bN);return bN;}catch(e){this.ay('get_serviceResponseTimeout',e);throw e;}},set_serviceResponseTimeout:function(value){try{this.aM('set_serviceResponseTimeout',arguments);this.ya(value);}catch(e){this.ay('set_serviceResponseTimeout',e);throw e;}},get_currentTextIndex:function(){try{var bN=this.Ee();this.ck('get_currentTextIndex',arguments,bN);return bN;}catch(e){this.ay('get_currentTextIndex',e);throw e;}},get_cursor:function(){try{var bN=this.auc();this.ck('get_cursor',arguments,bN);return bN;}catch(e){this.ay('get_cursor',e);throw e;}},set_cursor:function(value){try{this.aM('set_cursor',arguments);this.aqP(value);}catch(e){this.ay('set_cursor',e);throw e;}},get_encryption:function(){try{var bN=this.ja();this.ck('get_encryption',arguments,bN);return bN;}catch(e){this.ay('get_encryption',e);throw e;}},set_encryption:function(value){try{this.aM('set_encryption',arguments);this.lU(value);}catch(e){this.ay('set_encryption',e);throw e;}},transformPagePointToWindow:function(imagePoint,constrainResultToWindow){try{var bN=this.aoq(imagePoint,constrainResultToWindow);this.CU('transformPagePointToWindow',arguments,bN,1);return bN;}catch(e){this.ay('transformPagePointToWindow',e);throw e;}},transformWindowPointToPage:function(windowPoint,constrainResultToImage){try{var bN=this.Nl(windowPoint,constrainResultToImage);this.CU('transformWindowPointToPage',arguments,bN,1);return bN;}catch(e){this.ay('transformWindowPointToPage',e);throw e;}},transformPagePointToTextIndex:function(pagePoint){try{var bN=this.GC(pagePoint);this.CU('transformPagePointToTextIndex',arguments,bN,1);return bN;}catch(e){this.ay('transformPagePointToTextIndex',e);throw e;}},removeAllHighlights:function(){try{this.aM('removeAllHighlights',arguments);this.Vd();}catch(e){this.ay('removeAllHighlights',e);throw e;}},showTextSelection:function(indexOfFirstCharacter,length){try{this.aM('showTextSelection',arguments);this.MC(indexOfFirstCharacter,length);}catch(e){this.ay('showTextSelection',e);throw e;}},showEmptyTextSelection:function(textIndex){try{this.aM('showEmptyTextSelection',arguments);this.zl(textIndex);}catch(e){this.ay('showEmptyTextSelection',e);throw e;}},extendTextSelection:function(textIndex){try{this.aM('extendTextSelection',arguments);this.uw(textIndex);}catch(e){this.ay('extendTextSelection',e);throw e;}},initializeViewControllers:function(showArtContextMenu){try{this.aM('initializeViewControllers',arguments);this.ari(showArtContextMenu);}catch(e){this.ay('initializeViewControllers',e);throw e;}},get_autoUpdate:function(){try{var bN=this.Ar();this.ck('get_autoUpdate',arguments,bN);return bN;}catch(e){this.ay('get_autoUpdate',e);throw e;}},set_autoUpdate:function(value){try{this.aM('set_autoUpdate',arguments);this.SA(value);}catch(e){this.ay('set_autoUpdate',e);throw e;}}};module.exports=alA;},{}],115:[function(require,module,exports){var ci=require('../../IPCC.Util').regClass;var pl=require('./FitType');var LX=function(){return this;};LX.prototype={documentIdentifier:'',encodedDocumentIdentifier:'',pageNumber:0,viewFitType:pl.FullImage,viewRectangle:null,viewRotationDegreesClockwise:0,viewMirror:false,viewZoomFactor:undefined,encryption:false};LX.registerClass=ci;LX.registerClass('IPCC.Web.UI.PageViewState');module.exports=LX;},{"../../IPCC.Util":29,"./FitType":75}],116:[function(require,module,exports){var ci=require('../../IPCC.Util').regClass;var vs=function(x,y){this.x=x;this.y=y;return this;};vs.prototype={toString:function(){return 'Point('+this.x+', '+this.y+')';},constrain:function(rectangle){this.x=Math.min(Math.max(this.x,rectangle.x),rectangle.x+rectangle.width);this.y=Math.min(Math.max(this.y,rectangle.y),rectangle.y+rectangle.height);}};vs.registerClass=ci;vs.registerClass('IPCC.Web.UI.Point');module.exports=vs;},{"../../IPCC.Util":29}],117:[function(require,module,exports){var ci=require('../../IPCC.Util').regClass;var Mx=function(){var aY=[];var be=new IPCC.Web.UI.gv();this.auW=function(aX){var F=new IPCC.Web.UI.PointEventArgs();F.point=aX;F.length=1;aY.push(new IPCC.Web.UI.Point(aX.x,aX.y));F.index=aY.length-1;this.ae('pointAdded',F);};this.auO=function(acs){var F=new IPCC.Web.UI.PointEventArgs();F.index=aY.length;F.length=acs.get_length();function ka(aX){aY.push(aX);};acs.forEach(ka,{});if(F.length>0){this.ae('pointAdded',F);}};this.jX=function(iA,dJ){var Yu=[].concat(aY);var h;for(h=0;h<Yu.length;h++){iA.call(dJ,new IPCC.Web.UI.Point(Yu[h].x,Yu[h].y),h,this);}};this.xp=function(bp){kF(bp);var ey=aY[bp];return new IPCC.Web.UI.Point(ey.x,ey.y);};this.aqo=function(bp,aX){kF(bp);IPCC.bC.aX(aX,'point');var LG=aY[bp];if(LG.x===aX.x&&LG.y===aX.y){return;}LG.x=aX.x;LG.y=aX.y;var F=new IPCC.Web.UI.PointEventArgs();F.point=aX;F.index=bp;F.length=1;this.ae('pointChanged',F);};this.ec=function(){return aY.length;};this.azo=function(bp){kF(bp);var F=new IPCC.Web.UI.PointEventArgs();F.point=aY[bp];F.index=bp;F.length=1;aY.splice(bp,1);this.ae('pointRemoved',F);};this.aBs=function(){if(aY.length<1){return;}var F=new IPCC.Web.UI.PointEventArgs();F.index=0;F.length=aY.length;aY=[];this.ae('pointRemoved',F);};this.aeN=function(eg,dU){if(eg===0&&dU===0){return;}IPCC.bC.jl(eg,'deltaX');IPCC.bC.jl(dU,'deltaY');var h;for(h=0;h<aY.length;h++){aY[h].x+=eg;aY[h].y+=dU;}var F=new IPCC.Web.UI.PointEventArgs();F.index=0;F.length=aY.length;this.ae('pointChanged',F);};this.tC=function(){if(aY.length<1){return new IPCC.Web.UI.Rectangle(0,0,0,0);}var h,gP=aY[0].x,hV=aY[0].x,_top=aY[0].y,kw=aY[0].y;for(h=1;h<aY.length;h++){var aX=aY[h];gP=Math.min(gP,aX.x);hV=Math.max(hV,aX.x);_top=Math.min(_top,aX.y);kw=Math.max(kw,aX.y);}return new IPCC.Web.UI.Rectangle(gP,_top,hV-gP,kw-_top);};function kF(bp){if(bp>aY.length-1||(bp<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bp);}};this.avT=function(G){be.addHandler('pointAdded',G);};this.aCl=function(G){be.removeHandler('pointAdded',G);};this.avr=function(G){be.addHandler('pointChanged',G);};this.aBC=function(G){be.removeHandler('pointChanged',G);};this.awV=function(G){be.addHandler('pointRemoved',G);};this.aCn=function(G){be.removeHandler('pointRemoved',G);};this.ae=function(dE,F){var G=be.getHandler(dE);if(G!==null){G(this,F);}};return this;};Mx.prototype={toString:function(){return 'PointCollection with '+this.get_length()+' points';},addPoint:function(point){this.auW(point);},addPoints:function(pointCollection){this.auO(pointCollection);},forEach:function(method,context){this.jX(method,context);},getPoint:function(index){return this.xp(index);},setPoint:function(index,point){this.aqo(index,point);},get_length:function(){return this.ec();},removePoint:function(index){this.azo(index);},removeAllPoints:function(){this.aBs();},moveAllPoints:function(deltaX,deltaY){this.aeN(deltaX,deltaY);},add_pointAdded:function(handler){this.avT(handler);},remove_pointAdded:function(handler){this.aCl(handler);},add_pointChanged:function(handler){this.avr(handler);},remove_pointChanged:function(handler){this.aBC(handler);},add_pointRemoved:function(handler){this.awV(handler);},remove_pointRemoved:function(handler){this.aCn(handler);}};Mx.registerClass=ci;Mx.registerClass('IPCC.Web.UI.PointCollection');module.exports=Mx;},{"../../IPCC.Util":29}],118:[function(require,module,exports){var ci=require('../../IPCC.Util').regClass;var Mk=function(){return this;};Mk.registerClass=ci;Mk.prototype={};Mk.registerClass('IPCC.Web.UI.PointEventArgs');module.exports=Mk;},{"../../IPCC.Util":29}],119:[function(require,module,exports){var ci=require('../../IPCC.Util').regClass;var Mf=function(x,y,width,height){if(width<0){x+=width;width= -width;}if(height<0){y+=height;height= -height;}this.x=x;this.y=y;this.width=width;this.height=height;return this;};Mf.prototype={intersect:function(rectangle){var bf=Math.max(this.x,rectangle.x);var aK=Math.min(this.x+this.width,rectangle.x+rectangle.width)-bf;var dB=Math.max(this.y,rectangle.y);var an=Math.min(this.y+this.height,rectangle.y+rectangle.height)-dB;if(aK<=0||an<=0){bf=dB=aK=an=0;}this.x=bf;this.y=dB;this.width=aK;this.height=an;},union:function(rectangle){var gP=Math.min(this.x,rectangle.x);var _top=Math.min(this.y,rectangle.y);var hV=Math.max(this.x+this.width,rectangle.x+rectangle.width);var kw=Math.max(this.y+this.height,rectangle.y+rectangle.height);this.x=gP;this.y=_top;this.width=hV-gP;this.height=kw-_top;return this;},scale:function(VQ,PN){PN=PN||VQ;var gP=this.x*VQ;var _top=this.y*PN;var aK=this.width*VQ;var an=this.height*PN;this.x=gP;this.y=_top;this.width=aK;this.height=an;return this;},toString:function(){return 'Rectangle('+this.x+', '+this.y+', '+this.width+', '+this.height+')';},contains:function(point){return point.x>=this.x&&point.y>=this.y&&point.x<this.x+this.width&&point.y<this.y+this.height;},clone:function(){return new IPCC.Web.UI.Rectangle(this.x,this.y,this.width,this.height);},equals:function(other){return this.x===other.x&&this.y===other.y&&this.width===other.width&&this.height===other.height;}};Mf.registerClass=ci;Mf.registerClass('IPCC.Web.UI.Rectangle');module.exports=Mf;},{"../../IPCC.Util":29}],120:[function(require,module,exports){var de=require('../../IPCC.Util').regEnum;var Pb=function(){};Pb.registerEnum=de;Pb.prototype={None:0,Both:3,Auto:4};Pb.registerEnum('IPCC.Web.UI.ScrollBars',false);module.exports=Pb;},{"../../IPCC.Util":29}],121:[function(require,module,exports){var ci=require('../../IPCC.Util').regClass;var Sa=function(){return this;};Sa.registerClass=ci;Sa.prototype={};Sa.registerClass('IPCC.Web.UI.TextSelectedEventArgs');module.exports=Sa;},{"../../IPCC.Util":29}],122:[function(require,module,exports){var zA=require('./../../Type');var So={aGC:1,ImGearDocumentHyperlink:require('./ImGearDocumentHyperlink'),ImGearTextCharacter:require('./ImGearTextCharacter'),ImGearTextCharacterCollection:require('./ImGearTextCharacterCollection'),ImGearHyperlinkCollection:require('./ImGearHyperlinkCollection'),ImGearHyperlinkPage:require('./ImGearHyperlinkPage'),ImGearTextPage:require('./ImGearTextPage'),ImGearTextSection:require('./ImGearTextSection'),ImGearTextSectionCollection:require('./ImGearTextSectionCollection'),ImGearPageCountStatus:require('./ImGearPageCountStatus'),ImGearPageCreateArgs:require('./ImGearPageCreateArgs'),ImGearPage:require('./ImGearPage'),ImGearPageEventArgs:require('./ImGearPageEventArgs'),ImGearPageCollection:require('./ImGearPageCollection'),ImGearDocumentCreateArgs:require('./ImGearDocumentCreateArgs'),ImGearDocument:require('./ImGearDocument'),ImGearDocumentEventArgs:require('./ImGearDocumentEventArgs'),ImGearDocumentCollection:require('./ImGearDocumentCollection'),ImGearPageOpenFailedEventArgs:require('./ImGearPageOpenFailedEventArgs'),ImGearExceptions:require('./ImGearExceptions'),ImGearException:require('./ImGearExceptions').BA,ImGearHttpException:require('./ImGearExceptions').BK,ImGearArgumentException:require('./ImGearExceptions').tY,ImGearArgumentNullException:require('./ImGearExceptions').Ep,ImGearArgumentOutOfRangeException:require('./ImGearExceptions').sm,ImGearArgumentTypeException:require('./ImGearExceptions').ImGearArgumentTypeException,ImGearArgumentUndefinedException:require('./ImGearExceptions').Cj,ImGearInvalidOperationException:require('./ImGearExceptions').DP,ImGearNotImplementedException:require('./ImGearExceptions').Dg,ImGearParameterCountException:require('./ImGearExceptions').Dv,gv:require('./ImGearEventHandlerList'),ImGearArtDataServices:require('./ImGearArtDataServices'),MouseButton:require('./MouseButton'),MouseTool:require('./MouseTool'),bI:require('./DomEvent'),DebugErrorLevel:require('./DebugErrorLevel'),DebugItemCause:require('./DebugItemCause'),PageView:require('./PageView'),PageViewState:require('./PageViewState'),ArtPage:require('./ArtPage'),Key:require('./Key'),FitType:require('./FitType'),ScrollBars:require('./ScrollBars'),Rectangle:require('./Rectangle'),Point:require('./Point'),PointCollection:require('./PointCollection'),LogItemEventArgs:require('./LogItemEventArgs'),MouseEventArgs:require('./MouseEventArgs'),PointEventArgs:require('./PointEventArgs'),CommentEventArgs:require('./CommentEventArgs'),TextSelectedEventArgs:require('./TextSelectedEventArgs'),HighLightType:require('./HighLightType'),LineStyle:require('./LineStyle'),LineHeadType:require('./LineHeadType'),CalloutType:require('./CalloutType'),FontStyle:require('./FontStyle'),HorizontalAlignment:require('./HorizontalAlignment'),VerticalAlignment:require('./VerticalAlignment'),Orientation:require('./Orientation'),MarkHandleMode:require('./MarkHandleMode'),MarkInteractionMode:require('./MarkInteractionMode'),MarkType:require('./MarkType'),MarkEventArgs:require('./MarkEventArgs'),MarkCollection:require('./MarkCollection'),Mark:require('./Mark'),Comment:require('./Comment'),Conversation:require('./Conversation'),Data:require('./Data'),Yc:require('./highlightItem')};zA.registerNamespace('IPCC.Web.UI');module.exports=So;},{"./../../Type":57,"./ArtPage":66,"./CalloutType":67,"./Comment":68,"./CommentEventArgs":69,"./Conversation":70,"./Data":71,"./DebugErrorLevel":72,"./DebugItemCause":73,"./DomEvent":74,"./FitType":75,"./FontStyle":76,"./HighLightType":77,"./HorizontalAlignment":78,"./ImGearArtDataServices":79,"./ImGearDocument":80,"./ImGearDocumentCollection":81,"./ImGearDocumentCreateArgs":82,"./ImGearDocumentEventArgs":83,"./ImGearDocumentHyperlink":84,"./ImGearEventHandlerList":85,"./ImGearExceptions":86,"./ImGearHyperlinkCollection":87,"./ImGearHyperlinkPage":88,"./ImGearPage":89,"./ImGearPageCollection":90,"./ImGearPageCountStatus":91,"./ImGearPageCreateArgs":92,"./ImGearPageEventArgs":93,"./ImGearPageOpenFailedEventArgs":94,"./ImGearTextCharacter":95,"./ImGearTextCharacterCollection":96,"./ImGearTextPage":97,"./ImGearTextSection":98,"./ImGearTextSectionCollection":99,"./Key":100,"./LineHeadType":101,"./LineStyle":102,"./LogItemEventArgs":103,"./Mark":104,"./MarkCollection":105,"./MarkEventArgs":106,"./MarkHandleMode":107,"./MarkInteractionMode":108,"./MarkType":109,"./MouseButton":110,"./MouseEventArgs":111,"./MouseTool":112,"./Orientation":113,"./PageView":114,"./PageViewState":115,"./Point":116,"./PointCollection":117,"./PointEventArgs":118,"./Rectangle":119,"./ScrollBars":120,"./TextSelectedEventArgs":121,"./VerticalAlignment":123,"./highlightItem":124}],123:[function(require,module,exports){var de=require('../../IPCC.Util').regEnum;var Oc=function(){};Oc.registerEnum=de;Oc.prototype={Top:0,Center:1,Bottom:2};Oc.registerEnum('IPCC.Web.UI.VerticalAlignment',false);module.exports=Oc;},{"../../IPCC.Util":29}],124:[function(require,module,exports){var Yc=function(){this.fF=undefined;this.cq=[];this.bH={};};module.exports=Yc;},{}],125:[function(require,module,exports){var So=require('././UI/UI');var C=require('./../IPCC.Util');var zo=require('./Cipher');var aDc=require('./Hash');var hA=require('./Codec');var BL=require('./Mode');var fY={};fY.aEm=[];fY.yp=function(bf){return!isNaN(bf-0)&&bf!==null;};fY.zU=function(tf,cR){return IPCC.Web.ajT(false,arguments);};fY.amP=function(tf,cR){return IPCC.Web.ajT(true,arguments);};fY.ajT=function(useLocale,cR){var aE='';var tf=cR[0];for(var h=0;;){var ff=tf.indexOf('{',h);var yK=tf.indexOf('}',h);if((ff<0)&&(yK<0)){aE+=tf.slice(h);break;}if((yK>0)&&((yK<ff)||(ff<0))){if(tf.charAt(close+1)!=='}'){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string contains an unmatched opening or closing brace.');}aE+=tf.slice(h,yK+1);h=yK+2;continue;}aE+=tf.slice(h,ff);h=ff+1;if(tf.charAt(h)==='{'){aE+='{';h++;continue;}if(yK<0){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string contains an unmatched opening or closing brace.');}var OO=tf.substring(h,yK);var Nr=OO.indexOf(':');var amM=parseInt((Nr<0)?OO:OO.substring(0,Nr),10)+1;if(isNaN(amM)){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string is invalid.');}var Wz=(Nr<0)?'':OO.substring(Nr+1);var rv=cR[amM];if(typeof(rv)==="undefined"||rv===null){rv='';}if(rv.toFormattedString){aE+=rv.toFormattedString(Wz);}else if(useLocale&&rv.amP){aE+=rv.amP(Wz);}else if(rv.format){aE+=rv.format(Wz);}else{aE+=rv.toString();}h=yK+1;}return aE;};fY.aIs=function(Ci){var qP=Ci.length;var wd=Math.ceil(qP/4),IH;var er=[];er.length=wd;for(var la=0,fZ=0;la<wd;la++,fZ+=4){er[la]=((Ci[fZ]&0xff)<<24)+((Ci[fZ+1]&0xff)<<16)+((Ci[fZ+2]&0xff)<<8)+(Ci[fZ+3]&0xff);}if(fZ<qP){IH[la]=0;for(var yE=0;fZ<qP;fZ++,yE++){IH[la]+=(Ci[fZ++]&0xff)<<(3-yE);}}return er;};fY.aoC=function(bo){var qP=bo.length;var wd=Math.ceil(qP/4);var er=[];er.length=wd;for(var la=0,fZ=0;la<wd;la++,fZ+=4){er[la]=((bo.charCodeAt(fZ)&0xff)<<24)+((bo.charCodeAt(fZ+1)&0xff)<<16)+((bo.charCodeAt(fZ+2)&0xff)<<8)+((bo.charCodeAt(fZ+3)&0xff));}if(fZ<qP){er[la]=0;for(var yE=0;fZ<qP;fZ++,yE++){er[la]+=(bo.charCodeAt(fZ++)&0xff)<<(3-yE);}}return er;};fY.aIk=function(zY){var Bg=new Uint8Array(zY);var qP=Bg.length;var wd=Math.ceil(qP/4),IH;var er=[];er.length=wd;for(var la=0,fZ=0;la<wd;la++,fZ+=4){er[la]=(Bg[fZ]<<24)+(Bg[fZ+1]<<16)+(Bg[fZ+2]<<8)+Bg[fZ+3];}if(fZ<qP){er[la]=0;for(var yE=0;fZ<qP;fZ++,yE++){IH[la]+=Bg[fZ++]<<(3-yE);}}return er;};fY.Hx=function(er,jD){var aV=[0x116D0662,0xA8BB5E38,0x4D7F93C8,0xA61D2F6B,0xADB1384D,0x3D4AC7FB,0x4E6EB64E,0x6F4D7E8F];return IPCC.Web.DU(er,aV,jD);};fY.DU=function(er,aV,jD){try{var auQ=new IPCC.Web.zo.amS(aV);var bX=IPCC.Web.BL.ayS.Qt(auQ,er,jD);return bX;}catch(ar){return;}};fY.Fm=function(FH){return IPCC.Web.aoC(FH.responseText);};fY.OM=function(){var BW=new Date();var aDL=new Date(BW.getYear(),BW.getMonth(),BW.getDate(),BW.getHours(),BW.getMinutes(),BW.getSeconds());return(+aDL);};fY.iE=function(dp,elt){var len=dp.length>>>0;var from=Number(arguments[2])||0;from=(from<0)?Math.ceil(from):Math.floor(from);if(from<0){from+=len;}for(;from<len;from++){if(from in dp&&dp[from]===elt){return from;}}return-1;};fY.aFo=function aFG(){var ly=0xefc8249d;var rw=function(bX){bX=bX.toString();for(var h=0;h<bX.length;h++){ly+=bX.charCodeAt(h);var fo=0.02519603282416938*ly;ly=fo>>>0;fo-=ly;fo*=ly;ly=fo>>>0;fo-=ly;ly+=fo*0x100000000;}return(ly>>>0)*2.3283064365386963e-10;};rw.Ah='Mash 0.9';return rw;};fY.amW=function aFM(){return(function(cR){var DK=0;var Gl=0;var xQ=0;var ea=1;if(cR.length===0){cR=[+new Date()];}var rw=IPCC.Web.aFo();DK=rw(' ');Gl=rw(' ');xQ=rw(' ');for(var h=0;h<cR.length;h++){DK-=rw(cR[h]);if(DK<0){DK+=1;}Gl-=rw(cR[h]);if(Gl<0){Gl+=1;}xQ-=rw(cR[h]);if(xQ<0){xQ+=1;}}rw=null;var xq=function(){var pD=2091639*DK+ea*2.3283064365386963e-10;DK=Gl;Gl=xQ;xQ=pD-(ea=pD|0);return xQ;};xq.agw=function(){return xq()*0x100000000;};xq.aHJ=function(){return xq()+(xq()*0x200000|0)*1.1102230246251565e-16;};xq.Ah='Alea 0.9';xq.cR=cR;return xq;}(Array.prototype.slice.call(arguments)));};fY.oM=function(){if(this.ane===undefined){var xh=document.createElement("div");xh.style.overflow='scroll';xh.style.position='absolute';xh.style.top='-9999px';document.body.appendChild(xh);this.ane=xh.offsetWidth-xh.clientWidth;document.body.removeChild(xh);}return this.ane;};fY.FU={acV:function(ho){var Gk=[];var YZ=IPCC.Web.amW().agw;for(var h=0;h<ho;h++){Gk.push(YZ());}return Gk;},aav:function(ho,fL){var Gk=[];var YZ=IPCC.Web.amW(fL).agw;for(var h=0;h<ho;h++){Gk.push(YZ());}return Gk;},aHI:function(jD,aDo){var ho,jv=true,fE="",Jo,aaY,ZG,OB,Nu,akx;for(ho=0;ho<4;ho++){if(!jv){fE+='-';}else{jv=false;}Nu=0;for(Jo=0;Jo<4;Jo++){OB=ho*32+Jo*8;aaY=IPCC.Web.gO.YF(jD,OB,4);fE+=aaY.toString(16).toUpperCase();ZG=IPCC.Web.gO.YF(jD,OB+4,4);fE+=ZG.toString(16).toUpperCase();akx=(aaY*16+ZG+IPCC.Web.gO.YF(IPCC.Web.aV,OB,8))%256;Nu=Nu|(akx<<(24-(Jo*8)));}aDo.aEm[ho]=Nu;}return fE;}};fY.aV=[0x4B1C9AAE,0x25AE1AB6,0x48E3F1C8,0x8D61FC1A];fY.gO={Ru:function(dA,sk,aix){dA=IPCC.Web.gO.aiq(dA.slice(sk/32),32-(sk&31)).slice(1);return(aix===undefined)?dA:IPCC.Web.gO.NV(dA,aix-sk);},YF:function(dA,sk,Rs){var bf,SS=Math.floor((-sk-Rs)&31);if((sk+Rs-1^sk)& -32){bf=(dA[sk/32|0]<<(32-SS))^(dA[sk/32+1|0]>>>SS);}else{bf=dA[sk/32|0]>>>SS;}return bf&((1<<Rs)-1);},SY:function(xl,uk){if(xl.length===0||uk.length===0){return xl.concat(uk);}var lk=xl[xl.length-1],sS=IPCC.Web.gO.aan(lk);if(sS===32){return xl.concat(uk);}else{return IPCC.Web.gO.aiq(uk,sS,lk|0,xl.slice(0,xl.length-1));}},uE:function(dA){var qa=dA.length,bf;if(qa===0){return 0;}bf=dA[qa-1];return(qa-1)*32+IPCC.Web.gO.aan(bf);},NV:function(dA,cg){if(dA.length*32<cg){return dA;}dA=dA.slice(0,Math.ceil(cg/32));var qa=dA.length;cg=cg&31;if(qa>0&&cg){dA[qa-1]=IPCC.Web.gO.JO(cg,dA[qa-1]&0x80000000>>(cg-1),1);}return dA;},JO:function(cg,bf,fa){if(cg===32){return bf;}return(fa?bf|0:bf<<(32-cg))+cg*0x10000000000;},aan:function(bf){return Math.round(bf/0x10000000000)||32;},aqv:function(dA,eE){if(IPCC.Web.gO.uE(dA)!==IPCC.Web.gO.uE(eE)){return false;}var bf=0,h;for(h=0;h<dA.length;h++){bf|=dA[h]^eE[h];}return(bf===0);},aiq:function(dA,sS,GB,fE){var h,adp=0,Ud;if(fE===undefined){fE=[];}for(;sS>=32;sS-=32){fE.push(GB);GB=0;}if(sS===0){return fE.concat(dA);}for(h=0;h<dA.length;h++){fE.push(GB|dA[h]>>>sS);GB=dA[h]<<(32-sS);}adp=dA.length?dA[dA.length-1]:0;Ud=IPCC.Web.gO.aan(adp);fE.push(IPCC.Web.gO.JO(sS+Ud&31,(sS+Ud>32)?GB:fE.pop(),1));return fE;},afQ:function(bf,dB){return[bf[0]^dB[0],bf[1]^dB[1],bf[2]^dB[2],bf[3]^dB[3]];}};fY.zo=zo;fY.qr=aDc;fY.hA=hA;fY.BL=BL;fY.afH=C.afH;fY.UI=So;fY.regEnum=C.regEnum;fY.regClass=C.regClass;module.exports=fY;},{"./../IPCC.Util":29,"././UI/UI":122,"./Cipher":62,"./Codec":63,"./Hash":64,"./Mode":65}],126:[function(require,module,exports){var Yh=function ImageGearIndexOf(array,item,start){if(typeof(item)==="undefined"){return-1;}var length=array.length;if(length!==0){start=start-0;if(isNaN(start)){start=0;}else{if(isFinite(start)){start=start-(start%1);}if(start<0){start=Math.max(0,length+start);}}for(var i=start;i<length;i++){if((typeof(array[i])!=="undefined")&&(array[i]===item)){return i;}}}return-1;};module.exports=Yh;},{}],127:[function(require,module,exports){var aBY=function(Ia,bu){var Ow=new IPCC.PageList(Ia);if(bu){IPCC.Lq(Ow,bu);}Ow.ts(Ia);Ow.initialize();return Ow;};module.exports=aBY;},{}],128:[function(require,module,exports){var aBL=function(Ia,Wk){var ps=Wk.handleTouchEvents!==false;var Qp=new IPCC.Web.UI.PageView(Ia,ps);if(Wk){IPCC.Lq(Qp,Wk);}Qp.ts(Ia);Qp.initialize();return Qp;};module.exports=aBL;},{}],129:[function(require,module,exports){var qF={zoomInMenuItem:"Zoom In 25%",zoomOutMenuItem:"Zoom Out 25%",fullImageMenuItem:"Full Image",fullWidthMenuItem:"Full Width",fullHeightMenuItem:"Full Height",oneToOneRatioMenuItem:"1 to 1 Ratio",actualSizeMenuItem:"Actual Size",rotateRightMenuItem:"Rotate Clockwise",rotateLeftMenuItem:"Rotate Counter-Clockwise",mirrorHorizontalMenuItem:"Mirror Horizontal",mirrorVerticalMenuItem:"Mirror Vertical",panToolMenuItem:"Pan Tool",areaSelectionToolMenuItem:"Area Selection Tool",zoomRectangleToolMenuItem:"Zoom Rectangle Tool",flyingMagnifierToolMenuItem:"Flying Magnifier Tool",createTextMarkToolMenuItem:"Create Text Mark",createLineMarkToolMenuItem:"Create Line Mark",createPolygonMarkToolMenuItem:"Create Polygon Mark",createPolylineMarkToolMenuItem:"Create Polyline Mark",createRectangleMarkToolMenuItem:"Create Rectangle Mark",createEllipseMarkToolMenuItem:"Create Ellipse Mark",createFreehandMarkToolMenuItem:"Create Freehand Mark",editMarksToolMenuItem:"Edit Marks",runMarksToolMenuItem:"Run Marks",createStampMarkToolMenuItem:"Create Stamp Mark",createHighlightMarkToolMenuItem:"Create Highlight Mark",thicknessMenu:{item1:"1",item2:"2",item3:"3",item4:"4",item5:"5",item6:"6",item7:"7",item8:"8"},opacityMenu:{translucent:"Translucent (127)",opaque:"Opaque (255)"},calloutTypeMenu:{line:"Line",triangle:"Triangle"},borderThicknessMenuItem:"Border Thickness",borderColorMenuItem:"Border Color...",fillColorMenuItem:"Fill Color...",lineThicknessMenuItem:"Thickness",lineColorMenuItem:"Color...",fontMenuItem:"Font...",opacityMenuItem:"Opacity",calloutTypeMenuItem:"Callout Type",calloutVisibleMenuItem:"Callout Visible",moveToBackMenuItem:"Move to Back",moveBackwardMenuItem:"Move Backward",moveForwardMenuItem:"Move Forward",moveToFrontMenuItem:"Move to Front",deleteMarkMenuItem:"Delete Mark",zoomToFitMenuItem:"Zoom to Fit",orientationMenuItem:"Orientation",mouseToolsMenuItem:"Mouse Tools",rectangleMarkPropertiesMenuItem:"Properties",textMarkPropertiesMenuItem:"Properties",polygonMarkPropertiesMenuItem:"Properties",polylineMarkPropertiesMenuItem:"Properties",lineMarkPropertiesMenuItem:"Properties",markOrderingMenuItem:"Ordering",stampMarkPropertiesMenuItem:"Properties",selectColor:"Select Color",selectFont:"Select Font",ok:"OK",cancel:"CANCEL",red:"Red",green:"Green",blue:"Blue",font:"Font",size:"Size",italic:"Italic",bold:"Bold",underline:"Underline",strikeout:"Strikeout"};module.exports=qF;},{}],130:[function(require,module,exports){var Lq=function(cv,jZ){var sa;for(var by in jZ){if(jZ.hasOwnProperty(by)){var al=jZ[by];var avf=cv["get_"+by];var ajm=cv["set_"+by];if(typeof(ajm)==='function'){ajm.apply(cv,[al]);}else if(al instanceof Array){sa=avf.apply(cv);if(!(sa instanceof Array)){throw new new IPCC.Web.UI.ImGearInvalidOperationException(by+" is not an Array property");}for(var h=0,as=sa.length,qa=al.length;h<qa;h++,as++){sa[as]=al[h];}}}}};module.exports=Lq;},{}],131:[function(require,module,exports){"use strict";var amk=function(bw){if(bw instanceof PCCViewer.AjaxResponse){return bw;}else if(!(this instanceof PCCViewer.AjaxResponse)){return new PCCViewer.AjaxResponse(bw);}this.pu=new IPCC.C.pu(bw);this.status=this.pu.status;this.statusText=this.pu.statusText;this.responseText=this.pu.responseText;if(typeof this.pu.responseBody!=='undefined'){this.responseBody=this.pu.responseBody;}return this;};amk.prototype.getResponseHeader=function(CK){return this.pu.getResponseHeader(CK);};var Fc=(function(){function asv(){return IPCC.C.extend({},IPCC.C.mH.gz);};function awx(gz){if(!(typeof gz==='undefined'||(typeof gz==='object'&&gz!==null&& !(gz instanceof Array)))){throw new Error('Headers should be an object or undefined.');}if(typeof gz==='object'){var asS=Object.keys(IPCC.C.ajN());Object.keys(gz).forEach(function(CK){if(asS.indexOf(CK)!== -1){throw new Error('Cannot overwrite the header "'+CK+'".');}});}IPCC.C.mH.gz=IPCC.C.extend({},gz);return PCCViewer.Ajax;};function aug(){return IPCC.C.mH.Mj;};function avu(iA){if(typeof iA!=='undefined'&&typeof iA!=='function'){throw new Error('Method should be a function or undefined.');}IPCC.C.mH.Mj=iA;return PCCViewer.Ajax;};function ff(bu){var aw=PCCViewer.Deferred();if(!(typeof bu==='undefined'||(typeof bu==='object'&&bu!==null&& !(bu instanceof Array)))){throw new Error('Options should be an object or undefined.');}function fq(bw){if(!(bw instanceof PCCViewer.AjaxResponse)){bw=new PCCViewer.AjaxResponse(bw);}aw.resolve(bw);};function eP(aE){if(aE.response){aE.response=new PCCViewer.AjaxResponse(aE.response);}aw.reject(aE);};IPCC.C.mH.ff(bu).then(fq,eP);return aw.getPromise();};return{getHeaders:asv,setHeaders:awx,getOverrideMethod:aug,setOverrideMethod:avu,ff:ff,};})();if(Object.defineProperties){Object.defineProperties(Fc,{"headers":{enumerable:true,get:function(){return Fc.getHeaders();},set:function(gz){return Fc.setHeaders(gz);}},"overrideMethod":{enumerable:true,get:function(){return Fc.getOverrideMethod();},set:function(iA){return Fc.setOverrideMethod(iA);}}});}module.exports={AjaxResponse:amk,Ajax:Fc};},{}],132:[function(require,module,exports){var BurnRequest=function(bu){this.oB="";this.eD="";this.mv=0;this.nR="";this.fM="";this.qC=0;this.hz=false;this.qb=0;this.UC="";this.rk=false;this.aw=PCCViewer.Deferred();this.dK=this.aw.getPromise();this.then=this.dK.then;this.bu=bu;this.fM=null;this.dZ=undefined;this.sG=false;this.OE=null;PCCViewer.EventEmitter.extend(this);var J=this;if(bu.op){var op=new PCCViewer.Error(bu.op.code,bu.op.message);delete J.bu.op;setTimeout(function(){J.trigger(PCCViewer.BurnRequest.EventType.BurnCancelled,{});J.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});J.fM=op.code;J.aw.reject(op);},0);}};BurnRequest.EventType={BurnProgress:"BurnProgress",BurnCompleted:"BurnCompleted",BurnFailed:"BurnFailed",BurnCancelled:"BurnCancelled",BurnWorkerCreated:"BurnWorkerCreated"};BurnRequest.prototype.cancel=function(){var J=this;this.rk=true;this.fM="User Cancelled";setTimeout(function(){J.trigger(PCCViewer.BurnRequest.EventType.BurnCancelled,{});J.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});J.aw.reject(new PCCViewer.Error("UserCancelled","User Cancelled"));},0);return this;};BurnRequest.prototype.getProgress=function(){return this.mv;};BurnRequest.prototype.getWorkerID=function(){return this.oB;};BurnRequest.prototype.getOptions=function(){return this.bu;};BurnRequest.prototype.getErrorCode=function(){return this.fM;};BurnRequest.prototype.getBurnedDocumentDownloadURL=function(){return this.OE;};BurnRequest.prototype.aqy=function(iV){this.UC=iV;};BurnRequest.prototype.Lb=function(dZ){this.dZ=dZ;};BurnRequest.prototype.Sz=function(){var J=this;this.fM="Failure to generate Markup XML";setTimeout(function(){J.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});J.aw.reject(new PCCViewer.Error("MarkupXMLFail",J.fM));},0);return this;};BurnRequest.prototype.BF=function(){function fq(bw){var hD,aE;try{hD=bw.responseText;if(!hD){setTimeout(function(){J.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});J.aw.reject(new PCCViewer.Error("ResponseEmpty","Empty/invalid response from the server"));},0);J.sG=true;return;}else{aE=JSON.parse(hD);setTimeout(function(){axj(aE);},0);}}catch(e){setTimeout(function(){J.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});J.aw.reject(new PCCViewer.Error("BurnFailErrorCode","Burn process failed, error: "+e.message));},0);J.sG=true;return;}};function eP(aE){J.hz=false;var cK=aE.response.status+" "+aE.response.statusText;setTimeout(function(){J.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});J.aw.reject(new PCCViewer.Error("StatusCode","Status Code "+cK));},0);J.sG=true;return;};try{if(!this.UC){throw new Error("XMl Markup data for burn is missing");}var J=this;var ahq=function(){var Xw;if(!(/^[\x00-\x7F]*$/.test(J.dZ.aG.get_documentIdentifier()))){Xw=J.dZ.bu.imageHandlerUrl+'/ViewingSession/e'+J.dZ.bu.documentID+'/MarkupBurner/'+J.oB;}else{Xw=J.dZ.bu.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(J.dZ.bu.documentID)+'/MarkupBurner/'+J.oB;}PCCViewer.Ajax.ff({method:'GET',url:Xw,headers:{'Content-Type':'application/json'}}).then(fq,eP);};var axj=function(gy){if(gy){if(J.rk===true){J.hz=false;return;}if(gy.percentComplete>=0&&J.hz===true){if(gy.percentComplete===100&&gy.state==='complete'){if(gy.processId){J.hz=false;J.oB=gy.processId;J.eD=gy.state;J.qC+=1;J.qb=1000;J.mv= +(gy.percentComplete);var Hw;if(!(/^[\x00-\x7F]*$/.test(J.dZ.aG.get_documentIdentifier()))){Hw=J.dZ.bu.imageHandlerUrl+'/ViewingSession/e'+J.dZ.bu.documentID+'/MarkupBurner/'+J.oB+"/Document";}else{Hw=J.dZ.bu.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(J.dZ.bu.documentID)+'/MarkupBurner/'+J.oB+"/Document";}if(J.bu.filename){Hw+="?ContentDispositionFilename="+J.bu.filename;}J.OE=Hw;J.sG=true;var axC= +(gy.percentComplete);setTimeout(function(){J.trigger(PCCViewer.BurnRequest.EventType.BurnCompleted,{});J.trigger(PCCViewer.BurnRequest.EventType.BurnProgress,{progress:axC});J.aw.resolve(Hw);},10);return;}}else{if(gy.state==='error'){J.hz=false;J.fM=gy.errorCode;setTimeout(function(){J.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});J.aw.reject(new PCCViewer.Error("BurnFailError","BurnProcess failed, errorCode: "+J.fM));},0);J.hz=false;J.sG=true;return;}if(gy.processId){var Wn= +(gy.percentComplete);if(J.mv!==Wn){setTimeout(function(){J.trigger(PCCViewer.BurnRequest.EventType.BurnProgress,{progress:Wn});},10);}if(!J.oB){J.oB=gy.processId;setTimeout(function(){J.trigger(PCCViewer.BurnRequest.EventType.BurnWorkerCreated,{});},0);J.eD=gy.state;J.qC=1;J.hz=true;J.qb=1000;J.mv= +(gy.percentComplete);}if(gy.percentComplete<100){if(J.qC>1){J.qb+=1000;}J.qC+=1;J.eD=gy.state;J.mv= +(gy.percentComplete);if(J.hz===true&&J.rk===false&&J.sG===false){setTimeout(ahq,J.qb);}}}}}else{if(J.sG===false){var VM=false;if(J.hz===false){if(gy.state==='complete'){if(!J.OE){VM=true;}else{J.sG=true;setTimeout(function(){J.trigger(PCCViewer.BurnRequest.EventType.BurnCompleted,{});J.aw.resolve(J.OE);},10);return;}}if(gy.state==='processing'&&gy.errorCode===null){if(gy.percentComplete>=0&&gy.percentComplete<100){if(J.qC>1){J.qb+=1000;}J.qC+=1;J.hz=true;J.eD=gy.state;J.mv= +(gy.percentComplete);if(J.hz===true&&J.rk===false){setTimeout(ahq,J.qb);}}else{VM=true;}}if(gy.state==='error'||VM===true){J.hz=false;J.fM=gy.errorCode;setTimeout(function(){J.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});J.aw.reject(new PCCViewer.Error("BurnFailError","BurnProcess failed, errorCode: "+gy.errorCode));},0);J.hz=false;J.sG=true;return;}}}}}};var ao;if(!(/^[\x00-\x7F]*$/.test(J.dZ.aG.get_documentIdentifier()))){ao=J.dZ.bu.imageHandlerUrl+'/ViewingSession/e'+J.dZ.bu.documentID+'/MarkupBurner';}else{ao=J.dZ.bu.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(J.dZ.bu.documentID)+'/MarkupBurner';}if(J.bu.removeFormFields){ao+='?RemoveFormFields=acroform';}PCCViewer.Ajax.ff({method:'POST',url:ao,headers:{'Content-Type':'application/xml'},body:J.UC}).then(fq,eP);J.hz=true;}catch(e){this.hz=false;var ab=this,jn=e.message;setTimeout(function(){ab.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});ab.aw.reject(new PCCViewer.Error("BurnFailErrorCode","The burn process failed, error: "+jn));},0);this.sG=true;}};if(Object.defineProperties){Object.defineProperties(BurnRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"workerID":{enumerable:true,get:function(){return this.getWorkerID();}},"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"burnedDocumentDownloadURL":{enumerable:true,get:function(){return this.getBurnedDocumentDownloadURL();}}});}module.exports=BurnRequest;},{}],133:[function(require,module,exports){function avd(aG,bF){var aS=aG.cT.iO(bF);var fJ=aS.dF();return fJ.Cd();};function aub(aG,bF){var aS=aG.cT.iO(bF);var fJ=aS.dF();var Jt=fJ.hI();return Jt.arS();};function azM(zD,aqb){var cg=zD.length;if(cg===0){return false;}if(cg!==aqb){return false;}for(var h=0;h<cg;h++){if(zD[h]!==true){return false;}}return true;};var Nv=function(){var J=this;this.Jb=false;this.zD=[];this.sY=[];this.zQ=[];this.alk=0;this.bL=0;this.jC=false;function rd(Jp,aaO){switch(Jp){case 'failed':setTimeout(function(){J.av.trigger('SearchFailed',aaO);},10);break;case 'complete':J.av.et=J.sY;J.av.We=J.zQ;J.av.uq=true;setTimeout(function(){J.av.trigger('SearchResultsAvailable',{completedSearchResults:(J.sY)});},10);break;case 'cancelled':break;}setTimeout(function(){J.av.trigger('SearchCompleted',{completedSearchResults:(J.sY)});},10);};function avs(){J.av.cF='Unable to communicate with server, please retry loading the document.';J.av.fM='1011';J.av.uq=true;rd('failed',{errorMessage:('Unable to communicate with server, please retry loading the document.')});J.jC=true;};function agx(bu,azG){var azT=IPCC.C.trim(bu.type||'').toLowerCase();var aE;switch(azT){case 'taskresult':aE=new PCCViewer.SearchTaskResult();break;default:aE=new PCCViewer.SearchResult();break;}IPCC.C.extend(aE,azG);var ahe=aE.qu+aE.text.length-1;var dJ=PCCViewer.Gh.formatter.getContext({text:bu.searchText,startIndex:aE.qu,endIndex:ahe,padding:aE.ad.contextPadding});aE.dJ=dJ.context;aE.yS=dJ.startIndex;if(bu.rectangles){var ahr={rectangles:bu.rectangles,startIndex:aE.qu,endIndex:ahe};aE.mf=PCCViewer.Gh.formatter.getBoundingRectangle(ahr);aE.am=PCCViewer.Gh.formatter.getLineRectangles(ahr);}return aE;};function agM(nk,wM,Ij,fR,gs){var Kx=[];var aah= !fR;var vD=wM.distance;var Aa=[];IPCC.C.forEach(wM.cl,function(cl){Aa.push(cl.searchTerm);});var ayx=PCCViewer.Gh.proximity.getResults(Ij,Aa,vD);IPCC.C.forEach(ayx,function(aE){var eR=agx({type:aah?'TaskResult':'Result',searchText:Ij,rectangles:fR},{gs:gs,ad:wM.vp,nk:nk,qx:wM.highlightColor,qu:aE.startIndex,bo:aE.text});Kx.push(eR);});return Kx;};function NQ(nk,cl,Ij,fR,gs){var aah= !fR;var Kx=[];var Qi=[cl.searchTerm];var et=PCCViewer.Gh.regex.getResults(Ij,Qi);IPCC.C.forEach(et,function(aE){if(cl.vp.matchingOptions.wildcard&&(aE.text[0]===" "||aE.text[0]==="\n")){aE.text=aE.text.substring(1);aE.startIndex+=1;}var eR=agx({type:aah?'TaskResult':'Result',searchText:Ij,rectangles:fR},{gs:gs,nk:nk,cl:cl,ad:cl.vp,qu:aE.startIndex,bo:aE.text,qx:cl.highlightColor});Kx.push(eR);});return Kx;};function axV(ajK,bF,aG,fR){var Xb=[];var nk=Date.now();IPCC.C.forEach(J.cl,function(cl,h){var et;var oQ=IPCC.C.MJ(cl.type);var aS=aG.cT.iO(bF);var gs={width:aS.kE(),height:aS.hO()};switch(oQ){case 'proximity':et=agM(nk,cl,ajK,fR,gs);break;default:et=NQ(nk,cl,ajK,fR,gs);break;}IPCC.C.forEach(et,function(aE){aE.cS=J.bL;aE.aR=bF+1;aE.Hm=aG.get_documentIdentifier();J.sY[J.bL]=aE;J.bL++;Xb.push(aE);});});J.av.et=J.sY;if(Xb.length){setTimeout(function(){J.av.trigger('PartialSearchResultsAvailable',{partialSearchResults:(Xb),pagesWithoutText:(J.zQ)});},10);}};function axD(bo){var nk=Date.now();IPCC.C.forEach(J.cl,function(cl,h){var oQ=IPCC.C.MJ(cl.type);var et;switch(oQ){case 'proximity':et=agM(nk,cl,bo);break;default:et=NQ(nk,cl,bo);break;}IPCC.C.forEach(et,function(aE){aE.cS=J.bL;J.sY[J.bL]=aE;J.bL++;});});J.av.et=J.sY;};function acQ(CI,aG){for(var h=0;h<CI.length;h++){if(J.zD[CI[h]]===false){J.zD[CI[h]]=true;var bo=avd(aG,CI[h]);var fR=aub(aG,CI[h]);if(!bo&&bo!==null){J.zQ[J.alk]=CI[h];J.alk++;continue;}axV(bo,CI[h],aG,fR);if(J.av.rk){if(J.Jb){rd('cancelled');J.Jb=false;aG.remove_textPagesReceived(Nj);return;}break;}}}if(azM(J.zD,aG.ed)&& !J.av.uq){rd('complete');J.Jb=false;aG.remove_textPagesReceived(Nj);}};function Nj(sender,F){if(F.error=== -1){avs();return J.av;}try{if(J.jC===false){acQ(F.textPagesReceived,sender);}}catch(e){J.av.cF=e.message;J.av.fM='1010';J.av.uq=true;rd('failed',{errorMessage:(e.message)});J.jC=true;return J.av;}};this.Yf=function(aG,cl,ej,av){J.cl=cl;J.av=av;J.av.ej=ej;J.av.on('SearchCancelled',function(){rd('cancelled');J.Jb=false;aG.remove_textPagesReceived(Nj);});for(var h=0;h<aG.ed;h++){J.zD[h]=false;}if(aG.ajM().ec()>aG.get_numberOfPagesWithText()){J.Jb=true;aG.add_textPagesReceived(Nj);}if(aG.get_numberOfPagesWithText()>0){acQ(aG.get_pagesWithText(),aG);}return J.av;};this.aqj=function(bo){this.av=new PCCViewer.SearchRequest();try{axD(bo);}catch(e){J.av.cF=e.message;J.av.fM='1010';return;}};};module.exports=Nv;},{}],134:[function(require,module,exports){var Comment=function Comment(comment,conversation){if(!(comment instanceof IPCC.Web.UI.Comment)&&(typeof comment!=='string')){throw new Error(comment+' is not a string.');}if(!(conversation instanceof PCCViewer.Conversation)){throw new Error(conversation+' is not a PCCViewer.Conversation object.');}this.getConversation=function aGz(){return conversation;};if(typeof comment==='string'){this.pf=new IPCC.Web.UI.Comment(comment);}else{this.pf=comment;}this.pf.JC=this;this.bX=this.pf.get_data();PCCViewer.Data.extend(this);this.Ck=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);};Comment.prototype.getMarkupLayer=function aFf(){return this.hT;};Comment.prototype.getText=function aFE(){return this.pf.get_text();};Comment.prototype.setText=function aIy(text){if(typeof text!=='string'){throw new Error(text+' is not a string.');}this.pf.set_text(text);return this;};Comment.prototype.getCreationTime=function aGj(){var asV=IPCC.C.IY(this.pf.get_creationTime());return new Date(asV);};Comment.prototype.setCreationTime=function aHY(time){function abW(){throw new Error(time+' is not a valid string or Date object.');};if(typeof time==='string'){var ahK=IPCC.C.IY(time);if(ahK instanceof Error){abW();}time=new Date(ahK);}if(!(time instanceof Date)){abW();}this.pf.set_creationTime(IPCC.C.wD(time));return this;};if(Object.defineProperties){Object.defineProperties(Comment.prototype,{"text":{enumerable:true,get:function(){return this.getText();},set:function(text){return this.setText(text);}},"creationTime":{enumerable:true,get:function(){return this.getCreationTime();},set:function(time){return this.setCreationTime(time);}}});}var Conversation=function Conversation(mark){if(!(mark instanceof PCCViewer.Mark)){throw new Error(mark+' is not a PCCViewer.Mark object.');}this.getMark=function Qv(){return mark;};this.it=new PCCViewer.ObservableCollection();if(typeof mark.L!=="undefined"){this.yv=mark.L.get_conversation();this.yv.forEach(function(pf){var di=new PCCViewer.Comment(pf,this);this.it.add(di);},this);}else{this.yv=new IPCC.Web.UI.Conversation();}this.bX=this.yv.get_data();PCCViewer.Data.extend(this);this.Ck=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);};Conversation.prototype.addComment=function EP(commentText){var di=new PCCViewer.Comment(commentText,this);this.it.add(di);this.yv.addComment(di.pf);return di;};Conversation.prototype.deleteComments=function(comments){var J=this;var aeU=this.it.toArray();var aaS=function(di){for(var i=0,length=aeU.length;i<length;i++){if(aeU[i]===di){return true;}}return false;};function aco(di,bL){throw new Error(di+((bL!==undefined)?' (Array index '+bL+')':'')+' is not a PCCViewer.Comment object.');};function akG(di,bL){throw new Error(((bL!==undefined)?' (Array index '+bL+')':'')+' is not part of this Conversation object.');};if(comments instanceof PCCViewer.Comment){if(!aaS(comments)){akG(comments);}J.it.remove(comments);J.yv.removeCommentInstance(comments.pf);}else if(comments instanceof Array){IPCC.C.forEach(comments,function(el,idx){if(!(el instanceof PCCViewer.Comment)){aco(el,idx);}if(!aaS(el)){akG(el,idx);}});IPCC.C.forEach(comments,function(el){J.it.remove(el);J.yv.removeCommentInstance(el.pf);});}else{aco(comments);}return this;};Conversation.prototype.getComments=function(){return this.it.toArray().sort(function(a,b){return a.getCreationTime().getTime()-b.getCreationTime().getTime();});};Conversation.qG=function(gC,oE){if(typeof gC.getComments!=="function"||typeof oE.addComment!=="function"){throw new Error("Arguments `_source` and `_destination` must be Conversation objects.");}PCCViewer.Data.nX(gC,oE);var he=gC.getComments(),i,length=he.length;for(i=0;i<length;i++){var aiM=he[i];var ash=oE.addComment(aiM.getText());PCCViewer.Data.nX(aiM,ash);}};module.exports={Conversation:Conversation,Comment:Comment};},{}],135:[function(require,module,exports){var ConversionRequest=function(bu){this.oB="";this.eD="";this.mv=0;this.fM="";this.hz=false;this.rk=false;this.bu=bu;this.AJ=null;this.CZ=null;this.dZ=undefined;this.aw=PCCViewer.Deferred();this.dK=this.aw.getPromise();this.then=this.dK.then;PCCViewer.EventEmitter.extend(this);};ConversionRequest.EventType={ConversionProgress:"ConversionProgress",ConversionCompleted:"ConversionCompleted",ConversionFailed:"ConversionFailed",ConversionCancelled:"ConversionCancelled",ConversionWorkerCreated:"ConversionWorkerCreated"};ConversionRequest.prototype.cancel=function(){var J=this;this.rk=true;this.fM="User Cancelled";setTimeout(function(){J.trigger(PCCViewer.ConversionRequest.EventType.ConversionCancelled,{});J.trigger(PCCViewer.ConversionRequest.EventType.ConversionFailed,{});J.aw.reject(new PCCViewer.Error("UserCancelled","User Cancelled"));},0);return this;};ConversionRequest.prototype.getProgress=function(){return this.mv;};ConversionRequest.prototype.getWorkerID=function(){return this.oB;};ConversionRequest.prototype.getOptions=function(){return this.bu;};ConversionRequest.prototype.getErrorCode=function(){return this.fM;};ConversionRequest.prototype.getConvertedDocumentDownloadURL=function(){return this.AJ;};ConversionRequest.prototype.getConvertedDocumentDownloadURLs=function(){if(this.CZ){return this.CZ.slice();}return null;};ConversionRequest.prototype.Lb=function(dZ){this.dZ=dZ;};ConversionRequest.prototype.BF=function(){var J=this;J.hz=true;J.aBE().then(function onResolve(qy){J.oB=qy.processId;J.mv=qy.percentComplete;J.eD=qy.state;J.trigger(PCCViewer.ConversionRequest.EventType.ConversionWorkerCreated,{});J.ayk(qy).then(function onResolve(arF){J.hz=false;J.CZ=[];if(J.bu.Ah>1){for(var h=0;h<J.aAT;h++){var AJ=J.dZ.bu.imageHandlerUrl+'/v2/viewingSessions/'+J.dZ.bu.documentID+'/contentConverters/'+J.oB+'/results/'+h+'/file?ContentDispositionFilename='+encodeURIComponent(J.bu.filename);J.CZ.push(AJ);}J.aw.resolve(J.CZ);}else{J.AJ=J.dZ.bu.imageHandlerUrl+'/WorkFile/'+arF+"?ContentDispositionFilename="+encodeURIComponent(J.bu.filename);if(qy.affinityToken){J.AJ+="&affinityToken="+encodeURIComponent(qy.affinityToken);}J.CZ.push(J.AJ);J.aw.resolve(J.AJ);}J.trigger(PCCViewer.ConversionRequest.EventType.ConversionCompleted,{});},function onReject(reason){J.hz=false;J.fM=reason.error.code;J.aw.reject(reason);J.trigger(PCCViewer.ConversionRequest.EventType.ConversionFailed,{});});},function onReject(reason){J.hz=false;J.aw.reject(reason);J.trigger(PCCViewer.ConversionRequest.EventType.ConversionFailed,{});});};ConversionRequest.prototype.aBE=function(){var ao,lh=PCCViewer.Deferred();var Ss;if(this.bu.Ah>1){ao=this.dZ.bu.imageHandlerUrl+'/v2/viewingSessions/'+this.dZ.bu.documentID+'/contentConverters/';Ss={url:ao,method:'POST',headers:{"Content-Type":"application/json"}};}else{ao=this.dZ.bu.imageHandlerUrl+'/contentConverters/';Ss={url:ao,method:'POST',headers:{"Content-Type":"application/json"},body:JSON.stringify({viewingSessionId:this.dZ.bu.documentID})};}PCCViewer.Ajax.ff(Ss).then(function fq(bw){var aE=JSON.parse(bw.responseText);lh.resolve(aE);},function eP(aE){lh.reject(aE.error);});return lh.getPromise();};ConversionRequest.prototype.ayk=function(qy){var ao,lh=PCCViewer.Deferred(),J=this,gz;if(J.bu.Ah>1){ao=this.dZ.bu.imageHandlerUrl+'/v2/viewingSessions/'+this.dZ.bu.documentID+'/contentConverters/'+qy.processId;}else{ao=this.dZ.bu.imageHandlerUrl+'/contentConverters/'+qy.processId;}if(qy.affinityToken){gz={"Accusoft-Affinity-Token":qy.affinityToken};}(function poll(){setTimeout(function(){PCCViewer.Ajax.ff({method:'GET',url:ao,headers:gz}).then(function fq(bw){var aE=JSON.parse(bw.responseText);J.oB=aE.processId;J.mv=aE.percentComplete;J.eD=aE.state;if(J.bu.Ah>1&&aE.output){J.aAT=aE.output.results.length;}J.trigger(PCCViewer.ConversionRequest.EventType.ConversionProgress,{progress:J.mv});if(aE.percentComplete===100){if(aE.state==="error"){lh.reject({response:bw,error:new PCCViewer.Error("CouldNotConvert","Could not convert document")});}else{lh.resolve(aE.output.results[0].fileId);}}else{poll();}},function eP(aE){lh.reject(aE.error);});},3000);})();return lh.getPromise();};if(Object.defineProperties){Object.defineProperties(ConversionRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"workerID":{enumerable:true,get:function(){return this.getWorkerID();}},"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"convertedDocumentDownloadURL":{enumerable:true,get:function(){return this.getConvertedDocumentDownloadURL();}},"convertedDocumentDownloadURLs":{enumerable:true,get:function(){return this.getConvertedDocumentDownloadURLs();}}});}module.exports=ConversionRequest;},{}],136:[function(require,module,exports){"use strict";var Data=(function(){function getData(key){return this.bX.get_data(key);};function setData(key,value){this.bX.set_data(key,value);return this;};function getDataKeys(){return this.bX.get_dataKeys();};return{extend:function(o){o.getData=getData;o.setData=setData;o.getDataKeys=getDataKeys;},nX:function(gC,oE){if(typeof gC.getData!=="function"||typeof gC.setData!=="function"||typeof gC.getDataKeys!=="function"||typeof oE.getData!=="function"||typeof oE.setData!=="function"||typeof oE.getDataKeys!=="function"){throw new Error("Arguments `_source` and `_destination` must be extended with the Data Mixin.");}var od=gC.getDataKeys(),i,length=od.length;for(i=0;i<length;i++){var aV=od[i];oE.setData(aV,gC.getData(aV));}}};})();var SessionData=(function(){function getSessionData(key){return this.Ck.get_data(key);};function setSessionData(key,value){this.Ck.set_data(key,value);return this;};function getSessionDataKeys(){return this.Ck.get_dataKeys();};return{extend:function(o){o.getSessionData=getSessionData;o.setSessionData=setSessionData;o.getSessionDataKeys=getSessionDataKeys;},aHi:function(gC,oE){if(typeof gC.getSessionData!=="function"||typeof gC.setSessionData!=="function"||typeof gC.getSessionDataKeys!=="function"||typeof oE.getSessionData!=="function"||typeof oE.setSessionData!=="function"||typeof oE.getSessionDataKeys!=="function"){throw new Error("Arguments `_source` and `_destination` must be extended with the SessionData Mixin.");}var od=gC.getSessionDataKeys(),i,length=od.length;for(i=0;i<length;i++){var aV=od[i];oE.setSessionData(aV,gC.getSessionData(aV));}}};})();module.exports={SessionData:SessionData,Data:Data};},{}],137:[function(require,module,exports){'use strict';function PromiseDeferred(){this.eD=PromiseDeferred.States.Pending;this.T=null;this.eU=null;this.gN=[];};PromiseDeferred.prototype.then=function(onFulfilled,onRejected){var zc=new PromiseDeferred();var WH,VH;if(onFulfilled&&typeof onFulfilled==='function'){var aEI=function(T){try{var bN=onFulfilled(T);zc.resolve(bN);}catch(e){zc.reject(e);}};WH=aEI;}else{var aDb=function(T){zc.resolve(T);};WH=aDb;}if(onRejected&&typeof onRejected==='function'){var aEe=function(eU){try{var bN=onRejected(eU);Xv(zc,bN);}catch(e){zc.reject(e);}};VH=aEe;}else{var aDY=function(eU){zc.reject(eU);};VH=aDY;}this.gN.push({ati:WH,aAX:VH});if(this.eD===PromiseDeferred.States.Fulfilled){this.afP();}if(this.eD===PromiseDeferred.States.Rejected){this.agf();}return zc;};PromiseDeferred.prototype.resolve=function(x){if(!this.afZ()){return;}Xv(this,x);};PromiseDeferred.prototype.reject=function(reason){if(!this.afZ()){return;}this.xy(reason);};PromiseDeferred.prototype.TZ=function(bf){this.eD=PromiseDeferred.States.Fulfilled;this.T=bf;this.afP();};PromiseDeferred.prototype.afP=function(){var callback;while(this.gN.length>0){callback=this.gN.shift().ati;(function(ka,T){setTimeout(function(){ka(T);},0);})(callback,this.T);}};PromiseDeferred.prototype.agf=function(){var callback;while(this.gN.length>0){callback=this.gN.shift().aAX;(function(ka,T){setTimeout(function(){ka(T);},0);})(callback,this.eU);}};function Xv(dK,bf){if(dK===bf){dK.xy(new TypeError("A Promise cannot be resolved with a value that is itself."));return;}if(bf&&bf.Zm&&dK.aau&&dK.aau===bf){dK.xy(new TypeError("A Promise cannot be resolved with a value that is itself."));return;}if(bf&&bf.Zm&&bf.Zm==="PCCViewer.Promise"){bf.then(function(aod){dK.TZ(aod);},function(anG){dK.xy(anG);});}else if(bf!==null&&(typeof bf==='object'||typeof bf==='function')){var Vm;try{Vm=bf.then;}catch(e){dK.xy(e);return;}if(typeof Vm==='function'){var FN=true;var aoT=function(dB){if(FN){Xv(dK,dB);FN=false;}};var aoy=function(bN){if(FN){dK.xy(bN);FN=false;}};try{Vm.call(bf,aoT,aoy);}catch(e){if(FN){dK.xy(e);}}}else{dK.TZ(bf);}}else{dK.TZ(bf);}};PromiseDeferred.prototype.xy=function(reason){this.eD=PromiseDeferred.States.Rejected;this.eU=reason;this.agf();};PromiseDeferred.prototype.afZ=function(){return this.eD===PromiseDeferred.States.Pending;};PromiseDeferred.States={Pending:"Pending",Fulfilled:"Fulfilled",Rejected:"Rejected"};var Deferred=function(){var UN=new PromiseDeferred();function Promise(dK){this.then=function(onFulfilled,onRejected){return new Promise(dK.then(onFulfilled,onRejected));};this.Zm="PCCViewer.Promise";dK.aau=this;};var promise=new Promise(UN);return{getPromise:function(){return promise;},resolve:function(value){UN.resolve(value);},reject:function(reason){UN.reject(reason);}};};var Promise={all:function(promises){var i,aw=new PCCViewer.Deferred(),Xp=aw.getPromise();if(Object.prototype.toString.call(promises)!=='[object Array]'){throw new TypeError("The 'promises' argument must be an array.");}function createPushFunction(promise){return function(results){return wrapWithPromise(promise).then(function(value){results.push(value);return results;});};};function wrapWithPromise(value){var aw=new PCCViewer.Deferred();aw.resolve(value);return aw.getPromise();};aw.resolve([]);for(i=0;i<promises.length;i++){Xp=Xp.then(createPushFunction(promises[i]));}return Xp;}};if(typeof exports!=='undefined'&&module.exports){module.exports.Deferred=Deferred;module.exports.Promise=Promise;}},{}],138:[function(require,module,exports){var DocumentHyperlink=function DocumentHyperlink(parameters){this.AL=parameters.AL;this.aR=parameters.aR;};DocumentHyperlink.prototype.getHref=function(){return this.AL.amF();};DocumentHyperlink.prototype.getPageNumber=function(){return this.aR;};DocumentHyperlink.prototype.getRectangle=function(){return this.AL.eG();};if(Object.defineProperties){Object.defineProperties(DocumentHyperlink.prototype,{"href":{enumerable:true,get:function(){return this.getHref();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();}},"rectangle":{enumerable:true,get:function(){return this.getRectangle();}}});}module.exports=DocumentHyperlink;},{}],139:[function(require,module,exports){var Ic=function(code,message){var aam=Error.call(null,message);this.code=code;function aGv(cv,gC){Object.getOwnPropertyNames(gC).forEach(function(propName){Object.defineProperty(cv,propName,Object.getOwnPropertyDescriptor(gC,propName));});return cv;};function aFK(cv,gC){for(var i in gC){if(gC.hasOwnProperty(i)){cv[i]=gC[i];}}return cv;};if(typeof Object.create==='function'){aGv(this,aam);}else{aFK(this,aam);}};var aDO=(function(){var fe=function(){};return function(acT){if(arguments.length>1){throw Error('Second argument not supported');}if(typeof acT!=='object'){throw TypeError('Argument must be an object');}fe.prototype=acT;var aE=new fe();fe.prototype=null;return aE;};})();if(typeof Object.create==='function'){Ic.prototype=Object.create(Error.prototype);}else{Ic.prototype=aDO(Error.prototype);}Ic.prototype.constructor=Ic;module.exports=Ic;},{}],140:[function(require,module,exports){"use strict";function Event(target,type){this.cv=target;this.bd=type;};Event.prototype.getTarget=function(){return this.cv;};Event.prototype.getType=function(){return this.bd;};if(Object.defineProperties){Object.defineProperties(Event.prototype,{"target":{enumerable:true,get:function(){return this.getTarget();}},"type":{enumerable:true,get:function(){return this.getType();}}});}module.exports=Event;},{}],141:[function(require,module,exports){var EventEmitter=(function(){function on(eventType,handler){if(!this.jL){this.jL={};}var lowerCaseEventType=eventType.toLowerCase(),handlers=this.jL[lowerCaseEventType];if(!handlers){handlers=this.jL[lowerCaseEventType]=[];}handlers.push(handler);return this;};function off(eventType,handler){if(!this.jL){this.jL={};}var lowerCaseEventType=eventType.toLowerCase(),handlers=this.jL[lowerCaseEventType];if(handlers){var i=handlers.length;for(;i>=0;i--){if(handlers[i]===handler){handlers.splice(i,1);}}}return this;};function trigger(eventType,properties){if(!this.jL){this.jL={};}var lowerCaseEventType=eventType.toLowerCase(),event=new PCCViewer.Event(this,lowerCaseEventType),handlers=this.jL[lowerCaseEventType],i,length=0;if(properties){PCCViewer.sz.sO(event,properties);}if(handlers){length=handlers.length;handlers=handlers.slice(0);for(i=0;i<length;i++){handlers[i](event);}}return this;};return{extend:function(o){o.on=on;o.off=off;o.trigger=trigger;}};})();module.exports=EventEmitter;},{}],142:[function(require,module,exports){var apP={ViewerReady:"ViewerReady",PageCountReady:"PageCountReady",EstimatedPageCountReady:"EstimatedPageCountReady",PageChanged:"PageChanged",PageLoadFailed:"PageLoadFailed",PageDisplayed:"PageDisplayed",PageRotated:"PageRotated",DocumentRotated:"DocumentRotated",ScaleChanged:"ScaleChanged",DocumentPrinted:"DocumentPrinted",TextSelected:"TextSelected",MouseToolChanged:"MouseToolChanged",SearchPerformed:"SearchPerformed",PartialSearchResultsAvailable:"PartialSearchResultsAvailable",SearchCompleted:"SearchCompleted",SearchFailed:"SearchFailed",SearchCancelled:"SearchCancelled",SearchResultsAvailable:"SearchResultsAvailable",SearchCleared:"SearchCleared",SearchResultSelectionChanged:"SearchResultSelectionChanged",RevisionsRetrievalCompleted:"RevisionsRetrievalCompleted",RevisionsRetrievalFailed:"RevisionsRetrievalFailed",RevisionsAvailable:"RevisionsAvailable",PartialRevisionsAvailable:"PartialRevisionsAvailable",PrintRequested:"PrintRequested",MarkupLoaded:"MarkupLoaded",MarkupSaved:"MarkupSaved",MarkChanged:"MarkChanged",MarkCreated:"MarkCreated",MarkRemoved:"MarkRemoved",MarkReordered:"MarkReordered",MarkSelectionChanged:"MarkSelectionChanged",MarkMouseEnter:"MarkMouseEnter",MarkMouseOver:"MarkMouseOver",MarkMouseLeave:"MarkMouseLeave",CommentsPanelToggled:"CommentsPanelToggled",CommentCreated:"CommentCreated",CommentRemoved:"CommentRemoved",CommentChanged:"CommentChanged",PageTextReady:"PageTextReady",Click:"Click",PageOpening:"PageOpening"};module.exports=apP;},{}],143:[function(require,module,exports){var pl={FullWidth:"FullWidth",ShrinkToWidth:"ShrinkToWidth",ActualSize:"ActualSize",FullHeight:"FullHeight",FullPage:"FullPage"};module.exports=pl;},{}],144:[function(require,module,exports){var sz={};sz.sO=function(target){var source;if(!target){throw new Error("target must be defined.");}else if(typeof target!=='object'){throw new Error("typeof target must be 'object'");}else{for(var i=1;i<arguments.length;i++){source=arguments[i];for(var property in source){if(source.hasOwnProperty(property)){target[property]=source[property];}}}}return target;};module.exports=sz;},{}],145:[function(require,module,exports){var ImageStamps=function(Options){this.bu=PCCViewer.sz.sO({},Options);};ImageStamps.prototype.requestImageStampList=function(){var aw=PCCViewer.Deferred();var dK=aw.getPromise();try{var ao=this.bu.imageHandlerUrl+'/ImageStampList';PCCViewer.Ajax.ff({method:'GET',url:ao}).then(function fq(bw){var ru;if(bw.responseText.length>0){ru=JSON.parse(bw.responseText);if(bw.status===200){aw.resolve(ru);}else{aw.reject(new PCCViewer.Error("ImageStampListFail","Unable to retrieve ImageStamp list from server."));}}},function eP(aE){aw.reject(aE.error);});}catch(e){aw.reject(new PCCViewer.Error("Error",e.message));}return dK;};ImageStamps.prototype.requestImageSourceBase64=function(imageStampId){if(!imageStampId){throw new Error("Parameter imageStampId is not valid.");}if(typeof imageStampId!=='string'){throw new Error("Parameter imageStampId should be of type string.");}var aw=PCCViewer.Deferred();var dK=aw.getPromise();try{var ao=this.bu.imageHandlerUrl+'/ImageStamp/'+imageStampId+'/q?format=Base64';PCCViewer.Ajax.ff({method:'GET',url:ao,}).then(function fq(bw){var ru;if(bw.responseText.length>0){ru=JSON.parse(bw.responseText);if(bw.status===200){aw.resolve(ru);}else{aw.reject(new PCCViewer.Error("ImageStampDataFail","Unable to retrieve image stamp data URL and dataHash from server."));}}},function eP(aE){aw.reject(aE.error);});}catch(e){aw.reject(new PCCViewer.Error("Error",e.message));}return dK;};ImageStamps.prototype.reqestImageSourceBase64=function(imageStampId){return this.requestImageSourceBase64(imageStampId);};ImageStamps.prototype.getImageSourceURL=function(ImageStampID){if(!ImageStampID){throw new Error("Parameter imageStampId is not valid.");}if(typeof ImageStampID!=='string'){throw new Error("Parameter imageStampId should be of type string.");}return this.bu.imageHandlerUrl+'/ImageStamp/'+ImageStampID+'/q?format=Image';};module.exports=ImageStamps;},{}],146:[function(require,module,exports){var aBp={data:{},initializeData:function(aBS){PCCViewer.Language.data=IPCC.C.extend({},aBS);return PCCViewer.Language;},getData:function(){return PCCViewer.Language.data;},getValue:function(afi){if(typeof PCCViewer.Language.data==='undefined'){throw new Error('Language data is not set.');}var od=afi.split('.'),bQ=PCCViewer.Language.data,aV;while(od.length){aV=od.shift();bQ=bQ[aV];if(typeof bQ==='undefined'){bQ=afi;break;}}return bQ;}};module.exports=aBp;},{}],147:[function(require,module,exports){var LoadMarkupLayersRequest=function(layerRecordIds,viewerControl,options){this.wS=layerRecordIds;this.bz=viewerControl;this.fM="";this.hz=false;this.rk=false;this.mv=0;this.aw=PCCViewer.Deferred();this.dK=this.aw.getPromise();this.then=this.dK.then;this.ve=options.loadAsHidden===true;PCCViewer.EventEmitter.extend(this);};LoadMarkupLayersRequest.EventType={LoadMarkupLayersFailed:"LoadMarkupLayersFailed",LoadMarkupLayersCompleted:"LoadMarkupLayersCompleted",LoadMarkupLayersCancelled:"LoadMarkupLayersCancelled",LoadMarkupLayersProgress:"LoadMarkupLayersProgress"};LoadMarkupLayersRequest.prototype.getProgress=function(){return this.mv;};LoadMarkupLayersRequest.prototype.cancel=function(){var J=this;this.rk=true;this.fM="User Cancelled";setTimeout(function(){J.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersCancelled,{});J.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});J.aw.reject(new PCCViewer.Error("UserCancelled","User Cancelled"));},0);return this;};LoadMarkupLayersRequest.prototype.getViewerControl=function(){return this.bz;};LoadMarkupLayersRequest.prototype.getErrorCode=function(){return this.fM;};LoadMarkupLayersRequest.prototype.BF=function(){var J=this,Zp=1,WP,ZE=[];var ve=this.ve;var rN=function(alq){function fq(bw){var pM=JSON.parse(bw.responseText),LT=J.axW(pM),fp,sV=[],bb,hd=[],aiT={},KQ=0,Mi;for(var lM in LT.hd){if(LT.hd.hasOwnProperty(lM)){hd=hd.concat(LT.hd[lM]);}}fp=new PCCViewer.MarkupLayer(J.bz,hd);fp.aIi={ao:ao};IPCC.C.forEach(LT.sV,function(afA){sV.push(afA);KQ++;aiT[afA.uid]=true;});if(pM.name){fp.setName(pM.name);}if(pM.originalXmlName){fp.setOriginalXmlName(pM.originalXmlName);}if(KQ>0){Mi=function(ev){if(aiT[ev.mark.getUid()]){KQ--;}if(!KQ){J.bz.off(PCCViewer.EventType.MarkCreated,Mi);J.bz.sf=true;}};J.bz.on(PCCViewer.EventType.MarkCreated,Mi);J.bz.sf=false;try{bb=J.bz.deserializeMarks(sV);}catch(dM){J.hz=false;J.bz.off(PCCViewer.EventType.MarkCreated,Mi);J.bz.sf=true;J.aw.reject(new PCCViewer.Error('Error',dM.message));J.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});return;}if(ve){IPCC.C.forEach(bb,function(K){K.setVisible(false);});}fp.addMarks(bb);}fp.Uj=alq;for(var vN in pM.data){if(pM.data.hasOwnProperty(vN)){fp.setData(vN,pM.data[vN]);}}J.bz.getMarkupLayerCollection().addItem(fp);ZE.push(fp);Zp--;J.mv=(J.wS.length-Zp)/J.wS.length;J.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersProgress,{progress:J.mv});if(J.mv===1){J.hz=false;J.aw.resolve(ZE);J.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersCompleted,{markupLayers:ZE});}};function eP(aE){J.hz=false;J.aw.reject(aE.error);J.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});};var ao=WP+alq+'?'+new Date().getTime();PCCViewer.Ajax.ff({url:ao,method:'GET'}).then(fq,eP);};if(!(/^[\x00-\x7F]*$/.test(this.bz.aG.get_documentIdentifier()))){WP=this.bz.bu.imageHandlerUrl+'/MarkupLayers/e'+this.bz.bu.documentID+'/';}else{WP=this.bz.bu.imageHandlerUrl+'/MarkupLayers/u'+encodeURIComponent(this.bz.bu.documentID)+'/';}if(this.rk){return;}if(Object.prototype.toString.call(this.wS)==='[object Array]'&&this.wS.length>0){Zp=this.wS.length;this.hz=true;IPCC.C.forEach(this.wS,rN,this);}else if(typeof this.wS==="string"){this.hz=true;rN(this.wS);}else{this.hz=false;this.aw.reject(new PCCViewer.Error("InvalidParameter",'layerRecordIds parameter is missing or invalid.'));this.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});return;}};LoadMarkupLayersRequest.prototype.axW=function(pM){var Ob={},KH={};IPCC.C.forEach(pM.marks,function(VA){VA.conversation.comments=[];Ob[VA.uid]=VA;},this);IPCC.C.forEach(pM.comments,function(vv){if(Ob[vv.markUid]){Ob[vv.markUid].conversation.comments.push(vv);}else if(KH[vv.markUid]){KH[vv.markUid].push(vv);}else{KH[vv.markUid]=[vv];}},this);return{sV:Ob,hd:KH};};if(Object.defineProperties){Object.defineProperties(LoadMarkupLayersRequest.prototype,{"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}}});}module.exports=LoadMarkupLayersRequest;},{}],148:[function(require,module,exports){var cX={setMask:function(K,iv){var Fx={};IPCC.C.forEach(iv.translations,function(al,aV){Fx[aV]=new RegExp(al.replace(/^\/|\/$/g,''));});K.setMask({value:iv.value,translations:Fx});},calculateRectangle:function(bQ,bu){if(bQ.pageData===undefined||(bQ.pageData.width===bu.bS&&bQ.pageData.height===bu.ba)){return bQ.rectangle;}else{var nc=bu.bS/bQ.pageData.width;return{x:bQ.rectangle.x*nc,y:bQ.rectangle.y*nc,width:bQ.rectangle.width*nc,height:bQ.rectangle.height*nc};}},setRectangle:function(K,bQ,bu){K.setRectangle(cX.calculateRectangle(bQ,bu));},setLines:function(K,bQ,bu){var afX,nZ,cZ=bQ.textLength+bQ.startIndex-1,cO=bQ.selectedText,dr={startIndex:bQ.startIndex,length:bQ.textLength};nZ=[];var bF,zM;afX=IPCC.C.reduce(bQ.lineGroups,function(fL,ob){bF=ob.pageNumber-1;fL[bF]=IPCC.C.map(ob.lines,function(hg){if(ob.pageData!==undefined){zM=cX.calculateRectangle({rectangle:hg,pageData:ob.pageData},bu);return new IPCC.Web.UI.Rectangle(zM.x,zM.y,zM.width,zM.height);}else{return new IPCC.Web.UI.Rectangle(hg.x,hg.y,hg.width,hg.height);}});nZ.push({pageIndex:bF,endIndex:ob.startIndex+ob.textLength-1});return fL;},{});K.Gq(nZ,cZ,cO,dr,afX);},postCreate:function(K,bQ){K.L.aac(new Date(IPCC.C.IY(bQ.creationDateTime)));K.L.Vb(new Date(IPCC.C.IY(bQ.modificationDateTime)));return K;},calculatePoint:function(aX,gs,bu){if(gs===undefined||(gs.width===bu.bS&&gs.height===bu.ba)){return aX;}else{return{x:aX.x*bu.bS/gs.width,y:aX.y*bu.ba/gs.height};}},Data:function(bQ,bX){IPCC.C.forEach(bX,function(al,aV){bQ.setData(aV,al);});},Comment:function(cE,di){var oS=cE.addComment(di.text);oS.setCreationTime(di.creationDateTime);cX.Data(oS,di.data);},Conversation:function(K,cE){var akk=K.getConversation();IPCC.C.forEach(cE.comments?cE.comments:[],function(oS){cX.Comment(akk,oS);});cX.Data(akk,cE.data);},Common:function(bQ,bu){if(bQ.uid===undefined){bQ.uid=IPCC.C.acJ();}var K=this.aky(bQ.pageNumber,bQ.type,{uid:bQ.uid});if(bQ.rectangle&&K.setRectangle){cX.setRectangle(K,bQ,bu);}if(bQ.startPoint&&K.setStartPoint){K.setStartPoint(cX.calculatePoint(bQ.startPoint,bQ.pageData,bu));}if(bQ.endPoint&&K.setEndPoint){K.setEndPoint(cX.calculatePoint(bQ.endPoint,bQ.pageData,bu));}if(bQ.points&&K.setPoints){K.setPoints(IPCC.C.map(bQ.points,function(aX){return cX.calculatePoint(aX,bQ.pageData,bu);}));}if(bQ.lineGroups&&K.Gq){K.bn=bQ.uid;cX.setLines(K,bQ,bu);}if(bQ.interactionMode){K.setInteractionMode(bQ.interactionMode);}K=this.ank(K);cX.Data(K,bQ.data);cX.Conversation(K,bQ.conversation);return K;},EllipseAnnotation:function(bQ,bu){var K=cX.Common.apply(this,arguments);if(bQ.borderColor){K.setBorderColor(bQ.borderColor);}if(bQ.borderThickness){K.setBorderThickness(bQ.borderThickness);}if(bQ.fillColor){K.setFillColor(bQ.fillColor);}if(bQ.opacity){K.setOpacity(bQ.opacity);}return cX.postCreate(K,bQ);},FreehandAnnotation:function(bQ,bu){var K=cX.Common.apply(this,arguments);if(bQ.color){K.setColor(bQ.color);}if(bQ.opacity){K.setOpacity(bQ.opacity);}if(bQ.path){K.setPath(bQ.path);}if(bQ.thickness){K.setThickness(bQ.thickness);}return cX.postCreate(K,bQ);},FreehandSignature:function(bQ,bu){var K=cX.Common.apply(this,arguments);if(bQ.color){K.setColor(bQ.color);}if(bQ.path){K.setPath(bQ.path);}if(bQ.thickness){K.setThickness(bQ.thickness);}if(bQ.horizontalAlignment){K.setHorizontalAlignment(bQ.horizontalAlignment);}return cX.postCreate(K,bQ);},HighlightAnnotation:function(bQ,bu){var K=cX.Common.apply(this,arguments);if(bQ.fillColor){K.setFillColor(bQ.fillColor);}return cX.postCreate(K,bQ);},ImageStampAnnotation:function(bQ,bu){var K=cX.Common.apply(this,arguments);if(bQ.imageDataUrl&&bQ.imageId){K.setImage({id:bQ.imageId,dataUrl:bQ.imageDataUrl});}return cX.postCreate(K,bQ);},ImageStampRedaction:function(bQ,bu){return cX.ImageStampAnnotation.apply(this,arguments);},LineAnnotation:function(bQ,bu){var K=cX.Common.apply(this,arguments);if(bQ.color){K.setColor(bQ.color);}if(bQ.endHeadType){K.setEndHeadType(bQ.endHeadType);}if(bQ.opacity){K.setOpacity(bQ.opacity);}if(bQ.thickness){K.setThickness(bQ.thickness);}return cX.postCreate(K,bQ);},PolylineAnnotation:function(bQ,bu){var K=cX.Common.apply(this,arguments);if(bQ.color){K.setColor(bQ.color);}if(bQ.opacity){K.setOpacity(bQ.opacity);}if(bQ.thickness){K.setThickness(bQ.thickness);}return cX.postCreate(K,bQ);},RectangleAnnotation:function(bQ,bu){var K=cX.Common.apply(this,arguments);if(bQ.borderColor){K.setBorderColor(bQ.borderColor);}if(bQ.borderThickness){K.setBorderThickness(bQ.borderThickness);}if(bQ.fillColor){K.setFillColor(bQ.fillColor);}if(bQ.opacity){K.setOpacity(bQ.opacity);}return cX.postCreate(K,bQ);},RectangleRedaction:function(bQ,bu){var K=cX.Common.apply(this,arguments);if(bQ.reason){K.setReason(bQ.reason);}if(bQ.fillColor){K.setFillColor(bQ.fillColor);}if(bQ.borderColor){K.setBorderColor(bQ.borderColor);}if(bQ.borderThickness){K.setBorderThickness(bQ.borderThickness);}if(bQ.fontColor){K.setFontColor(bQ.fontColor);}return cX.postCreate(K,bQ);},StampAnnotation:function(bQ,bu){var K=cX.Common.apply(this,arguments);if(bQ.label){K.setLabel(bQ.label);}if(bQ.color){K.setColor(bQ.color);}return cX.postCreate(K,bQ);},StampRedaction:function(bQ,bu){var K=cX.Common.apply(this,arguments);if(bQ.label){K.setLabel(bQ.label);}return cX.postCreate(K,bQ);},StrikethroughAnnotation:function(bQ,bu){var K=cX.Common.apply(this,arguments);if(bQ.color){K.setColor(bQ.color);}if(bQ.thickness){K.setThickness(bQ.thickness);}return cX.postCreate(K,bQ);},TextAnnotation:function(bQ,bu){var K=cX.Common.apply(this,arguments);if(bQ.borderColor){K.setBorderColor(bQ.borderColor);}if(bQ.borderThickness){K.setBorderThickness(bQ.borderThickness);}if(bQ.fillColor){K.setFillColor(bQ.fillColor);}if(bQ.fontColor){K.setFontColor(bQ.fontColor);}if(bQ.fontName){K.setFontName(bQ.fontName);}if(bQ.fontSize){K.setFontSize(bQ.fontSize);}if(bQ.fontStyle){K.setFontStyle(bQ.fontStyle);}if(bQ.maxLength){K.setMaxLength(bQ.maxLength);}if(bQ.horizontalAlignment){K.setHorizontalAlignment(bQ.horizontalAlignment);}if(bQ.opacity){K.setOpacity(bQ.opacity);}if(bQ.text){K.setText(bQ.text);}return cX.postCreate(K,bQ);},TextAreaSignature:function(bQ,bu){var K=cX.Common.apply(this,arguments);if(bQ.text){K.setText(bQ.text);}if(bQ.fontColor){K.setFontColor(bQ.fontColor);}if(bQ.fontName){K.setFontName(bQ.fontName);}if(bQ.maxFontSize){K.setMaxFontSize(bQ.maxFontSize);}if(bQ.fontStyle){K.setFontStyle(bQ.fontStyle);}if(bQ.maxLength){K.setMaxLength(bQ.maxLength);}if(bQ.horizontalAlignment){K.setHorizontalAlignment(bQ.horizontalAlignment);}return cX.postCreate(K,bQ);},TextHyperlinkAnnotation:function(bQ,bu){var K=cX.Common.apply(this,arguments);if(bQ.fillColor){K.setFillColor(bQ.fillColor);}if(bQ.href){K.setHref(bQ.href);}return cX.postCreate(K,bQ);},TextInputSignature:function(bQ,bu){var K=cX.Common.apply(this,arguments);if(bQ.fontColor){K.setFontColor(bQ.fontColor);}if(bQ.fontName){K.setFontName(bQ.fontName);}if(bQ.text){K.setText(bQ.text);}if(bQ.maxLength){K.setMaxLength(bQ.maxLength);}if(bQ.mask){cX.setMask(K,bQ.mask);}if(bQ.horizontalAlignment){K.setHorizontalAlignment(bQ.horizontalAlignment);}return cX.postCreate(K,bQ);},TextRedaction:function(bQ,bu){var K=cX.Common.apply(this,arguments);if(bQ.fontColor){K.setFontColor(bQ.fontColor);}if(bQ.fontName){K.setFontName(bQ.fontName);}if(bQ.fontSize){K.setFontSize(bQ.fontSize);}if(bQ.maxLength){K.setMaxLength(bQ.maxLength);}if(bQ.text){K.setText(bQ.text);}if(bQ.horizontalAlignment){K.setHorizontalAlignment(bQ.horizontalAlignment);}return cX.postCreate(K,bQ);},TextSelectionRedaction:function(bQ,bu){var K=cX.Common.apply(this,arguments);if(bQ.reason){K.setReason(bQ.reason);}return cX.postCreate(K,bQ);},TextSignature:function(bQ,bu){var K=cX.Common.apply(this,arguments);if(bQ.color){K.setColor(bQ.color);}if(bQ.fontName){K.setFontName(bQ.fontName);}if(bQ.text){K.setText(bQ.text);}if(bQ.horizontalAlignment){K.setHorizontalAlignment(bQ.horizontalAlignment);}return cX.postCreate(K,bQ);},TransparentRectangleRedaction:function(bQ,bu){var K=cX.Common.apply(this,arguments);return cX.postCreate(K,bQ);}};module.exports=cX;},{}],149:[function(require,module,exports){var Gz={HideSideHandlesWhenClose:"HideSideHandlesWhenClose",HideCornerHandlesWhenClose:"HideCornerHandlesWhenClose"};module.exports=Gz;},{}],150:[function(require,module,exports){var fH={serializeMask:function(iv){var acx={value:iv.value,translations:{}};IPCC.C.forEach(iv.translations,function(al,aV){acx.translations[aV]=al.toString();});return acx;},copyRectangle:function(R){return{x:R.x,y:R.y,width:R.width,height:R.height};},Common:function(ag,bA){var ba;var bS;if(ag.page){ba=ag.page.get_pageHeight();bS=ag.page.get_pageWidth();}else{ba=null;bS=null;}var aR=ag.mark.getPageNumber();var bQ={uid:ag.mark.getUid(),interactionMode:ag.mark.getInteractionMode(),pageNumber:aR,type:ag.mark.getType(),creationDateTime:IPCC.C.wD(ag.mark.L.alS()),modificationDateTime:IPCC.C.wD(ag.mark.L.alP()),data:fH.Data(ag.mark),conversation:fH.Conversation(ag.mark.getConversation())};function xp(aX){return{x:aX.x,y:aX.y};};function aAK(){var JB=IPCC.C.map([].concat(ag.mark.L,ag.mark.cu),function(L){if(bS!==null){return{pageNumber:L.bF+1,pageData:{width:bS,height:ba},startIndex:L.get_startIndex(),textLength:L.get_textLength(),lines:IPCC.C.map(L.am,function(ak){if(ak.get_rectangle){return fH.copyRectangle(ak.get_rectangle());}else{return fH.copyRectangle(ak);}})};}else{return{pageNumber:L.bF+1,startIndex:L.get_startIndex(),textLength:L.get_textLength(),lines:IPCC.C.map(L.am,function(ak){if(ak.get_rectangle){return fH.copyRectangle(ak.get_rectangle());}else{return fH.copyRectangle(ak);}})};}});bQ.lineGroups=JB;};function aeY(){if(ag.mark.getRectangle){bQ.rectangle=fH.copyRectangle(ag.mark.getRectangle());if(bS!==null){bQ.pageData={width:bS,height:ba};}}if(ag.mark.getStartPoint){bQ.startPoint=xp(ag.mark.getStartPoint());if(bS!==null){bQ.pageData=bQ.pageData||{width:bS,height:ba};}}if(ag.mark.getEndPoint){bQ.endPoint=xp(ag.mark.getEndPoint());if(bS!==null){bQ.pageData=bQ.pageData||{width:bS,height:ba};}}if(ag.mark.getPoints){var aY=ag.mark.getPoints();bQ.points=IPCC.C.map(aY,xp);if(bS!==null){bQ.pageData={width:bS,height:ba};}}if(ag.mark.L.am){aAK();}};if(bS!==undefined&&ba!==undefined&&bS!==0&&ba!==0){aeY();bA(undefined,bQ);}else{ag.vc.requestPageAttributes(aR).then(function aIv(ajC){ba=ajC.height;bS=ajC.width;aeY();bA(undefined,bQ);},function aFA(eU){bA(eU);});}},Data:function(bQ){return IPCC.C.reduce(bQ.getDataKeys(),function(fL,aV){fL[aV]=bQ.getData(aV);return fL;},{});},Comment:function(di){return{text:di.getText(),data:fH.Data(di),creationDateTime:IPCC.C.wD(di.getCreationTime())};},Conversation:function(cE){return{comments:IPCC.C.map(cE.getComments(),function(di){return fH.Comment(di);}),data:fH.Data(cE)};},EllipseAnnotation:function(ag,bA){fH.RectangleAnnotation(ag,bA);},FreehandAnnotation:function(ag,bA){fH.Common(ag,function(dM,bQ){if(dM){bA(dM);return;}bQ=IPCC.C.extend(bQ,{color:ag.mark.getColor(),opacity:ag.mark.getOpacity(),path:ag.mark.getPath(),thickness:ag.mark.getThickness()});bA(undefined,bQ);});},FreehandSignature:function(ag,bA){fH.Common(ag,function(dM,bQ){if(dM){bA(dM);return;}bQ=IPCC.C.extend(bQ,{color:ag.mark.getColor(),path:ag.mark.getPath(),thickness:ag.mark.getThickness(),horizontalAlignment:ag.mark.getHorizontalAlignment()});bA(undefined,bQ);});},HighlightAnnotation:function(ag,bA){fH.Common(ag,function(dM,bQ){if(dM){bA(dM);return;}var dr=ag.mark.getPosition();bQ=IPCC.C.extend(bQ,{fillColor:ag.mark.getFillColor(),textLength:dr.length,startIndex:dr.startIndex,selectedText:ag.mark.getText()});bA(undefined,bQ);});},ImageStampAnnotation:function(ag,bA){fH.Common(ag,function(dM,bQ){if(dM){bA(dM);return;}var bO=ag.mark.getImage();bQ=IPCC.C.extend(bQ,{imageDataUrl:bO.dataUrl,imageId:bO.id});bA(undefined,bQ);});},ImageStampRedaction:function(ag,bA){fH.ImageStampAnnotation(ag,bA);},LineAnnotation:function(ag,bA){fH.Common(ag,function(dM,bQ){if(dM){bA(dM);return;}bQ=IPCC.C.extend(bQ,{color:ag.mark.getColor(),endHeadType:ag.mark.getEndHeadType(),opacity:ag.mark.getOpacity(),thickness:ag.mark.getThickness()});bA(undefined,bQ);});},PolylineAnnotation:function(ag,bA){fH.Common(ag,function(dM,bQ){if(dM){bA(dM);return;}bQ=IPCC.C.extend(bQ,{color:ag.mark.getColor(),opacity:ag.mark.getOpacity(),thickness:ag.mark.getThickness()});bA(undefined,bQ);});},RectangleAnnotation:function(ag,bA){fH.Common(ag,function(dM,bQ){if(dM){bA(dM);return;}bQ=IPCC.C.extend(bQ,{borderColor:ag.mark.getBorderColor(),borderThickness:ag.mark.getBorderThickness(),fillColor:ag.mark.getFillColor(),opacity:ag.mark.getOpacity()});bA(undefined,bQ);});},RectangleRedaction:function(ag,bA){fH.Common(ag,function(dM,bQ){if(dM){bA(dM);return;}bQ=IPCC.C.extend(bQ,{reason:ag.mark.getReason(),fillColor:ag.mark.getFillColor(),borderColor:ag.mark.getBorderColor(),borderThickness:ag.mark.getBorderThickness(),fontColor:ag.mark.getFontColor()});bA(undefined,bQ);});},StampAnnotation:function(ag,bA){fH.Common(ag,function(dM,bQ){if(dM){bA(dM);return;}bQ=IPCC.C.extend(bQ,{label:ag.mark.getLabel(),color:ag.mark.getColor()});bA(undefined,bQ);});},StampRedaction:function(ag,bA){fH.Common(ag,function(dM,bQ){if(dM){bA(dM);return;}bQ=IPCC.C.extend(bQ,{label:ag.mark.getLabel()});bA(undefined,bQ);});},StrikethroughAnnotation:function(ag,bA){fH.Common(ag,function(dM,bQ){if(dM){bA(dM);return;}var dr=ag.mark.getPosition();bQ=IPCC.C.extend(bQ,{color:ag.mark.getColor(),thickness:ag.mark.getThickness(),textLength:dr.length,startIndex:dr.startIndex,selectedText:ag.mark.getText()});bA(undefined,bQ);});},TextAnnotation:function(ag,bA){fH.Common(ag,function(dM,bQ){if(dM){bA(dM);return;}bQ=IPCC.C.extend(bQ,{borderColor:ag.mark.getBorderColor(),borderThickness:ag.mark.getBorderThickness(),fillColor:ag.mark.getFillColor(),fontColor:ag.mark.getFontColor(),fontName:ag.mark.getFontName(),fontSize:ag.mark.getFontSize(),fontStyle:ag.mark.getFontStyle(),maxLength:ag.mark.getMaxLength(),horizontalAlignment:ag.mark.getHorizontalAlignment(),opacity:ag.mark.getOpacity(),text:ag.mark.getText()});bA(undefined,bQ);});},TextAreaSignature:function(ag,bA){fH.Common(ag,function(dM,bQ){if(dM){bA(dM);return;}bQ=IPCC.C.extend(bQ,{text:ag.mark.getText(),fontColor:ag.mark.getFontColor(),fontName:ag.mark.getFontName(),fontStyle:ag.mark.getFontStyle(),maxFontSize:ag.mark.getMaxFontSize(),maxLength:ag.mark.getMaxLength(),horizontalAlignment:ag.mark.getHorizontalAlignment(),});bA(undefined,bQ);});},TextHyperlinkAnnotation:function(ag,bA){fH.Common(ag,function(dM,bQ){if(dM){bA(dM);return;}var dr=ag.mark.getPosition();bQ=IPCC.C.extend(bQ,{href:ag.mark.getHref(),fillColor:ag.mark.getFillColor(),textLength:dr.length,startIndex:dr.startIndex,selectedText:ag.mark.getText()});bA(undefined,bQ);});},TextInputSignature:function(ag,bA){fH.Common(ag,function(dM,bQ){if(dM){bA(dM);return;}bQ=IPCC.C.extend(bQ,{fontColor:ag.mark.getFontColor(),fontName:ag.mark.getFontName(),text:ag.mark.getText(),mask:ag.mark.getMask(),maxLength:ag.mark.getMaxLength(),horizontalAlignment:ag.mark.getHorizontalAlignment()});if(ag.mark.getMask()){bQ.mask=fH.serializeMask(ag.mark.getMask());}bA(undefined,bQ);});},TextRedaction:function(ag,bA){fH.Common(ag,function(dM,bQ){if(dM){bA(dM);return;}bQ=IPCC.C.extend(bQ,{fontColor:ag.mark.getFontColor(),fontName:ag.mark.getFontName(),fontSize:ag.mark.getFontSize(),text:ag.mark.getText(),maxLength:ag.mark.getMaxLength(),horizontalAlignment:ag.mark.getHorizontalAlignment()});bA(undefined,bQ);});},TextSelectionRedaction:function(ag,bA){fH.Common(ag,function(dM,bQ){if(dM){bA(dM);return;}var dr=ag.mark.getPosition();bQ=IPCC.C.extend(bQ,{reason:ag.mark.getReason(),textLength:dr.length,startIndex:dr.startIndex,selectedText:ag.mark.getText()});bA(undefined,bQ);});},TextSignature:function(ag,bA){fH.Common(ag,function(dM,bQ){if(dM){bA(dM);return;}bQ=IPCC.C.extend(bQ,{color:ag.mark.getColor(),fontName:ag.mark.getFontName(),text:ag.mark.getText(),horizontalAlignment:ag.mark.getHorizontalAlignment()});bA(undefined,bQ);});},TransparentRectangleRedaction:function(ag,bA){fH.Common(ag,bA);}};module.exports=fH;},{}],151:[function(require,module,exports){'use strict';var IPCC=require('./../IPCC/IPCC');var Data=require('./PCCViewer.Data').Data;var SessionData=require('./PCCViewer.Data').SessionData;function Mark(parameters){this.aR=0;this.cS=undefined;this.yx=false;this.nf=Mark.InteractionMode.Full;this.cQ=true;if(parameters.uid&&parameters.viewerControl){(function(bb,ln){IPCC.C.forEach(bb,function validateMark(kf){if(kf.getUid()===ln){throw new Error('Uid '+ln+' already exists in the document and cannot be duplicated.');}});})(parameters.viewerControl.getAllMarks(),parameters.uid);}var ln=parameters.uid||IPCC.C.acJ();if(parameters.igMark&&parameters.igMark instanceof IPCC.Web.UI.Mark){this.L=parameters.igMark;this.cS=this.L.get_markID().toString();this.bX=this.L.get_data();}else{this.bX=new IPCC.Web.UI.Data();}Data.extend(this);this.Ck=new IPCC.Web.UI.Data();SessionData.extend(this);if(parameters.pageNumber!==undefined){IPCC.bC.jl(parameters.pageNumber,'pageNumber');this.aR=parameters.pageNumber;}if(parameters.id!==undefined){IPCC.bC.lW(parameters.id,'id');this.cS=parameters.id;}if(parameters.type&&parameters.type==='PlaceSignature'&&parameters.yx){this.bd=parameters.type;this.yx=true;}else if(parameters.type!==undefined){IPCC.bC.lW(parameters.type,'type');var Fl=NT(parameters.type,Mark.Type);if(Fl===null){throw new RangeError("The value of mark type was invalid.");}this.bd=Fl;}if('dn'in parameters){this.dn=parameters.dn;}if('bK'in parameters){this.bK=parameters.bK;}addPropertiesToMark(this);addMethodsToMark(this);this.getUid=function(){return ln;};if(Object.defineProperties&&Object.defineProperty){Object.defineProperty(this,'uid',{value:ln,enumerable:true,writable:false});}};Mark.prototype.getType=function(){return this.bd;};Mark.prototype.getId=function(){return this.cS;};Mark.prototype.getPageNumber=function(){return this.aR;};Mark.prototype.getConversation=function(){if(!this.cE){this.cE=new PCCViewer.Conversation(this);}return this.cE;};Mark.prototype.getBoundingRectangle=function(){if(this.L){var ak=this.L.get_boundingRectangle();if(ak instanceof IPCC.Web.UI.Rectangle){this.mf={width:ak.width,height:ak.height,x:ak.x,y:ak.y};}}return this.mf;};Mark.prototype.getInteractionMode=function(){if(this.L){switch(this.L.get_interactionMode()){case IPCC.Web.UI.MarkInteractionMode.SelectionDisabled:return PCCViewer.Mark.InteractionMode.SelectionDisabled;case IPCC.Web.UI.MarkInteractionMode.Full:return PCCViewer.Mark.InteractionMode.Full;default:return PCCViewer.Mark.InteractionMode.Full;}}return this.nf;};Mark.prototype.setInteractionMode=function(interactionMode){var nf=NT(interactionMode,PCCViewer.Mark.InteractionMode),Ze;switch(nf){case PCCViewer.Mark.InteractionMode.SelectionDisabled:Ze=IPCC.Web.UI.MarkInteractionMode.SelectionDisabled;break;case PCCViewer.Mark.InteractionMode.Full:Ze=IPCC.Web.UI.MarkInteractionMode.Full;break;default:throw new Error("The specified interactionMode is not valid.");}if(this.L){this.L.set_interactionMode(Ze);}this.nf=nf;return this;};Mark.prototype.reset=function(){var cL=new Mark({type:this.bd,yx:this.yx});this.bX={};if(this.setBorderColor&&cL.getBorderColor){this.setBorderColor(cL.getBorderColor());}if(this.setBorderThickness&&cL.getBorderThickness){this.setBorderThickness(cL.getBorderThickness());}if(this.setColor&&cL.getColor){this.setColor(cL.getColor());}if(this.setEndHeadType&&cL.getEndHeadType){this.setEndHeadType(cL.getEndHeadType());}if(this.setEndPoint&&cL.getEndPoint){this.setEndPoint(cL.getEndPoint());}if(this.setFillColor&&cL.getFillColor){this.setFillColor(cL.getFillColor());}if(this.setFontColor&&cL.getFontColor){this.setFontColor(cL.getFontColor());}if(this.setFontName&&cL.getFontName){this.setFontName(cL.getFontName());}if(this.setFontSize&&cL.getFontSize){this.setFontSize(cL.getFontSize());}if(this.setFontStyle&&cL.getFontStyle){this.setFontStyle(cL.getFontStyle());}if(this.setHorizontalAlignment&&cL.getHorizontalAlignment){this.setHorizontalAlignment(cL.getHorizontalAlignment());}if(this.setLabel&&cL.getLabel){this.setLabel(cL.getLabel());}if(this.setPosition&&this.L&&cL.getPosition){this.setPosition(cL.getPosition());}if(this.setReason&&cL.setReason){this.setReason(cL.getReason());}if(this.setOpacity&&cL.getOpacity){this.setOpacity(cL.getOpacity());}if(this.setRectangle&&cL.getRectangle){this.setRectangle(cL.getRectangle());}if(this.setStartPoint&&cL.getStartPoint){this.setStartPoint(cL.getStartPoint());}if(this.setText&&cL.getText){this.setText(cL.getText());}if(this.setThickness&&cL.getThickness){this.setThickness(cL.getThickness());}if(this.setPath&&cL.getPath){this.setPath(cL.getPath());}if(this.setHref&&cL.getHref){this.setHref(cL.getHref());}if(this.setImage&&cL.getImage){this.setImage(cL.getImage());}if(this.setInteractionMode&&cL.getInteractionMode){this.setInteractionMode(cL.getInteractionMode());}if(this.setPoints&&cL.getPoints){this.setPoints(cL.getPoints());}if(this.setMask&&cL.getMask){this.setMask(cL.getMask());}if(this.setMaxLength&&cL.getMaxLength){this.setMaxLength(cL.getMaxLength());}if(this.setMaxFontSize&&cL.getMaxFontSize){this.setMaxFontSize(cL.getMaxFontSize());}};if(Object.defineProperties){Object.defineProperties(Mark.prototype,{"type":{enumerable:true,get:function(){return this.getType();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();}},"id":{enumerable:true,get:function(){return this.getId();}},"conversation":{enumerable:true,get:function(){return this.getConversation();}},"boundingRectangle":{enumerable:true,get:function(){return this.getBoundingRectangle();}},"interactionMode":{enumerable:true,get:function(){return this.getInteractionMode();},set:function(value){return this.setInteractionMode(value);}}});}Mark.Type={LineAnnotation:"LineAnnotation",RectangleAnnotation:"RectangleAnnotation",EllipseAnnotation:"EllipseAnnotation",TextAnnotation:"TextAnnotation",StampAnnotation:"StampAnnotation",HighlightAnnotation:"HighlightAnnotation",RectangleRedaction:"RectangleRedaction",TransparentRectangleRedaction:"TransparentRectangleRedaction",TextHyperlinkAnnotation:"TextHyperlinkAnnotation",TextRedaction:"TextRedaction",StampRedaction:"StampRedaction",FreehandAnnotation:"FreehandAnnotation",FreehandSignature:"FreehandSignature",TextSignature:"TextSignature",TextInputSignature:"TextInputSignature",TextAreaSignature:"TextAreaSignature",TextSelectionRedaction:"TextSelectionRedaction",ImageStampAnnotation:"ImageStampAnnotation",ImageStampRedaction:"ImageStampRedaction",PolylineAnnotation:"PolylineAnnotation",StrikethroughAnnotation:"StrikethroughAnnotation"};Mark.LineHeadType={None:"None",FilledTriangle:"FilledTriangle"};Mark.FontStyles={Bold:"Bold",Italic:"Italic",Strikeout:"Strikeout",Underline:"Underline"};Mark.InteractionMode={Full:"Full",SelectionDisabled:"SelectionDisabled"};Mark.HorizontalAlignment={Center:"Center",Left:"Left",Right:"Right"};function NT(Tm,bd){var Zn=Tm.toLowerCase();for(var standardType in bd){if(bd.hasOwnProperty(standardType)&&standardType.toLowerCase&&standardType.toLowerCase()===Zn){return standardType;}}return null;};function addMethodsToMark(K){function aAE(K){K.highlightText=function(highlights){if(!this.L){throw new Error("It is invalid to highlight text on this mark.");}var jW;if(highlights!==null&&typeof highlights!=="undefined"){if(Object.prototype.toString.call(highlights)!=='[object Array]'){jW=[highlights];}else{jW=highlights;}for(var i=0;i<jW.length;i++){auH(jW[i]);}}else{jW=[];}var bd=K.getType();switch(bd){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:K.L.selectText(jW);break;case Mark.Type.HighlightAnnotation:case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.StrikethroughAnnotation:var J=this;var Qy=[];var sO=false,MZ=0,MK,Cf;var afw=function(Fr,apM,hJ){var yP;var Wc= -1,QF=[];var vK=(Fr.aU+Fr.cD);if(sO===true&&MK>=0&&Cf>=0){if(Fr.bF-1===MK){yP=0;if(MZ<=vK){QF.push({startIndex:yP,length:MZ,color:hJ[Cf].color,opacity:(hJ[Cf].opacity)?hJ[Cf].opacity:127});sO=false;MZ=0;MK= -1;Cf= -1;}}}for(var as=0;as<hJ.length;as++){yP=Fr.aU+hJ[as].startIndex-apM;if(yP<0){continue;}if(Array.prototype.indexOf){Wc=Qy.indexOf(as);}else{Wc=IPCC.Web.iE(Qy,as);}var du=127;if(Wc=== -1){if(yP+hJ[as].length<=vK){if(hJ[as].opacity){du=hJ[as].opacity;}QF.push({startIndex:yP,length:hJ[as].length,color:hJ[as].color,opacity:du});Qy.push(as);J.Be.push(hJ[as]);}else{var Xf=vK-yP;if(Xf>0){MZ=hJ[as].length-Xf;du=127;if(hJ[as].opacity){du=hJ[as].opacity;}QF.push({startIndex:yP,length:Xf,color:hJ[as].color,opacity:du});Qy.push(as);J.Be.push(hJ[as]);sO=true;Cf=as;MK=Fr.bF;}}}}return QF;};this.Be=[];var fu=afw(this.L,0,jW);K.clearHighlights();if(fu.length>0){J.L.selectText(fu);}fu=[];var gK=this.L.cD;if(this.cu&&this.cu.length){for(var h=0;h<this.cu.length;h++){fu=[];fu=afw(this.cu[h],gK,jW);gK+=this.cu[h].cD;if(fu.length>0){this.cu[h].selectText(fu);}}}break;}return this;};function auH(FV){IPCC.bC.mE(FV.startIndex,'highlight.startIndex',0,K.getText().length);IPCC.bC.mE(FV.length,'highlight.length',1,Number.MAX_VALUE);IPCC.bC.db(FV.color,'highlight.color');if(FV.opacity){IPCC.bC.mE(FV.opacity,"highlight.opacity",0,255);}};K.clearHighlights=function(){if(this.L){if(!this.L){throw new Error("It is invalid to clear highlights on this mark.");}}var bd=K.getType();switch(bd){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:K.L.selectText();break;case Mark.Type.HighlightAnnotation:case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.StrikethroughAnnotation:this.L.selectText();if(this.cu&&this.cu.length){for(var h=0;h<this.cu.length;h++){this.cu[h].selectText();}}break;}return this;};};var bd=K.getType();switch(bd){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.HighlightAnnotation:case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.StrikethroughAnnotation:aAE(K);break;default:break;}};function addPropertiesToMark(K){K.mf={x:0,y:0,width:0,height:0};var bd=K.getType();switch(bd){case Mark.Type.LineAnnotation:K.db='#18385F';K.hS=IPCC.Web.UI.LineStyle.Solid;K.os=6;K.du=255;K.RJ={x:0,y:0};K.vK={x:0,y:0};K.oP="None";break;case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:K.cw='#FB0404';K.du=255;K.oU='#000000';K.lN=4;K.R={x:0,y:0,width:0,height:0};break;case Mark.Type.RectangleRedaction:K.eU="";K.cw='#000000';K.oU='#000000';K.lN=1;K.gQ='#FFFFFF';K.R={x:0,y:0,width:0,height:0};K.ot=true;if(K.L){K.L.kL(K.ot);}break;case Mark.Type.TransparentRectangleRedaction:K.R={x:0,y:0,width:0,height:0};K.ot=true;if(K.L){K.L.kL(K.ot);K.L.set_fillColor('#FFFF00');K.L.set_opacity(127);K.L.set_lineWidth(1);K.L.set_lineColor('#FFFF00');}break;case Mark.Type.TextAnnotation:K.bo='';K.cw='#FFFFFF';K.du=127;K.oU='#000000';K.lN=4;K.gQ='#000000';K.gk="Arial";K.dH=12;K.co=[];K.nn="Left";K.gY=0;K.R={x:0,y:0,width:0,height:0};break;case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:K.tQ="Approved";K.R={x:0,y:0,width:0,height:0};if(bd===Mark.Type.StampRedaction){K.ot=true;if(K.L){K.L.kL(K.ot);K.L.set_fillColor('#000000');}}else{K.db="#000000";}break;case Mark.Type.HighlightAnnotation:K.cw="#FFFF00";K.bo='';K.cO='';if(K.L){if(K.L.cO){K.bo=K.L.cO;}}K.dr={startIndex:0,length:0};K.Be=[];K.cu=[];break;case Mark.Type.TextSelectionRedaction:K.eU="";K.bo='';K.dr={startIndex:0,length:0};if(K.L){K.L.set_fillColor('#000000');if(K.L.cO){K.bo=K.L.cO;}}K.Be=[];K.cu=[];break;case Mark.Type.TextHyperlinkAnnotation:K.lm='';K.cw="#3B00FF";K.bo='';if(K.L){if(K.L.cO){K.bo=K.L.cO;}}K.dr={startIndex:0,length:0};K.Be=[];K.cu=[];break;case Mark.Type.TextRedaction:K.bo='';K.gQ='#000000';K.gk="Arial";K.dH=12;K.R={x:0,y:0,width:0,height:0};K.ot=true;K.gY=0;if(K.L){K.L.kL(K.ot);K.L.set_fillColor('#FFFFFF');}K.nn="Left";break;case Mark.Type.FreehandAnnotation:K.du=255;K.R={x:0,y:0,width:0,height:0};K.os=4;K.db='#000000';K.gp='M0,0';break;case Mark.Type.FreehandSignature:K.R={x:0,y:0,width:0,height:0};K.os=4;K.db='#000000';K.nn="Center";K.gp='M0,0';break;case Mark.Type.TextSignature:K.bo="John Doe";K.R={x:0,y:0,width:0,height:0};K.db="#000000";if(K.L){K.db=K.L.cw||'#000000';K.L.kL(K.ot);K.L.set_fillColor(K.db);}K.nn="Center";K.gk="";break;case Mark.Type.TextInputSignature:K.bo="";K.R={x:0,y:0,width:0,height:0};K.gQ="#000000";K.gY=0;if(K.L){K.gQ=K.L.get_textColor()||'#000000';K.L.kL(false);}K.nn="Left";K.gk="Courier New";K.iv=null;break;case Mark.Type.TextAreaSignature:K.bo="";K.R={x:0,y:0,width:0,height:0};K.gQ="#000000";if(K.L){K.gQ=K.L.get_textColor()||'#000000';K.L.kL(false);}K.nn="Left";K.gk="Courier New";K.co=[];K.gY=0;K.ib=0;break;case 'PlaceSignature':K.kj=undefined;K.R={x:0,y:0,width:0,height:0};break;case Mark.Type.ImageStampAnnotation:case Mark.Type.ImageStampRedaction:K.bO="";K.qv="";K.R={x:0,y:0,width:0,height:0};if(K.L&&bd===Mark.Type.ImageStampRedaction){K.ot=true;K.L.kL(K.ot);}break;case Mark.Type.PolylineAnnotation:K.db='#000000';K.hS=IPCC.Web.UI.LineStyle.Solid;K.os=2;K.du=255;K.aY=[{x:0,y:0},{x:0,y:0}];break;case Mark.Type.StrikethroughAnnotation:K.db='#000000';K.hS=IPCC.Web.UI.LineStyle.Solid;K.os=2;K.bo='';K.cO='';if(K.L){if(K.L.cO){K.bo=K.L.cO;}}K.dr={startIndex:0,length:0};K.Be=[];K.cu=[];break;}function getSignature(){return this.kj||undefined;};function setSignature(signature){if(typeof signature==='undefined'){this.kj=undefined;return;}else if(typeof signature!=='object'){throw new Error("The parameter `signature` is not an Object.");}if(!signature.path&& !signature.text){throw new Error("The parameter `signature` should have at least one of these properties: text, path");}else{if(signature.path){if(signature.path.length<1){throw new Error("The property `signature.path` cannot be empty.");}else if(signature.path.match(/[^MLC0-9,.\s]/)){throw new Error("The property `signature.path` has invalid characters.");}}else if(signature.text){if(signature.text.length<1){signature.text='';}}}this.kj=signature;return this;};if(K.kj||K.bd==='PlaceSignature'){K.getSignature=getSignature;K.setSignature=setSignature;if(Object.defineProperties){Object.defineProperties(K,{"signature":{enumerable:true,get:function(){return this.getSignature();},set:function(value){return this.setSignature(value);}}});}}function getColor(){if(this.L){switch(this.bd){case Mark.Type.LineAnnotation:case Mark.Type.PolylineAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.FreehandAnnotation:case Mark.Type.StrikethroughAnnotation:this.db=this.L.get_lineColor()||this.db;break;case Mark.Type.StampAnnotation:case Mark.Type.TextSignature:this.db=this.L.get_fillColor()||this.db;break;}}return this.db;};function setColor(value){IPCC.bC.db(value,'color');this.db=value;if(this.L){switch(this.bd){case Mark.Type.LineAnnotation:case Mark.Type.PolylineAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.FreehandAnnotation:this.L.set_lineColor(value);break;case Mark.Type.StampAnnotation:this.L.set_fillColor(value);break;case Mark.Type.TextSignature:this.L.set_textColor(value);this.L.set_fillColor(value);break;case Mark.Type.StrikethroughAnnotation:this.L.set_lineColor(value);if(this.cu&&this.cu.length){for(var h=0;h<this.cu.length;h++){this.cu[h].set_lineColor(value);}}break;}}return this;};if(K.db!==undefined){K.getColor=getColor;K.setColor=setColor;if(Object.defineProperties){Object.defineProperties(K,{"color":{enumerable:true,get:function(){return this.getColor();},set:function(value){return this.setColor(value);}}});}}function getFillColor(){if(this.L){switch(this.bd){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.HighlightAnnotation:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.RectangleRedaction:this.cw=this.L.get_fillColor()||this.cw;break;}}return this.cw;};function setFillColor(value){if(this.bd===PCCViewer.Mark.Type.HighlightAnnotation||this.bd===PCCViewer.Mark.Type.TextHyperlinkAnnotation){IPCC.bC.db(value,'fillColor');}else{IPCC.bC.TM(value,'fillColor');}this.cw=value;if(this.L){switch(this.bd){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.L.set_fillColor(value);break;case Mark.Type.HighlightAnnotation:case Mark.Type.TextHyperlinkAnnotation:this.L.set_fillColor(value);if(this.cu&&this.cu.length){for(var h=0;h<this.cu.length;h++){this.cu[h].set_fillColor(value);}}break;}}return this;};if(K.cw!==undefined){K.getFillColor=getFillColor;K.setFillColor=setFillColor;if(Object.defineProperties){Object.defineProperties(K,{"fillColor":{enumerable:true,get:function(){return this.getFillColor();},set:function(value){return this.setFillColor(value);}}});}}function getImage(){var retVal={dataUrl:this.bO,id:this.qv};return retVal;};function setImage(params){IPCC.bC.lW(params.dataUrl,'string');IPCC.bC.lW(params.id,'string');this.bO=params.dataUrl;this.qv=params.id;if(this.L){switch(this.bd){case Mark.Type.ImageStampAnnotation:case Mark.Type.ImageStampRedaction:this.L.set_image(params.dataUrl);this.L.qv=params.id;break;}}return this;};if(K.bO!==undefined){K.getImage=getImage;K.setImage=setImage;if(Object.defineProperties){Object.defineProperties(K,{"image":{enumerable:true,get:function(){return this.getImage();},set:function(params){return this.setImage(params);}}});}}function getBorderColor(){if(this.L){switch(this.bd){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.oU=this.L.get_lineColor()||this.oU;break;}}return this.oU;};function setBorderColor(value){IPCC.bC.TM(value,'borderColor');this.oU=value;if(this.L){switch(this.bd){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.L.set_lineColor(value);break;}}return this;};if(K.oU!==undefined){K.getBorderColor=getBorderColor;K.setBorderColor=setBorderColor;if(Object.defineProperties){Object.defineProperties(K,{"borderColor":{enumerable:true,get:function(){return this.getBorderColor();},set:function(value){return this.setBorderColor(value);}}});}}function getOpacity(){if(this.L){switch(this.bd){case Mark.Type.LineAnnotation:case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.FreehandAnnotation:case Mark.Type.PolylineAnnotation:this.du=this.L.get_opacity()||this.du;break;}}return this.du;};function setOpacity(value){IPCC.bC.mE(value,'opacity',0,255);this.du=value;if(this.L){switch(this.bd){case Mark.Type.LineAnnotation:case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.FreehandAnnotation:case Mark.Type.PolylineAnnotation:this.L.set_opacity(value);break;}}return this;};if(K.du!==undefined&&K.du>=0){K.getOpacity=getOpacity;K.setOpacity=setOpacity;if(Object.defineProperties){Object.defineProperties(K,{"opacity":{enumerable:true,get:function(){return this.getOpacity();},set:function(value){return this.setOpacity(value);}}});}}function getThickness(){if(this.L){switch(this.bd){case Mark.Type.LineAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.FreehandAnnotation:case Mark.Type.PolylineAnnotation:case Mark.Type.StrikethroughAnnotation:this.os=this.L.get_lineWidth()||this.os;break;}}return this.os;};function setThickness(value){IPCC.bC.lg(value,'thickness',1,50);this.os=value;if(this.L){switch(this.bd){case Mark.Type.LineAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.FreehandAnnotation:case Mark.Type.PolylineAnnotation:this.L.set_lineWidth(value);break;case Mark.Type.StrikethroughAnnotation:this.L.set_lineWidth(value);if(this.cu&&this.cu.length){for(var h=0;h<this.cu.length;h++){this.cu[h].set_lineWidth(value);}}break;}}return this;};if(K.os){K.getThickness=getThickness;K.setThickness=setThickness;if(Object.defineProperties){Object.defineProperties(K,{"thickness":{enumerable:true,get:function(){return this.getThickness();},set:function(value){return this.setThickness(value);}}});}}function getBorderThickness(){if(this.L){switch(this.bd){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.lN=this.L.get_lineWidth()||this.lN;break;}}return this.lN;};function setBorderThickness(value){IPCC.bC.lg(value,'borderThickness',1,50);this.lN=value;if(this.L){switch(this.bd){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.L.set_lineWidth(value);break;}}return this;};if(K.lN!==undefined){K.getBorderThickness=getBorderThickness;K.setBorderThickness=setBorderThickness;if(Object.defineProperties){Object.defineProperties(K,{"borderThickness":{enumerable:true,get:function(){return this.getBorderThickness();},set:function(value){return this.setBorderThickness(value);}}});}}function getVisible(){if(this.L){this.cQ=this.L.get_visible();}return this.cQ;};function setVisible(value){if(value!==true&&value!==false){throw new Error("The parameter value is invalid. The parameter must be boolean true or false.");}this.cQ=value;if(this.L){this.L.set_visible(value);}var h;switch(this.bd){case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.HighlightAnnotation:case Mark.Type.StrikethroughAnnotation:if(this.cu&&this.cu.length){for(h=0;h<this.cu.length;h++){this.cu[h].set_visible(value);}}if(this.bd===PCCViewer.Mark.Type.TextSelectionRedaction){var cA=this.L;for(h=0;h<this.L.am.length;h++){cA.am[h].set_visible(value);}if(cA.bn){IPCC.C.forEach(this.cu,function(L){for(h=0;h<L.am.length;h++){L.am[h].set_visible(value);}});}}break;}return this;};if(K.cQ!==undefined){K.getVisible=getVisible;K.setVisible=setVisible;if(Object.defineProperties){Object.defineProperties(K,{"visible":{enumerable:true,get:function(){return this.getVisible();},set:function(value){return this.setVisible(value);}}});}}function getStartPoint(){if(this.L&&this.L!==null){var aY=this.L.get_points();if(aY.get_length()>0){switch(this.bd){case Mark.Type.LineAnnotation:var aX=aY.getPoint(0);if(aX){this.RJ={x:aX.x,y:aX.y};}break;}}}return this.RJ;};function setStartPoint(value){IPCC.bC.jl(value.x,'startPoint'+'.x');IPCC.bC.jl(value.y,'startPoint'+'.y');if(this.L&&this.L!==null){var aY=this.L.get_points();switch(this.bd){case Mark.Type.LineAnnotation:aY.setPoint(0,new IPCC.Web.UI.Point(value.x,value.y));break;}}this.RJ=value;return this;};if(K.RJ){K.getStartPoint=getStartPoint;K.setStartPoint=setStartPoint;if(Object.defineProperties){Object.defineProperties(K,{"startPoint":{enumerable:true,get:function(){return this.getStartPoint();},set:function(value){return this.setStartPoint(value);}}});}}function getEndPoint(){if(this.L&&this.L!==null){var aY=this.L.get_points();if(aY.get_length()>0){switch(this.bd){case Mark.Type.LineAnnotation:var aX=aY.getPoint(1);if(aX){this.vK={x:aX.x,y:aX.y};}break;}}}return this.vK;};function setEndPoint(value){IPCC.bC.jl(value.x,'endPoint'+'.x');IPCC.bC.jl(value.y,'endPoint'+'.y');if(this.L&&this.L!==null){var aY=this.L.get_points();switch(this.bd){case Mark.Type.LineAnnotation:aY.setPoint(1,new IPCC.Web.UI.Point(value.x,value.y));break;}}this.vK=value;return this;};if(K.vK){K.getEndPoint=getEndPoint;K.setEndPoint=setEndPoint;if(Object.defineProperties){Object.defineProperties(K,{"endPoint":{enumerable:true,get:function(){return this.getEndPoint();},set:function(value){return this.setEndPoint(value);}}});}}function getEndHeadType(){if(this.L&&this.L!==null){var Cp;switch(this.bd){case Mark.Type.LineAnnotation:Cp=this.L.get_endHeadType();switch(Cp){case IPCC.Web.UI.LineHeadType.None:this.oP=PCCViewer.Mark.LineHeadType.None;break;case IPCC.Web.UI.LineHeadType.Solid:this.oP=PCCViewer.Mark.LineHeadType.FilledTriangle;break;}break;}}return this.oP;};function setEndHeadType(value){var Cp;switch(value){case Mark.LineHeadType.None:Cp=IPCC.Web.UI.LineHeadType.None;break;case Mark.LineHeadType.FilledTriangle:Cp=IPCC.Web.UI.LineHeadType.Solid;break;default:throw "The specified value is not a valid line head type.";}if(this.L&&this.L!==null){switch(this.bd){case Mark.Type.LineAnnotation:this.L.set_endHeadType(Cp);break;}}this.oP=value;return this;};if(K.oP){K.getEndHeadType=getEndHeadType;K.setEndHeadType=setEndHeadType;if(Object.defineProperties){Object.defineProperties(K,{"endHeadType":{enumerable:true,get:function(){return this.getEndHeadType();},set:function(value){return this.setEndHeadType(value);}}});}}function getPoints(){if(this.L&&this.L!==null){var EW=this.L.get_points();var cg=EW.get_length();var alW=[];var abA=function(aCS,bp){alW.push(aCS.getPoint(bp));};if(cg>1){switch(this.bd){case Mark.Type.PolylineAnnotation:for(var h=0;h<cg;h++){abA(EW,h);}this.aY=alW;break;}}}return this.aY.slice();};function setPoints(value){if(!(value instanceof Array)){throw "invalid parameter. The parameter should be an array.";}if(value.length<=1){return;}for(var as=0;as<value.length;as++){IPCC.bC.aX(value[as],'PolylinePoint');}if(this.L&&this.L!==null){var EW=this.L.get_points();var aqg=function(bp){EW.addPoint(new IPCC.Web.UI.Point(value[bp].x,value[bp].y));};switch(this.bd){case Mark.Type.PolylineAnnotation:EW.removeAllPoints();for(var h=0;h<value.length;h++){aqg(h);}}}this.aY=value;return this;};if(K.aY){K.getPoints=getPoints;K.setPoints=setPoints;if(Object.defineProperties){Object.defineProperties(K,{"points":{enumerable:true,get:function(){return this.getPoints();},set:function(value){return this.setPoints(value);}}});}}function getRectangle(){if(this.L){switch(this.bd){case Mark.Type.RectangleAnnotation:case Mark.Type.RectangleRedaction:case Mark.Type.TransparentRectangleRedaction:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:case Mark.Type.FreehandAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:case Mark.Type.ImageStampAnnotation:case Mark.Type.ImageStampRedaction:var ak=this.L.get_rectangle();if(ak instanceof IPCC.Web.UI.Rectangle){this.R={width:ak.width,height:ak.height,x:ak.x,y:ak.y};}break;}}return this.R;};function setRectangle(value){IPCC.bC.jl(value.x,'rectangle'+'.x');IPCC.bC.jl(value.y,'rectangle'+'.y');IPCC.bC.jl(value.width,'rectangle'+'.width');IPCC.bC.jl(value.height,'rectangle'+'.height');if(this.L&&this.L!==null){switch(this.bd){case Mark.Type.RectangleAnnotation:case Mark.Type.RectangleRedaction:case Mark.Type.TransparentRectangleRedaction:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:case Mark.Type.FreehandAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:case Mark.Type.ImageStampAnnotation:case Mark.Type.ImageStampRedaction:var ak=new IPCC.Web.UI.Rectangle(value.x,value.y,value.width,value.height);this.L.set_rectangle(ak);break;}}this.R=value;return this;};if(K.R){K.getRectangle=getRectangle;K.setRectangle=setRectangle;if(Object.defineProperties){Object.defineProperties(K,{"rectangle":{enumerable:true,get:function(){return this.getRectangle();},set:function(value){return this.setRectangle(value);}}});}}function getPosition(){var dI=0;if(this.L&&this.L.cO){dI=this.L.cO.length;}else if(this.L){dI=IPCC.C.reduce([this.L].concat(this.cu||[]),function(cg,L){return cg+L.get_textLength();},0);}return this.L?{startIndex:this.L.aU,length:dI}:this.dr;};function setPosition(value){IPCC.bC.jl(value.startIndex,'position.startIndex');IPCC.bC.jl(value.length,'position.length');if(value.startIndex<0){throw new Error("The start index must be 0 or greater.");}if(value.length<0){throw new Error("The length must be 0 or greater.");}if(this.L===undefined||this.L===null){throw new Error("The mark must be on a page.");}var aS;var aO;var bF=this.aR-1;var tK= -value.startIndex;var nZ=[];var cO="";var cZ;while(true){if(bF>=this.dn.get_length()){throw new Error("The specified length is out of range.");}aS=this.dn.getPage(bF);if(aS.dF()&&aS.dF().wf()&&aS.dF().ma()===true){var abb=tK;var RE=aS.dF().Cd();tK+=RE.length;if(tK<0||(tK===0&&value.length!==0)){throw new Error("The specified start index is out of range for the specified page.");}var Vg=0;if(bF===this.aR-1){Vg=value.startIndex;}if(tK>=value.length){cZ=value.startIndex+value.length-1;if(abb>=0){cZ=value.length-1-abb;}nZ.push({pageIndex:bF,endIndex:cZ});cO+=RE.substring(Vg,cZ+1);break;}else{cZ=aS.dF().Cd().length-1;nZ.push({pageIndex:bF,endIndex:cZ});cO+=RE.substring(Vg,cZ+1);}}else{throw new Error("The text has not been retrieved for this page.");}bF++;}this.bn=IPCC.wh();var h=0;if(this.cu){if(this.L){this.L.bn=this.bn;aO=this.bK.fQ(this.dn.getPage(this.L.bF));if(this.L.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){for(var UR=this.L.am.length-1;UR>=0;UR--){aO.removeMark(this.L.am[UR]);this.L.am.pop();}}}for(h=this.cu.length-1;h>=0;h--){var kD=this.cu[h];aO=this.bK.fQ(this.dn.getPage(kD.bF));aO.removeMark(kD);this.cu.splice(h,1);}}else{this.cu=[];}Gq.call(this,nZ,cZ,cO,value);this.dr=value;return this;};function Gq(nZ,cZ,cO,value,WQ){var h,bF,aS,aO;WQ=WQ||{};var am;this.cu=this.cu||[];var amQ=(this.L.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction)?atp:atB;for(h=0;h<nZ.length;h++){bF=nZ[h].pageIndex;aS=this.dn.getPage(bF);var aoX=aS.dF().hI();aO=this.bK.fQ(aS);var cA;var aU=0;cZ=nZ[h].endIndex;if(h===0){aU=value.startIndex;}bF=nZ[h].pageIndex;am=WQ[bF]||IPCC.C.SI(aoX,aU,cZ);if(h===0){cA=amQ(this.L,aU,cZ-aU+1,cO,am,bF,this.bn,this.L.get_type(),aO);this.L.lq=true;}else{cA=amQ(null,aU,cZ-aU+1,cO,am,bF,this.bn,this.L.get_type(),aO);this.cu.push(cA);aO.addMark(cA);cA.set_selected(this.L.get_selected());if(this.getFillColor){cA.set_fillColor(this.L.get_fillColor());}if(this.getColor){cA.set_lineColor(this.L.get_lineColor());}if(this.getThickness){cA.set_lineWidth(this.L.get_lineWidth());}if(this.getHref){cA.set_href(this.L.get_href());}if(this.getReason){cA.set_text(this.L.get_text());}}if(h===nZ.length-1){cA.kG=true;}}};if(K.dr){K.getPosition=getPosition;K.setPosition=setPosition;K.Gq=Gq;if(Object.defineProperties){Object.defineProperties(K,{"position":{enumerable:true,get:function(){return this.getPosition();},set:function(value){return this.setPosition(value);}}});}}function atB(K,aU,dI,cO,am,bF,lz,bq,aO){if(!K){K=new IPCC.Web.UI.Mark(bq);}K.aU=aU;K.cD=dI;K.hQ='y';K.bn=lz;K.cO=cO;K.am=am||[];K.bF=bF;var RO=IPCC.C.reduce(K.am,function(Kr,ak){if(!Kr){return ak.clone();}else{return Kr.union(ak);}},null);K.set_rectangle(RO);return K;};function atp(K,aU,dI,cO,am,bF,lz,bq,aO){if(!K){K=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);}K.aU=aU;K.cD=dI;K.bn=lz;K.cO=cO;K.bF=bF;K.am=IPCC.C.map(am,function(ak){var yr=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);yr.set_rectangle(ak);yr.kL(true);yr.set_fillColor('#000000');yr.set_text(K.bo);yr.set_lineWidth(0);yr.bn=lz;aO.addMark(yr);return yr;});var RO=IPCC.C.reduce(am,function(Kr,ak){if(!Kr){return ak.clone();}else{return Kr.union(ak);}},null);K.set_rectangle(RO);return K;};function getText(){if(this.L){switch(this.bd){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:this.bo=(typeof this.L.get_text()==="string")?this.L.get_text():this.bo;break;case Mark.Type.HighlightAnnotation:case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.StrikethroughAnnotation:if(K.L.cO){this.bo=K.L.cO;}break;}}return this.bo;};function setText(value){IPCC.bC.lW(value,'text');this.bo=value;if(this.L){switch(this.bd){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:this.L.set_text(value);break;}}return this;};if(K.bo!==undefined){K.getText=getText;var bq=K.getType();if(bq!==Mark.Type.HighlightAnnotation&&bq!==Mark.Type.TextSelectionRedaction&&bq!==Mark.Type.TextHyperlinkAnnotation&&bq!==Mark.Type.StrikethroughAnnotation){K.setText=setText;}if(Object.defineProperties){var afn={enumerable:true,get:function(){return this.getText();}};if(K.setText!==undefined){afn.set=function(value){return this.setText(value);};}Object.defineProperties(K,{"text":afn});}}function getFontColor(){if(this.L){switch(this.bd){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextInputSignature:case Mark.Type.RectangleRedaction:case Mark.Type.TextAreaSignature:this.gQ=this.L.get_textColor()||this.gQ;break;}}return this.gQ;};function setFontColor(value){IPCC.bC.db(value,'fontColor');this.gQ=value;if(this.L){switch(this.bd){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:case Mark.Type.RectangleRedaction:this.L.set_textColor(value);break;}}return this;};if(K.gQ){K.getFontColor=getFontColor;K.setFontColor=setFontColor;if(Object.defineProperties){Object.defineProperties(K,{"fontColor":{enumerable:true,get:function(){return this.getFontColor();},set:function(value){return this.setFontColor(value);}}});}}function getFontName(){if(this.L){switch(this.bd){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:this.gk=this.L.get_fontName()||this.gk;break;}}return this.gk;};function setFontName(value){IPCC.bC.lW(value,'fontName');this.gk=value;if(this.L){switch(this.bd){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:this.L.set_fontName(value);break;}}return this;};if(K.gk!==undefined){K.getFontName=getFontName;K.setFontName=setFontName;if(Object.defineProperties){Object.defineProperties(K,{"fontName":{enumerable:true,get:function(){return this.getFontName();},set:function(value){return this.setFontName(value);}}});}}function getFontSize(){if(this.L){switch(this.bd){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:this.dH=this.L.get_fontSize()||this.dH;break;}}return this.dH;};function setFontSize(value){IPCC.bC.lg(value,'fontSize',0.1,288);this.dH=value;if(this.L){switch(this.bd){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:this.L.set_fontSize(value);break;}}return this;};if(K.dH){K.getFontSize=getFontSize;K.setFontSize=setFontSize;if(Object.defineProperties){Object.defineProperties(K,{"fontSize":{enumerable:true,get:function(){return this.getFontSize();},set:function(value){return this.setFontSize(value);}}});}}function getHorizontalAlignment(){if(this.L){var Aw=this.L.get_textHorizontalAlignment();switch(Aw){case IPCC.Web.UI.HorizontalAlignment.Center:this.nn="Center";break;case IPCC.Web.UI.HorizontalAlignment.Left:this.nn="Left";break;case IPCC.Web.UI.HorizontalAlignment.Right:this.nn="Right";break;}}return this.nn;};function setHorizontalAlignment(value){IPCC.bC.lW(value,'horizontalAlignment');var pY=NT(value,PCCViewer.Mark.HorizontalAlignment);var Aw;switch(pY){case 'Center':Aw=IPCC.Web.UI.HorizontalAlignment.Center;break;case 'Left':Aw=IPCC.Web.UI.HorizontalAlignment.Left;break;case 'Right':Aw=IPCC.Web.UI.HorizontalAlignment.Right;break;default:throw "Invalid value found for the Text horizontalAlignment.";}K.nn=pY;if(this.L&&Aw!==undefined){this.L.set_textHorizontalAlignment(Aw);this.nn=pY;}return this;};if(K.nn){K.getHorizontalAlignment=getHorizontalAlignment;K.setHorizontalAlignment=setHorizontalAlignment;if(Object.defineProperties){Object.defineProperties(K,{"horizontalAlignment":{enumerable:true,get:function(){return this.getHorizontalAlignment();},set:function(value){return this.setHorizontalAlignment(value);}}});}}function azn(ZH){var zT=[];for(var h=0;h<ZH.length;h++){switch(ZH[h]){case "Bold":zT.push(IPCC.Web.UI.FontStyle.Bold);break;case "Italic":zT.push(IPCC.Web.UI.FontStyle.Italic);break;case "Strikeout":zT.push(IPCC.Web.UI.FontStyle.Strikeout);break;case "Underline":zT.push(IPCC.Web.UI.FontStyle.Underline);break;default:throw Error("An unknown font style was encountered: "+ZH[h]);}}if(zT.length===0){zT.push(IPCC.Web.UI.FontStyle.Regular);}return zT;};function getFontStyle(){if(this.L){var qk=[];switch(this.bd){case Mark.Type.TextAreaSignature:case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:var vB=this.L.get_fontStyle();if(vB&IPCC.Web.UI.FontStyle.Bold){qk.push("Bold");}if(vB&IPCC.Web.UI.FontStyle.Italic){qk.push("Italic");}if(vB&IPCC.Web.UI.FontStyle.Strikeout){qk.push("Strikeout");}if(vB&IPCC.Web.UI.FontStyle.Underline){qk.push("Underline");}if(qk.length>0){this.co=qk;}break;}}return this.co;};function setFontStyle(value){if(!(value instanceof Array)){throw "invalid parameter. The parameter should be an array.";}var LO,h,adx=[];for(h=0;h<value.length;h++){LO=NT(value[h],PCCViewer.Mark.FontStyles);if(LO===null){throw new RangeError("The value of font styles "+value[h]+" is invalid.");}else{IPCC.bC.lW(LO,'fontStyle');adx.push(LO);}}this.co=adx;var vB=[];vB=azn(this.co);var ab=this;function awo(al){setTimeout(function(){ab.L.set_fontStyle(al);},2);};if(this.L){switch(this.bd){case Mark.Type.TextAreaSignature:case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:var aft=vB[0];for(h=1;h<vB.length;h++){aft|=vB[h];}awo(aft);break;}}return this;};if(K.co){K.getFontStyle=getFontStyle;K.setFontStyle=setFontStyle;if(Object.defineProperties){Object.defineProperties(K,{"fontStyle":{enumerable:true,get:function(){return this.getFontStyle();},set:function(value){return this.setFontStyle(value);}}});}}function getLabel(){if(this.L){switch(this.bd){case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:this.tQ=this.L.get_text()||this.tQ;break;}}return this.tQ;};function setLabel(value){IPCC.bC.lW(value,'label');this.tQ=value;if(this.L){switch(this.bd){case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:this.L.set_text(value);break;}}return this;};if(typeof K.tQ!=='undefined'){K.getLabel=getLabel;K.setLabel=setLabel;if(Object.defineProperties){Object.defineProperties(K,{"label":{enumerable:true,get:function(){return this.getLabel();},set:function(value){return this.setLabel(value);}}});}}function getReason(){if(this.L){switch(this.bd){case Mark.Type.RectangleRedaction:case Mark.Type.TextSelectionRedaction:this.eU=this.L.get_text()||this.eU;break;}}return this.eU;};function setReason(value){IPCC.bC.lW(value,'text');this.eU=value;if(this.L){switch(this.bd){case Mark.Type.RectangleRedaction:this.L.set_text(value);break;case Mark.Type.TextSelectionRedaction:this.L.set_text(value);if(this.cu&&this.cu.length){for(var h=0;h<this.cu.length;h++){this.cu[h].set_text(value);}}break;}}return this;};if(typeof K.eU!=='undefined'){K.getReason=getReason;K.setReason=setReason;if(Object.defineProperties){Object.defineProperties(K,{"reason":{enumerable:true,get:function(){return this.getReason();},set:function(value){return this.setReason(value);}}});}}function getPath(){if(this.L){return this.L.get_pathString();}else{return this.gp;}};function setPath(path){if(path.match(/[^MLC0-9.,\s]/)){throw new Error("The path string contains illegal characters.");}var vZ=IPCC.C.aaA(path);this.gp=path;if(this.L){this.L.set_pathString(path);this.L.set_pathWidth(vZ.width);this.L.set_pathHeight(vZ.height);}return this;};if(K.gp){K.setPath=setPath;K.getPath=getPath;if(Object.defineProperties){Object.defineProperties(K,{"path":{enumerable:true,get:getPath,set:setPath}});}}function getHref(){if(this.L){return this.L.get_href();}else{return this.lm;}};function setHref(href){if(href!==null){var bd=typeof href;if(bd!=="undefined"&&bd!=="number"&&bd!=="string"){throw new Error("`href` can only be set to a value that is a Number, String, null, or undefined.");}}this.lm=href;if(this.L){this.L.set_href(href);}if(this.cu){IPCC.C.forEach(this.cu,function(L){L.set_href(href);});}return this;};if(typeof K.lm!=='undefined'){K.setHref=setHref;K.getHref=getHref;if(Object.defineProperties){Object.defineProperties(K,{"href":{enumerable:true,get:getHref,set:setHref}});}}function setMaxLength(maxLength){if(typeof maxLength!=='number'||maxLength<0||maxLength>Number.MAX_VALUE||Math.round(maxLength)!==maxLength){throw new Error('`maxLength` can only be set to a value that is a positive integer.');}this.gY=maxLength;if(this.L){this.L.set_maxLength(this.gY);}return this;};function getMaxLength(){if(this.L){this.gY=this.L.get_maxLength();}return this.gY;};if(typeof K.gY!=='undefined'){K.getMaxLength=getMaxLength;K.setMaxLength=setMaxLength;if(Object.defineProperties){Object.defineProperties(K,{"maxLength":{enumerable:true,get:getMaxLength,set:setMaxLength}});}}function setMaxFontSize(maxFontSize){if(typeof maxFontSize!=='number'||maxFontSize<0||maxFontSize>Number.MAX_VALUE||Math.round(maxFontSize)!==maxFontSize){throw new Error('`maxFontSize` can only be set to a value that is a positive integer.');}this.ib=maxFontSize;if(this.L){this.L.set_maxFontSize(this.ib);}return this;};function getMaxFontSize(){if(this.L){this.ib=this.L.get_maxFontSize();}return this.ib;};if(typeof K.ib!=='undefined'){K.getMaxFontSize=getMaxFontSize;K.setMaxFontSize=setMaxFontSize;if(Object.defineProperties){Object.defineProperties(K,{"maxFontSize":{enumerable:true,get:getMaxFontSize,set:setMaxFontSize}});}}function getMask(){return this.iv;};function setMask(mask){if(mask===null||typeof mask==='undefined'){this.iv=null;if(this.L){this.L.set_mask(this.iv);}return this;}if(typeof mask!=='object'||Array.isArray(mask)){throw new Error('`mask` can only be set to a value that is an Object, null or undefined.');}if(typeof mask.value!=='string'){throw new Error('`mask.value` can only be set to a value that is a string.');}if(typeof mask.translations!=='object'||mask.translations===null||Array.isArray(mask.translations)){throw new Error('`mask.translations` can only be set to a value that is an Object.');}var afp=false;IPCC.C.forEach(mask.translations,function(val,key){afp=true;if(key.length!==1){throw new Error('`'+key+'` does not have a string length of 1.');}if(!(val instanceof RegExp)|| !(/\/$/).exec(val.toString())){throw new Error('`mask.translations['+key+']` must be a regular expression without flags.');}});if(!afp){throw new Error('`mask.translations` must have at least one translation.');}this.iv=mask;if(this.L){this.L.set_mask(this.iv);}return this;};if(typeof K.iv!=='undefined'){K.getMask=getMask;K.setMask=setMask;if(Object.defineProperties){Object.defineProperties(K,{"mask":{enumerable:true,get:getMask,set:setMask}});}}};module.exports=Mark;},{"./../IPCC/IPCC":30,"./PCCViewer.Data":136}],152:[function(require,module,exports){var EventEmitter=require('./PCCViewer.EventEmitter');var iS=function(viewerControl,markReferences){var J=this;if(!viewerControl){throw new Error('`viewerControl` param is missing.');}this.cS=function(){var d=new Date().getTime();var uuid='xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(c){var r=(d+Math.random()*16)%16|0;d=Math.floor(d/16);return(c==='x'?r:(r&0x3|0x8)).toString(16);});return uuid;}();this.bz=viewerControl;this.by=undefined;this.Uj=undefined;this.ahC=undefined;this.bb=[];this.hd={};this.nf=PCCViewer.Mark.InteractionMode.Full;if(markReferences!==undefined){switch(Object.prototype.toString.call(markReferences)){case "[object Object]":markReferences=[markReferences];break;case "[object Array]":break;default:throw new Error('`markReferences` param is not an object or an array.');}IPCC.C.forEach(markReferences,function(pw){var NL=pw.markUid;pw.markupLayer=J;if(J.hd[NL]){J.hd[NL]=J.hd[NL].concat(pw);}else{J.hd[NL]=[pw];}});}var nM={};EventEmitter.extend(nM);nM.Oy=function(Et,cR){var J=this;return setTimeout(function(){J.trigger(Et,cR);},0);};EventEmitter.extend(this);this.bX=new IPCC.Web.UI.Data();PCCViewer.Data.extend(this);this.Ck=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);setTimeout(function(){J.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerCreated,{});},0);};iS.EventType={MarkupLayerCreated:"MarkupLayerCreated",MarkupLayerDestroyed:"MarkupLayerDestroyed",MarksAddedToLayer:"MarksAddedToLayer",MarksRemovedFromLayer:"MarksRemovedFromLayer",MarkupLayerInteractionModeChanged:"MarkupLayerInteractionModeChanged",MarkupLayerHidden:"MarkupLayerHidden",MarkupLayerShown:"MarkupLayerShown"};iS.prototype.getViewerControl=function(){return this.bz;};iS.prototype.addMarks=function(marks){var J=this,awS=function(di){di.hT=J;};switch(Object.prototype.toString.call(marks)){case "[object Object]":marks=[marks];break;case "[object Array]":break;default:throw new Error('`marks` param is not an object or an array.');}for(var h=0;h<marks.length;h++){if(!(marks[h]instanceof PCCViewer.Mark)){throw new Error('`marks` param contains an item that is not an instanceof `PCCViewer.Mark`');}if(this.hasMark(marks[h].getId())){marks.splice(h,1);continue;}IPCC.C.forEach(marks[h].getConversation().getComments(),awS);}if(marks.length){this.bb=this.bb.concat(marks);this.trigger(PCCViewer.MarkupLayer.EventType.MarksAddedToLayer,{marks:marks});}return this;};iS.prototype.removeMarks=function(marks){switch(Object.prototype.toString.call(marks)){case "[object Object]":marks=[marks];break;case "[object Array]":break;default:throw new Error('`marks` param is not an object or an array.');}for(var h=0;h<this.bb.length;h++){for(var as=0;as<marks.length;as++){if(this.bb[h].getUid()===marks[as].getUid()){this.bb.splice(h,1);this.trigger(PCCViewer.MarkupLayer.EventType.MarksRemovedFromLayer,{marks:[marks[as]]});break;}}}};iS.prototype.getMarks=function(){var aka=[];IPCC.C.forEach(this.bb,function(K){aka.push(K);});return aka;};iS.prototype.hasMark=function(markId){if(typeof markId!=='string'){throw new Error('`markId` param is not a string.');}var h=0,aaT=false,K;for(h;h<this.bb.length;h++){K=this.bb[h];if(K.getId()===markId){aaT=true;break;}}return aaT;};iS.prototype.getMarkReferences=function(){var hd=[];for(var lM in this.hd){if(this.hd.hasOwnProperty(lM)){hd=hd.concat(this.hd[lM]);}}return hd;};iS.prototype.hide=function(){var bz=this.bz;bz.hideMarks(this.getMarks());this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerHidden,{});return this;};iS.prototype.show=function(){var bz=this.bz;bz.showMarks(this.getMarks());this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerShown,{});return this;};iS.prototype.copyLayers=function(markupLayers){var bz=this.bz,J=this;if(markupLayers instanceof PCCViewer.MarkupLayer){markupLayers=[markupLayers];}if(markupLayers instanceof Array===false){throw new PCCViewer.Error("InvalidArgument","The parameter, markupLayers, is not an Array of MarkupLayers or a single MarkupLayer.");}var bb=[];IPCC.C.forEach(markupLayers,function(hT){bz.getMarkupLayerCollection().getItem(hT.getId());bb=bb.concat(hT.getMarks());});var copiedMarks=bz.copyMarks(bb);this.addMarks(copiedMarks);IPCC.C.forEach(this.bb,function(K){IPCC.C.forEach(K.getConversation().getComments(),function(di){di.hT=J;});});return this;};iS.prototype.getId=function(){return this.cS;};iS.prototype.getName=function(){return this.by;};iS.prototype.setName=function(name){if(typeof name!=='string'){throw new Error('`name` param is not a string.');}this.by=name;return this;};iS.prototype.getRecordId=function(){return this.Uj;};iS.prototype.destroy=function(){this.bz.getMarkupLayerCollection().removeItem(this.cS);this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerDestroyed,{});};iS.prototype.setInteractionMode=function(interactionMode){if(typeof interactionMode!=='string'){throw new Error('`interactionMode` param is not a string.');}this.nf=interactionMode;IPCC.C.forEach(this.bb,function(K){K.setInteractionMode(interactionMode);});this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerInteractionModeChanged,{interactionMode:interactionMode});return this;};iS.prototype.getOriginalXmlName=function(){return this.ahC;};iS.prototype.setOriginalXmlName=function(name){if(typeof name!=='string'){throw new Error('`name` param is not a string.');}this.ahC=name;return this;};if(Object.defineProperties){Object.defineProperties(iS.prototype,{"id":{enumerable:true,get:function(){return this.getId();}},"recordId":{enumerable:true,get:function(){return this.getRecordId();}},"name":{enumerable:true,get:function(){return this.getName();},set:function(name){return this.setName(name);}},"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}},"originalXmlName":{enumerable:true,get:function(){return this.getOriginalXmlName();},set:function(name){return this.setOriginalXmlName(name);}},});}module.exports=iS;},{"./PCCViewer.EventEmitter":141}],153:[function(require,module,exports){var EventEmitter=require('./PCCViewer.EventEmitter');var MarkupLayerCollection=function(viewerControl){if(!viewerControl){throw new Error('`viewerControl` param is missing.');}this.bz=viewerControl;this.sC={};this.bb={};this.js={};this.qZ=0;EventEmitter.extend(this);};MarkupLayerCollection.EventType={MarkupLayerAdded:"MarkupLayerAdded",MarkupLayerRemoved:"MarkupLayerRemoved"};MarkupLayerCollection.prototype.getViewerControl=function(){return this.bz;};MarkupLayerCollection.prototype.forEach=function(iterator,thisArg){if(typeof iterator!=='function'){throw new TypeError('The iterator parameter is not a function');}IPCC.C.forEach(this.sC,iterator,thisArg);return this;};MarkupLayerCollection.prototype.getItem=function(layerId){if(typeof layerId!=='string'){throw new Error('`layerId` param is not a string.');}return this.sC[layerId];};MarkupLayerCollection.prototype.getCount=function(){return this.qZ;};MarkupLayerCollection.prototype.getAll=function(){var alv=[],Yj;for(Yj in this.sC){if(this.sC.hasOwnProperty(Yj)){alv.push(this.sC[Yj]);}}return alv;};MarkupLayerCollection.prototype.addItem=function(layer){var J=this,hd,Zh=layer.hd,EP=function(K,pw){var di=K.getConversation().addComment(pw.text);di.creationTime=new Date(pw.creationDateTime);di.hT=pw.markupLayer;for(var vN in pw.data){if(pw.data.hasOwnProperty(vN)){di.setData(vN,pw.data[vN]);}}},axE=function(aBd){EP(J.bb[vi],aBd);},ajh=function(K){var lM=K.getUid();J.bb[K.getUid()]=K;if(J.js[lM]){IPCC.C.forEach(J.js[lM],function(qm){EP(K,qm);});delete J.js[lM];}};if(!(layer instanceof PCCViewer.MarkupLayer)){throw new Error('`layer` param is not an instance of PCCViewer.MarkupLayer.');}this.sC[layer.getId()]=layer;for(var vi in Zh){if(Zh.hasOwnProperty(vi)){hd=Zh[vi];if(J.bb[vi]){IPCC.C.forEach(hd,axE);}else if(J.js[vi]){J.js[vi]=J.js[vi].concat(hd);}else{J.js[vi]=hd;}}}IPCC.C.forEach(layer.getMarks(),function(K){ajh(K);});this.qZ++;this.trigger(PCCViewer.MarkupLayerCollection.EventType.MarkupLayerAdded,{layerId:layer.getId()});layer.on(PCCViewer.MarkupLayer.EventType.MarksAddedToLayer,function(ev){IPCC.C.forEach(ev.marks,function(K){ajh(K);});});layer.on(PCCViewer.MarkupLayer.EventType.MarksRemovedFromLayer,function(ev){var axP=ev.cv;IPCC.C.forEach(ev.marks,function(K){var lM=K.getUid();IPCC.C.forEach(J.bb[lM].getConversation().getComments(),function(Hl){if(axP.id!==Hl.hT.id){var qm={creationDateTime:IPCC.C.wD(Hl.creationTime),data:Hl.bX.yq(),markUid:K.getUid(),markupLayer:Hl.hT,text:Hl.text};if(J.js[lM]){J.js[lM]=J.js[lM].concat([qm]);}else{J.js[lM]=[qm];}}});J.vb(K);});});return this;};MarkupLayerCollection.prototype.vb=function(K){var MT;IPCC.C.forEach(this.sC,function(fp){var akF=fp.hasMark(K.getId());MT=(typeof MT!=='undefined')? +akF^MT: +akF;});if(MT===0){delete this.bb[K.getUid()];}};MarkupLayerCollection.prototype.removeItem=function(layerId){var fp=this.sC[layerId],J=this,aAP=function(qm,bp){if(qm.markupLayer.getId()===layerId){J.js[cS].splice(bp);}};if(typeof layerId!=='string'){throw new Error('`layerId` param is not a string.');}IPCC.C.forEach(this.bb,function(K){var he=K.getConversation().getComments();var Lg=fp.hasMark(K.getId());IPCC.C.forEach(he,function(di){if(Lg&&di.hT.getId()!==layerId){var afE={"markUid":K.getUid(),"markupLayer":di.hT,"text":di.getText(),"data":di.bX.bX,"creationDateTime":IPCC.C.wD(di.getCreationTime())};if(J.js[K.getUid()]){J.js[K.getUid()].push(afE);}else{J.js[K.getUid()]=[afE];}K.getConversation().deleteComments(di);}else if(Lg&&di.hT.getId()===layerId){K.getConversation().deleteComments(di);}else if(!Lg&&di.hT.getId()===layerId){K.getConversation().deleteComments(di);}});if(Lg&&J.bb[K.getUid()]){J.vb(K);}});for(var cS in this.js){if(this.js.hasOwnProperty(cS)){IPCC.C.forEach(this.js[cS],aAP);}}delete this.sC[layerId];this.qZ--;this.trigger(PCCViewer.MarkupLayerCollection.EventType.MarkupLayerRemoved,{layerId:layerId});return this;};MarkupLayerCollection.prototype.removeAll=function(){this.sC={};this.qZ=0;return this;};if(Object.defineProperties){Object.defineProperties(MarkupLayerCollection.prototype,{"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}},"count":{enumerable:true,get:function(){return this.getCount();}}});}module.exports=MarkupLayerCollection;},{"./PCCViewer.EventEmitter":141}],154:[function(require,module,exports){'use strict';var Mark=require('./PCCViewer.Marks');function MouseTool(name,type){this.by=name;var Fl=asG(type);if(Fl===null){throw new RangeError("The value of type was invalid.");}this.bd=Fl;addPropertiesToMouseTool(this);};MouseTool.prototype.getName=function(){return this.by;};MouseTool.prototype.getType=function(){return this.bd;};if(Object.defineProperties){Object.defineProperties(MouseTool.prototype,{"name":{enumerable:true,get:function(){return this.getName();}},"type":{enumerable:true,get:function(){return this.getType();}}});}function asG(Tm){var Zn=Tm.toLowerCase();for(var standardType in MouseTool.Type){if(MouseTool.Type.hasOwnProperty(standardType)&&standardType.toLowerCase&&standardType.toLowerCase()===Zn){return standardType;}}return null;};function addPropertiesToMouseTool(mouseTool){var bd=mouseTool.getType();switch(bd){case MouseTool.Type.Magnifier:break;case MouseTool.Type.SelectToZoom:break;case MouseTool.Type.Pan:mouseTool.zN=false;break;case MouseTool.Type.PanAndEdit:mouseTool.zN=true;break;case MouseTool.Type.SelectText:break;case MouseTool.Type.EditMarks:break;case MouseTool.Type.LineAnnotation:mouseTool.aB=new Mark({type:Mark.Type.LineAnnotation});break;case MouseTool.Type.RectangleAnnotation:mouseTool.aB=new Mark({type:Mark.Type.RectangleAnnotation});break;case MouseTool.Type.EllipseAnnotation:mouseTool.aB=new Mark({type:Mark.Type.EllipseAnnotation});break;case MouseTool.Type.TextAnnotation:mouseTool.aB=new Mark({type:Mark.Type.TextAnnotation});break;case MouseTool.Type.StampAnnotation:mouseTool.aB=new Mark({type:Mark.Type.StampAnnotation});break;case MouseTool.Type.HighlightAnnotation:mouseTool.aB=new Mark({type:Mark.Type.HighlightAnnotation});break;case MouseTool.Type.TextHyperlinkAnnotation:mouseTool.aB=new Mark({type:Mark.Type.TextHyperlinkAnnotation});break;case MouseTool.Type.FreehandAnnotation:mouseTool.aB=new Mark({type:Mark.Type.FreehandAnnotation});break;case MouseTool.Type.RectangleRedaction:mouseTool.aB=new Mark({type:Mark.Type.RectangleRedaction});break;case MouseTool.Type.TransparentRectangleRedaction:mouseTool.aB=new Mark({type:Mark.Type.TransparentRectangleRedaction});break;case MouseTool.Type.TextRedaction:mouseTool.aB=new Mark({type:Mark.Type.TextRedaction});break;case MouseTool.Type.TextInputSignature:mouseTool.aB=new Mark({type:Mark.Type.TextInputSignature});break;case MouseTool.Type.TextAreaSignature:mouseTool.aB=new Mark({type:Mark.Type.TextAreaSignature});break;case MouseTool.Type.StampRedaction:mouseTool.aB=new Mark({type:Mark.Type.StampRedaction});break;case MouseTool.Type.PlaceSignature:mouseTool.aB=new Mark({type:'PlaceSignature',yx:true});break;case MouseTool.Type.TextSelectionRedaction:mouseTool.aB=new Mark({type:Mark.Type.TextSelectionRedaction});break;case MouseTool.Type.ImageStampAnnotation:mouseTool.aB=new Mark({type:Mark.Type.ImageStampAnnotation});break;case MouseTool.Type.ImageStampRedaction:mouseTool.aB=new Mark({type:Mark.Type.ImageStampRedaction});break;case MouseTool.Type.PolylineAnnotation:mouseTool.aB=new Mark({type:Mark.Type.PolylineAnnotation});break;case MouseTool.Type.StrikethroughAnnotation:mouseTool.aB=new Mark({type:Mark.Type.StrikethroughAnnotation});break;}if(mouseTool.aB){mouseTool.getTemplateMark=function(){return this.aB;};if(Object.defineProperties){Object.defineProperties(mouseTool,{"templateMark":{enumerable:true,get:mouseTool.getTemplateMark}});}}};MouseTool.prototype.reset=function(){if(this.aB){this.aB.reset();}};var MouseTools={sP:{},createMouseTool:function(name,type){if(!this.sP){this.sP={};createDefaultMouseTools();}var Aq=name.toLowerCase();var existingTool=this.sP[Aq];if(existingTool){if(existingTool.getType().toLowerCase()!==type.toLowerCase()){throw new Error("If calling createMouseTool and providing the name of a mouse tool that already exists, then the type must be the same type as the existing mouse tool.");}existingTool.reset();}else{this.sP[Aq]=new MouseTool(name,type);}return this.sP[Aq];},getMouseTool:function(name){if(name&&name.toLowerCase){if(!this.sP){this.sP={};createDefaultMouseTools();}var Aq=name.toLowerCase();return this.sP[Aq];}return undefined;}};MouseTool.Type={Magnifier:"Magnifier",SelectToZoom:"SelectToZoom",Pan:"Pan",PanAndEdit:"PanAndEdit",SelectText:"SelectText",EditMarks:"EditMarks",LineAnnotation:"LineAnnotation",RectangleAnnotation:"RectangleAnnotation",EllipseAnnotation:"EllipseAnnotation",TextAnnotation:"TextAnnotation",StampAnnotation:"StampAnnotation",HighlightAnnotation:"HighlightAnnotation",TextHyperlinkAnnotation:"TextHyperlinkAnnotation",FreehandAnnotation:"FreehandAnnotation",RectangleRedaction:"RectangleRedaction",TransparentRectangleRedaction:"TransparentRectangleRedaction",TextRedaction:"TextRedaction",TextInputSignature:"TextInputSignature",TextAreaSignature:"TextAreaSignature",StampRedaction:"StampRedaction",PlaceSignature:"PlaceSignature",TextSelectionRedaction:"TextSelectionRedaction",ImageStampAnnotation:"ImageStampAnnotation",ImageStampRedaction:"ImageStampRedaction",PolylineAnnotation:"PolylineAnnotation",StrikethroughAnnotation:"StrikethroughAnnotation"};function createDefaultMouseTools(){MouseTools.createMouseTool("AccusoftMagnifier",MouseTool.Type.Magnifier);MouseTools.createMouseTool("AccusoftSelectToZoom",MouseTool.Type.SelectToZoom);MouseTools.createMouseTool("AccusoftPan",MouseTool.Type.Pan);MouseTools.createMouseTool("AccusoftPanAndEdit",MouseTool.Type.PanAndEdit);MouseTools.createMouseTool("AccusoftSelectText",MouseTool.Type.SelectText);MouseTools.createMouseTool("AccusoftEditMarks",MouseTool.Type.EditMarks);MouseTools.createMouseTool("AccusoftLineAnnotation",MouseTool.Type.LineAnnotation);MouseTools.createMouseTool("AccusoftArrowAnnotation",MouseTool.Type.LineAnnotation).getTemplateMark().setEndHeadType("FilledTriangle");MouseTools.createMouseTool("AccusoftRectangleAnnotation",MouseTool.Type.RectangleAnnotation);MouseTools.createMouseTool("AccusoftEllipseAnnotation",MouseTool.Type.EllipseAnnotation);MouseTools.createMouseTool("AccusoftTextAnnotation",MouseTool.Type.TextAnnotation);MouseTools.createMouseTool("AccusoftStampAnnotation",MouseTool.Type.StampAnnotation);MouseTools.createMouseTool("AccusoftHighlightAnnotation",MouseTool.Type.HighlightAnnotation);MouseTools.createMouseTool("AccusoftTextHyperlinkAnnotation",MouseTool.Type.TextHyperlinkAnnotation);MouseTools.createMouseTool("AccusoftFreehandAnnotation",MouseTool.Type.FreehandAnnotation);MouseTools.createMouseTool("AccusoftPlaceSignature",MouseTool.Type.PlaceSignature);MouseTools.createMouseTool("AccusoftTextSelectionRedaction",MouseTool.Type.TextSelectionRedaction);MouseTools.createMouseTool("AccusoftRectangleRedaction",MouseTool.Type.RectangleRedaction);MouseTools.createMouseTool("AccusoftTransparentRectangleRedaction",MouseTool.Type.TransparentRectangleRedaction);MouseTools.createMouseTool("AccusoftTextRedaction",MouseTool.Type.TextRedaction);MouseTools.createMouseTool("AccusoftTextInputSignature",MouseTool.Type.TextInputSignature);MouseTools.createMouseTool("AccusoftTextAreaSignature",MouseTool.Type.TextAreaSignature);MouseTools.createMouseTool("AccusoftStampRedaction",MouseTool.Type.StampRedaction);MouseTools.createMouseTool("AccusoftImageStampAnnotation",MouseTool.Type.ImageStampAnnotation);MouseTools.createMouseTool("AccusoftImageStampRedaction",MouseTool.Type.ImageStampRedaction);MouseTools.createMouseTool("AccusoftPolylineAnnotation",MouseTool.Type.PolylineAnnotation);MouseTools.createMouseTool("AccusoftStrikethroughAnnotation",MouseTool.Type.StrikethroughAnnotation);return MouseTools.sP;};createDefaultMouseTools();module.exports={MouseTool:MouseTool,MouseTools:MouseTools};},{"./PCCViewer.Marks":151}],155:[function(require,module,exports){var EventEmitter=require('./PCCViewer.EventEmitter');var ObservableCollection=function(){var Ai=[];var nM={};EventEmitter.extend(nM);nM.Oy=function(Et,cR){var J=this;return setTimeout(function(){J.trigger(Et,cR);},0);};this.add=function(item){Ai.push(item);nM.Oy(this.EventType.ItemAdded,{item:item,count:Ai.length});return this;};this.remove=function(item){var J=this;this.forEach(function(e,idx){if(e===item){Ai.splice(idx,1);nM.Oy(J.EventType.ItemRemoved,{item:item,count:Ai.length});}});return this;};this.removeAll=function(){Ai=[];nM.Oy(this.EventType.ItemRemoved,{count:Ai.length});return this;};this.forEach=function(iterator,thisArg){if(typeof iterator!=='function'){throw new TypeError('The iterator parameter is not a function');}IPCC.C.forEach(this.toArray(),iterator,thisArg);return this;};this.toArray=function(){return[].concat(Ai);};this.on=function(eventType,handler){nM.on.apply(nM,arguments);return this;};this.off=function(eventType,handler){nM.off.apply(nM,arguments);return this;};};ObservableCollection.prototype.EventType={ItemAdded:"ItemAdded",ItemRemoved:"ItemRemoved"};module.exports=ObservableCollection;},{"./PCCViewer.EventEmitter":141}],156:[function(require,module,exports){var EC={Horizontal:"Horizontal",Vertical:"Vertical"};module.exports=EC;},{}],157:[function(require,module,exports){var PasswordProtectedDocumentLoader=function PasswordProtectedDocumentLoader(VU){this.VU=VU;};PasswordProtectedDocumentLoader.prototype.load=function(password){return this.VU(password);};module.exports=PasswordProtectedDocumentLoader;},{}],158:[function(require,module,exports){var printAlgorithm={standard:1,contentWindowContents:2};var VI=function VI(bQ,dE,G){if(bQ.addEventListener){bQ.addEventListener(dE,G,false);}else if(bQ.attachEvent){bQ.attachEvent('on'+dE,G);}};var WA=function WA(bQ,dE,G){if(bQ.removeEventListener){bQ.removeEventListener(dE,G,false);}else if(bQ.detachEvent){bQ.detachEvent('on'+dE,G);}};function avG(fe){var afJ={};fe=fe.split('&');for(var i=fe.length;i--;){var q=fe[i].split('=');afJ[q.shift()]=q.join('=');}return afJ;};function avj(){var Av=document.getElementById('pccPrintFrame');if(Av){if(Av.contentWindow&&Av.contentWindow.destroy){Av.contentWindow.destroy();}if(Av.parentElement){Av.parentElement.removeChild(Av);}}};function asO(bu){bu.ajw();avj();bu.ajv();if(!bu.algorithm){bu.algorithm=printAlgorithm.standard;}var gI;var gi=document.createElement('iframe');gi.id='pccPrintFrame';gi.className='pccPrintFrame';gi.style.position='absolute';gi.style.bottom=gi.style.right='0px';gi.style.width=gi.style.height='1px';gi.style.zIndex='0';gi.style.border='none';if(bu.algorithm!==printAlgorithm.contentWindowContents){gi.style.visibility='0';}function QO(){WA(window,'message',akt);};function acz(){WA(gi,'load',acz);if(gi.contentDocument){gI=gi.contentDocument;}else if(gi.contentWindow){gI=gi.contentWindow.document;}else{gI=gi.document;}if(bu.algorithm===printAlgorithm.contentWindowContents){gi.contentWindow.contents=bu.template;gi.src='javascript:window["contents"]';}else{gI.open();gI.write(bu.template);gI.close();}};var akt=function(message){message.source.PCCViewer.Ajax.setHeaders(PCCViewer.Ajax.getHeaders()).setOverrideMethod(PCCViewer.Ajax.getOverrideMethod());if(message.data.match(/loadArt/)){var ans=JSON.parse(message.data);var aO=bu.aea(ans.pageIndex);bu.ajw();gi.contentWindow[ans.callbackName](aO);bu.ajv();}else if(message.data==='extra'){var Ha=bu.abh(bu);gi.contentWindow['extra'](bu.encryption,Ha);}else if(message.data==='done'){if(bu.algorithm===printAlgorithm.contentWindowContents){setTimeout(function(){gi.contentWindow.focus();gi.contentWindow.document.execCommand('print',false,null);window.focus();QO();bu.wg.trigger(PCCViewer.PrintRequest.EventType.PrintCompleted);},2000);}else{setTimeout(function(){gi.contentWindow.focus();gi.contentWindow.print();window.focus();QO();bu.wg.trigger(PCCViewer.PrintRequest.EventType.PrintCompleted);},2000);}}else if(message.data==='fail'){QO();bu.wg.trigger(PCCViewer.PrintRequest.EventType.PrintFailed);}else{var rW=avG(message.data);rW.index= +rW.index;rW.pageNumber= +rW.pageNumber;rW.totalPages= +rW.totalPages;bu.wg.acU= +rW.index+1;bu.wg.trigger(PCCViewer.PrintRequest.EventType.PrintPagePrepared,rW);}};VI(window,'message',akt);VI(gi,'load',acz);document.body.appendChild(gi);return QO;};function auN(bz){return function aea(bF){return bz.bK.fQ(bz.dn.getPage(bF));};};function arT(bz){return function abh(options){var bb,K,uQ=[],Ao=[],EA={},Ip={},xR={},eU={},BZ='',adO,cE,bp,Jn,ak,FI,aR,anx={},Fj={},h=0,cs=0,as=0,aqt=function(a,b){return a-b;};if(options.includeComments!=='none'||options.includeReasons!=='none'){bb=bz.getAllMarks();for(h=0;h<options.pages.length;h++){anx[options.pages[h]]=true;}for(cs=0;cs<bb.length;cs++){K=bb[cs];aR=K.aR;if(options.includeReasons!=='none'&&K.getReason){BZ=K.getReason();if(BZ){if(!xR[aR]){eU[BZ]=1;xR[aR]=eU;eU={};}else{if(xR[aR][BZ]){xR[aR][BZ]+=1;}else{xR[aR][BZ]=1;}}}}if(K.ot||K.bd.search("Redaction")!== -1){if(Fj[aR]){Fj[aR]+=1;}else{Fj[aR]=1;}}if(options.range.length&&anx[aR]!==true|| !options.includeRedactions&&K.ot|| !options.includeAnnotations&& !K.ot){continue;}cE=K.getConversation();if(cE&&cE.getComments().length){if(!Jn){Jn=aR;}else if(aR!==Jn){uQ.sort(aqt);for(as=0;as<uQ.length;as++){Ao=Ao.concat(EA[uQ[as]]);}Ip[Jn]=Ao;Jn=aR;uQ=[];EA={};Ao=[];}bp=bz.getCharacterIndex(K);adO=aR;ak=K.L.get_boundingRectangle();FI=(bp>0)?bp*10000+ak.y:ak.y;uQ.push(FI);if(!EA[FI]){EA[FI]=[cE];}else{EA[FI].push(cE);}}}if(uQ.length){uQ.sort(function(a,b){return a-b;});for(h=0;h<uQ.length;h++){Ao=Ao.concat(EA[uQ[h]]);}Ip[adO]=Ao;}}return{Ip:Ip,xR:xR,Fj:Fj};};};function awe(bz){return function(){if(bz&&bz.bK){bz.bK.remove_markChanged(bz.mb);}};};function Vy(bz){return function(){if(bz&&bz.bK){bz.bK.add_markChanged(bz.mb);}};};function print(options){options=options||{};options.range=options.range||'all';options.orientation=(options.orientation&&options.orientation.toLowerCase()==='landscape')?'landscape':'portrait';options.paperSize=options.paperSize||'letter';options.margins=(options.margins&&options.margins.toLowerCase()==='none')?'none':'default';options.includeMarks=options.includeMarks!==undefined?(! !options.includeMarks&&this.canPrintMarks()):undefined;options.includeAnnotations=options.includeAnnotations!==undefined?(! !options.includeAnnotations&&this.canPrintMarks()):undefined;options.includeRedactions=options.includeRedactions!==undefined?(! !options.includeRedactions&&this.canPrintMarks()):undefined;options.includeComments=(options.includeComments)?options.includeComments:'none';options.includeReasons=(options.includeReasons)?options.includeReasons:'none';options.redactionViewMode=(options.redactionViewMode)?options.redactionViewMode:'Normal';if(options.includeAnnotations===undefined){options.includeAnnotations=options.includeMarks;}if(options.includeRedactions===undefined){options.includeRedactions=options.includeMarks;}var cT=PCCViewer.Util.convertPageRangeToArray(options.range.toString().toLowerCase(),{upperLimit:this.getPageCount()});var qY=this.bu.imageHandlerUrl;var anL=this.bu.documentID;var apt=this.axz;options.vsID=anL;options.handler=qY;options.pages=cT;var isOldIE= ! !navigator.appName.match('Microsoft');var isIE= ! !navigator.userAgent.match('Trident');var isSafari= ! !(navigator.userAgent.search('Safari')>=0&&navigator.userAgent.search('Chrome')<0);options.template=apt.replace(/{{viewingSessionId}}/g,options.vsID).replace(/{{handler}}/g,options.handler).replace(/{{pages}}/g,options.pages.join(',')).replace(/{{orientation}}/g,options.orientation).replace(/{{paperSize}}/g,options.paperSize).replace(/{{isIE}}/g,isIE.toString()).replace(/{{isSafari}}/g,isSafari.toString()).replace(/{{includeAnnotations}}/g,options.includeAnnotations).replace(/{{includeRedactions}}/g,options.includeRedactions).replace(/{{includeComments}}/g,options.includeComments).replace(/{{includeReasons}}/g,options.includeReasons).replace(/{{margins}}/g,options.margins).replace(/{{redactionViewMode}}/g,options.redactionViewMode).replace(/{{viewerAssetsPath}}/g,this.bu.viewerAssetsPath);options.encryption= ! !this.bu.encryption;if(isOldIE){options.algorithm=printAlgorithm.contentWindowContents;}var Us;function au(){if(! !Us){Us();}};var wg=new PCCViewer.PrintRequest(options,cT.length,au,this);this.trigger(PCCViewer.EventType.PrintRequested,{printRequest:wg});options.wg=wg;options.aea=auN(this);options.abh=arT(this);options.ajw=awe(this);options.ajv=Vy(this);Us=asO(options);return wg;};function validatePrintRange(range){return PCCViewer.Util.validatePageRange(range.toString().toLowerCase(),{upperLimit:this.getPageCount()});};function canPrintMarks(){return(document.documentMode!==8);};var PrintRequest=function(options,totalPages,cancelFunc,that){this.bu=options;this.au=cancelFunc;this.acU=0;PCCViewer.EventEmitter.extend(this);};PrintRequest.EventType={PrintPagePrepared:"PrintPagePrepared",PrintCompleted:"PrintCompleted",PrintCancelled:"PrintCancelled",PrintFailed:"PrintFailed"};PrintRequest.prototype.cancel=function(){this.au();this.trigger(PCCViewer.PrintRequest.EventType.PrintCancelled);};PrintRequest.prototype.getOptions=function(){return{range:this.bu.pages.toString(),orientation:this.bu.orientation,paperSize:this.bu.paperSize,margins:this.bu.margins,includeMarks:this.bu.includeMarks,includeAnnotations:this.bu.includeAnnotations,includeRedactions:this.bu.includeRedactions,includeComments:this.bu.includeComments,includeReasons:this.bu.includeReasons,redactionViewMode:this.bu.redactionViewMode};};PrintRequest.prototype.getPageCount=function(){return this.bu.pages.length;};PrintRequest.prototype.getPreparedCount=function(){return this.acU;};if(Object.defineProperties){Object.defineProperties(PrintRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"pageCount":{enumerable:true,get:function(){return this.getPageCount();}},"preparedCount":{enumerable:true,get:function(){return this.getPreparedCount();}}});}var PrintControl=function(domElement,options){var aaG=[];IPCC.C.abI=true;options.includeAnnotations=options.includeAnnotations!=='false';options.includeRedactions=options.includeRedactions!=='false';domElement.className=domElement.className+' '+options.orientation;function zW(n){(window.parent)?window.parent.postMessage(n,'*'):window.opener.postMessage(n,'*');};function avU(aR,GL){var jn=[];jn.push("pageNumber="+(1+aR));jn.push("index="+GL);jn.push("totalPages="+options.pages.length);return jn.join('&');};function iO(aR,GL,next){var ag={documentIdentifier:options.vsID,pageNumber:aR,viewFitType:IPCC.Web.UI.FitType.FullImage,imageHandlerUrl:options.handler,encryption:options.encryption};var jq=document.createElement('div');jq.className=options.paperSize+" ";jq.className+=options.isIE?'pageIE':options.isSafari?'pageSafari':'page';jq.id='printpage'+aR;if(options.margins==='none'){jq.className+=' nomargins';}domElement.appendChild(jq);var pv=IPCC.initializePageViewPlugin(jq,ag);pv.set_debug(false);pv.set_requireRequestsOptimize(true);aaG.push(pv);var vy=false;function JK(){zW(avU(aR,GL));next();};pv.add_pageOpened(function(){var bS=pv.kE(),ba=pv.hO();var xW=(options.orientation==='portrait'&&bS>ba)||(options.orientation==='landscape'&&ba>bS);if(xW){pv.xW(90);}});pv.add_pageDisplayed(function(){if(!vy){JK();}});pv.add_textPageReady(function(){if(vy){pv.cI();JK();}});pv.add_pageOpenFailed(function(){zW('fail');});pv.add_textExtractionFailed(function(){if(vy){zW('fail');}});if(options.redactionViewMode){if(options.redactionViewMode.toLowerCase()==="draft"){pv.qn(true);}else if(options.redactionViewMode.toLowerCase()==="normal"){pv.qn(false);}}if(PCCViewer.ViewerControl.prototype.canPrintMarks()&&(options.includeAnnotations||options.includeRedactions)){var ahn='loadArt'+aR;var rW={pageIndex:aR,callbackName:ahn};window[ahn]=function(aO){var mW,IR,h,cE={},Qu={},zC='',mi,Fn,eU,CO='';var MW=[];aO.Cs(function(K){if(K.get_type()===IPCC.Web.UI.MarkType.HighlightText){vy=true;}if(options.includeRedactions&&K.iP()){MW.push(K);}if(options.includeAnnotations&& !K.iP()){MW.push(K);}});var abw=new IPCC.Web.UI.ArtPage();IPCC.C.forEach(MW,function(K){K.me(undefined);abw.addMark(K);});ag.artPage=abw;Qu=options.pagedConversations[aR+1];if(options.pagedConversations&&Qu&&options.includeComments==='followingPage'){mW=document.createElement('div');mW.className+='commentPage';mW.id='printcommentpage'+aR;if(options.margins==='none'){mW.className+=' nomargins';}IR='<h1>Comments for Page {{pageNumber}}</h1><hr><div class="pageConversations">{{conversationList}}</div>';for(h=0;h<Qu.length;h++){cE=Qu[h];zC+=aaI(cE,aR+1);}mW.innerHTML=IR.replace('{{pageNumber}}',aR+1).replace('{{conversationList}}',zC);domElement.appendChild(mW);}Fn=options.pagedReasons[aR+1];if(options.pagedReasons&&Fn&&options.includeReasons==='followingPage'){mi=document.createElement('div');mi.className+='reasonPage';mi.id='printreasonpage'+aR;if(options.margins==='none'){mi.className+=' nomargins';}IR='<h1>Redaction Reasons for Page {{pageNumber}}</h1>'+'<div class="redactionReasonPageHeader"><ul><li>Date: {{date}}</li><li>Number of Redactions on this Page: {{count}}</li></div><hr>'+'<div class="pageReasons">{{reasonList}}</div>';for(eU in Fn){if(Fn.hasOwnProperty(eU)){CO+=aaU(eU,Fn[eU]);}}mi.innerHTML=IR.replace('{{pageNumber}}',aR+1).replace('{{reasonList}}',CO).replace('{{date}}',agZ()).replace('{{count}}',options.pagedRedactionCount[aR+1]);domElement.appendChild(mi);}pv.openPage(ag);IPCC.C.forEach(MW,function(K){K.me(aO);});};zW(JSON.stringify(rW));}else{pv.openPage(ag);}};function aaI(cE,aR){var aic='',hW='',K=cE.getMark(),he,di,h;switch(K.L.jr()){case IPCC.Web.UI.MarkType.Rectangle:hW=(K.L.iP())?'Highlight Redaction ':'Rectangle Annotation';break;case IPCC.Web.UI.MarkType.Ellipse:hW='Ellipse Annotation';break;case IPCC.Web.UI.MarkType.RectangleRedaction:hW='Rectangle Redaction';break;case IPCC.Web.UI.MarkType.Line:hW=(K.oP==='None')?'Line Annotation':'Arrow Annotation';break;case IPCC.Web.UI.MarkType.Polyline:hW='Polyline Annotation';break;case IPCC.Web.UI.MarkType.Polygon:hW='Polygon Annotation';break;case IPCC.Web.UI.MarkType.Text:hW='Text Annotation';break;case IPCC.Web.UI.MarkType.Highlight:hW='Highlight Annotation';break;case IPCC.Web.UI.MarkType.Stamp:hW='Stamp Annotation';break;case IPCC.Web.UI.MarkType.HighlightText:hW='Highlight Text Annotation';break;case IPCC.Web.UI.MarkType.SignaturePath:hW='Signature Path';break;case IPCC.Web.UI.MarkType.Freehand:hW='Freehand Annotation';break;case IPCC.Web.UI.MarkType.SignatureText:hW='Signature Text';break;case IPCC.Web.UI.MarkType.TextLine:hW='Text Input Signature';break;case IPCC.Web.UI.MarkType.TextAreaSignature:hW='Text Area Signature';break;case IPCC.Web.UI.MarkType.SignatureImage:hW='Signature Image';break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:hW='Text Selection Redaction';break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:hW='Image Stamp Annotation';break;case IPCC.Web.UI.MarkType.ImageStampRedaction:hW='Image Stamp Redaction';break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:hW='Text Hyperlink Annotation';break;case IPCC.Web.UI.MarkType.Strikethrough:hW='Strikethrough Annotation';break;default:break;}he=cE.getComments();for(h=0;h<he.length;h++){di=he[h];aic+='<li>'+awG({text:di.getText(),createDate:di.pf.abm,pageNumber:aR+1})+'</li>';}return '<h3>'+hW+'</h3><ul>'+aic+'</ul>';};function awG(di){var ha=new Date(di.createDate),Rz='{{month}}/{{day}}/{{year}} {{hour}}:{{minutes}}{{period}}'.replace('{{month}}',ha.getMonth()+1).replace('{{day}}',ha.getDate()).replace('{{year}}',ha.getFullYear()).replace('{{hour}}',(ha.getHours()<10?'0':'')+ha.getHours()).replace('{{minutes}}',(ha.getMinutes()<10?'0':'')+ha.getMinutes()).replace('{{period}}',ha.getHours()<12?'am':'pm');var bo=di.text.replace(/</g,'&#60;').replace(/>/g,'&#62;').replace(/\n/g,'<br/>');return "{{comment}} - {{date}}".replace('{{comment}}',bo).replace('{{date}}',Rz);};function agZ(){var ha=new Date();return '{{month}}/{{day}}/{{year}}'.replace('{{month}}',ha.getMonth()+1).replace('{{day}}',ha.getDate()).replace('{{year}}',ha.getFullYear());};function aaU(eU,qZ){eU=eU.replace(/</g,'&#60;').replace(/>/g,'&#62;').replace(/\n/g,'<br/>');var alY=(qZ>1)?'times':'time';return '<li>"{{reason}}" occurs {{count}} {{times}}</li>'.replace('{{reason}}',eU).replace('{{count}}',qZ).replace('{{times}}',alY);};function avA(){window.onerror=function(ev){zW('fail');};function sync(funcs,done){var counter=funcs.length;var idx=0;var next=function(){if(--counter===0)done();else funcs[idx++](next);};funcs[idx++](next);};function auP(aR,GL){return function(next){iO(aR,GL,next);};};var funcs=[];for(var i=0;i<options.pages.length;i++){var aS= +options.pages[i]-1;funcs.push(auP(aS,i));}sync(funcs,function(){var mW,Lw='',aS,DS='',zC='',cE,K,ajD='<h1>Comments</h1><hr>{{pageSections}}',mi,CO='',aCI='<h1>Redaction Reasons</h1><hr>{{pageSections}}';if(options.includeComments==='documentEnd'){for(aS in options.pagedConversations){if(options.pagedConversations.hasOwnProperty(aS)){if(!mW){mW=document.createElement('div');mW.className+=' commentPage';mW.id='printpage_comments';if(options.margins==='none'){mW.className+=' nomargins';}}Lw='<div class="pageConversations"><h2>Page #{{pageNumber}}</h2><hr><ol>{{conversationList}}</ol></div>';zC='';for(var h=0;h<options.pagedConversations[aS].length;h++){cE=options.pagedConversations[aS][h];K=cE.getMark();zC+=aaI(cE,K.pageNumber);}DS+=Lw.replace('{{pageNumber}}',K.pageNumber).replace('{{conversationList}}',zC);if(zC.length){mW.innerHTML=ajD.replace('{{pageSections}}',DS);domElement.appendChild(mW);}}}}if(options.includeReasons==='documentEnd'){DS='';ajD='';Lw='<div class="pageReasons"><h2>Page #{{pageNumber}}</h2><div class="redactionReasonPageHeader"><ul><li>Date: {{date}}</li><li>Number of Redactions on this Page: {{count}}</li></div><hr><ul>{{reasonList}}</ul></div>';for(aS in options.pagedReasons){if(options.pagedReasons.hasOwnProperty(aS)){if(!mi){mi=document.createElement('div');mi.className+='reasonPage';mi.id='printpage_reason';if(options.margins==='none'){mi.className+=' nomargins';}}CO='';for(var eU in options.pagedReasons[aS]){if(options.pagedReasons[aS].hasOwnProperty(eU)){CO+=aaU(eU,options.pagedReasons[aS][eU]);}}DS+=Lw.replace('{{pageNumber}}',aS).replace('{{reasonList}}',CO).replace('{{date}}',agZ()).replace('{{count}}',options.pagedRedactionCount[aS]);}}if(DS.length){mi.innerHTML=aCI.replace('{{pageSections}}',DS);domElement.appendChild(mi);}}zW('done');});};function asw(){window['extra']=function(bool,Ha){options.encryption= ! !bool;options.pagedConversations=Ha.Ip;options.pagedReasons=Ha.xR;options.pagedRedactionCount=Ha.Fj;avA();window['extra']=function(){};};zW('extra');};function aDa(){var aO;IPCC.C.forEach(aaG,function(ai){aO=ai.get_artPage();if(aO){aO.removeAllMarks();}ai.dispose();aO=undefined;});};window['destroy']=aDa;asw();};module.exports={PrintRequest:PrintRequest,PrintControl:PrintControl,print:print,validatePrintRange:validatePrintRange,canPrintMarks:canPrintMarks};},{}],159:[function(require,module,exports){var aBG={Draft:"Draft",Normal:"Normal"};module.exports=aBG;},{}],160:[function(require,module,exports){var Revision=function(){this.cS=0;this.vY=0;this.bd='';};Revision.prototype.getId=function(){return this.cS;};Revision.prototype.getEndPageNumber=function(){return this.vY;};Revision.prototype.getType=function(){return this.bd;};if(Object.defineProperties){Object.defineProperties(Revision.prototype,{"endPageNumber":{enumerable:true,get:function(){return this.vY;}},"id":{enumerable:true,get:function(){return this.cS;}},"type":{enumerable:true,get:function(){return this.bd;}}});}Revision.Type={ContentInserted:"ContentInserted",ContentDeleted:"ContentDeleted",PropertyChanged:"PropertyChanged",ParagraphNumberChanged:"ParagraphNumberChanged",FieldDisplayChanged:"FieldDisplayChanged",RevisionMarkedAsReconciledConflict:"RevisionMarkedAsReconciledConflict",RevisionMarkedAsConflict:"RevisionMarkedAsConflict",StyleChanged:"StyleChanged",ContentReplaced:"ContentReplaced",ParagraphPropertyChanged:"ParagraphPropertyChanged",TablePropertyChanged:"TablePropertyChanged",SectionPropertyChanged:"SectionPropertyChanged",StyleDefinitionChanged:"StyleDefinitionChanged",ContentMovedFrom:"ContentMovedFrom",ContentMovedTo:"ContentMovedTo",TableCellInserted:"TableCellInserted",TableCellDeleted:"TableCellDeleted",TableCellsMerged:"TableCellsMerged",Unknown:"Unknown"};module.exports=Revision;},{}],161:[function(require,module,exports){var KB=function(bu){var lA=new PCCViewer.RevisionsRequest(true);function awM(bd){for(var Yx in PCCViewer.Revision.Type){if(PCCViewer.Revision.Type.hasOwnProperty(Yx)){if(Yx.toLowerCase()===bd.toLowerCase()){return PCCViewer.Revision.Type[Yx];}}}return PCCViewer.Revision.Type.Unknown;};function awh(hD,aU){var yj=[];if(hD.changes&&hD.changes.length){yj=hD.changes.map(function(SV){var NH=new PCCViewer.Revision();NH.cS=SV.id;NH.vY=SV.endPageIndex+1;NH.bd=awM(SV.type);return NH;});}return yj;};function auw(Ox){var TS=Ox?'&continueToken='+Ox:'';var aob=bu.imageHandlerUrl+'/v2/viewingSessions/'+bu.documentID;return aob+'/revisionData?limit=100'+TS;};function ahB(Ox){var aw=PCCViewer.Deferred();var ao=auw(Ox);PCCViewer.Ajax.ff({url:ao,method:'GET'}).then(function fq(bw){var bX=JSON.parse(bw.responseText);var Bx=bX.continueToken;var yj=awh(bX,lA.HQ.length);lA.HQ=lA.HQ.concat(yj);if(Bx){if(yj.length){lA.trigger(PCCViewer.EventType.PartialRevisionsAvailable,{partialRevisions:yj});}setTimeout(function(){ahB(Bx);},bX.continueAfter||0);}else{if(yj.length){lA.trigger(PCCViewer.EventType.PartialRevisionsAvailable,{partialRevisions:yj});}lA.trigger(PCCViewer.EventType.RevisionsAvailable,{completedRevisions:lA.getRevisions()});lA.trigger(PCCViewer.EventType.RevisionsRetrievalCompleted,{completedRevisions:lA.getRevisions()});}aw.resolve();},function eP(aE){var fM='RequestFailed';var cF='The request to get revisions failed.';var mO=aE.response.responseText?JSON.parse(aE.response.responseText):'';var kl=aE.response.status;if(mO&&(kl===580||(kl===480&&mO.errorCode==='DocumentNotProvidedYet'))){fM=mO.errorCode;}lA.fM=fM;lA.cF=cF;lA.trigger(PCCViewer.EventType.RevisionsRetrievalFailed,{errorMessage:lA.getErrorMessage()});lA.trigger(PCCViewer.EventType.RevisionsRetrievalCompleted,{completedRevisions:lA.getRevisions()});aw.reject(aE.error);});};this.aAd=function(){setTimeout(function(){ahB();},0);return lA;};};var RevisionsRequest=function(vz){this.HQ=[];this.fM=null;this.cF=null;if(Object.defineProperties){Object.defineProperties(this,{"revisions":{configurable: ! !vz,enumerable:true,get:function(){return this.HQ;}},"errorCode":{configurable: ! !vz,enumerable:true,get:function(){return this.fM;}},"errorMessage":{configurable: ! !vz,enumerable:true,get:function(){return this.cF;}}});}PCCViewer.EventEmitter.extend(this);};RevisionsRequest.prototype.getRevisions=function(){return this.HQ;};RevisionsRequest.prototype.getErrorCode=function(){return this.fM;};RevisionsRequest.prototype.getErrorMessage=function(){return this.cF;};module.exports={RevisionsRequest:RevisionsRequest,KB:KB};},{}],162:[function(require,module,exports){var Cz={Pinch:"Pinch",Zoom:"Zoom",Fit:"Fit",ViewMode:"ViewMode"};module.exports=Cz;},{}],163:[function(require,module,exports){var _Search=function(){this.ad='';this.Fh={};this.cl={};this.NU=0;this.av=new PCCViewer.SearchRequest();var J=this;this.RG=function(){var Pf=[];for(var h=0;h<J.Fh.searchTerms.length;h++){var ad=J.Fh.searchTerms[h];var oQ=IPCC.C.MJ(ad.type);var Pk;switch(oQ){case 'proximity':var wM={vp:ad,cl:[],type:ad.type,highlightColor:this.abf(ad.highlightColor),distance:ad.distance,contextPadding:ad.contextPadding};for(var x=0;x<ad.terms.length;x++){var VB=ad.terms[x];Pk=this.ahw(VB);wM.cl=wM.cl.concat(Pk);}Pf.push(wM);break;default:Pk=this.ahw(ad);Pf=Pf.concat(Pk);break;}}return Pf;};this.ahw=function(ad){var et=[];var cl={};if(ad.matchingOptions.exactPhrase===false&&ad.searchTermIsRegex===false){var zj=ad.searchTerm.split(' ');for(var as=0;as<zj.length;as++){cl={};if(zj[as].length<0){continue;}cl.searchText=zj[as];cl.vp=ad;if(ad.matchingOptions.matchWholeWord){cl.searchTerm=this.ajH(this.Bc(zj[as]),ad.matchingOptions);}else{if(ad.matchingOptions.wildcard===true){cl.searchTerm=this.aim(this.Bc(zj[as]),ad.matchingOptions);}else if(ad.matchingOptions.beginsWith===true||ad.matchingOptions.endsWith===true){cl.searchTerm=this.aiE(this.Bc(zj[as]),ad.matchingOptions);}else{cl.searchTerm=this.acB(zj[as],ad.matchingOptions,false);}}cl.highlightColor=this.abf(ad.highlightColor);et.push(cl);}}else{cl={};cl.searchText=ad.searchTerm;cl.vp=ad;if(ad.matchingOptions.matchWholeWord){cl.searchTerm=this.ajH(this.Bc(ad.searchTerm),ad.matchingOptions);}else{if(ad.matchingOptions.wildcard===true){cl.searchTerm=this.aim(this.Bc(ad.searchTerm),ad.matchingOptions);}else if(ad.matchingOptions.beginsWith===true||ad.matchingOptions.endsWith===true){cl.searchTerm=this.aiE(this.Bc(ad.searchTerm),ad.matchingOptions);}else{cl.searchTerm=this.acB(ad.searchTerm,ad.matchingOptions,ad.searchTermIsRegex);}}cl.highlightColor=this.abf(ad.highlightColor);et.push(cl);}return et;};this.ajH=function(rX,yL){var Ff=new RegExp('\\b'+rX+'\\b',this.EU(yL.matchCase));return Ff;};this.aiE=function(rX,yL){if(yL.beginsWith){return new RegExp("\\b"+rX+'(\\w+)',this.EU(yL.matchCase));}if(yL.endsWith){rX=rX.replace("*","");return new RegExp('(\\w+)'+rX+"\\b",this.EU(yL.matchCase));}};this.Bc=function(rX){return rX.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");};this.aim=function(sx,yL){sx=sx.replace(/[*]{2,}/g,'*').replace(/(\\\*){2,}/g,'\\*');if(sx==='\\*'){var dM=new Error('The search term must contain one or more non-wildcard characters.');dM.aCk=true;throw dM;}var regexFlags='gim';if(yL.matchCase){regexFlags='gm';}sx=sx.replace(/\*/g,'\S*');sx=sx.replace(/\?/g,'\S');var Ff=new RegExp('(\\s|^)'+sx+'(?=\\s|$)',regexFlags);return Ff;};this.XD=function(rX){return rX.replace(/\ /g,'\\s+');};this.acB=function(PP,matchingOptions,isRegex){var tU='';if(isRegex===true){tU=this.XD(PP);}else if(matchingOptions.wildcard===true){tU=PP.replace(/[-[\]{}()+,^$|#]/g,"\\$&");tU=this.XD(tU);}else if(matchingOptions.exactPhrase){tU=PP.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");tU=this.XD(tU);}else{tU=PP.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");}var aCx=tU.replace(/'/g,'[\'|‘|’]').replace(/"/g,'["|“|”]');return new RegExp(aCx,this.EU(matchingOptions.matchCase));};this.EU=function(matchCase){if(matchCase){return 'gm';}else{return 'igm';}};this.aHy=function(sx){var Ff=new RegExp('\\b'+sx+'\\b',J.EU());return Ff;};var abc=["#1c86ee","#ff8c00","#9932cc","#FFBA00","#00c5cd","#ee3a8c","#4169e1","#00cd00","#6959cd","#ff4500"];this.abf=function(db){if(!db){return abc[J.NU++ %abc.length];}else{return db;}};this.TK=function(ej){if(typeof ej==='string'){ej={searchTerms:[{searchTerm:ej,highlightColor:undefined,contextPadding:25,searchTermIsRegex:false,matchingOptions:{exactPhrase:true,matchCase:false,matchWholeWord:false,beginsWith:false,endsWith:false,wildcard:false}}]};return ej;}IPCC.C.forEach(ej.searchTerms,function(ad){if(!ad.matchingOptions){ad.matchingOptions={};}var oQ=IPCC.C.MJ(ad.type);switch(oQ){case 'proximity':IPCC.C.forEach(ad.terms,function(VB){J.aku(VB);});break;default:J.aku(ad);break;}});return ej;};this.aku=function(ad){if(typeof ad.contextPadding==="undefined"){ad.contextPadding=25;}if(typeof ad.searchTermIsRegex==="undefined"){ad.searchTermIsRegex=false;}if(typeof ad.matchingOptions==="undefined"){ad.matchingOptions={};}if(!ad.matchingOptions.hasOwnProperty('matchCase')){ad.matchingOptions.matchCase=false;}if(!ad.matchingOptions.hasOwnProperty('exactPhrase')){ad.matchingOptions.exactPhrase=true;}if(!ad.matchingOptions.hasOwnProperty('matchWholeWord')){ad.matchingOptions.matchWholeWord=false;}if(!ad.matchingOptions.hasOwnProperty('beginsWith')){ad.matchingOptions.beginsWith=false;}if(!ad.matchingOptions.hasOwnProperty('endsWith')){ad.matchingOptions.endsWith=false;}if(!ad.matchingOptions.hasOwnProperty('wildcard')){ad.matchingOptions.wildcard=false;}if(typeof ad.highlightColor!=='undefined'){try{IPCC.bC.db(ad.highlightColor,"selectText");}catch(e){ad.highlightColor=undefined;}}};this.atb=function(){return J.cl;};this.aaD=function(e){J.av.cF=e.message;J.av.fM="1010";J.av.uq=true;setTimeout(function(){J.av.trigger("SearchFailed",{errorMessage:(e.message)});},10);setTimeout(function(){J.av.trigger("SearchCompleted",{completedSearchResults:(J.sY)});},10);return J.av;};this.vh=function(ej,aG){this.cl={};this.Fh=ej;this.ad=ej;this.NU=0;var vh=new PCCViewer.Nv();try{J.cl=this.RG();return vh.Yf(aG,J.cl,ej,J.av);}catch(e){return J.aaD(e);}};this.Ds=function(ej,aG){this.cl={};this.Fh=ej;this.ad=ej;this.NU=0;var Ds=new PCCViewer.Vk();try{J.cl=this.RG();return Ds.Yf(aG,J.cl,ej,J.av);}catch(e){return J.aaD(e);}};};_Search.prototype.Ax=function(searchQuery){this.cl={};this.av=new PCCViewer.SearchRequest();this.Fh=searchQuery;this.av.ej=searchQuery;this.ad=searchQuery;this.NU=0;return this.av;};var SearchTask=function(searchQuery){this.adg(searchQuery);var _search=new PCCViewer._Search();searchQuery=_search.TK(searchQuery);this.av=_search.Ax(searchQuery);try{_search.cl=_search.RG();}catch(e){if(e.aCk){throw new Error(e.message);}else{throw new Error(e.message);}}var vh=new PCCViewer.Nv();this.search=function(text){vh.sY=[];vh.bL=0;vh.cl=_search.cl;vh.aqj(text);return vh.sY;};};SearchTask.prototype.adg=function(searchQuery){if(typeof searchQuery==='string'){return;}var Aa;if(searchQuery&&searchQuery.searchTerms&&Object.prototype.toString.call(searchQuery.searchTerms)==='[object Array]'){Aa=searchQuery.searchTerms;}else{throw new Error('The `searchQuery` parameter is not a string, or a search terms array was not present in the search query.');}IPCC.C.forEach(Aa,function(vJ,h){var oQ=vJ.type?IPCC.C.trim(vJ.type).toLowerCase():undefined;switch(oQ){case 'proximity':IPCC.C.forEach(vJ.terms,function(ays,bf){if(!ajY(ays)){throw new Error("Search term index "+bf+" under Proximity search term index "+h+" does not have a valid `searchTerm` string property.");}});break;default:if(!ajY(vJ)){throw new Error("Search term index "+h+" does not have a valid `searchTerm` string property.");}break;}});function ajY(vJ){return(typeof vJ.searchTerm==='string');}};module.exports={_Search:_Search,SearchTask:SearchTask};},{}],164:[function(require,module,exports){function apV(ej){var Aa=ej.map(function(ad,alE){if(ad.type==='proximity'){return{type:'proximity',distance:ad.distance,subTerms:ad.cl.map(function(aae){return{pattern:aae.searchTerm.source,caseSensitive:aae.vp.matchingOptions.matchCase};}),termId:alE.toString(),contextPadding:ad.contextPadding};}return{type:'simple',pattern:ad.searchTerm.source,caseSensitive:ad.vp.matchingOptions.matchCase,termId:alE.toString(),contextPadding:ad.contextPadding};});return{input:{searchTerms:Aa}};};var Vk=function(){var J=this;var Ax,Bx,ajo;var LQ=[];this.zO=false;this.AE={};this.zQ=[];function aqf(){var TS=Bx?'&continueToken='+Bx:'';return J.aG.rU+'/v2/searchTasks/'+Ax.processId+'/results?limit=100'+TS;};function aGw(et){var Qi=J.AE.input.searchTerms.reduce(function(pO,vJ){pO[vJ.termId]=J.cl[vJ.termId];return pO;},{});return et.map(function(aE){var eR=new PCCViewer.SearchResult();if(J.cl[0].vp.matchingOptions.wildcard&&(aE.text[0]===" "||aE.text[0]==="\n")){aE.text=aE.text.substring(1);aE.startIndex+=1;aE.startIndexInContext+=1;}eR.mf=aE.boundingRectangle;eR.dJ=aE.context;eR.yS=aE.startIndexInContext;eR.nk=aE.id;eR.cl=J.cl;eR.am=aE.lineRectangles;eR.gs=aE.pageData;eR.qu=aE.startIndex;eR.bo=aE.text;eR.aR=aE.pageIndex+1;eR.cS=aE.id;eR.Hm=J.aG.get_documentIdentifier();eR.ad=Qi[aE.searchTerm.termId].vp;eR.qx=Qi[aE.searchTerm.termId].highlightColor;return eR;});};function rd(Jp,aaO){switch(Jp){case 'failed':setTimeout(function(){J.av.trigger(PCCViewer.EventType.SearchFailed,aaO);},10);break;case 'complete':J.av.We=J.zQ;J.av.uq=true;setTimeout(function(){J.av.trigger(PCCViewer.EventType.SearchResultsAvailable,{completedSearchResults:(J.av.getResults())});},10);break;case 'cancelled':break;}setTimeout(function(){J.av.trigger(PCCViewer.EventType.SearchCompleted,{completedSearchResults:(J.av.getResults())});},10);};function aCj(lZ){var ao=J.aG.rU+'/v2/viewingSessions/'+encodeURIComponent(J.aG.get_documentIdentifier())+'/searchTasks';function fq(bw){var aE=JSON.parse(bw.responseText);Ax=aE;if(LQ.length){LQ.forEach(function(xc){xc();});}LQ=[];lZ();};function eP(az){J.av.off('SearchCancelled',J.aev);J.av.cF='The request to create a search task failed.';var ayu=az&&az.response&&az.response.status===501;var ayF=az&&az.response&&az.response.status===480&&(function(ayC){try{return JSON.parse(ayC).errorCode==='FeatureDisabled';}catch(e){return false;}}(az.response.responseText));if(ayu||ayF){J.av.fM='ServerSearchUnavailable';J.av.cF='Server-side search is not available.';rd('failed',{errorMessage:J.av.cF});return;}rd('failed',{errorMessage:J.av.cF});};PCCViewer.Ajax.ff({url:ao,method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(J.AE)}).then(fq,eP);};function NQ(lZ){var ao=aqf();var gz={};if(Ax.affinityToken){gz['Accusoft-Affinity-Token']=Ax.affinityToken;}if(!J.zO){return;}function fq(bw){if(!J.zO){return;}var aE=JSON.parse(bw.responseText);var Xr=aGw(aE.results);J.zQ=aE.pagesWithoutText;J.av.et.push.apply(J.av.et,Xr);if(Xr.length){setTimeout(function(){IPCC.C.forEach(Xr.reduce(function(pO,aE){var dh=aE.aR;if(!pO[dh]){pO[dh]=[];}pO[dh].push(aE);return pO;},{}),function(et,dh){J.av.trigger('PartialSearchResultsAvailable',{partialSearchResults:et,pagesWithoutText:J.zQ});});},10);}if(aE.continueToken){Bx=aE.continueToken;ajo=aE.continueAfter;lZ();}else if(J.zO){rd('complete');}};function eP(aE){if(!J.zO){return;}J.zO=false;J.av.cF='The request to poll the search task failed.';J.av.uq=true;rd('failed',{errorMessage:J.av.cF});};PCCViewer.Ajax.ff({method:'GET',url:ao,headers:gz}).then(fq,eP);};function awL(){(function avo(){setTimeout(function(){NQ(avo);},ajo||0);}());};function aev(){rd('cancelled');J.zO=false;function age(){};if(!Ax){LQ.push(age);return;}age();};this.Yf=function(aG,cl,ej,av){J.aG=aG;J.cl=cl;J.av=av;J.av.ej=ej;J.AE=apV(J.cl);J.zO=true;J.av.on('SearchCancelled',aev);aCj(function(){awL();});return J.av;};};module.exports=Vk;},{}],165:[function(require,module,exports){var ObservableCollection=require('./PCCViewer.ObservableCollection');function aes(clientBB){this.top=clientBB.top;this.bottom=clientBB.bottom;this.left=clientBB.left;this.right=clientBB.right;this.width=clientBB.width||clientBB.right-clientBB.left;this.height=clientBB.height||clientBB.bottom-clientBB.top;};function vs(x,y){this.x=x;this.y=y;this.getDistance=function(point){var x=point.x-this.x,y=point.y-this.y,d=x*x+y*y,squared=false;return squared?d:Math.sqrt(d);};this.equals=function(point){return this===point||point&&(this.x===point.x&&this.y===point.y)||false;};this.close=function(point){return this.getDistance(point)<4;};this.clone=function(){return new vs(this.x,this.y);};};function UJ(bg){return(bg&&bg.nodeType===1);};function PB(gU,Ji){var QH=(Ji&&IPCC.C.Fe)?'m':'M';var XU=(Ji&&IPCC.C.Fe)?'l':'L';return IPCC.C.map(gU,function(el,i){if(i===0){return QH+el.x+','+el.y;}else{return XU+el.x+','+el.y;}}).join('');};function acp(dJ,pr,fa){return function(az){if(IPCC.C.CC&&az.type.match('mouse')){az.preventDefault();az.stopPropagation();return false;}if(az.preventDefault){az.preventDefault();}else{az.returnValue=false;}var x,y;if(az.changedTouches){var hj=az.changedTouches[0];if(az.type==='touchstart'){pr=az.target.getBoundingClientRect();}else if(az.type==='touchend'){fa&&fa();return;}x=hj.clientX-pr.left;y=hj.clientY-pr.top;}else{x=az.clientX-pr.left;y=az.clientY-pr.top;}var aX=new vs(x,y);dJ.gU.push(aX);var qN=PB(dJ.gU);if(IPCC.C.Fe){dJ.gp.path=qN.toLowerCase();}else{dJ.gp.setAttribute('d',qN);}fa&&fa();};};function aEj(points){var CJ=3,bY='',rY;var qi=(points.length<CJ)?points:IPCC.C.filter(points,function(el){if(rY&&rY.close(el)){return false;}else{rY=el;return true;}});if(qi.length<CJ){qi=[points[0],points[points.length-1]];}rY=undefined;if(qi.length<CJ){bY+=PB(qi);}else{bY='M'+IPCC.C.bspline(qi);bY=bY.replace(/\d*\.?\d*/g,function(al){var Is=al.indexOf('.');if(al.length&&Is>0){return al.substr(0,Is+3);}else if(al!==""){return al;}else{return al;}});}return bY;};function SignatureControl(dom){var J=this;if(typeof dom==='string'){this.aP=document.querySelector(dom);if(!(UJ(this.aP))){throw new Error('The query selector "'+dom+'" did not match any DOM element.');}}else if(UJ(dom)){this.aP=dom;}else{throw new Error('The SignatureControl target is not a valid DOM element.');}this.Ku=[];this.pr=new aes(this.aP.getBoundingClientRect());this.fh=IPCC.C.zu.SVG([0,0,this.pr.width,this.pr.height].join(' '));this.aP.appendChild(this.fh);function Eh(ev){var gp=IPCC.C.zu.Path(undefined,{width:2000,height:2000,color:'black',thickness:4});J.fh.appendChild(gp);var dJ={gU:[],gp:gp,fa:function(){J.Ku.push(dJ.gU);IPCC.C.removeEvent(J.aP,'mousemove',BB);IPCC.C.removeEvent(J.aP,'mouseup',Eb);if(IPCC.C.CC){IPCC.C.removeEvent(J.aP,IPCC.C.pn['move'],BB);IPCC.C.removeEvent(J.aP,IPCC.C.pn['up'],Eb);}if(IPCC.C.Jf){IPCC.C.removeEvent(J.aP,'touchmove',BB);IPCC.C.removeEvent(J.aP,'touchend',Eb);}}};var BB=acp(dJ,J.pr);var Eb=acp(dJ,J.pr,dJ.fa);BB(ev);IPCC.C.addEvent(J.aP,'mousemove',BB);IPCC.C.addEvent(J.aP,'mouseup',Eb);if(IPCC.C.CC){IPCC.C.addEvent(J.aP,IPCC.C.pn['move'],BB);IPCC.C.addEvent(J.aP,IPCC.C.pn['up'],Eb);}if(IPCC.C.Jf){IPCC.C.addEvent(J.aP,'touchmove',BB);IPCC.C.addEvent(J.aP,'touchend',Eb);}};IPCC.C.addEvent(J.aP,'mousedown',Eh);if(IPCC.C.CC){this.aP.style['-ms-touch-action']='none';this.aP.style['touch-action']='none';IPCC.C.addEvent(J.aP,IPCC.C.pn['down'],Eh);}if(IPCC.C.Jf){IPCC.C.addEvent(J.aP,'touchstart',Eh);}this.SR=function(){J.pr=new aes(J.aP.getBoundingClientRect());J.fh.setAttribute('viewBox',[0,0,J.pr.width,J.pr.height].join(' '));};IPCC.C.addEvent(window,'resize',this.SR);this.aiN=function(){IPCC.C.removeEvent(window,'resize',J.SR);IPCC.C.removeEvent(J.aP,'mousedown',Eh);if(IPCC.C.CC){IPCC.C.removeEvent(J.aP,IPCC.C.pn['down'],Eh);}if(IPCC.C.Jf){IPCC.C.removeEvent(J.aP,'touchstart',Eh);}while(J.aP.firstChild){J.aP.removeChild(J.aP.firstChild);}};};SignatureControl.prototype.done=function(){var kk,lx,mx,nh,qN='M0,0',agF=this;IPCC.C.forEach(agF.Ku,function(ob){IPCC.C.forEach(ob,function(p){if(kk===undefined||kk>p.x){kk=p.x;}if(lx===undefined||lx>p.y){lx=p.y;}if(mx===undefined||mx<p.x){mx=p.x;}if(nh===undefined||nh<p.y){nh=p.y;}});});IPCC.C.forEach(agF.Ku,function(ob){var aDD=IPCC.C.map(ob,function(p){return new vs(p.x-kk,p.y-lx);});qN+=aEj(aDD);});this.aiN();return{type:'path',path:qN,width:(mx-kk)||0,height:(nh-lx)||0};};SignatureControl.prototype.resize=function(){this.SR();return this;};SignatureControl.prototype.clear=function(){var svg=this.fh;while(svg&&svg.firstChild){svg.removeChild(svg.firstChild);}this.Ku=[];return this;};SignatureControl.prototype.undo=function(){if(this.fh.lastChild){this.fh.removeChild(this.fh.lastChild);}this.Ku.pop();return this;};SignatureControl.prototype.cancel=function(){this.aiN();return this;};var Signatures=new ObservableCollection();var SignatureDisplay=function(domElement,signature){function handleSignatureAsPath(){if(!signature.path||signature.path.match(/[^MLC0-9.,\s]/)){throw new Error('A valid path is required in the signature object.');}var qM=IPCC.C.aaA(signature.path);var fh=IPCC.C.zu.SVG([0,0,qM.width,qM.height].join(' '));var gp=IPCC.C.zu.Path(signature.path,{width:qM.width,height:qM.height,color:'black',thickness:4});if(IPCC.C.Fe){var aEq=(qM.height/qM.width)*100;fh.style.width=gp.style.width='100%';fh.style.height=gp.style.height='0px';fh.style.paddingBottom=gp.style.paddingBottom=aEq+'%';}else{fh.style.width='100%';fh.style.maxHeight='100%';fh.setAttribute('preserveAspectRatio','xMinYMin meet');}fh.appendChild(gp);domElement.appendChild(fh);return{width:qM.width,height:qM.height,clear:function(){domElement.removeChild(fh);}};};function handleSignatureAsText(){if(!signature.text||typeof signature.text!=='string'){throw new Error('The signature text is not a valid string.');}var jq=document.createElement('div');var nv=document.createTextNode(signature.text);var iZ=(typeof signature.fontName==='string')?signature.fontName:'serif';jq.appendChild(nv);jq.style.textAlign='center';jq.style.fontFamily='"'+iZ+'", cursive';jq.style.fontSize='2.5em';jq.style.overflow='hidden';domElement.appendChild(jq);var qM=IPCC.C.uo(signature.text,iZ);return{width:qM.width,height:qM.height,clear:function(){domElement.removeChild(jq);}};};if(!UJ(domElement)){throw new Error('The `domElement` parameter is not a valid HTMLElement.');}else if(!signature){throw new Error('The `signature` parameter is required.');}else if(signature.path){return handleSignatureAsPath();}else if(signature.text){return handleSignatureAsText();}else{throw new Error('The signature provided does not have a known type.');}};module.exports={SignatureControl:function(dom){return new SignatureControl(dom);},SignatureDisplay:SignatureDisplay,Signatures:Signatures};},{"./PCCViewer.ObservableCollection":155}],166:[function(require,module,exports){var Vw=function(){},kl={adW:0,ayE:1,auC:2};var ThumbnailControl=function(domElement,viewerControl){if(!domElement|| !IPCC.C.ub(domElement)){throw new Error('The "domElement" parameter is not a valid HTML Element');}if(!viewerControl|| !(viewerControl instanceof PCCViewer.ViewerControl)){throw new Error('The "viewerControl" parameter is not a valid PCCViewer.ViewerControl object');}var J=this;this.kl=kl.adW;this.bu=viewerControl.bu;this._debug= ! !this.bu.debug;this.aGm="Single";this.Hf=[];this.pU={};if(!this.bz){this.bz=viewerControl;}else{throw new Error("This instance of thumbnail already is attached to a ViewerControl.");}PCCViewer.EventEmitter.extend(this);this.ac=domElement;if(viewerControl.mF){J.kl=kl.auC;J.Wy(viewerControl.getPageCount());J.WT(J.ac);}else{J.kl=kl.ayE;J.Wy(1,0);viewerControl.on('PageCountReady',function(){J.Wy(viewerControl.getPageCount(),1);J.WT(J.ac);});}viewerControl.on('PageRotated',function(az){IPCC.C.forEach(J.pU,function(bB){if(bB.bF===(az.pageNumber-1)){if(bB.xs===true){J.ZZ(bB);}}});});viewerControl.on('DocumentRotated',function(az){IPCC.C.forEach(J.pU,function(bB){if(bB.xs===true){J.ZZ(bB);}});});};ThumbnailControl.prototype.getViewerControl=function(){return this.bz;};ThumbnailControl.prototype.Wy=function(ed,gK){gK=gK||0;var J=this,Ka=document.createDocumentFragment();for(var i=gK;i<ed;i++){var _parent=document.createElement('div');_parent.className='pccThumbnailWrapper';var ez=document.createElement('div');ez.className='pccThumbnail';var qO=document.createElement('div');qO.className='pccThumbnailView';qO.id='pcc-thumbnailPage-'+i+'-'+IPCC.wh();ez.appendChild(qO);_parent.appendChild(ez);Ka.appendChild(_parent);J.pU[i]={TX:_parent,aP:ez,qO:qO,bF:i,ai:{},xs:false,iq:0,iG:0,hH:0};}IPCC.C.forEach(J.pU,function(bB){var abG=document.createElement('div'),tQ=document.createElement('span'),aCw=document.createTextNode(bB.bF+1);abG.className='pccThumbnailLabel';tQ.appendChild(aCw);abG.appendChild(tQ);bB.aP.appendChild(abG);bB.aP.onclick=function(){J.ami([bB.bF+1]);};});J.ac.appendChild(Ka);this.TY();return this;};ThumbnailControl.EventType={PageSelectionChanged:"PageSelectionChanged"};ThumbnailControl.prototype.getSelectedPages=function getSelectedPages(){if(!this.kl){return[];}return[].concat(this.Hf);};ThumbnailControl.prototype.setSelectedPages=function setSelectedPages(pageNumbers){if(!this.kl){return this;}var ed=this.bz.getPageCount();if(typeof pageNumbers==='number'){pageNumbers=[pageNumbers];}else if(Object.prototype.toString.call(pageNumbers)!=='[object Array]'){throw new Error(pageNumbers+' is not a number or an array of numbers');}IPCC.C.forEach(pageNumbers,function(ho,h){if(isNaN(ho)){throw new Error(ho+' (array index '+h+') is not a number');}if(ho<1||ho>ed){throw new Error(ho+' (array index '+h+') is out of range');}});this.ami([].concat(pageNumbers).sort());return this;};if(Object.defineProperties){Object.defineProperties(ThumbnailControl.prototype,{"selectedPages":{enumerable:true,get:function(){return this.getSelectedPages();},set:function(pageNumbers){return this.setSelectedPages(pageNumbers);}},"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}},"visiblePages":{emunerable:true,get:function(){return this.getVisiblePages();}}});}ThumbnailControl.prototype.scrollTo=function(pageNumber,options){var ho=Number(pageNumber);if(ho!==(ho|0)||ho<1||ho>this.bz.getPageCount()){throw new Error(pageNumber+' is not a valid page number');}var mw=false,J=this,bu=options||{};IPCC.C.forEach(this.pU,function(bB){if(mw){return;}if(bB.bF+1===ho){mw=true;J.Uf(bB,undefined,! !bu.forceAlignTop);}});return this;};ThumbnailControl.prototype.Uf=function(bB,mh,aui){mh=mh||IPCC.C.Yk(this.ac.getBoundingClientRect());var uO=IPCC.C.Yk(bB.TX.getBoundingClientRect());if(uO.top>mh.top&&uO.bottom<mh.bottom){return;}var agI=window.getComputedStyle?getComputedStyle(bB.TX):bB.TX.currentStyle,hg;if(uO.top<mh.top||aui){hg=uO.top-mh.top+this.ac.scrollTop-parseInt(agI.marginTop,10);}else if(uO.bottom>mh.bottom){hg=uO.bottom-mh.top-mh.height+this.ac.scrollTop+parseInt(agI.marginBottom,10);}if(hg!==undefined){this.ac.scrollTop=hg;}return this;};ThumbnailControl.prototype.ami=function(jd){if(IPCC.C.axw(this.Hf,jd)){return this;}var aak='pcc-thumbnail-selected',HH=new RegExp(aak),TN=false,akE=[].concat(jd),alr=akE.shift(),akh=false,mh=IPCC.C.Yk(this.ac.getBoundingClientRect()),J=this;IPCC.C.forEach(this.pU,function(bB){if(bB.bF===alr-1){IPCC.C.aeE(bB.aP,aak);TN=true;alr=akE.shift()||0;if(!akh){akh=true;J.Uf(bB,mh);}return;}if(HH.test(bB.aP.className)){IPCC.C.adj(bB.aP,aak);TN=true;}});this.Hf=jd;if(TN){this.trigger(PCCViewer.ThumbnailControl.EventType.PageSelectionChanged,{pageNumbers:[].concat(this.Hf)});}return this;};ThumbnailControl.prototype.asI=function(){var cQ=this.RM(),J=this,vj;IPCC.C.forEach(cQ,function(bB){if(!vj&&IPCC.C.inArray(J.Hf,bB.bF+1)){vj=bB;}});if(!vj){vj=cQ[0];}return vj;};ThumbnailControl.prototype.reflow=function(){if(!this.kl){return this;}var DW,Ev,bS,ba,Ml,RC,hH,vj=this.asI();IPCC.C.forEach(this.pU,function(bB){if(bB.xs){bB.aP.style.height=bB.qO.style.height='';bB.aP.style.width=bB.qO.style.width='';}});IPCC.C.forEach(this.pU,function(bB){if(bB.xs&&bB.ai.fv()){DW=bB.aP.offsetWidth;Ev=bB.aP.offsetHeight;hH=bB.ai.asg();if(Math.abs(hH)===90||Math.abs(hH)===270){ba=bB.ai.kE();bS=bB.ai.hO();}else{bS=bB.ai.kE();ba=bB.ai.hO();}Ml=bS/ba;RC=DW/Ev;var iq,iG;if(Ml<RC){iG=Ev;iq=Math.floor(iG*bS/ba);}else{iq=DW;iG=Math.floor(iq*ba/bS);}bB.iq=iq;bB.iG=iG;}});IPCC.C.forEach(this.pU,function(bB){if(bB.xs&&bB.ai&&bB.ai.fv()){bB.qO.style.height=bB.iG+'px';bB.qO.style.width=bB.iq+'px';bB.ai.ZN(IPCC.Web.UI.FitType.FullImage);bB.ai.cI();}});if(vj){this.Uf(vj);}this.TY();return this;};ThumbnailControl.prototype.destroy=function(){if(!this.kl){return this;}this.kl=kl.adW;IPCC.C.forEach(this.pU,function(bB){if(bB.ai&&bB.ai.dispose){bB.ai.dispose();}});while(this.ac.firstChild){this.ac.removeChild(this.ac.firstChild);}this.on=this.off=this.trigger=Vw;this.jL={};};ThumbnailControl.prototype.getVisiblePages=function(){if(!this.kl){return[];}var cQ=this.RM();return IPCC.C.map(cQ,function(bB){return bB.bF+1;});};ThumbnailControl.prototype.RM=function RM(){var axg=this.ac.getBoundingClientRect(),uO;function UZ(mh,Nq){return(!(Nq.top>=mh.bottom||Nq.left>=mh.right||Nq.bottom<=mh.top||Nq.right<=mh.left));};return IPCC.C.filter(this.pU,function(bB){uO=bB.aP.getBoundingClientRect();return UZ(axg,uO);});};ThumbnailControl.prototype.TY=function(){var J=this,cQ=J.RM();IPCC.C.forEach(cQ,function(bB){if(!bB.xs){bB.ai=J.iO(bB);bB.xs=true;}});return this;};ThumbnailControl.prototype.WT=function WT(aP){var NP={},J=this;function avH(by,xc,qV){if(NP[by]){clearTimeout(NP[by]);NP[by]=undefined;}NP[by]=setTimeout(xc,qV||0);};IPCC.Web.UI.bI.addHandler(aP,'scroll',function(ev){avH('scroll',function(){J.TY();},300);});};ThumbnailControl.prototype.iO=function(bB,lZ){var J=this;lZ=lZ||Vw;var ag={documentIdentifier:J.bu.documentID,pageNumber:bB.bF,viewFitType:IPCC.Web.UI.FitType.FullImage,imageHandlerUrl:J.bu.imageHandlerUrl,encryption:J.bu.encryption,handleTouchEvents:false};var ai=IPCC.initializePageViewPlugin(bB.qO,ag);ai.set_debug(J._debug);ai.set_mouseTool(IPCC.Web.UI.MouseTool.None);var vy=false;function JK(){lZ();};ai.add_pageOpened(function(){J.ZZ(bB);});ai.add_pageDisplayed(function(){if(!vy){JK();}});ai.add_textPageReady(function(){if(vy){ai.cI();JK();}});ai.add_pageOpenFailed(function(){});ai.add_textExtractionFailed(function(){});ag.artPage=J.bz.bK.fQ(J.bz.dn.getPage(bB.bF));ag.artPage.Cs(function(K){if(K.get_type()===608){vy=true;}});ai.aAF(ag);ai.set_mouseTool(IPCC.Web.UI.MouseTool.None);return ai;};ThumbnailControl.prototype.ZZ=function(bB){var J=this;var En=J.bz.bK.Yp(bB.bF);var hH=bB.hH;var ade=hH;if(En!==bB.hH){ade=En-hH;}var ai=bB.ai,jq=bB.qO,ba,bS;if(!bB.xs|| !ai.fv()){return;}jq.style.height='';jq.style.width='';if(Math.abs(En)===90||Math.abs(En)===270){ba=ai.kE();bS=ai.hO();}else{ba=ai.hO();bS=ai.kE();}var DW=jq.offsetWidth,Ev=jq.offsetHeight;if(bB.hH!==En){ai.rotate(ade);bB.hH=En;}var Ml=bS/ba,RC=DW/Ev;var iq,iG;if(Ml<RC){iG=Ev;iq=Math.floor(iG*bS/ba);}else{iq=DW;iG=Math.floor(iq*ba/bS);}jq.style.height=iG+'px';jq.style.width=iq+'px';};module.exports=ThumbnailControl;},{}],167:[function(require,module,exports){function acb(message,value){var err=new Error('PCC Range Error: '+message);err.value=value;return err;};function awt(axM){var aJ=[];var aaM=function(n){return!(isNaN(+n));};var agA=axM.split(',');var LV,VV;var Rc=0;var vY=0;for(var h=0;h<agA.length;h++){var Fw=agA[h].split('-');var EF=Fw[0].replace(/\s+/g,'');if(EF.length===0){continue;}var FX=EF;if(Fw[1]!==undefined&&Fw[1]!==""){FX=Fw[1].replace(/\s+/g,'');}EF= +(EF);FX= +(FX);if(aaM(EF)===true){Rc=parseInt(EF);}if(aaM(FX)===true){vY=parseInt(FX);}if(Rc<vY){LV=Rc;VV=vY;}else{LV=vY;VV=Rc;}if(Fw.length>1){for(var bp=LV;bp<=VV;bp++){aJ.push(bp);}}else{aJ.push(LV);}}aJ.sort(function(a,b){return a-b;});for(h=aJ.length-1;h>0;h--){if(aJ[h-1]===aJ[h]){aJ.splice(h,1);}}return aJ;};var alternateObjectURL=function(blob,str){blob.data=str;var type=blob.type,data_URI_header;if(type===null){type="application/octet-stream";}data_URI_header="data:"+type;if(blob.encoding==="base64"){return data_URI_header+";base64,"+blob.data;}else if(blob.encoding==="URI"){return data_URI_header+","+decodeURIComponent(blob.data);}if(btoa){return data_URI_header+";base64,"+btoa(blob.data);}else{return data_URI_header+","+encodeURIComponent(blob.data);}};var Util={save:function(filename,stringValue){if('Blob'in window){var blob=new Blob([stringValue],{'type':'text/plain;charset=utf-8'});if(window.navigator.msSaveBlob){window.navigator.msSaveBlob(blob,filename);}else if(window.saveAs){window.saveAs(blob,filename);}else if(window.URL&&window.URL.createObjectURL){var a=document.createElement('a');a.href=URL.createObjectURL(blob);a.target='_blank';a.download=filename;a.style.display='none';document.body.appendChild(a);a.click();document.body.removeChild(a);}else{var objectURL=alternateObjectURL(blob,stringValue);window.open(objectURL);}}else{if(document.execCommand){var oWin=window.open('about:blank','_blank');oWin.document.write(stringValue);oWin.document.close();oWin.document.execCommand('SaveAs',true,filename+'.txt');oWin.close();}}},calculateNonOverlappingSelections:function(selections,backgroundColor){var hJ;if(!(selections instanceof Array)){hJ=[selections];}else{hJ=selections;}IPCC.C.forEach(hJ,function(dR){IPCC.bC.mE(dR.startIndex,'selection.startIndex',0,Number.MAX_VALUE);IPCC.bC.mE(dR.length,'selection.length',1,Number.MAX_VALUE);IPCC.bC.db(dR.color,'selection.color');IPCC.bC.mE(dR.opacity,'selection.opacity',0,255);});IPCC.bC.db(backgroundColor,'backgroundColor');var apF=IPCC.C.anl(hJ);return IPCC.C.map(apF,function(bg){bg.length=bg.endIndex-bg.startIndex+1;return bg;});},layerColors:function(colors,backgroundColor){var OT;if(!(colors instanceof Array)){OT=[colors];}else{OT=colors;}IPCC.C.forEach(OT,function(dR){IPCC.bC.db(dR.color,'selection.color');IPCC.bC.mE(dR.opacity,'selection.opacity',0,255);});IPCC.bC.db(backgroundColor,'backgroundColor');return IPCC.C.akY(OT,backgroundColor);},validatePageRange:function(pageRange,options){if(pageRange&&typeof pageRange!=='string'){return false;}else{try{PCCViewer.Util.convertPageRangeToArray(pageRange,options);}catch(e){return false;}return true;}},convertPageRangeToArray:function(pageRange,options){options=options||{};var lowerLimit=options.lowerLimit||1,upperLimit=options.upperLimit||Number.MAX_VALUE,allowEmpty=options.allowEmpty||false;if(pageRange!=='all'&&pageRange.match(/[^0-9\-\,\s]/g)){throw acb('Illegal page range value',pageRange);}var cT=[];if(pageRange==='all'){while(upperLimit>=lowerLimit){cT.unshift(upperLimit--);}}else{cT=awt(pageRange);if((cT.length===0&& !allowEmpty)||cT[0]<lowerLimit||cT[cT.length-1]>upperLimit){throw acb('Pages are out of range',cT.join(', '));}}return cT;}};module.exports=Util;},{}],168:[function(require,module,exports){var CN={Document:"Document",EqualWidthPages:"EqualWidthPages",SinglePage:"SinglePage",EqualFitPages:"EqualFitPages"};module.exports=CN;},{}],169:[function(require,module,exports){"use strict";var IPCC=require('./../IPCC/IPCC');var sz=require('./PCCViewer.Helper');var Print=require('./PCCViewer.Print');var EventEmitter=require('./PCCViewer.EventEmitter');var cX=require('./PCCViewer.MarkDeserializer');var fH=require('./PCCViewer.MarkSerializer');function ViewerControl(element,options){if(!(this instanceof ViewerControl)){return new ViewerControl(element,options);}if(!IPCC.C.ub(element)){throw new Error("The 'element' argument is required.");}if(!options.documentID){throw new Error("A valid value for 'options.documentID' is required");}if(!options.imageHandlerUrl){throw new Error("A valid value for 'options.imageHandlerUrl' is required");}var J=this;IPCC.C.QQ(element);var kc=document.createElement('div');kc.className='pccViewerControl';kc.id='pccViewerControl-'+IPCC.wh();element.appendChild(kc);this.dO=kc;this.gl=element;var rN=document.createElement('div');rN.className='pccPageListLoading';kc.appendChild(rN);this.rN=rN;EventEmitter.extend(this);this.xP=false;this.bu=sz.sO({},ViewerControl.zn,options);this.bu.language=sz.sO({},ViewerControl.ate,(options.language?options.language:{}));if(options.language){PCCViewer.Language.initializeData(options.language);}if(this.bu.pageLayout.toLowerCase()==="vertical"){this.bu.pageLayout=IPCC.PageLayout.VerticalScrollDirection;}else if(this.bu.pageLayout.toLowerCase()==="horizontal"){this.bu.pageLayout=IPCC.PageLayout.HorizontalScrollDirection;}else{throw new Error("The value of 'options.pageLayout' is invalid.");}if(this.bu.viewMode.toLowerCase()==="document"){this.bu.viewMode=IPCC.ViewMode.Document;}else if(this.bu.viewMode.toLowerCase()==="equalwidthpages"){this.bu.viewMode=IPCC.ViewMode.EqualWidthPages;}else if(this.bu.viewMode.toLowerCase()==="equalfitpages"){this.bu.viewMode=IPCC.ViewMode.EqualFitPages;}else if(this.bu.viewMode.toLowerCase()==="singlepage"){this.bu.viewMode=IPCC.ViewMode.SinglePage;}else{throw new Error("The value of 'options.viewMode' is invalid.");}function isValidSearchMethodType(){return-1<['auto','server','client'].indexOf(J.bu.searchMethodType.toLowerCase());};if(!isValidSearchMethodType()){throw new Error("The value of 'options.searchMethodType' should be 'auto', 'server', or 'client'.");}if(isNaN(this.bu.searchMethodPageCountThreshold)&&(typeof this.bu.searchMethodPageCountThreshold!=='number')&&this.bu.searchMethodPageCountThreshold<=1){throw new Error("The value of 'options.searchMethodPageCountThreshold' must be a number greater than 1.");}if(this.bu.redactionViewMode){if(this.bu.redactionViewMode.toLowerCase()==="draft"){this.bu.redactionViewMode=PCCViewer.RedactionViewMode.Draft;}else if(this.bu.redactionViewMode.toLowerCase()==="normal"){this.bu.redactionViewMode=PCCViewer.RedactionViewMode.Normal;}}else{this.bu.redactionViewMode=PCCViewer.RedactionViewMode.Normal;}var iw=this.bu.pageRotation%360;if(iw!==0){var wF=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!iw||wF.indexOf(iw)=== -1){throw new Error("The value of 'options.pageRotation' is invalid.");}}else{if(!iw||IPCC.Web.iE(wF,iw)=== -1){throw new Error("The value of 'options.pageRotation' is invalid.");}}}this.bu.pageRotation=iw;if(this.bu.markHandleMode.toLowerCase()==="hidesidehandleswhenclose"){this.bu.markHandleMode=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;}else if(this.bu.markHandleMode.toLowerCase()==="hidecornerhandleswhenclose"){this.bu.markHandleMode=IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose;}else{throw new Error("The value of 'options.markHandleMode' is invalid.");}if(isNaN(this.bu.serviceResponseTimeout)||typeof this.bu.serviceResponseTimeout!=='number'||this.bu.serviceResponseTimeout<0){throw new Error("The value of 'options.serviceResponseTimeout' is invalid.");}if(typeof this.bu.debug!=='boolean'){throw new Error("The value of 'options.debug' is invalid.");}if(typeof this.bu.viewerAssetsPath!=='string'){throw new Error("The value of 'options.viewerAssetsPath' is invalid.");}this.jL={};this.ao="";this.ed=1;this.aio=1;this.ajF=0;this.nr=1;this.bK=undefined;this.Wh=new PCCViewer.Deferred();this.rC=this.Wh.getPromise();this.fj=false;this.aG=undefined;this.KP=0;this.dn=undefined;this.bD=PCCViewer.MouseTools.getMouseTool("AccusoftPanAndEdit");this.mF=false;this.xm=false;this.Ea=false;this.DM=[];this.Sg=new PCCViewer.Deferred();this.asm=this.Sg.getPromise();this.vI=[];this.df={};this.BG=[];this.BE=[];this.bh=null;this.Hu={};this.gb=null;this.lL=new PCCViewer.MarkupLayerCollection(this);this.tw=new PCCViewer.MarkupLayer(this);this.lL.addItem(this.tw);this.sf=true;setTimeout(function(){J.aeb(kc,J.bu);},0);this.wR=null;this.av=null;this.zK=false;this.IQ= -1;this.Gu={};this.abp=false;this.axz=this.bu.printTemplate||(this.bu.template?this.bu.template.print:"");this.kN=null;this.wt=null;this.lG=function(cE,eD,akf){var bW=document.createElement('div'),fA=bW.style;fA.position='absolute';if(eD.isSelected){fA.backgroundColor='white';}else{fA.backgroundColor='lightgray';}fA.left='10px';fA.right='0';fA.textAlign='left';IPCC.C.forEach(cE.getComments(),function(oS,h){var Sx=document.createElement('div'),Mz=Sx.style;Mz.position='relative';Mz.padding='5px';Mz.border='1px solid gray';if(h>0){Mz.borderTop='none';}Sx.appendChild(document.createTextNode(oS.getText()));bW.appendChild(Sx);});return bW;};return J;};ViewerControl.zn={encryption:false,viewMode:"Document",debug:false,pageLayout:"Vertical",resourcePath:"img",serviceResponseTimeout:60*1000,printTemplate:"",pageRotation:0,markHandleMode:"HideSideHandlesWhenClose",debugErrorLevel:IPCC.Web.UI.DebugErrorLevel.Detailed,maxPrefetch:3,displayPagesWhenScrolling:true,maxOutOfViewDisplay:0,scrollDisplayThreshold:0.5,requireRequestsOptimize:true,loadingContent:"",redactionViewMode:"Normal",searchMethodType:'auto',searchMethodPageCountThreshold:80,viewerAssetsPath:'viewer-assets'};ViewerControl.ate={pageLoadFailed:"Page Load Failed",pageLoadFailedPassword:"Page Load Failed - Password Required",pageLoadFailedRetry:"Retry"};ViewerControl.prototype.aeb=function(element,options){if(this.xP){return;}var J=this;var VS=function(){if(J.bu.viewMode===IPCC.ViewMode.SinglePage||J.xP){return;}var arA=J.bK.get_pageNodeId(J.getPageNumber()-1);var aI=document.getElementById(arA);var Te=J.dO.childNodes[0].childNodes[0].childNodes[0].childNodes;if(!aI){return;}IPCC.C.forEach(Te,function(iI){if(aI!==iI){if(document.documentMode===8&&iI.style.outline){iI.style.outline='';}else if(iI.style.boxShadow){iI.style.boxShadow='';}}});if(document.documentMode===8){aI.style.outline='2px solid #aaa';}else{aI.style.boxShadow='0 0 4px 1px rgba(0,0,0,.4)';}};var aiw=function(){if(J.rN.parentNode){J.rN.parentNode.removeChild(J.rN);}J.bK.remove_pageOpenFailed(UB);J.bK.remove_pageDisplayed(aiw);var bF=arguments[1].pageIndex;setTimeout(function(){J.trigger("PageDisplayed",{pageNumber:(bF+1)});VS();},10);if(bF!==0){return;}function fq(bw){if(J.xP){return;}var aE;if(bw.status===200){aE=JSON.parse(bw.responseText);if(aE.pageCountConfidence<100){var ao;if(!(/^[\x00-\x7F]*$/.test(qg))){ao=J.bu.imageHandlerUrl+'/Document/q/Attributes?DocumentID=e'+qg+'&DesiredPageCountConfidence=100';}else{ao=J.bu.imageHandlerUrl+'/Document/q/Attributes?DocumentID=u'+encodeURIComponent(J.bu.documentID)+'&DesiredPageCountConfidence=100';}PCCViewer.Ajax.ff({method:'GET',url:ao,headers:{'Content-Type':'application/json'}}).then(fq,eP);J.ed=aE.pageCount;J.aG.ed=aE.pageCount;J.Ea=true;setTimeout(function(){J.trigger("EstimatedPageCountReady",{pageCount:aE.pageCount});},10);abE();}else{if(J.ed>1){J.aG.ed=aE.pageCount;setTimeout(function(){var h;if(aE.pageCount<J.ed){for(h=J.ed-1;h>=aE.pageCount;h--){J.dn.removePage(h);}}else if(aE.pageCount>J.ed){for(h=J.ed;h<aE.pageCount;h++){var Sn=new IPCC.Web.UI.ImGearPage({pageNumber:h});J.dn.addPage(Sn);}}J.ed=aE.pageCount;if(J.fj===true){J.mF=true;J.xm=true;setTimeout(function(){J.trigger("PageCountReady",{pageCount:aE.pageCount});},30);}},30);}else{J.ed=aE.pageCount;J.aG.ed=aE.pageCount;if(J.fj===true){abE(function(){J.mF=true;J.xm=true;setTimeout(function(){J.trigger("PageCountReady",{pageCount:aE.pageCount});},0);});}}}}};function eP(aE){if(J.xP){return;}var Zk="None",ajk,YE;var ain=aE.response.getResponseHeader('Accusoft-Status-Message');if(ain){Zk=ain;YE=aE.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.yp(YE)){ajk=parseInt(YE,10);}}else if(aE.response.statusText){Zk=aE.response.statusText;}setTimeout(function(){J.trigger("PageLoadFailed",{statusCode:aE.response.status,errorMessage:Zk,accusoftErrorNumber:ajk});},1);throw("Unable to obtain document information from the server");};var qg=IPCC.hm.rE(J.bu.documentID);if(!qg||qg===""){throw("Invalid encoded Identifier");}if(!(/^[\x00-\x7F]*$/.test(qg))){J.ao=J.bu.imageHandlerUrl+'/Document/q/Attributes?DocumentID=e'+qg+'&DesiredPageCountConfidence=50';}else{J.ao=J.bu.imageHandlerUrl+'/Document/q/Attributes?DocumentID=u'+encodeURIComponent(J.bu.documentID)+'&DesiredPageCountConfidence=50';}PCCViewer.Ajax.ff({method:'GET',url:J.ao,headers:{'Content-Type':'application/json'}}).then(fq,eP);};function abE(pI){pI=pI||function(){};var ajr=J.ed;function aeP(){J.bK.remove_allPagesAdded(aeP);pI();};if(ajr>1){J.bK.add_allPagesAdded(aeP);if(!J.ajZ){J.bK.add_currentPageChanged(function(){if(arguments.length<2){throw("Controls currentPageChanged event did not provide any expected information");}var cR=arguments[1];setTimeout(function(){J.trigger('PageChanged',{pageNumber:cR.pageIndex+1});VS();},0);});J.bK.add_pageDisplayed(function(){if(arguments.length<2){throw("Controls pageDisplayed event did not provide any expected information");}var cR=arguments[1];if(J.kN){J.kN();J.kN=null;if(J.gb){J.gb.resolve();}J.gb=null;}setTimeout(function(){J.trigger('PageDisplayed',{pageNumber:cR.pageIndex+1});VS();},0);setTimeout(function(){J.requestPageText(cR.pageIndex+1).then(function DE(){J.abu(cR.pageIndex+1,J.IQ);});},10);});J.bK.add_pageOpenFailed(function(){acf(arguments);});J.ajZ=true;}for(var h=J.KP;h<ajr;h++){J.dn.addPage(new IPCC.Web.UI.ImGearPage({pageNumber:h}));J.KP++;}}else{pI();}};var aAD=function(cR){var aI=document.getElementById(cR.pageNodeID),bg=document.createElement('div'),AD=document.createElement('button'),ahb='pccPageLoadFailRetry'+cR.pageIndex,akr=function(){J.bK.Mb(cR.pageIndex);},aqc=PCCViewer.Language.data.pageLoadFailed,aqh=PCCViewer.Language.getValue("pageLoadFailedPassword"),arj=PCCViewer.Language.data.pageLoadFailedRetry,ayG=cR.exception.statusCode===480&&cR.exception.customErrorCode===4001;if(aI===null){return;}AD.id=ahb;AD.innerHTML=arj;bg.className='pccPageLoadFail';if(ayG){bg.innerHTML=aqh+'<br>';aI.appendChild(bg);}else{bg.innerHTML=aqc+'<br>';bg.appendChild(AD);aI.appendChild(bg);AD=document.getElementById(ahb);if(!AD.addEventListener){AD.attachEvent('onclick',akr);}else{AD.addEventListener('click',akr,false);}}};function acf(Ew){if(Ew.length<2){throw("controls PageOpenFailed event did not provide any expected information");}var ahY,ahT,cR=Ew[1];if(Ew[1].exception.customErrorCode!==undefined){ahT=Ew[1].exception.customErrorCode;}if(Ew[1].exception.message!==undefined){ahY=Ew[1].exception.message;}setTimeout(function(){J.trigger('PageLoadFailed',{statusCode:cR.exception.statusCode,pageNumber:cR.pageIndex+1,errorMessage:ahY,accusoftErrorNumber:ahT});aAD(cR);},0);};function aze(){if(J.bK&&typeof J.bK.dispose==="function"){J.bK.dispose();}J.ao="";J.bK=undefined;while(J.dO.firstChild){J.dO.removeChild(J.dO.firstChild);}};function aHu(alz){var aw=new PCCViewer.Deferred();if(typeof alz==="string"){PCCViewer.Ajax.ff({url:J.bu.imageHandlerUrl+'/ViewingSession/u'+J.bu.documentID+'/Replacement',body:JSON.stringify({password:alz}),method:'POST',headers:{'Content-Type':'application/json;charset=utf-8'}}).then(function aES(bw){var result=JSON.parse(bw.responseText);var ant=result.viewingSessionId;J.bu.documentID=ant;aze();J.aeb(J.dO,J.bu);aw.resolve(ant);},function aEQ(err){aw.reject(new PCCViewer.Error("AjaxError","The call to replace the viewing session failed."));});}else{aw.reject(new PCCViewer.Error("InvalidArgument","The value of the 'password' parameter must be a string."));}return aw.getPromise();};function UB(){J.bK.remove_pageOpenFailed(UB);acf(arguments);};var aAp=function(aC,F){J.uy=true;var WJ={width:F.width,height:F.height,pageNumber:F.pageNumber};J.trigger("PageOpening",WJ);};function aeq(){J.Wh.resolve(J.bK);J.bK.remove_pageOpened(aeq);J.fj=true;var ab=J;setTimeout(function(){J.trigger("ViewerReady",{});if(ab.mF===true&&ab.xm===false){ab.xm=true;setTimeout(function(){J.trigger("PageCountReady",{pageCount:ab.getPageCount()});},10);}},10);J.setCurrentMouseTool("AccusoftPanAndEdit");};var aoL=function(aC,F){if(F.containsText===true){J.Sg.resolve(true);}var Ad= -1;if(Array.prototype.indexOf){Ad=(J.vI.indexOf(F.pageIndex)>=0);}else{Ad=(IPCC.Web.iE(J.vI,F.pageIndex)>=0);}if(Ad===false){J.vI.push(F.pageIndex);if(J.vI.length===J.ed){J.Sg.resolve(false);}}setTimeout(function(){J.trigger("PageTextReady",{pageNumber:F.pageIndex+1});},0);};var aoV=function(aC,F){var Ad= -1;if(Array.prototype.indexOf){Ad=(J.vI.indexOf(F.pageIndex)>=0);}else{Ad=(IPCC.Web.iE(J.vI,F.pageIndex)>=0);}if(Ad===false){J.vI.push(F.pageIndex);if(J.vI.length===J.ed){J.Sg.resolve(false);}}};function awg(sender,eventArgs){if(!eventArgs.text||(eventArgs.text.length===0)){return;}var jd=[];for(var i=0;i<eventArgs.pageNumbers.length;i++){jd.push(eventArgs.pageNumbers[i]+1);}var fR=[],tK= -eventArgs.startIndex,aU,cZ,jB,am,j,k;for(j=0;j<jd.length;j++){jB=J.dn.iO(jd[j]-1).dF().hI();tK+=jB.ec();aU=0;if(j===0){aU=eventArgs.startIndex;}if(tK>=eventArgs.text.length){cZ=tK-eventArgs.text.length-1;}else{cZ=jB.ec()-1;}am=IPCC.C.SI(jB,aU,cZ);for(k=0;k<am.length;k++){fR.push({x:am[k].x,y:am[k].y,width:am[k].width,height:am[k].height,pageNumber:jd[j]});}}J.bh={pageNumber:jd[0],length:eventArgs.text.length,text:eventArgs.text,startIndex:eventArgs.startIndex,rectangles:fR};var K,agE={selectedText:eventArgs.text,pageNumbers:jd,clientX:eventArgs.clientX,clientY:eventArgs.clientY,handleClientX:eventArgs.handleClientX,handleClientY:eventArgs.handleClientY,textSelection:J.bh};function aun(){var tG=J.iM;J.amb=true;J.iM=function(sender,args){J.iM=tG;setTimeout(function(){J.trigger(PCCViewer.EventType.MarkCreated,{mark:K,pageNumber:jd[0],clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};};if(eventArgs.previousFirstMark){K=J.df[eventArgs.previousFirstMark.get_markID()];J.bK.remove_markRemoved(J.Dw);J.bK.remove_markSelectionChanged(J.DF);if(eventArgs.pageNumbers[0]!==eventArgs.previousFirstMark.bF){var ayr=K.L.ZR;var Vi;if(K.getReason){Vi=K.L.get_text();}var VK;if(K.getFillColor){VK=K.L.get_fillColor();}var Vp;if(K.getColor){Vp=K.L.get_lineColor();}var Wa;if(K.getThickness){Wa=K.L.get_lineWidth();}var VY;if(K.getHref){VY=K.L.get_href();}var ayW=new PCCViewer.Conversation(K);var aO=J.bK.fQ(J.dn.getPage(K.L.bF));aO.removeMark(K.L);for(var h=K.cu.length-1;h>=0;h--){var kD=K.cu[h];aO=J.bK.fQ(J.dn.getPage(kD.bF));aO.removeMark(kD);K.cu.splice(h,1);}K.L=new IPCC.Web.UI.Mark(eventArgs.previousFirstMark.get_type());K.L.bF=eventArgs.pageNumbers[0];K.aR=eventArgs.pageNumbers[0]+1;K.L.lq=true;K.L.ZR=ayr;var tG=J.iM;J.iM=null;J.bK.remove_markChanged(J.mb);aO=J.bK.fQ(J.dn.getPage(K.L.bF));aO.addMark(K.L);if(Vi){K.L.set_text(Vi);}if(VK){K.L.set_fillColor(VK);}if(Vp){K.L.set_lineColor(Vp);}if(Wa){K.L.set_lineWidth(Wa);}if(VY){K.L.set_href(VY);}K.cE=new PCCViewer.Conversation(K);PCCViewer.Conversation.qG(ayW,K.cE);J.bK.add_markChanged(J.mb);J.iM=tG;}K.L.set_selected(true);K.L.set_visible(true);K.setPosition({startIndex:eventArgs.startIndex,length:eventArgs.text.length});J.bK.add_markRemoved(J.Dw);J.bK.add_markSelectionChanged(J.DF);J.pa(K,eventArgs.pageNumbers[0]);return;}var BJ=null;switch(eventArgs.mouseTool){case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:BJ='HighlightAnnotation';break;case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:BJ='TextSelectionRedaction';break;case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:BJ='TextHyperlinkAnnotation';break;case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:BJ='StrikethroughAnnotation';break;case IPCC.Web.UI.MouseTool.SelectText:aua(eventArgs.text);J.Hu[jd[0]]='selectText';break;}var bD=PCCViewer.MouseTools.getMouseTool(J.getCurrentMouseTool());var aB=(bD&&bD.getTemplateMark)?bD.getTemplateMark():undefined;var aoe=aB?aB.getType():"";if(BJ){aun();J.trigger(PCCViewer.EventType.TextSelected,agE);K=J.addMark(jd[0],BJ);if(J.sf){J.tw.addMarks(K);}K.L.lq=true;K.setPosition({startIndex:eventArgs.startIndex,length:eventArgs.text.length});if(aoe===BJ){if(aB.getFillColor){K.setFillColor(aB.getFillColor());}if(aB.getReason){K.setReason(aB.getReason());}if(aB.getHref){K.setHref(aB.getHref());}if(aB.getColor){K.setColor(aB.getColor());}if(aB.getThickness){K.setThickness(aB.getThickness());}PCCViewer.Data.nX(aB,K);}return;}setTimeout(function(){J.trigger(PCCViewer.EventType.TextSelected,agE);},0);};function aCu(){var aI=J.dO,bg=document.createElement('div');bg.className='pccCopyText';aI.appendChild(bg);J.Kw=bg;};function aua(bo){var nv,aHO=bo.split('\n'),Ka=document.createDocumentFragment(),DB,kA;nv=document.createTextNode(bo);Ka.appendChild(nv);IPCC.C.QQ(J.Kw);J.Kw.appendChild(Ka);if(document.body.createTextRange){DB=document.body.createTextRange();DB.moveToElementText(J.Kw);DB.select();}else if(window.getSelection){kA=window.getSelection();DB=document.createRange();DB.selectNodeContents(J.Kw);kA.removeAllRanges();kA.addRange(DB);}};this.aG=new IPCC.Web.UI.ImGearDocument({documentIdentifier:this.bu.documentID,imageServicePath:this.bu.imageHandlerUrl});this.aG.set_encryption(this.bu.encryption||false);var Sn=new IPCC.Web.UI.ImGearPage({pageNumber:0});this.aG.get_pages().addPage(Sn);this.dn=this.aG.get_pages();this.bK=IPCC.initializePageListPlugin(element,options);this.bK.get_documents().addDocument(this.aG);this.KP=1;this.bK.add_pageDisplayed(aiw);this.bK.add_pageOpenFailed(UB);this.bK.add_pageOpening(aAp);this.bK.add_pageOpened(aeq);this.bK.add_textPageReady(aoL);this.bK.add_textExtractionFailed(aoV);this.bK.set_conversationDOMFactory(function(L,eD,akf){var K=J.df[L.get_markID()];if(K){return J.lG(K.getConversation(),eD,akf);}});IPCC.C.anR(element,function(He){if(!He&&IPCC.C.At!=='svg'){console.warn('PrizmDoc cannot use inline font. Enable remote fonts in your browser for faster document rendering.');if(!J.fj){IPCC.C.At='svg';return;}else if(J.mF){IPCC.C.At='svg';J.bK.disposeDisplayedPages();J.bK.displayAll();}else{var mL=function(){J.off(PCCViewer.EventType.PageCountReady,mL);IPCC.C.At='svg';J.bK.disposeDisplayedPages();J.bK.displayAll();};J.on(PCCViewer.EventType.PageCountReady,mL);}}});aCu();this.bK.add_selectTextMouseToolCompleted(awg);this.bK.add_propertyChanged(function(rr,dE){var proprtyName=dE.atj();if(proprtyName==="mouseTool"){setTimeout(function(){J.trigger(PCCViewer.EventType.MouseToolChanged,{mouseToolName:J.bD.getName()});},0);}});this.bK.add_markAdded(function(sender,eventArgs){if((eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)&&J.df[eventArgs.mark.get_markID()]===undefined&&eventArgs.mark.bn!==undefined){J.pa(eventArgs.mark,eventArgs.pageIndex);}if(J.iM){var bq=eventArgs.mark.get_type();if(bq!==IPCC.Web.UI.MarkType.Highlight&& !(bq===IPCC.Web.UI.MarkType.RectangleRedaction&&eventArgs.mark.bn!==undefined)){J.iM(sender,eventArgs);}}});this.bK.add_markCreating(function(sender,eventArgs){if(J.Km){J.Km(sender,eventArgs);}});this.bK.Pi(function(sender,eventArgs){var BD=0;var zs=0;var aeI=0;var wy=0;var vQ=0;var OR=0;var ath=J.bD.getName().toLowerCase(),arx=J.bD.getType();if(arx===PCCViewer.MouseTool.Type.PlaceSignature){var bD=J.bD;var aB=bD.getTemplateMark(),kj=aB.getSignature(),akU=aB.getRectangle(),K,R={};if(!kj){return;}J.requestPageAttributes(eventArgs.pageIndex+1).then(function(attributes){var vZ;if(attributes.width>0){zs=akU.width||(attributes.width/5);}if(kj.path&&kj.path.length>0){vZ=IPCC.C.aaA(kj.path);R={x:0,y:0,width:vZ.width,height:vZ.height};K=J.addMark(eventArgs.pageIndex+1,PCCViewer.Mark.Type.FreehandSignature);K.setPath(kj.path);K.setThickness(kj.thickness||4);}if(kj.text&&kj.text.length){vZ=IPCC.C.uo(kj.text,kj.fontName);K=J.addMark(eventArgs.pageIndex+1,PCCViewer.Mark.Type.TextSignature);R={x:0,y:0,width:vZ.width,height:vZ.height};K.setText(kj.text);K.setFontName(kj.fontName);}aeI=(R.width/zs);BD=akU.height||(R.height/aeI);wy=(eventArgs.imagePoint.x-(zs/2));vQ=(eventArgs.imagePoint.y-(BD/2));if(wy<=0){wy=0;}if(vQ<=0){vQ=0;}if((wy+zs)>=attributes.width){OR=(wy+zs)-attributes.width;wy=wy-OR;}if((vQ+BD)>=attributes.height){OR=(vQ+BD)-attributes.height;vQ=vQ-OR;}R={x:wy,y:vQ,width:zs,height:BD};K.setRectangle({x:wy,y:vQ,width:zs,height:BD});PCCViewer.Data.nX(aB,K);PCCViewer.Conversation.qG(aB.getConversation(),K.getConversation());});J.setCurrentMouseTool(ath);}});function MouseEvent(az){var J=this;for(var i in az){if(i){J[i]=az[i];}}};this.bK.Qm(function(sender,eventArgs){var bh=null,eR=null,K=null,fV=null,vP=false,Ov=eventArgs.upTarget.type,MB=false;if(eventArgs.domEvent.ctrlKey===true||eventArgs.domEvent.shiftKey===true){MB=true;}if(eventArgs.upTarget.type==='page'&&eventArgs.downTarget.type==='page'&&eventArgs.upTarget.pageIndex===eventArgs.downTarget.pageIndex||eventArgs.upTarget.type==='comments'&&eventArgs.downTarget.element===eventArgs.upTarget.element){vP=true;if(eventArgs.upTarget.type==='page'&&eventArgs.downTarget.type==='page'&&MB===false){J.deselectAllMarks();}}else if(eventArgs.upMark&&typeof eventArgs.downMark!=='undefined'){if((eventArgs.upMark.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink)&&(eventArgs.upMark===eventArgs.downMark)){fV=J.arq(eventArgs.upMark);vP=fV!==null;Ov="documentHyperlink";}else{K=J.df[eventArgs.upMark.get_markID()];if(K===undefined){for(var jp in J.df){if(J.df.hasOwnProperty(jp)){if(J.df[jp].L.bn===eventArgs.upMark.bn&&J.df[jp].L.bn===eventArgs.downMark.bn){K=J.df[jp];eventArgs.pageIndex=K.aR-1;vP=true;var aFF=J.getCurrentMouseTool();var aFN=PCCViewer.MouseTools.getMouseTool(aFF);var akT=aFN.getType();if(MB===false&&eventArgs.domEvent.button===0){if(akT===PCCViewer.MouseTool.Type.PanAndEdit||akT===PCCViewer.MouseTool.Type.EditMarks){J.deselectAllMarks();K.L.set_selected(true);}}break;}}}}else if(typeof eventArgs.downMark!=='undefined'&&typeof eventArgs.upMark!=='undefined'&&eventArgs.downMark.jR()===eventArgs.upMark.jR()){vP=true;if(MB===false&&eventArgs.downTarget.alreadySelected===false){J.deselectAllMarks();K.L.set_selected(true);}}if(K===undefined){if(J.av&&J.Hu[eventArgs.upTarget.pageIndex+1]==='search'){var et=J.av.getResults();for(var h=0;h<et.length;h++){if(et[h].aR===eventArgs.upTarget.pageIndex+1&&typeof eventArgs.downMark.aU!=='undefined'&&typeof eventArgs.upMark.aU!=='undefined'&&typeof eventArgs.downMark.cD!=='undefined'&&typeof eventArgs.upMark.cD!=='undefined'&&eventArgs.downMark.aU>=et[h].getStartIndexInPage()&&eventArgs.downMark.aU+eventArgs.downMark.cD<=et[h].getStartIndexInPage()+et[h].getText().length&&eventArgs.upMark.aU>=et[h].getStartIndexInPage()&&eventArgs.upMark.aU+eventArgs.upMark.cD<=et[h].getStartIndexInPage()+et[h].getText().length){Ov='searchResult';eR=et[h];eventArgs.upTarget.pageIndex=eR.aR-1;vP=true;break;}}}}if(vP===false&&K===undefined&&J.Hu[eventArgs.upTarget.pageIndex+1]==='selectText'&&typeof eventArgs.downMark.aU!=='undefined'&&typeof eventArgs.upMark.aU!=='undefined'&&eventArgs.downMark.aU>=J.bh.startIndex&&eventArgs.downMark.aU+eventArgs.downMark.cD<=J.bh.startIndex+J.bh.length&&eventArgs.upMark.aU>=J.bh.startIndex&&eventArgs.upMark.aU+eventArgs.upMark.cD<=J.bh.startIndex+J.bh.length){Ov='textSelection';bh=J.bh;vP=true;}}}var SM=new MouseEvent(eventArgs.originalEvent);setTimeout(function(){var aAr=(isNaN(eventArgs.upTarget.pageIndex))?null:eventArgs.upTarget.pageIndex+1;var F={pageNumber:aAr,targetType:Ov,textSelection:bh,searchResult:eR,mark:K,originalEvent:SM,hyperlink:fV,clientX:eventArgs.clientX,clientY:eventArgs.clientY};if(vP===true){J.trigger('Click',F);}},0);});(function(){var AH=null;J.bK.OY(function(sender,eventArgs){var SM=new MouseEvent(eventArgs.domEvent);var F={originalEvent:SM,clientX:eventArgs.windowPoint.x,clientY:eventArgs.windowPoint.y};if(!(eventArgs.mark instanceof IPCC.Web.UI.Mark)){if(AH!==null){F.mark=J.df[AH];AH=null;setTimeout(function(){J.trigger('MarkMouseLeave',F);},0);}}else{F.mark=J.df[eventArgs.mark.get_markID()];if(F.mark===undefined){for(var jp in J.df){if(J.df.hasOwnProperty(jp)){if(J.df[jp].L.bn===eventArgs.mark.bn){F.mark=J.df[jp];break;}}}}if(!F.mark){return;}setTimeout(function(){if(AH!==F.mark.getId()){if(AH!==null){J.trigger('MarkMouseLeave',IPCC.C.extend({},F,{mark:J.df[AH]}));}AH=F.mark.getId();J.trigger('MarkMouseEnter',F);}J.trigger('MarkMouseOver',F);},0);}});})();this.bK.add_hyperlinkPageReady(function(sender,eventArgs){if(J.BG[eventArgs.pageIndex]!==undefined){return;}var bF=eventArgs.pageIndex,aS=J.dn.getPage(bF),Fu=aS.get_hyperlinkPage().IM(),xD=J.BG[bF]=[];Fu.jX(function(AL){xD.push(new PCCViewer.DocumentHyperlink({aR:bF+1,AL:AL}));});if(!J.BE[bF]){J.BE[bF]=new PCCViewer.Deferred();}J.BE[bF].resolve(xD);});this.pa=function(K,gx){var XT=false;function Vj(){var kQ=false;var cB=J.bK.get_displayedPages();for(var h=0;h<cB.get_length();h++){var aS=cB.getPage(h);if(aS.get_pageNumber()===gx){kQ=true;break;}}return kQ;};function Qa(ho){if(J.bK){J.bK.cI(ho);}};if(Vj()){if(Array.prototype.indexOf){if(IPCC.Web.iE(J.DM,gx)>=0){XT=true;}}else{if(IPCC.Web.iE(J.DM,gx)>=0){XT=true;}}if(!XT){J.DM.push(gx);setTimeout(function(){var cg=J.DM.length;if(cg>0){for(var h=0;h<cg;h++){Qa(J.DM[h]);}J.DM.splice(0,cg);}},10);}}};var EQ={FreehandSignature:{lineColor:'color',lineWidth:'thickness',pathWidth:false,pathHeight:false},FreehandAnnotation:{lineColor:'color',lineWidth:'thickness',pathWidth:false,pathHeight:false},LineAnnotation:{lineColor:'color',lineWidth:'thickness'},PolylineAnnotation:{lineColor:'color',lineWidth:'thickness'},TextSignature:{textColor:false,fillColor:'color'},TextInputSignature:{lineVisible:false},StampAnnotation:{text:'label',fillColor:'color'},StampRedaction:{text:'label'},StrikethroughAnnotation:{lineColor:'color',lineWidth:'thickness',rectangle:'position'},RectangleRedaction:{text:'reason'},TextRedaction:{opacity:false},HighlightAnnotation:{rectangle:'position'},TextSelectionRedaction:{rectangle:'position',text:'reason'},TextHyperlinkAnnotation:{rectangle:'position'}};var NF={lineColor:"borderColor",lineWidth:"borderThickness",pathString:"path",textColor:"fontColor",textHorizontalAlignment:"horizontalAlignment"};this.mb=function(aC,F){var K=J.df[F.mark.get_markID()];var bd;if(K){bd=K.bd;}if(bd&&EQ[bd]&&EQ[bd][F.propertyName]===false){return;}var dm;if(bd){dm=EQ[bd]&&EQ[bd][F.propertyName]?EQ[bd][F.propertyName]:NF[F.propertyName]?NF[F.propertyName]:F.propertyName;}else{dm=NF[F.propertyName]?NF[F.propertyName]:F.propertyName;}if(F.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||F.mark.get_type()===IPCC.Web.UI.MarkType.Highlight||F.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||F.mark.get_type()===IPCC.Web.UI.MarkType.TextHighlightAnnotation||F.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||F.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||(F.mark.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&F.mark.bn!==undefined)){if(K){setTimeout(function(){J.trigger('MarkChanged',{mark:K,pageNumber:F.pageIndex+1,propertyName:dm});},0);}else{for(var jp in J.df){if(J.df.hasOwnProperty(jp)){K=J.df[jp];if(K.bn===F.mark.bn){break;}}}}J.pa(K,F.pageIndex);}else if(K&&F.mark.get_type()===IPCC.Web.UI.MarkType.Polyline&&dm==='points'){if(K.Zu){clearTimeout(K.Zu);}K.Zu=setTimeout(function(){K.Zu=undefined;J.pa(K,F.pageIndex);J.trigger('MarkChanged',{mark:K,pageNumber:F.pageIndex+1,propertyName:dm});},1);}else if(K){J.pa(K,F.pageIndex);setTimeout(function(){J.trigger('MarkChanged',{mark:K,pageNumber:F.pageIndex+1,propertyName:dm});},0);}if(K&&K.type===PCCViewer.Mark.Type.TextRedaction){K.L.set_opacity(0);}if(K&&(K.bd===PCCViewer.Mark.Type.TextInputSignature||K.bd===PCCViewer.Mark.Type.TextAreaSignature)){K.L.set_lineVisible(false);}};this.bK.add_markChanged(J.mb);this.bK.add_markReordered(function(sender,eventArgs){var K=J.df[eventArgs.mark.get_markID()];setTimeout(function(){J.trigger('MarkReordered',{mark:K,pageNumber:eventArgs.pageIndex+1,index:eventArgs.zIndex,oldIndex:eventArgs.oldZIndex});},0);});this.DF=function(sender,eventArgs){if(eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText){var K;for(var Or in J.df){if(J.df.hasOwnProperty(Or)){K=J.df[Or];if(K.L.bn===eventArgs.mark.bn){K.L.set_selected(eventArgs.mark.get_selected());J.pa(K.L,K.L.bF);for(var h=0;h<K.cu.length;h++){K.cu[h].set_selected(eventArgs.mark.get_selected());J.pa(K.cu[h],K.cu[h].bF);}}}}}setTimeout(function(){J.trigger('MarkSelectionChanged',{pageNumber:eventArgs.pageIndex+1});},0);};this.bK.add_markSelectionChanged(J.DF);this.bK.add_markTextSelectionChanged(function(sender,eventArgs){J.pa(eventArgs.mark,eventArgs.pageIndex);});this.Dw=function(sender,eventArgs){var K;if(eventArgs.mark){K=J.df[eventArgs.mark.get_markID()];if((eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)&&K===undefined&&eventArgs.mark.bn!==undefined){J.pa(eventArgs.mark,eventArgs.pageIndex);}else if(K){setTimeout(function(){J.trigger(PCCViewer.EventType.MarkRemoved,{mark:K,pageNumber:eventArgs.pageIndex});},0);}}};this.bK.add_markRemoved(J.Dw);this.bK.add_commentAdding(function(sender,eventArgs){var K=J.df[eventArgs.mark.get_markID()];if(eventArgs.comment.JC.hT===undefined){eventArgs.comment.JC.hT=J.getActiveMarkupLayer();}});this.bK.add_commentAdded(function(sender,eventArgs){var K=J.df[eventArgs.mark.get_markID()];J.trigger(PCCViewer.EventType.CommentCreated,{conversation:K.getConversation(),comment:eventArgs.comment.JC});});this.bK.add_commentRemoved(function(sender,eventArgs){var K=J.df[eventArgs.mark.get_markID()];J.trigger(PCCViewer.EventType.CommentRemoved,{conversation:K.getConversation(),comment:eventArgs.comment.JC});});this.bK.add_commentChanged(function(sender,eventArgs){var K=J.df[eventArgs.mark.get_markID()];J.trigger(PCCViewer.EventType.CommentChanged,{conversation:K.getConversation(),comment:eventArgs.comment.JC});});this.bK.add_scaleChanged(function(sender,eventArgs){var es;switch(eventArgs.fitType){case 0:es=PCCViewer.FitType.FullWidth;break;case 1:es=PCCViewer.FitType.ShrinkToWidth;break;case 2:es=PCCViewer.FitType.ActualSize;break;case 3:es=PCCViewer.FitType.FullHeight;break;case 4:es=PCCViewer.FitType.FullPage;break;default:break;}J.trigger(PCCViewer.EventType.ScaleChanged,{scaleType:eventArgs.scaleType,trigger:eventArgs.scaleTrigger,fitType:es,scaleFactor:eventArgs.scaleFactor});});};ViewerControl.prototype.getPageCount=function(){return this.ed;};ViewerControl.prototype.getPageNumber=function(){return(this.bK)?(this.bK.anu().get_pageNumber()+1):1;};ViewerControl.prototype.setPageNumber=function(pageNumber){var aR;if(typeof(pageNumber)==='number'){aR=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{aR=Number(pageNumber);}}if(parseInt(aR,10)!==aR){throw new Error("The 'pageNumber' value "+aR+" is not an integer page number.");}if(aR<1||aR>this.getPageCount()|| !isFinite(aR)){throw "The parameter pageNumber is out of range.";}if(this.getPageNumber()===aR){return this;}if(this.bK){this.bK.scrollToPage(aR-1);}return this;};ViewerControl.prototype.changeToFirstPage=function(){if(this.bK){if(this.Ea||this.mF){this.bK.scrollToFirstPage();}}return this;};ViewerControl.prototype.changeToLastPage=function(){if(this.bK){if(this.Ea||this.mF){this.bK.scrollToLastPage();}}return this;};ViewerControl.prototype.changeToNextPage=function(){if(this.bK){if(this.Ea||this.mF){this.bK.scrollToNextPage();}}return this;};ViewerControl.prototype.changeToPrevPage=function(){if(this.bK){if(this.Ea||this.mF){this.bK.scrollToPreviousPage();}}return this;};ViewerControl.prototype.scrollBy=function(offsetX,offsetY){if(!this.fj){throw new Error("The method scrollTo requires the viewer to be in a 'ViewerReady' state.");}var J=this;if(typeof offsetX==='number'&&typeof offsetY==='number'){J.bK.scrollBy(offsetX,offsetY);}else{if(isNaN(+offsetX)||isNaN(+offsetY)){throw new PCCViewer.Error('InvalidArgument','Please provide integer values for offsetX and offsetY properties.');}else{J.bK.scrollBy(Number(+offsetX),Number(+offsetY));}}return this;};ViewerControl.prototype.scrollTo=function(target){if(!this.fj){throw new Error("The method scrollTo requires the viewer to be in a 'ViewerReady' state.");}if(this.gb){this.gb.reject(new PCCViewer.Error("Error","The scrollTo method was called before this scrollToAsync method completed scrolling, so scrolling for this scrollToAsync method has been cancelled."));this.gb=null;this.kN=null;}var J=this;var HN=function(){J.bK.scrollConversationIntoView(target.getMark().L.get_conversation());if(J.gb){J.gb.resolve();}J.gb=null;J.kN=null;};var uZ=function(ev){if(ev.target.wt===target){J.off(PCCViewer.EventType.CommentCreated,uZ);J.wt=null;J.scrollTo(target);}else if(ev.target.wt===null){J.off(PCCViewer.EventType.CommentCreated,uZ);}if(J.gb){J.gb.resolve();}J.gb=null;J.kN=null;};var GK=function(aR,hc){J.bK.scrollRegionIntoView(aR-1,hc);if(J.gb){J.gb.resolve();}J.gb=null;J.kN=null;};ack(J,target,uZ,HN,GK);return this;};ViewerControl.prototype.scrollToAsync=function(target){if(this.gb){this.gb.reject(new PCCViewer.Error("Error","The scrollToAsync method was called before this scrollToAsync method completed scrolling, so scrolling for this scrollToAsync method has been cancelled."));this.gb=null;this.kN=null;}var aw=PCCViewer.Deferred();var dK=aw.getPromise();var J=this;J.gb=aw;try{var HN=function(){J.bK.scrollConversationIntoView(target.getMark().L.get_conversation());if(J.gb){J.gb.resolve();}J.gb=null;J.kN=null;};var uZ=function(ev){if(ev.target.wt===target){J.off(PCCViewer.EventType.CommentCreated,uZ);J.wt=null;J.scrollTo(target);}else if(ev.target.wt===null){J.off(PCCViewer.EventType.CommentCreated,uZ);}if(J.gb){J.gb.resolve();}J.gb=null;J.kN=null;};var GK=function(aR,hc){J.bK.scrollRegionIntoView(aR-1,hc);if(J.gb){J.gb.resolve();}J.gb=null;J.kN=null;};if(ack(J,target,uZ,HN,GK)===true){aw.resolve();}}catch(e){J.gb=null;J.kN=null;aw.reject(new PCCViewer.Error("Error",e));}return dK;};function ack(bz,cv,uZ,HN,GK){var hc,aR,ak;bz.wt=null;if(cv instanceof PCCViewer.Conversation){if(bz.df[cv.getMark().getId()]===undefined){throw new Error("The parameter target is a conversation of a mark unknown to the viewer control.");}var aaR=bz.bK.scrollConversationIntoView(cv.getMark().L.get_conversation());if(aaR==="PageOutOfView"){bz.kN=HN;bz.setPageNumber(cv.getMark().getPageNumber());return false;}else if(aaR==="ConversationDivDoesNotExist"&&cv.getMark().L.get_conversation().get_length()>0){bz.wt=cv;bz.on(PCCViewer.EventType.CommentCreated,uZ);return false;}else{bz.kN=null;return true;}}else if(cv instanceof PCCViewer.SearchResult){if(cv.Hm!==bz.aG.get_documentIdentifier()){throw new Error("The parameter target is a SearchResult that was not created using the current document viewing session.");}ak=cv.getBoundingRectangle();hc=new IPCC.Web.UI.Rectangle(ak.x,ak.y,ak.width,ak.height);aR=cv.getPageNumber();}else if(cv instanceof PCCViewer.Mark){if(bz.df[cv.getId()]===undefined){throw new Error("The parameter target is a mark unknown to the viewer control.");}ak=cv.getBoundingRectangle();hc=new IPCC.Web.UI.Rectangle(ak.x,ak.y,ak.width,ak.height);aR=cv.getPageNumber();}else if(cv!==undefined&&cv!==null){if(typeof cv.x==='number'&&typeof cv.y==='number'){hc=new IPCC.Web.UI.Rectangle(+cv.x,+cv.y,0,0);}else{if(isNaN(+cv.x)||isNaN(+cv.y)){throw new Error('The parameter target does not contain a valid x and y values.');}else{hc=new IPCC.Web.UI.Rectangle(Number(+cv.x),Number(+cv.y),0,0);}}if(cv.width){if(typeof cv.width==='number'){hc.width=cv.width;}else{if(isNaN(+cv.width)){throw new Error('The parameter target does not contain a valid width value.');}else{hc.width=Number(+cv.width);}}}if(cv.height){if(typeof cv.height==='number'){hc.height=cv.height;}else{if(isNaN(+cv.height)){throw new Error('The parameter target does not contain a valid height value.');}else{hc.height=Number(+cv.height);}}}if(typeof cv.pageNumber==='number'){aR= +cv.pageNumber;}else{if(isNaN(+cv.pageNumber)){throw new Error('The parameter target does not contain a valid pageNumber value.');}else{aR=Number(+cv.pageNumber);}}}else{throw new Error('The target parameter must be a Mark, SearchResult, or Point.');}if(aR<1||aR>bz.getPageCount()|| !isFinite(aR)){throw new RangeError("The parameter pageNumber is out of range.");}if(bz.bK.scrollRegionIntoView(aR-1,hc)===false){bz.kN=function(){GK(aR,hc);};bz.setPageNumber(aR);return false;}else{bz.kN=null;return true;}};ViewerControl.prototype.rotatePage=function(degreesClockwise){if(!this.fj){throw "The method rotatePage requires the viewer to be in a 'ViewerReady' state.";}if(xk(this.getPageNumber()-1,this)===false){this.bK.cI(this.getPageNumber()-1);}var iw=degreesClockwise%360,J=this;if(iw!==0){var wF=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!iw||wF.indexOf(iw)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}else{if(!iw||IPCC.Web.iE(wF,iw)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}this.bK.rotate(iw);}setTimeout(function(){J.trigger("PageRotated",{degreesClockwise:iw,pageNumber:(J.getPageNumber())});},0);return this;};ViewerControl.prototype.rotateDocument=function(degreesClockwise){if(!this.fj){throw "The method rotateDocument requires the viewer to be in a 'ViewerReady' state.";}if(xk(this.getPageNumber()-1,this)===false){this.bK.cI(this.getPageNumber()-1);}var iw=degreesClockwise%360,J=this;if(iw!==0){var wF=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!iw||wF.indexOf(iw)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}else{if(!iw||IPCC.Web.iE(wF,iw)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}this.bK.aeO(iw);}setTimeout(function(){J.trigger("DocumentRotated",{degreesClockwise:iw});},0);return this;};ViewerControl.prototype.getScaleFactor=function(){if(!this.uy){throw "The getScaleFactor method cannot be called before the initial PageOpening event.";}return this.bK.get_scaleFactor();};ViewerControl.prototype.setScaleFactor=function(scaleFactor){if(!this.uy){throw "The setScaleFactor method cannot be called before the initial PageOpening event.";}if(isNaN(+scaleFactor)||(+scaleFactor<this.getMinScaleFactor())||(+scaleFactor>this.getMaxScaleFactor())){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('scaleFactor',scaleFactor,'The value must be a number between the values returned by the getMinScaleFactor and getMaxScaleFactor methods.');}this.bK.set_scaleFactor(+scaleFactor);return this;};ViewerControl.prototype.getMinScaleFactor=function(){if(!this.uy){throw "The getMinScaleFactor method cannot be called before the initial PageOpening event.";}return this.bK.getMinMaxZoom().minFactor;};ViewerControl.prototype.getMaxScaleFactor=function(){if(!this.uy){throw "The getMaxScaleFactor method cannot be called before the initial PageOpening event.";}return this.bK.getMinMaxZoom().maxFactor;};ViewerControl.prototype.zoomIn=function(zoomFactor){if(!this.uy){throw "The zoomIn method cannot be called before the initial PageOpening event.";}if(isNaN(+zoomFactor)||(+zoomFactor<1.01)||(+zoomFactor>20)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('zoomFactor',zoomFactor,'The value must be a number between 1.01 and 20 inclusive.');}if(this.bK){this.bK.zoomIn(+zoomFactor);}return this;};ViewerControl.prototype.zoomOut=function(zoomFactor){if(!this.uy){throw "The zoomOut method cannot be called before the initial PageOpening event.";}if(isNaN(+zoomFactor)||(+zoomFactor<1.01)||(+zoomFactor>20)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('zoomFactor',zoomFactor,'The value must be a number between 1.01 and 20 inclusive.');}if(this.bK){this.bK.zoomOut(+zoomFactor);}return this;};ViewerControl.prototype.getViewMode=function(){var oO;if(this.bK&&this.bK.get_viewMode){oO=this.bK.get_viewMode();}else{oO=this.bu.viewMode;}if(oO===IPCC.ViewMode.EqualWidthPages){return PCCViewer.ViewMode.EqualWidthPages;}else if(oO===IPCC.ViewMode.EqualFitPages){return PCCViewer.ViewMode.EqualFitPages;}else if(oO===IPCC.ViewMode.SinglePage){return PCCViewer.ViewMode.SinglePage;}else{return PCCViewer.ViewMode.Document;}};ViewerControl.prototype.setViewMode=function(viewMode){var oO;switch(viewMode){case PCCViewer.ViewMode.Document:oO=IPCC.ViewMode.Document;break;case PCCViewer.ViewMode.EqualWidthPages:oO=IPCC.ViewMode.EqualWidthPages;break;case PCCViewer.ViewMode.EqualFitPages:oO=IPCC.ViewMode.EqualFitPages;break;case PCCViewer.ViewMode.SinglePage:oO=IPCC.ViewMode.SinglePage;break;default:throw new RangeError("The value of viewMode is not a supported value.");}if(this.bK&&this.bK.set_viewMode){var HI=this.bK.get_viewMode();if(HI!==oO){if(HI===IPCC.ViewMode.SinglePage){throw new Error("The view mode may not be changed from SinglePage to another view mode after initializing the viewer.");}else if(oO===IPCC.ViewMode.SinglePage){throw new Error("The view mode may not be changed to SinglePage after initializing the viewer. Please use the viewMode viewer parameter instead.");}this.bK.set_viewMode(oO);}}else{this.bu.viewMode=oO;}return this;};ViewerControl.prototype.getPageLayout=function(){var ws;if(this.bK&&this.bK.get_pageLayout){ws=this.bK.get_pageLayout();}else{ws=this.bu.pageLayout;}if(ws===IPCC.PageLayout.HorizontalScrollDirection){return PCCViewer.PageLayout.Horizontal;}else{return PCCViewer.PageLayout.Vertical;}};ViewerControl.prototype.setPageLayout=function(pageLayout){var ws;if(this.bu.viewMode!==IPCC.ViewMode.SinglePage){switch(pageLayout){case PCCViewer.PageLayout.Vertical:ws=IPCC.PageLayout.VerticalScrollDirection;break;case PCCViewer.PageLayout.Horizontal:if(this.bK&&this.bK.closeCommentsPanel){this.bK.closeCommentsPanel();var J=this;setTimeout(function(){J.trigger("CommentsPanelToggled",{isOpen:false});},10);}ws=IPCC.PageLayout.HorizontalScrollDirection;break;default:throw new RangeError("The value of pageLayout is not a supported value.");}}if(this.bK&&this.bK.set_pageLayout){this.bK.set_pageLayout(ws);}else{this.bu.pageLayout=ws;}return this;};ViewerControl.prototype.getAtMaxScale=function(){if(!this.uy){throw "The getAtMaxScale method cannot be called before the initial PageOpening event.";}return this.bK.getMinMaxZoom().atMax;};ViewerControl.prototype.getAtMinScale=function(){if(!this.uy){throw "The getAtMinScale method cannot be called before the initial PageOpening event.";}return this.bK.getMinMaxZoom().atMin;};ViewerControl.prototype.fitContent=function(fitType){if(!this.uy){throw "The fitContent method cannot be called before the initial PageOpening event.";}var Db;switch(fitType){case PCCViewer.FitType.FullWidth:Db=IPCC.FitType.FitToWidth;break;case PCCViewer.FitType.ShrinkToWidth:Db=IPCC.FitType.ShrinkToWidth;break;case PCCViewer.FitType.ActualSize:if(this.getViewMode()===PCCViewer.ViewMode.EqualWidthPages||this.getViewMode()===PCCViewer.ViewMode.EqualFitPages){throw new Error("Fitting content actual size is not supported when in EqualFitPages view mode.");}Db=IPCC.FitType.ActualSize;break;case PCCViewer.FitType.FullHeight:Db=IPCC.FitType.FitToHeight;break;case PCCViewer.FitType.FullPage:Db=IPCC.FitType.BestFit;break;default:throw new RangeError("The value of fitType is not a supported value.");}this.rC.then(function(rr){rr.fitPages(Db);});return this;};ViewerControl.prototype.getPageRotation=function(pageNumber){if(!this.fj){throw new Error("The method getPageRotation requires the viewer to be in a 'ViewerReady' state.");}var aR;if(arguments.length>0){if(typeof(pageNumber)==='number'){aR=pageNumber;}else{if(isNaN(+pageNumber)){throw new Error("The parameter pageNumber is not a number.");}else{aR=Number(pageNumber);}}if(parseInt(aR,10)!==aR){throw new Error("The 'pageNumber' value "+aR+" is not an integer page number.");}if(aR<1||aR>this.getPageCount()|| !isFinite(aR)){throw new Error("The parameter pageNumber is out of range.");}return this.bK.Yp(aR-1);}else{return this.bK.Yp();}};ViewerControl.prototype.search=function(ej){var bu=this.bu;var azS=bu.searchMethodType.toLowerCase();var amc=bu.searchMethodPageCountThreshold;var J=this;var Vr;var hN;var Fp=new PCCViewer.SearchRequest(true);if(Object.defineProperties){Object.defineProperties(Fp,{"searchQuery":{enumerable:true,get:function(){return hN.getSearchQuery();}},"results":{enumerable:true,get:function(){return hN.getResults();}},"isComplete":{enumerable:true,get:function(){return hN.getIsComplete();}},"errorCode":{enumerable:true,get:function(){return hN.getErrorCode();}},"errorMessage":{enumerable:true,get:function(){return hN.getErrorMessage();}}});}function JP(by){return function(){Fp.trigger.apply(Fp,[by].concat([].slice.call(arguments)));};};var aar=JP(PCCViewer.EventType.SearchCompleted);var abt=JP(PCCViewer.EventType.SearchCancelled);var abC=JP(PCCViewer.EventType.SearchResultsAvailable);var abD=JP(PCCViewer.EventType.PartialSearchResultsAvailable);var abV=function(az){var fM=Vr.getErrorCode();if(fM==='ServerSearchUnavailable'){J.abp=true;J.zK=false;azB();hN=J.clientSearch(ej);alM();}else{JP(PCCViewer.EventType.SearchFailed).apply(null,arguments);}};var alM=function(){hN.on(PCCViewer.EventType.SearchCompleted,aar);hN.on(PCCViewer.EventType.SearchFailed,abV);hN.on(PCCViewer.EventType.SearchCancelled,abt);hN.on(PCCViewer.EventType.SearchResultsAvailable,abC);hN.on(PCCViewer.EventType.PartialSearchResultsAvailable,abD);};var azB=function(){hN.off(PCCViewer.EventType.SearchCompleted,aar);hN.off(PCCViewer.EventType.SearchFailed,abV);hN.off(PCCViewer.EventType.SearchCancelled,abt);hN.off(PCCViewer.EventType.SearchResultsAvailable,abC);hN.off(PCCViewer.EventType.PartialSearchResultsAvailable,abD);};var Ds=function(){if(J.abp===false){Vr=J.serverSearch(ej);hN=Vr;alM();IPCC.C.forEach(['getSearchQuery','getResults','getIsComplete','getErrorCode','getErrorMessage','cancel','getPagesWithoutText'],function(by){Fp[by]=function(){return hN[by].apply(hN,arguments);};});return Fp;}else{return J.clientSearch(ej);}};switch(azS){case('auto'):if(amc>=this.ed){return this.clientSearch(ej);}else{return Ds();}break;case('client'):return this.clientSearch(ej);case('server'):return Ds();default:throw new Error("The value of 'options.searchMethodType' should be 'auto', 'server', or 'client'.");}};ViewerControl.prototype.ahN=function(ej,aAL){var J=this;var cl=new PCCViewer._Search();this.av=cl.atb();PCCViewer.SearchTask.prototype.adg(ej);if(aAL===true){if(J.xm!==true){J.rC.then(function(rr){var GF=function(){J.off('PageCountReady',GF);J.clientSearch(ej);};J.on('PageCountReady',GF);return J.av;});}if(!this.aG.auA()){this.aG.Oh(0,this.aG.ed-1,this.aG.ed);}}this.wR=null;this.Gu={};this.bK.clearAllSelectedText();return cl;};ViewerControl.prototype.ahp=function(){var ab=this;this.av.on('PartialSearchResultsAvailable',function(dE){if(ab.xP){return;}var IG=[];var QU={};IG=dE.partialSearchResults;var aE=IG[0];if(ab.Gu[aE.getPageNumber()]!==undefined){QU=ab.Gu[aE.getPageNumber()];}else{QU.aU=aE.getId();}aE=IG[IG.length-1];QU.cZ=aE.getId();ab.Gu[aE.getPageNumber()]=QU;function DE(aS){if(ab.xP){return;}ab.ahH(aS.get_pageNumber(),IG);};var cB=ab.bK.get_displayedPages();for(var h=0;h<cB.get_length();h++){var aS=cB.getPage(h);if(aS.get_pageNumber()+1===aE.getPageNumber()){ab.requestPageText(aS.get_pageNumber()+1).then(DE.bind(null,aS));}}});this.av.on('SearchCompleted',function(dE){ab.zK=false;});this.av.on('SearchCancelled',function(dE){ab.zK=false;});this.trigger('SearchPerformed',{searchRequest:this.av});};ViewerControl.prototype.clientSearch=function(searchQuery){var ab=this;var cl=ab.ahN(searchQuery,true);searchQuery=cl.TK(searchQuery);if(this.zK===false){ab.bK.set_retainPageText(true);this.av=cl.vh(searchQuery,this.aG);this.zK=true;}else{throw new Error("You cannot run multiple searches concurrently. Retry after the current search is completed.");}ab.ahp();return this.av;};ViewerControl.prototype.serverSearch=function(searchQuery){var ab=this;var cl=ab.ahN(searchQuery,false);searchQuery=cl.TK(searchQuery);if(this.zK===false){this.av=cl.Ds(searchQuery,this.aG);this.zK=true;}else{throw new Error("You cannot run multiple searches concurrently. Retry after the current search is completed.");}ab.ahp();return this.av;};ViewerControl.prototype.getSearchRequest=function(){return this.av;};ViewerControl.prototype.clearSearch=function(){if(!this.fj){throw "The clearSearch method requires the viewer to be in a 'ViewerReady' state.";}var J=this;if(this.getSelectedSearchResult()){this.wR=null;setTimeout(function(){J.trigger(PCCViewer.EventType.SearchResultSelectionChanged,{});},0);}this.bK.clearAllSelectedText();this.av=null;setTimeout(function(){J.trigger(PCCViewer.EventType.SearchCleared,{});},0);return this;};ViewerControl.prototype.validateSearch=function(ej){var ei={errorsExist:false};var searchTermObj,alK,h,as,Za,MG,PM;if(typeof ej!=='object'&&typeof ej!=='string'){ei.errorsExist=true;ei.summaryMsg="Search query must be either an object or string.";return ei;}if(typeof ej==='string'&&ej.length<0){ei.errorsExist=true;ei.summaryMsg="Search term must contain at least 3 characters.";return ei;}else if(typeof ej==='string'){return ei;}if(!ej.hasOwnProperty('searchTerms')){ei.errorsExist=true;ei.summaryMsg="Search options must have a 'searchTerms' key.";return ei;}if(Object.prototype.toString.call(ej.searchTerms)!=='[object Array]'){ei.errorsExist=true;ei.summaryMsg="Search terms value must be an array.";return ei;}if(!ej.searchTerms.length){ei.errorsExist=true;ei.summaryMsg="Search terms array must contain at least one value.";return ei;}ei.searchTerms=[];IPCC.C.forEach(ej.searchTerms,function(searchTermObj){var JE=alp(searchTermObj);if(JE.errorsExist){ei.errorsExist=true;}ei.searchTerms=ei.searchTerms.concat(JE.searchTerms);});return ei;};function alp(kV){var ei={errorsExist:false,searchTerms:[]};var anh=kV.type?IPCC.C.trim(kV.type).toLowerCase():undefined;if(anh==='proximity'){if(Object.prototype.toString.call(kV.terms)!=='[object Array]'){ei.searchTerms.push({isValid:false,message:"Proximity search terms property must be an array"});ei.errorsExist=true;return ei;}if(kV.terms.length<2){ei.searchTerms.push({isValid:false,message:"Proximity search terms array must contain at least two values"});ei.errorsExist=true;return ei;}if(!kV.distance){ei.searchTerms.push({isValid:false,message:"Proximity search term must have a distance specified"});ei.errorsExist=true;return ei;}IPCC.C.forEach(kV.terms,function(axB){var JE=alp(axB);if(JE.errorsExist){ei.errorsExist=true;}ei.searchTerms=ei.searchTerms.concat(JE.searchTerms);});return ei;}var Za,PM;var MG=(typeof kV.matchingOptions!=='undefined'&&kV.matchingOptions.hasOwnProperty('matchCase'))?kV.matchingOptions.matchCase:false;if(typeof kV.searchTerm==='undefined'||typeof kV.searchTerm!=='string'||(kV.searchTermIsRegex===true&& !aCg(kV.searchTerm,MG))){ei.errorsExist=true;ei.searchTerms.push({isValid:false,message:"Search term must be a string containing either plain text or a valid regular expression."});return ei;}Za=(typeof kV.matchingOptions!=='undefined'&&kV.matchingOptions.hasOwnProperty('exactPhrase'))?kV.matchingOptions.exactPhrase:false;if(Za){if(kV.searchTerm.length<0){ei.errorsExist=true;ei.searchTerms.push({isValid:false,message:"Search term must contain at least 3 characters."});return ei;}}else{var alK=kV.searchTerm.split(' ');IPCC.C.forEach(alK,function(PM){if(PM.length>0&&PM.length<0){ei.errorsExist=true;ei.searchTerms.push({isValid:false,message:"Search term must contain at least 3 characters."});}});}if(!ei.searchTerms.length){ei.searchTerms.push({isValid:true,message:null});}return ei;};var aCg=function(UE,MG){var aDF,Sy,NN;if(MG){Sy='gm';}else{Sy='igm';}if(!UE&&UE!==null){NN=false;}else{try{aDF=new RegExp(UE,Sy);NN=true;}catch(err){NN=false;}}return NN;};ViewerControl.prototype.requestRevisions=function(){this.lA=new PCCViewer.KB({imageHandlerUrl:this.bu.imageHandlerUrl,documentID:this.bu.documentID});return this.lA.aAd();};ViewerControl.prototype.gg=function(YI){var CE=false,cB=this.bK.get_displayedPages();for(var h=0;h<cB.get_length();h++){var aS=cB.getPage(h);if(aS.get_pageNumber()===YI){CE=true;}}return CE;};ViewerControl.prototype.getDownloadDocumentURL=function(){var ao;if(!(/^[\x00-\x7F]*$/.test(this.aG))){ao=this.bu.imageHandlerUrl+'/SaveDocument/q?DocumentID=e'+this.bu.documentID+'/SourceFile';}else{ao=this.bu.imageHandlerUrl+'/SaveDocument/q?DocumentID=u'+encodeURIComponent(this.bu.documentID);}return ao;};ViewerControl.prototype.requestDocumentHyperlinks=function(pageNumber){var aR;var aw=PCCViewer.Deferred();var dK=aw.getPromise();var bz=this;try{if(typeof(pageNumber)==='number'){aR=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{aR=parseInt(pageNumber,10);}}if(aR<1||aR>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}var Zi=this.BE[aR-1];if(!Zi){Zi=this.BE[aR-1]=new PCCViewer.Deferred();this.rC.then(function(){var aS=bz.dn.getPage(aR-1);aS.zz();});}aw.resolve(Zi.getPromise());}catch(e){aw.reject(new PCCViewer.Error('Error',e));}return dK;};ViewerControl.prototype.arq=function(aCo){var i,j,xD;for(j=0;j<this.BG.length;j++){xD=this.BG[j];if(xD){for(i=0;i<xD.length;i++){if(xD[i].AL.PU()===aCo){return xD[i];}}}}return null;};ViewerControl.prototype.print=Print.print;ViewerControl.prototype.validatePrintRange=Print.validatePrintRange;ViewerControl.prototype.canPrintMarks=Print.canPrintMarks;ViewerControl.prototype.deserializeMarks=function deserializeMarks(values){if(this.fj===false){throw new Error("The method addMark is not available until 'ViewerReady' state is reached.");}var J=this;var ed=J.getPageCount();var fN;if(typeof values==='string'){try{fN=JSON.parse(values);}catch(e){throw new Error('JSON parse error: '+e.message);}}else{fN=values;}if(fN.constructor!==Array){fN=[fN];}function XG(eU,bL){throw new Error('Cannot serialize mark (at index '+bL+') because of '+eU);};var ZY=IPCC.C.map(J.getAllMarks(),function(K){return K.getUid();});IPCC.C.forEach(fN,function validateObject(bQ,bL){if(!bQ.pageNumber||isNaN(+bQ.pageNumber)||bQ.pageNumber<1||bQ.pageNumber>ed){XG('unknown page number '+bQ.pageNumber,bL);}if(!PCCViewer.Mark.Type[bQ.type]){XG('unknown type '+bQ.type,bL);}if(IPCC.C.contains(ZY,bQ.uid)){XG('uid '+bQ.uid+' is being duplicated or already exists',bL);}else if(bQ.uid!==undefined){ZY.push(bQ.uid);}});if(fN.length===0){return[];}var cT=J.aG.get_pages();var ayb=[];cT.jX(function(aS){ayb.push(J.bK.fQ(aS));});var bb=IPCC.C.reduce(fN,function(aE,bQ){var aS=cT.iO(bQ.pageNumber-1);var QV=aS.get_pageWidth();var aci=aS.get_pageHeight();var gs=bQ.pageData;if(!gs&&(!QV|| !aci)){var aFd=IPCC.C.find(bQ.lineGroups,function(adz){return(adz.pageNumber&&adz.pageNumber===bQ.pageNumber);});gs=aFd.pageData;}var bS=QV||gs.width;var ba=aci||gs.height;var K=cX[bQ.type].call(J,bQ,{bS:bS,ba:ba});if(bQ.uid===undefined){ZY.push(K.getUid());}if(!QV){aS.CG=true;aS.als(bS);aS.akZ(ba);}if(!K.L.has_unsafe_href()){aE.push(K);}else{J.deleteMarks(K);}return aE;},[]);return bb;};ViewerControl.prototype.serializeMarks=function serializeMarks(marks){var aw=PCCViewer.Deferred();var dK=aw.getPromise();var J=this,bb,aBw=false;function adP(eU){setTimeout(function(){aw.reject(eU);},0);};if(Object.prototype.toString.call(marks)==='[object Array]'){bb=marks;}else if(marks){bb=[marks];aBw=true;}else{adP(new PCCViewer.Error('InvalidArgument','`marks` is not defined or falsy.'));return dK;}var Oe;bb=IPCC.C.filter(bb,function(kf,bL){var ER=kf instanceof PCCViewer.Mark&&kf===J.getMarkById(kf.getId())&& ! !fH[kf.getType()];if(!ER&& !Oe){Oe=bL;}return ER;});if(Oe){adP(new PCCViewer.Error('InvalidArgument','Cannot serialize object at index '+Oe+' because it is not a valid mark or a mark known to ViewerControl'));return dK;}var Xo=J.aG.get_pages();var cT=IPCC.C.reduce(bb,function(fL,kf){var aR=kf.getPageNumber();if(fL[aR]){return fL;}fL[aR]=Xo.getPage(aR-1);return fL;},{});function ave(K,aS,aCX){return function(lZ){fH[K.getType()]({mark:K,page:aS,vc:J},function(dM,bX){if(!dM){aCX(bX);lZ();}else{aw.reject(dM);}});};};var sV=[];var asD=IPCC.C.map(bb,function(kf,bL){return ave(kf,cT[kf.getPageNumber()],function(bX){sV[bL]=bX;});});IPCC.C.Zx(asD,function(){aw.resolve(sV);});return dK;};ViewerControl.prototype.setRedactionViewMode=function(redactionViewMode){var KD,XR;switch(redactionViewMode){case PCCViewer.RedactionViewMode.Draft:KD=true;XR=PCCViewer.RedactionViewMode.Draft;break;case PCCViewer.RedactionViewMode.Normal:KD=false;XR=PCCViewer.RedactionViewMode.Normal;break;default:throw new RangeError("The value of RedactionViewMode is not a supported value.");}if(this.bK&&this.bK.set_redactionDraftMode){var aww=this.bK.get_redactionDraftMode();if(aww!==KD){this.bK.set_redactionDraftMode(KD);}}else{this.bu.redactionViewMode=XR;}return this;};ViewerControl.prototype.getRedactionViewMode=function(){var ajq;if(this.bK&&this.bK.get_redactionDraftMode){ajq=this.bK.get_redactionDraftMode();if(ajq===true){return PCCViewer.RedactionViewMode.Draft;}else{return PCCViewer.RedactionViewMode.Normal;}}else{return this.bu.redactionViewMode;}};ViewerControl.prototype.convertToRedaction=function(searchResult){var J=this;var eR=searchResult;if(this.fj===false){throw "The convertToRedaction method can not be used until 'ViewerReady' state is reached.";}else if(eR instanceof Array){throw new Error("Argument for this method cannot be an array.");}else if(eR instanceof PCCViewer.SearchResult===false){throw new Error("The argument is not an instance of SearchResult.");}else if(eR.Hm!==this.aG.get_documentIdentifier()){throw new Error("The SearchResult argument was not created using the current document viewing session.");}var aS=J.dn.getPage(eR.getPageNumber()-1);if(!(aS.dF()&&aS.dF().wf()&&aS.dF().ma()===true)){throw new Error("The text has not been retrieved for this page.");}var jv=eR.getStartIndexInPage();var fa=eR.getStartIndexInPage()+eR.getText().length;var lz=IPCC.wh();var aO=J.bK.fQ(aS);var fO=aS.dF().hI();var cA=avq(aO,fO,jv,fa,lz,eR.getPageNumber()-1);var K=new PCCViewer.Mark({type:'TextSelectionRedaction',igMark:cA,pageNumber:eR.getPageNumber()});K.L=cA;K.cu=[];this.df[cA.get_markID()]=K;var tG=J.iM;J.iM=function(sender,eventArgs){if(J.sf){J.tw.addMarks(K);}setTimeout(function(){J.trigger('MarkCreated',{mark:K,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};aO.addMark(cA);J.iM=tG;J.bK.display(eR.getPageNumber()-1);return K;};var avq=function(aO,fO,jv,fa,lz,amg){var cA=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);cA.bn=lz;cA.bF=amg;var K=null;var kB={gP:Number.MAX_VALUE,hV:0,_top:Number.MAX_VALUE,kw:0};for(var as=jv;as<fa;as++){var fI=fO.kT(as);if(K){var xO=K.get_rectangle();if(Math.abs(fI.af.y-xO.y)<1&&Math.abs(fI.af.height-xO.height)<1&&fI.af.x+fI.af.width>=xO.x+xO.width){K.set_rectangle(new IPCC.Web.UI.Rectangle(xO.x,xO.y,fI.af.x+fI.af.width-xO.x,xO.height));}else{alh(aO,cA,K,kB);K=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);K.set_rectangle(fI.af);K.kL(true);K.set_fillColor('#000000');K.set_text(cA.bo);K.set_lineWidth(0);K.bn=lz;}}else{K=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);K.set_rectangle(fI.af);K.kL(true);K.set_fillColor('#000000');K.set_text(cA.bo);K.set_lineWidth(0);K.bn=lz;}K.bF=amg;}if(K!==null){alh(aO,cA,K,kB);}cA.set_rectangle(new IPCC.Web.UI.Rectangle(kB.gP,kB._top,kB.hV-kB.gP,kB.kw-kB._top));return cA;};var alh=function(aO,cA,K,kB){var R=K.get_rectangle();if(R.x<kB.gP){kB.gP=R.x;}if(R.y<kB._top){kB._top=R.y;}if(R.x+R.width>kB.hV){kB.hV=R.x+R.width;}if(R.y+R.height>kB.kw){kB.kw=R.y+R.height;}aO.addMark(K);cA.am.push(K);};ViewerControl.prototype.convertToHighlight=function(searchResult){var eR=searchResult;if(this.fj===false){throw "The convertToHighlight method can not be used until 'ViewerReady' state is reached.";}if(eR instanceof Array){throw new Error("Argument for this method cannot be an array.");}if(eR instanceof PCCViewer.SearchResult===false){throw new Error("The argument is not an instance of SearchResult.");}if(eR.Hm!==this.aG.get_documentIdentifier()){throw new Error("The SearchResult argument was not created using the current document viewing session.");}var cA;var aig;var aO;var aE=eR;var jv=aE.getStartIndexInPage();var fa=aE.getStartIndexInPage()+aE.getText().length;var lz=IPCC.wh();var J=this;var K;aO=this.bK.fQ(this.dn.getPage(aE.getPageNumber()-1));cA=ana(IPCC.Web.UI.MarkType.HighlightText,aE,jv,lz);K=new PCCViewer.Mark({type:'HighlightAnnotation',igMark:cA,pageNumber:aE.getPageNumber()});for(jv;jv<fa;jv++){aig=ana(IPCC.Web.UI.MarkType.Highlight,aE,jv,lz);aO.addMark(aig);}this.df[cA.get_markID()]=K;var tG=this.iM;this.iM=function(sender,eventArgs){if(J.sf){J.tw.addMarks(K);}setTimeout(function(){J.trigger('MarkCreated',{mark:K,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};aO.addMark(cA);J.iM=tG;this.bK.display(aE.getPageNumber()-1);K.fillColor=aE.getHighlightColor();return K;};var ana=function(bq,aE,aEr,lz){var K=new IPCC.Web.UI.Mark(bq);if(bq===IPCC.Web.UI.MarkType.HighlightText){K.cO=aE.getText();}K.aU=aEr;K.set_rectangle({x:0,y:0,width:0,height:0});K.cD=aE.getText().length;K.aFU=aE.getStartIndexInPage()+aE.getText().length;K.du=127;K.cw=aE.getHighlightColor();K.hQ='y';K.bn=lz;return K;};ViewerControl.prototype.ahH=function(bF,et){var aE={};for(var as=0;as<et.length;as++){aE=et[as];this.bK.selectText(aE.getPageNumber()-1,aE.getStartIndexInPage(),aE.getText().length,aE.getHighlightColor());}this.bK.display(aE.getPageNumber()-1);this.Hu[aE.getPageNumber()]='search';};ViewerControl.prototype.abu=function(bF,searchResult){var aE={};if(this.av===null||typeof this.av.getResults!=='function'){return;}var et=this.av.getResults();this.bK.clearSelectedText(bF-1);var abJ=this.Gu[bF];if(!abJ){return;}for(var as=abJ.aU;as<abJ.cZ+1;as++){aE=et[as];if(aE.getPageNumber()===bF){this.bK.selectText(aE.getPageNumber()-1,aE.getStartIndexInPage(),aE.getText().length,aE.getHighlightColor());if(searchResult===aE.getId()){this.bK.selectText(aE.getPageNumber()-1,aE.getStartIndexInPage(),aE.getText().length,aE.getHighlightColor());}}}this.bK.display(aE.getPageNumber()-1);this.Hu[aE.getPageNumber()]='search';};ViewerControl.prototype.setSelectedSearchResult=function(searchResult,scrollTo){if(!this.fj){throw "The setSelectedSearchResult method requires the viewer to be in a 'ViewerReady' state.";}if(searchResult===null){this.IQ= -1;}else{if(!(searchResult instanceof PCCViewer.SearchResult)){throw "The parameter searchResult is not an instance of PCCViewer.SearchResult.";}if(!this.av){throw "There is no current SearchRequest object available.";}var alw=this.av.getResults();if(alw[searchResult.getId()].nk!==searchResult.nk){throw "The parameter searchResult is not current. There is a newer version of search result available.";}alw=null;this.IQ=searchResult.getId();if(scrollTo){var ak=searchResult.getBoundingRectangle();var hc=new IPCC.Web.UI.Rectangle(ak.x,ak.y,ak.width,ak.height);if(this.bK.scrollRegionIntoView(searchResult.getPageNumber()-1,hc)===false){this.kN=function(){J.bK.scrollRegionIntoView(searchResult.getPageNumber()-1,hc);};this.setPageNumber(searchResult.getPageNumber());}else{this.kN=null;}}}var J=this;var aAa=searchResult!==null?searchResult.getPageNumber(): -1;if(this.wR&&this.wR.getPageNumber()!==aAa){J.requestPageText(J.wR.getPageNumber()).then(function DE(){J.abu(J.wR.getPageNumber(),J.IQ);});}if(searchResult){J.requestPageText(searchResult.getPageNumber()).then(function DE(){J.abu(searchResult.getPageNumber(),J.IQ);});}this.wR=searchResult;setTimeout(function(){J.trigger(PCCViewer.EventType.SearchResultSelectionChanged,{});},0);return this;};ViewerControl.prototype.clearSelectedSearchResult=function(){if(!this.fj){throw "The clearSelectedSearchResult method requires the viewer to be in a 'ViewerReady' state.";}this.setSelectedSearchResult(null);return this;};ViewerControl.prototype.getSelectedSearchResult=function(){return this.wR;};ViewerControl.prototype.requestPageText=function(pageNumber){var aR;var aw=PCCViewer.Deferred();var dK=aw.getPromise();var J=this;try{if(typeof(pageNumber)==='number'){aR=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{aR=parseInt(pageNumber,10);}}if(aR<1||aR>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}this.rC.then(function(rr){var aS=J.dn.getPage(aR-1);var fJ=aS.dF();fJ.adF(true);if(fJ&&fJ.wf()){if(fJ.ma()===true){var bo=aS.dF().Cd();aw.resolve(bo);}else{aw.resolve("");}}else{var Jv=function(aC,cR){if(cR.containsText===true){var bo=fJ.Cd();aw.resolve(bo);}else{aw.resolve("");}aS.Eq(Jv);aS.BU(Kn);};var Kn=function(aC,cR){if(cR.exception&&cR.exception.message){aw.reject(new PCCViewer.Error("TextExtractionFailed",cR.exception.message));}else{aw.reject(new PCCViewer.Error("TextExtractionFailed","Text extraction failed."));}aS.Eq(Jv);aS.BU(Kn);};aS.Am(Jv);aS.AI(Kn);aS.zz();}});}catch(e){aw.reject(new PCCViewer.Error("Error",e));}return dK;};ViewerControl.prototype.disposePageText=function(pageNumber){var aR;var J=this;if(!this.fj){throw new Error("The disposePageText method requires the viewer to be in a 'ViewerReady' state.");}if(J.bK.get_retainPageText()===true){return this;}if(typeof(pageNumber)==='number'){aR=pageNumber;}else{if(isNaN(+pageNumber)){throw new Error("The parameter pageNumber is not a number.");}else{aR=parseInt(pageNumber,10);}}if(aR<1||aR>this.getPageCount()|| !isFinite(pageNumber)){throw new Error("The specified page is out of range.");}var cB=J.bK.get_displayedPages();for(var h=0;h<cB.get_length();h++){var acP=cB.getPage(h);if(acP.get_pageNumber()===aR-1){acP.dF().adF(false);return this;}}var aS=J.dn.getPage(aR-1);aS.acM();return this;};ViewerControl.prototype.isPageTextReady=function(pageNumber){IPCC.bC.mE(pageNumber,"pageNumber",1,this.getPageCount());var aS;return(this.bK&&this.dn&&(aS=this.dn.getPage(pageNumber-1))&&aS.dF()&&aS.dF().wf())===true;};ViewerControl.prototype.documentHasText=function(){return this.asm;};ViewerControl.prototype.requestPageAttributes=function(pageNumber){var aR;var aw=PCCViewer.Deferred();var dK=aw.getPromise();var J=this;try{if(typeof(pageNumber)==='number'){aR=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{aR=parseInt(pageNumber,10);}}if(aR<1||aR>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}this.rC.then(function(rr){var aS=J.dn.getPage(aR-1);if(aS.kE()>0||aS.hO()>0){aw.resolve({'width':aS.kE(),'height':aS.hO()});}else{var xU=function(aK,an){aw.resolve({'width':aK,'height':an});};var xw=function(errorMessage){aw.reject(new PCCViewer.Error("RequestPageAttributesFailed",errorMessage));};rr.requestPageAttributes(aS,xU,xw);}});}catch(e){aw.reject(new PCCViewer.Error("Error",e));}return dK;};ViewerControl.prototype.destroy=function(){if(!this.xP){this.BG=undefined;this.BE=undefined;this.tw=undefined;this.lL=undefined;this.lA=undefined;this.it=undefined;if(this.bK&&typeof this.bK.dispose==="function"){this.bK.dispose();}this.ao="";this.ed=0;delete this.bK;this.aG=undefined;this.KP=0;this.dn=undefined;this.ajZ=false;if(this.gl){IPCC.C.QQ(this.gl);this.gl=this.dO=undefined;}this.mF=false;this.xm=false;this.Ea=false;this.bK=undefined;this.Wh=undefined;this.rC=undefined;PCCViewer.MouseTools.sP=undefined;this.lG=undefined;this.BG=undefined;this.Kw=undefined;for(var Iw in this.df){if(this.df.hasOwnProperty(Iw)){this.df[Iw].bX=undefined;this.df[Iw].cE=undefined;this.df[Iw].L=undefined;this.df[Iw]=undefined;}}this.df=undefined;this.fj=false;this.xP=true;this.trigger=function Vw(){};this.jL=undefined;this.jL={};}};ViewerControl.prototype.getMarkById=function(markId){var J=this;if(!isNaN(markId)){markId=parseInt(markId,10);}else{throw "The parameter, markId, contains a value that is not a number.";}if(J.df[markId]){return J.df[markId];}else{return null;}};ViewerControl.prototype.getMarksByType=function(markType){var ZC=[];if(typeof markType!=="string"){throw "The parameter, markType, is not a String.";}agv(markType);if(!this.bK){return ZC;}var h=0;var dI=this.dn.get_length();var J=this;function aAN(L){var K=J.df[L.get_markID()];if(K&&K.getType().toLowerCase()===markType.toLowerCase()){ZC.push(K);}};for(h=0;h<dI;h++){var aO=this.bK.fQ(this.dn.getPage(h));if(aO){aO.forEachMark(aAN);}}return ZC;};ViewerControl.prototype.getAllMarks=function(){var Ej=[];if(!this.bK){return Ej;}var dI=this.dn.get_length();var J=this;var h=0;var K;function Qv(L){var K=J.df[L.get_markID()];if(typeof K!=='undefined'){Ej.push(K);}};for(h=0;h<dI;h++){var aO=this.bK.fQ(this.dn.getPage(h));if(aO){aO.forEachMark(Qv);}}return Ej;};function agv(markType){var eh;switch(markType.toLowerCase()){case "lineannotation":eh=IPCC.Web.UI.MarkType.Line;break;case "rectangleannotation":eh=IPCC.Web.UI.MarkType.Rectangle;break;case "ellipseannotation":eh=IPCC.Web.UI.MarkType.Ellipse;break;case "textannotation":eh=IPCC.Web.UI.MarkType.Text;break;case "stampannotation":eh=IPCC.Web.UI.MarkType.Stamp;break;case "highlightannotation":eh=IPCC.Web.UI.MarkType.HighlightText;break;case "texthyperlinkannotation":eh=IPCC.Web.UI.MarkType.TextHyperlinkAnnotation;break;case "freehandannotation":eh=IPCC.Web.UI.MarkType.Freehand;break;case "rectangleredaction":eh=IPCC.Web.UI.MarkType.RectangleRedaction;break;case "transparentrectangleredaction":eh=IPCC.Web.UI.MarkType.Rectangle;break;case "textredaction":eh=IPCC.Web.UI.MarkType.Text;break;case "stampredaction":eh=IPCC.Web.UI.MarkType.Stamp;break;case "freehandsignature":eh=IPCC.Web.UI.MarkType.SignaturePath;break;case "textsignature":eh=IPCC.Web.UI.MarkType.SignatureText;break;case "textinputsignature":eh=IPCC.Web.UI.MarkType.TextLine;break;case "textareasignature":eh=IPCC.Web.UI.MarkType.TextAreaSignature;break;case "textselectionredaction":eh=IPCC.Web.UI.MarkType.TextSelectionRedaction;break;case "imagestampannotation":eh=IPCC.Web.UI.MarkType.ImageStampAnnotation;break;case "imagestampredaction":eh=IPCC.Web.UI.MarkType.ImageStampRedaction;break;case "polylineannotation":eh=IPCC.Web.UI.MarkType.Polyline;break;case "strikethroughannotation":eh=IPCC.Web.UI.MarkType.Strikethrough;break;default:throw "The parameter, markType, does not specify a valid mark type.";}return eh;};ViewerControl.prototype.addMarkFromSearchResult=function(searchResult,markType){var J=this,gs;if(J.fj===false){throw "The method addMarkFromSearchResult is not available until 'ViewerReady' state is reached.";}if(!(searchResult instanceof PCCViewer.SearchResult)){throw new PCCViewer.Error("InvalidArgument","searchResult is not a valid instance of PCCViewer.SearchResult");}if([PCCViewer.Mark.Type.TextSelectionRedaction,PCCViewer.Mark.Type.HighlightAnnotation,PCCViewer.Mark.Type.TextHyperlinkAnnotation,PCCViewer.Mark.Type.StrikethroughAnnotation].indexOf(markType)=== -1){throw new PCCViewer.Error("InvalidArgument","The mark type must be: 'TextSelectionRedaction', 'HighlightAnnotation', 'TextHyperlinkAnnotation' or 'StrikethroughAnnotation'.");}if(searchResult.gs.width===0){var GW=J.aG.cT.iO(0);gs={width:GW.kE(),height:GW.hO()};}else{gs=searchResult.gs;}var akQ=IPCC.C.wD(new Date());var markInfo=[{conversation:{comments:[],data:{}},creationDateTime:akQ,data:{},interactionMode:'Full',lineGroups:[{lines:searchResult.am,pageData:gs,pageNumber:searchResult.pageNumber,startIndex:searchResult.startIndexInPage,textLength:searchResult.text.length}],modificationDateTime:akQ,pageNumber:searchResult.pageNumber,pageData:gs,reason:"",selectedText:searchResult.text,startIndex:searchResult.startIndexInPage,textLength:searchResult.text.length,type:markType}];var QT=J.deserializeMarks(markInfo);return QT[0];};ViewerControl.prototype.addMark=function(pageNumber,markType){if(this.fj===false){throw "The method addMark is not available until 'ViewerReady' state is reached.";}var aR;if(typeof(pageNumber)==='number'){aR=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter, pageNumber, contains a value that is not a number.";}else{aR=parseInt(pageNumber,10);}}if(aR<1||aR>this.dn.get_length()|| !isFinite(aR)){throw "The specified page is out of range.";}if(typeof markType!=="string"){throw "The parameter, markType, is not a String.";}var K=this.aky(aR,markType);return this.ank(K);};ViewerControl.prototype.aky=function(aR,bq,bu){var J=this;bu=bu||{};var eh=agv(bq);var L=new IPCC.Web.UI.Mark(eh);L.bF=aR-1;var Ts={type:bq,igMark:L,pageNumber:aR,uid:bu.uid,viewerControl:this};if(bq.toLowerCase()==="highlightannotation"||bq.toLowerCase()==="textselectionredaction"||bq.toLowerCase()==="strikethroughannotation"||bq.toLowerCase()==="texthyperlinkannotation"){Ts.dn=J.dn;Ts.bK=J.bK;}var K=new PCCViewer.Mark(Ts);return K;};ViewerControl.prototype.ank=function(K){var J=this;if(J.amb===true){J.amb=false;}else{var tG=J.iM;J.iM=function(sender,eventArgs){J.iM=tG;if(J.sf){J.tw.addMarks(K);}setTimeout(function(){J.trigger('MarkCreated',{mark:K,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};}var aO=this.bK.fQ(this.dn.getPage(K.aR-1));aO.addMark(K.L);J.df[K.L.get_markID()]=K;J.pa(K,K.aR-1);return K;};ViewerControl.prototype.deleteMarks=function(marks){var J=this;var h=0;var K;if(!this.fj){throw "The method deleteMarks can not be used until 'ViewerReady' state is reached.";}function Rw(oW){var bF=oW.getPageNumber()-1;var bn='';var bd='';var IJ=bF;var aO=J.bK.fQ(J.dn.getPage(bF));aO.removeMark(oW.L);if(J.df[oW.getId()]){bn=oW.L.bn;bd=oW.getType();delete J.df[oW.getId()];}var MP=bd.toLowerCase();if((MP==='highlightannotation'||MP==='textselectionredaction'||MP==='strikethroughannotation'||MP==='texthyperlinkannotation')&&(oW.cu&&oW.cu.length)){for(var h=0;h<oW.cu.length;h++){var kD=oW.cu[h];aO=J.bK.fQ(J.dn.getPage(kD.bF));aO.removeMark(kD);J.pa(kD,kD.bF);}}J.lL.forEach(function(fp){if(fp.hasMark(oW.getId())){fp.removeMarks(oW);}});};if(marks instanceof Array){for(h=0;h<marks.length;h++){K=marks[h];if(!(K instanceof PCCViewer.Mark)){throw "The parameter, marks, contains an item that is not a Mark.";}if(!(J.df[K.getId()])){throw "The parameter, marks, contains a Mark that is not on the document.";}}for(h=0;h<marks.length;h++){Rw(marks[h]);J.pa(marks[h],marks[h].getPageNumber()-1);}}else{if(marks instanceof PCCViewer.Mark){if(!(J.df[marks.getId()])){throw "The parameter, marks, contains a Mark that is not on the document.";}Rw(marks);J.pa(marks,marks.getPageNumber()-1);}else{throw "The parameter, marks, is not an Array of Marks or a single Mark.";}}return this;};ViewerControl.prototype.deleteAllMarks=function(){var Ej=this.getAllMarks();if(Ej.length>0){return this.deleteMarks(Ej);}return this;};ViewerControl.prototype.hideMarks=function(marks){adH(this,marks,false,'hideMarks');return this;};ViewerControl.prototype.showMarks=function(marks){adH(this,marks,true,'showMarks');return this;};function adH(bz,bb,wK,aAs){var h=0;var K;if(!bz.fj){throw new PCCViewer.Error("InvalidArgument","The method "+aAs+" can not be used until 'ViewerReady' state is reached.");}if(bb instanceof Array){for(h=0;h<bb.length;h++){K=bb[h];if(!(K instanceof PCCViewer.Mark)){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains an item that is not a Mark.");}if(!(bz.df[K.getId()])){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}}for(h=0;h<bb.length;h++){bb[h].setVisible(wK);}}else{if(bb instanceof PCCViewer.Mark){if(!(bz.df[bb.getId()])){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}bb.setVisible(wK);}else{throw new PCCViewer.Error("InvalidArgument","The parameter, marks, is not an Array of Marks or a single Mark.");}}};function xk(aDq,lb){var kQ=false;var cB=lb.bK.get_displayedPages();for(var h=0;h<cB.get_length();h++){var aS=cB.getPage(h);if(aS.get_pageNumber()===aDq){kQ=true;break;}}return kQ;};ViewerControl.prototype.moveMarkToFront=function(mark){var aO;var gx;if(!this.fj){throw "The method moveMarkToFront is not available until ViewerReady state is reached.";}if(mark instanceof PCCViewer.Mark){gx=mark.getPageNumber();if(mark.getPageNumber()>0){aO=this.bK.fQ(this.dn.getPage(gx-1));}else{throw "The mark object has not been added to any page yet";}}else{throw "The parameter, mark object is not a PCCViewer.Mark object";}if(!mark.L){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(aO){if(mark.L instanceof IPCC.Web.UI.Mark){mark.L.moveToFront();if(xk(gx-1,this)===true){var lb=this;setTimeout(function(){lb.bK.cI(gx-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};ViewerControl.prototype.moveMarkToBack=function(mark){var aO;var gx;if(!this.fj){throw "The method moveMarkToBack is not available until ViewerReady state is reached.";}if(!(mark instanceof PCCViewer.Mark)){throw "The parameter, mark object is not a PCCViewer.Mark object";}gx=mark.getPageNumber();if(gx>=1){aO=this.bK.fQ(this.dn.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.L){throw "The parameter, mark may be a templateMark or has not been initialized";}if(aO){if(mark.L instanceof IPCC.Web.UI.Mark){mark.L.moveToBack();if(xk(gx-1,this)===true){var lb=this;setTimeout(function(){lb.bK.cI(gx-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};ViewerControl.prototype.moveMarkForward=function(mark){var aO,gx;if(!this.fj){throw "The method moveMarkForward is not available until 'ViewerReady' state is reached.";}if(!(mark instanceof PCCViewer.Mark)){throw "The parameter, mark object is not a PCCViewer.Mark object";}gx=mark.getPageNumber();if(gx>=1){aO=this.bK.fQ(this.dn.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.L){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(aO){if(mark.L instanceof IPCC.Web.UI.Mark){mark.L.moveForward();if(xk(gx-1,this)===true){var lb=this;setTimeout(function(){lb.bK.cI(gx-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};ViewerControl.prototype.moveMarkBackward=function(mark){var aO,gx;if(!this.fj){throw "The method moveMarkBackward is not available until ViewerReady state is reached.";}if(!(mark instanceof PCCViewer.Mark)){throw "The parameter, mark object is not a PCCViewer.Mark object";}gx=mark.getPageNumber();if(gx>=1){aO=this.bK.fQ(this.dn.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.L){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(aO){if(mark.L instanceof IPCC.Web.UI.Mark){mark.L.moveBackward();if(xk(gx-1,this)===true){var lb=this;setTimeout(function(){lb.bK.cI(gx-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};ViewerControl.prototype.getSelectedMarks=function(){var bb=[];var TJ=[];if(this.fj===false){return bb;}var dI=this.dn.get_length(),aO,eS;var J=this;function ayZ(RI){if(RI){var Sb=RI.get_type();if(Sb===IPCC.Web.UI.MarkType.HighlightText||Sb===IPCC.Web.UI.MarkType.TextSelectionRedaction||Sb===IPCC.Web.UI.MarkType.Strikethrough||Sb===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation){for(var jp in J.df){if(J.df.hasOwnProperty(jp)){eS=J.df[jp];if(RI.bn===eS.L.bn){for(var h=0;h<TJ.length;h++){if(eS.L.bn===TJ[h]){return;}}TJ.push(eS.L.bn);break;}}}}else{eS=J.df[RI.get_markID()];}if(eS&&eS instanceof PCCViewer.Mark){bb.push(eS);}else{return bb;}}};for(var h=0;h<dI;h++){aO=this.bK.fQ(this.dn.getPage(h));if(aO){aO.get_selectedMarks().forEach(ayZ,{});}}return bb;};function abN(bb,arn,lb){var eS,h;function Vj(ho){var kQ=false;var cB=lb.bK.get_displayedPages();for(var h=0;h<cB.get_length();h++){var aS=cB.getPage(h);if(aS.get_pageNumber()===ho){kQ=true;break;}}return kQ;};if(!bb.length){return;}for(h=0;h<bb.length;h++){if(bb[h]instanceof PCCViewer.Mark){eS=lb.df[parseInt(bb[h].getId(),10)];if(eS&&eS instanceof PCCViewer.Mark){if(eS.L&&eS.L instanceof IPCC.Web.UI.Mark){if(eS.getId()!==eS.L.get_markID().toString()){throw "The mark ID does not match the ID of the mark loaded in the viewer";}}else{throw "The mark provided may not have been added to the document pages in the viewer";}}else{throw "The parameter, marks, contains a Mark that is not on the document.";}}else{throw "The mark provided in the position : "+(h+1)+" is invalid";}}var nN=[];var uB=false;for(h=0;h<bb.length;h++){eS=lb.df[parseInt(bb[h].getId(),10)];uB=false;if(eS){if(eS.getId()===eS.L.get_markID().toString()){eS.L.set_selected(arn);if(Array.prototype.IndexOf){uB=(nN.IndexOf(eS.getPageNumber())>=0);}else{uB=(IPCC.Web.iE(nN,eS.getPageNumber())>=0);}}if(!uB){var dh=eS.getPageNumber();if(Vj(dh-1)){nN.push(dh);}}}}if(nN.length>0){setTimeout(function(){for(h=0;h<nN.length;h++){lb.bK.cI(nN[h]-1);}},1);}};ViewerControl.prototype.selectMarks=function(marks){if(this.fj===false){throw "The method selectMarks is not available until 'ViewerReady' state is reached.";}var bb=[];if(marks===undefined){return this;}if(marks&& !(marks instanceof Array)){if(marks instanceof PCCViewer.Mark){bb.push(marks);}}else{bb=marks;}if(bb.length===0){return this;}abN(bb,true,this);return this;};ViewerControl.prototype.deselectMarks=function(marks){if(this.fj===false){throw "The method deselectMarks is not available until 'ViewerReady' state is reached.";}var bb=[];if(marks===undefined){return this;}if(marks&& !(marks instanceof Array)){if(marks instanceof PCCViewer.Mark){bb.push(marks);}}else{bb=marks;}if(bb.length===0){return this;}abN(bb,false,this);return this;};ViewerControl.prototype.deselectAllMarks=function(){var nN=[];var bb=this.getSelectedMarks();var uB=false,h,eS;for(h=0;h<bb.length;h++){eS=this.df[parseInt(bb[h].getId(),10)];uB=false;if(eS){if(eS.getId()===eS.L.get_markID().toString()){eS.L.set_selected(false);if(Array.prototype.IndexOf){uB=(nN.IndexOf(eS.getPageNumber())>=0);}else{uB=(IPCC.Web.iE(nN,eS.getPageNumber())>=0);}}if(!uB){var dh=eS.getPageNumber();if(xk(dh-1,this)===true){nN.push(dh);}}}}if(nN.length>0){var lb=this;setTimeout(function(){for(h=0;h<nN.length;h++){lb.bK.cI(nN[h]-1);}},1);}return this;};ViewerControl.prototype.copyMarks=function(marks){var bz=this,QT;if(marks instanceof PCCViewer.Mark){marks=[marks];}if(marks instanceof Array===false){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, is not an Array of Marks or a single Mark.");}var bb=[];IPCC.C.forEach(marks,function(K){if(K instanceof PCCViewer.Mark){if(bz.df[K.getId()]===undefined){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}bb.push(K);}else{throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains an item that is not a Mark.");}});var sV=[];IPCC.C.forEach(bb,function(K,bp){fH[K.getType()]({mark:K},function(dM,bX){bX.uid=undefined;sV[bp]=bX;});});this.sf=false;QT=bz.deserializeMarks(sV);this.sf=true;return QT;};ViewerControl.prototype.enterTextMarkEditingMode=function(K){var bz=this,bK=this.bK;var abq=function(YI){var CE=false,cB=bK.get_displayedPages();for(var h=0;h<cB.get_length();h++){var aS=cB.getPage(h);if(aS.get_pageNumber()===YI){CE=true;}bK.ow(aS.get_pageNumber());}return CE;};if(typeof K==="undefined"||K===null){abq(-1);}else{if(this.fj===false){throw PCCViewer.Error("ViewerNotReady","The method selectMarks is not available until 'ViewerReady' state is reached.");}if(!(K instanceof PCCViewer.Mark)){throw new PCCViewer.Error("InvalidArgument","The argument 'mark' must be an instance of PCCViewer.Mark.");}var ahg=this.df[parseInt(K.getId(),10)];if(!(ahg&&ahg instanceof PCCViewer.Mark)){throw new PCCViewer.Error("InvalidArgument","The provided mark is not on the document.");}if(!(K.L&&K.L instanceof IPCC.Web.UI.Mark)){throw new PCCViewer.Error("InvalidArgument","The provided mark may not have been added to the document pages in the viewer");}if(K.getId()!==K.L.get_markID().toString()){throw new PCCViewer.Error("InvalidArgument","The mark ID does not match the ID of the mark loaded in the viewer");}var bq=K.getType();if(bq!==PCCViewer.Mark.Type.TextAnnotation&&bq!==PCCViewer.Mark.Type.TextRedaction&&bq!==PCCViewer.Mark.Type.TextInputSignature&&bq!==PCCViewer.Mark.Type.TextAreaSignature){throw new PCCViewer.Error("InvalidArgument","The mark type must be: 'TextAnnotation', 'TextRedaction', 'TextInputSignature', or 'TextAreaSignature'.");}var CE=abq(K.getPageNumber()-1);if(CE){bz.bK.wu(K.getPageNumber()-1,K.L);}}return this;};ViewerControl.prototype.getCharacterIndex=function(sortableObject){if(this.fj===false){throw new Error("The getCharacterIndex method can not be used until 'ViewerReady' state is reached.");}var IK= -1;var ca;var ak;var aR=0;if(sortableObject instanceof PCCViewer.Mark){if(sortableObject.getStartPoint){ca=sortableObject.getStartPoint();}else{ak=(sortableObject.L)?sortableObject.L.get_boundingRectangle():sortableObject.getRectangle();ca={x:ak.x,y:ak.y};}aR=sortableObject.getPageNumber();}else if(sortableObject instanceof PCCViewer.SearchResult){return sortableObject.startIndexInPage;}else if(sortableObject!==undefined&&sortableObject!==null){if(typeof sortableObject.x==='number'&&typeof sortableObject.y==='number'){ca={x: +sortableObject.x,y: +sortableObject.y};}else{if(isNaN(+sortableObject.x)||isNaN(+sortableObject.y)){throw new Error('The parameter sortableObject does not contain valid x and y values.');}else{ca={x:Number(+sortableObject.x),y:Number(+sortableObject.y)};}}if(typeof sortableObject.pageNumber==='number'){aR= +sortableObject.pageNumber;}else{if(isNaN(+sortableObject.pageNumber)){throw new Error('The parameter sortableObject does not contain a valid pageNumber value.');}else{aR=Number(+sortableObject.pageNumber);}}}else{throw new Error('The sortableObject parameter must be a Mark, SearchResult, or Point.');}if(aR<1||aR>this.getPageCount()|| !isFinite(aR)){throw new RangeError("The parameter pageNumber is out of range.");}if(!this.isPageTextReady(aR)){return-2;}var aS=this.dn.getPage(aR-1);var uf=aS.dF().Zw();var fO=aS.dF().hI();function aay(bbox,point){if(point.x>bbox.x&&point.x<bbox.x+bbox.width&&point.y>bbox.y&&point.y<bbox.y+bbox.height){return true;}return false;};function acu(dA,eE){var bf=Math.max(Math.min(eE.x,dA.x+dA.width),dA.x);var dB=Math.max(Math.min(eE.y,dA.y+dA.height),dA.y);return(eE.x-bf)*(eE.x-bf)+(eE.y-dB)*(eE.y-dB);};var Bl;var Lj=Number.MAX_VALUE;for(var h=0;h<uf.ec();h++){var iQ=uf.arZ(h);if(aay(iQ.eG(),ca)){for(var as=iQ.ajR();as<iQ.anf();as++){var To=fO.kT(as);var si=To.tC();if(aay(si,ca)){return as;}Bl=acu(si,ca);if(Bl<Lj){IK=as;Lj=Bl;}}return IK;}Bl=acu(iQ.eG(),ca);if(Bl<Lj){if(iQ.eG().y>ca.y){IK=iQ.ajR()-1;}else{IK=iQ.anf();}Lj=Bl;}}return IK;};ViewerControl.prototype.getCurrentMouseTool=function(){return this.bD.getName();};ViewerControl.prototype.setCurrentMouseTool=function(name){var J=this;if(this.fj===false){throw "The method setCurrentMouseTool is not available until 'ViewerReady' state is reached.";}var Aq=name.toLowerCase();var bD=PCCViewer.MouseTools.getMouseTool(Aq);if(!bD){throw new Error("The name argument for setCurrentMouseTool(name) must be the name of a known mouse tool.");}var gw,gN;switch(bD.getType()){case PCCViewer.MouseTool.Type.Magnifier:gw=IPCC.Web.UI.MouseTool.Magnifier;break;case PCCViewer.MouseTool.Type.SelectToZoom:gw=IPCC.Web.UI.MouseTool.RectangleZoom;break;case PCCViewer.MouseTool.Type.PanAndEdit:case PCCViewer.MouseTool.Type.Pan:gw=IPCC.Web.UI.MouseTool.HandPan;break;case PCCViewer.MouseTool.Type.SelectText:gw=IPCC.Web.UI.MouseTool.SelectText;break;case PCCViewer.MouseTool.Type.EditMarks:gw=IPCC.Web.UI.MouseTool.EditMarks;break;case PCCViewer.MouseTool.Type.LineAnnotation:gw=IPCC.Web.UI.MouseTool.CreateLineMark;gN=ata(bD.getTemplateMark());break;case PCCViewer.MouseTool.Type.RectangleAnnotation:gw=IPCC.Web.UI.MouseTool.CreateRectangleMark;gN=adw(bD.getTemplateMark());break;case PCCViewer.MouseTool.Type.RectangleRedaction:gw=IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark;gN=awb(bD.getTemplateMark());break;case PCCViewer.MouseTool.Type.TransparentRectangleRedaction:gw=IPCC.Web.UI.MouseTool.CreateRectangleMark;gN=awl(bD.getTemplateMark());break;case PCCViewer.MouseTool.Type.EllipseAnnotation:gw=IPCC.Web.UI.MouseTool.CreateEllipseMark;gN=adw(bD.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextAnnotation:gw=IPCC.Web.UI.MouseTool.CreateTextMark;gN=awJ(bD.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextRedaction:gw=IPCC.Web.UI.MouseTool.CreateTextMark;gN=Xq(bD.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextInputSignature:gw=IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark;gN=Xq(bD.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextAreaSignature:gw=IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark;gN=Xq(bD.getTemplateMark());break;case PCCViewer.MouseTool.Type.StampAnnotation:case PCCViewer.MouseTool.Type.StampRedaction:gw=IPCC.Web.UI.MouseTool.CreateStampMark;gN=axd(bD.getTemplateMark());break;case PCCViewer.MouseTool.Type.HighlightAnnotation:gw=IPCC.Web.UI.MouseTool.CreateHighlightTextMark;gN=Nf(bD.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextHyperlinkAnnotation:gw=IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark;gN=Nf(bD.getTemplateMark());break;case PCCViewer.MouseTool.Type.FreehandAnnotation:gw=IPCC.Web.UI.MouseTool.CreateFreehandMark;gN=aEs(bD.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextSelectionRedaction:gw=IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction;gN=Nf(bD.getTemplateMark());break;case PCCViewer.MouseTool.Type.PlaceSignature:var aqp=this.bu.resourcePath+'/placeSignatureCursor.cur';this.bK.set_mouseTool(IPCC.Web.UI.MouseTool.None);this.bK.set_allowMarkEdits(false);this.bK.set_mouseCursor('url('+aqp+'), pointer');this.bD=bD;return this;case PCCViewer.MouseTool.Type.ImageStampAnnotation:gw=IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark;gN=adr(bD.getTemplateMark());break;case PCCViewer.MouseTool.Type.ImageStampRedaction:gw=IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark;gN=adr(bD.getTemplateMark());break;case PCCViewer.MouseTool.Type.PolylineAnnotation:gw=IPCC.Web.UI.MouseTool.CreatePolylineMark;gN=awY(bD.getTemplateMark());break;case PCCViewer.MouseTool.Type.StrikethroughAnnotation:gw=IPCC.Web.UI.MouseTool.CreateStrikethroughMark;gN=Nf(bD.getTemplateMark());break;default:throw new Error("An unexpected error occurred. The MouseTool type is not known.");}var avW=this.bK.get_mouseTool();if(this.bD!==bD&&avW===gw){setTimeout(function(){J.trigger(PCCViewer.EventType.MouseToolChanged,{mouseToolName:J.bD.getName()});},0);}this.bD=bD;if(gN){this.Km=gN.onCreating;this.iM=gN.onAdded;}else{this.Km=undefined;this.iM=undefined;}this.bK.set_mouseTool(gw);this.bK.set_allowMarkEdits((bD.getType()===PCCViewer.MouseTool.Type.PanAndEdit));return this;};function Vs(bz,Tu,ka){if(bz.xm!==true){var GF=function(){bz.off('PageCountReady',GF);Vs(bz,Tu,ka);};bz.on('PageCountReady',GF);return;}var ab=bz;var vn;var jx={},tx={},og=[];var gZ=ab.ed;var ki;var bu;if(Tu){bu=Tu;}var agG=[];var Xo=ab.aG.get_pages();var auL=function(aS,done){var aHk=false;var iO=aS;var aR=aS.get_pageNumber();var dY=iO.get_pageWidth();var eV=iO.get_pageHeight();try{if(iO){var fQ=ab.bK.fQ(iO),Cb=0,Co=0,eU="",aGW=false;var getArt=function getArt(){var KL;if(bu&&bu.CV&&bu.CV[aR]){KL=IPCC.C.extend({},bu);KL.CV=bu.CV[aR];}else{KL=bu;}var as,ZW;var HB=fQ.aCa(aR,Cb,Co,KL);if(HB.jx){jx[aR]=HB.jx;}else{var axT=auE(aR,ki,Co,Cb);jx[aR]=axT;}if(HB.og){for(as=0;as<HB.og.length;as++){ZW=HB.og[as];tx[ZW.bH.imageStampId]=ZW;}}done();};if(fQ){if(!dY|| !eV){if(fQ.get_markCount()>0){ab.bK.Md(aS,function(aK,an){Cb=aK;if(Cb){iO.KO(Cb);}Co=an;if(Co){iO.KM(Co);}getArt();},function(op){done(op);});}else{getArt();}}else{Cb=dY;Co=eV;getArt();}}else{done(new Error("No art page was found"));}}}catch(ex){done(new Error("Error while saving annotation, error:"+ex.message));}};Xo.forEach(function(aS,bL,it){agG.push(function(done){auL(aS,done);});});var Yv=function(aI,aS){var vw="";var h;if(!aI.fF){if(aI.toString()){return aI.toString();}else{return '<![CDATA[]]>';}}if((gZ===1||aS===0||(aS>0&&aI.fF!=="documentAnnotations"&&aI.fF!=="pages"))&&aI.fF!=="highlights"){vw='<'+aI.fF;for(var yH in aI.bH){if(aI.bH.hasOwnProperty(yH)){var Ro=aI.bH[yH];if(Ro===undefined||Ro===null){continue;}var bH=Ro.toString();bH=bH.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;');vw=vw+' '+yH+'="'+bH+'"';}}vw+='>';}for(h=0;h<aI.cq.length;h++){vw+=Yv(aI.cq[h],aS);}if(gZ===1||(aS===gZ-1)||(aS!==gZ-1&&aI.fF!=="documentAnnotations"&&aI.fF!=="pages"&&aI.fF!=="highlights")){if(aI.fF!=="highlights"){vw+='</'+aI.fF+'>';}else{vw+='<'+aI.fF+' />';}}return vw;};IPCC.C.Zx(agG,function(dM){if(dM){ka(dM);return;}vn='<?xml version="1.0"?>';for(var h=0;h<(ab.ed);h++){vn=vn+Yv(jx[h],h);}var stampImageXml='';for(var FY in tx){if(tx.hasOwnProperty(FY)){stampImageXml+=Yv(tx[FY],1);}}if(stampImageXml.length){var stampImagesXml='<stampImages>'+stampImageXml+'</stampImages></documentAnnotations>';vn=vn.replace('</documentAnnotations>',stampImagesXml);}ka(undefined,vn);});};ViewerControl.prototype.saveMarkup=function(recordName,options){var aw=PCCViewer.Deferred();var dK=aw.getPromise();var bu;if(options){bu=options;}else{bu={includeAnnotations:true,includeRedactions:true,includeSignatures:false};}try{if(typeof recordName!=="string"){aw.reject(new PCCViewer.Error("InvalidArgument","The parameter, recordName, is not a String."));return dK;}if(!aoU(recordName)){aw.reject(new PCCViewer.Error("InvalidCharactersFilename",'Invalid characters in the annotations filename.'));return dK;}var ab=this;this.rC.then(function(rr){var zE=recordName;Vs(ab,bu,function(err,vn){if(err){aw.reject(new PCCViewer.Error("Error",err));return dK;}var Qd=IPCC.hm.rE(zE);var ao;if(!(/^[\x00-\x7F]*$/.test(ab.aG.get_documentIdentifier()))){ao=ab.bu.imageHandlerUrl+'/Document/q/Art/q?DocumentID=e'+ab.bu.documentID+'&AnnotationID=e'+Qd;}else{ao=ab.bu.imageHandlerUrl+'/Document/q/Art/q?DocumentID=u'+encodeURIComponent(ab.bu.documentID)+'&AnnotationID=u'+encodeURIComponent(zE);}function fq(bw){aw.resolve(zE);setTimeout(function(){ab.trigger('MarkupSaved',{name:zE});},0);};function eP(aE){aw.reject(new PCCViewer.Error("AjaxError","Status Code "+aE.response.status+" "+aE.response.statusText));};PCCViewer.Ajax.ff({method:'POST',url:ao,headers:{'Content-Type':'application/xml'},body:vn}).then(fq,eP);});});}catch(e){aw.reject(new PCCViewer.Error("Error",e.message));}return dK;};var aoU=function(recordName){return!/[\\\/:*?"<>|\x00-\x1f]/.test(recordName);};var Vc=function(ly){var bf=ly.firstChild;while(bf.nodeType!==1){bf=bf.nextSibling;}return bf;};var auE=function(dh,ki,eV,dY){var jx={fF:'documentAnnotations',cq:[],bH:{}};var alg={fF:'pages',cq:[],bH:{}};jx.cq.push(alg);var jW={fF:'highlights',cq:[],bH:{}};var aS={fF:'page',cq:[],bH:{id:(dh+1).toString(),pageWidth:dY,pageHeight:eV}};jx.cq.push(jW);try{if(ki){var bf=ki.getElementsByTagName("documentAnnotations");if(bf.length>1){throw 'ERROR: Invalid PCC annotations XML';}var Rm;var Du;if(document.documentMode<9){var SJ=ki.firstChild.nodeName;if(SJ.toLowerCase()==='xml'){Rm=ki.firstChild.nextSibling;}else{Rm=ki.firstChild;}}else{Rm=ki.firstChild;}var cT=Vc(Rm);if(cT.nodeName!=='pages'){throw 'ERROR: Problem with pages node in the PCC annotations XML';}if(cT.hasChildNodes()){var h;var mw=false;for(h=0;h<cT.childNodes.length;h++){Du=cT.childNodes[h];if(Du.nodeName!=='page'){continue;}var zB=Du.getAttribute('id');mw=false;if(zB&&parseFloat(zB)===dh+1){mw=true;for(var as=0;as<Du.childNodes.length;as++){var bJ=Du.childNodes[as];var bM={fF:'annotation',cq:[],bH:{}};if(bJ.nodeName!=='annotation'){continue;}var OX=Du.childNodes[as].attributes;if(OX.length>0){for(var cs=0;cs<OX.length;cs++){bM.bH[OX[cs].name]=OX[cs].value;}}if(bJ.childNodes[0].data){bM.cq.push('<![CDATA['+bJ.childNodes[0].data+']]>');}else{bM.cq.push('');}aS.cq.push(bM);}break;}}}}alg.cq.push(aS);return jx;}catch(e){throw(e.message);}};ViewerControl.prototype.loadMarkup=function(recordName,options){var FM=recordName;var aw=PCCViewer.Deferred(),dK=aw.getPromise(),ab=this;var bu=options||{};var xI=bu.retainExistingMarks;var hT=bu.markupLayer;var ve=bu.loadAsHidden;this.rC.then(function(rr){var ao,Qd,bK=ab.bK,dn=ab.dn;if(typeof FM!=="string"){aw.reject(new PCCViewer.Error("InvalidArgument","The parameter, recordName, is not a String."));}if(xI!==undefined){if(typeof xI!=='boolean'){aw.reject(new PCCViewer.Error('InvalidArgument','The parameter `retainExistingMarks` must be a boolean value if it is specified.'));}}if(hT!==undefined){if(!(hT instanceof PCCViewer.MarkupLayer)){aw.reject(new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` must be an instance of PCCViewer.MarkupLayer if it is specified.'));}if(ab.lL.getItem(hT.getId())===undefined){aw.reject(new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` is a markup layer unknown to the viewer.'));}}function fq(bw){var abB,Oj=bw.responseText,Mo;if(Oj.indexOf('xml')=== -1){aw.reject(new PCCViewer.Error("InvalidAnnotationRecord","Did not receive valid annotation record from web server."));return;}Oj=Oj.replace(/(comment\s+text=")((?:.|[\r\n])*?)("\s+created=")/g,function(match,p1,p2,p3){return p1+IPCC.C.nL(p2)+p3;});if(window.DOMParser){Mo=function(xmlStr){return(new window.DOMParser()).parseFromString(xmlStr,"text/xml");};}else if(typeof window.ActiveXObject!=="undefined"&&new window.ActiveXObject("Microsoft.XMLDOM")){Mo=function(xmlStr){var xmlDoc=new window.ActiveXObject("Microsoft.XMLDOM");xmlDoc.async="false";xmlDoc.loadXML(xmlStr);return xmlDoc;};}else{Mo=function(){return null;};}abB=Mo(Oj);var aif=abB.getElementsByTagName('stampImage');var og={};var abA=function(bp){K.aY.push(ael.getPoint(bp));};for(var h=0;h<aif.length;h++){var TA=aif[h];og[TA.getAttribute('imageStampId')]={imageStampId:TA.getAttribute('imageStampId'),base64format:TA.getAttribute('base64format')};}bK.set_annotationXmlDom(abB,og,xI===true,ve===true);if(xI!==true){ab.df={};}var dI=ab.dn.get_length();var K;var bq,eh;var wC={};var GV=[];for(h=0;h<dI;h++){var aO=ab.bK.fQ(ab.dn.getPage(h));if(aO){var Dp={};var as=0;for(as=0;as<aO.get_markCount();as++){var L=aO.getMark(as);if(ab.df[L.get_markID()]!==undefined){continue;}eh=L.get_type();switch(eh){case IPCC.Web.UI.MarkType.Rectangle:if(L.iP()===true){if(L.get_opacity()===255){bq=PCCViewer.Mark.Type.RectangleRedaction;}else{bq=PCCViewer.Mark.Type.TransparentRectangleRedaction;}K=new PCCViewer.Mark({type:bq,igMark:L,pageNumber:h+1,uid:L.bH.je});}else{bq=PCCViewer.Mark.Type.RectangleAnnotation;K=new PCCViewer.Mark({type:bq,igMark:L,pageNumber:h+1,uid:L.bH.je});K.lN=L.get_lineWidth();K.cw=L.get_fillColor();K.oU=L.get_lineColor();K.du=L.get_opacity();}break;case IPCC.Web.UI.MarkType.Ellipse:bq=PCCViewer.Mark.Type.EllipseAnnotation;K=new PCCViewer.Mark({type:bq,igMark:L,pageNumber:h+1,uid:L.bH.je});K.lN=L.get_lineWidth();K.cw=L.get_fillColor();K.oU=L.get_lineColor();K.du=L.get_opacity();break;case IPCC.Web.UI.MarkType.Line:bq=PCCViewer.Mark.Type.LineAnnotation;K=new PCCViewer.Mark({type:bq,igMark:L,pageNumber:h+1,uid:L.bH.je});K.os=L.get_lineWidth();K.db=L.get_lineColor();K.du=L.get_opacity();if(L.get_endHeadType()===IPCC.Web.UI.LineHeadType.Solid){K.oP="FilledTriangle";}else{K.oP="None";}break;case IPCC.Web.UI.MarkType.Stamp:if(L.iP()===true){bq=PCCViewer.Mark.Type.StampRedaction;K=new PCCViewer.Mark({type:bq,igMark:L,pageNumber:h+1,uid:L.bH.je});}else{bq=PCCViewer.Mark.Type.StampAnnotation;K=new PCCViewer.Mark({type:bq,igMark:L,pageNumber:h+1,uid:L.bH.je});K.db=L.get_fillColor();}K.tQ=L.get_text();break;case IPCC.Web.UI.MarkType.Text:if(L.iP()===true){bq=PCCViewer.Mark.Type.TextRedaction;K=new PCCViewer.Mark({type:bq,igMark:L,pageNumber:h+1,uid:L.bH.je});}else{bq=PCCViewer.Mark.Type.TextAnnotation;K=new PCCViewer.Mark({type:bq,igMark:L,pageNumber:h+1,uid:L.bH.je});K.lN=L.get_lineWidth();K.cw=L.get_fillColor();K.oU=L.get_lineColor();K.du=L.get_opacity();}K.gY=L.get_maxLength();K.gk=L.get_fontName();K.gQ=L.get_textColor();K.dH=L.get_fontSize();var co=L.get_fontStyle();var rq=[];if((co&IPCC.Web.UI.FontStyle.Bold)===IPCC.Web.UI.FontStyle.Bold){rq.push("Bold");}if((co&IPCC.Web.UI.FontStyle.Italic)===IPCC.Web.UI.FontStyle.Italic){rq.push("Italic");}if((co&IPCC.Web.UI.FontStyle.Strikeout)===IPCC.Web.UI.FontStyle.Strikeout){rq.push("Strikeout");}if((co&IPCC.Web.UI.FontStyle.Underline)===IPCC.Web.UI.FontStyle.Underline){rq.push("Underline");}K.co=rq;var pY;switch(L.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:pY="center";break;case IPCC.Web.UI.HorizontalAlignment.Left:pY="left";break;case IPCC.Web.UI.HorizontalAlignment.Right:pY="right";break;}K.nn=pY;break;case IPCC.Web.UI.MarkType.TextAreaSignature:bq=PCCViewer.Mark.Type.TextAreaSignature;K=new PCCViewer.Mark({type:bq,igMark:L,pageNumber:h+1,uid:L.bH.je});K.lN=L.get_lineWidth();K.gY=L.get_maxLength();K.gk=L.get_fontName();K.gQ=L.get_textColor();K.ib=L.get_maxFontSize();co=L.get_fontStyle();rq=[];if((co&IPCC.Web.UI.FontStyle.Bold)===IPCC.Web.UI.FontStyle.Bold){rq.push("Bold");}if((co&IPCC.Web.UI.FontStyle.Italic)===IPCC.Web.UI.FontStyle.Italic){rq.push("Italic");}if((co&IPCC.Web.UI.FontStyle.Strikeout)===IPCC.Web.UI.FontStyle.Strikeout){rq.push("Strikeout");}if((co&IPCC.Web.UI.FontStyle.Underline)===IPCC.Web.UI.FontStyle.Underline){rq.push("Underline");}K.co=rq;switch(L.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:pY="center";break;case IPCC.Web.UI.HorizontalAlignment.Left:pY="left";break;case IPCC.Web.UI.HorizontalAlignment.Right:pY="right";break;}K.nn=pY;break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:bq=(eh===IPCC.Web.UI.MarkType.HighlightText)?PCCViewer.Mark.Type.HighlightAnnotation:(eh===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)?PCCViewer.Mark.Type.TextHyperlinkAnnotation:(eh===IPCC.Web.UI.MarkType.Strikethrough)?PCCViewer.Mark.Type.StrikethroughAnnotation:PCCViewer.Mark.Type.TextSelectionRedaction;var Ym=L.bn;if(typeof wC[Ym]==='undefined'){K=new PCCViewer.Mark({type:bq,igMark:L,pageNumber:h+1,dn:dn,bK:bK,uid:L.bH.je});K.cu=[];if(bq===PCCViewer.Mark.Type.HighlightAnnotation){K.cw=L.get_fillColor();}wC[Ym]=K;L.bF=h;L.lq=true;}else{L.bF=h;wC[Ym].cu.push(L);}break;case IPCC.Web.UI.MarkType.Freehand:bq=PCCViewer.Mark.Type.FreehandAnnotation;K=new PCCViewer.Mark({type:bq,igMark:L,pageNumber:h+1,uid:L.bH.je});K.os=L.get_lineWidth();K.db=L.get_lineColor();K.du=L.get_opacity();break;case IPCC.Web.UI.MarkType.SignaturePath:bq=PCCViewer.Mark.Type.FreehandSignature;K=new PCCViewer.Mark({type:bq,igMark:L,pageNumber:h+1,uid:L.bH.je});K.os=L.get_lineWidth();K.db=L.get_lineColor();break;case IPCC.Web.UI.MarkType.SignatureText:bq=PCCViewer.Mark.Type.TextSignature;K=new PCCViewer.Mark({type:bq,igMark:L,pageNumber:h+1,uid:L.bH.je});K.gk=L.get_fontName();K.db=L.get_fillColor();K.bo=L.get_text();break;case IPCC.Web.UI.MarkType.TextLine:bq=PCCViewer.Mark.Type.TextInputSignature;K=new PCCViewer.Mark({type:bq,igMark:L,pageNumber:h+1,uid:L.bH.je});K.gk=L.get_fontName();K.gQ=L.get_textColor();K.bo=L.get_text();K.gY=L.get_maxLength();K.iv=L.get_mask();break;case IPCC.Web.UI.MarkType.RectangleRedaction:if(!L.bn){bq=PCCViewer.Mark.Type.RectangleRedaction;K=new PCCViewer.Mark({type:bq,igMark:L,pageNumber:h+1,dn:dn,bK:bK,uid:L.bH.je});K.lN=L.get_lineWidth();K.cw=L.get_fillColor();K.oU=L.get_lineColor();K.du=L.get_opacity();}else{if(Dp[L.bn]===undefined){Dp[L.bn]=[];}Dp[L.bn].push(L);}break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:bq=(eh===IPCC.Web.UI.MarkType.ImageStampAnnotation)?PCCViewer.Mark.Type.ImageStampAnnotation:PCCViewer.Mark.Type.ImageStampRedaction;K=new PCCViewer.Mark({type:bq,igMark:L,pageNumber:h+1,uid:L.bH.je});K.setImage({dataUrl:L.get_image(),id:L.qv});break;case IPCC.Web.UI.MarkType.Polyline:bq=PCCViewer.Mark.Type.PolylineAnnotation;K=new PCCViewer.Mark({type:bq,igMark:L,pageNumber:h+1,uid:L.bH.je});K.os=L.get_lineWidth();K.db=L.get_lineColor();K.du=L.get_opacity();var ael=L.get_points();K.aY=[];for(var bU=0;bU<ael.get_length();bU++){abA(bU);}break;default:K=undefined;continue;}if(typeof K!=='undefined'&&eh!==IPCC.Web.UI.MarkType.HighlightText&& !(eh===IPCC.Web.UI.MarkType.RectangleRedaction&&L.bn!==undefined)&&eh!==IPCC.Web.UI.MarkType.TextSelectionRedaction&&eh!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation&&eh!==IPCC.Web.UI.MarkType.Strikethrough){ab.df[L.get_markID()]=K;GV.push(K);}}for(var KS in Dp){if(Dp.hasOwnProperty(KS)&&wC[KS]){var FR=wC[KS];var alC=FR.L;if(FR.cu&&FR.cu.length>0){for(var My=0;My<FR.cu.length;My++){if(FR.cu[My].bF===h){alC=FR.cu[My];}}}var am=Dp[KS];for(var VZ=0;VZ<am.length;VZ++){alC.am.push(am[VZ]);}}}}}for(var ob in wC){if(wC.hasOwnProperty(ob)){var vF=wC[ob];ab.df[vF.L.get_markID()]=vF;GV.push(vF);if(vF.cu&&vF.cu.length>0){vF.cu[vF.cu.length-1].kG=true;}else{vF.L.kG=true;}}}aw.resolve(FM);if(hT!==undefined){hT.addMarks(GV);}else{ab.getActiveMarkupLayer().addMarks(GV);}ab.trigger('MarkupLoaded',{name:FM,loadedMarks:GV});};function eP(aE){aw.reject(new PCCViewer.Error("Error","Status Code "+aE.response.status+" "+aE.response.statusText));};Qd=IPCC.hm.rE(FM);if(!(/^[\x00-\x7F]*$/.test(ab.aG.get_documentIdentifier()))){ao=ab.bu.imageHandlerUrl+'/Document/q/Art/q?DocumentID=e'+ab.bu.documentID+'&AnnotationID=e'+Qd;}else{ao=ab.bu.imageHandlerUrl+'/Document/q/Art/q?DocumentID=u'+encodeURIComponent(ab.bu.documentID)+'&AnnotationID=u'+encodeURIComponent(FM);}PCCViewer.Ajax.ff({method:'GET',url:ao,headers:{'Content-Type':'application/x-www-form-urlencoded'}}).then(fq,eP);});return dK;};ViewerControl.prototype.getSavedMarkupNames=function(){var aw=PCCViewer.Deferred();var dK=aw.getPromise();try{var h=0,Kh=0;var zE='';var ao=this.bu.imageHandlerUrl+'/AnnotationList/q/Art/q?DocumentID=u'+encodeURIComponent(this.bu.documentID)+'&AnnotationID=u'+encodeURIComponent(zE);var fq=function(bw){var ru;if(typeof bw.responseText!=='unknown'&&bw.responseText.length>0){try{ru=JSON.parse(bw.responseText);}catch(e){}}var WX=[],Kh=0;for(var h=0,cg=ru.annotationFiles.length;h<cg;h++){if(ru.annotationFiles[h].annotationLabel){WX[Kh]={};WX[Kh].name=ru.annotationFiles[h].annotationLabel;Kh++;}}aw.resolve(WX);};var eP=function(aE){aw.reject(new PCCViewer.Error("MarkupListFail","Unable to retrieve markup list from server."));};PCCViewer.Ajax.ff({method:'GET',url:ao}).then(fq,eP);}catch(e){aw.reject(new PCCViewer.Error("Error",e.message));}return dK;};ViewerControl.prototype.getMarkupLayerCollection=function(){if(!this.lL){this.lL=new PCCViewer.MarkupLayerCollection(this);}return this.lL;};ViewerControl.prototype.requestMarkupLayerNames=function(metadata){var aw=PCCViewer.Deferred(),dK=aw.getPromise(),ao,aEK=function(obj){var parts=[];for(var key in obj){if(obj.hasOwnProperty(key)&&(typeof obj[key]==='string'||typeof obj[key]==='boolean'||typeof obj[key]==='number')){parts.push(encodeURIComponent(key)+'='+encodeURIComponent(obj[key]));}}return "?"+parts.join('&');};if(!(/^[\x00-\x7F]*$/.test(this.aG.get_documentIdentifier()))){ao=this.bu.imageHandlerUrl+'/MarkupLayers/e'+this.bu.documentID+'/';}else{ao=this.bu.imageHandlerUrl+'/MarkupLayers/u'+encodeURIComponent(this.bu.documentID)+'/';}if(metadata){var aBz=aEK(metadata);ao+=aBz;}ao+='?nocache='+new Date().getTime();PCCViewer.Ajax.ff({url:ao,method:'GET'}).then(function fq(bw){var aFe=JSON.parse(bw.responseText);aw.resolve(aFe);},function eP(aE){aw.reject(aE.error);});return dK;};ViewerControl.prototype.getActiveMarkupLayer=function(){return this.tw;};ViewerControl.prototype.setActiveMarkupLayer=function(markupLayer){if(!(markupLayer instanceof PCCViewer.MarkupLayer)){throw new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` must be an instance of PCCViewer.MarkupLayer.');}if(this.lL.getItem(markupLayer.getId())===undefined){throw new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` is a markup layer unknown to the viewer.');}this.tw=markupLayer;};ViewerControl.prototype.loadMarkupLayers=function(layerRecordIds,options){var WF,J=this;WF=new PCCViewer.LoadMarkupLayersRequest(layerRecordIds,this,options||{});function xN(){setTimeout(function(){WF.BF();},20);};function mL(){J.off(PCCViewer.EventType.PageCountReady,mL);xN();};if(this.mF===false){J.on(PCCViewer.EventType.PageCountReady,mL);}else{xN();}return WF;};ViewerControl.prototype.saveMarkupLayer=function(id){var aw=PCCViewer.Deferred();var dK=aw.getPromise();var J=this;if(typeof id!=='string'|| !id){aw.reject(new PCCViewer.Error('InvalidArgument','The parameter `id` is not a string.'));return dK;}var fp=this.lL?this.lL.getItem(id):undefined;if(!fp){aw.reject(new PCCViewer.Error('UnknownLayerRecord','The layer record '+id+' is not known to ViewerControl'));return dK;}function avS(pI){var KI=fp.getMarks();if(!KI.length){pI(undefined,[]);}else{J.serializeMarks(KI).then(function ii(bb){pI(undefined,IPCC.C.map(bb,function(K){if(K.conversation&&K.conversation.comments){delete K.conversation.comments;}return K;}));},function _f(eU){pI(eU);});}};function avE(pI){var KI=fp.getMarks();var XC=function(fL,he,ln){var Sf=IPCC.C.filter(he,function(oS){return!oS.hT||oS.hT===fp;});IPCC.C.forEach(Sf,function(di){var bQ=fH.Comment(di);bQ.markUid=ln;fL.push(bQ);});return fL;};var ST=IPCC.C.reduce(KI,function(fL,K){var cE=K.getConversation();var he=cE.getComments();return he.length?XC(fL,he,K.getUid()):fL;},[]);pI(undefined,ST);};function axb(pI){var asW=IPCC.C.reduce(J.lL.getAll(),function(fL,alG){return fL.concat(fp===alG?[]:alG.getMarks());},[]);var XC=function(fL,he,ln){var Sf=IPCC.C.filter(he,function(oS){return oS.hT===fp;});IPCC.C.forEach(Sf,function(oS){var bQ=fH.Comment(oS);bQ.markUid=ln;fL.push(bQ);});return fL;};var ST=IPCC.C.reduce(asW,function(fL,K){var cE=K.getConversation();var he=cE.getComments();return he.length?XC(fL,he,K.getUid()):fL;},[]);pI(undefined,ST);};var aeL=[],aqX=function(qm){if(qm.markupLayer===fp){aeL.push({text:qm.text,data:qm.data,creationDateTime:qm.creationDateTime,markUid:qm.markUid});}};for(var aiV in this.lL.js){if(this.lL.js.hasOwnProperty(aiV)){IPCC.C.forEach(this.lL.js[aiV],aqX);}}var zq={layerRecordId:fp.getRecordId(),name:fp.getName(),originalXmlName:fp.getOriginalXmlName(),comments:aeL,data:fH.Data(fp)};var yl;IPCC.C.Zx([function(lZ){avS(function(dM,bX){if(dM&& !yl){yl=dM;}else{zq.marks=bX;}lZ();});},function(lZ){avE(function(dM,bX){if(dM&& !yl){yl=dM;}else{zq.comments=zq.comments.concat(bX);}lZ();});},function(lZ){axb(function(dM,bX){if(dM&& !yl){yl=dM;}else{zq.comments=zq.comments.concat(bX);}lZ();});}],function(){if(!yl){axa(zq);}else{aw.reject(new PCCViewer.Error('SerializationError',yl.message));}});function axa(aIE){var OK,hs={method:'POST',body:JSON.stringify(zq),headers:{'Content-Type':'application/json'}};if(!(/^[\x00-\x7F]*$/.test(J.aG.get_documentIdentifier()))){OK=J.bu.imageHandlerUrl+'/MarkupLayers/e'+J.bu.documentID+'/';}else{OK=J.bu.imageHandlerUrl+'/MarkupLayers/u'+encodeURIComponent(J.bu.documentID)+'/';}if(fp.getRecordId()){hs.url=OK+fp.getRecordId();hs.headers['X-HTTP-Method-Override']='PUT';}else{hs.url=OK;}PCCViewer.Ajax.ff(hs).then(fq,eP);};function fq(bw){if(bw.responseText&&typeof bw.responseText==='string'){var Lv;try{Lv=JSON.parse(bw.responseText);}catch(e){}if(Lv&&Lv.layerRecordId){fp.Uj=Lv.layerRecordId;}}aw.resolve({layerRecordId:fp.getRecordId()});};function eP(aE){aw.reject(new PCCViewer.Error('AjaxError',aE.error.message||'An unknown server error occured.'));};return dK;};ViewerControl.prototype.burnMarkup=function(burnOptions){var ko={burnSignatures:true,burnRedactions:true,burnAnnotations:false};var Kg;var aek;var VD;var aFT=false;if(burnOptions){if(typeof burnOptions.marks==='object'){if(burnOptions.marks instanceof PCCViewer.Mark){Kg=[burnOptions.marks];}else if(burnOptions.marks instanceof Array){Kg=burnOptions.marks;}ko={marks:Kg};}else{ko.burnSignatures=(burnOptions.burnSignatures!==undefined)? ! !burnOptions.burnSignatures:ko.burnSignatures;ko.burnRedactions=(burnOptions.burnRedactions!==undefined)? ! !burnOptions.burnRedactions:ko.burnRedactions;ko.burnAnnotations=(burnOptions.burnAnnotations!==undefined)? ! !burnOptions.burnAnnotations:ko.burnAnnotations;}if(typeof burnOptions.filename==='string'){ko.filename=burnOptions.filename;}if(burnOptions.removeFormFields!==undefined){if(burnOptions.removeFormFields instanceof Array){if(burnOptions.removeFormFields.length>0){var OJ,ER=true;for(OJ=0;OJ<burnOptions.removeFormFields.length;OJ++){if(burnOptions.removeFormFields[OJ]!=='acroform'){ER=false;}}if(ER){ko.removeFormFields=['acroform'];}else{ko.op={code:'InvalidArgument',message:'The burnOptions.removeFormFields parameter contains an invalid form type.'};}}else{ko.op={code:'InvalidArgument',message:'The burnOptions.removeFormFields parameter must specify a valid form type.'};}}else{ko.op={code:'InvalidArgument',message:'The burnOptions.removeFormFields parameter must be an Array if defined.'};}}}var AM=new PCCViewer.BurnRequest(ko),J=this;if(Kg){var eO=[];for(var h=0,cg=this.getPageCount();h<cg;h++){eO[h]=[];}eO=IPCC.C.reduce(Kg,function(bb,bg){var aR=bg.getPageNumber()-1;if(!(typeof bg==='object'&&bg instanceof PCCViewer.Mark&&bg.L)){AM.Sz(new Error('The burnOptions.marks parameter is an invalid object.'));return bb;}if(!J.getMarkById(bg.cS)){AM.Sz(new Error('The burnOptions.marks parameter contains a mark not known to Viewer Control.'));return bb;}bb[aR].push(bg.L);if(bg.L.am){for(var h=0,cg=bg.L.am.length;h<cg;h++){if(bg.L.am[h]instanceof IPCC.Web.UI.Mark){bb[aR].push(bg.L.am[h]);}}}if(bg.cu){for(var as=0,aBo=bg.cu.length;as<aBo;as++){bb[aR+1+as].push(bg.cu[as]);if(bg.cu[as].am){for(var cs=0,aBk=bg.cu[as].am.length;cs<aBk;cs++){if(bg.cu[as].am[cs]instanceof IPCC.Web.UI.Mark){bb[aR+1+as].push(bg.cu[as].am[cs]);}}}}}return bb;},eO);VD={CV:eO,wx:true};}else{VD={includeAnnotations:ko.burnAnnotations,includeRedactions:ko.burnRedactions,includeSignatures:ko.burnSignatures,wx:true};}function adm(){Vs(J,VD,function(dM,aek){if(dM){setTimeout(function(){AM.Sz(dM);},20);}else{AM.Lb({aG:J.aG,bu:J.bu});AM.aqy(aek);setTimeout(function(){AM.BF();},20);}});};function mL(){J.off(PCCViewer.EventType.PageCountReady,mL);adm();};if(this.mF===false){J.on(PCCViewer.EventType.PageCountReady,mL);}else{adm();}return AM;};ViewerControl.prototype.convertDocument=function(Tg){var wU,J=this,zn={targetExtension:'pdf',filename:'document'},bu={};sz.sO(bu,zn,Tg);bu.Ah=1;wU=new PCCViewer.ConversionRequest(bu);function xN(){wU.Lb({aG:J.aG,bu:J.bu});setTimeout(function(){wU.BF(bu);},20);};function mL(){J.off(PCCViewer.EventType.PageCountReady,mL);xN();};if(this.mF===false){J.on(PCCViewer.EventType.PageCountReady,mL);}else{xN();}return wU;};ViewerControl.prototype.requestDocumentConversion=function(Tg){var wU,J=this,zn={targetExtension:'pdf',filename:'document'},bu={};sz.sO(bu,zn,Tg);bu.Ah=2;wU=new PCCViewer.ConversionRequest(bu);function xN(){wU.Lb({aG:J.aG,bu:J.bu});setTimeout(function(){wU.BF(bu);},20);};function mL(){J.off(PCCViewer.EventType.PageCountReady,mL);xN();};if(this.mF===false){J.on(PCCViewer.EventType.PageCountReady,mL);}else{xN();}return wU;};ViewerControl.prototype.loadAttachments=function(){var aw=PCCViewer.Deferred();var dK=aw.getPromise();try{var h=0,Kh=0;var zE='';var ao=this.bu.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(this.bu.documentID)+'/Attachments';var aCD=function(bw){var FH=JSON.parse(bw.responseText);if(FH===null||FH.status!=='complete'){setTimeout(ala,500);return;}aw.resolve(FH.attachments||[]);};var eP=function(aE){aw.reject(new PCCViewer.Error("AttachmentListFail","Unable to retrieve attachment list from server."));};var ala=function(){PCCViewer.Ajax.ff({method:'GET',url:ao}).then(aCD,eP);};ala();}catch(e){aw.reject(new PCCViewer.Error("Error",e.message));}return dK;};function ro(){return function(sender,eventArgs){var J=this;var K=J.df[eventArgs.mark.get_markID()];if(J.sf){J.tw.addMarks(K);}setTimeout(function(){if(K){J.trigger('MarkCreated',{mark:K,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});}},0);};};function ata(aB){return{onCreating:function(aC,F){var K=new PCCViewer.Mark({type:aB.getType(),igMark:F.mark,pageNumber:F.pageIndex+1});this.df[F.mark.get_markID()]=K;K.setThickness(aB.getThickness());K.setColor(aB.getColor());K.setOpacity(aB.getOpacity());K.setEndHeadType(aB.getEndHeadType());PCCViewer.Data.nX(aB,K);PCCViewer.Conversation.qG(aB.getConversation(),K.getConversation());},onAdded:ro()};};function adw(aB){return{onCreating:function(aC,F){var K=new PCCViewer.Mark({type:aB.getType(),igMark:F.mark,pageNumber:F.pageIndex+1});this.df[F.mark.get_markID()]=K;K.setBorderThickness(aB.getBorderThickness());K.setFillColor(aB.getFillColor());K.setBorderColor(aB.getBorderColor());K.setOpacity(aB.getOpacity());PCCViewer.Data.nX(aB,K);PCCViewer.Conversation.qG(aB.getConversation(),K.getConversation());},onAdded:ro()};};function awl(aB){return{onCreating:function(aC,F){var K=new PCCViewer.Mark({type:aB.getType(),igMark:F.mark,pageNumber:F.pageIndex+1});this.df[F.mark.get_markID()]=K;},onAdded:ro()};};function awb(aB){return{onCreating:function(aC,F){var K=new PCCViewer.Mark({type:aB.getType(),igMark:F.mark,pageNumber:F.pageIndex+1});this.df[F.mark.get_markID()]=K;K.setReason(aB.getReason());K.setBorderThickness(aB.getBorderThickness());K.setFillColor(aB.getFillColor());K.setBorderColor(aB.getBorderColor());K.setFontColor(aB.getFontColor());PCCViewer.Data.nX(aB,K);PCCViewer.Conversation.qG(aB.getConversation(),K.getConversation());},onAdded:ro()};};function awJ(aB){return{onCreating:function(aC,F){var K=new PCCViewer.Mark({type:aB.getType(),igMark:F.mark,pageNumber:F.pageIndex+1});this.df[F.mark.get_markID()]=K;K.setBorderThickness(aB.getBorderThickness());K.setFillColor(aB.getFillColor());K.setBorderColor(aB.getBorderColor());K.setOpacity(aB.getOpacity());K.setFontName(aB.getFontName());K.setFontColor(aB.getFontColor());K.setFontSize(aB.getFontSize());K.setFontStyle(aB.getFontStyle());K.setHorizontalAlignment(aB.getHorizontalAlignment());PCCViewer.Data.nX(aB,K);PCCViewer.Conversation.qG(aB.getConversation(),K.getConversation());},onAdded:ro()};};function Xq(aB){return{onCreating:function(aC,F){var K=new PCCViewer.Mark({type:aB.getType(),igMark:F.mark,pageNumber:F.pageIndex+1});this.df[F.mark.get_markID()]=K;K.setFontName(aB.getFontName());K.setFontColor(aB.getFontColor());K.setText(aB.getText());if(K.setFontSize){K.setFontSize(aB.getFontSize());}PCCViewer.Data.nX(aB,K);PCCViewer.Conversation.qG(aB.getConversation(),K.getConversation());},onAdded:ro()};};function axd(aB){return{onCreating:function(aC,F){var K=new PCCViewer.Mark({type:aB.getType(),igMark:F.mark,pageNumber:F.pageIndex+1});this.df[F.mark.get_markID()]=K;if(aB.getType()===PCCViewer.MouseTool.Type.StampAnnotation){K.setColor(aB.getColor());}K.setLabel(aB.getLabel());PCCViewer.Data.nX(aB,K);PCCViewer.Conversation.qG(aB.getConversation(),K.getConversation());},onAdded:ro()};};var aHe;function Nf(aB){return{onCreating:function(aC,F){},onAdded:ro()};};function aEs(aB){return{onCreating:function(aC,F){var K=new PCCViewer.Mark({type:aB.getType(),igMark:F.mark,pageNumber:F.pageIndex+1});this.df[F.mark.get_markID()]=K;K.setThickness(aB.getThickness());K.setColor(aB.getColor());K.setOpacity(aB.getOpacity());PCCViewer.Data.nX(aB,K);PCCViewer.Conversation.qG(aB.getConversation(),K.getConversation());},onAdded:ro()};};function adr(aB){return{onCreating:function(aC,F){var K=new PCCViewer.Mark({type:aB.getType(),igMark:F.mark,pageNumber:F.pageIndex+1});this.df[F.mark.get_markID()]=K;K.setImage(aB.getImage());PCCViewer.Data.nX(aB,K);PCCViewer.Conversation.qG(aB.getConversation(),K.getConversation());},onAdded:ro()};};function awY(aB){return{onCreating:function(aC,F){var K=new PCCViewer.Mark({type:aB.getType(),igMark:F.mark,pageNumber:F.pageIndex+1});this.df[F.mark.get_markID()]=K;K.setThickness(aB.getThickness());K.setColor(aB.getColor());K.setOpacity(aB.getOpacity());PCCViewer.Data.nX(aB,K);PCCViewer.Conversation.qG(aB.getConversation(),K.getConversation());},onAdded:ro()};};ViewerControl.prototype.setMarkHandleMode=function(markHandleMode){var wL;switch(markHandleMode){case PCCViewer.MarkHandleMode.HideCornerHandlesWhenClose:wL=IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose;break;case PCCViewer.MarkHandleMode.HideSideHandlesWhenClose:wL=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;break;default:throw new RangeError("The value of markHandleMode is not a supported value.");}if(this.bK&&this.bK.set_markHandleMode){this.bK.set_markHandleMode(wL);}else{this.bu.markHandleMode=wL;}return this;};ViewerControl.prototype.getMarkHandleMode=function(){var wL;if(this.bK&&this.bK.get_markHandleMode){wL=this.bK.get_markHandleMode();}else{wL=this.bu.markHandleMode;}if(wL===IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose){return PCCViewer.MarkHandleMode.HideCornerHandlesWhenClose;}else{return PCCViewer.MarkHandleMode.HideSideHandlesWhenClose;}};ViewerControl.prototype.setConversationDOMFactory=function(factoryFunction){if(typeof(factoryFunction)!=='function'){throw new Error("The parameter factoryFunction is not a function.");}this.lG=factoryFunction;return this;};ViewerControl.prototype.getConversationDOMFactory=function(){return this.lG;};ViewerControl.prototype.refreshConversations=function(conversations){var Ue,afe=(conversations===undefined);function akn(cE,bL){throw new Error(cE+((bL!==undefined)?' (Array index '+bL+')':'')+' is not a valid PCCViewer.Conversation object.');};function awX(cE,bL){throw new Error(cE+((bL!==undefined)?' (Array index '+bL+')':'')+' is not a known conversation in this ViewerControl.');};if(conversations instanceof PCCViewer.Conversation){Ue=[conversations];}else if(conversations instanceof Array){Ue=conversations;}else if(!afe){akn(conversations);}var acY=IPCC.C.map(this.getAllMarks(),function(bg){return bg.getConversation();});var Zz=IPCC.C.map(Ue||acY,function(bg,h){if(!(bg instanceof PCCViewer.Conversation)){akn(bg,h);}if(!afe&& !IPCC.C.inArray(acY,bg)){awX(bg,h);}return bg.getMark().cS;});this.bK.refreshConversations(Zz);return this;};ViewerControl.prototype.openCommentsPanel=function(){if(this.fj===false){throw new Error("The method openCommentsPanel is not available until 'ViewerReady' state is reached.");}if(this.getPageLayout()===PCCViewer.PageLayout.Horizontal){throw new Error("The page layout must be set to vertical to use the comments panel.");}this.bK.openCommentsPanel();var J=this;setTimeout(function(){J.trigger("CommentsPanelToggled",{isOpen:true});},10);return this;};ViewerControl.prototype.closeCommentsPanel=function(){if(this.fj===false){throw new Error("The method closeCommentsPanel is not available until 'ViewerReady' state is reached.");}this.bK.closeCommentsPanel();var J=this;setTimeout(function(){J.trigger("CommentsPanelToggled",{isOpen:false});},10);return this;};ViewerControl.prototype.getIsCommentsPanelOpen=function(){if(this.fj===false){throw new Error("The method getIsCommentsPanelOpen is not available until 'ViewerReady' state is reached.");}if(this.getPageLayout()===PCCViewer.PageLayout.Horizontal){return false;}return this.bK.get_isCommentsPanelOpen();};ViewerControl.prototype.setSelectedConversation=function(conversation){if(this.fj===false){throw new Error("The method setSelectedConversation is not available until 'ViewerReady' state is reached.");}if(conversation===null||conversation===undefined){this.bK.set_selectedConversation(undefined);return this;}if(!(conversation instanceof PCCViewer.Conversation)){throw new Error("The parameter conversation is not an instance of PCCViewer.Conversation.");}var kD=conversation.getMark();if(kD){var yv=kD.L.get_conversation();this.bK.set_selectedConversation(yv);}else{throw new Error("The conversation is unknown to the viewer control.");}return this;};ViewerControl.prototype.getSelectedConversation=function(){if(this.fj===false){return null;}var hM=this.bK.get_selectedConversation();if(hM){var kD=this.df[hM.get_mark().get_markID()];if(kD){return kD.getConversation();}}return null;};ViewerControl.prototype.clearMouseSelectedText=function(textSelection){if(!textSelection){throw new Error('textSelection is a required parameter');}else if(typeof textSelection.startIndex!=='number'||textSelection.startIndex<0){throw new Error('Start index value '+textSelection.startIndex+' is not a valid value.');}else if(typeof textSelection.pageNumber!=='number'||textSelection.pageNumber<1||textSelection.pageNumber>this.getPageCount()){throw new Error('Page number value '+textSelection.pageNumber+' is not a valid value.');}else if(typeof textSelection.length!=='number'||textSelection.length<1){throw new Error('Length value '+textSelection.pageNumber+' is not a valid value.');}var J=this,AE=J.av;function ahl(bF,jv,dI){var UF=[bF+1];var aS=J.dn.getPage(bF),fJ=aS.dF();if(fJ.ma()){var bo=fJ.Cd(),aeF=bo.substr(jv);if(aeF.length>dI){return UF;}else{return UF.concat(ahl(bF+1,0,dI-aeF.length));}}else{return UF;}};this.bK.um();function DE(Tc,aR){J.ahH(aR,Tc);};if(AE&&AE.getResults().length){var cT=ahl(textSelection.pageNumber-1,textSelection.startIndex,textSelection.length),et=AE.getResults(),aiP=false,LK={};if(et.length){IPCC.C.forEach(et,function(bg){var avC=IPCC.C.contains(cT,bg.aR);if(avC){aiP=true;LK[bg.aR]=LK[bg.aR]||[];LK[bg.aR].push(bg);}});}if(aiP){IPCC.C.forEach(LK,function(Tc,aR){J.requestPageText(aR).then(DE.bind(null,Tc,aR));});}}return this;};ViewerControl.prototype.convertPageToWindowCoordinates=function(pageNumber,points){if(this.fj===false){throw new Error("The method setSelectedConversation is not available until 'ViewerReady' state is reached.");}if(!pageNumber||typeof pageNumber!=='number'||pageNumber<1||pageNumber>this.getPageCount()){throw new PCCViewer.Error('InvalidArgument','pageNumber is not a known page number in the document');}var yp=function(n){return typeof n==='number'&& !isNaN(n);};var vk,ado=true;if(points&&points.constructor===Array){vk=points;}else{vk=[points];ado=false;}var aeZ=function(aX,bL,al){throw new PCCViewer.Error('InvalidArgument',aX+' (Array index '+bL+') does not have a valid '+al+' property');};if(vk.length===0|| !points){throw new PCCViewer.Error('InvalidArgument','At least one point is required');}IPCC.C.forEach(vk,function(aX,bL){if(!yp(aX.x)){aeZ(aX,bL,'x');}if(!yp(aX.y)){aeZ(aX,bL,'y');}});var BO=this.bK.aED(pageNumber,vk);if(BO===null){return null;}else if(ado){return BO;}else{return BO[0];}};ViewerControl.prototype.selectEditorText=function(){if(this.fj===false){throw new Error("The method selectEditorText is not available until 'ViewerReady' state is reached.");}var J=this;var bK=J.bK;var Xu=bK.Cg();if(!Xu){throw new Error("The method selectEditorText is not available unless there is an active editor on the page.");}if(Xu==='singleline'){bK.Fv();}else if(Xu==='multiline'){throw new PCCViewer.Error('InvalidArgument','Only TextInputSignature Marks are supported at this time');}return J;};ViewerControl.prototype.setSharpening=function(amount){if(amount!==Math.floor(amount)||typeof amount!=='number'||amount<0||amount>100){throw new PCCViewer.Error('InvalidArgument','Amount must be an integer between 0 and 100 inclusive');}var J=this;J.ajF=amount;if(this.fj===false){this.rC.then(function(rr){var bK=J.bK;bK.EL(amount);});}else{var bK=J.bK;bK.EL(amount);}return J;};ViewerControl.prototype.getSharpening=function(){var J=this;if(this.fj===false){return J.ajF;}else{var bK=J.bK;return bK.atS();}};ViewerControl.prototype.setGamma=function(amount){if(typeof amount!=='number'||amount<0||amount>10){throw new PCCViewer.Error('InvalidArgument','Amount must be a number between 0 and 10 inclusive');}var J=this;J.aio=amount;if(this.fj===false){this.rC.then(function(rr){var bK=J.bK;bK.CL(amount);});}else{var bK=J.bK;bK.CL(amount);}return J;};ViewerControl.prototype.getGamma=function(){var J=this;if(this.fj===false){return J.aio;}else{var bK=J.bK;return bK.auS();}};ViewerControl.prototype.setSvgLineWidthMultiplier=function(amount){if(typeof amount!=='number'||amount<=0||amount>100){throw new PCCViewer.Error('InvalidArgument','Amount must be greater than 0 and not greater than 100.');}var J=this;J.nr=amount;if(this.fj===false){this.rC.then(function(rr){J.bK.Gc(amount);});}else{J.bK.Gc(amount);}return J;};ViewerControl.prototype.getSvgLineWidthMultiplier=function(){var J=this;if(this.fj===false){return J.nr;}else{var bK=J.bK;return bK.auT();}};if(Object.defineProperties){Object.defineProperties(ViewerControl.prototype,{"pageCount":{enumerable:true,get:function(){return this.getPageCount();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();},set:function(value){return this.setPageNumber(value);}},"searchRequest":{enumerable:true,get:function(){return this.av;}},"selectedSearchResult":{enumerable:true,get:function(){return this.getSelectedSearchResult();},set:function(val){return this.setSelectedSearchResult(val,true);}},"currentMouseTool":{enumerable:true,get:function(){return this.getCurrentMouseTool();},set:function(value){return this.setCurrentMouseTool(value);}},"atMaxScale":{enumerable:true,get:ViewerControl.prototype.getAtMaxScale},"atMinScale":{enumerable:true,get:ViewerControl.prototype.getAtMinScale},"scaleFactor":{enumerable:true,get:function(){return this.getScaleFactor();},set:function(value){return this.setScaleFactor(value);}},"selectedMarks":{enumerable:true,get:ViewerControl.prototype.getSelectedMarks},"viewMode":{enumerable:true,get:function(){return this.getViewMode();},set:function(value){return this.setViewMode(value);}},"isCommentsPanelOpen":{enumerable:true,get:function(){return this.getIsCommentsPanelOpen();}},"selectedConversation":{enumerable:true,get:function(){return this.getSelectedConversation();},set:function(conversation){return this.setSelectedConversation(conversation);}},"redactionViewMode":{enumerable:true,get:function(){return this.getRedactionViewMode();},set:function(value){return this.setRedactionViewMode(value);}},"markHandleMode":{enumerable:true,get:function(){return this.getMarkHandleMode();},set:function(value){return this.setMarkHandleMode(value);}}});}module.exports=ViewerControl;},{"./../IPCC/IPCC":30,"./PCCViewer.EventEmitter":141,"./PCCViewer.Helper":144,"./PCCViewer.MarkDeserializer":148,"./PCCViewer.MarkSerializer":150,"./PCCViewer.Print":158}],170:[function(require,module,exports){var PCCViewer={ViewMode:require('./PCCViewer.ViewMode'),MarkHandleMode:require('./PCCViewer.MarkHandleMode'),RedactionViewMode:require('./PCCViewer.RedactionViewMode'),PageLayout:require('./PCCViewer.PageLayout'),EventType:require('./PCCViewer.EventType'),Event:require('./PCCViewer.Event'),ScaleTrigger:require('./PCCViewer.ScaleTrigger'),FitType:require('./PCCViewer.FitType'),Promise:require('./PCCViewer.Deferred').Promise,Deferred:require('./PCCViewer.Deferred').Deferred,EventEmitter:require('./PCCViewer.EventEmitter'),Util:require('./PCCViewer.Util'),ObservableCollection:require('./PCCViewer.ObservableCollection'),aBW:require('prizmdoc-input-mask'),Data:require('./PCCViewer.Data').Data,SessionData:require('./PCCViewer.Data').SessionData,Ajax:require('./PCCViewer.Ajax').Ajax,AjaxResponse:require('./PCCViewer.Ajax').AjaxResponse,Language:require('./PCCViewer.Language'),Error:require('./PCCViewer.Error'),ViewerControl:require('./PCCViewer.ViewerControl'),sz:require('./PCCViewer.Helper'),MouseTool:require('./PCCViewer.MouseTool').MouseTool,MouseTools:require('./PCCViewer.MouseTool').MouseTools,Conversation:require('./PCCViewer.Comments').Conversation,Comment:require('./PCCViewer.Comments').Comment,ImageStamps:require('./PCCViewer.ImageStamps'),DocumentHyperlink:require('./PCCViewer.DocumentHyperlink'),_Search:require('./PCCViewer.Search')._Search,SearchTask:require('./PCCViewer.Search').SearchTask,SearchRequest:require('./searchRequest'),SearchResult:require('./searchResult').SearchResult,Vk:require('./PCCViewer.ServerSearch'),SearchTaskResult:require('./searchResult').SearchTaskResult,Nv:require('./PCCViewer.ClientSearch'),Gh:require('prizmdoc-search'),Signatures:require('./PCCViewer.Signature').Signatures,SignatureControl:require('./PCCViewer.Signature').SignatureControl,SignatureDisplay:require('./PCCViewer.Signature').SignatureDisplay,ThumbnailControl:require('./PCCViewer.ThumbnailControl'),Revision:require('./PCCViewer.Revision'),KB:require('./PCCViewer.RevisionsRequest').KB,RevisionsRequest:require('./PCCViewer.RevisionsRequest').RevisionsRequest,ConversionRequest:require('./PCCViewer.ConversionRequest'),BurnRequest:require('./PCCViewer.BurnRequest'),PrintRequest:require('./PCCViewer.Print').PrintRequest,PrintControl:require('./PCCViewer.Print').PrintControl,Mark:require('./PCCViewer.Marks'),MarkupLayer:require('./PCCViewer.MarkupLayer'),LoadMarkupLayersRequest:require('./PCCViewer.LoadMarkupLayersRequest'),MarkupLayerCollection:require('./PCCViewer.MarkupLayerCollection'),PasswordProtectedDocumentLoader:require('./PCCViewer.PasswordProtectedDocumentLoader'),};module.exports=PCCViewer;},{"./PCCViewer.Ajax":131,"./PCCViewer.BurnRequest":132,"./PCCViewer.ClientSearch":133,"./PCCViewer.Comments":134,"./PCCViewer.ConversionRequest":135,"./PCCViewer.Data":136,"./PCCViewer.Deferred":137,"./PCCViewer.DocumentHyperlink":138,"./PCCViewer.Error":139,"./PCCViewer.Event":140,"./PCCViewer.EventEmitter":141,"./PCCViewer.EventType":142,"./PCCViewer.FitType":143,"./PCCViewer.Helper":144,"./PCCViewer.ImageStamps":145,"./PCCViewer.Language":146,"./PCCViewer.LoadMarkupLayersRequest":147,"./PCCViewer.MarkHandleMode":149,"./PCCViewer.Marks":151,"./PCCViewer.MarkupLayer":152,"./PCCViewer.MarkupLayerCollection":153,"./PCCViewer.MouseTool":154,"./PCCViewer.ObservableCollection":155,"./PCCViewer.PageLayout":156,"./PCCViewer.PasswordProtectedDocumentLoader":157,"./PCCViewer.Print":158,"./PCCViewer.RedactionViewMode":159,"./PCCViewer.Revision":160,"./PCCViewer.RevisionsRequest":161,"./PCCViewer.ScaleTrigger":162,"./PCCViewer.Search":163,"./PCCViewer.ServerSearch":164,"./PCCViewer.Signature":165,"./PCCViewer.ThumbnailControl":166,"./PCCViewer.Util":167,"./PCCViewer.ViewMode":168,"./PCCViewer.ViewerControl":169,"./searchRequest":171,"./searchResult":172,"prizmdoc-input-mask":2,"prizmdoc-search":7}],171:[function(require,module,exports){var SearchRequest=function(vz){this.jL={};this.ej={};this.et=[];this.uq=false;this.fM=null;this.cF=null;this.We=[];if(Object.defineProperties){Object.defineProperties(this,{"searchQuery":{configurable: ! !vz,enumerable:true,get:function(){return this.ej;}},"results":{configurable: ! !vz,enumerable:true,get:function(){return this.et;}},"isComplete":{configurable: ! !vz,enumerable:true,get:function(){return this.uq;}},"errorCode":{configurable: ! !vz,enumerable:true,get:function(){return this.fM;}},"errorMessage":{configurable: ! !vz,enumerable:true,get:function(){return this.cF;}}});}PCCViewer.EventEmitter.extend(this);};SearchRequest.prototype.getSearchQuery=function(){return this.ej;};SearchRequest.prototype.getResults=function(){return this.et;};SearchRequest.prototype.getIsComplete=function(){return this.uq;};SearchRequest.prototype.getErrorCode=function(){return this.fM;};SearchRequest.prototype.getErrorMessage=function(){return this.cF;};SearchRequest.prototype.getPagesWithoutText=function(){return this.We;};SearchRequest.prototype.cancel=function(){this.rk=true;this.trigger('SearchCancelled');};module.exports=SearchRequest;},{}],172:[function(require,module,exports){var SearchResult=function(){this.cS=0;this.aR=0;this.aU=0;this.bo='';this.qx='';this.qu=0;this.dJ='';this.yS=0;this.ad='';this.Hm='';this.mf=null;};SearchResult.prototype.getId=function(){return this.cS;};SearchResult.prototype.getPageNumber=function(){return this.aR;};SearchResult.prototype.getText=function(){return this.bo;};SearchResult.prototype.getHighlightColor=function(){return this.qx;};SearchResult.prototype.getStartIndexInPage=function(){return this.qu;};SearchResult.prototype.getContext=function(){return this.dJ;};SearchResult.prototype.getStartIndexInContext=function(){return this.yS;};SearchResult.prototype.getSearchTerm=function(){return this.ad;};SearchResult.prototype.getBoundingRectangle=function(){return this.mf;};if(Object.defineProperties){Object.defineProperties(SearchResult.prototype,{"pageNumber":{enumerable:true,get:function(){return this.aR;}},"id":{enumerable:true,get:function(){return this.cS;}},"text":{enumerable:true,get:function(){return this.bo;}},"highlightColor":{enumerable:true,get:function(){return this.qx;}},"startIndexInPage":{enumerable:true,get:function(){return this.qu;}},"context":{enumerable:true,get:function(){return this.dJ;}},"startIndexInContext":{enumerable:true,get:function(){return this.yS;}},"searchTerm":{enumerable:true,get:function(){return this.ad;}},"boundingRectangle":{enumerable:true,get:function(){return this.getBoundingRectangle();}}});}var SearchTaskResult=function(){this.cS=0;this.aU=0;this.bo='';this.qx='';this.qu=0;this.dJ='';this.yS=0;this.ad='';};SearchTaskResult.prototype.getId=function(){return this.cS;};SearchTaskResult.prototype.getText=function(){return this.bo;};SearchTaskResult.prototype.getHighlightColor=function(){return this.qx;};SearchTaskResult.prototype.getStartIndexInInput=function(){return this.qu;};SearchTaskResult.prototype.getContext=function(){return this.dJ;};SearchTaskResult.prototype.getStartIndexInContext=function(){return this.yS;};SearchTaskResult.prototype.getSearchTerm=function(){return this.ad;};if(Object.defineProperties){Object.defineProperties(SearchTaskResult.prototype,{"id":{enumerable:true,get:function(){return this.cS;}},"text":{enumerable:true,get:function(){return this.bo;}},"highlightColor":{enumerable:true,get:function(){return this.qx;}},"startIndexInInput":{enumerable:true,get:function(){return this.qu;}},"context":{enumerable:true,get:function(){return this.dJ;}},"startIndexInContext":{enumerable:true,get:function(){return this.yS;}},"searchTerm":{enumerable:true,get:function(){return this.ad;}}});}module.exports={SearchTaskResult:SearchTaskResult,SearchResult:SearchResult};},{}],173:[function(require,module,exports){if(typeof window==='undefined'){throw new Error('The viewer-core module can only be used in a browser environment (where a window object exists).');}require('./../css/viewercontrol.css');var IPCC=require('./IPCC/IPCC');var PCCViewer=require('./PCCViewer/PCCViewer');window.IPCC=IPCC;window.PCCViewer=PCCViewer;module.exports=PCCViewer;},{"./../css/viewercontrol.css":11,"./IPCC/IPCC":30,"./PCCViewer/PCCViewer":170}]},{},[173])(173)}); 