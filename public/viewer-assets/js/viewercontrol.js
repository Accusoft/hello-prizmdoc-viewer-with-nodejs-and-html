// See license at https://www.npmjs.com/package/@prizmdoc/viewer-core
// @prizmdoc/viewer-core@13.9.6
(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.viewerCore=f()}})(function(){var define,module,exports;return(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){'use strict';var styleElementsInsertedAtTop=[];var insertStyleElement=function(styleElement,options){var head=document.head||document.getElementsByTagName('head')[0];var lastStyleElementInsertedAtTop=styleElementsInsertedAtTop[styleElementsInsertedAtTop.length-1];options=options||{};options.insertAt=options.insertAt||'bottom';if(options.insertAt==='top'){if(!lastStyleElementInsertedAtTop){head.insertBefore(styleElement,head.firstChild);}else if(lastStyleElementInsertedAtTop.nextSibling){head.insertBefore(styleElement,lastStyleElementInsertedAtTop.nextSibling);}else{head.appendChild(styleElement);}styleElementsInsertedAtTop.push(styleElement);}else if(options.insertAt==='bottom'){head.appendChild(styleElement);}else{throw new Error('Invalid value for parameter \'insertAt\'. Must be \'top\' or \'bottom\'.');}};module.exports={createLink:function(href,attributes){var head=document.head||document.getElementsByTagName('head')[0];var link=document.createElement('link');link.href=href;link.rel='stylesheet';for(var key in attributes){if(!attributes.hasOwnProperty(key)){continue;}var value=attributes[key];link.setAttribute('data-'+key,value);}head.appendChild(link);},createStyle:function(cssText,attributes,extraOptions){extraOptions=extraOptions||{};var style=document.createElement('style');style.type='text/css';for(var key in attributes){if(!attributes.hasOwnProperty(key)){continue;}var value=attributes[key];style.setAttribute('data-'+key,value);}if(style.sheet){style.innerHTML=cssText;style.sheet.cssText=cssText;insertStyleElement(style,{insertAt:extraOptions.insertAt});}else if(style.styleSheet){insertStyleElement(style,{insertAt:extraOptions.insertAt});style.styleSheet.cssText=cssText;}else{style.appendChild(document.createTextNode(cssText));insertStyleElement(style,{insertAt:extraOptions.insertAt});}}};},{}],2:[function(require,module,exports){var cursor=require('./util/cursor.js');var mask=require('./util/mask.js');function InputMask(elem,options){var originalPlaceholder=elem.placeholder;var regexMask=mask.getRegex(options.value,options.translations);function onInput(){var cursorPos=cursor.get(elem);var oldVal=elem.value;var newVal=mask.getValue(oldVal,options.value,options.translations,cursorPos);elem.value=newVal.val;setTimeout(function(){cursor.set(elem,cursorPos+newVal.cursorAdjustment);},1);};function clearInvalidValue(){elem.value=mask.fill(elem.value,options.value,options.translations);if(!regexMask.test(elem.value)){elem.value='';}}(function init(){clearInvalidValue();elem.placeholder=mask.getPlaceholder(options.value,options.translations);elem.addEventListener('input',onInput);elem.addEventListener('focusout',clearInvalidValue);elem.addEventListener('blur',clearInvalidValue);}());this.destroy=function(){clearInvalidValue();elem.placeholder=originalPlaceholder;elem.removeEventListener('input',onInput);elem.removeEventListener('focusout',clearInvalidValue);elem.removeEventListener('blur',clearInvalidValue);};};module.exports=InputMask;},{"./util/cursor.js":3,"./util/mask.js":4}],3:[function(require,module,exports){function getCursor(elem){var position=0;if(elem.selectionEnd){position=elem.selectionEnd;}return Number(position);};function setCursor(elem,position){elem.setSelectionRange(position,position);};module.exports={get:getCursor,set:setCursor};},{}],4:[function(require,module,exports){var reRegExpChar=/[\\^$.*+?()[\]{}|]/g;var reHasRegExpChar=new RegExp(reRegExpChar.source);function getMaskRegex(mask,translations){var maskRegex='';var char,translation,i;for(i=0;i<mask.length;i++){char=mask.charAt(i);translation=translations[char];if(translation){maskRegex+=translation.toString().replace(/.{1}$|^.{1}/g,'');}else if(reHasRegExpChar.test(char)){maskRegex+=char.replace(reRegExpChar,'\\$&');}else{maskRegex+=char;}}return new RegExp(maskRegex);};function getMaskPlaceholder(mask,translations){var placeholder=mask;var key;for(key in translations){if(translations.hasOwnProperty(key)){if(reHasRegExpChar.test(key)){key=key.replace(reRegExpChar,'\\$&');}placeholder=placeholder.replace(new RegExp(key,'g'),'_');}}return placeholder;};function getMaskValue(value,mask,translations,cursorPos){var result={val:'',cursorAdjustment:0};var m=0;var v=0;var lastUntranslatedMaskChar,maskChar,valChar,translation;while(m<mask.length&&v<value.length){maskChar=mask.charAt(m);valChar=value.charAt(v);translation=translations[maskChar];if(translation){if(valChar.match(translation)){result.val+=valChar;m+=1;}else if(v<cursorPos){result.cursorAdjustment-=1;}else if(valChar===lastUntranslatedMaskChar){lastUntranslatedMaskChar=null;}v+=1;}else{result.val+=maskChar;if(valChar===maskChar){v+=1;}else{if(v<cursorPos){result.cursorAdjustment+=1;}lastUntranslatedMaskChar=maskChar;}m+=1;}}return result;};function fillMask(value,mask,translations){var newVal=value;var index=value.length;var maskChar;while(index<mask.length){maskChar=mask[index];if(translations[maskChar]){break;}newVal+=maskChar;index+=1;}return newVal;};module.exports={getRegex:getMaskRegex,getPlaceholder:getMaskPlaceholder,getValue:getMaskValue,fill:fillMask};},{}],5:[function(require,module,exports){var util=require('./util.js');var regexSearch=require('./regex-search.js');var proximitySearch=require('./proximity-search.js');function isSimpleSearchInput(input){return(typeof input.pattern==='string'&&(typeof input.caseSensitive==='boolean'||typeof input.caseSensitive==='undefined'));};function isProximitySearchInput(input){if(!util.isPositiveInteger(input.distance)|| !(input.subTerms instanceof Array)){return false;}return util.every(input.subTerms,isSimpleSearchInput);};function isSearchInput(input){if(util.isPlainObject(input)&&typeof input.type==='string'){if(input.type==='simple'){return isSimpleSearchInput(input);}if(input.type==='proximity'){return isProximitySearchInput(input);}}return false;};function isArrayOfSearchInputs(input){if(!(input instanceof Array)){return false;}return util.every(input,isSearchInput);};function getRegExp(searchInput){return(new RegExp(searchInput.pattern,searchInput.caseSensitive?'g':'gi'));};function cleanSearchResult(searchInput){return function(val){return{input:searchInput,text:val.text,startIndex:val.startIndex};};};function getRegexResults(text,searchInput){var regex=getRegExp(searchInput);var results=regexSearch.getResultsForTerm(text,regex);return results.map(cleanSearchResult(searchInput));};function getProximityResults(text,searchInput){var regexes=searchInput.subTerms.map(getRegExp);var results=proximitySearch.getResults(text,regexes,searchInput.distance);return results.map(cleanSearchResult(searchInput));};function getResults(text,searchInputs){if(typeof text!=='string'){throw util.inputError('text','string');}if(!isArrayOfSearchInputs(searchInputs)){throw util.inputError('searchInputs','array of search inputs');}var combinedResults=[];searchInputs.forEach(function(term,i){if(term.type==='simple'){combinedResults=combinedResults.concat(getRegexResults(text,term));}else if(term.type==='proximity'){combinedResults=combinedResults.concat(getProximityResults(text,term));}else{throw util.inputError('searchInputs['+i+'].type','string equal to "simple" or "proximity"');}});util.sortResults(combinedResults);return combinedResults;};module.exports={getResults:getResults};},{"./proximity-search.js":8,"./regex-search.js":9,"./util.js":10}],6:[function(require,module,exports){var util=require('./util.js');function validateGetContextOptions(options){var rules=[{property:'options',validator:function(){return util.isPlainObject(options);},error:'object'},{property:'options.text',validator:function(){return(typeof options.text==='string');},error:'string'},{property:'options.startIndex',validator:function(){return util.isMinInteger(options.startIndex,0);},error:'integer that is at least 0'},{property:'options.endIndex',validator:function(){return util.isMinInteger(options.endIndex,0);},error:'integer that is at least 0'},{property:'options.padding',validator:function(){return util.isMinInteger(options.padding,0);},error:'integer that is at least 0'},{property:'options.startIndex',validator:function(){return(options.startIndex<options.text.length);},error:'integer that is less than "options.text.length"'},{property:'options.endIndex',validator:function(){return(options.endIndex<options.text.length);},error:'integer that is less than "options.text.length"'},{property:'options.startIndex',validator:function(){return(options.startIndex<=options.endIndex);},error:'integer that is at most "options.endIndex"'}];util.validateInput(rules);};function validateRectangleOptions(options){var rules=[{property:'options',validator:function(){return util.isPlainObject(options);},error:'object'},{property:'options.rectangles',validator:function(){return(options.rectangles instanceof Array);},error:'array'},{property:'options.startIndex',validator:function(){return util.isMinInteger(options.startIndex,0);},error:'integer that is at least 0'},{property:'options.endIndex',validator:function(){return util.isMinInteger(options.endIndex,0);},error:'integer that is at least 0'},{property:'options.startIndex',validator:function(){return util.isMaxInteger(options.startIndex,options.endIndex);},error:'integer that is at most "options.endIndex"'}];util.validateInput(rules);};function getContext(options){validateGetContextOptions(options);var startIndex=Math.max(options.startIndex-options.padding,0);var endIndex=Math.min(options.endIndex+options.padding,options.text.length-1);return{startIndex:(startIndex===0)?options.startIndex:options.padding,context:options.text.substring(startIndex,endIndex+1)};};function getBoundingRectangle(options){validateRectangleOptions(options);var boundingRectangle={left:Number.MAX_VALUE,right:0,top:Number.MAX_VALUE,bottom:0};var rectangle;for(var i=options.startIndex;i<=options.endIndex;i++){rectangle=options.rectangles[i];boundingRectangle.left=Math.min(rectangle[0],boundingRectangle.left);boundingRectangle.right=Math.max(rectangle[0]+rectangle[2],boundingRectangle.right);boundingRectangle.top=Math.min(rectangle[1],boundingRectangle.top);boundingRectangle.bottom=Math.max(rectangle[1]+rectangle[3],boundingRectangle.bottom);}return{x:boundingRectangle.left,y:boundingRectangle.top,width:boundingRectangle.right-boundingRectangle.left,height:boundingRectangle.bottom-boundingRectangle.top};};function getLineRectangles(options){validateRectangleOptions(options);var lineRectangles=[];function processCharacter(rectangle){var character=util.getRectangleObject(rectangle);var line=lineRectangles[lineRectangles.length-1];if(util.isCharacterAtEndOfLine(character,line)){lineRectangles.splice(-1,1,util.joinRectangles(line,character));return;}lineRectangles.push(character);};for(var i=options.startIndex;i<=options.endIndex;i++){processCharacter(options.rectangles[i]);}return lineRectangles;};module.exports={getContext:getContext,getBoundingRectangle:getBoundingRectangle,getLineRectangles:getLineRectangles};},{"./util.js":10}],7:[function(require,module,exports){var formatter=require('./formatter.js');var regexSearch=require('./regex-search.js');var proximitySearch=require('./proximity-search.js');var combinedSearch=require('./combined-search.js');module.exports={formatter:formatter,regex:regexSearch,proximity:proximitySearch,combined:combinedSearch};},{"./combined-search.js":5,"./formatter.js":6,"./proximity-search.js":8,"./regex-search.js":9}],8:[function(require,module,exports){var regexSearch=require('./regex-search.js');var util=require('./util.js');function isAProximityResult(matching,searchTerms){return(Object.keys(matching).length===searchTerms.length);};function getStartIndex(wordIndex,searchResult){var startIndex= -1;for(var i=1;i<wordIndex.length;i++){if(wordIndex[i]>searchResult.startIndex){startIndex=i-1;break;}}if(startIndex=== -1&&searchResult.startIndex>wordIndex[wordIndex.length-1]){startIndex=wordIndex.length-1;}return startIndex;};function getEndIndex(wordIndex,searchResult,termsLength,distance){var startIndex=getStartIndex(wordIndex,searchResult);var endIndex=null;if(distance===0){endIndex=startIndex+termsLength-1;}else{endIndex=startIndex+((termsLength-1)*distance+termsLength)-1;}return wordIndex[endIndex<wordIndex.length?endIndex:wordIndex.length-1];};function getWordIndex(text){if(typeof text!=='string'){throw util.inputError('text','string');}var wordIndex=[];var regex=(/[^\s]+/gm);var regexResult;while((regexResult=regex.exec(text))!==null){wordIndex.push(regexResult.index);}return wordIndex;};function getResults(text,searchTerms,distance){if(!util.isPositiveInteger(distance)){throw util.inputError('distance','integer that is greater than 0');}var wordIndex=getWordIndex(text);var searchResults=regexSearch.getResults(text,searchTerms);var proximityResults=[];searchResults.forEach(function(searchResult,i){var opts={nextIndex: -1,currentIndex:i,matches:{},nextResult:null};opts.endIndex=getEndIndex(wordIndex,searchResult,searchTerms.length,distance);opts.matches[searchResult.term]=true;while(opts.nextIndex<opts.endIndex&& !isAProximityResult(opts.matches,searchTerms)&&opts.currentIndex+1<searchResults.length){opts.nextResult=searchResults[++opts.currentIndex];opts.nextIndex=opts.nextResult.startIndex;if(opts.nextIndex<=opts.endIndex){opts.matches[opts.nextResult.term]=true;}}if(isAProximityResult(opts.matches,searchTerms)){proximityResults.push({text:text.substring(searchResult.startIndex,opts.nextResult.startIndex+opts.nextResult.text.length),startIndex:searchResult.startIndex});}});return proximityResults;};module.exports={getWordIndex:getWordIndex,getResults:getResults};},{"./regex-search.js":9,"./util.js":10}],9:[function(require,module,exports){var util=require('./util.js');function isRegExp(input){return(input instanceof RegExp);};function isArrayOfRegExp(input){if(!(input instanceof Array)){return false;}return util.every(input,isRegExp);};function validateGetResultsForTerm(text,searchTerm){if(typeof text!=='string'){throw util.inputError('text','string');}if(!isRegExp(searchTerm)){throw util.inputError('searchTerm','regular expression');}};function getResultsForTerm(text,searchTerm){validateGetResultsForTerm(text,searchTerm);var searchResults=[];var regexResult;while((regexResult=searchTerm.exec(text))!==null){if(regexResult[0]){searchResults.push({term:searchTerm.toString(),text:regexResult[0],startIndex:regexResult.index});}else{searchTerm.lastIndex+=1;}}return searchResults;};function getResults(text,searchTerms){if(typeof text!=='string'){throw util.inputError('text','string');}if(!isArrayOfRegExp(searchTerms)){throw util.inputError('searchTerms','array of regular expressions');}var combinedResults=[];for(var i=0;i<searchTerms.length;i++){combinedResults=combinedResults.concat(getResultsForTerm(text,searchTerms[i]));}util.sortResults(combinedResults);return combinedResults;};module.exports={getResultsForTerm:getResultsForTerm,getResults:getResults};},{"./util.js":10}],10:[function(require,module,exports){function inputError(property,expected){var a=(['a','e','i','o','u'].indexOf(expected.charAt(0))> -1)?'an':'a';return new Error('Invalid argument. Argument "'+property+'" must be '+a+' '+expected+'.');};function isInteger(input){return(typeof input==='number'&&Math.round(input)===input);};function isMinInteger(input,min){if(typeof min!=='number'){throw inputError('min','number');}return(isInteger(input)&&input>=min);};function isMaxInteger(input,max){if(typeof max!=='number'){throw inputError('max','number');}return(isInteger(input)&&input<=max);};function isPositiveInteger(input){return isMinInteger(input,0);};function isPlainObject(input){return(typeof input==='object'&&input!==null&& !(input instanceof Array)&&input.constructor===Object);};function validateInput(rules){rules.forEach(function(rule){if(!rule.validator()){throw inputError(rule.property,rule.error);}});return true;};function every(obj,fn){for(var key in obj){if(obj.hasOwnProperty(key)){if(!fn(obj[key],key)){return false;}}}return true;};function sortResults(results){results.sort(function(a,b){return a.startIndex-b.startIndex;});};function joinRectangles(rectA,rectB){var left=Math.min(rectA.x,rectB.x);var top=Math.min(rectA.y,rectB.y);var right=Math.max(rectA.x+rectA.width,rectB.x+rectB.width);var bottom=Math.max(rectA.y+rectA.height,rectB.y+rectB.height);return{x:left,y:top,width:right-left,height:bottom-top};};function isCharacterAtEndOfLine(character,line){if(line&&Math.abs(character.y-line.y)<1&&Math.abs(character.height-line.height)<1&&(character.x+character.width)>=(line.x+line.width)){return true;}return false;};function getRectangleObject(rect){return{x:rect[0],y:rect[1],width:rect[2],height:rect[3]};};module.exports={inputError:inputError,isInteger:isInteger,isMinInteger:isMinInteger,isMaxInteger:isMaxInteger,isPositiveInteger:isPositiveInteger,isPlainObject:isPlainObject,validateInput:validateInput,every:every,sortResults:sortResults,joinRectangles:joinRectangles,isCharacterAtEndOfLine:isCharacterAtEndOfLine,getRectangleObject:getRectangleObject};},{}],11:[function(require,module,exports){var css="/* page list specific */\n.pccViewerControl {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  /* promote to a new layer */\n  -webkit-transform: translateZ(0);\n  transform: translateZ(0);\n  /* iOS momentum scrolling */\n  -webkit-overflow-scrolling: touch;\n  /* helps touch zoom not overlap any other element */\n  overflow: hidden;\n}\n/* normalize override */\nsvg:not(:root) {\n  overflow: visible!important;\n}\n.pccPageListContainer {\n  box-sizing: border-box;\n}\n.pccPageListContainerWrapper {\n  -ms-transform: scale(1,1) translate(0px,0px);\n  -moz-transform: scale(1,1) translate(0px,0px);\n  -webkit-transform: scale3d(1,1,1) translate3d(0px,0px,0px);\n  transform: scale3d(1,1,1) translate3d(0px,0px,0px);\n  -ms-transform-origin: 0% 0%;\n  -moz-transform-origin: 0% 0%;\n  -webkit-transform-origin: 0% 0%;\n  transform-origin: 0% 0%;\n  will-change: transform, -webkit-transform;\n}\n.pccPageListLoading {\n  height: 30px;\n  margin: -15px;\n  left: 50%;\n  position: absolute;\n  top: 50%;\n  width: 30px;\n}\n.pccPageListComments {\n  position: relative;\n  min-width: 300px;\n  height: auto;\n  vertical-align: top;\n  display: table-cell;\n  box-sizing: border-box;\n  z-index: 2;\n}\n.pccPageListComments > div {\n  position: absolute;\n}\n.pccHidden {\n  display: none;\n}\n.pccPageListItem {\n  background: #fff;\n  overflow: hidden;\n  margin: 13px;\n  vertical-align: middle;\n  border-bottom: 1px solid #d4d6db;\n}\n/* Single Page view mode */\n.pccSinglePageView .pccPageListItem {\n  -webkit-transform: translateZ(0);\n  transform: translateZ(0);\n  -webkit-animation-duration: 1s;\n  animation-duration: 1s;\n  -webkit-animation-timing-function: ease-out;\n  animation-timing-function: ease-out;\n}\n/* Next and previous page list items for single page view mode */\n.pccSinglePageView .pccNextPage {\n  opacity: 0;\n  z-index: 0;\n}\n.pccSinglePageView .pccPreviousPage {\n  opacity: 0;\n  z-index: 0;\n}\n.pccSinglePageView .pccCurrentPage {\n  opacity: 1;\n  z-index: 1;\n}\n/* Default animations for single page view mode */\n.pccSinglePageView .pccNextPageIn {\n  animation-name: moveInFromRight;\n  -webkit-animation-name: moveInFromRight;\n}\n.pccSinglePageView .pccPreviousPageIn {\n  animation-name: moveInFromLeft;\n  -webkit-animation-name: moveInFromLeft;\n}\n.pccSinglePageView .pccPageForward {\n  animation-name: moveLeft;\n  -webkit-animation-name: moveLeft;\n}\n.pccSinglePageView .pccPageBack {\n  animation-name: moveRight;\n  -webkit-animation-name: moveRight;\n}\n@keyframes moveRight {\n  0% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n\n  100% {\n    transform: translate3d(110%, 0, 0);\n    opacity: 0;\n  }\n}\n@-webkit-keyframes moveRight {\n  0% {\n    -webkit-transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n\n  100% {\n    -webkit-transform: translate3d(110%, 0, 0);\n    opacity: 0;\n  }\n}\n@keyframes moveLeft {\n  0% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n\n  100% {\n    transform: translate3d(-110%, 0, 0);\n    opacity: 0;\n  }\n}\n@-webkit-keyframes moveLeft {\n  0% {\n    -webkit-transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n\n  100% {\n    -webkit-transform: translate3d(-110%, 0, 0);\n    opacity: 0;\n  }\n}\n@keyframes moveInFromLeft {\n  0% {\n    transform: translate3d(-110%, 0, 0);\n    opacity: 0;\n  }\n\n  100% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n@-webkit-keyframes moveInFromLeft {\n  0% {\n    -webkit-transform: translate3d(-110%, 0, 0);\n    opacity: 0;\n  }\n\n  100% {\n    -webkit-transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n@keyframes moveInFromRight {\n  0% {\n    transform: translate3d(110%, 0, 0);\n    opacity: 0;\n  }\n\n  100% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n@-webkit-keyframes moveInFromRight {\n  0% {\n    -webkit-transform: translate3d(110%, 0, 0);\n    opacity: 0;\n  }\n\n  100% {\n    -webkit-transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n/*\n.pccPageListItem * {\n    -ms-touch-action: pinch-zoom pan-x pan-y;\n    touch-action: pinch-zoom pan-x pan-y;\n} */\n.pccPageListItem .pccPageListItemLoading {\n  margin: 30% auto;\n  display: block;\n  filter: Alpha(Opacity=50);\n  background-color: #fff;\n}\n.pccPageListItem .pccPageLoadFail {\n  margin: 35% auto;\n  text-align: center;\n  line-height: 2;\n  color: #777;\n}\n/* PageList container fix */\n.pccPageListItem .igAnchor,\n.pccPageListItem .igViewerScroller,\n.pccPageListItem .igViewerGraphics,\n.pccThumbnailView .igAnchor {\n  /* never recalculate these values */\n  width: 100% !important;\n  height: 100% !important;\n}\n.igAnchor > svg {\n  width: 100%;\n  height: 100%;\n}\n.igMagnifierFrame .igAnchor > svg {\n  width: auto;\n  height: auto;\n}\n.igViewerScroller,\n.igViewerGraphics,\n.igAnchor,\n.igAnchor > svg,\n.igAnchor svg svg {\n  -webkit-user-select: none !important;\n  -webkit-touch-callout: none !important;\n  -webkit-tap-highlight-color: rgba(0,0,0,0) !important;\n}\n.igAnchor svg svg use {\n  pointer-events: none;\n}\n/* do not show textarea outline on text marks */\n.pccViewerControl textarea {\n  outline: none;\n}\n/* copy text */\n.pccCopyText {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 0;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n  opacity: 0;\n  filter: alpha(opacity=0);\n  color: #000;\n}\n/* about modal */\n.pccPageListAboutModal {\n  background: #383a3f;\n  position: absolute;\n  top: -300px;\n  left: 0;\n  right: 0;\n  margin: 0 auto;\n  width: 280px;\n  padding: 10px;\n  visibility: hidden;\n  opacity: 0;\n  z-index: 5;\n  border-radius: 3px;\n  text-align: center;\n  -webkit-box-shadow: 0 2px 4px -1px rgba(0, 0, 0, .4);\n  box-shadow: 0 2px 4px -1px rgba(0, 0, 0, .4);\n  -webkit-transition: all 400ms;\n  transition: all 400ms;\n}\n.pccPageListAboutModal * {\n  text-align: left;\n  font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n  -webkit-text-size-adjust: 100%;\n  -ms-text-size-adjust: 100%;\n  text-size-adjust: 100%;\n}\n.pccPageListAboutModal h3 {\n  margin: 10px 0;\n  font-size: 18px;\n  color: #fff;\n  font-weight: bold;\n}\n.pccPageListAboutModal p {\n  font-size: 12px;\n  color: #c2c5ce;\n}\n.pccPageListAboutModal p:last-child {\n  color: #c2c5ce;\n}\n.pccPageListAboutModal a {\n  color: #afc3eb;\n}\nhtml .pccPageListAboutModal button {\n  position: absolute;\n  top: 0;\n  right: 0;\n  font-size: 20px;\n  color: #fff;\n  background: none;\n  border: none;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  height: auto;\n}\n.pccPageListAboutModal.open {\n  visibility: visible;\n  opacity: 1;\n  top: 122px;\n}\n.pccEditMarkButton {\n  display: inline-block;\n  background: no-repeat url(../../../../src/img/EditTextMark.png);\n  border: none;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  height: 26px;\n  width: 26px;\n  -webkit-background-size: 26px 26px;\n  background-size: 26px;\n  cursor: pointer !important;\n}\n/* svg elements can have body tags inside them, so we protect styling of them */\n/* viewer marks that do not look correct can likely be affected by conflicting styles */\n.pccViewerControl body {\n  background-color: initial;\n  min-height: initial;\n  position: static;\n  height: 100%;\n}\n/* style for thumbnail views */\n.pccThumbnailWrapper {\n  position: relative;\n  display: block;\n  width: 100px;\n  height: 100px;\n  margin: 5px 0 2em 0;\n}\n.pccThumbnail {\n  width: 100%;\n  height: 100%;\n}\n.pccThumbnailView {\n  /* it's important not to edit these width and height\n     * they are depended upon in the actual size calculation */\n  height: 100%;\n  width: 100%;\n  margin: auto !important;\n}\n.pccThumbnailLabel {\n  position: absolute;\n  top: 100%;\n  left: 0;\n  width: 100%;\n  text-align: center;\n}\n/* mark selection handles */\n.pccMarkHandleTopLeft,\n.pccMarkHandleTopCenter,\n.pccMarkHandleTopRight,\n.pccMarkHandleMidLeft,\n.pccMarkHandleMidRight,\n.pccMarkHandleBottomLeft,\n.pccMarkHandleBottomCenter,\n.pccMarkHandleBottomRight,\n.pccMarkHandlePoint,\n.pccMarkHandleTextSelectionStart,\n.pccMarkHandleTextSelectionEnd {\n  position: absolute;\n  width: 40px;\n  height: 40px;\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpkMmJhOTYxOS02NDJjLTQzOTUtYTI2Mi1iZTQ5NzM5MDEzYjEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDQ3M0M1RkFDMUM2MTFFNDlBMzZFODY3RUQwOTI4QjgiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDQ3M0M1RjlDMUM2MTFFNDlBMzZFODY3RUQwOTI4QjgiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowYzJmZjg5Ny1iMWRmLTQ4MGItOGRlNy01N2VkNGE0ZjJmZDgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6ZDJiYTk2MTktNjQyYy00Mzk1LWEyNjItYmU0OTczOTAxM2IxIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+SvzVDQAAAn9JREFUeNrsWMFr01AcTvvSNsnG1jQqOIeTTQ/z4EA9WFQQPYpn0epFL/4DiiBMFATRf0AvXtSJdwU9bHhY3UlBQQdThxVRUNN2wzVd26R+v/ILVA9r0iVQWR58zXuP9/3yNXnv9/tIrNlsSr3c4lKPt0hgJDASGAn8jwTKgAEMSAEHXU/TgRPAQWC0LV4dWADywDOg1O0NYn5K3ZEbc63riytZevKngTNAqgNtFXgATIHvMD+8J4jgGi7XgP3uXKVmi/xCMf3ll6XKIt4czihWdpe+pCWFzX/gPDAB7lWIrIT2BHnP3gb20qC0Uk/cnSmMTL8zh+q289d+Toi4c3S38e3CsZGC3peo8/Rr4CLghCXwLHCOOp9+VNRLj+YnzN81ZS2C0Z+s3jo1/mZsi2bx1D3gfhinOAPk+MnJlx/P7+kkjhqtobXE4akcxwpc4HH3QNyZLuz4uVxTvRJpLXF4mOJYgQs8RD/LVkOeeW8O+T1c4GxdWbUFDw8HLVDmPCfNfSyl/z0QXho44uWHYpqHo14ziNcbDboBv5qWInXZKA1xV3DMjVOLl4AGdYYNtdrtzbZvUt1UY3PMwASSuEXqHBjTy5SE/YoDx87u1Ms8XHT/cJCvON/ajJrcoArhVyA43/sV2ebhbBhp5gkXfonK1+aBpOWVSGvB+dxmHp6GIbAIPGx5LNTWmyfH31IZ60SiNbQWHPeVUgxzY5oF8oNst64D+9x5qhCzsFvIkRrslrMto1TpQPSlhN1GfwVMkt3y4we7NayCDWvOo2GdolcLvu3XsMbW+fHI4MK/luV/zvs3fMvvoV4PchIuBxU0Fn1+iwRGAiOBkcDebn8EGACEVf6TPnvOjAAAAABJRU5ErkJggg==);\n}\n@media screen and (-webkit-min-device-pixel-ratio: 2), \n       screen and (min-resolution: 2dppx),\n       screen and (min-resolution: 192dpi) {\n  .pccMarkHandleTopLeft,\n  .pccMarkHandleTopCenter,\n  .pccMarkHandleTopRight,\n  .pccMarkHandleMidLeft,\n  .pccMarkHandleMidRight,\n  .pccMarkHandleBottomLeft,\n  .pccMarkHandleBottomCenter,\n  .pccMarkHandleBottomRight,\n  .pccMarkHandlePoint,\n  .pccMarkHandleTextSelectionStart,\n  .pccMarkHandleTextSelectionEnd {\n    -webkit-background-size: 40px 40px;\n    background-size: 40px;\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGsAAABrCAYAAABwv3wMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpkMmJhOTYxOS02NDJjLTQzOTUtYTI2Mi1iZTQ5NzM5MDEzYjEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6N0QwNDg4NENDNDAzMTFFNDgxM0JDREZDMUY0RTFFODIiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6N0QwNDg4NEJDNDAzMTFFNDgxM0JDREZDMUY0RTFFODIiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2MjI3ZGMxZS0xNjg1LTQ2YTktOTI5Mi0wYzNkMTM4YjU3MWMiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo2YWNjOTM4MC0wYzZkLTExNzgtYmZjOS1jNTk5OGE2MjYzNGUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4Xpv3rAAAGnklEQVR42uycXUxbZRjHT1u++gHjoxTWjTLYxpTBytxUEE3IdiHzxo8tzvmRyIwXRC+cNyaiJk42k11si0a9ME4v/LyYmTeCF1tIJo6YMCgwVMJnmQzKR7cWWr7a+jxyMLjsnNMWes7b0+ef/APJe9r3Of31fc97Tp/n1YRCIY4UH9LSR0CwSASLYJEIFolgESwSwSIRLIJFIlgkgkWwSASLRLAIFolgkQgWwSIRLBLBIlgkgkUiWASLxJ6SVHAOFvA28GZwFjgVbALPghfAbvAt8DDYRbDklRH8CHg/+AGwOYLXToGvg9vBreC5eDpxTRzluu8GPw1+lB896xWOuqvgS+AbBGtjZAfX8X9jJQf4S/4vwYpCOeB68EEZ+8SR9hE/XdJqMEwdAH8lMyjUY/wIO0ALjHuo5tS1//5vaajCL89r4GcUDAlXku/y18hPIL7gmvhoNch/ECnw5x3+2x2R3HNLyf0Tc/rhSb/BtxjQzS8FdGnJuoAhRRfYlqv37cgz+rOMyUsRvi1+YXIhrkYAtkgj6/+gToP3hfua7lGvqcnhynM4PVlj7nmT2JVXA7Zmpc3abRnuQ3bLRHlB+mwE0+JpiK8BgC3QAmPluvkBf+8kKoy02eEyf982Vjgy5U+PtsNCs977XKV1pNZumdKE95Lf+KkxmOiw8Bp1JJyRdLZpsGRo0pexUR0X5Ro8b9QW9cGIC2ek/Qj+OJFh4TTzPj9TCY6mCy3Ord9eG9seCIY0Gx2ATqsJPV9lHTheY7sZxps3gi8nIqwcfnluEjpgcTmofe9i3662fnderIN5aHumq/HIrj9TkrRiUx2OwJfB04l2n1UvBerNb3rL5ACF+n3gtuXE171l2K/Esr4+0W6K7WI3vDjWcUT13PRmyxnUjb+92divxFxzkIvtoy/mYNWJNcI1qkCuEXW3sN8voH+Jw44nCqxysW8mrvpgMVGk5KrnO+gfRrVJ5JA9/HmoHtZTYtPf+ebBnbDqU/SZJfZ/rmlwZyjK81ALLAO4Wqjx505X7oDLt4mFpyoYB8Yjckg1fz6qhSX6w+EPbWM2jiFJxJPKRfEcM55g7RdqcDg9Jud09I+QYiGMB+MSOWSfmmHtFWpo7prM4xhUk8OVH835xDssMyeS3NIxfCebRVidI54siXOyqBGW4L0L/h41cWfByCKscYgL4xM5pCihYPWNzxlYTtvB+ESaN6sRluA0Nzrt1zPMSiq+TDXCEpzmZueXdSzDkojPoEZYgvP+/FKQaVgS8aWoEZZgwkpasjbAMiyJ+BbVCEswr9yQmsQ0LFOaaHw+NcKaEWooNOv9LMMqyBGN77YaYY0KNZTkG30sw5KI71ZCwcIEzPxNqUyW30BcPokE0SE1wpriRBL+Kwoz3CzCgrhmJM7JpUZYqA6hhkN2yziLsCTi6pAzFrlhtQs1YKKlLUfvZQkUxiORANquZlhY/ySYM3600upkCZZEPKuVk6qFhauqVqHGJyosk8UWg4cFUBgHxiNySKuc91hKwEJdEmrA9OUTtcV9Oq1G0QIA7B/j0ER5HmqC1Q3uEmrEcpxjVdYhJWFh/xJlQV38eageFuqCWOMrNbbRyh1ZE0oEhv1i/+uJX22wsCr+sth0ePJwyV9lW9Nn5Axq95b0GexXYvq7wilU1a9kMuVn3EpVxj2F1RxnXyjtkWuEPVic6Tr3YmlPGFUknyr1gSkJC8tmznAribiCwD48et8fL1Vv6cc6qhgtJkL4/meO3d8rAQp1nlOo3OffGYeBysfXwYclVyWjXhOmVm9kxi4uz3HVF2aNccJXPq6O7rBrijGlGTNl15MQijXFzz5sdeJ9FNUURyDcB6OloQpTkU9xEWS4do540n/pnrR0OT3ZY+55YxjV+nN7bBkzj5fnuioKMyJ5rIUbc72N1fpK74PBBCzUevfBwHQx55RfP7ewrFtYDupSk7QBY2pSwGbW+/H3qCj2wVh9SnFydR8MgsXeDjNrr1FM7TDD6kZbWG3yFidScxxDzfKr1KusfSisbrT1K7dSFX9F5n4RUB2LoFgeWWtVAX4VXBrDPnrBn+O6heUPIp528sTymie5lYrDjdhzaplfQPzEyfyLb7SKpz1yO3in88D28kv9nAifmlznjaC8cXT+cTWyhHT37tNp3EpePWZLzXO0+zRTcsU7hHhfDZIIFsEiESwSwSJYJIJFIlgEi0SwSASLYJEIFolgESwSwSIRLIJFIlgkgkWwSASLYJEIFolgJbT+EWAAqiM7sRyeWSQAAAAASUVORK5CYII=);\n  }\n}\n.pccv input.no-ms-clear::-ms-clear {\n  display: none;\n}\n.pcc-image-stamp-img {\n  height: auto;\n  max-height: available;\n  width: 100%;\n  max-width: 100%;\n  position: relative;\n}\n.pccv .pcc-load,\n.pccv .pccPageListLoading,\n.pccv .pccPageListItemLoading {\n  -webkit-animation-duration: 1s;\n  animation-duration: 1s;\n  -webkit-animation-iteration-count: infinite;\n  animation-iteration-count: infinite;\n  -webkit-animation-timing-function: linear;\n  animation-timing-function: linear;\n  -webkit-animation-name: pcc-anim-load;\n  animation-name: pcc-anim-load;\n}\n@-webkit-keyframes pcc-anim-load {\n  0% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n\n  100% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n}\n@keyframes pcc-anim-load {\n  0% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n\n  100% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n}\n.pccv .pccPageListLoading svg,\n.pccv .pccPageListItemLoading svg {\n  fill: #7d7f85;\n  height: 26px;\n  width: 26px;\n}\n.pccv .pccPageListLoading,\n.pccv .pccPageListItemLoading {\n  display: block;\n}\n@media print {\n  .no-clip-on-print {\n    clip-path: none !important;\n  }\n\n  .expand-on-print {\n    transform: scale(9999, 9999);\n  }\n}\n";(require("browserify-css").createStyle(css,{"href":"src\\css\\viewercontrol.css"},{"insertAt":"bottom"}));module.exports=css;},{"browserify-css":1}],12:[function(require,module,exports){var ld=function(){this.bm=false;this.G=false;this.aR=IPCC.aW.AddFreehandMark;};ld.prototype.nd=function(G){this.G=G;};ld.prototype.fL=function(){this.G=false;};ld.prototype.ax=function(){if(this.bm){this.h=null;this.oO=null;this.G.nT(null);this.bm=false;this.G.cn();}};ld.prototype.pW=function(){this.ax();};ld.prototype.km=function(V){this.ax();if(V.domEvent.button===0){this.bm=true;this.h=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Polyline);this.h.get_points().addPoint(V.imagePoint);this.oO=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Freehand);this.G.nT(this.h,this.oO);this.h.set_lineWidth(this.oO.fC);this.h.set_lineColor(this.oO.kp);this.h.set_opacity(this.oO.dk);this.sS=V.imagePoint;this.so=V.windowPoint;this.G.cn();}};ld.prototype.ki=function(V){if(V.domEvent.button!==0){this.ax();}if(this.bm){this.h.get_points().addPoint(V.imagePoint);this.G.cn();}};ld.prototype.AP=function(V){if(this.bm){this.ax();}};ld.prototype.kX=function(V){if(this.bm&&V.domEvent.button===0){this.h.get_points().addPoint(V.imagePoint);var akS=this.h.get_points();var aX=[];var gv=Number.MAX_VALUE,hK=0,_top=Number.MAX_VALUE,kd=0;var R=0;for(R=0;R<akS.get_length();R++){var te=akS.getPoint(R);if(te.x<gv){gv=te.x;}if(te.x>hK){hK=te.x;}if(te.y<_top){_top=te.y;}if(te.y>kd){kd=te.y;}aX.push({x:te.x,y:te.y});}var BV=3;var rO;var qs=(aX.length<BV)?aX:IPCC.J.filter(aX,function(aK){if(rO){var aa=aK.x-rO.x,bZ=aK.y-rO.y,ei=aa*aa+bZ*bZ;if(Math.sqrt(ei)<4){return false;}}aK.x=aK.x-gv;aK.y=aK.y-_top;rO=aK;return true;});if(qs.length<BV){qs=[aX[0],aX[aX.length-1]];}var bX='';rO=undefined;if(qs.length<BV){bX+=this.OY(qs);}else{bX='M'+IPCC.J.bspline(qs);bX=bX.replace(/\d*\.?\d*/g,function(aJ){var HO=aJ.indexOf('.');if(aJ.length&&HO>0){return aJ.substr(0,HO+3);}else if(aJ!==""){return aJ;}else{return aJ;}});}var bg=hK-gv;var aw=kd-_top;if(aw===0&&bg===0){this.ax();return;}var pG={clientX:V.domEvent.clientX,clientY:V.domEvent.clientY};this.oO.set_rectangle({x:gv,y:_top,width:bg,height:aw});this.oO.set_pathString(bX);this.oO.set_pathWidth(bg);this.oO.set_pathHeight(aw);this.G.nT(null);this.G.eP().addMark(this.oO,pG);this.G.cn();}this.ax();};ld.prototype.OY=function(gE,Js){var QD=(Js&&IPCC.J.Fr)?'m':'M';var Xp=(Js&&IPCC.J.Fr)?'l':'L';return IPCC.J.map(gE,function(aK,R){if(R===0){return QD+aK.x+','+aK.y;}else{return Xp+aK.x+','+aK.y;}}).join('');};ld.prototype.nZ=function(V){var bK=this.G.fN();if(V.windowPoint.x<=0||V.windowPoint.x>=bK.width-2){this.ax();}if(V.windowPoint.y<=0||V.windowPoint.y>=bK.height-2){this.ax();}};ld.prototype.lT=function(){this.ax();};module.exports=ld;},{}],13:[function(require,module,exports){var mE=function(){this.bm=false;this.G=false;this.aR=IPCC.aW.AddLineMark;};mE.prototype.nd=function(G){this.G=G;};mE.prototype.fL=function(){this.G=false;};mE.prototype.ax=function(){if(this.bm){this.h=null;this.G.nT(null);this.bm=false;this.G.cn();}};mE.prototype.pW=function(){this.ax();};mE.prototype.km=function(V){this.ax();if(V.domEvent.button===0){this.bm=true;this.h=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Line);this.h.get_points().setPoint(0,V.imagePoint);this.h.get_points().setPoint(1,V.imagePoint);this.G.nT(this.h);this.sS=V.imagePoint;this.so=V.windowPoint;}};mE.prototype.ki=function(V){if(V.domEvent.button!==0){this.ax();}if(this.bm){this.h.get_points().setPoint(1,V.imagePoint);this.G.cn();}};mE.prototype.kX=function(V){if(this.bm&&V.domEvent.button===0){var eK=V.windowPoint.x-this.so.x;var gW=eK*eK;eK=V.windowPoint.y-this.so.y;gW+=eK*eK;if(gW>25){var G=this.G;var pG={clientX:V.domEvent.clientX,clientY:V.domEvent.clientY};this.h.get_points().setPoint(1,V.imagePoint);this.G.nT(null);this.G.eP().addMark(this.h,pG);G.cn();}}this.ax();};mE.prototype.nZ=function(V){var bK=this.G.fN();if(V.windowPoint.x<=0||V.windowPoint.x>=bK.width-2){this.ax();}if(V.windowPoint.y<=0||V.windowPoint.y>=bK.height-2){this.ax();}};mE.prototype.lT=function(){this.ax();};module.exports=mE;},{}],14:[function(require,module,exports){var ky=function(aN){this.bm=false;this.G=false;this.aN=aN;switch(this.aN){case IPCC.Web.UI.MarkType.Polygon:this.aR=IPCC.aW.AddPolygonMark;break;case IPCC.Web.UI.MarkType.Polyline:this.aR=IPCC.aW.AddPolylineMark;this.YA=false;break;}};ky.prototype.nd=function(G){this.G=G;};ky.prototype.fL=function(){this.G=false;};ky.prototype.ax=function(){if(this.bm){if(arguments[0]){if(arguments[0]===true){if(this.h&&this.YA===false){this.G.eP().addMark(this.h);this.YA=true;this.G.cn();}}}this.h=null;this.G.nT(null);this.bm=false;this.G.cn();}};ky.prototype.pW=function(){this.ax();};ky.prototype.km=function(V){if(V.domEvent.button===0){if(!this.bm){this.bm=true;this.h=new IPCC.Web.UI.Mark(this.aN);this.h.get_points().addPoint(V.imagePoint);this.G.nT(this.h);}var aX=this.h.get_points();if(aX.get_length()>0){aX.setPoint(aX.get_length()-1,V.imagePoint);}aX.addPoint(V.imagePoint);this.sS=V.imagePoint;this.so=V.windowPoint;this.G.cn();}else{this.ax();}};ky.prototype.AP=function(V){if(this.bm&&V.domEvent.button===0){var aX=this.h.get_points(),cv=aX.get_length(),XB,Wf;if(cv>2){var agv=true;while(agv){cv=aX.get_length();XB=aX.getPoint(cv-1);Wf=aX.getPoint(cv-2);if(XB.x===Wf.x&&XB.y===Wf.y){aX.removePoint(cv-1);}else{agv=false;}}}if(aX.get_length()>0){aX.setPoint(aX.get_length()-1,V.imagePoint);}this.G.nT(null);var pG={clientX:V.domEvent.clientX,clientY:V.domEvent.clientY};this.G.eP().addMark(this.h,pG);this.YA=true;this.G.cn();}this.ax();};ky.prototype.ki=function(V){if(V.domEvent.button!==0){this.ax();}if(this.bm){var aX=this.h.get_points();if(aX.get_length()>0){aX.setPoint(aX.get_length()-1,V.imagePoint);}this.G.cn();}};ky.prototype.nZ=function(V){var bK=this.G.fN();if(V.windowPoint.x<=0||V.windowPoint.x>=bK.width-2){this.ax();}if(V.windowPoint.y<=0||V.windowPoint.y>=bK.height-2){this.ax();}};ky.prototype.lT=function(){this.ax();};module.exports=ky;},{}],15:[function(require,module,exports){var dZ=function(aN){this.bm=false;this.G=false;this.aN=aN;switch(this.aN){case IPCC.Web.UI.MarkType.Rectangle:this.aR=IPCC.aW.AddRectangleMark;break;case IPCC.Web.UI.MarkType.Ellipse:this.aR=IPCC.aW.AddEllipseMark;break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:this.aR=IPCC.aW.AddTextMark;break;case IPCC.Web.UI.MarkType.Stamp:this.aR=IPCC.aW.AddStampMark;break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:this.aR=IPCC.aW.AddImageStampMark;break;case IPCC.Web.UI.MarkType.RectangleRedaction:this.aR=IPCC.aW.AddRectangleRedactionMark;break;case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:this.aR=IPCC.aW.AddRectangleMark;break;}};dZ.prototype.nd=function(G){this.G=G;};dZ.prototype.fL=function(){this.G=false;};dZ.prototype.ax=function(){if(this.bm){this.h=null;this.G.nT(null);this.bm=false;this.G.cn();}};dZ.prototype.pW=function(){this.ax();};dZ.prototype.km=function(V){this.ax();if(V.domEvent.button===0){this.bm=true;this.h=new IPCC.Web.UI.Mark(this.aN);this.h.set_rectangle({x:V.imagePoint.x,y:V.imagePoint.y,width:0,height:0});this.G.nT(this.h);this.sS=V.imagePoint;this.so=V.windowPoint;}};dZ.prototype.ki=function(V){if(V.domEvent.button!==0){this.ax();}if(this.bm){var jX={x:Math.min(V.imagePoint.x,this.sS.x),y:Math.min(V.imagePoint.y,this.sS.y)};jX.width=Math.max(V.imagePoint.x,this.sS.x)-jX.x;jX.height=Math.max(V.imagePoint.y,this.sS.y)-jX.y;this.h.set_rectangle(jX);this.G.cn();}};dZ.prototype.kX=function(V){if(this.bm&&V.domEvent.button===0){var eK=V.windowPoint.x-this.so.x;var gW=eK*eK;eK=V.windowPoint.y-this.so.y;gW+=eK*eK;if(gW>25){var jX={x:Math.min(V.imagePoint.x,this.sS.x),y:Math.min(V.imagePoint.y,this.sS.y)};jX.width=Math.max(V.imagePoint.x,this.sS.x)-jX.x;jX.height=Math.max(V.imagePoint.y,this.sS.y)-jX.y;this.G.nT(null);this.h.set_rectangle(jX);var bI=this.h;var G=this.G;var pG={clientX:V.domEvent.clientX,clientY:V.domEvent.clientY};this.G.eP().addMark(this.h,pG);if(bI.iH()===IPCC.Web.UI.MarkType.Text||bI.iH()===IPCC.Web.UI.MarkType.TextLine||bI.iH()===IPCC.Web.UI.MarkType.TextAreaSignature){G.wY(bI);}G.cn();}}this.ax();};dZ.prototype.nZ=function(V){var bK=this.G.fN();if(V.windowPoint.x<=0||V.windowPoint.x>=bK.width-2){this.ax();}if(V.windowPoint.y<=0||V.windowPoint.y>=bK.height-2){this.ax();}};dZ.prototype.lT=function(){this.ax();};module.exports=dZ;},{}],16:[function(require,module,exports){var dM={};var ayy=require('./ArtUIDirector');var Ny=require('./ArtSVGUIDirector');dM.uh={IM:function(){var wO=IPCC.dM.uh;if(wO.tY===null){
/*@cc_on@if(@_jscript)wO.tY=document.documentMode>8;@else@*/ wO.tY=true;/*@end@*/}return wO.tY;},tY:null};dM.CC=1;dM.dw=ayy;dM.Ny=Ny;module.exports=dM;},{"./ArtSVGUIDirector":17,"./ArtUIDirector":18}],17:[function(require,module,exports){var alV=function(){};alV.prototype={axw:function(G,bn,aL){this.G=G;this.aU=G.aO();this.bn=bn;this.eu=aL.width;this.eW=aL.height;this.Kb=aL.fZ;this.aGs=aL.gj;bn.BE=this.dC('g');this.cV(bn.BE,{'fill-opacity':1});bn.AI.appendChild(bn.BE);},ayU:function(T){var ij='',K,F=this;switch(T.h.get_type()){case IPCC.Web.UI.MarkType.Rectangle:T.aq=this.dC('rect');if(T.h.iy()&&T.h.get_opacity()===255){T.aq.addEventListener("mouseover",function(V){if(T.h.get_selected()===false&&T.aq&&(V.which===0||V.buttons===0)){T.aq.style.opacity=127/255;}},false);T.aq.addEventListener("mouseout",function(V){if(T.aq&&(V.which===0||V.buttons===0)){T.aq.style.opacity=T.h.get_opacity()/255;}},false);}break;case IPCC.Web.UI.MarkType.HighlightText:ij="highlighttextannotation-"+T.h.ll();T.aq=this.dC('g');T.iQ=this.dC('g');T.aq.appendChild(T.iQ);T.kW=this.dC('g');T.kW.setAttribute('data-pcc-mark',ij);T.aq.appendChild(T.kW);break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:ij="texthyperlinkannotation-"+T.h.ll();T.aq=this.dC('g');T.aq.style.cursor=IPCC.aW.dX(IPCC.aW.Link);T.iQ=this.dC('g');T.aq.appendChild(T.iQ);T.kW=this.dC('g');T.kW.style.opacity=IPCC.dM.dw.afd();T.kW.style.fill="blue";T.kW.setAttribute('data-pcc-mark',ij);T.aq.appendChild(T.kW);T.jN=this.dC('g');T.jN.style.stroke="blue";T.jN.style.opacity=IPCC.dM.dw.IA(false);T.jN.setAttribute('data-pcc-mark',ij);T.aq.appendChild(T.jN);T.aq.addEventListener("mouseover",function(V){if(T.jN){T.jN.style.opacity=IPCC.dM.dw.IA(true,T.h.get_selected());}},false);T.aq.addEventListener("mouseout",function(V){if(T.jN){T.jN.style.opacity=IPCC.dM.dw.IA(false,T.h.get_selected());}},false);break;case IPCC.Web.UI.MarkType.DocumentHyperlink:ij="documenthyperlink-"+T.h.ll();T.aq=this.dC('g');T.aq.style.cursor=IPCC.aW.dX(IPCC.aW.Link);T.K=this.dC('rect');T.K.style['fill-opacity']=IPCC.dM.dw.afd();if(T.h.PS!=='Underline'){T.K.style.stroke=T.h.kp;T.K.style['stroke-width']=T.h.fC+'px';T.K.style['stroke-opacity']=(T.h.fC===0)?0:T.h.qQ/255;if(T.h.PS==='Dashed'){T.K.style['stroke-dasharray']=T.h.AQ.join(', ');}T.K.setAttribute('rx',T.h.JY);T.K.setAttribute('ry',T.h.Kv);}else{T.wE=this.dC('line');T.wE.style.stroke=T.h.kp;T.wE.style['stroke-opacity']=T.h.qQ/255;T.wE.style['stroke-width']=T.h.fC+'px';T.aq.appendChild(T.wE);}T.K.style.fill='transparent';T.K.setAttribute('data-pcc-mark',ij);T.aq.appendChild(T.K);break;case IPCC.Web.UI.MarkType.RectangleRedaction:ij="textmark-"+T.h.ll();T.aq=this.dC('g');T.fK=this.dC('rect');T.gN=this.dC('g');T.gN.setAttribute('data-pcc-mark',ij);if(IPCC.J.yP.aCv){T.gN.style.cursor='pointer';}T.xO=document.createTextNode('');if(document.documentMode>8||IPCC.J.yP.zS){T.cU=this.dC('text');T.cU.setAttribute('data-pcc-mark',ij);T.cU.appendChild(T.xO);T.AO=this.dC('clipPath');T.BJ=this.dC('rect');T.gN.appendChild(T.AO);T.AO.appendChild(T.BJ);T.gN.appendChild(T.cU);T.Jm="PCC"+IPCC.dM.CC;IPCC.dM.CC++;this.cV(T.AO,{id:T.Jm,clipPathUnits:"userSpaceOnUse"});K=T.h.get_rectangle();this.cV(T.BJ,{x:0,y:0,width:K.width,height:K.height,"data-pcc-mark":ij});var akk=function(V){if(T.h.get_selected()===false&&T.fK&&(V.which===0||V.buttons===0)){if(F.G.mP()===false){T.aq.style.opacity=0.5;T.cU.style.opacity=0;}}};T.aq.addEventListener("mouseover",function(V){akk(V);},false);T.gN.addEventListener("mouseover",function(V){akk(V);},false);T.gN.addEventListener("mouseout",function(V){if(T.fK&&(V.which===0||V.buttons===0)){if(F.G.mP()===false){T.aq.style.opacity=1;T.cU.style.opacity=1;}}},false);T.aq.addEventListener("mouseout",function(V){if(T.fK&&(V.which===0||V.buttons===0)){if(F.G.mP()===false){T.aq.style.opacity=1;T.cU.style.opacity=1;}}},false);}else{T.mt=document.createElement('div');this.cV(T.mt,{"data-pcc-mark":ij});T.mt.appendChild(T.xO);T.Rn=document.createElement('div');this.cV(T.Rn,{"data-pcc-mark":ij});T.Rn.appendChild(T.mt);T.uJ=document.createElement('body');this.cV(T.uJ,{xmlns:'http://www.w3.org/1999/xhtml',style:'margin:0;overflow:hidden;background-color:transparent;white-space:pre-wrap;',"data-pcc-mark":ij});T.uJ.appendChild(T.Rn);T.Ck=this.dC('foreignObject');T.Ck.appendChild(T.uJ);T.gN.appendChild(T.Ck);T.uJ.addEventListener("mouseover",function(V){if(T.h.get_selected()===false&&T.fK&&(V.which===0||V.buttons===0)){T.fK.style.opacity=0.5;T.mt.style.opacity=0;}},false);T.uJ.addEventListener("mouseout",function(V){if(T.fK&&(V.which===0||V.buttons===0)){if(F.G.mP()===false){T.fK.style.opacity=1;T.mt.style.opacity=1;}}},false);}T.aq.appendChild(T.fK);break;case IPCC.Web.UI.MarkType.Ellipse:T.aq=this.dC('ellipse');break;case IPCC.Web.UI.MarkType.Highlight:T.aq=this.dC('rect');break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:T.aq=this.dC('g');T.iQ=T.aq;break;case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:T.aq=this.dC('g');T.rS=this.dC('polyline');T.YW=this.dC('path');T.Yx=this.dC('path');T.aq.appendChild(T.rS);T.aq.appendChild(T.YW);T.aq.appendChild(T.Yx);T.rS.setAttribute('stroke-linejoin','miter');T.rS.setAttribute('stroke-linecap','butt');T.rS.setAttribute('stroke-miterlimit','4');break;case IPCC.Web.UI.MarkType.Polygon:T.aq=this.dC('polygon');break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.TextAreaSignature:ij="textmark-"+T.h.ll();T.aq=this.dC('g');T.Iy=this.dC('polygon');T.rS=this.dC('path');T.Tn=this.dC('path');T.gN=this.dC('g');T.aq.appendChild(T.Iy);T.aq.appendChild(T.rS);T.aq.appendChild(T.Tn);this.cV(T.Iy,{style:'stroke:none;'});T.gN.setAttribute('data-pcc-mark',ij);T.xO=document.createTextNode('');if(document.documentMode>8||IPCC.J.yP.zS){T.cU=this.dC('text');T.cU.setAttribute('data-pcc-mark',ij);T.cU.appendChild(T.xO);T.AO=this.dC('clipPath');T.BJ=this.dC('rect');T.gN.appendChild(T.AO);T.AO.appendChild(T.BJ);T.aje=this.dC('g');T.gN.appendChild(T.aje);T.gN.appendChild(T.cU);T.Jm="PCC"+IPCC.dM.CC;IPCC.dM.CC++;this.cV(T.AO,{id:T.Jm,clipPathUnits:"userSpaceOnUse"});K=T.h.get_rectangle();this.cV(T.BJ,{x:0,y:0,width:K.width,height:K.height,"data-pcc-mark":ij});}else{T.mt=document.createElement('div');T.mt.appendChild(T.xO);T.uJ=document.createElement('body');this.cV(T.uJ,{xmlns:'http://www.w3.org/1999/xhtml',style:'margin:0;overflow:hidden;background-color:transparent;white-space:pre-wrap;',"data-pcc-mark":ij});T.uJ.appendChild(T.mt);T.Ck=this.dC('foreignObject');T.Ck.appendChild(T.uJ);T.gN.appendChild(T.Ck);}T.Iy.setAttribute('data-pcc-mark',ij);break;case IPCC.Web.UI.MarkType.Stamp:T.aq=this.dC('g');T.uB=this.dC('rect');T.uB.style='fill:rgba(255, 255, 255, 0);stroke:none;';T.fK=this.dC('rect');T.Jb=this.Tf(T);T.aq.appendChild(T.uB);T.aq.appendChild(T.fK);T.aq.appendChild(T.Jb);break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:T.aq=this.dC('g');T.uB=this.dC('rect');T.uB.style='fill:rgba(255, 255, 255, 0);stroke:none;';T.fK=this.dC('rect');T.aeU=this.awB(T);T.aeU.setAttribute('data-pcc-mark',"mark-"+T.h.ll());T.aq.appendChild(T.uB);T.aq.appendChild(T.fK);T.aq.appendChild(T.aeU);break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Freehand:var h=T.h;var agV=h.fh();var bg=agV.width;var aw=agV.height;var Ht=h.get_pathWidth();var Fi=h.get_pathHeight();var tL=h.get_pathString();var gz=IPCC.J.zM.Path(tL,{width:bg,height:aw,multiplier:100,thickness:h.get_lineWidth(),color:h.get_lineColor()});var fD=IPCC.J.zM.SVG('0 0 '+Ht+' '+Fi,100);var bG=IPCC.J.zM.Rect(Ht,Fi,'fill:rgba(255, 255, 255, 0);stroke:none;');fD.appendChild(bG);fD.appendChild(gz);T.aq=fD;T.aya=gz;T.agP=bG;this.aig(T.aq,h.hL);break;case IPCC.Web.UI.MarkType.SignatureText:T.aq=this.dC('g');T.fK=this.dC('rect');T.fK.style='fill:rgba(255, 255, 255, 0);stroke:none;';T.Jb=this.Tf(T);T.aq.appendChild(T.fK);T.aq.appendChild(T.Jb);T.h.iF=false;break;case IPCC.Web.UI.MarkType.TextLine:T.aq=this.dC('g');T.fK=this.dC('rect');T.fK.style='fill:rgba(255, 255, 255, 0);stroke:none;';T.Jb=this.Tf(T);T.aq.appendChild(T.fK);T.aq.appendChild(T.Jb);break;case IPCC.Web.UI.MarkType.Strikethrough:ij="strikethroughannotation-"+T.h.ll();T.aq=this.dC('g');T.iQ=this.dC('g');T.aq.appendChild(T.iQ);T.kW=this.dC('g');T.kW.setAttribute('data-pcc-mark',ij);T.aq.appendChild(T.kW);T.wg=this.dC('g');T.wg.setAttribute('data-pcc-mark',ij);T.aq.appendChild(T.wg);break;}T.aq.ImGearMarkRelation=T;T.aq.setAttribute('data-pcc-mark',"mark-"+T.h.ll());this.bn.BE.appendChild(T.aq);if(T.gN){T.gN.ImGearMarkRelation=T;this.bn.BE.appendChild(T.gN);}this.amP(T);},Tf:function(T){var h=T.h;var DS=h.ak;if(!DS){DS=h.cI[0];if(!DS){if(h.get_type()===IPCC.Web.UI.MarkType.Stamp){DS="APPROVED";}else{DS="";}}}var K=h.fh();T.cU=this.dC('text');T.Jm="PCC"+IPCC.dM.CC;IPCC.dM.CC++;var nx=document.createTextNode(DS);T.cU.setAttribute("font-size","22px");if(h.get_type()===IPCC.Web.UI.MarkType.TextLine){T.cU.setAttribute("style",'white-space:pre;');}switch(T.h.hL){case IPCC.Web.UI.HorizontalAlignment.Left:T.cU.setAttribute('text-anchor','start');T.cU.setAttribute('x',K.x);break;case IPCC.Web.UI.HorizontalAlignment.Right:T.cU.setAttribute('text-anchor','end');T.cU.setAttribute("x",K.x+K.width);break;default:T.cU.setAttribute('text-anchor','middle');T.cU.setAttribute("x",K.x+(K.width/2));break;}T.cU.setAttribute('y',K.y+(K.height/2));T.cU.appendChild(nx);return T.cU;},awB:function(T){var h=T.h;T.aeI=document.createElementNS('http://www.w3.org/2000/svg','svg');T.xG=document.createElementNS('http://www.w3.org/2000/svg','image');T.xG.setAttribute('id','childimg');T.xG.setAttributeNS('http://www.w3.org/1999/xlink','href',h.get_image());T.aeI.appendChild(T.xG);return T.aeI;},awa:function(T,hL){var h=T.h;var K=h.fh();var ak=h.ak;var Kz=ak.split('\n');var cU=T.cU;var So=0;var SL=0;var Zt=0;var wX=0;var aiz=0;var aiZ=this.Kb/72;var agL=h.dK*aiZ;var wU=[];var aBP=/(.*\s)(.*)/;var nx,ja,Gj,DU,_parent,ajM,Hb,Ff,acm,Ah,akD,FK;ajM=cU.childNodes.length;if(ajM>=1){_parent=cU.parentNode;Hb=this.dC('text');Hb.setAttribute('data-pcc-mark',T.gN.getAttribute('data-pcc-mark'));Hb.setAttribute('width',T.gN.getAttribute('width')-T.h.fC);_parent.replaceChild(Hb,cU);T.cU=Hb;T.cU.appendChild(T.xO);T.gN.appendChild(T.cU);cU={};cU=T.cU;}cU.style.fontSize=h.dK*this.Kb/72+'px';cU.style.fontFamily=h.gb;cU.width-=4;Ff=(h.fC/2);if(hL){switch(hL){case IPCC.Web.UI.HorizontalAlignment.Center:Ff=(K.width/2)-(h.fC/2);break;case IPCC.Web.UI.HorizontalAlignment.Right:Ff=K.width-h.fC;break;}}for(var R=0;R<Kz.length;R++){Ah='';akD=1;if(Kz[R].length>0){Gj=Kz[R].split('');ja=this.dC('tspan');ja.setAttributeNS(null,"x",Ff);if(R>0){ja.setAttributeNS(null,"dy",agL*(Zt+1));}nx=window.document.createTextNode(Gj[0]);ja.appendChild(nx);cU.appendChild(ja);for(var bM=1;bM<Gj.length;bM++){aiz=ja.firstChild.data.length;DU=Gj[bM];ja.firstChild.data+=Gj[bM];Ah+=DU;acm=Ah.length*(h.dK*aiZ);So=ja.getComputedTextLength();if(So===0){SL=acm;}else{SL=So;}if(SL>=(K.width-h.fC-2)){akD++;Ah='';FK=ja.firstChild.data.match(aBP);if(FK){DU=FK[2];}if(FK&&FK[1].length>0){ja.firstChild.data=FK[1];Ah+=DU;}else{ja.firstChild.data=ja.firstChild.data.slice(0,aiz);Ah+=DU;}if(Ah.length>=1){wU.push({as:wX,ako:ja});ja=this.dC('tspan');ja.setAttributeNS(null,"x",Ff);ja.setAttributeNS(null,"dy",agL);nx=window.document.createTextNode(DU);ja.appendChild(nx);cU.appendChild(ja);}}}if(ja.firstChild.data.length>0){wU.push({as:wX,ako:ja});}wX+=ja.firstChild.data.length+1;Zt=0;}else{Zt++;}}return wU;},aDM:function(kN,ajR,iQ,wX){if(kN.length>0){var aif=ajR.getNumberOfChars();if(kN[0].as>wX+aif){return;}for(var R=Math.max(kN[0].as-wX,0);R<aif;R++){var K=ajR.getExtentOfChar(R);var bG=this.dC('rect');this.cV(bG,{x:K.x,y:K.y,width:K.width,height:K.height,fill:kN[0].EJ});iQ.appendChild(bG);if(kN[0].cL===R+wX){kN.shift();if(kN.length===0){return;}R=kN[0].as-wX-1;}}}},Ea:function(ce,sq,rV){var gz='M',R;for(R=0;R<sq.length;R++){if(R>0){gz+=' L';}gz+=sq[R].x+','+sq[R].y;}if(rV){gz+='Z';}this.cV(ce,{d:gz});},Su:function(ce,sq,rV){var Mw='',R;for(R=0;R<sq.length;R++){if(R>0){Mw+=' ';}Mw+=sq[R].x+','+sq[R].y;}if(rV&&sq.length>2){Mw+=' '+sq[0].x+','+sq[0].y;}this.cV(ce,{points:Mw});},ama:function(hm,kC,zt,sZ,AD,YZ,FC){var dP=this.awL(hm,kC,zt,sZ,AD);var dY='';dY+='stroke:'+YZ+';';switch(AD){case IPCC.Web.UI.LineHeadType.None:dY='display:none;';break;case IPCC.Web.UI.LineHeadType.Pointer:this.Ea(FC,[dP.DY,hm,dP.En],false);break;case IPCC.Web.UI.LineHeadType.Solid:this.Ea(FC,[dP.DY,hm,dP.En],true);dY+='fill:'+YZ+';';break;case IPCC.Web.UI.LineHeadType.Open:this.Ea(FC,[dP.DY,hm,dP.En],true);break;case IPCC.Web.UI.LineHeadType.PointerSolid:this.Ea(FC,[dP.DY,hm,dP.En,dP.Go],true);dY+='fill:'+YZ+';';break;}this.cV(FC,{style:dY});return dP;},anz:function(T){var h=T.h;var aX,gS,R,aer,ahL,iu='',Du;aX=h.get_points();gS=[];for(R=0;R<aX.get_length();R++){gS.push(aX.getPoint(R));}if(gS.length<2||h.rV){this.cV(T.YW,{style:'display:none;'});this.cV(T.Yx,{style:'display:none;'});}else{h.zN=h.kp;Du=this.aan(gS,true);aer=this.ama(Du.hm,Du.kC,h.Jj,h.JI,h.HQ,h.zN,T.YW);Du=this.aan(gS,false);ahL=this.ama(Du.hm,Du.kC,h.Ic,h.Im,h.oG,h.zN,T.Yx);gS[0]=aer.Go;gS[gS.length-1]=ahL.Go;}this.Su(T.rS,gS,h.rV);var xR=this.abe(h.iu);if(xR!==''){iu+='stroke-dasharray:'+xR+';';}this.cV(T.rS,{style:iu});},amw:function(T){var Bl=this.awT(T);this.Su(T.Iy,Bl.ajb,false);var aiK='',iu='fill:none;',pS='fill:none;';if(Bl.Yr){aiK='stroke:none;';}if(Bl.QB){this.Ea(T.rS,Bl.QB,false);}else{iu+='display:none;';}if(Bl.Pb){this.Ea(T.Tn,Bl.Pb,false);}else{pS+='display:none;';}var h=T.h;if(h.Az){pS+='stroke:'+h.EA+';stroke-width:'+h.EG+';';var xR=this.abe(h.pS);if(xR!==''){pS+='stroke-dasharray:'+xR+';';}}this.cV(T.rS,{style:iu});this.cV(T.Tn,{style:pS});this.cV(T.Iy,{style:aiK});},Xc:function(T){var h=T.h,DI;if(!h){return;}var K=h.fh();var Ga=h.dK*this.Kb/72;h.Ga=Ga;var pE=K.width,qX=K.height,Fh=false,eK;var gX,fd=0,fj=0;var ut=1;if(h.iF){ut+=h.fC/2;}switch(h.ye){case IPCC.Web.UI.Orientation.TopLeft:gX='1,0,0,1';break;case IPCC.Web.UI.Orientation.TopRight:gX='-1,0,0,1';fd=pE-ut;break;case IPCC.Web.UI.Orientation.BottomRight:gX='-1,0,0,-1';fd=pE-ut;fj=qX-ut;break;case IPCC.Web.UI.Orientation.BottomLeft:gX='1,0,0,-1';fj=qX-ut;break;case IPCC.Web.UI.Orientation.LeftTop:gX='0,1,1,0';Fh=true;break;case IPCC.Web.UI.Orientation.RightTop:gX='0,1,-1,0';fd=pE-ut;Fh=true;break;case IPCC.Web.UI.Orientation.RightBottom:gX='0,-1,-1,0';fd=pE-ut;fj=qX-ut;Fh=true;break;case IPCC.Web.UI.Orientation.LeftBottom:gX='0,-1,1,0';fj=qX-ut;Fh=true;break;}if(h.cj==="#c0c0c0"){h.cj='#ffffff';}if(h.get_type()===IPCC.Web.UI.MarkType.Text){if(h.iy()===true){h.cj='#ffffff';}else{h.set_opacity(h.dk);}}if(Fh){eK=pE;pE=qX;qX=eK;}if(pE<0){pE=0;}if(qX<0){qX=0;}var YC='normal';var cE='normal';var lU='';var sK;lU+='word-wrap:break-word;background-color:transparent;line-height:1;';var xg=0;if(h.ro.length===7&&h.ro.charAt(0)==='#'){xg=parseInt(h.ro.slice(1),16);}var dk=Math.min(1,Math.max(0,h.yj/255));if(document.documentMode>8||IPCC.J.yP.zS){cE='normal';if(h.cE&IPCC.Web.UI.FontStyle.Italic){cE='italic';}YC='normal';if(h.cE&IPCC.Web.UI.FontStyle.Bold){YC='bold';}sK='none';if((h.cE&IPCC.Web.UI.FontStyle.Underline)&&(h.cE&IPCC.Web.UI.FontStyle.Strikeout)){sK='underline line-through';}else if(h.cE&IPCC.Web.UI.FontStyle.Underline){sK='underline';}else if(h.cE&IPCC.Web.UI.FontStyle.Strikeout){sK='line-through';}}else{lU+='color:rgba('+(xg>>16)+','+((xg>>8)&255)+','+(xg&255)+','+dk+');';lU+='font-family:'+h.gb+';';lU+='font-size:'+Ga+'px;';if(h.cE&IPCC.Web.UI.FontStyle.Italic){lU+='font-style:italic;';}if(h.cE&IPCC.Web.UI.FontStyle.Bold){lU+='font-weight:bold;';}if((h.cE&IPCC.Web.UI.FontStyle.Underline)&&(h.cE&IPCC.Web.UI.FontStyle.Strikeout)){lU+='text-decoration:underline line-through;';}else if(h.cE&IPCC.Web.UI.FontStyle.Underline){lU+='text-decoration:underline;';}else if(h.cE&IPCC.Web.UI.FontStyle.Strikeout){lU+='text-decoration:line-through;';}}var DJ={x:2,anchor:'start'};switch(h.hL){case IPCC.Web.UI.HorizontalAlignment.Left:lU+='text-align:left;';break;case IPCC.Web.UI.HorizontalAlignment.Center:lU+='text-align:center;';DJ.x=(K.width/2)-3;DJ.anchor='middle';break;case IPCC.Web.UI.HorizontalAlignment.Right:lU+='text-align:right;';DJ.x=K.width-8;DJ.anchor='end';break;default:break;}if(typeof document.documentMode==='undefined'&& !IPCC.J.yP.zS){switch(h.xb){case IPCC.Web.UI.VerticalAlignment.Center:if(h.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){this.cV(T.Rn,{style:'display:table; width: 100%;'});lU+='display: table-cell; white-space: normal; vertical-align: middle; height:'+qX+'px;';}break;case IPCC.Web.UI.VerticalAlignment.Bottom:break;default:break;}this.cV(T.mt,{style:lU+'padding:2px;'});this.cV(T.gN,{transform:'matrix('+gX+','+(fd+K.x+(h.fC/2))+','+(fj+K.y+(h.fC/2))+')',});this.cV(T.Ck,{x:0,y:0,width:pE>h.fC?pE-h.fC:pE,height:qX>h.fC?qX-h.fC:qX,});this.anK(T);}else{var wU=this.awa(T,h.hL);var aiC=wU.length;switch(h.xb){case IPCC.Web.UI.VerticalAlignment.Center:if(h.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){DI=(K.height/2)+(h.dK/4);if(aiC>1){DI-=(aiC-1)*(h.dK/2);}if(DI<0){DI=h.dK;}}break;case IPCC.Web.UI.VerticalAlignment.Bottom:break;default:break;}this.cV(T.BJ,{x:0,y:0,width:K.width-h.fC,height:K.height-h.fC});var ayd="url(#"+T.Jm+")";var Xf={x:DJ.x,y:(this.Kb/72)*h.dK,width:K.width-h.fC,height:K.height-h.fC,'font-family':h.gb,'font-size':Ga,fill:'rgba('+(xg>>16)+', '+((xg>>8)&255)+', '+(xg&255)+', '+dk+')','font-weight':YC,'font-style':cE,'text-decoration':sK,'text-anchor':DJ.anchor};if(typeof DI!=='undefined'){delete Xf.y;Xf.dy=DI;}this.cV(T.cU,Xf);T.cU.style.opacity=dk;this.cV(T.gN,{transform:'matrix('+gX+','+(fd+K.x+(h.fC/2))+','+(fj+K.y+(h.fC/2))+')','clip-path':ayd});var iQ=T.aje;while(iQ&&iQ.firstChild){iQ.removeChild(iQ.firstChild);}if(h.eN){var kN=this.amM(h.eN);for(var R=0;R<wU.length;R++){this.aDM(kN,wU[R].ako,iQ,wU[R].as);}}}},WB:function(T){var h=T.h;if(h.bj===null||h.bj===undefined){return;}if(h.bj.length===0&&h.cR>0&&this.G.dg().mW()){h.bj=IPCC.J.Ue(this.G.dg().gQ(),h.as,h.as+h.cR-1);}if(!T.as|| !T.cR||T.as!==h.as||T.cR!==h.cR||h.de===false||h.de===true){while(T.kW.firstChild){T.kW.removeChild(T.kW.firstChild);}if(T.jN){while(T.jN.firstChild){T.jN.removeChild(T.jN.firstChild);}}if(T.wg){while(T.wg.firstChild){T.wg.removeChild(T.wg.firstChild);}}if(h.de===false){return;}IPCC.J.forEach(T.h.bj,function(gA){var aah=this.dC('rect');T.kW.appendChild(aah);this.cV(aah,{x:gA.x,y:gA.y,width:gA.width,height:gA.height});if(T.jN){var wE=this.dC('line');this.cV(wE,{x1:gA.x,y1:gA.y+gA.height-1,x2:gA.x+gA.width,y2:gA.y+gA.height-1,"stroke-width":2});T.jN.appendChild(wE);}if(T.wg){aah.setAttribute('fill','transparent');var ahF=this.dC('line');var strikethroughY=gA.y+(gA.height/2);this.cV(ahF,{x1:gA.x,y1:strikethroughY,x2:gA.x+gA.width,y2:strikethroughY,stroke:T.h.kp,"stroke-width":T.h.fC});T.wg.appendChild(ahF);}},this);T.as=h.as;T.cR=h.cR;}},amP:function(T){var h=T.h;if(!h){return;}var aq=T.aq;var K,dY='',aX,iF=true,mD,wV,wT,YJ,wd,EP;var jO=false;switch(h.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:jO=true;this.anz(T);break;case IPCC.Web.UI.MarkType.Rectangle:K=h.get_rectangle();this.cV(aq,{x:K.x,y:K.y,width:K.width,height:K.height});break;case IPCC.Web.UI.MarkType.HighlightText:this.WB(T);T.kW.style.fill=h.cj;T.kW.style.opacity=(h.dk/255);this.Pd(T);break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:this.WB(T);T.kW.style.fill=h.cj;T.jN.style.stroke=h.cj;if(T.h.get_selected()){T.jN.style.opacity=IPCC.dM.dw.IA(false,T.h.get_selected());}else{T.jN.style.opacity=IPCC.dM.dw.IA(false,T.h.get_selected());}this.Pd(T);break;case IPCC.Web.UI.MarkType.DocumentHyperlink:K=h.get_rectangle();this.cV(T.K,{x:K.x,y:K.y,width:K.width,height:K.height});if(T.wE){this.cV(T.wE,{x1:K.x,y1:K.y+K.height,x2:K.x+K.width,y2:K.y+K.height});}break;case IPCC.Web.UI.MarkType.RectangleRedaction:if(typeof T.fK!=='undefined'){if(this.G.mP()===true){T.fK.style.opacity=0.5;if(typeof T.mt!=='undefined'){T.mt.style.opacity=0;}else{T.cU.style.opacity=0;}}else{T.fK.style.opacity=1;if(typeof T.mt!=='undefined'){T.mt.style.opacity=1;}}}K=h.get_rectangle();this.cV(aq,{x:K.x,y:K.y,width:K.width,height:K.height});this.cV(T.fK,{x:K.x,y:K.y,width:K.width,height:K.height});if(this.G.mP()===false){this.Xc(T);}break;case IPCC.Web.UI.MarkType.Ellipse:K=h.get_rectangle();this.cV(aq,{cx:K.x+K.width/2,cy:K.y+K.height/2,rx:K.width/2,ry:K.height/2});break;case IPCC.Web.UI.MarkType.Polygon:aX=this.Zw(h);this.Su(aq,aX,false);dY+='fill-rule:evenodd;';break;case IPCC.Web.UI.MarkType.Text:this.amw(T);this.Xc(T);break;case IPCC.Web.UI.MarkType.TextAreaSignature:var cz=IPCC.J.abW();var qI=IPCC.J.adn();qI.nodeValue=h.get_text();var jx=h.jx;var bU=this.G.na().iY();K=h.get_rectangle();cz.style.width=(K.width-h.fC/2)+'px';cz.style.height=(K.height-h.fC/2)+'px';cz.style.fontFamily=h.gb;cz.style.padding='2px';cz.style.fontStyle=h.cE;h.dK=IPCC.J.Yy(cz,jx,bU)*72/this.Kb;this.amw(T);this.Xc(T);break;case IPCC.Web.UI.MarkType.Stamp:K=h.get_rectangle();this.cV(aq,{x:K.x,y:K.y,width:K.width,height:K.height});this.cV(T.uB,{x:K.x,y:K.y,width:K.width,height:K.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});T.uB.style.opacity=1;this.cV(T.fK,{x:K.x,y:K.y,width:K.width,height:K.height,'stroke':h.cj,'stroke-width':'5','fill':'none','rx':10,'ry':10});var textFontSize=(K.width/6);if(textFontSize>K.height){textFontSize=(K.height-(K.height/6));}mD=T.h.get_text();if(!mD){mD='APPROVED';}T.cU.childNodes[0].data=mD;var sb=mD.length*textFontSize;if(sb>K.width){textFontSize=((K.width/mD.length));}EP=Math.round(textFontSize);h.stampSize=EP.toString();this.cV(T.cU,{x:K.x+(K.width/2),y:K.y+(K.height/2+(textFontSize/3)),'font-size':textFontSize,'stroke':h.cj,'font-family':"Arial"});break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:K=h.get_rectangle();this.cV(aq,{x:K.x,y:K.y,width:K.width,height:K.height});this.cV(T.uB,{x:K.x,y:K.y,width:K.width,height:K.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});T.uB.style.opacity=1;this.cV(T.fK,{x:K.x,y:K.y,width:K.width,height:K.height,'stroke':h.cj,'stroke-width':'0','fill':'none'});T.xG.setAttribute('height',K.height);T.xG.setAttribute('width',K.width);T.xG.setAttribute('x',K.x);T.xG.setAttribute('y',K.y);T.xG.setAttributeNS('http://www.w3.org/1999/xlink','href',h.get_image());break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:this.Pd(T);break;case IPCC.Web.UI.MarkType.Highlight:K=h.get_rectangle();if(K.x===0&&K.y===0){var gY=this.G.dg().gQ();if(gY.fq()>0){var eO=gY.kA(h.as);K=eO.bV;}h.iS='y';}this.cV(aq,{x:K.x,y:K.y,width:K.width,height:K.height});break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Freehand:K=h.get_rectangle();this.cV(aq,{x:K.x,y:K.y,width:K.width,height:K.height});var Ml=T.aya;if(h.afv===true){h.afv=false;Ml.setAttribute("d",h.get_pathString());var Ht=h.get_pathWidth();var Fi=h.get_pathHeight();aq.setAttribute('viewBox','0 0 '+Ht+' '+Fi);T.agP.setAttribute('width',Ht);T.agP.setAttribute('height',Fi);}if(h.get_visible()){T.aq.style.display='block';}else{T.aq.style.display='none';}this.aig(T.aq,h.hL);Ml.style.stroke=h.get_lineColor();Ml.style.strokeWidth=h.get_lineWidth()+'px';Ml.style.opacity=h.get_opacity()/255;break;case IPCC.Web.UI.MarkType.SignatureText:K=h.get_rectangle();this.cV(aq,{x:K.x,y:K.y,width:K.width,height:K.height});this.cV(T.fK,{x:K.x,y:K.y,width:K.width,height:K.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});T.fK.style.opacity=1;var aoV=T.h.get_text()||"";T.cU.childNodes[0].data=aoV;wV=12*K.width/(h.yb||1);wT=12*K.height/(h.yw||1);wd=Math.min(wV,wT);var arj=Math.floor(wd);h.stampSize=arj.toString();switch(h.hL){case IPCC.Web.UI.HorizontalAlignment.Left:T.cU.setAttribute('text-anchor','start');T.cU.setAttribute('x',K.x);break;case IPCC.Web.UI.HorizontalAlignment.Right:T.cU.setAttribute('text-anchor','end');T.cU.setAttribute("x",K.x+K.width);break;default:T.cU.setAttribute('text-anchor','middle');T.cU.setAttribute("x",K.x+(K.width/2));break;}this.cV(T.cU,{y:K.y+(K.height/2+(wd/3)),'font-size':wd,'stroke':"none",'fill':h.get_fillColor(),'font-family':h.get_fontName()});if(h.get_visible()){T.aq.style.display='block';}else{T.aq.style.display='none';}break;case IPCC.Web.UI.MarkType.TextLine:this.cV(aq,{style:'fill:none;opacity:1;'+h.de?'display:block;':'display:none;'});K=h.get_rectangle();this.cV(aq,{x:K.x,y:K.y,width:K.width,height:K.height});dY='stroke:'+(h.iF?'black':'none')+';stroke-width:1;';this.cV(T.fK,{x:K.x,y:K.y,width:K.width,height:K.height,'stroke':h.iF?'black':'none','fill':'rgba(255, 255, 255, 0)','style':dY});T.cU.style.opacity=1;mD=T.h.get_text()||"";T.cU.childNodes[0].data=mD;YJ=IPCC.J.amE(mD,h.get_fontName(),K.width,K.height,{vx:"pre",fD:T.aq});wd=YJ.fontSize;h.Ga=wd;h.stampSize=wd;h.Fz=true;h.pr=YJ;switch(h.hL){case IPCC.Web.UI.HorizontalAlignment.Center:T.cU.setAttribute('text-anchor','middle');T.cU.setAttribute("x",K.x+(K.width/2));break;case IPCC.Web.UI.HorizontalAlignment.Right:T.cU.setAttribute('text-anchor','end');T.cU.setAttribute("x",K.x+K.width);break;default:T.cU.setAttribute('text-anchor','start');T.cU.setAttribute('x',K.x);break;}this.cV(T.cU,{y:K.y+(K.height/2+(wd/3)),'font-size':wd,'stroke':"none",'fill':h.get_textColor(),'font-family':h.get_fontName(),'white-space':'pre'});break;case IPCC.Web.UI.MarkType.Strikethrough:this.WB(T);this.Pd(T);break;default:throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('type',h.get_type());}if(h.get_type()!==IPCC.Web.UI.MarkType.SignaturePath&&h.get_type()!==IPCC.Web.UI.MarkType.Freehand&&h.get_type()!==IPCC.Web.UI.MarkType.SignatureText&&h.get_type()!==IPCC.Web.UI.MarkType.HighlightText&&h.get_type()!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation&&h.get_type()!==IPCC.Web.UI.MarkType.DocumentHyperlink&&h.get_type()!==IPCC.Web.UI.MarkType.Strikethrough&&h.get_type()!==IPCC.Web.UI.MarkType.TextSelectionRedaction){if(jO){dY+='fill:none;';}else{if(h.Hu){dY+='fill:'+h.cj+';';}else{dY+='fill:none;';}iF=h.iF;var xR=this.abe(h.iu);if(xR!==''){dY+='stroke-dasharray:'+xR+';';}}if(iF){dY+='stroke:'+h.get_lineColor()+';';dY+='stroke-width:'+h.fC+';';}else{dY+='stroke:none;';}if(h.get_type()===IPCC.Web.UI.MarkType.SignatureText){dY+='opacity:'+1+';';}else{dY+='opacity:'+(h.dk/255)+';';}if(!h.de){dY+='display:none;';if(T.gN){T.gN.style.display='none';}}else{if(T.gN){T.gN.style.display='block';}}this.cV(aq,{style:dY});}if(h.get_type()===IPCC.Web.UI.MarkType.Freehand){if(!h.de){dY+='display:none;';}else{dY+='display:block;';}this.cV(aq,{style:dY});}var aR;if(!this.G.get_areMarksEditable()){aR=this.G.get_cursor();}else if(h.mY===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled&&h.get_type()!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation&&h.get_type()!==IPCC.Web.UI.MarkType.DocumentHyperlink){aR='default';}else if(h.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||h.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink){aR=IPCC.aW.Link;}else if(h.get_type()!==IPCC.Web.UI.MarkType.Highlight&&h.get_type()!==IPCC.Web.UI.MarkType.HighlightText&&h.get_type()!==IPCC.Web.UI.MarkType.Strikethrough&&h.get_type()!==IPCC.Web.UI.MarkType.TextSelectionRedaction&& !(h.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&h.aY)){aR=IPCC.aW.Move;}else{aR=IPCC.aW.Arrow;}aq.style.cursor=IPCC.aW.dX(aR);if(T.gN){T.gN.style.cursor=IPCC.aW.dX(aR);}},aig:function(aq,IE){switch(IE){case IPCC.Web.UI.HorizontalAlignment.Left:aq.setAttribute('preserveAspectRatio','xMinYMid');break;case IPCC.Web.UI.HorizontalAlignment.Center:aq.setAttribute('preserveAspectRatio','xMidYMid');break;case IPCC.Web.UI.HorizontalAlignment.Right:aq.setAttribute('preserveAspectRatio','xMaxYMid');break;}},Pd:function(T){var h=T.h,aBW=h.get_visible();var K=h.get_rectangle();if(K.x===0&&K.y===0){return;}var iQ=T.iQ;while(iQ.firstChild){iQ.removeChild(iQ.firstChild);}var ia;for(var R=0;R<h.eN.length;R++){for(var bM=0;bM<h.eN[R].length;bM++){var ahZ=this.G.dg().gQ();if(ahZ.fq()>0){var axe=ahZ.kA(h.eN[R].startIndex+bM);ia=axe.bV;}var bG=this.dC('rect');this.cV(bG,{x:ia.x,y:ia.y,width:ia.width,height:ia.height,fill:h.eN[R].color,display:(aBW)?'block':'none'});bG.style.opacity=(h.eN[R].opacity)?(h.eN[R].opacity)/255.0:0.5;iQ.appendChild(bG);}}},abe:function(iu){switch(iu){case IPCC.Web.UI.LineStyle.Dash:return '7,7';case IPCC.Web.UI.LineStyle.Dot:return '1,7';case IPCC.Web.UI.LineStyle.DashDot:return '7,7,1,7';case IPCC.Web.UI.LineStyle.DashDotDot:return '7,7,1,7,1,7';default:break;}return '';},QY:function(T){if(T.aq){this.bn.BE.removeChild(T.aq);}if(T.gN){this.bn.BE.removeChild(T.gN);}delete T.aq;},aID:function(){},asC:function(){this.bn=undefined;},dC:function(ao){return document.createElementNS('http://www.w3.org/2000/svg',ao);},cV:function(aq,bL){var R;for(R in bL){if(bL.hasOwnProperty(R)){var attr=bL[R];aq.setAttribute(R,attr!==undefined&&attr!==null?attr.toString():'');}}}};module.exports=alV;},{}],18:[function(require,module,exports){var Ny=require('./ArtSVGUIDirector');var dw=Ny;dw.IA=function(isMouseOver,isSelected){return(isSelected?127:(isMouseOver?127:63))/255;};dw.afd=function(){return 39/255;};dw.aFJ=function(isSelected){return isSelected?"purple":"blue";};dw.prototype.awL=function(hm,kC,zt,sZ,AD){var dP={hm:hm,kC:kC,zt:zt,sZ:sZ,AD:AD};if(hm.x===kC.x&&hm.y===kC.y){dP.AD=IPCC.Web.UI.LineHeadType.None;}var NR=Math.atan2(hm.x-kC.x,-(hm.y-kC.y))+Math.PI/2;zt*=Math.PI/180;var iR=NR+zt;dP.DY={x:hm.x+Math.cos(iR)*sZ,y:hm.y+Math.sin(iR)*sZ};iR=NR-zt;dP.En={x:hm.x+Math.cos(iR)*sZ,y:hm.y+Math.sin(iR)*sZ};switch(dP.AD){case IPCC.Web.UI.LineHeadType.Solid:case IPCC.Web.UI.LineHeadType.Open:dP.Go={x:(dP.DY.x+dP.En.x)/2,y:(dP.DY.y+dP.En.y)/2};break;case IPCC.Web.UI.LineHeadType.PointerSolid:dP.Go={x:hm.x+Math.cos(NR)*sZ/2,y:hm.y+Math.sin(NR)*sZ/2};break;default:dP.Go=hm;break;}return dP;};dw.prototype.awT=function(T){var h=T.h;var K=h.get_rectangle();var Ie={x:h.lJ.x+K.x+0.00001,y:h.lJ.y+K.y+0.00001};var bC={};var gJ=[{x:K.x,y:K.y},{x:K.x+K.width,y:K.y},{x:K.x+K.width,y:K.y+K.height},{x:K.x,y:K.y+K.height}];if(!h.yR){bC.ajb=gJ;bC.Yr= !h.iF;return bC;}var R,afe=[];for(R=0;R<4;R++){afe.push({x:(gJ[R].x+gJ[(R+3)%4].x)/2,y:(gJ[R].y+gJ[(R+3)%4].y)/2,aCN:true});}for(R=3;R>=0;R--){gJ.splice(R,0,afe[R]);}function acH(PO){var wj,ajK;wj=(Ie.x-(gJ[PO].x+gJ[(PO+1)%8].x)/2)*K.height;ajK=wj*wj;wj=(Ie.y-(gJ[PO].y+gJ[(PO+1)%8].y)/2)*K.width;return ajK+wj*wj;};var Uf=0,acA=acH(0),gW;for(R=1;R<8;R++){gW=acH(R);if(gW<acA){acA=gW;Uf=R;}}gJ=gJ.slice(Uf+1).concat(gJ.slice(0,Uf+1));var FW=gJ[0],FN=gJ[7];for(R=gJ.length-1;R>=0;R--){if(gJ[R].aCN){gJ.splice(R,1);}}switch(h.BN){case IPCC.Web.UI.CalloutType.Triangle:gJ.splice(0,0,{x:(FW.x*3+FN.x)/4,y:(FW.y*3+FN.y)/4});gJ.push({x:(FW.x+FN.x*3)/4,y:(FW.y+FN.y*3)/4});if(h.Az){bC.Yr=true;bC.QB=[].concat(gJ);bC.Pb=[gJ[0],Ie,gJ[gJ.length-1]];}gJ.push(Ie);break;default:case IPCC.Web.UI.CalloutType.Line:bC.Pb=[{x:(FW.x+FN.x)/2,y:(FW.y+FN.y)/2},Ie];break;}bC.ajb=gJ;if(!h.iF){bC.Yr=true;delete bC.QB;delete bC.Pb;}return bC;};dw.prototype.Zw=function(h){var aX=h.get_points();var gS=[],R;for(R=0;R<aX.get_length();R++){gS.push(aX.getPoint(R));}return gS;};dw.prototype.aan=function(gS,aEv){var an=0,Mk=1,adC=gS.length-2,hm,kC;if(!aEv){an=gS.length-1;Mk= -1;}hm=gS[an];an+=Mk;kC=gS[an];an+=Mk;while(hm.x===kC.x&&hm.y===kC.y&&adC>0){kC=gS[an];an+=Mk;adC--;}return{hm:hm,kC:kC};};dw.prototype.amf=function(G,bn,bz,kb){if(IPCC.J.aaF){return;}if(!bn.mj){bn.mj=[];}var mj=bn.mj;if(bz.length<1&&mj.length<1){if(bn.yY.firstChild){bn.yY.innerHTML='';}return;}var bN=G.eP();var fw=bN.Ak();if(this.hx===undefined){this.hx=40;var yU=document.createElement("div");yU.className='pccMarkHandleTopLeft';yU.visibility='hidden';document.body.appendChild(yU);if(yU.currentStyle){this.hx=parseInt(yU.currentStyle.width,10)||0;}else if(document.defaultView&&document.defaultView.getComputedStyle){var aEw=document.defaultView.getComputedStyle(yU);this.hx=parseInt(aEw.width,10)||0;}document.body.removeChild(yU);}var R,Gt=[];for(R=0;R<bz.length;R++){if(bz[R].get_visible()===true){if(fw.HW(bz[R])>=0||(bz[R].get_selected()===true&&(bz[R].jK===true||bz[R].kV===true))||bz[R].xW===true){Gt.push(bz[R]);}}}for(R=0;R<mj.length;R++){while(R<mj.length&&(R>=Gt.length||mj[R].h!==Gt[R])){bn.yY.removeChild(mj[R].hq);mj.splice(R,1);}if(R<mj.length){this.anf(mj[R],kb);}}for(R=mj.length;R<Gt.length;R++){mj[R]={h:Gt[R]};this.ayW(bn.yY,mj[R]);this.anf(mj[R],kb);}};dw.prototype.vW=function(hq,avn,Dn,uc,ars,aR,cc){var dE=[],R,bq;if(cc===undefined){cc='handle';}for(R=0;R<avn;R++){bq={aq:document.createElement('div')};bq.aq.ImGearMarkHandle=bq;bq.aR=aR;bq.ao=uc;bq.an=ars+R;hq.appendChild(bq.aq);bq.aq.setAttribute('data-pcc-mark',cc+'-'+hq.ImGearMarkRelation.h.ll());dE.push(bq);}return dE;};dw.prototype.aoD=function(dr){if(dr.dE===undefined||this.G.get_areMarksEditable()===false){return;}var R;for(R=0;R<dr.dE.length;R++){var bq=dr.dE[R];bq.aq.style.cursor=IPCC.aW.dX(bq.aR);}};dw.prototype.ayW=function(yY,dr){dr.hq=document.createElement('div');dr.hq.style.width='0px';dr.hq.style.height='0px';dr.hq.style.left='0px';dr.hq.style.top='0px';dr.hq.style.zIndex='1';var R,h=dr.h,bq;dr.hq.ImGearMarkRelation=dr;switch(h.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:dr.dE=this.vW(dr.hq,2,this.hx,this.Hg,0,IPCC.aW.Move);dr.dE=dr.dE.concat(this.vW(dr.hq,2,this.hx,this.Jn,0,IPCC.aW.Move));break;case IPCC.Web.UI.MarkType.Polygon:dr.dE=[];break;case IPCC.Web.UI.MarkType.Freehand:dr.dE=[];dr.ik=document.createElement('div');dr.ik.style.border='1px solid gray';dr.ik.style.position='absolute';dr.hq.appendChild(dr.ik);break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:if(h.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&h.aY!==undefined){break;}dr.ik=document.createElement('div');dr.ik.style.border='1px solid gray';dr.ik.style.position='absolute';dr.hq.appendChild(dr.ik);dr.dE=this.vW(dr.hq,4,this.hx,this.UH,0,-1);dr.dE=dr.dE.concat(this.vW(dr.hq,4,this.hx,this.Vc,0,-1));for(R=4;R<8;R++){bq=dr.dE[R];bq.awS=dr.dE[R-4];bq.avW=dr.dE[(R+1)%4];}if(h.get_type()===IPCC.Web.UI.MarkType.Text){dr.dE=dr.dE.concat(this.vW(dr.hq,1,this.hx,this.Tj,0,IPCC.aW.Move));}break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:dr.dE=this.vW(dr.hq,1,this.hx,this.Hg,0,IPCC.aW.Move,'texthandlestart');dr.dE=dr.dE.concat(this.vW(dr.hq,1,this.hx,this.Hg,1,IPCC.aW.Move,'texthandleend'));break;}if(h.iH()===IPCC.Web.UI.MarkType.Text||h.iH()===IPCC.Web.UI.MarkType.TextLine||h.iH()===IPCC.Web.UI.MarkType.TextAreaSignature){var pl=document.createElement('div');pl.className='pccEditMarkButton';pl.setAttribute('data-pcc-mark','edit-'+h.ll());pl.onclick=function(bP){bP=bP||{};bP.stopPropagation?bP.stopPropagation():bP.cancelBubble=true;bP.preventDefault?bP.preventDefault():bP.returnValue=false;var nF;var uR=dr.hq;while(uR&&(uR.parentNode||uR.ownerSVGElement)){if(uR.parentNode.id&&uR.parentNode.id.indexOf("__pViewId")!== -1){nF=uR.parentNode;}uR=uR.ownerSVGElement||uR.parentNode;}nF&&nF.bw.ayY(bP,h);};dr.hq.appendChild(pl);var axY={aq:pl};dr.dE.push(axY);}yY.appendChild(dr.hq);};dw.la={TopLeft:0,TopRight:1,BottomLeft:2,BottomRight:3,TopCenter:4,MidRight:5,BottomCenter:6,MidLeft:7,Point:8,TextSelectionStart:9,TextSelectionEnd:10,Callout:11};dw.prototype.UH=0;dw.prototype.Vc=1;dw.prototype.Jn=2;dw.prototype.Hg=3;dw.prototype.Tj=4;dw.prototype.aiL=function(bq,aDQ){switch(aDQ){case IPCC.dM.dw.la.TopLeft:bq.aq.className='pccMarkHandleTopLeft';break;case IPCC.dM.dw.la.TopCenter:bq.aq.className='pccMarkHandleTopCenter';break;case IPCC.dM.dw.la.TopRight:bq.aq.className='pccMarkHandleTopRight';break;case IPCC.dM.dw.la.MidLeft:bq.aq.className='pccMarkHandleMidLeft';break;case IPCC.dM.dw.la.MidRight:bq.aq.className='pccMarkHandleMidRight';break;case IPCC.dM.dw.la.BottomLeft:bq.aq.className='pccMarkHandleBottomLeft';break;case IPCC.dM.dw.la.BottomCenter:bq.aq.className='pccMarkHandleBottomCenter';break;case IPCC.dM.dw.la.BottomRight:bq.aq.className='pccMarkHandleBottomRight';break;case IPCC.dM.dw.la.Point:bq.aq.className='pccMarkHandlePoint';break;case IPCC.dM.dw.la.TextSelectionStart:bq.aq.className='pccMarkHandleTextSelectionStart';break;case IPCC.dM.dw.la.TextSelectionEnd:bq.aq.className='pccMarkHandleTextSelectionEnd';break;default:bq.aq.className='pccMarkHandlePoint';break;}};dw.prototype.zn=function(bq,azn,kb,Dn,ox){bq.aG=kb.transform(azn);bq.aq.style.left=(bq.aG.x-Dn/2)+'px';bq.aq.style.top=(bq.aG.y-Dn/2)+'px';bq.aq.style.display='block';bq.aq.style.zIndex='1';this.aiL(bq,ox);};dw.prototype.acz=function(bq,Dn,ox){bq.aq.style.left=(bq.aG.x-Dn/2)+'px';bq.aq.style.top=(bq.aG.y-Dn/2)+'px';bq.aq.style.display='block';bq.aq.style.zIndex='1';this.aiL(bq,ox);};dw.prototype.tg=function(bq){bq.aq.style.display='none';};dw.prototype.anf=function(dr,kb){if(this.G.get_areMarksEditable()===true){dr.hq.style.cursor='move';}var R,h=dr.h,dE=dr.dE,bq;var gS,K,qe,jG,uc,fb;var gW,EE,fd,fj,Pg;switch(h.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:gS=this.Zw(h);EE=gS.length+2-dE.length;if(EE>0){dr.dE=dr.dE.concat(this.vW(dr.hq,EE,this.hx,this.Jn,dE.length-2,IPCC.aW.Move));dE=dr.dE;}for(R=0;R<gS.length;R++){this.zn(dE[R+2],gS[R],kb,this.hx,IPCC.dM.dw.la.Point);}for(R=gS.length+2;R<dE.length;R++){this.tg(dE[R+2]);}break;case IPCC.Web.UI.MarkType.Polygon:gS=this.Zw(h);EE=gS.length-dE.length;if(EE>0){dr.dE=dr.dE.concat(this.vW(dr.hq,EE,this.hx,this.Jn,dE.length,IPCC.aW.Move));dE=dr.dE;}for(R=0;R<gS.length;R++){this.zn(dE[R],gS[R],kb,this.hx,IPCC.dM.dw.la.Point);}for(R=gS.length;R<dE.length;R++){this.tg(dE[R]);}break;case IPCC.Web.UI.MarkType.Freehand:K=h.fh();qe=kb.transform({x:K.x,y:K.y});jG=kb.transform({x:K.x+K.width,y:K.y+K.height});fb={x:Math.min(qe.x,jG.x),y:Math.min(qe.y,jG.y)};fb.width=Math.max(qe.x,jG.x)-fb.x;fb.height=Math.max(qe.y,jG.y)-fb.y;dr.ik.style.left=fb.x+'px';dr.ik.style.top=fb.y+'px';dr.ik.style.width=fb.width+'px';dr.ik.style.height=fb.height+'px';dr.ik.setAttribute('data-pcc-mark','outline-'+h.ll());break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:if(h.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&h.aY!==undefined){break;}K=h.fh();dE[0].aG=kb.transform({x:K.x,y:K.y});dE[1].aG=kb.transform({x:K.x+K.width,y:K.y});dE[2].aG=kb.transform({x:K.x+K.width,y:K.y+K.height});dE[3].aG=kb.transform({x:K.x,y:K.y+K.height});fb={x:Math.min(dE[0].aG.x,dE[2].aG.x),y:Math.min(dE[0].aG.y,dE[2].aG.y)};fb.width=Math.max(dE[0].aG.x,dE[2].aG.x)-fb.x;fb.height=Math.max(dE[0].aG.y,dE[2].aG.y)-fb.y;Pg={x:fb.x+fb.width/2,y:fb.y+fb.height/2};for(R=0;R<4;R++){bq=dE[R];uc=(bq.aG.x<Pg.x)?((bq.aG.y<Pg.y)?0:2):((bq.aG.y<Pg.y)?1:3);this.acz(bq,this.hx,uc);switch(uc){case 0:bq.aR=IPCC.aW.ResizeNW;break;case 1:bq.aR=IPCC.aW.ResizeNE;break;case 2:bq.aR=IPCC.aW.ResizeSW;break;case 3:bq.aR=IPCC.aW.ResizeSE;break;}}dr.ik.style.left=fb.x+'px';dr.ik.style.top=fb.y+'px';dr.ik.style.width=fb.width+'px';dr.ik.style.height=fb.height+'px';dr.ik.setAttribute('data-pcc-mark','outline-'+h.ll());var aDf=fb.x+fb.width/4;var ape=fb.x+fb.width*3/4;var aEp=fb.y+fb.height/4;var anX=fb.y+fb.height*3/4;if(this.aU.zx()===IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose){qe=dE[0].aG;jG=dE[1].aG;var axo=dE[2].aG;fd=qe.x-jG.x;fj=jG.y-axo.y;var aqH=fd*fd;var apL=fj*fj;if(Math.min(aqH,apL)<this.hx*this.hx*5){this.tg(dE[0]);this.tg(dE[1]);this.tg(dE[2]);this.tg(dE[3]);}}for(R=4;R<8;R++){bq=dE[R];qe=bq.awS.aG;jG=bq.avW.aG;fd=qe.x-jG.x;fj=qe.y-jG.y;gW=fd*fd+fj*fj;if(this.aU.zx()===IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose&&gW<this.hx*this.hx*5){this.tg(bq);}else{bq.aG={x:(qe.x+jG.x)/2,y:(qe.y+jG.y)/2};this.acz(bq,this.hx,R);if(bq.aG.x<aDf){bq.aR=IPCC.aW.ResizeW;}else if(bq.aG.x>ape){bq.aR=IPCC.aW.ResizeE;}else if(bq.aG.y<aEp){bq.aR=IPCC.aW.ResizeN;}else if(bq.aG.y>anX){bq.aR=IPCC.aW.ResizeS;}}}if(h.get_type()===IPCC.Web.UI.MarkType.Text){if(h.yR){this.zn(dE[8],{x:K.x+h.lJ.x,y:K.y+h.lJ.y},kb,this.hx,IPCC.dM.dw.la.Callout);}else{this.tg(dE[8]);}}break;case IPCC.Web.UI.MarkType.DocumentHyperlink:return;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:dr.hq.style.cursor='move';var eO,ia,xp;var Fc=this.G.dg();var gY=Fc.gQ();if(h.jK===true){xp=h.as;if(xp>=gY.fq()){eO=gY.kA(gY.fq()-1);ia=eO.uT();this.zn(dE[0],new IPCC.Web.UI.Point(ia.x+ia.width,ia.y),kb,this.hx,IPCC.dM.dw.la.TextSelectionStart);break;}eO=gY.kA(h.as);ia=eO.uT();this.zn(dE[0],new IPCC.Web.UI.Point(ia.x,ia.y),kb,this.hx,IPCC.dM.dw.la.TextSelectionStart);}else{this.tg(dE[0]);}if(h.kV===true){xp=h.as+h.cR-1;if(xp<0){eO=gY.kA(0);ia=eO.uT();this.zn(dE[1],new IPCC.Web.UI.Point(ia.x,ia.y+ia.height),kb,this.hx,IPCC.dM.dw.la.TextSelectionEnd);break;}eO=gY.kA(xp);ia=eO.uT();this.zn(dE[1],new IPCC.Web.UI.Point(ia.x+ia.width,ia.y+ia.height),kb,this.hx,IPCC.dM.dw.la.TextSelectionEnd);}else{this.tg(dE[1]);}break;}if(h.get_type()===IPCC.Web.UI.MarkType.Text||h.get_type()===IPCC.Web.UI.MarkType.TextLine||h.get_type()===IPCC.Web.UI.MarkType.TextAreaSignature){var wD=dE[dE.length-1];if(wD.aq.className.match(/pcc/)){var RS=dr.ik.clientHeight;var QF=dr.ik.clientWidth;var ajc=dr.ik.offsetTop;var aiU=dr.ik.offsetLeft;var ahr=wD.aq.clientHeight;var RZ=wD.aq.clientWidth;wD.aq.style.position='absolute';wD.aq.style.zIndex='2';if(RS>ahr+10&&QF>RZ+10){wD.aq.style.top=(RS-ahr)/2+ajc+'px';wD.aq.style.left=(QF-RZ)/2+aiU+'px';}else{wD.aq.style.top=RS+ajc+10+'px';wD.aq.style.left=(QF-RZ)/2+aiU+'px';}}}this.aoD(dr);};dw.prototype.amM=function(gU,uC){var aBy=IPCC.J.alZ(gU,uC||'#ffffff'),aAt=IPCC.J.map(aBy,function(aK){return{as:aK.startIndex,cL:aK.endIndex,EJ:aK.color};});return aAt;};dw.prototype.anK=function(T){var h=T.h;if(h.eN){var kN=this.amM(h.eN);var Bd=h.ak;var zE='';for(var R=kN.length-1;R>=0;R--){var SN=kN[R];var as=SN.as;var cL=SN.cL;var cD=SN.EJ;var cN=IPCC.J.FG(Bd.substr(as,cL-as+1));var apo=IPCC.J.FG(Bd.substr(cL+1,Bd.length-cL+1));Bd=Bd.substr(0,as);zE="<span style='background-color:"+cD+";'>"+cN+'</span>'+apo+zE;}zE=IPCC.J.FG(Bd)+zE;zE=zE.replace(/\n/g,'<br/>');T.mt.innerHTML=zE;}else{T.xO.data=h.ak;}};module.exports=dw;},{"./ArtSVGUIDirector":17}],19:[function(require,module,exports){var hy={};hy.InternetExplorer={};hy.Firefox={};hy.Safari={};hy.Opera={};hy.agent=null;hy.hasDebuggerStatement=false;hy.name=navigator.appName;hy.version=parseFloat(navigator.appVersion);hy.documentMode=0;hy.getBrowserInfo=function getBrowserInfo(){if(navigator.userAgent.indexOf(' MSIE ')> -1){IPCC.hy.agent=IPCC.hy.InternetExplorer;IPCC.hy.version=parseFloat(navigator.userAgent.match(/MSIE (\d+\.\d+)/)[1]);if(IPCC.hy.version>=8){if(document.documentMode>=7){IPCC.hy.documentMode=document.documentMode;}}IPCC.hy.hasDebuggerStatement=true;}else if(navigator.userAgent.indexOf(' Firefox/')> -1){IPCC.hy.agent=IPCC.hy.Firefox;IPCC.hy.version=parseFloat(navigator.userAgent.match(/ Firefox\/(\d+\.\d+)/)[1]);IPCC.hy.name='Firefox';IPCC.hy.hasDebuggerStatement=true;}else if(navigator.userAgent.indexOf(' AppleWebKit/')> -1){IPCC.hy.agent=IPCC.hy.Safari;IPCC.hy.version=parseFloat(navigator.userAgent.match(/ AppleWebKit\/(\d+(\.\d+)?)/)[1]);IPCC.hy.name='Safari';}else if(navigator.userAgent.indexOf('Opera/')> -1){IPCC.hy.agent=IPCC.hy.Opera;}};module.exports=hy;},{}],20:[function(require,module,exports){var uh={IM:function(){var wO=IPCC.uh;if(wO.tY===null){
/*@cc_on@if(@_jscript)wO.tY=document.documentMode>8;@else@*/ wO.tY=true;/*@end@*/}return wO.tY;},tY:null};module.exports=uh;},{}],21:[function(require,module,exports){var eI=function(WJ,aEI){this.G=false;this.WJ=WJ;var ml=IPCC.Web.UI;var av=aEI;if(!av||av===null){av=IPCC.akw;}this.av=av;var aou={ak:av.zoomInMenuItem,eA:IPCC.eh.aeQ,C:1.25};var aob={ak:av.zoomOutMenuItem,eA:IPCC.eh.afa,C:1.25};var asn={ak:av.fullImageMenuItem,C:ml.FitType.FullImage};var asa={ak:av.fullWidthMenuItem,C:ml.FitType.FullWidth};var asW={ak:av.fullHeightMenuItem,C:ml.FitType.FullHeight};var aDo={ak:av.oneToOneRatioMenuItem,C:ml.FitType.OneToOne};var atZ={ak:av.actualSizeMenuItem,C:ml.FitType.ActualSize};var azP={ak:av.rotateRightMenuItem,eA:IPCC.eh.YR,C:90};var aAn={ak:av.rotateLeftMenuItem,eA:IPCC.eh.YR,C: -90};var aFz={ak:av.mirrorHorizontalMenuItem,eA:IPCC.eh.agM};var aFE={ak:av.mirrorVerticalMenuItem,eA:IPCC.eh.ahu};var Xy={ak:av.panToolMenuItem,C:ml.MouseTool.HandPan};var Xe={ak:av.areaSelectionToolMenuItem,C:ml.MouseTool.Select};var Uz={ak:av.zoomRectangleToolMenuItem,C:ml.MouseTool.RectangleZoom};var Yp={ak:av.flyingMagnifierToolMenuItem,C:ml.MouseTool.Magnifier};var awn={ak:av.createTextMarkToolMenuItem,C:ml.MouseTool.CreateTextMark};var axB={ak:av.createLineMarkToolMenuItem,C:ml.MouseTool.CreateLineMark};var avo={ak:av.createRectangleMarkToolMenuItem,C:ml.MouseTool.CreateRectangleMark};var avj={ak:av.createEllipseMarkToolMenuItem,C:ml.MouseTool.CreateEllipseMark};var apN={ak:av.editMarksToolMenuItem,C:ml.MouseTool.EditMarks};var avB={ak:av.createStampMarkToolMenuItem,C:ml.MouseTool.CreateStampMark};var avl={ak:av.createHighlightMarkToolMenuItem,C:ml.MouseTool.CreateHighlightTextMark};var aek={bg:55,bW:[{ak:av.thicknessMenu.item1,C:1},{ak:av.thicknessMenu.item2,C:2},{ak:av.thicknessMenu.item3,C:3},{ak:av.thicknessMenu.item4,C:4},{ak:av.thicknessMenu.item5,C:5},{ak:av.thicknessMenu.item6,C:6},{ak:av.thicknessMenu.item7,C:7},{ak:av.thicknessMenu.item8,C:8}]};var aAc={bg:145,bW:[{ak:av.opacityMenu.translucent,C:127},{ak:av.opacityMenu.opaque,C:255}]};var Pk={ak:av.borderThicknessMenuItem,eA:IPCC.eh.Fe,al:'lineWidth',mn:aek};var Ov={ak:av.borderColorMenuItem,eA:IPCC.eh.Nz,al:'lineColor'};var GL={ak:av.fillColorMenuItem,eA:IPCC.eh.Nz,al:'fillColor'};var amD={ak:av.lineThicknessMenuItem,eA:IPCC.eh.Fe,al:'lineWidth',mn:aek};var ala={ak:av.lineColorMenuItem,eA:IPCC.eh.Nz,al:'lineColor'};var arz={ak:av.fontMenuItem,eA:IPCC.eh.aiH};var KI={ak:av.opacityMenuItem,eA:IPCC.eh.Fe,al:'opacity',mn:aAc};var aEi={ak:av.moveToBackMenuItem,eA:IPCC.eh.aay};var aFG={ak:av.moveBackwardMenuItem,eA:IPCC.eh.acn};var aDP={ak:av.moveForwardMenuItem,eA:IPCC.eh.aap};var aDH={ak:av.moveToFrontMenuItem,eA:IPCC.eh.aai};var ur={ak:av.deleteMarkMenuItem,eA:IPCC.eh.aeu};var apl={bg:180,bW:[asn,asa,asW,aDo,atZ]};var aoi={ak:av.zoomToFitMenuItem,eA:IPCC.eh.afn,mn:apl};var azV={bg:200,bW:[azP,aAn,aFz,aFE]};var aAO={ak:av.orientationMenuItem,mn:azV};var MY;if(IPCC.dM){if(IPCC.gi===false){MY={bg:180,bW:[Xy,Uz,Yp,Xe,null]};}else{MY={bg:180,bW:[Xy,Uz,Yp,Xe,null,apN,awn,axB,avo,avj,avB,avl]};}}else{MY={bg:180,bW:[Xy,Uz,Yp,Xe]};}var aEW={ak:av.mouseToolsMenuItem,eA:IPCC.eh.ajj,mn:MY};var aBD={bg:150,bW:[GL,Pk,Ov,null,KI]};var arh={bg:150,bW:[GL,Pk,Ov,null,null]};var aCA={bg:150,ak:av.rectangleMarkPropertiesMenuItem,mn:aBD};var apS={bg:150,ak:av.rectangleMarkPropertiesMenuItem,mn:arh};var apn={bg:150,bW:[arz,GL,Pk,Ov,null,null,null,KI]};var aoU={ak:av.textMarkPropertiesMenuItem,mn:apn};var axJ={bg:150,bW:[GL,Pk,Ov,null,KI]};var ayG={ak:av.polygonMarkPropertiesMenuItem,mn:axJ};var axE={bg:140,bW:[amD,ala,null,KI]};var axn={ak:av.polylineMarkPropertiesMenuItem,mn:axE};var aGj={bg:140,bW:[amD,ala,null,null]};var aFu={ak:av.lineMarkPropertiesMenuItem,mn:aGj};var aFD={bg:140,bW:[aDH,aDP,aFG,aEi]};var wW={ak:av.markOrderingMenuItem,mn:aFD};var apZ={bg:150,bW:[GL]};var adA={ak:av.stampMarkPropertiesMenuItem,mn:apZ};this.aoh={bg:180,bW:[aou,aob,aoi,aAO,aEW]};this.anF={bg:140,bW:[aoU,wW,ur]};this.aBX={bg:140,bW:[aCA,wW,ur]};this.apx={bg:140,bW:[adA,wW,ur]};this.aqJ={bg:140,bW:[null,wW,ur]};this.aqh={bg:140,bW:[apS,wW,ur]};this.ayD={bg:140,bW:[ayG,wW,ur]};this.axL={bg:140,bW:[axn,wW,ur]};this.aFy={bg:140,bW:[aFu,wW,ur]};this.aDc={bg:140,bW:[adA,null,ur]};};eI.prototype.nd=function(G){this.G=G;};eI.prototype.fL=function(){this.G=false;};eI.prototype.ax=function(){};eI.prototype.SI=function(V){var iC;if(V.mark&&this.WJ){var Oi=V.mark.iy();switch(V.mark.get_type()){case IPCC.Web.UI.MarkType.Line:iC=this.aFy;break;case IPCC.Web.UI.MarkType.Polyline:iC=this.axL;break;case IPCC.Web.UI.MarkType.Rectangle:iC=this.aBX;break;case IPCC.Web.UI.MarkType.Ellipse:iC=this.aqh;break;case IPCC.Web.UI.MarkType.Polygon:iC=this.ayD;break;case IPCC.Web.UI.MarkType.Text:iC=this.anF;break;case IPCC.Web.UI.MarkType.Stamp:if(Oi===true){iC=this.aqJ;}else{iC=this.apx;}break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.Highlight:if(V.mark.iS==='y'){iC=this.aDc;}break;}}if(!iC){iC=this.aoh;}var ve=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var uN=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var acK=new IPCC.Web.UI.Point(V.domEvent.clientX+ve,V.domEvent.clientY+uN);var F=this;function vU(af){if(sc){var aA=af.target;if(aA&&aA===null){return;}var CL,aiu;while(aA&&aA!==document.body&&aA.parentNode!==null){if(aA&&aA!==null){if(aA===sc){aiu=true;}if(!CL&&aA.ImGearCommand){CL=aA.ImGearCommand;}aA=aA.parentNode;}}if(!aiu||CL){IPCC.Web.UI.au.removeHandler(document.body,'mousedown',vU);IPCC.Web.UI.au.removeHandler(document.body,'mousemove',aax);document.body.removeChild(sc);sc=null;if(CL){CL.RD=V;F.apY(CL);}}}};function VE(IV,yE,yK,GO){var de=false,R,aA;for(R=0;R<yE.length;R++){if(IV===yE[R]){de=true;}}if(!de&&IV.ImGearType==='menu'){IV.style.display='none';}else{IV.style.display='block';}aA=IV.firstChild;while(aA){if(aA.ImGearType==='menuItemHighlight'){if(aA===GO){aA.style.display='block';}else{aA.style.display='none';}}if(aA.firstChild){VE(aA,yE,yK,GO);}aA=aA.nextSibling;}};function aax(af){if(sc){var aA=af.target;if(aA&&aA===null){return;}var yE=[sc],yK,GO;while(aA&&aA!==document.body&&aA.parentNode!==null){if(!yK&&aA.ImGearType==='menuItem'){yK=aA;}if(aA.ImGearType==='menu'){yE.push(aA);}aA=aA.parentNode;}if(yK){aA=yK.firstChild;while(aA){if(aA.ImGearType==='menuItemHighlight'){GO=aA;}else if(aA.ImGearType==='menu'){yE.push(aA);}aA=aA.nextSibling;}}VE(sc,yE,yK,GO);}};var bV;if(window.innerWidth){bV={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){bV={x:ve,y:uN,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{bV={x:ve,y:uN,width:document.body.clientWidth,height:document.body.clientHeight};}var sc=this.ajZ(iC,false,false,acK,acK,true,bV,document.body,V.mark);VE(sc,[sc],null,null);document.body.appendChild(sc);IPCC.Web.UI.au.addHandler(document.body,'mousedown',vU);IPCC.Web.UI.au.addHandler(document.body,'mousemove',aax);};eI.prototype.ajZ=function(iC,eA,al,ZV,ZT,BA,bV,axi,h){var ach=24,aea=1;var R,abA=0;for(R=0;R<iC.bW.length;R++){var aFm=iC.bW[R];if(aFm){abA+=ach;}else{abA+=aea;}}var Nc;if(BA){Nc=ZT.x+iC.bg;if(Nc>bV.x+bV.width){BA=false;}}if(!BA){Nc=ZV.x-iC.bg;if(Nc<bV.x){BA=true;}}var sJ={x:ZT.x,y:ZT.y};if(!BA){sJ={x:ZV.x-iC.bg-2,y:ZV.y-2};}var ahX=bV.y+bV.height-abA-8;if(sJ.y>ahX){sJ.y=ahX;}if(sJ.y<bV.y+2){sJ.y=bV.y+2;}function fO(qv){var xu=document.createElement('div');var R;for(R in qv){if(qv.hasOwnProperty(R)){xu.style[R]=qv[R];}}return xu;};var NN=fO({zIndex:2,width:iC.bg+'px',left:sJ.x+'px',top:sJ.y+'px',margin:'0px',padding:'0px',border:'1px solid #C0C0C0',position:'absolute',backgroundColor:'#F0F0F0',color:'Black',fontSize:'11px',fontFamily:'Arial, Helvetica, sans-serif',fontWeight:'bold',boxShadow:'0 2px 3px rgba(0,0,0,.2)'});NN.ImGearType='menu';for(R=0;R<iC.bW.length;R++){var wF=iC.bW[R];var uV;if(wF){uV=fO({position:'relative',height:'24px'});uV.ImGearType='menuItem';var zc=fO({position:'absolute',width:'24px',overflow:'hidden',borderRight:'1px solid #E0E0E0',height:'24px',textAlign:'center'});uV.appendChild(zc);var alB=fO({textOverflow:'ellipsis',whiteSpace:'nowrap',width:iC.bg-44+'px',position:'absolute',left:'25px',padding:'0 0 0 4px',overflow:'hidden',borderLeft:'1px solid #FFFFFF',height:'24px',lineHeight:'24px'});uV.appendChild(alB);var akI=fO({display:'none',position:'absolute',height:'24px',width:iC.bg+'px',backgroundColor:'#00C0E0',filter:'progid:DXImageTransform.Microsoft.Alpha(opacity=30)',opacity:'.3'});akI.ImGearType='menuItemHighlight';uV.appendChild(akI);alB.appendChild(document.createTextNode(wF.ak));var MA=wF.eA||eA;var Fy=wF.al||al;if(Fy){if(MA===IPCC.eh.Fe){var auG=h['get_'+Fy]();if(auG===wF.C){if(this.G.wR()){zc.style.backgroundImage='url(\''+this.G.wR()+'/MenuIcons.png'+'\')';}else{zc.style.backgroundImage='url(\''+'<%=WebResource("IPCC.Web.UI.MenuIcons.png")%>'+'\')';}zc.style.backgroundPosition='0px';}}else if(MA===IPCC.eh.aik){var auB=h['get_'+Fy]();if(auB){if(this.G.wR()){zc.style.backgroundImage='url(\''+this.G.wR()+'/MenuIcons.png'+'\')';}else{zc.style.backgroundImage='url(\''+'<%=WebResource("IPCC.Web.UI.MenuIcons.png")%>'+'\')';}zc.style.backgroundPosition='24px 0px';}}}if(!wF.mn){uV.ImGearCommand={eA:MA,al:Fy,C:wF.C};}else{var aEa={x:bV.x-sJ.x,y:bV.y-sJ.y,width:bV.width,height:bV.height};this.ajZ(wF.mn,MA,Fy,{x:0,y: -1},{x:iC.bg,y: -1},BA,aEa,uV,h);}sJ.y+=ach;}else{uV=fO({height:'1px',overflow:'hidden',backgroundColor:'#E0E0E0'});sJ.y+=aea;}NN.appendChild(uV);}axi.appendChild(NN);return NN;};eI.prototype.apH=function(h,cu,G){var ve=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var uN=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var bV;if(window.innerWidth){bV={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){bV={x:ve,y:uN,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{bV={x:ve,y:uN,width:document.body.clientWidth,height:document.body.clientHeight};}var po=bV.x+bV.width/2;var ov=bV.y+bV.height/2;var ii=document.createElement('div');ii.innerHTML='	<div style="z-index:2;border:1px solid #000000;font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:normal;font-variant:normal;'+'background-color:#F0F0F0;position:absolute;top:'+(ov-85)+'px;left:'+(po-80)+'px;width:160px;height:170px;">'+'<div style="padding:4px;background-color:#666666;color:#FFFFFF;font-size:14px;">'+this.av.selectColor+'</div>'+'<div style="position:relative;">'+'<div style="position:absolute;left:8px;top:10px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.av.red+':</div>'+'<input id="ImGearColorRed" type="text" style="position:absolute;left:80px;top:8px;width:52px;" />'+'<div style="position:absolute;left:8px;top:40px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.av.green+':</div>'+'<input id="ImGearColorGreen" style="position:absolute;left:80px;top:38px;width:52px" type="text" />'+'<div style="position:absolute;left:8px;top:70px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.av.blue+':</div>'+'<input id="ImGearColorBlue" style="position:absolute;left:80px;top:68px;width:52px" type="text" />'+'<button id="ImGearColorOKButton" style="font-size:12px;position:absolute;left:9px;top:108px;width:65px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.av.ok+'</button>'+'<button id="ImGearColorCancelButton" style="font-size:12px;position:absolute;left:81px;top:108px;width:71px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.av.cancel+'</button>'+'</div>'+'</div>';document.body.appendChild(ii);var Vb=document.getElementById('ImGearColorRed');var aat=document.getElementById('ImGearColorGreen');var aiS=document.getElementById('ImGearColorBlue');var Gf=document.getElementById('ImGearColorOKButton');var Gh=document.getElementById('ImGearColorCancelButton');var Ro=h['get_'+cu]();var Mg;if(Ro.length===7&&Ro.charAt(0)==='#'){Mg=parseInt(Ro.slice(1),16);}Vb.value=(Mg>>16);aat.value=((Mg>>8)&255);aiS.value=(Mg&255);function XP(ZM){var C=Math.floor(+(ZM.value));if(!isFinite(C)){C=0;}if(C<0){C=0;}if(C>255){C=255;}return C;};function zk(){IPCC.Web.UI.au.removeHandler(Gf,'click',Kj);IPCC.Web.UI.au.removeHandler(Gh,'click',HB);IPCC.Web.UI.au.removeHandler(document.body,'mousedown',vU);};function Kj(){var cD=XP(Vb)*65536+XP(aat)*256+XP(aiS);h['set_'+cu]('#'+(0x1000000+cD).toString(16).slice(1));zk();document.body.removeChild(ii);ii=null;G.cn();};function HB(){zk();document.body.removeChild(ii);ii=null;};function vU(af){if(ii){var aA=af.target;var JU;while(aA!==document.body){if(aA===ii){JU=true;}aA=aA.parentNode;}if(!JU){zk();document.body.removeChild(ii);ii=null;}}};IPCC.Web.UI.au.addHandler(Gf,'click',Kj);IPCC.Web.UI.au.addHandler(Gh,'click',HB);IPCC.Web.UI.au.addHandler(document.body,'mousedown',vU);Vb.focus();};eI.prototype.aqF=function(h,G){var ve=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var uN=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var bV;if(window.innerWidth){bV={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){bV={x:ve,y:uN,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{bV={x:ve,y:uN,width:document.body.clientWidth,height:document.body.clientHeight};}var po=bV.x+bV.width/2;var ov=bV.y+bV.height/2;var ii=document.createElement('div');ii.innerHTML='<div style="z-index:2;border:1px solid #000000;font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:normal;font-variant:normal;'+'background-color:#F0F0F0;position:absolute;top:'+(ov-85)+'px;left:'+(po-200)+'px;width:400px;height:170px;z-index:2">'+'<div style="padding:4px;background-color:#666666;color:#FFFFFF;font-size:14px;">'+this.av.selectFont+'</div>'+'<div style="position:relative;">'+'<div style="position:absolute;left:8px;top:10px;width:90px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.av.font+':</div>'+'<input id="ImGearFontFamily" style="position:absolute;left:100px;top:8px;width:280px" type="text" />'+'<div style="position:absolute;left:8px;top:40px;width:90px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.av.size+':</div>'+'<input id="ImGearFontSize" style="position:absolute;left:100px;top:38px;width:54px" type="text" />'+'<div style="position:absolute;left:8px;top:70px;"><input id="ImGearFontItalic" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.av.italic+'</div></div>'+'<div style="position:absolute;left:100px;top:70px;"><input id="ImGearFontBold" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.av.bold+'</div></div>'+'<div style="position:absolute;left:200px;top:70px;"><input id="ImGearFontUnderline" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.av.underline+'</div></div>'+'<div style="position:absolute;left:300px;top:70px;"><input id="ImGearFontStrikeout" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.av.strikeout+'</div></div>'+'<button id="ImGearFontOKButton" style="font-size:12px;position:absolute;left:240px;top:108px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.av.ok+'</button>'+'<button id="ImGearFontCancelButton" style="font-size:12px;position:absolute;left:315px;top:108px;width:71px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.av.cancel+'</button>'+'</div>'+'</div>';document.body.appendChild(ii);var ZJ=document.getElementById('ImGearFontFamily');var ahv=document.getElementById('ImGearFontSize');var agm=document.getElementById('ImGearFontItalic');var ahC=document.getElementById('ImGearFontBold');var aho=document.getElementById('ImGearFontUnderline');var agF=document.getElementById('ImGearFontStrikeout');var Gf=document.getElementById('ImGearFontOKButton');var Gh=document.getElementById('ImGearFontCancelButton');var aAM=h.get_fontName();var aAL=h.get_fontSize();var ta=h.get_fontStyle();ZJ.value=aAM;ahv.value=aAL;agm.checked=ta&IPCC.Web.UI.FontStyle.Italic;ahC.checked=ta&IPCC.Web.UI.FontStyle.Bold;aho.checked=ta&IPCC.Web.UI.FontStyle.Underline;agF.checked=ta&IPCC.Web.UI.FontStyle.Strikeout;function avq(ZM){var C=Math.floor(+(ZM.value));if(!isFinite(C)){C=12;}if(C<0.1){C=0.1;}if(C>288){C=288;}return C;};function zk(){IPCC.Web.UI.au.removeHandler(Gf,'click',Kj);IPCC.Web.UI.au.removeHandler(Gh,'click',HB);IPCC.Web.UI.au.removeHandler(document.body,'mousedown',vU);};function Kj(){h.set_fontName(ZJ.value);var dK=avq(ahv);h.set_fontSize(dK);var dY=0;if(agm.checked){dY|=IPCC.Web.UI.FontStyle.Italic;}if(ahC.checked){dY|=IPCC.Web.UI.FontStyle.Bold;}if(aho.checked){dY|=IPCC.Web.UI.FontStyle.Underline;}if(agF.checked){dY|=IPCC.Web.UI.FontStyle.Strikeout;}h.set_fontStyle(dY);zk();document.body.removeChild(ii);ii=null;G.cn();};function HB(){zk();document.body.removeChild(ii);ii=null;};function vU(af){if(ii){var aA=af.target;var JU;while(aA!==document.body){if(aA===ii){JU=true;}aA=aA.parentNode;}if(!JU){zk();document.body.removeChild(ii);ii=null;}}};IPCC.Web.UI.au.addHandler(Gf,'click',Kj);IPCC.Web.UI.au.addHandler(Gh,'click',HB);IPCC.Web.UI.au.addHandler(document.body,'mousedown',vU);ZJ.focus();};eI.prototype.apY=function(V){var h=V.RD.mark;switch(V.eA){case IPCC.eh.Fe:h['set_'+V.al](V.C);this.G.cn();break;case IPCC.eh.Nz:this.apH(h,V.al,this.G);break;case IPCC.eh.aiH:this.aqF(h,this.G);break;case IPCC.eh.aik:h['set_'+V.al](!h['get_'+V.al]());this.G.cn();break;case IPCC.eh.aay:h.moveToBack();this.G.cn();break;case IPCC.eh.acn:h.moveBackward();this.G.cn();break;case IPCC.eh.aap:h.moveForward();this.G.cn();break;case IPCC.eh.aai:h.moveToFront();this.G.cn();break;case IPCC.eh.aeu:h.removeFromPage();this.G.cn();break;default:this.G.aCH(V);break;}};module.exports=eI;},{}],22:[function(require,module,exports){var aW={Default:0,Arrow:1,Crosshair:2,Link:3,HandOpen:4,HandClosed:5,Magnifier:6,None:7,RectangleZoom:8,AddRectangleMark:9,AddEllipseMark:10,AddLineMark:11,AddFreehandLineMark:12,AddPolygonMark:13,AddPolylineMark:14,AddTextMark:15,Move:16,ResizeN:17,ResizeE:18,ResizeS:19,ResizeW:20,ResizeNW:21,ResizeNE:22,ResizeSE:23,ResizeSW:24,EditMarks:25,RunMarks:26,Text:27,AddStampMark:28,AddRectangleRedactionMark:29,AddImageStampMark:30,dX:function(aR){if(typeof aR==='string'){return aR;}switch(aR){case IPCC.aW.Default:case IPCC.aW.Magnifier:case IPCC.aW.None:case IPCC.aW.RunMarks:return 'auto';case IPCC.aW.Arrow:case IPCC.aW.EditMarks:return 'default';case IPCC.aW.Crosshair:case IPCC.aW.RectangleZoom:case IPCC.aW.AddRectangleMark:case IPCC.aW.AddEllipseMark:case IPCC.aW.AddLineMark:case IPCC.aW.AddFreehandLineMark:case IPCC.aW.AddPolygonMark:case IPCC.aW.AddPolylineMark:case IPCC.aW.AddTextMark:case IPCC.aW.AddRectangleRedactionMark:case IPCC.aW.AddImageStampMark:case IPCC.aW.AddStampMark:return 'crosshair';case IPCC.aW.Link:return 'pointer';case IPCC.aW.HandOpen:case IPCC.aW.HandClosed:case IPCC.aW.Move:return 'move';case IPCC.aW.ResizeN:return 'n-resize';case IPCC.aW.ResizeE:return 'e-resize';case IPCC.aW.ResizeS:return 's-resize';case IPCC.aW.ResizeW:return 'w-resize';case IPCC.aW.ResizeNW:return 'nw-resize';case IPCC.aW.ResizeNE:return 'ne-resize';case IPCC.aW.ResizeSE:return 'se-resize';case IPCC.aW.ResizeSW:return 'sw-resize';case IPCC.aW.Text:return 'text';}return 'auto';}};module.exports=aW;},{}],23:[function(require,module,exports){var jf={qq:function(iT,Nl){var ao,bX,fm;if(iT===null){return 'null';}if(!Nl){Nl=0;}ao=typeof(iT);if(ao==='undefined'){return 'undefined';}else if(ao==='number'||ao==='boolean'){return iT.toString();}else if(ao==='string'){return '\''+iT+'\'';}else if(ao==='function'){return 'function';}else{if(Nl<0){return 'iT';}bX='{';for(fm in iT){if(iT.hasOwnProperty(fm)){if(bX.length>2){bX+=', ';}bX+=fm;bX+=': ';bX+=IPCC.jf.qq(iT[fm],Nl-1);}}bX+='}';return bX;}},Qr:function(ak){var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value+=ak+'\n';}},aHu:function(){var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value='';}},nv:function(hX,Gv,bQ,EC,BD){var ak="PCC Controls - ";ak+=(EC)?EC:" ";ak+=" parent Div id = ";ak+=(BD)?BD:" ";if(Gv){switch(Gv){case 0:ak+=" FunctionCall ";break;case 1:ak+=" Exception ";break;case 2:ak+=" Custom ";break;case 3:ak+=" UserAction ";break;case 4:ak+=" Warning ";break;default:ak+=" unknown ";}}ak+=" - "+hX;if((typeof(Debug)!=='undefined')&&Debug.writeln){Debug.writeln(ak);}if(window.console&&window.console.log){window.console.log(ak);}if(window.opera){window.opera.postError(ak);}if(window.debugService){window.debugService.trace(ak);}var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value+=ak+'\n';}var Mx;try{Mx=onPCCItemLogged;}catch(ex){}if(Mx&&(typeof(Mx)).toLowerCase()==='function'){var cs=new IPCC.Web.UI.LogItemEventArgs();cs.message=hX;cs.cause=Gv;cs.level=bQ;cs.id=BD;Mx(cs);}}};module.exports=jf;},{}],24:[function(require,module,exports){var jV=function(){this.bm=false;this.G=false;};jV.prototype.nd=function(G){this.G=G;this.G.aaw(true);this.aU=G.aO();};jV.prototype.fL=function(){if(arguments[0]){if(arguments[0]===true){this.G=false;return;}}this.G.aaw(false);this.G=false;};jV.prototype.ax=function(){if(this.bm){this.G.Cf(true);this.aU.nU();this.bm=false;this.G.cn();}};jV.prototype.AP=function(V){this.ax();var h=V.mark;if(h&&h.iH()===IPCC.Web.UI.MarkType.Text){this.G.wY(h);this.G.cn();}};jV.prototype.km=function(V){this.ax();var hY=V.domEvent;if(hY.button===0){var cw=hY.target;this.bq=cw.ImGearMarkHandle;if(this.bq){this.uc=this.bq.ao;this.ox=this.bq.an;}else{this.uc=null;this.ox=null;}while(!(cw.ImGearMarkRelation)&&cw.parentNode&&cw!==document.body){cw=cw.parentNode;}this.T=cw.ImGearMarkRelation;if(this.T){this.h=this.T.h;}else{this.h=null;}this.bm=true;this.Jx=V.imagePoint;this.Da=V.imagePoint;var h=this.h;if(!h||h.get_interactionMode()===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){if(!hY.shiftKey){this.G.eP().Ak().removeAllMarks();}this.aU.Bm(V.imagePoint);}else{var gg,K;switch(this.uc){case IPCC.dM.dw.prototype.UH:this.jo=h.fh();this.YQ=Math.abs(this.jo.width);this.HS=Math.abs(this.jo.height);gg={x:this.jo.x,y:this.jo.y};this.Kk={x:this.jo.x+this.jo.width,y:this.jo.y+this.jo.height};if(this.ox>0&&this.ox<3){gg.x+=this.jo.width;this.Kk.x-=this.jo.width;}if(this.ox>1){gg.y+=this.jo.height;this.Kk.y-=this.jo.height;}this.aFM=gg;break;case IPCC.dM.dw.prototype.Vc:K=h.fh();this.jo=K;gg={x:K.x+K.width/2,y:K.y+K.height/2};switch(this.ox){case 0:this.AT=K.y+K.height;gg.y=K.y;break;case 1:this.AT=K.x;gg.x=K.x+K.width;break;case 2:this.AT=K.y;gg.y=K.y+K.height;break;case 3:this.AT=K.x+K.width;gg.x=K.x;break;}break;case IPCC.dM.dw.prototype.Jn:this.aX=h.pk();if(this.ox<0||this.ox>this.aX.fq()){this.ax();}gg=this.aX.getPoint(this.ox);break;case IPCC.dM.dw.prototype.Hg:break;case IPCC.dM.dw.prototype.Tj:K=h.fh();gg={x:K.x+h.lJ.x,y:K.y+h.lJ.y};break;default:var yD=h.get_selected();if(hY.ctrlKey||hY.shiftKey){yD= !yD;h.set_selected(yD);}else{if(!yD){yD=true;this.G.eP().Ak().removeAllMarks();if(h.get_type()===IPCC.Web.UI.MarkType.Highlight){for(var R=0;R<this.G.eP().get_markCount();R++){var WO=this.G.eP().getMark(R);if(WO.iH()===608&&WO.aY===h.aY){WO.set_selected(yD);}}}else{h.set_selected(yD);}}}if(!yD){this.ax();}break;}if(this.bm&&gg){this.atc=gg.x-this.Jx.x;this.asE=gg.y-this.Jx.y;if(this.bq){this.aU.aoS(this.bq.aR);}}}if(this.bm){this.G.Cf(false);}}this.G.cn();};jV.prototype.ki=function(V){var hY=V.domEvent;var Da;function ayO(amL){amL.Hj(V.imagePoint.x-Da.x,V.imagePoint.y-Da.y);};if(hY.button!==0){this.ax();}if(this.bm){var h=this.h;if(!h||h.get_interactionMode()===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){this.aU.xZ(V.imagePoint);}else{var gg={x:V.imagePoint.x+this.atc,y:V.imagePoint.y+this.asE};var K;switch(this.uc){case IPCC.dM.dw.prototype.UH:var pY={x:gg.x,y:gg.y};var kr={x:this.Kk.x,y:this.Kk.y};if(hY.ctrlKey){kr.x=this.jo.x+this.jo.width/2;kr.y=this.jo.y+this.jo.height/2;}if(hY.shiftKey){var sT=Math.abs(pY.x-kr.x);var rX=Math.abs(pY.y-kr.y);if(sT*this.HS<rX*this.YQ){if(this.HS>0.001){sT=rX*this.YQ/this.HS;}}else{if(this.HS>0.001){rX=sT*this.HS/this.YQ;}}if(pY.x<kr.x){sT= -sT;}if(pY.y<kr.y){rX= -rX;}pY.x=kr.x+sT;pY.y=kr.y+rX;}if(hY.ctrlKey){kr={x:kr.x-(pY.x-kr.x),y:kr.y-(pY.y-kr.y)};}K={};K.x=Math.min(kr.x,pY.x);K.width=Math.max(kr.x,pY.x)-K.x;K.y=Math.min(kr.y,pY.y);K.height=Math.max(kr.y,pY.y)-K.y;h.set_rectangle(K);break;case IPCC.dM.dw.prototype.Vc:K=h.fh();var FD;if(this.ox&1){if(hY.ctrlKey){FD=this.jo.x+this.jo.width/2;K.width=Math.abs(gg.x-FD)*2;K.x=FD-K.width/2;}else{K.x=Math.min(gg.x,this.AT);K.width=Math.max(gg.x,this.AT)-K.x;}}else{if(hY.ctrlKey){FD=this.jo.y+this.jo.height/2;K.height=Math.abs(gg.y-FD)*2;K.y=FD-K.height/2;}else{K.y=Math.min(gg.y,this.AT);K.height=Math.max(gg.y,this.AT)-K.y;}}h.set_rectangle(K);break;case IPCC.dM.dw.prototype.Jn:this.aX=h.pk();gg=this.aX.setPoint(this.ox,gg);break;case IPCC.dM.dw.prototype.Hg:break;case IPCC.dM.dw.prototype.Tj:K=h.fh();h.set_calloutPoint({x:gg.x-K.x,y:gg.y-K.y});break;default:Da=this.Da;this.Da=V.imagePoint;this.G.eP().Ak().jS(ayO);break;}}this.G.cn();}};jV.prototype.kX=function(){function awt(h){var Jf=h.aiw();if(ahl.contains(Jf)&&ahl.contains({x:Jf.x+Jf.width,y:Jf.y+Jf.height})){h.set_selected(true);}};if(this.bm){if(!this.h){var ahl=this.aU.vE();this.G.eP().Ct(awt);this.aU.nU();}this.ax();}};jV.prototype.nZ=function(V){var bK=this.G.fN();if(V.windowPoint.x<=0||V.windowPoint.x>=bK.width-2){this.ax();}if(V.windowPoint.y<=0||V.windowPoint.y>=bK.height-2){this.ax();}};jV.prototype.lT=function(){this.ax();};module.exports=jV;},{}],25:[function(require,module,exports){var dh=require('./IPCC.Util').regClass;var Nm=function(){return this;};Nm.registerClass=dh;Nm.prototype={};Nm.registerClass('IPCC.ExceptionEventArgs');module.exports=Nm;},{"./IPCC.Util":29}],26:[function(require,module,exports){var dA=require('./IPCC.Util').regEnum;var pm=function(){};pm.registerEnum=dA;pm.prototype={FitToWidth:0,ShrinkToWidth:1,ActualSize:2,FitToHeight:3,BestFit:4};pm.registerEnum('IPCC.FitType',false);module.exports=pm;},{"./IPCC.Util":29}],27:[function(require,module,exports){var vY=function(){function Ef(){return Math.floor((Math.random()*10)).toString();};var gl=new Date();return Ef()+Ef()+'_'+gl.getTime()+"_"+Ef()+Ef()+Ef()+Ef();};module.exports=vY;},{}],28:[function(require,module,exports){var oU=function(){this.bm=false;this.G=false;};oU.prototype.nd=function(G){this.G=G;};oU.prototype.fL=function(){this.G=false;};oU.prototype.ax=function(){if(this.bm){this.bm=false;}};oU.prototype.pW=function(){this.ax();};oU.prototype.km=function(V){this.ax();if(V.domEvent.button===0){this.bm=true;this.Jx=V.imagePoint;}};oU.prototype.ki=function(V){if(V.domEvent.button!==0){this.ax();}if(this.bm){var G=this.G;var aU=G.aO();var az=aU.ef();var bK=G.fN();az.UG(this.Jx,V.windowPoint);az.ke(G.co(),bK);G.bB('userModifiedViewState',{});aU.iB(az);G.cn();}};oU.prototype.kX=function(){this.ax();};oU.prototype.nZ=function(V){var bK=this.G.fN();if(V.windowPoint.x<=0||V.windowPoint.x>=bK.width-2){this.ax();}if(V.windowPoint.y<=0||V.windowPoint.y>=bK.height-2){this.ax();}};oU.prototype.lT=function(){this.ax();};module.exports=oU;},{}],29:[function(require,module,exports){var J={};J.WD=(function(){var kJ={};var zi=[];kJ.get=function aGi(qB){if(zi.length===0){return;}for(var i=0;i<qB.length;i++){if(zi[i]&&zi[i].qB===qB){return zi[i].jh;}}};kJ.set=function aGK(qB,jh){zi.push({qB:qB,jh:jh});if(zi.length>10){zi.shift();}};kJ.contains=function jm(qB){return kJ.get(qB)!==undefined;};kJ.cacheReponse=function aGa(qB,jh){if(jh.readyState===4){kJ.set(qB,jh);}else{var aGn=jh.onreadystatechange;jh.onreadystatechange=function(){if(jh.readyState===XMLHttpRequest.DONE&&jh.status===200){kJ.set(qB,jh);}aGn();};}};return kJ;})();J.aaF=false;J.aqt=(function supportsSVG(){return! !('createElementNS'in document&&document.createElementNS('http://www.w3.org/2000/svg','svg').createSVGRect);})();J.Pi=(function(){var Pi=false;var rY=navigator.userAgent,Zc=((rY.indexOf('Mozilla/5.0')> -1&&rY.indexOf('Android ')> -1&&rY.indexOf('AppleWebKit')> -1)&& !(rY.indexOf('Chrome')> -1)),afN=new RegExp(/AppleWebKit\/([\d.]+)/),aAa=afN.exec(rY),amq=(aAa===null?null:parseFloat(afN.exec(rY)[1]));Pi=Zc&&amq!==null&&amq<537;return Pi;})();J.aCi=(function(){var adw=false;var rY=navigator.userAgent,Zc=/Android/i.test(rY),aBC=/iPhone|iPad|iPod/i.test(rY),aBn=/IEMobile/i.test(rY);adw=(Zc||aBC||aBn);return adw;})();J.Eb=(function(){var Eb=false;if(document.documentMode===8||document.documentMode===9||document.documentMode===10){Eb=true;}return Eb;})();J.zq=(function(){var anW=navigator.userAgent;if(document.documentMode===10||J.Pi){return 'svg';}else if(document.documentMode===9){return 'svga';}else if(/Apple Computer/.test(navigator.vendor||'')&&/Mac OS X.*?Version\/9\..*?Safari/i.test(anW)&& !J.aCi){return 'svga';}else{return 'svgb';}})();J.Fr=(function(){if(document.documentMode===8){document.namespaces.add('v','urn:schemas-microsoft-com:vml');document.createStyleSheet().addRule("v\\: *","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:roundrect","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:oval","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:roundrect","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:fill","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:line","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:shape","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:polyline","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:stroke","behavior:url(#default#VML); position:absolute");return true;}return false;})();J.BK=(function(){return window.navigator.pointerEnabled||window.navigator.msPointerEnabled;})();J.JR=J.BK||(function(){return('ontouchstart'in document.documentElement);})();J.aCt=(function(){return(navigator.platform)? ! !navigator.platform.match(/iPad|iPhone|iPod/g):false;})();J.acu=function(){return J.ayQ.btoa((Math.random().toString(36).slice(-4))+'_'+J.wG(new Date())+'_'+(Math.random().toString(36).slice(-6)));};J.inArray=function(dQ,ci){for(var i=0,l=dQ.length;i<l;i++){if(dQ[i]===ci){return true;}}return false;};J.forEach=function(bu,bH,cl){var qM=[].forEach,aEF=Object.prototype.hasOwnProperty;if(qM&&bu.forEach===qM){bH&&bu.forEach(bH,cl);}else if(bu.length=== +bu.length){for(var i=0,length=bu.length;i<length;i++){bH&&bH.call(cl,bu[i],i,bu);}}else{for(var al in bu){if(aEF.call(bu,al)){bH&&bH.call(cl,bu[al],al,bu);}}}};J.map=function(dQ,bH,cl){var qM=[].map,uU=[];if(qM&&dQ.map===qM){uU=dQ.map(bH,cl);}else{J.forEach(dQ,function(el,i){uU.push(bH.call(cl,el,i,dQ));});}return uU;};J.filter=function(dQ,bH,cl){var qM=[].filter,uU=[],ajN=false;if(qM&&dQ.filter===qM){uU=dQ.filter(bH,cl);}else{J.forEach(dQ,function(aK,i){ajN=bH.call(cl,aK,i,dQ);if(ajN){uU.push(aK);}});}return uU;};J.find=function(obj,cb,context){var hasProp=Object.prototype.hasOwnProperty;cb=(typeof cb==='function')?cb:function(){};if(obj.length=== +obj.length){for(var i=0,length=obj.length;i<length;i++){if(! !cb.call(context,obj[i],i,obj)){return obj[i];}}}else{for(var name in obj){if(hasProp.call(obj,name)){if(! !cb.call(context,obj[name],name,obj)){return obj[name];}}}}return undefined;};J.remove=function(dQ,bH,cl){var Un=[];var aoF=J.filter(dQ,bH,cl);J.forEach(aoF,function(ci){var an=J.indexOf(dQ,ci);if(an=== -1){return;}Un=Un.concat(dQ.splice(an,1));});return Un;};J.keys=function(bu){if(Object&&Object.keys){return Object.keys(bu);}else{var ob=[];for(var R in bu){if(bu.hasOwnProperty&&bu.hasOwnProperty(R)){ob.push(R);}}return ob;}};J.indexOf=function(dQ,agS,ajl){if(Array.prototype.indexOf){return dQ.indexOf(agS,ajl);}var k;if(dQ==null){throw new TypeError('"dQ" is null or not defined');}var O=Object(dQ);var len=O.length>>>0;if(len===0){return-1;}var n= +ajl||0;if(Math.abs(n)===Infinity){n=0;}if(n>=len){return-1;}k=Math.max(n>=0?n:len-Math.abs(n),0);while(k<len){if(k in O&&O[k]===agS){return k;}k++;}return-1;};J.reduce=function(dQ,bH,fB,cl){var qM=[].reduce;var EY=(arguments.length===2)?undefined:fB;if(qM&&typeof qM==='function'&&dQ.reduce===qM&&cl===undefined){if(fB!==undefined){return dQ.reduce(bH,fB,cl);}return dQ.reduce(bH);}IPCC.J.forEach(dQ,function(aJ,bO){if(EY===undefined){EY=aJ;return;}EY=bH.call(cl,EY,aJ,bO,dQ);});return EY;};J.reduceLeft=function(dQ,bH,fB,cl){var uU=dQ.reverse();return J.reduce.call(undefined,uU,bH,fB,cl);};J.contains=function(dQ,aJ){var dc=dQ.length;while(dc--){if(dQ[dc]===aJ){return true;}}return false;};J.axD=function(WX,ana){if(WX.length!==ana.length){return false;}for(var i=0,l=WX.length;i<l;i++){if(WX[i]!==ana[i]){return false;}}return true;};J.extend=function(target){"use strict";var source;if(!target){throw new IPCC.Web.UI.ImGearArgumentException("target","target must be defined.");}else if(typeof target!=='object'){throw new IPCC.Web.UI.ImGearArgumentException("target","typeof target must be 'object'");}else{for(var i=1;i<arguments.length;i++){source=arguments[i];for(var property in source){if(source.hasOwnProperty(property)){target[property]=source[property];}}}}return target;};J.trim=function(bX){if(String.prototype.trim){return bX.trim();}return bX.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,'');};J.getPageFromPoint=function(aa,bZ,cl){var apQ=function(ho){return ho.left<=aa&&aa<=ho.right&&ho.top<=bZ&&bZ<=ho.bottom;};var aqj=function(){return J.filter(cl.querySelectorAll('[id*=__pViewId]:not(.pccPreviousPage):not(.pccNextPage)'),function(jv){return apQ(jv.getBoundingClientRect());});};if(!cl){cl=document;}return aqj(aa,bZ)[0];};J.regEnum=function(name,flags){for(var i in this.prototype){if(this.prototype.hasOwnProperty(i)){this[i]=this.prototype[i];}}this.__typeName=name;this.__flags=flags;this.__enum=true;};J.regClass=function(typeName,baseType,interfaceTypes){this.prototype.constructor=this;this.__typeName=typeName;this.__class=true;if(baseType){this.__baseType=baseType;for(var Nj in baseType.prototype){if(baseType.prototype.hasOwnProperty(Nj)){var aFA=baseType.prototype[Nj];if(!this.prototype[Nj]){this.prototype[Nj]=aFA;}}}}return this;};J.aep=function(Yl,Sc,ahR){if(Sc){if(!ahR){Sc.apply(Yl);}else{Sc.apply(Yl,ahR);}}return Yl;};J.agW=function agW(wK,anP,afG){var rj;return function(){var cl=this,cs=arguments;var aCb=function(){rj=undefined;if(!afG){wK.apply(cl,cs);}};var axM=afG&& !rj;clearTimeout(rj);rj=setTimeout(aCb,anP);if(axM){wK.apply(cl,cs);}};};J.afr=function afr(aF,sg){if(aF.classList){aF.classList.add(sg);}else{aF.className+=' '+sg;}};J.acy=function acy(aF,sg){if(aF.classList){aF.classList.remove(sg);}else{aF.className=aF.className.replace(sg,'');}};J.Ys=function(je){return{width:je.width||(je.right-je.left),height:je.height||(je.bottom-je.top),top:je.top,bottom:je.bottom,left:je.left,right:je.right};};J.ahU=function(alphabet,size){var rh='';for(var R=0;R<size;R++){rh+=alphabet[Math.floor(Math.random()*1000)%alphabet.length];}return rh;};J.ase=function(){var ayl='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';var aBE='AQgw';return J.ahU(ayl,21)+J.ahU(aBE,1);};J.akB=function(){var hc={'Accusoft-Gid':J.ase(),'Accusoft-Parent-Name':'ViewerControl','Accusoft-Parent-Pid':0,'Accusoft-Parent-Taskid':0};return hc;};J.qr=function(ar){if(ar instanceof J.qr){return ar;}this.hc=J.reduce(ar.headers||{},function(ra,aJ,be){be=be.toLowerCase();if(ra[be]){ra[be]+=', '+aJ;}else{ra[be]=aJ;}return ra;},{});this.status=ar.status;this.statusText=ar.statusText;this.responseText=ar.responseText;if(typeof ar.responseBody!=='undefined'){this.responseBody=ar.responseBody;}return this;};J.qr.prototype.getResponseHeader=function(Ba){var ar=this.hc[Ba.toLowerCase()];return ar!==undefined?ar:null;};J.me=(function(){var yr={};yr.hc={};yr.Lu=undefined;function adI(ago){var hc={};if(!ago){return hc;}var agT=ago.split('\u000d\u000a');for(var R=0,cv=agT.length;R<cv;R++){var YO=agT[R];var an=YO.indexOf('\u003a\u0020');if(an>0){var be=YO.substring(0,an);var aJ=YO.substring(an+2);if(hc[be]){hc[be]+=', '+aJ;}else{hc[be]=aJ;}}}return hc;};yr.et=function(aAb){var zU={method:'GET',url:null,headers:{},body:null,timeout:null,mimeType:null,cache:false},lc=PCCViewer.Deferred(),cf=lc.getPromise(),qc;var bA=J.extend({},zU,aAb);bA.headers=J.extend({},yr.hc,bA.headers);if(typeof yr.Lu==='function'){qc=yr.Lu(bA);if(typeof qc==='object'&&typeof qc.then==='function'){qc.then(function(bC){lc.resolve(bC);},function(bC){lc.reject(bC);});return cf;}}if(bA.cache&&J.WD.contains(bA.url)){var jh=J.WD.get(bA.url);var ar,tN={};tN={status:jh.status,headers:adI(jh.getAllResponseHeaders())};try{tN.responseText=jh.responseText;}catch(e){}if(typeof jh.responseBody!=='undefined'){tN.responseBody=jh.responseBody;}ar=new J.qr(tN);if(jh.status>=200&&jh.status<300||status===304){lc.resolve(ar);}else{lc.reject({response:ar,error:new PCCViewer.Error("Error","An AJAX problem occurred: "+jh.status+" "+jh.statusText)});}return cf;}var jb,rj;try{jb=new XMLHttpRequest();}catch(e){lc.reject(new PCCViewer.Error("Error",e.message));}if(jb){jb.open(bA.method,bA.url,true);if(bA.timeout){rj=window.setTimeout(function(){jb.abort();lc.reject({error:new PCCViewer.Error("Error","Request timed out")});},bA.timeout);}jb.onreadystatechange=function(){var ar,tN={};if(jb.readyState===4){if(rj){window.clearTimeout(rj);}tN={status:jb.status,headers:adI(jb.getAllResponseHeaders())};try{tN.responseText=jb.responseText;}catch(e){}if(typeof jb.responseBody!=='undefined'){tN.responseBody=jb.responseBody;}ar=new J.qr(tN);if(jb.status>=200&&jb.status<300||status===304){lc.resolve(ar);}else{lc.reject({response:ar,error:new PCCViewer.Error("Error","An AJAX problem occurred: "+jb.status+" "+jb.statusText)});}}};var XO=J.extend({},bA.headers,J.akB());for(var be in XO){if(XO.hasOwnProperty(be)){jb.setRequestHeader(be,XO[be]);}}if(typeof bA.mimeType==='string'&&typeof jb.overrideMimeType==='function'){jb.overrideMimeType(bA.mimeType);}if(bA.cache){J.WD.cacheReponse(bA.url,jb);}jb.send(bA.body);}return cf;};return yr;})();J.Ue=function(gY,jg,fL){var hz=[],rG=null,uy=null,bM;var aBj=function(uy,rG){if(!rG){return false;}else{return Math.abs(uy.y-rG.y)<1&&Math.abs(uy.height-rG.height)<1&&uy.x+uy.width>=rG.x+rG.width;}};for(bM=jg;bM<fL+1;bM++){uy=gY.kA(bM).bV;if(aBj(uy,rG)){rG.union(uy);}else{rG=uy.clone();hz.push(rG);}}return hz;};J.addEvent=function addEvent(obj,event,handler){if(obj.addEventListener){obj.addEventListener(event,handler,false);}else if(obj.attachEvent){obj.attachEvent('on'+event,handler);}};J.removeEvent=function(obj,event,handler){if(obj.removeEventListener){obj.removeEventListener(event,handler,false);}else if(obj.detachEvent){obj.detachEvent('on'+event,handler);}};J.bspline=(function(){var d3_svg_lineBasisBezier1=[0,2/3,1/3,0],d3_svg_lineBasisBezier2=[0,1/3,2/3,0],d3_svg_lineBasisBezier3=[0,1/6,2/3,1/6];function d3_svg_lineLinear(points){return points.join("L");};function d3_svg_lineDot4(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3];};function d3_svg_lineBasisBezier(path,x,y){path.push("C",d3_svg_lineDot4(d3_svg_lineBasisBezier1,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier1,y),",",d3_svg_lineDot4(d3_svg_lineBasisBezier2,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier2,y),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,y));};function d3_svg_lineBasis(points){if(points.length<3){return d3_svg_lineLinear(points);}var i=1,n=points.length,pi=points[0],x0=pi[0],y0=pi[1],px=[x0,x0,x0,(pi=points[1])[0]],py=[y0,y0,y0,pi[1]],path=[x0,",",y0,"L",d3_svg_lineDot4(d3_svg_lineBasisBezier3,px),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,py)];points.push(points[n-1]);while(++i<=n){pi=points[i];px.shift();px.push(pi[0]);py.shift();py.push(pi[1]);d3_svg_lineBasisBezier(path,px,py);}points.pop();path.push("L",pi);return path.join("");};return function(aX){var avI=J.map(aX,function(aK){return[aK.x,aK.y];});return d3_svg_lineBasis(avI);};})();J.aIC=function(bX){if(bX.match(/[^a-zA-Z0-9\s\,\.]/)){throw new Error('The path data attribute is not valid. It cannot be parsed.');}var aEJ=J.filter(bX.replace(/[Mm]/g,'|').split('|'),function(g){return! !g.length;});var avE=J.map(aEJ,function(el){var aww=el.replace(/[a-zA-Z]/g,'|').split('|');return J.map(aww,function(eA){var ajo=eA.split(',');return{x: +ajo[0],y: +ajo[1]};});});return avE;};J.amE=function(bX,ig,ix,ih,bA){bA.dK="12px";var ie=J.uj(bX,ig,bA),wV=12*ix/(ie.width||1),wT=12*ih/(ie.height||1),aqE=Math.min(wV,wT);bA.dK=aqE;return J.aly(bX,ig,ix,ih,bA);};J.aly=function(bX,ig,ix,ih,bA,OW){OW=OW||1;var lD={},ie=J.uj(bX,ig,bA),dK=bA.dK;lD.width=ie.width;lD.height=ie.height;lD.fontSize=dK;if(OW>3){return lD;}if((ie.width<ix+1)&&(ie.height<ih+1)){return lD;}else{var wV=dK*ix/(ie.width||1),wT=dK*ih/(ie.height||1),zH=Math.min(wV,wT);if(zH>=bA.dK){return lD;}else{bA.dK=zH;return J.aly(bX,ig,ix,ih,bA,OW+1);}}};J.uj=function(bX,ig,bA){bA=bA||{};if(document.createElementNS){return J.aCU(bX,ig,bA);}else{return J.aaM(bX,ig,bA);}};J.aCU=function(bX,ig,bA){var svg,ahx=false;if(bA.fD){svg=bA.fD;}else{svg=document.createElementNS("http://www.w3.org/2000/svg","svg");svg.setAttribute('style','border: 1px solid black');svg.setAttribute('width','600');svg.setAttribute('height','600');ahx=true;document.body.appendChild(svg);}var dK=bA.dK||"12px";if(typeof dK==="number"){dK=dK+"px";}var cU=document.createElementNS("http://www.w3.org/2000/svg","text");J.forEach({x:0,y:0,'font-size':dK,'stroke':"none",'fill':"#000000",'font-family':ig},function(value,name){cU.setAttribute(name,value);});if(bA.vx){cU.setAttribute('style','white-space:'+bA.vx);}var nx=document.createTextNode(bX);cU.appendChild(nx);svg.appendChild(cU);var uG=cU.getBBox(),Kd=uG.width,Kw=uG.height;svg.removeChild(cU);if(ahx){document.body.removeChild(svg);}if(Kd===0&&Kw===0&&bX!=="M"){return J.uj("M",ig,bA);}else{return{width:Kd,height:Kw};}};J.aaM=function(bX,ig,bA){var nx=document.createTextNode(bX),DF=document.createElement('div');var dK=bA.dK||"12px";if(typeof dK==="number"){dK=dK+"px";}J.forEach({position:'absolute',display:'inline-block',top:0,left:0,visibility:'hidden',fontSize:dK,fontFamily:ig},function(value,name){DF.style[name]=value;});if(bA.vx){DF.style.whiteSpace=bA.vx;}DF.appendChild(nx);document.body.appendChild(DF);var uG=DF.getBoundingClientRect(),Kd=uG.width||uG.right-uG.left,Kw=uG.height||uG.bottom-uG.top;document.body.removeChild(DF);if(Kd===0&&Kw===0&&bX!=="M"){return J.aaM("M",ig,dK);}else{return{width:Kd,height:Kw};}};J.aav=function(svgPath){var regexp=/[\s,]*(M)[\s,]*([\d\.]+)[\s,]+([\d\.]+)|[\s,]*(C)[\s,]?([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)|[\s,]*(L)[\s,]*([\d\.]+)[\s,]+([\d\.]+)/g;var match=regexp.exec(svgPath);var xArr=[],yArr=[];function updateBounds(x,y){xArr.push(Number(x));yArr.push(Number(y));};while(match!==null){if(match[1]){updateBounds(match[2],match[3]);}else if(match[4]){updateBounds(match[5],match[6]);updateBounds(match[7],match[8]);updateBounds(match[9],match[10]);}else if(match[11]){updateBounds(match[12],match[13]);}match=regexp.exec(svgPath);}return{width:Math.max.apply(Math,xArr),height:Math.max.apply(Math,yArr)};};J.zM=(J.aqt)?{SVG:function SVG(Wo){var fD=document.createElementNS("http://www.w3.org/2000/svg","svg");fD.setAttribute('viewBox',Wo);return fD;},Path:function Path(rm,hl){var gz=document.createElementNS("http://www.w3.org/2000/svg","path");gz.style.fill='none';gz.style.stroke=hl.color||'#000000';gz.style.strokeWidth=hl.thickness||4;if(rm){gz.setAttribute('d',rm.toString().trim());}return gz;},Rect:function Rect(bg,aw,dY){var bG=document.createElementNS("http://www.w3.org/2000/svg","rect");bG.setAttribute('width',bg||0);bG.setAttribute('height',aw||0);if(dY){bG.setAttribute('style',dY);}return bG;}}:{SVG:function(Wo,Mz){var aF=document.createElement("div");aF.style.left="0px";aF.style.top="0px";aF.style.position="relative";aF.baseInit=false;aF.baseX=0;aF.baseY=0;var azw=aF.setAttribute;aF.setAttribute=function(be,C){if(be==="width"){this.style.width=C*(+Mz||1);}else if(be==="height"){this.style.height=C*(+Mz||1);}else if(be==="x"){this.style.left=C;}else if(be==="y"){this.style.top=C;}else if(be==="viewBox"){var qw=C.split(" ");this.style.height= +qw.pop()*(+Mz||1)+'px';this.style.width= +qw.pop()*(+Mz||1)+'px';}else{azw(be,C);}};aF.setAttribute('viewBox',Wo);aF.setAttribute('data-pcc-mark','signature');return aF;},Path:function(rm,hl){var aF=document.createElement("v:shape");aF.style.width=hl.width*(+hl.multiplier||1);aF.style.height=hl.height*(+hl.multiplier||1);aF.coordsize=[hl.width,hl.height].join(', ');aF.style.position="absolute";aF.setAttribute=function(be,C){if(be==="d"){var CX=0;var DM=0;C=C.replace(/(\d*)((\.*\d*)(e ?-?\d*))/g,"$1");var Ll=C.match(/([MLHVCSQTAZ].*?)(?=[MLHVCSQTAZ]|$)/gi);var alC="",gE=[];for(var i=0;i<Ll.length;i++){var eA=Ll[i].substring(0,1);var lG=Ll[i].substring(1,Ll[i].length);lG=lG.split(/[, ]/);for(var j=0;j<lG.length;j++){lG[j]=Math.round(lG[j]);}lG=lG.join();switch(eA){case "M":eA="m";gE=lG.split(/[, ]/);CX=parseInt(gE[0],10);DM=parseInt(gE[1],10);break;case "m":eA="t";gE=lG.split(/[, ]/);gE[0]=parseInt(gE[0],10)+parseInt(CX,10);gE[1]=parseInt(gE[1],10)+parseInt(DM,10);CX=parseInt(gE[0],10);DM=parseInt(gE[1],10);break;case "A":eA="ae";var cs=lG.split(/[, ]+/);cs[0]=parseInt(cs[0],10);cs[1]=parseInt(cs[1],10);cs[2]=parseInt(cs[2],10);cs[3]=parseInt(cs[3],10);cs[4]=parseInt(cs[4],10);cs[5]=parseInt(cs[5],10);lG=cs[4]+" "+cs[5]+" "+cs[2]*2+" "+cs[3]*2+" 0 360";break;case "L":eA="l";gE=lG.split(/[, ]+/);CX=parseInt(gE[0],10);DM=parseInt(gE[1],10);break;case "l":eA="r";gE=lG.split(/[, ]+/);gE[0]=parseInt(gE[0],10)+parseInt(CX,10);gE[1]=parseInt(gE[1],10)+parseInt(DM,10);CX=parseInt(gE[0],10);DM=parseInt(gE[1],10);break;case "c":eA="v";break;case "z":eA="xe";lG="";break;default:eA=eA.toLowerCase();}alC+=eA+lG;}this.path=alC;return;}else if(be==="stroke"){this.stroked=(C==="none"?0:1);this.strokecolor=C;return;}else if(be==="stroke-width"){this.strokeweight=parseFloat(C)/1.2+"pt";return;}else if(be==="fill"){this.filled=(C==="none"?0:1);this.fillcolor=C;return;}};if(rm){aF.setAttribute('d',rm);}aF.setAttribute('stroke-width',hl.thickness||4);aF.setAttribute('stroke',hl.color||'#000000');aF.filled=0;aF.fillcolor='none';return aF;},Rect:function(bg,aw){var aF=document.createElement("v:roundrect");aF.rxy=0;aF.svg2vmlStyle={fill:{value:"#000000",valueSource:"default"},stroke:{value:"none",valueSource:"default"},"stroke-width":{value:"1",valueSource:"default"}};aF.setAttribute=function(be,C,axQ){if(this.svg2vmlStyle[be]){this.svg2vmlStyle[be]["value"]=C;this.svg2vmlStyle[be]["valueSource"]=(axQ||"user");}if(be==="x"){this.style.left=parseInt(C,10)+'px';return;}else if(be==="y"){this.style.top=parseInt(C,10)+'px';return;}else if(be==="stroke"){this.stroked=(C==="none"?0:1);this.strokecolor=C;return;}else if(be==="stroke-width"){this.strokeweight=parseFloat(C)/1.2+"pt";return;}else if(be==="fill"){this.filled=(C==="none"?0:1);this.fillcolor=C;return;}else if(be==="width"||be==="height"||be==="rx"||be==="ry"){if(be==="width"){this.style.width=parseInt(C,10)+'px';}else if(be==="height"){this.style.height=parseInt(C,10)+'px';}else if(be==="rx"||be==="ry"){if(parseInt(C,10)){this.rxy=parseInt(C,10);}}if(this.rxy!==0){var Ij=parseInt(this.style.width,10);var Re=parseInt(this.style.height,10);if(!Ij){Ij=0;}if(!Re){Re=0;}if(Re<Ij){Ij=Re;}var LE=this.rxy/Ij;this.arcsize=LE;}else{this.arcsize=0;}return;}};if(bg){aF.setAttribute('width',bg);}if(aw){aF.setAttribute('height',aw);}for(var be in aF.svg2vmlStyle){if((aF.svg2vmlStyle[be]["value"])&&(aF.svg2vmlStyle[be]["valueSource"]==="default")){aF.setAttribute(be,aF.svg2vmlStyle[be]["value"],"default");}}return aF;}};J.JE=function JE(lW){var regexIso8601=/^(\d{4}|\+\d{6})(?:-(\d{2})(?:-(\d{2})(?:T(\d{2}):(\d{2}):(\d{2})\.(\d{1,3})(?:Z|([\-+])(\d{2}):(\d{2}))?)?)?)?$/;var m=regexIso8601.exec(lW);if(m){return Date.UTC(m[1],(m[2]||1)-1,m[3]||1,m[4]-(m[8]?m[8]+m[9]:0)||0,m[5]-(m[8]?m[8]+m[10]:0)||0,m[6]||0,((m[7]||0)+'00').substr(0,3));}else{return new Error(lW+' cannot be parsed as an ISO 8601 date.');}};J.wG=function aFg(gl){if(gl.toISOString&&typeof gl.toISOString==='function'){return gl.toISOString();}else if(gl instanceof Date){var pad=function pad(number){if(number<10){return '0'+number;}return number;};return gl.getUTCFullYear()+'-'+pad(gl.getUTCMonth()+1)+'-'+pad(gl.getUTCDate())+'T'+pad(gl.getUTCHours())+':'+pad(gl.getUTCMinutes())+':'+pad(gl.getUTCSeconds())+'.'+(gl.getUTCMilliseconds()/1000).toFixed(3).slice(2,5)+'Z';}else{return new Error(gl+' is not a Date object.');}};J.uY=function uY(o){return(!o?false:typeof Node==="object"?o instanceof Node:o&&typeof o==="object"&&typeof o.nodeType==="number"&&typeof o.nodeName==="string");};J.QU=function QU(o){if(J.uY(o)){while(o.firstChild){o.removeChild(o.firstChild);}}};J.Yc=function sync(funcs,done){var counter=funcs.length;var idx=0;var next=function(err){if(err){done(err);}else if(--counter===0){done();}else{funcs[idx++](next);}};funcs[idx++](next);};J.aht=function(aJ){aJ=String(aJ).replace(/[^0-9a-f]/gi,"");if(aJ.length<6){aJ=aJ[0]+aJ[0]+aJ[1]+aJ[1]+aJ[2]+aJ[2];}var TU=function(bX){return parseInt(bX,16);};var r=TU(aJ.substring(0,2));var g=TU(aJ.substring(2,4));var b=TU(aJ.substring(4,6));return{r:r,g:g,b:b};};J.azq=function(aJ){var PK="";var Mb=function(n){while(n.length<2){n='0'+n;}return n;};var TE=function(n){return Mb(n.toString(16));};PK+=TE(Math.floor(aJ.r));PK+=TE(Math.floor(aJ.g));PK+=TE(Math.floor(aJ.b));return '#'+PK;};J.arf=function(aqQ,ayx,aqe){var Db=aqe,_E=J.aht(aqQ),oq=J.aht(ayx);oq.r=(1-Db)*oq.r+(_E.r*Db);oq.g=(1-Db)*oq.g+(_E.g*Db);oq.b=(1-Db)*oq.b+(_E.b*Db);oq.r=Math.floor(oq.r);oq.g=Math.floor(oq.g);oq.b=Math.floor(oq.b);return J.azq(oq);};J.ajH=function(avs,uC){var arR=J.reduceLeft(avs,function(fB,cD){if(cD.opacity===undefined){cD.opacity=127;}var aCE=cD.opacity/255;return J.arf(cD.color,fB,aCE);},uC);return arR;};J.alZ=function(gU){if(gU.length===0){return gU;}var eN=gU.slice(0);eN.sort(function(a,b){return a.startIndex-b.startIndex;});var WU=null;var kN=[];var TL=0,Pa=[];var R=eN[0].startIndex;while(eN.length>0){TL=0;Pa=null;Pa=[];var bM=0;while(bM<eN.length&&eN[bM].startIndex<=R){if(R<=eN[bM].startIndex+eN[bM].length-1){TL++;Pa.push(eN[bM]);bM++;}else{eN.splice(bM,1);}}if(TL>0){var EJ=J.ajH(Pa,'#ffffff');if(EJ===WU){kN[kN.length-1].endIndex=R;}else{kN.push({startIndex:R,endIndex:R,color:EJ});}WU=EJ;R++;}else{if(eN.length>0){R=eN[0].startIndex;}WU=null;}}return kN;};J.FG=function(RG){return RG.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");};J.aba=function(ab){var blackListPattern=/^\s*(file|data|javascript|[a-z]):.*$/i;return blackListPattern.test(ab);};J.Mb=function(jc,dc){var bX=""+jc;while(bX.length<dc){bX='0'+bX;}return bX;};J.aFV=function(ei){var fR=ei.getTimezoneOffset();fR=((fR<0?'+':'-')+J.Mb(parseInt(Math.abs(fR/60),10),2)+J.Mb(Math.abs(fR%60),2));return fR;};J.ahq=['Sun','Mon','Tue','Wed','Thurs','Fri','Sat'];J.Rg=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];J.akA=function(Qz){var aBF=/^\s*\w+\s+(\w+)\s+(\d+)\s+(\d+):(\d+):(\d+)\s+GMT[+-]?\d+\s+(\d+)\s*$/i,bC=aBF.exec(Qz),afs,CF,agc,aeN,afy,xS,ahk;if(!bC){return null;}else{afs=bC[1].toLowerCase();agc=bC[2];aeN=bC[3];afy=bC[4];xS=bC[5];ahk=bC[6];for(CF=0;CF<12;CF++){if(J.Rg[CF].toLowerCase()===afs){break;}}if(CF>=12){return null;}return new Date(Date.UTC(ahk,CF,agc,aeN,afy,xS));}};J.acI=function(ei){return(J.ahq[ei.getUTCDay()]+" "+J.Rg[ei.getUTCMonth()]+" "+ei.getUTCDate()+" "+ei.getUTCHours()+':'+ei.getUTCMinutes()+':'+ei.getUTCSeconds()+" "+"GMT+0000 "+ei.getUTCFullYear());};J.arW=function(ei){return(J.ahq[ei.getUTCDay()]+" "+J.Rg[ei.getUTCMonth()]+" "+ei.getUTCDate()+" "+ei.getUTCFullYear());};J.asf=function(ei){return(ei.getUTCHours()+':'+ei.getUTCMinutes()+':'+ei.getUTCSeconds()+" "+"GMT+0000");};J.oP=function(text){return text.replace(/[&<>\"\']/g,function(char){switch(char){case "&":return "&amp;";case "<":return "&lt;";case ">":return "&gt;";case "\"":return "&quot;";case "'":return "&apos;";default:throw new Error("Did not find a replacement character.");}});};J.ya=function(text){return text.replace(/&amp;/g,'&').replace(/&gt;/g,'>').replace(/&lt;/g,'<').replace(/&quot;/g,'"').replace(/&apos;/g,'\'');};J.ayQ=(function(chars){chars='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';function InvalidCharacterError(message){this.message=message;};InvalidCharacterError.prototype=new Error;InvalidCharacterError.prototype.name='InvalidCharacterError';function btoa(input){var str=String(input);for(var block,charCode,idx=0,map=chars,output='';str.charAt(idx|0)||(map='=',idx%1);output+=map.charAt(63&block>>8-idx%1*8)){charCode=str.charCodeAt(idx+=3/4);if(charCode>0xFF){throw new InvalidCharacterError("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");}block=block<<8|charCode;}return output;};function atob(input){var str=String(input).replace(/=+$/,'');if(str.length%4==1){throw new InvalidCharacterError("'atob' failed: The string to be decoded is not correctly encoded.");}for(var bc=0,bs,buffer,idx=0,output='';buffer=str.charAt(idx++);~buffer&&(bs=bc%4?bs*64+buffer:buffer,bc++ %4)?output+=String.fromCharCode(255&bs>>(-2*bc&6)):0){buffer=chars.indexOf(buffer);}return output;};return{btoa:btoa,atob:atob};})();J.nJ=(function(){var nJ=['down','enter','leave','move','out','over','up'];if(window.navigator.pointerEnabled){var aeq={};nJ.forEach(function(afj){aeq[afj]='pointer'+afj;});return aeq;}if(window.navigator.msPointerEnabled){var abM={};for(var R=0;R<nJ.length;R++){var Wv=nJ[R];var aDl='MSPointer'+Wv.charAt(0).toUpperCase()+Wv.slice(1);abM[Wv]=aDl;}return abM;}return{};})();J.yP=(function(){return{zS: ! !navigator.userAgent.match('Edge'),aFB:document.documentMode!==undefined,aFk:document.documentMode===8,aGI:document.documentMode===9,aGC:document.documentMode===10,aFc:document.documentMode===11,aCv:(navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i))};})();J.NG=(function(oE){if(!oE|| !IPCC.J.trim(oE)){return 'regular';}return IPCC.J.trim(oE).toLowerCase();});J.aHv=function(arg,value){return typeof arg!=='undefined'?arg:value;};J.KZ=function(value){return Number(value.replace(/[a-z]+$/,''));};J.Pq=function(elem,propertyName){if(elem.currentStyle){return elem.currentStyle[propertyName];}else{return window.getComputedStyle(elem,null).getPropertyValue(propertyName);}};J.adn=function(){if(this.qI===undefined){this.qI=document.createTextNode('');}return this.qI;};J.abW=function(){if(this.cz===undefined){this.cz=document.createElement('textarea');this.qI=document.createTextNode('');this.cz.appendChild(J.qI);this.cz.style.position='absolute';this.cz.style.overflow='hidden';this.cz.style.width='80px';this.cz.style.height='80px';this.cz.style.resize='none';this.cz.style.top='-9999px';this.cz.style.left='-9999px';this.cz.style.whiteSpace='pre-wrap';this.cz.style.border=0;this.cz.style.padding='2px';document.body.appendChild(this.cz);}return this.cz;};J.Yy=function(cz,Gn,bU){var Yw=0.1;var GP;if(Gn===0||Gn>bU){Gn=bU;}while(Yw<=Gn){GP=(Yw+Gn)/2;cz.style.fontSize=GP+'px';if(cz.scrollHeight<=cz.offsetHeight){Yw=GP+0.1;}else{Gn=GP-0.1;}}var aiX=(GP-0.5)*0.95;cz.style.fontSize=aiX+'px';return aiX;};J.MX=function(wK,qu,To,qc){if(wK(qu,To)!==To){return typeof(qc)==='number'?qc:To;}return qu;};J.Os=function(qu,aFb,qc){return J.MX(Math.min,qu,aFb,qc);};J.ME=function(qu,aDt,qc){return J.MX(Math.max,qu,aDt,qc);};J.anB=(function(){var Hl;return function(apm,lb,arH){if(Hl!==undefined&& !arH){setTimeout(lb.bind(null,Hl),0);return;}aDd(apm,function(rh){Hl=rh;lb(rh);});};function aDd(KV,lb){var ig='jctqxvjmncyjagibfltptfzhknc';var jt='@font-face {font-family:'+ig+';src:url(data:application/x-font-woff;charset=utf-8;base64,d09GRk9UVE8AAAQoAAkAAAAAA+QAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABDRkYgAAAC+AAAARkAAAEZ9R5YPk9TLzIAAAFEAAAAYAAAAGBKDUcOY21hcAAAAqwAAAAsAAAALAAMAFZoZWFkAAAA4AAAADYAAAA2+UdJt2hoZWEAAAEYAAAAJAAAACQIOgMbaG10eAAABBQAAAAUAAAAFAhtAW5tYXhwAAABPAAAAAYAAAAGAAVQAG5hbWUAAAGkAAABBQAAAQVCmPyecG9zdAAAAtgAAAAgAAAAIAADAAAAAQAAAAEAAM9NZw1fDzz1AAAD6AAAAADLUgMfAAAAAMtSAx8Ac//5AxwCmwAAAAgAAgAAAAAAAAABAAACm//5Ag4DHABzAAADHAABAAAAAAAAAAAAAAAAAAAABQAAUAAABQAAAAQCzwGQAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAEFDQ1UAQAAfACMCm//5AkACmwAHAAAAAQAAAAAAAAAAAAAAIAAAAAAABgBOAAEAAAAAAAEAGwAAAAEAAAAAAAIABwBRAAEAAAAAAAYAGwBmAAMAAQQJAAEANgAbAAMAAQQJAAIADgBYAAMAAQQJAAYANgCBamN0cXh2am1uY3lqYWdpYmZsdHB0Znpoa25jAGoAYwB0AHEAeAB2AGoAbQBuAGMAeQBqAGEAZwBpAGIAZgBsAHQAcAB0AGYAegBoAGsAbgBjUmVndWxhcgBSAGUAZwB1AGwAYQByamN0cXh2am1uY3lqYWdpYmZsdHB0Znpoa25jAGoAYwB0AHEAeAB2AGoAbQBuAGMAeQBqAGEAZwBpAGIAZgBsAHQAcAB0AGYAegBoAGsAbgBjAAAAAAAAAQADAAEAAAAMAAQAIAAAAAQABAABAAAAI///AAAAIP///+EAAQAAAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEABAQAAQEBHGpjdHF4dmptbmN5amFnaWJmbHRwdGZ6aGtuYwABAQEq+Bv4HIsMHvgdAvgdA/cHhPmw+S8FiwwfkAwi95sMJPc5DCX3NA/3QREABAEBBg8qRUFkb2JlSWRlbnRpdHkwamN0cXh2am1uY3lqYWdpYmZsdHB0Znpoa25jamN0cXh2am1uY3lqYWdpYmZsdHB0Znpoa25jAAACAAEAAwMAAQAAAAAFAAUBAQIDFDNSDg7Q9xX5JxX5J4uL/Sf9J4sFDtj3LvkOFYv89fj1i4v49QWs/RUV/TaLi/k2+TaLBQ77JvcHixWL+NH4XouL/NEF/FCZFfhCi4v4tfxCiwUOAAEBAQn4HgwmkPeoEosU+WMVAAAAAAAAAAAAAAADFACBAxwAegI9AHM=)}';var dY;var nM;var afU;var alK,amx;avz();aDR(function(rh){aAz();lb(rh);});function avz(){dY=document.createElement('style');dY.innerText=jt;KV.appendChild(dY);nM=document.createElement('div');nM.style.cssText='position: absolute;width: 100%;top:-9999px;left: -9999px;visibility: hidden;pointer-events: none;';alK=adX(nM,'monospace');amx=adX(nM,'arial');KV.appendChild(nM);};function aAz(){clearInterval(afU);KV.removeChild(nM);KV.removeChild(dY);};function aDR(bH){var alE=Date.now();var rj=500;var aCO=25;afU=setInterval(function(){var agw=alK.offsetWidth===amx.offsetWidth;if(agw||Date.now()-alE>rj){bH(agw);}},aCO);};function adX(nM,jt){var axg='!!';var amV=document.createElement('div');var Jd=document.createElement('span');Jd.style.cssText='font-size: 30px; font-weight: normal; font-style: normal; letter-spacing: 0px; white-space: nowrap;';Jd.innerText=axg;Jd.style.fontFamily=ig+', '+jt;amV.appendChild(Jd);nM.appendChild(amV);return Jd;}}})();module.exports=J;},{}],30:[function(require,module,exports){var zQ=require('./Type');zQ.registerNamespace('IPCC');module.exports={Pagecounter:1,gi:true,akw:null,initializePageViewPlugin:require('./initializePageViewPlugin'),initializePageListPlugin:require('./initializePageListPlugin'),pL:require('./predefinedContextMenu'),Zo:require('./indexOf'),KN:require('./setProperties'),ba:require('./PageItem'),vY:require('./GetUniqueID'),WK:require('./ViewerState'),uh:require('./Configuration'),aW:require('./Cursor'),kE:require('./Res'),aV:require('./Validate'),jf:require('./Debug'),eh:require('./MenuCommand'),PageLayout:require('./PageLayout'),ViewMode:require('./ViewMode'),FitType:require('./FitType'),ScaleTrigger:require('./ScaleTrigger'),PageEventArgs:require('./PageEventArgs'),ExceptionEventArgs:require('./ExceptionEventArgs'),OpenPageEventArgs:require('./OpenPageEventArgs'),PageList:require('./PageList'),Web:require('./Web/Web'),Type:zQ,J:require('./IPCC.Util'),dM:require('./Art'),lq:require('./SelectTextController'),fH:require('./Matrix'),XR:require('./ViewerModel'),eI:require('./ContextMenuController'),fA:require('./SvgUIDirector'),oD:require('./PropertyChangedEventArgs'),hy:require('./Browser'),Aw:require('./StringBuilder'),cQ:require('./MultiTouchController'),rF:require('./ImagePyramid'),dH:require('./SingleTouchController'),ky:require('./AddPolyMarkController'),oM:require('./SelectController'),dZ:require('./AddRectangularMarkController'),ld:require('./AddFreehandMarkController'),mE:require('./AddLineMarkController'),bY:require('./MouseWheelController'),oU:require('./HandPanController'),lK:require('./RectangleZoomController'),pJ:require('./MagnifierController'),jV:require('./EditMarksController'),Al:require('./RunMarksController'),Ce:require('./Space'),gG:require('./Image'),Ql:require('./ImagePool'),Dr:require('./PyramidLevel'),vB:require('./PyramidTile'),};},{"./AddFreehandMarkController":12,"./AddLineMarkController":13,"./AddPolyMarkController":14,"./AddRectangularMarkController":15,"./Art":16,"./Browser":19,"./Configuration":20,"./ContextMenuController":21,"./Cursor":22,"./Debug":23,"./EditMarksController":24,"./ExceptionEventArgs":25,"./FitType":26,"./GetUniqueID":27,"./HandPanController":28,"./IPCC.Util":29,"./Image":31,"./ImagePool":32,"./ImagePyramid":33,"./MagnifierController":34,"./Matrix":35,"./MenuCommand":36,"./MouseWheelController":37,"./MultiTouchController":38,"./OpenPageEventArgs":39,"./PageEventArgs":40,"./PageItem":41,"./PageLayout":42,"./PageList":43,"./PropertyChangedEventArgs":44,"./PyramidLevel":45,"./PyramidTile":46,"./RectangleZoomController":47,"./Res":48,"./RunMarksController":49,"./ScaleTrigger":50,"./SelectController":51,"./SelectTextController":52,"./SingleTouchController":53,"./Space":54,"./StringBuilder":55,"./SvgUIDirector":56,"./Type":57,"./Validate":58,"./ViewMode":59,"./ViewerModel":60,"./ViewerState":61,"./Web/Web":125,"./indexOf":126,"./initializePageListPlugin":127,"./initializePageViewPlugin":128,"./predefinedContextMenu":129,"./setProperties":130}],31:[function(require,module,exports){var gG=function(jL,aP,bg,aw,fZ,gj){IPCC.Ce.call(this,0,0,0,0);this.width=bg;this.height=aw;this.fZ=fZ;this.gj=gj;this.aP=aP||0;this.eD=0;this.pP=true;this.axV={};this.AC=false;var F=this;this.aP=aP;this.get_url=function(gO,fo,ad){fo=fo||'Image';ad=ad||'';var Cz=gG.Hq(jL);var Fb=false;if(/^[\x00-\x7F]*$/.test(Cz)){Fb=true;}if(ad===null||ad===''){if(fo==='Attributes'){var vd='';if(!IPCC.uh.IM()){vd='&ContentType=png';}if(!Fb){return gO+'/Page/q/'+aP.toString()+'/'+fo+'?DocumentID=e'+jL+vd;}else{return gO+'/Page/q/'+aP.toString()+'/'+fo+'?DocumentID=u'+encodeURIComponent(Cz)+vd;}}else{if(fo==='SvgImage'){if(!Fb){return gO+'/Page/q/'+aP.toString()+'?DocumentID=e'+jL+'&'+ad;}else{return gO+'/Page/q/'+aP.toString()+'?DocumentID=u'+encodeURIComponent(Cz)+'&'+ad;}}if(!Fb){return gO+'/Page/q/'+aP.toString()+'/'+fo+'?DocumentID=e'+jL+'&'+ad;}else{return gO+'/Page/q/'+aP.toString()+'/'+fo+'?DocumentID=u'+encodeURIComponent(Cz)+'&'+ad;}}}else{if(fo==='SvgImage'){if(!Fb){return gO+'/Page/q/'+aP.toString()+'?DocumentID=e'+jL+'&'+ad;}else{return gO+'/Page/q/'+aP.toString()+'?DocumentID=u'+encodeURIComponent(Cz)+'&'+ad;}}if(!Fb){return gO+'/Page/q/'+aP.toString()+'/'+fo+'?DocumentID=e'+jL+'&'+ad;}else{return gO+'/Page/q/'+aP.toString()+'/'+fo+'?DocumentID=u'+encodeURIComponent(Cz)+'&'+ad;}}};this.get_urlArt=function(gO,fo,ad){fo=fo||'Art';ad=ad||'';if(ad===null||ad===''){if(fo==='Art'){return gO+'/Page/q/'+aP.toString()+'/'+fo+'?DocumentID=e'+jL;}}else{return gO+'/Page/q/'+aP.toString()+'/'+fo+'?DocumentID=e'+jL+'&'+ad;}};this.get_identifier=function(){return IPCC.gG.Hq(jL);};this.get_encodedIdentifier=function(){return jL;};this.toString=function(){return 'Image("'+jL+'", '+this.aP+', '+this.width+' x '+this.height+', '+this.fZ+', '+this.gj+')';};function agf(aoZ,G){if(G.ZO()){F.pP=true;F.AC=false;return;}var abq=aoZ.split(',');var mA=false;for(var bi=0;bi<abq.length;bi++){if(abq[bi]==="SVG"||abq[bi]==="svg"){if(IPCC.uh.IM()){F.AC=true;F.pP=false;}else{F.AC=false;}mA=true;break;}}if(!mA){F.AC=false;F.pP=true;}if(G){if(G.Ly){G.Ly(F.AC);}}};this.SK=function(gO,G,yl){G.aP=this.aP;var ma=0;var lQ=G.AH();if(lQ){if(document.documentMode<9){lQ=false;}}var qi=true;if(G.lm()===0){qi=false;}var nS=function(fu,ar){try{if(fu===null){throw new IPCC.Web.UI.ImGearArgumentException(null,'Unable to load the specified image. Failed to obtain Image attributes. Returned JSON from the server is null');}if(fu.errorCode){if(fu.errorCode==='SvgNotAvailable'){lQ=false;F.width= +(fu.pageAttributes.imageWidth);F.height= +(fu.pageAttributes.imageHeight);F.fZ= +(fu.pageAttributes.imageXResolution);if(F.fZ<=0){F.fZ=72;}F.gj= +(fu.pageAttributes.imageYResolution);if(F.gj<=0){F.gj=72;}F.eD= +(fu.pageAttributes.pageCount);F.pP=fu.pageAttributes.isRaster!=='false';agf(fu.pageAttributes.contentType,G);}}else{F.width= +(fu.imageWidth);F.height= +(fu.imageHeight);F.fZ= +(fu.imageXResolution);if(F.fZ<=0){F.fZ=72;}F.gj= +(fu.imageYResolution);if(F.gj<=0){F.gj=72;}F.eD= +(fu.pageCount);F.pP=fu.isRaster!=='false';agf(fu.contentType,G);}var pg=ar.getResponseHeader("Accusoft-Data-Encrypted");var Gb=false;if(pg==="true"){Gb=true;}G.ady(Gb);if(yl){yl();}}catch(e){G.bp('openPage',e);if(typeof(G.bB)==='function'){var cG=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cG.exception=e;cG.pageNumber=G.aP;G.bB('pageOpenFailed',cG);}}};function NK(){lQ=false;if(ma<1){var gd={method:'GET',url:F.get_url(gO,'Attributes'),headers:{'Content-Type':'application/json'}};if(qi===true){gd.timeout=G.lm();}IPCC.J.me.et(gd).then(en,eo);ma++;}};var axF=function(hC,ar){var bg;var aw;function asP(){var XW;try{XW=JSON.parse(hC);}catch(af){XW=undefined;lQ=true;}return XW;};try{bg=hC.match(/width=\"([0-9.]+)\"/);aw=hC.match(/height=\"([0-9.]+)\"/);if(bg&&aw){bg=Number(bg[1]);aw=Number(aw[1]);}else{throw "error";}if(isNaN(bg)||isNaN(aw)){throw "error";}F.width=bg;F.height=aw;F.fZ=72;F.gj=72;F.AC=true;F.pP=false;if(G){if(typeof(G.Ly==='function')){G.Ly(F.AC);}}if(yl){yl();}}catch(e){var bC=asP();if(bC){nS(bC,ar);return;}if(lQ){if(ma<1){lQ=false;setTimeout(NK,10);return;}}G.bp('openPage',e);if(typeof(G.bB)==='function'){var cG=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cG.exception=e;cG.pageNumber=G.aP;G.bB('pageOpenFailed',cG);}}};function en(ar){var bC=null,cJ;try{if(!lQ){bC=JSON.parse(ar.responseText);nS(bC,ar);}else{var ng;var pg=ar.getResponseHeader("Accusoft-Data-Encrypted");if(pg==='true'&&G.jz()===true){var ud=IPCC.Web.fV.pu.vy(ar.getResponseHeader("Accusoft-Data-SK"));var be=IPCC.Web.Hi(ud,jp);var ew=IPCC.Web.FX(ar);var va=IPCC.Web.Ey(ew,be,jp);ng=IPCC.Web.fV.HN.md(va);}else{ng=ar.responseText;}var ZF;if(ng.length>=1000){ZF=ng.substring(0,1000);}else{ZF=ng.substring(0,ng.length);}axF(ZF,ar);}}catch(ex){if(lQ){lQ=false;if(ma<1){setTimeout(NK,10);return;}}cJ="Attributes parsing error, Error message = "+ex.message;throw new IPCC.Web.UI.ImGearArgumentException(null,cJ);}};function eo(bC){try{var cJ,lL,lV;if(!bC.response){throw new IPCC.Web.UI.ImGearHttpException(bC.response.status,"Client timed out on load");}if(bC.response.status===403){ma++;if(bC.response.statusText&&bC.response.statusText!==""){cJ="Expired viewer session ID, error message from the server: "+bC.response.statusText;}else{cJ="Expired viewer session ID. Np error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(bC.response.status,cJ);}if(lQ){lQ=false;if(ma<1){setTimeout(NK,10);return;}}lV=bC.response.getResponseHeader('Accusoft-Status-Message');if(lV){var qW;lL=bC.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.xN(lL)){qW=parseInt(lL,10);}throw new IPCC.Web.UI.ImGearHttpException(bC.response.status,lV,qW);}else{if(bC.response.statusText&&bC.response.statusText!==""){cJ="Error message from the service: "+bC.response.statusText;}else{cJ="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(bC.response.status,cJ);}}catch(e){if(lQ){lQ=false;if(ma<1){setTimeout(NK,10);return;}}G.bp('openPage',e);if(typeof(G.bB)==='function'){var cG=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cG.exception=e;cG.pageNumber=G.aP;G.bB('pageOpenFailed',cG);}}};var jp=IPCC.Web.EU.acR(4,IPCC.Web.Pj());var qC=IPCC.Web.fV.Hy.md(jp);var gd={method:'GET',cache:true};if(!lQ){gd.url=this.get_url(gO,'Attributes');gd.headers={'Content-Type':'application/json'};}else{var ab;if(G.jz()===true){jp=IPCC.Web.EU.aaW(4,IPCC.Web.Pj());qC=IPCC.Web.fV.Hy.md(jp);ab=this.get_url(gO,'SvgImage','Scale=1&ContentType='+IPCC.J.zq+'&iv='+qC);}else{ab=this.get_url(gO,'SvgImage','Scale=1&ContentType='+IPCC.J.zq);}gd.url=ab;}IPCC.J.me.et(gd).then(en,eo);};this.azr=function(gO,G,yl){G.aP=this.aP;var ma=0;var qi=true;if(G.lm()===0){qi=false;}var nS=function(fu,ar){try{if(fu===null){throw new IPCC.Web.UI.ImGearArgumentException(null,'Unable to load the specified image. Failed to obtain Image attributes. Returned JSON from the server is null');}F.width= +(fu.imageWidth);F.height= +(fu.imageHeight);F.fZ= +(fu.imageXResolution);if(F.fZ<=0){F.fZ=72;}F.gj= +(fu.imageYResolution);if(F.gj<=0){F.gj=72;}F.eD= +(fu.pageCount);F.pP=true;var pg=ar.getResponseHeader("Accusoft-Data-Encrypted");var Gb=false;if(pg==="true"){Gb=true;}G.ady(Gb);if(yl){yl();}}catch(e){G.bp('openPage',e);if(typeof(G.bB)==='function'){var cG=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cG.exception=e;cG.pageNumber=G.aP;G.bB('pageOpenFailed',cG);}}};function en(ar){try{var gc=ar.status,bC,cJ;if(gc===200){bC=null;try{bC=JSON.parse(ar.responseText);nS(bC,ar);}catch(ex){cJ="Attributes parsing error, Error meesage = "+ex.message;throw new IPCC.Web.UI.ImGearArgumentException(null,cJ);}}}catch(e){G.bp('openPageForRaster',e);if(typeof(G.bB)==='function'){var cG=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cG.exception=e;cG.pageNumber=G.aP;G.bB('pageOpenFailed',cG);}}};function eo(bC){try{var gc=bC.response.status,cJ,lV,lL;if(!bC.response){throw new IPCC.Web.UI.ImGearHttpException(gc,"Client timed out on load");}if(gc===403){ma++;if(bC.response.statusText&&bC.response.statusText!==""){cJ="Expired viewer session ID, error message from the server: "+bC.response.statusText;}else{cJ="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(gc,cJ);}lV=bC.response.getResponseHeader('Accusoft-Status-Message');if(lV){var qW;lL=bC.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.xN(lL)){qW=parseInt(lL,10);}throw new IPCC.Web.UI.ImGearHttpException(gc,lV,qW);}else{if(bC.response.statusText&&bC.response.statusText!==""){cJ="Error message from the service: "+bC.response.statusText;}else{cJ="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(gc,cJ);}}catch(e){G.bp('openPageForRaster',e);if(typeof(G.bB)==='function'){var cG=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cG.exception=e;cG.pageNumber=G.aP;G.bB('pageOpenFailed',cG);}}};var abX={method:'GET',url:this.get_url(gO,'Attributes'),headers:{'Content-Type':'application/json'}};if(qi===true){abX.timeout=G.lm();}IPCC.J.me.et(abX).then(en,eo);};return this;};gG.prototype.clone=function(){var Tc=new gG(this.get_encodedIdentifier(),this.aP,this.width,this.height,this.fZ,this.gj);Tc.eD=this.eD;Tc.pP=this.pP;return Tc;};gG.prototype.equals=function(C){if(this.get_encodedIdentifier()!==C.get_encodedIdentifier()){return false;}if(this.aP!==C.aP){return false;}return true;};gG.prototype.qV=8;gG.prototype.sV=0.000001;gG.aiF=function(ad){var HD=ad.referenceDocumentIdentifier;var aen=gG.rI(HD);var gZ=ad.encodedDocumentIdentifier;var iq=ad.documentIdentifier;var eK;if(gZ===''){gZ=undefined;}if(iq===''){iq=undefined;}if(HD&&HD!==''){if(gZ===aen){gZ=undefined;}if(iq===HD){iq=undefined;}}if(iq){eK=IPCC.gG.rI(iq);if(gZ){if(gZ!==eK){throw new IPCC.Web.UI.ImGearArgumentException('documentIdentifier','When both are specified, documentIdentifier and encodedDocumentIdentifier must reference the same document (and encodedDocumentIdentifier must be base64-encoded).');}}else{gZ=eK;}}else{if(gZ){iq=IPCC.gG.Hq(gZ);}}if(!gZ){iq=HD;gZ=aen;}var aM=ad.pageNumber;var aeC=ad.referencePageNumber;if(aM===aeC){aM=undefined;}if(aM!==0&& !aM){aM=aeC;}ad.encodedDocumentIdentifier=gZ;ad.documentIdentifier=iq;ad.pageNumber=aM;};gG.rI=function(jC){if(!jC||jC===''){return '';}var mr=[];var R;for(R=0;R<jC.length;R++){mr.push(jC.charCodeAt(R)%256);mr.push(Math.floor(jC.charCodeAt(R)/256));}mr.push(0);mr.push(0);var PM='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_';var oy=[],rN;for(R=0;R<mr.length-1;R+=3){rN=mr[R]*0x10000+mr[R+1]*0x100+mr[R+2];oy.push(PM.charAt(Math.floor(rN/0x40000)));oy.push(PM.charAt(Math.floor(rN/0x1000)%0x40));oy.push(PM.charAt(Math.floor(rN/0x40)%0x40));oy.push(PM.charAt(rN%0x40));}var ZB=Math.ceil(jC.length*16/6);while(oy.length>ZB){oy.pop();}if((oy.length%4)===3){oy.push('1');}else if((oy.length%4)===2){oy.push('2');}else if((oy.length%4)===0){oy.push('0');}return oy.join('');};gG.Hq=function(jL){if(!jL||jL===''){return '';}var akM=jL.length-1;var QC=[],rN;var ql,mr=[],oj=[];var R;for(R=0;R<akM;R++){ql=jL.charCodeAt(R);if(ql>64&&ql<91){oj.push(ql-65);}else if(ql>96&&ql<123){oj.push(ql-97+26);}else if(ql>47&&ql<58){oj.push(ql-48+52);}else if(ql===45){oj.push(62);}else if(ql===95){oj.push(63);}else{return '';}}oj.push(0);oj.push(0);oj.push(0);for(R=0;R<oj.length-3;R+=4){rN=oj[R]*0x40000+oj[R+1]*0x1000+oj[R+2]*0x40+oj[R+3];mr.push(Math.floor(rN/0x10000));mr.push(Math.floor(rN/0x100)%256);mr.push(rN%256);}for(R=0;R<mr.length-1;R+=2){QC.push(String.fromCharCode(mr[R]+mr[R+1]*0x100));}var ZB=Math.floor(akM*6/16);while(QC.length>ZB){QC.pop();}return QC.join('');};module.exports=gG;},{}],32:[function(require,module,exports){var Ql=function(){this.bW=[];this.parentElementID='';this.lockTile=function(fG){var ci,R,SA,YI;if(this.UZ(fG)){return;}SA=0;for(R=this.bW.length-1;R>=0;R--){if(!(this.bW[R].locked)){SA++;YI=R;}}if(SA>4){ci=this.bW[YI];this.uiDirector.agk(ci);this.bW.splice(YI,1);}ci=new aEE();ci.pool=this;this.uiDirector.axR(ci);this.bW.push(ci);ci.locked=true;ci.tile=fG;fG.poolItem=ci;return;};this.UZ=function(fG){var ci,R;if(this.locked){return true;}for(R=0;R<this.bW.length;R++){if(this.bW[R].tile===fG){ci=this.bW[R];ci.locked=true;fG.poolItem=ci;return true;}}return false;};this.aiD=function(fG){var hO,R;hO=fG.poolItem;if(hO!==undefined&&hO.locked){this.uiDirector.aEb(hO);hO.locked=false;fG.poolItem=undefined;for(R=0;R<this.bW.length;R++){if(this.bW[R]===hO){this.bW.splice(R,1);this.bW.push(hO);return;}}}};return this;};Ql.prototype.ath=function(){var R;for(R=0;R<this.bW.length;R++){if(!this.bW[R].locked){this.uiDirector.agk(this.bW[R]);}}};var aEE=function(){this.locked=false;this.loaded=false;this.tile=undefined;this.pool=undefined;this.elementID='';return this;};module.exports=Ql;},{}],33:[function(require,module,exports){var rF=function(){this.fe=[];return this;};rF.prototype.aqw=function(ca,cO){var dn=ca.nD();var R,mw,pn;var dk=1;var LE;var yx=[];var uI=[];var xd=[];var Gr,PV;pn=this.fe.length;for(R=0;R<this.fe.length;R++){if(this.fe[R].dn>dn){pn=R;break;}}mw=pn-1;if(mw<0){mw=0;}if(pn>=this.fe.length){pn=this.fe.length-1;}if(mw!==pn){LE=(dn-this.fe[mw].dn)/(this.fe[pn].dn-this.fe[mw].dn);dk=LE*1.0;if(dk>=0.15){dk=1;mw=pn;}if(dk<=0.15){dk=1;pn=mw;}}uI=this.fe[mw].Np(cO);xd=this.fe[pn].Np(cO);var LL=function(nK){var R;for(R=0;R<nK.length;R++){nK[R].level.pool.UZ(nK[R]);}};var YP=function(nK){var aee=[];var R;for(R=0;R<nK.length;R++){if(!nK[R].get_isLockedAndLoaded()){aee.push(nK[R]);}}return aee;};var ads=function(nK){var amK=[];var R;for(R=0;R<nK.length;R++){if(nK[R].get_isLockedAndLoaded()){amK.push(nK[R]);}}return amK;};if(mw>0&&mw===pn&&this.fe[pn].tiles.length>1){mw=pn-1;uI=this.fe[mw].Np(cO);}LL(uI);yx=YP(uI);if(yx.length>0){for(Gr=mw-1;Gr>=0;Gr--){PV=this.fe[Gr].Np(cO);LL(PV);if(YP(PV).length<1){break;}}if(Gr<0){uI=ads(uI);}else{mw=Gr;uI=PV;dk=1;}}else{LL(xd);yx=YP(xd);}LL(xd);xd=ads(xd);if(yx.length>3){yx.splice(3,yx.length-3);}function aCT(){var bC;function Vp(Bh){var bC='',R,bQ;if(Bh.length<1){return '';}bQ=Bh[0].level;bC+='level '+bQ.id.toString()+' - ';for(R=0;R<Bh.length;R++){if(R>0){bC+=', ';}bC+='('+(Bh[R].x/bQ.mX).toString()+','+(Bh[R].y/bQ.yJ).toString()+')';if(Bh[R].get_isLockedAndLoaded()){bC+='*';}}return bC;};bC='tilesToRequest: '+Vp(yx)+'<br/>';bC+='opaqueTiles: '+Vp(uI)+'<br/>';bC+='translucentTiles: '+Vp(xd)+'<br/>';bC+='opacity: '+dk.toString()+'<br/>';bC+='aov: '+dn.toString()+'<br/>';bC+='ca: '+ca.toString()+'<br/>';return bC;};return{opaqueTiles:uI,translucentTiles:xd,opacity:dk,tilesToRequest:yx,toString:aCT,aov:dn,ca:ca.toString()};};rF.prototype.aGz=function(qd){var DG=[];var su=[];var R,j;var bQ,tile;for(R=0;R<this.fe.length;R++){bQ=this.fe[R];for(j=0;j<bQ.tiles.length;j++){tile=bQ.tiles[j];if(tile.poolItem!==undefined){DG.push(tile);}}}var alP=function(Tp,akZ){var R,j,SB,TI;for(R=0;R<akZ.length;R++){SB=akZ[R];TI=true;for(j=0;j<Tp.length;j++){if(SB===Tp[j]){TI=false;break;}}if(TI){Tp.push(SB);}}};su=qd.tilesToRequest.concat();alP(su,qd.opaqueTiles);alP(su,qd.translucentTiles);for(R=DG.length-1;R>=0;R--){var axZ=DG[R];for(j=0;j<su.length;j++){if(su[j]===axZ){DG.splice(R,1);break;}}}for(R=0;R<DG.length;R++){DG[R].unlock();}for(R=0;R<su.length;R++){su[R].relock();}for(R=0;R<su.length;R++){if(su[R].poolItem===undefined){su[R].lock();}}};rF.prototype.unlockAllItems=function(){var R,j,bQ;for(R=0;R<this.fe.length;R++){bQ=this.fe[R];for(j=0;j<bQ.tiles.length;j++){if(bQ.tiles[j].poolItem!==undefined){bQ.pool.aiD(bQ.tiles[j]);}}}};rF.prototype.aIy=function(){var R;for(R=0;R<this.fe.length;R++){this.fe[R].pool.ath();}};rF.prototype.toString=function(){var bC='',R,j,bQ;for(R=0;R<this.fe.length;R++){bQ=this.fe[R];bC+='Level '+R.toString()+':   scaleFactor='+bQ.dn.toString()+'  image='+bQ.width.toString()+'x'+bQ.height.toString()+'  tile='+bQ.mX.toString()+'x'+bQ.yJ.toString()+'\n';for(j=0;j<bQ.tiles.length;j++){if(j>0){bC+=', ';}bC+='('+bQ.tiles[j].x.toString()+', '+bQ.tiles[j].y.toString()+')';}bC+='\n';}return bC;};rF.prototype.expandTile=function(fG,YY,ZU,aeB,aeG,bQ){fG.x=IPCC.J.Os(YY-fG.vA,0,YY,YY-fG.vA);fG.y=IPCC.J.Os(ZU-fG.wv,0,ZU,ZU-fG.wv);fG.bg=IPCC.J.ME(aeB+(2*fG.vA),bQ.width,aeB);fG.aw=IPCC.J.ME(aeG+(2*fG.wv),bQ.height,aeG);if(fG.x+fG.bg>bQ.width){fG.x=fG.x-fG.vA;fG.bg=bQ.width-fG.x;fG.vA=0;}if(fG.y+fG.aw>bQ.height){fG.y=fG.y-fG.wv;fG.wv=0;fG.aw=bQ.height-fG.y;}return fG;};rF.prototype.createPyramid=function(kT,G){var aDG=6000000;var aaB=5000;var mX=1024;var aDe=mX*mX*3*150;var ahm=0.5;var aEZ=2;var by=G.co();var xM=by.width*by.height*3;var vM;var bQ;var dn;var R;var aa,bZ;var tile;var CV,CU;this.fe=[];if(by.pP){dn=1.0;vM=xM*dn*dn;while(this.fe.length<aEZ||vM>aaB){bQ=new IPCC.Dr();bQ.dn=dn;this.fe.unshift(bQ);dn*=ahm;vM=xM*dn*dn;}}else{if(G.oc()===true){xM=by.width*by.height;}dn=Math.sqrt(aaB/xM);var azC=dn*by.fZ;dn=Math.ceil(azC)/by.fZ;vM=xM*dn*dn;if(G.oc()===false){while(vM<aDe){bQ=new IPCC.Dr();bQ.dn=dn;this.fe.push(bQ);dn/=ahm;vM=xM*dn*dn;}}else{bQ=new IPCC.Dr();bQ.dn=1;this.fe.push(bQ);}}by.qV=this.fe[this.fe.length-1].dn*8;for(R=0;R<this.fe.length;R++){bQ=this.fe[R];bQ.Mo=85;if(R===this.fe.length-1){bQ.Mo=100;}bQ.pyramid=this;bQ.id=R;bQ.pool=new IPCC.Ql();bQ.pool.uiDirector=kT;vM=xM*bQ.dn*bQ.dn;bQ.width=Math.round(by.width*bQ.dn);bQ.height=Math.round(by.height*bQ.dn);bQ.mX=bQ.width;bQ.yJ=bQ.height;if(R>2&&R>this.fe.length-2){bQ.mX=Math.min(mX/2,bQ.width);bQ.yJ=Math.min(mX/2,bQ.height);}if(vM>aDG){bQ.mX=Math.min(mX,bQ.width);bQ.yJ=Math.min(mX,bQ.height);}bQ.tiles=[];CV=bQ.mX;for(aa=0;aa<bQ.width;aa+=CV){CV=bQ.mX;if(aa+CV*1.25>bQ.width){CV=bQ.width-aa;}CU=bQ.yJ;for(bZ=0;bZ<bQ.height;bZ+=CU){CU=bQ.yJ;if(bZ+CU*1.25>bQ.height){CU=bQ.height-bZ;}tile=new IPCC.vB();tile.level=bQ;if(G.oc()===false){var MW='jpeg';if(bQ.Mo>=100){MW='png';}tile.contentType=MW;tile.wv=2;tile.vA=2;tile=this.expandTile(tile,aa,bZ,CV,CU,bQ);if(tile.bg!==bQ.width||tile.aw!==bQ.height){tile.url=G.XI('Tile/'+tile.x.toString()+'/'+tile.y.toString()+'/'+tile.bg.toString()+'/'+tile.aw.toString(),'Scale='+bQ.dn.toString()+'&Quality='+bQ.Mo+'&ContentType='+MW);}else{tile.url=G.XI('','Scale='+bQ.dn.toString()+'&Quality='+bQ.Mo+'&ContentType='+MW);}}else{tile.url=G.XI('','Scale='+bQ.dn.toString()+'&ContentType='+IPCC.J.zq);tile.aId=kT.akl();}tile.right=tile.x+tile.bg;tile.bottom=tile.y+tile.aw;bQ.tiles.push(tile);}}}};module.exports=rF;},{}],34:[function(require,module,exports){var pJ=function(){this.bm=false;this.G=false;};pJ.prototype.nd=function(G){this.G=G;};pJ.prototype.fL=function(){this.G=false;};pJ.prototype.ax=function(){if(this.bm){this.G.aO().hideMagnifier();this.bm=false;}};pJ.prototype.pW=function(){this.ax();};pJ.prototype.km=function(V){this.ax();if(V.domEvent.button===0){this.bm=true;this.G.aO().showMagnifier(V.windowPoint);this.G.cn();}};pJ.prototype.ki=function(V){if(V.domEvent.button!==0){this.ax();}if(this.bm){this.G.aO().showMagnifier(V.windowPoint);this.G.cn();}};pJ.prototype.kX=function(){this.ax();this.G.cn();};pJ.prototype.nZ=function(V){var bK=this.G.fN();if(V.windowPoint.x<=0||V.windowPoint.x>=bK.width-2){this.ax();}if(V.windowPoint.y<=0||V.windowPoint.y>=bK.height-2){this.ax();}};module.exports=pJ;},{}],35:[function(require,module,exports){var fH=function(gP,jl,iX,hG,ft,fr){if(arguments.length===0){gP=hG=1;jl=iX=ft=fr=0;}this.aml=function(){return gP*hG-jl*iX;};this.aHH=function(){return gP===1&&jl===0&&iX===0&&hG===1&&ft===0&&fr===0;};this.ps=function(){return gP;};this.nz=function(){return jl;};this.qb=function(){return iX;};this.rZ=function(){return hG;};this.wp=function(){return ft;};this.wA=function(){return fr;};this.append=function(ca){var II=gP*ca.ps()+jl*ca.qb();var Kh=gP*ca.nz()+jl*ca.rZ();var Jv=iX*ca.ps()+hG*ca.qb();var Ka=iX*ca.nz()+hG*ca.rZ();var JQ=ft*ca.ps()+fr*ca.qb()+ca.wp();var Kx=ft*ca.nz()+fr*ca.rZ()+ca.wA();gP=II;jl=Kh;iX=Jv;hG=Ka;ft=JQ;fr=Kx;};this.equals=function(C){if(gP!==C.ps()){return false;}if(jl!==C.nz()){return false;}if(iX!==C.qb()){return false;}if(hG!==C.rZ()){return false;}if(ft!==C.wp()){return false;}if(fr!==C.wA()){return false;}return true;};this.vi=function(){if(!this.alD()){throw new IPCC.Web.UI.ImGearArgumentException(null,'Matrix has no inverse');}var Bx=this.aml();var II=hG/Bx;var Kh= -jl/Bx;var Jv= -iX/Bx;var Ka=gP/Bx;var JQ=(iX*fr-hG*ft)/Bx;var Kx=(jl*ft-gP*fr)/Bx;gP=II;jl=Kh;iX=Jv;hG=Ka;ft=JQ;fr=Kx;};this.Kr=function(ca){var II=ca.ps()*gP+ca.nz()*iX;var Kh=ca.ps()*jl+ca.nz()*hG;var Jv=ca.qb()*gP+ca.rZ()*iX;var Ka=ca.qb()*jl+ca.rZ()*hG;var JQ=ca.wp()*gP+ca.wA()*iX+ft;var Kx=ca.wp()*jl+ca.wA()*hG+fr;gP=II;jl=Kh;iX=Jv;hG=Ka;ft=JQ;fr=Kx;};this.yo=function(jP,sr,po,ov){ft-=po;fr-=ov;this.scale(jP,sr);ft+=po;fr+=ov;};this.are=function(){gP=hG=1;jl=iX=ft=fr=0;};this.transform=function(aG){var aa=aG.x*gP+aG.y*iX+ft;var bZ=aG.y*hG+aG.x*jl+fr;return new IPCC.Web.UI.Point(aa,bZ);};this.lE=function(VL,UO){ft+=VL;fr+=UO;};this.aEg=function(C){if(Math.abs(gP-C.ps())>1e-8){return false;}if(Math.abs(jl-C.nz())>1e-8){return false;}if(Math.abs(iX-C.qb())>1e-8){return false;}if(Math.abs(hG-C.rZ())>1e-8){return false;}if(Math.abs(ft-C.wp())>1e-8){return false;}if(Math.abs(fr-C.wA())>1e-8){return false;}return true;};this.toString=function(){return '{'+gP.toFixed(6)+', '+jl.toFixed(6)+', '+iX.toFixed(6)+', '+hG.toFixed(6)+', '+ft.toFixed(3)+', '+fr.toFixed(3)+'}';};this.parse=function(){};this.clone=function(){return new IPCC.fH(gP,jl,iX,hG,ft,fr);};this.PB=function(gB){gP=gB.ps();jl=gB.nz();iX=gB.qb();hG=gB.rZ();ft=gB.wp();fr=gB.wA();};this.apz=function(aL,bK){gP=1;hG=bK.gj*aL.fZ/(aL.gj*bK.fZ);jl=iX=ft=fr=0;};this.WZ=function(ao,aL,bK){switch(ao){case IPCC.Web.UI.FitType.FullImage:this.aot(aL,bK);break;case IPCC.Web.UI.FitType.FullWidth:this.alf(aL,bK);break;case IPCC.Web.UI.FitType.FullHeight:this.alx(aL,bK);break;case IPCC.Web.UI.FitType.ActualSize:this.akf(aL,bK);break;case IPCC.Web.UI.FitType.OneToOne:if(!(aL.pP)){this.akf(aL,bK);}else{this.anG(aL,bK);}break;}};this.alf=function(aL,bK){var mK=this.ph(aL);var za=bK.width-2;if(za<1){za=1;}var bh=za/mK.width;this.scale(bh,bh);mK=this.ph(aL);if(mK.y<0){this.lE(0,-mK.y);}};this.alx=function(aL,bK){var mK=this.ph(aL);var za=bK.height-2;if(za<1){za=1;}var bh=za/mK.height;this.scale(bh,bh);mK=this.ph(aL);if(mK.x<0){this.lE(-mK.x,0);}};this.aot=function(aL,bK){var kh=this.clone();kh.alf(aL,bK);this.alx(aL,bK);if(Math.max(Math.abs(gP),Math.abs(jl))>Math.max(Math.abs(kh.ps()),Math.abs(kh.nz()))){this.PB(kh);}};this.akf=function(aL,bK){var mK=this.ph({x:0,y:0,width:aL.fZ,height:aL.gj});var bh=bK.fZ/mK.width;this.scale(bh,bh);};this.anG=function(aL,bK){var mK=this.ph({x:0,y:0,width:1,height:1});var bh=1/Math.min(mK.width,mK.height);this.scale(bh,bh);if(Math.abs(gP-1)<0.0001){gP=1;}if(Math.abs(hG-1)<0.0001){hG=1;}};return this;};fH.prototype.alD=function(){return Math.abs(this.aml())>1e-14;};fH.prototype.rotate=function(zZ){this.aex(zZ,0,0);};fH.prototype.aex=function(zZ,po,ov){var GS=zZ*Math.PI*2/360;var jq=Math.sin(GS);var eF=Math.cos(GS);var ca=new IPCC.fH(eF,jq,-jq,eF,po*(1-eF)+ov*jq,ov*(1-eF)-po*jq);this.append(ca);};fH.prototype.aAh=function(zZ,po,ov){var GS=zZ*Math.PI*2/360;var jq=Math.sin(GS);var eF=Math.cos(GS);var ca=new IPCC.fH(eF,jq,-jq,eF,po*(1-eF)+ov*jq,ov*(1-eF)-po*jq);this.Kr(ca);};fH.prototype.aFK=function(zZ){this.aAh(zZ,0,0);};fH.prototype.scale=function(jP,sr){var ca=new IPCC.fH(jP,0,0,sr,0,0);this.append(ca);};fH.prototype.aFv=function(jP,sr,po,ov){var ca=new IPCC.fH(jP,0,0,sr,po*(1-jP),ov*(1-sr));this.Kr(ca);};fH.prototype.aGE=function(jP,sr){var ca=new IPCC.fH(jP,0,0,sr,0,0);this.Kr(ca);};fH.prototype.skew=function(og,nV){var ca=new IPCC.fH(1,Math.tan(nV*Math.PI*2/360),Math.tan(og*Math.PI*2/360),1,0,0);this.append(ca);};fH.prototype.aGc=function(og,nV){var ca=new IPCC.fH(1,Math.tan(nV*Math.PI*2/360),Math.tan(og*Math.PI*2/360),1,0,0);this.Kr(ca);};fH.prototype.aIr=function(VL,UO){var ca=new IPCC.fH(1,0,0,1,VL,UO);this.Kr(ca);};fH.prototype.ze=function(K){var fm=this.transform({x:K.x,y:K.y});var lo=fm.x;var mC=fm.x;var kv=fm.y;var nt=fm.y;fm=this.transform({x:K.x+K.width,y:K.y});lo=Math.min(lo,fm.x);mC=Math.max(mC,fm.x);kv=Math.min(kv,fm.y);nt=Math.max(nt,fm.y);fm=this.transform({x:K.x+K.width,y:K.y+K.height});lo=Math.min(lo,fm.x);mC=Math.max(mC,fm.x);kv=Math.min(kv,fm.y);nt=Math.max(nt,fm.y);fm=this.transform({x:K.x,y:K.y+K.height});lo=Math.min(lo,fm.x);mC=Math.max(mC,fm.x);kv=Math.min(kv,fm.y);nt=Math.max(nt,fm.y);return new IPCC.Web.UI.Rectangle(lo,kv,mC-lo,nt-kv);};fH.prototype.aod=function(aL,bK,fb){var ahH=this.clone();ahH.vi();var azD=ahH.transform({x:fb.x+fb.width/2,y:fb.y+fb.height/2});var bh=Math.min(bK.width/fb.width,bK.height/fb.height);bh-=1e-10;var jU=this.nD();if(jU*bh>aL.qV){bh=aL.qV/jU;}if(jU*bh<aL.sV){bh=aL.sV/jU;}this.scale(bh,bh);this.akd(bK,azD);};fH.prototype.Pz=function(aL,bK,cO){this.aod(aL,bK,this.ze(cO));};fH.prototype.aHN=function(bK){this.yo(1,-1,bK.width/2,bK.height/2);};fH.prototype.anI=function(bK){this.yo(-1,1,bK.width/2,bK.height/2);};fH.prototype.UG=function(ayS,ami){var ald=this.transform(ayS);this.lE(ami.x-ald.x,ami.y-ald.y);};fH.prototype.akd=function(bK,dz){var afA=this.transform(dz);this.lE(bK.width/2-afA.x,bK.height/2-afA.y);};fH.prototype.ke=function(by,bK){var aa=0,bZ=0,end;var mf=this.ph(by);if(mf.width<bK.width){aa=(bK.width-mf.width)/2-mf.x;}else{end=mf.x+mf.width;if(end<bK.width){aa=bK.width-end;}if(mf.x>0){aa= -mf.x;}}if(mf.height<bK.height){bZ=(bK.height-mf.height)/2-mf.y;}else{end=mf.y+mf.height;if(end<bK.height){bZ=bK.height-end;}if(mf.y>0){bZ= -mf.y;}}this.lE(aa,bZ);};fH.prototype.ph=function(by){return this.ze({x:0,y:0,width:by.width,height:by.height});};fH.prototype.atF=function(){var hj,xi,hK,yz,acp,iR;hj=this.transform({x:0,y:0});xi=this.transform({x:0,y:1});hK=this.transform({x:1,y:0});yz=Math.atan2(xi.y-hj.y,xi.x-hj.x);acp=Math.atan2(hK.y-hj.y,hK.x-hj.x);iR=yz-acp;if(iR>Math.PI){iR=iR-2*Math.PI;}if(iR< -Math.PI){iR=iR+2*Math.PI;}return iR<0;};fH.prototype.akN=function(){var hj,xi,yz;hj=this.transform({x:0,y:0});xi=this.transform({x:0,y:1});yz=Math.atan2(xi.y-hj.y,xi.x-hj.x)-Math.PI/2;if(yz<0){yz=yz+2*Math.PI;}return yz*360/(Math.PI*2);};fH.prototype.nD=function(){var gW;var hj,qA;var fd,fj,dn;hj=this.transform({x:0,y:0});qA=this.transform({x:1,y:0});fd=qA.x-hj.x;fj=qA.y-hj.y;gW=fd*fd+fj*fj;qA=this.transform({x:0,y:1});fd=qA.x-hj.x;fj=qA.y-hj.y;dn=Math.min(gW,fd*fd+fj*fj);qA=this.transform({x:1,y:1});fd=qA.x-hj.x;fj=qA.y-hj.y;dn=Math.min(gW,fd*fd+fj*fj);qA=this.transform({x:1,y: -1});fd=qA.x-hj.x;fj=qA.y-hj.y;dn=Math.min(gW,fd*fd+fj*fj);return Math.sqrt(gW);};fH.aIb=function(){return new IPCC.fH(1,0,0,1,0,0);};module.exports=fH;},{}],36:[function(require,module,exports){var eh={aeQ:1,afa:2,YR:3,agM:4,ahu:5,Fe:6,Nz:7,aiH:8,aik:9,aay:10,acn:11,aap:12,aai:13,aeu:14,afn:15,ajj:16};module.exports=eh;},{}],37:[function(require,module,exports){var bY=function(){this.G=false;this.arV=1.5;};bY.prototype.nd=function(G){this.G=G;};bY.prototype.fL=function(){this.G=false;};bY.prototype.ax=function(){};bY.prototype.lT=function(V){var aU=this.G.aO();var aL=this.G.co();var bK=this.G.fN();var az=aU.ef();var OB=V.wheelDelta/120;if(V.domEvent.ctrlKey){V.domEvent.preventDefault();var bh=((this.arV-1)/2)+1;if(OB<0){bh=1/bh;}var jU=az.nD();if(jU*bh>aL.qV){bh=aL.qV/jU;}if(jU*bh<aL.sV){bh=aL.sV/jU;}az.yo(bh,bh,V.windowPoint.x,V.windowPoint.y);az.ke(aL,bK);this.G.bB('userModifiedViewState',{});aU.iB(az);}else{var acg=az.transform({x:0,y:0});az.lE(0,OB*bK.gj);az.ke(aL,bK);var adD=az.transform({x:0,y:0});if(Math.abs(acg.x-adD.x)>0.001||Math.abs(acg.y-adD.y)>0.001){V.domEvent.preventDefault();this.G.bB('userModifiedViewState',{});aU.iB(az);}}this.G.cn();};module.exports=bY;},{}],38:[function(require,module,exports){var cQ=function(anm){this.anm=anm;this.Sm=0;this.Nh=1;this.NZ=2;this.Sx=3;this.SV=4;this.cB=this.Sm;this.G=false;this.vf=0;};cQ.prototype.nd=function(G){this.G=G;this.aU=G.aO();};cQ.prototype.fL=function(){this.G=false;};cQ.prototype.ax=function(){if(this.cB===this.NZ){this.G.aO().hideMagnifier();}this.cB=this.Sm;};cQ.prototype.Lw=function(V){var af=V.domEvent.rawEvent;switch(this.cB){case this.Sm:if(af.touches.length===1){this.apR(V);}else if(af.touches.length===2){this.aiB(V);}else if(af.touches.length===3){this.ZD(V);}else{this.ax();}break;case this.Nh:if(af.touches.length===2){this.aiB(V);}else if(af.touches.length===3){this.ZD(V);}else{this.ax();}break;case this.SV:if(af.touches.length!==3){this.ax();}break;case this.NZ:this.ax();break;case this.Sx:if(af.touches.length===3){this.ZD(V);}else if(af.touches.length!==2){this.ax();}break;}};cQ.prototype.Lo=function(V){switch(this.cB){case this.Nh:this.vf++;break;case this.NZ:this.aaN(V);break;case this.Sx:this.ayj(V);break;case this.SV:this.arv(V);break;}};cQ.prototype.Lb=function(){this.ax();};cQ.prototype.Ft=function(){this.ax();};cQ.prototype.apR=function(V){this.cB=this.Nh;this.vf++;var aCV=this.vf;var F=this;function awe(){if(F.cB===this.Nh&&aCV===F.vf){F.aqT(V);}};setTimeout(awe,1000);};cQ.prototype.aqT=function(V){this.G.gf('pW',V);this.aaN(V);this.cB=this.NZ;};cQ.prototype.ZD=function(V){var af=V.domEvent.rawEvent;if(af.touches.length!==3){this.ax();return;}var hs=af.touches[0];var dJ={x:hs.screenX,y:hs.screenY};var ca=this.aU.ef();ca.vi();this.KY=dJ;this.axW=dJ;this.ZK=ca.transform(dJ);this.cB=this.SV;this.aFa=this.aU.ef();this.agt=true;this.ahB=true;};cQ.prototype.arv=function(V){var af=V.domEvent.rawEvent;if(af.touches.length!==3){this.ax();return;}var hs=af.touches[0];var dJ={x:hs.screenX,y:hs.screenY};var auY=Math.abs(dJ.x-this.KY.x);var avh=Math.abs(dJ.y-this.KY.y);if(auY>35){this.ahB=false;}if(avh>35){this.agt=false;}if(this.agt){dJ.y=this.KY.y;}if(this.ahB){dJ.x=this.KY.x;}this.axW=dJ;var az=this.aU.ef();var bK=this.G.fN();var aL=this.G.co();az.UG(this.ZK,dJ);az.ke(aL,bK);this.aU.iB(az);};cQ.prototype.aHn=function(){};cQ.prototype.adx=function(V){var af=V.domEvent.rawEvent;if(af.touches.length!==2){this.ax();return{};}var Rd=af.touches[0];var RA=af.touches[1];var fd=Rd.screenX-RA.screenX;var fj=Rd.screenY-RA.screenY;var wc=Math.sqrt(fd*fd+fj*fj);var iR=Math.atan2(fd,fj)*180/Math.PI;var aG={x:(Rd.screenX+RA.screenX)/2,y:(Rd.screenY+RA.screenY)/2};return{wc:wc,iR:iR,acE:aG};};cQ.prototype.aiB=function(V){this.cB=this.Sx;this.aCe=this.adx(V);this.KH=this.aCe;var ca=this.aU.ef();ca.vi();this.ZK=ca.transform(this.KH.acE);this.FR=this.KH.iR;};cQ.prototype.aaN=function(V){var af=V.domEvent.rawEvent;var hs=af.touches[0];var dJ={x:hs.screenX,y:hs.screenY};this.aU.showMagnifier(dJ);};cQ.prototype.ayj=function(V){var xr=this.adx(V);var dn=xr.wc/this.KH.wc;var az=this.aU.ef();var bK=this.G.fN();var aL=this.G.co();az.scale(dn,dn);var FJ=this.FR-xr.iR;var afm=this.FR-xr.iR-360;var aff=this.FR-xr.iR+360;if(Math.abs(FJ)>Math.abs(afm)){FJ=afm;}if(Math.abs(FJ)>Math.abs(aff)){FJ=aff;}if(FJ< -40){az.rotate(-90);this.FR=xr.iR;}else if(FJ>40){az.rotate(90);this.FR=xr.iR;}az.UG(this.ZK,xr.acE);az.ke(aL,bK);this.aU.iB(az);this.KH=xr;};cQ.prototype.aGp=function(V){var az=this.aU.ef();var bK=this.G.fN();var aL=this.G.co();az.WZ(IPCC.Web.UI.FitType.FullImage,aL,bK);az.ke(aL,bK);this.aU.iB(az);};cQ.prototype.lT=function(){this.ax();};module.exports=cQ;},{}],39:[function(require,module,exports){var dh=require('./IPCC.Util').regClass;var LV=function(){return this;};LV.registerClass=dh;LV.prototype={};LV.registerClass('IPCC.OpenPageEventArgs');module.exports=LV;},{"./IPCC.Util":29}],40:[function(require,module,exports){var dh=require('./IPCC.Util').regClass;var Mn=function(){return this;};Mn.registerClass=dh;Mn.prototype={};Mn.registerClass('IPCC.PageEventArgs');module.exports=Mn;},{"./IPCC.Util":29}],41:[function(require,module,exports){var ba=function(ad){this.eT=ad.page;this.ah=0;this.bU=0;this.gK=0;this.ga=0;var aS=new IPCC.Web.UI.hH();this.alN=undefined;this.fT=false;this.aye=false;this.IO=0;this.aIg=undefined;this.zl=false;this.yq=false;this.EK=false;this.gR=0;this.BY=0;this.Cw=false;this.Ih=false;this.bN=new IPCC.Web.UI.ArtPage();this.ff=new IPCC.Web.UI.ArtPage();this.cr=this.eT.get_pageNumber();this.aE=this.eT.bE.QQ+'_'+this.cr+'__pViewId';this.bE=this.eT.bE;this.di=function(cu){var H=aS.getHandler('propertyChanged');if(H){H(this,new IPCC.oD(cu));}};return this;};ba.prototype.kj=function(){if(this.eT){return this.eT.kL()||this.ah;}return this.ah;};ba.prototype.oh=function(){if(this.eT){return this.eT.iY()||this.bU;}return this.bU;};ba.prototype.SO=function(bool){bool= ! !bool;if(this.eT){this.eT.Cw=bool;}this.Cw=bool;};ba.prototype.aeJ=function(){if(this.eT){return this.eT.Cw||this.Cw;}return this.Cw;};module.exports=ba;},{}],42:[function(require,module,exports){var dA=require('./IPCC.Util').regEnum;var DR=function(){};DR.registerEnum=dA;DR.prototype={VerticalScrollDirection:0,HorizontalScrollDirection:1};DR.registerEnum('IPCC.PageLayout',false);module.exports=DR;},{"./IPCC.Util":29}],43:[function(require,module,exports){var dh=require('./IPCC.Util').regClass;var avN=function(){this.cY=undefined;return this;};var Md=function(element){var F=this;var JN=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(func){return setTimeout(func,16);};var ayh=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||function(id){return clearTimeout(id);};var aS=new IPCC.Web.UI.hH();var bx=[];var aoJ;var bd='';var Bk='';var aH='';var lA='';var JT='';var GK=0;this.Ab=new IPCC.Web.UI.ImGearDocumentCollection();var GY=[];this.aIs=0;this.aIf={x:0,y:0};var lC=0;var nA=IPCC.Web.UI.DebugErrorLevel.Production;var _debug=false;var oT=false;var dm=0;var tM=false;var MZ=[];var Jw='';var df=1;var qx=0;var mz=1;var pQ=1;var aT=IPCC.Web.UI.MouseTool.None;var AN=false;var sU=true;var aR=IPCC.aW.None;var iA;var hn=0;var jj=0;var aiG=0;var eQ=0;var eL=15;var il=0;var gL=15;var pp=0;var mu=0;var qf=0;var ny=0;var aqO=0;var hg=0;var gT=0;var ow=1;var dW=IPCC.PageLayout.VerticalScrollDirection;var dB=IPCC.ViewMode.Document;var nr=null;var TG=null;var Lz=0;var UR=0;var xC=0;var ys=false;var kk=null;var IT=0;var HF='';var Eu='';var qT=[];var Cb=0;var uK=3;var OH=0.5;var HI=true;var QV=false;var NY=false;var XL;var sL=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;var tQ=true;var mh;var dN={};var sG=false;var mi=function(){return null;};var iv=null;var aix="font-size:11px;color:#888;text-align:center;cursor:pointer;";var asg=aix+"padding:18px 0 20px;display:table-caption;caption-side:bottom;";var asD=aix+"white-space:nowrap;line-height:50px;display:table-cell;vertical-align:middle;padding-right:10px;";var cg=96;var aQ;function mB(Ib){if(!_debug){return false;}return nA>=Ib;};this.bp=function(ir,iO){if(!mB(IPCC.Web.UI.DebugErrorLevel.Production)){return;}var dO=ir+'() threw an exception ('+iO.name+'), "'+iO.message+'"';dO=dO.replace(/\n/g," ");IPCC.jf.nv(dO,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production,'PageList',this.mZ().id);var mG=new IPCC.ExceptionEventArgs();mG.functionName=ir;mG.exception=iO;this.bB('exceptionThrown',mG);};this.ay=function(ir,kO,ru){if(!mB(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var dO=ir+'(';var R;for(R=0;R<kO.length;R++){if(R>0){dO+=', ';}dO+=IPCC.jf.qq(kO[R],(ru?ru:0));}dO+=')';this.wC(dO,IPCC.Web.UI.DebugErrorLevel.Development);};this.Ek=function(ir,kO,lD,ru){if(!mB(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var dO=ir+'(';var R;for(R=0;R<kO.length;R++){if(R>0){dO+=', ';}dO+=IPCC.jf.qq(kO[R],(ru?ru:0));}dO+=') = ';dO+=IPCC.jf.qq(lD,1);this.wC(dO,IPCC.Web.UI.DebugErrorLevel.Development);};this.cC=function(ir,kO,lD){if(!mB(IPCC.Web.UI.DebugErrorLevel.Detailed)){return;}var dO=ir+'(';var R;for(R=0;R<kO.length;R++){if(R>0){dO+=', ';}dO+=IPCC.jf.qq(kO[R],0);}dO+=') = ';dO+=IPCC.jf.qq(lD,1);this.wC(dO,IPCC.Web.UI.DebugErrorLevel.Detailed);};this.wC=function(hX,bQ){IPCC.jf.nv(hX,IPCC.Web.UI.DebugItemCause.FunctionCall,bQ,'PageList',this.mZ().id);};this.nv=function(hX){IPCC.jf.nv(hX,IPCC.Web.UI.DebugItemCause.Custom,IPCC.Web.UI.DebugErrorLevel.Production,'PageList',this.mZ().id);};this.JM=function(){return _debug;};this.Vu=function(C){var Jh= ! !C;if(_debug===Jh){return;}_debug=Jh;var cS=hQ();var dG=[];if(cS){dG=sI(cS);}var R=0;for(R=0;R<dG.length;R++){var aB;if(bx[dG[R]].aE){aB=document.getElementById(bx[dG[R]].aE).bw;}if(aB){aB.set_debug(_debug);}}this.di('debug');};this.AL=function(){return nA;};this.GB=function(C){IPCC.aV.kS(C,'value',IPCC.Web.UI.DebugErrorLevel);if(nA===C){return;}nA=C;var cS=hQ();var dG=[];if(cS){dG=sI(cS);}var R=0;for(R=0;R<dG.length;R++){var aB;if(bx[dG[R]].aE){aB=document.getElementById(bx[dG[R]].aE).bw;}if(aB){aB.set_debugErrorLevel(nA);}}this.di('debugErrorLevel');};function db(dF,H){aS.addHandler(dF,H);};function cd(dF,H){aS.removeHandler(dF,H);};this.Qm=function(H){db('mouseDown',H);};this.Uu=function(H){cd('mouseDown',H);};this.Qn=function(H){db('mouseMove',H);};this.VM=function(H){cd('mouseMove',H);};this.OQ=function(H){db('mouseUp',H);};this.VV=function(H){cd('mouseUp',H);};this.Uv=function(H){db('selectTextMouseToolCompleted',H);};this.VQ=function(H){cd('selectTextMouseToolCompleted',H);};this.zs=function(H){db('textPageReady',H);};this.Dc=function(H){cd('textPageReady',H);};this.WE=function(H){db('hyperlinkPageReady',H);};this.afC=function(H){cd('hyperlinkPageReady',H);};this.atV=function(H){db('allPagesAdded',H);};this.aCD=function(H){cd('allPagesAdded',H);};this.WH=function(H){db('pageOpening',H);};this.UN=function(H){cd('pageOpening',H);};this.Xm=function(H){db('pageOpened',H);};this.VP=function(H){cd('pageOpened',H);};this.GX=function(H){db('pageOpenFailed',H);};this.FH=function(H){cd('pageOpenFailed',H);};this.WC=function(H){db('pageDisplayed',H);};this.VI=function(H){cd('pageDisplayed',H);};this.lp=function(H){db('propertyChanged',H);};this.mF=function(H){cd('propertyChanged',H);};this.Wj=function(H){db('exceptionThrown',H);};this.UJ=function(H){cd('exceptionThrown',H);};this.zy=function(H){db('textExtractionFailed',H);};this.Co=function(H){cd('textExtractionFailed',H);};this.yH=function(H){db('markAdded',H);};this.Au=function(H){cd('markAdded',H);};this.Xj=function(H){db('markCreating',H);};this.US=function(H){cd('markCreating',H);};this.IF=function(H){db('markChanged',H);};this.Hw=function(H){cd('markChanged',H);};this.Fn=function(H){db('markReordered',H);};this.HL=function(H){cd('markReordered',H);};this.EZ=function(H){db('markSelectionChanged',H);};this.HG=function(H){cd('markSelectionChanged',H);};this.FM=function(H){db('markTextSelectionChanged',H);};this.GR=function(H){cd('markTextSelectionChanged',H);};this.xU=function(H){db('markRemoved',H);};this.zL=function(H){cd('markRemoved',H);};this.auO=function(H){db('commentAdding',H);};this.aBs=function(H){cd('commentAdding',H);};this.xI=function(H){db('commentAdded',H);};this.Cd=function(H){cd('commentAdded',H);};this.wJ=function(H){db('commentRemoved',H);};this.BZ=function(H){cd('commentRemoved',H);};this.sh=function(H){db('commentChanged',H);};this.tX=function(H){cd('commentChanged',H);};this.Vt=function(H){db('scaleChanged',H);};this.VU=function(H){cd('scaleChanged',H);};this.Pe=function(){var bw=document.getElementById(bx[dm].aE).bw;if(bw){return bw.get_currentState();}else{return null;}};this.amQ=function(){var aC=IPCC.J.find(bx,function(fm){return fm.cr===dm;});if(!aC){return;}return aC.eT;};this.asz=function(aP){var aC=IPCC.J.find(bx,function(fm){return fm.cr===dm;});if(!aC){return;}return aC.aE;};this.nD=function(){return df;};this.arm=function(dn){ly(dn,undefined,undefined,undefined,undefined,undefined,IPCC.ScaleTrigger.Zoom);};this.RY=function(bh,qo,QZ,ep){ep=ep||IPCC.ScaleTrigger.Zoom;ly(df*bh,QZ,undefined,undefined,undefined,qo,ep);};this.apb=function(bh,aa,bZ,Ca,ep){ep=ep||IPCC.ScaleTrigger.Zoom;if(df*bh<8){ly(df*bh,false,aa,bZ,Ca,undefined,ep);}else{ly(8,false,aa,bZ,Ca);}};this.Vi=function(bh,ep){ep=ep||IPCC.ScaleTrigger.Zoom;ly(df/bh,false,undefined,undefined,undefined,undefined,ep);};this.auC=function(){return Tk();};this.adO=function(ep,eH,Rr){var Kp,JL,ah,bU;var aaY=0;var R=0;for(R=0;R<bx.length;R++){ah=bx[R].kj();bU=bx[R].oh();if(jF(bx[R].gR)===true){var JX=ah;ah=bU;bU=JX;}if(ah>0&&bU>0){var Ha=ah/bU;if(Ha>aaY){aaY=Ha;Kp=bU;JL=ah;}}}if(aaY>0){var apj=(bd.offsetWidth-IPCC.Web.om()-vg()-(eL+gL+mu+ny));var aoo=apj/(JL*cg/bx[0].gK);var eg=hn;var dS=jj;if(jF(bx[0].gR)===true){eg=jj;dS=hn;}var alJ=Kp/dS*aoo;var jQ=(bd.clientHeight-(eQ+il+pp+qf))/(dS*cg/bx[0].ga);var Iq=alJ;if(Rr===true&&alJ>jQ){Iq=jQ;}ly(Iq,true,undefined,undefined,undefined,undefined,ep,eH);}};this.ams=function(ep,eH,Rr){var Kp,JL,ah,bU;var aaL=0;var R=0;for(R=0;R<bx.length;R++){ah=bx[R].kj();bU=bx[R].oh();if(jF(bx[R].gR)===true){var JX=ah;ah=bU;bU=JX;}if(ah>0&&bU>0){var Ha=bU/ah;if(Ha>aaL){aaL=Ha;Kp=bU;JL=ah;}}}if(aaL>0){var aoj=(bd.offsetHeight-IPCC.Web.om()-(eQ+il+pp+qf));var aog=aoj/(Kp*cg/bx[0].ga);var eg=hn;var dS=jj;if(jF(bx[0].gR)===true){eg=jj;dS=hn;}var amj=JL/eg*aog;var jQ=(bd.clientWidth-vg()-(eL+gL+mu+ny))/(eg*cg/bx[0].gK);var Iq=amj;if(Rr===true&&amj>jQ){Iq=jQ;}ly(Iq,true,undefined,undefined,undefined,undefined,ep,eH);}};this.arx=function(eH,ep){if(F.ww&&typeof F.ww==='function'){F.ww();}var ah;var bU;var ea;var lj=1;ep=ep||IPCC.ScaleTrigger.Fit;if(eH===IPCC.FitType.FitToWidth){if(dB===IPCC.ViewMode.Document){lj=(bd.offsetWidth-IPCC.Web.om()-vg()-(eL+gL+mu+ny))/(hg/df);ly(lj,true,undefined,undefined,undefined,undefined,ep,eH);}else if(dB===IPCC.ViewMode.SinglePage){if(jF(bx[dm].gR)===true){ah=bx[dm].oh();ea=cg/bx[dm].ga;}else{ah=bx[dm].kj();ea=cg/bx[dm].gK;}lj=(bd.offsetWidth-IPCC.Web.om()-vg()-(eL+gL+mu+ny))/(ah*ea);ly(lj,true,undefined,undefined,undefined,undefined,ep,eH);}else{if(dW===IPCC.PageLayout.VerticalScrollDirection){Ut(ep,eH);}else{F.adO(ep,eH);}}}else if(eH===IPCC.FitType.ShrinkToWidth){var anM=bd.clientWidth-vg();var amT=20;var Sr=anM-amT;if(dB===IPCC.ViewMode.SinglePage){if(jF(bx[dm].gR)===true){ah=bx[dm].oh();ea=cg/bx[dm].ga;}else{ah=bx[dm].kj();ea=cg/bx[dm].gK;}if(Sr<df*ah*ea){lj=(bd.offsetWidth-IPCC.Web.om()-vg()-(eL+gL+mu+ny))/(ah*ea);ly(lj,true,undefined,undefined,undefined,undefined,ep,eH);}}else{if(Sr<hg){ly(df*Sr/hg,true,undefined,undefined,undefined,undefined,ep,eH);}}}else if(eH===IPCC.FitType.ActualSize){if(dB===IPCC.ViewMode.Document||dB===IPCC.ViewMode.SinglePage){ly(1,true,undefined,undefined,undefined,undefined,ep,eH);}}else if(eH===IPCC.FitType.FitToHeight){if(dB===IPCC.ViewMode.Document){lj=(bd.offsetHeight-IPCC.Web.om()-(eQ+il+pp+qf))/(gT/df);ly(lj,true,undefined,undefined,undefined,undefined,ep,eH);}else if(dB===IPCC.ViewMode.SinglePage){if(jF(bx[dm].gR)===true){bU=bx[dm].kj();ea=cg/bx[dm].gK;}else{bU=bx[dm].oh();ea=cg/bx[dm].ga;}lj=(bd.offsetHeight-IPCC.Web.om()-(eQ+il+pp+qf))/(bU*ea);ly(lj,true,undefined,undefined,undefined,undefined,ep,eH);}else{if(dW===IPCC.PageLayout.HorizontalScrollDirection){Ut(ep,eH);}else{F.ams(ep,eH);}}}else if(eH===IPCC.FitType.BestFit){var Ci;if(dB===IPCC.ViewMode.Document){lj=(bd.offsetWidth-IPCC.Web.om()-(eL+gL+mu+ny))/(hg/df);Ci=(bd.offsetHeight-IPCC.Web.om()-(eQ+il+pp+qf))/(gT/df);if(Ci<lj){lj=Ci;}ly(lj,true,undefined,undefined,undefined,undefined,ep,eH);}else if(dB===IPCC.ViewMode.SinglePage){if(jF(bx[dm].gR)===true){ah=bx[dm].oh();bU=bx[dm].kj();ea=cg/bx[dm].gK;}else{ah=bx[dm].kj();bU=bx[dm].oh();ea=cg/bx[dm].ga;}lj=(bd.offsetWidth-IPCC.Web.om()-vg()-(eL+gL+mu+ny))/(ah*ea);Ci=(bd.offsetHeight-IPCC.Web.om()-(eQ+il+pp+qf))/(bU*ea);if(Ci<lj){lj=Ci;}ly(lj,true,undefined,undefined,undefined,undefined,ep,eH);}else{if(dW===IPCC.PageLayout.HorizontalScrollDirection){F.adO(ep,eH,true);}else{F.ams(ep,eH,true);}}}};this.aEx=function(aM,aX){var aC=bx[aM-1];var ac=document.getElementById(aC.aE);var BM=[];if(ac){var fI,Bw,aG;try{fI=Tz(ac);}catch(e){return null;}BM=IPCC.J.map(aX,function(fm){Bw=ac.bw.transformPagePointToWindow(new IPCC.Web.UI.Point(fm.x,fm.y),true);aG=abJ(ac,Bw.x,Bw.y,fI);return{clientX:aG.x,clientY:aG.y};});return BM;}else{return null;}};this.asA=function(){var R=0;for(R=0;R<bx.length;R++){F.cn(R);}hQ();oI();};this.cn=function(aP){var bF;if(bx[aP].aE){bF=document.getElementById(bx[aP].aE);}F.yk(bF,aP);};this.HH=function(aP){var bF;if(bx[aP].aE){bF=document.getElementById(bx[aP].aE);}if(bF){var aB=bF.bw;aB.HH();}};this.yk=function(bF,aP){if(bF&&bF.bw&&bF.bw.eV()===true){var aB=bF.bw;aB.display();bx[aP].fT=true;if(dB===IPCC.ViewMode.SinglePage){var mV= -1;if(Array.prototype.indexOf){mV=qT.indexOf(aP);}else{mV=IPCC.Web.iM(qT,aP);}if(mV!== -1){qT.splice(mV,1);}}}};function aby(dG){var bF;for(var R=0;R<dG.get_length();R++){var aC=dG.getPage(R);var aP=aC.get_pageNumber();if(bx[aP].aE){bF=document.getElementById(bx[aP].aE);}if(bF&&bF.bw&&bF.bw.CQ()!==null){return bF.bw;}}return null;};this.Fg=function(){var dG=this.get_displayedPages();var Oe=aby(dG);Oe.Fg();};this.EL=function(bh){var hD=0;var gm=bx.length-1;for(var bi=hD;bi<=gm;bi++){var aB;var bF=document.getElementById(bx[bi].aE);if(bF){aB=bF.bw;}else{continue;}aB.set_sharpening(bh);if(aB&&bx[bi].fT===true&&aB.eV()===true){aB.display();}}qx=bh;};this.auI=function(){return qx;};this.CE=function(bh){var hD=0;var gm=bx.length-1;for(var bi=hD;bi<=gm;bi++){var aB;var bF=document.getElementById(bx[bi].aE);if(bF){aB=bF.bw;}else{continue;}aB.set_gamma(bh);if(aB&&bx[bi].fT===true&&aB.eV()===true){aB.display();}}pQ=bh;};this.ato=function(){return pQ;};this.Gk=function(bh){var hD=0;var gm=bx.length-1;for(var bi=hD;bi<=gm;bi++){var aB;var bF=document.getElementById(bx[bi].aE);if(bF){aB=bF.bw;}else{continue;}aB.set_svgLineWidthMultiplier(bh);if(aB&&bx[bi].fT===true&&aB.eV()===true){aB.display();}}mz=bh;};this.aub=function(){return mz;};this.CQ=function(){var dG=this.get_displayedPages();var Oe=aby(dG);if(Oe){return Oe.CQ();}return null;};this.wY=function(aP,h){var bF;if(bx[aP].aE){bF=document.getElementById(bx[aP].aE);}if(bF&&bF.bw){bF.bw.wY(h);}};this.nY=function(aP){var bF;if(bx[aP].aE){bF=document.getElementById(bx[aP].aE);}if(bF&&bF.bw){bF.bw.nY();}};var vn='';this.uM=function(C){vn=C;};this.mZ=function(){return vn;};this.bB=function(dF,V){try{var H=aS.getHandler(dF);if(H!==null){H(F,V);}}catch(e){F.bp(dF+'Event',e);}};this.di=function(cu){var H=aS.getHandler('propertyChanged');if(H){H(this,new IPCC.oD(cu));}};this.auK=function(H){aS.addHandler('currentPageChanged',H);};this.aBt=function(H){aS.removeHandler('currentPageChanged',H);};this.zW=function(ce,C){ce.style.cursor='move';ce.style.cursor='-webkit-'+C;ce.style.cursor='-moz-'+C;ce.style.cursor=C;};this.akn=function(){return aH.style.cursor||'auto';};this.aoX=function(C){aH.style.cursor=C||'auto';var R=0;for(R=0;R<bx.length;R++){if(bx[R].aE){var bF=document.getElementById(bx[R].aE);if(bF){var aB=bF.bw;bF.style.cursor=C;if(aB){aB.set_cursor(C);if(bx[R].fT===true&&aB.eV()===true){aB.display();}}}}}};this.YU=function(){return aT;};this.Hn=function(C){IPCC.aV.kS(C,'value',IPCC.Web.UI.MouseTool);var nR=false;if(aT!==C){iA=null;aT=C;switch(aT){case IPCC.Web.UI.MouseTool.HandPan:aR='grab';F.zW(aH,'grab');break;case IPCC.Web.UI.MouseTool.SelectText:F.tq();aR=IPCC.aW.Text;aH.style.cursor=IPCC.aW.dX(aR);break;case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:F.tq();aR=IPCC.aW.Text;aH.style.cursor=IPCC.aW.dX(aR);break;case IPCC.Web.UI.MouseTool.None:aR=IPCC.aW.None;aH.style.cursor=IPCC.aW.dX(aR);break;case IPCC.Web.UI.MouseTool.Magnifier:aR=IPCC.aW.Magnifier;aH.style.cursor=IPCC.aW.dX(aR);break;case IPCC.Web.UI.MouseTool.RectangleZoom:aR=IPCC.aW.RectangleZoom;aH.style.cursor=IPCC.aW.dX(aR);break;case IPCC.Web.UI.MouseTool.CreateRectangleMark:aR=IPCC.aW.AddRectangleMark;aH.style.cursor=IPCC.aW.dX(aR);nR=true;iA=function(){return[new IPCC.dZ(IPCC.Web.UI.MarkType.Rectangle)];};break;case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:aR=IPCC.aW.AddRectangleRedactionMark;aH.style.cursor=IPCC.aW.dX(aR);nR=true;iA=function(){return[new IPCC.dZ(IPCC.Web.UI.MarkType.RectangleRedaction)];};break;case IPCC.Web.UI.MouseTool.CreateEllipseMark:aR=IPCC.aW.AddEllipseMark;aH.style.cursor=IPCC.aW.dX(aR);nR=true;iA=function(){return[new IPCC.dZ(IPCC.Web.UI.MarkType.Ellipse)];};break;case IPCC.Web.UI.MouseTool.CreateLineMark:aR=IPCC.aW.AddLineMark;aH.style.cursor=IPCC.aW.dX(aR);nR=true;iA=function(){return[new IPCC.mE()];};break;case IPCC.Web.UI.MouseTool.CreateStampMark:aR=IPCC.aW.AddStampMark;aH.style.cursor=IPCC.aW.dX(aR);nR=true;iA=function(){return[new IPCC.dZ(IPCC.Web.UI.MarkType.Stamp)];};break;case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:aR=IPCC.aW.AddImageStampMark;aH.style.cursor=IPCC.aW.dX(aR);nR=true;iA=function(){return[new IPCC.dZ(IPCC.Web.UI.MarkType.ImageStampAnnotation)];};break;case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:aR=IPCC.aW.AddImageStampMark;aH.style.cursor=IPCC.aW.dX(aR);nR=true;iA=function(){return[new IPCC.dZ(IPCC.Web.UI.MarkType.ImageStampRedaction)];};break;case IPCC.Web.UI.MouseTool.CreateTextMark:aR=IPCC.aW.AddTextMark;aH.style.cursor=IPCC.aW.dX(aR);nR=true;iA=function(){return[new IPCC.dZ(IPCC.Web.UI.MarkType.Text)];};break;case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:aR=IPCC.aW.AddTextMark;aH.style.cursor=IPCC.aW.dX(aR);nR=true;iA=function(){return[new IPCC.dZ(IPCC.Web.UI.MarkType.TextLine)];};break;case IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark:aR=IPCC.aW.AddTextMark;aH.style.cursor=IPCC.aW.dX(aR);nR=true;iA=function(){return[new IPCC.dZ(IPCC.Web.UI.MarkType.TextAreaSignature)];};break;case IPCC.Web.UI.MouseTool.CreateFreehandMark:aR=IPCC.aW.AddFreehandLineMark;aH.style.cursor=IPCC.aW.dX(aR);nR=true;iA=function(){return[new IPCC.ld()];};break;case IPCC.Web.UI.MouseTool.CreatePolylineMark:aR=IPCC.aW.AddPolylineMark;aH.style.cursor=IPCC.aW.dX(aR);nR=true;iA=function(){return[new IPCC.ky(IPCC.Web.UI.MarkType.Polyline)];};break;case IPCC.Web.UI.MouseTool.EditMarks:aR=IPCC.aW.EditMarks;aH.style.cursor=IPCC.aW.dX(aR);nR=true;iA=function(){return[new IPCC.jV(IPCC.Web.UI.MarkType.Text)];};break;default:aR=IPCC.aW.None;aH.style.cursor=IPCC.aW.dX(aR);break;}var R=0;for(R=0;R<bx.length;R++){if(bx[R].aE){var bF=document.getElementById(bx[R].aE);if(bF){var aB=bF.bw;if(aR==='grab'){F.zW(bF,'grab');}else{bF.style.cursor=IPCC.aW.dX(aR);}if(aB){aB.set_cursor(aR);aB.Mh(aT===IPCC.Web.UI.MouseTool.HandPan||aT===IPCC.Web.UI.MouseTool.EditMarks);if(nR===true){aB.Ji(iA());}else{aB.set_mouseTool(IPCC.Web.UI.MouseTool.None);}if(bx[R].fT===true&&aB.eV()===true){aB.display();}}}}}this.di('mouseTool');}};this.atw=function(){return AN;};this.apM=function(bool){AN= ! !bool;};this.zx=function(){return sL;};this.Ks=function(C){if(sL!==C){sL=C;var cS=hQ();var dG=[];if(cS){dG=sI(cS);}var R=0;for(R=0;R<dG.length;R++){var bF;var aB;bF=document.getElementById(bx[dG[R]].aE);aB=bF.bw;if(aB){aB.set_markHandleMode(sL);this.yk(bF,R);}}this.di('markHandleMode');}};this.kD=function(){return sU;};this.Kf=function(C){if(sU!==C){sU=C;var cS=hQ();var dG=[];if(cS){dG=sI(cS);}var R=0;for(R=0;R<dG.length;R++){var aB;if(bx[dG[R]].aE){aB=document.getElementById(bx[dG[R]].aE).bw;}if(aB){aB.set_textRequired(sU);}}this.di('textRequired');}};this.ava=function(){return uK;};this.aoy=function(C){if(C<0){C=0;}if(uK!==C){uK=C;this.di('maxPrefetch');}};this.atm=function(){return HI;};this.ara=function(C){if(HI!==C){HI=C;this.di('displayPagesWhenScrolling');}};this.auJ=function(){return Cb;};this.apg=function(C){if(C<0){C=0;}if(Cb!==C){Cb=C;this.di('maxOutOfViewDisplay');}};this.atn=function(){return QV;};this.aqY=function(C){if(QV!==C){QV= ! !C;this.di('discardOutOfViewText');}};this.asb=function(){return NY;};this.aqZ=function(C){if(NY!==C){NY= ! !C;this.di('retainPageText');}};this.aru=function(){return OH;};this.aoA=function(C){if(C<0){C=0;}if(OH!==C){OH=C;this.di('scrollDisplayThreshold');}};this.atb=function(){return dW;};this.aol=function(C){if(dW===C){return;}dW=C;if(bd===''||bd.clientHeight<=0||dB===IPCC.ViewMode.SinglePage){this.di('pageLayout');return;}var uE=dm;var Hf=dB;if(dB===IPCC.ViewMode.EqualWidthPages||dB===IPCC.ViewMode.EqualFitPages){F.KO(IPCC.ViewMode.Document);}bd.scrollLeft=0;bd.scrollTop=0;var R=0;var bF;if(dW===IPCC.PageLayout.VerticalScrollDirection){if(JT){JT.setAttribute('style',asg);}Bk.insertBefore(lA,JT);for(R=0;R<bx.length;R++){bF=document.getElementById(bx[R].aE);bF.style.display='block';if(hn>0){bF.style.margin=eQ+'px auto '+il+'px auto';}}aH.style.margin='0px '+eL+'px 0px '+gL+'px';bd.scrollLeft=(hg-bd.clientWidth)/2+eL+mu;}else{if(JT){JT.setAttribute('style',asD);}Bk.removeChild(lA);for(R=0;R<bx.length;R++){bF=document.getElementById(bx[R].aE);if(bF){bF.style.display='inline-block';if(hn>0){bF.style.margin=eQ+'px '+eL+'px '+il+'px '+gL+'px';}}}aH.style.margin='0px';bd.scrollTop=(gT-bd.clientHeight)/2+eQ+pp;}if(Hf===IPCC.ViewMode.EqualWidthPages){F.KO(IPCC.ViewMode.EqualWidthPages);}else if(Hf===IPCC.ViewMode.EqualFitPages){F.KO(IPCC.ViewMode.EqualFitPages);}this.rn(uE);oI();this.di('layout');};this.auR=function(){return dB;};this.KO=function(C,ep){ep=ep||IPCC.ScaleTrigger.ViewMode;if(dB===C){return;}dB=C;if(bd===''||bd.clientHeight<=0){this.di('viewMode');return;}var uE=dm;this.rn(uE);if(dB===IPCC.ViewMode.Document){var jQ=1;var ah=hn;var bU=jj;if(jF(pz)===true){ah=jj;bU=hn;}if(dW===IPCC.PageLayout.VerticalScrollDirection){jQ=(bd.clientWidth-(eL+gL+mu+ny))/ah;}else{jQ=(bd.clientHeight-(eQ+il+pp+qf))/bU;}ly(jQ,true,undefined,undefined,undefined,undefined,ep);}else{Ut(ep);}this.rn(uE);this.di('viewMode');Ao(dN,true);mU(dN,true);};var pz=0;this.ass=function(){return pz;};this.aqG=function(C){if(pz!==C){pz=C;var R=0;for(R=0;R<bx.length;R++){if(bx[R].BY===0){bx[R].gR=pz;}}this.di('pageRotation');}};this.Zq=function(aM){var cr;if(arguments.length>0){if(!isNaN(aM)){cr=aM;}else{cr=dm;}}else{cr=dm;}for(var R=0;R<bx.length;R++){if(cr===R){return bx[R].gR;}}return 0;};var oH=false;this.jz=function(){return oH;};this.mv=function(C){if(typeof C!=="boolean"){return;}if(C===oH){return;}oH=C;};this.atA=function(){return XL;};this.aqU=function(C,oB,xo,tC){if(XL!==C){XL=C;for(var R=0;R<bx.length;R++){bx[R].bN.aFh(C,R,bx[R].kj(),bx[R].oh(),bx[R].eT,oB,xo,tC);var aAi= !bx[R].kj();bx[R].SO(aAi);}this.di('annotationXmlDom');}};var sC;this.Ir=function(C){sC=C;};this.wR=function(){return sC;};var qz=false;this.mP=function(){return qz;};this.qh=function(C){if(typeof C!=="boolean"){return;}if(C===qz){return;}qz=C;IPCC.J.forEach(bx,function(ba,R){var aB;if(bx[R].aE){var bF=document.getElementById(bx[R].aE);if(bF){aB=bF.bw;}}if(aB){aB.qh(qz);aB=undefined;}});};this.anR=function(C){if(Jw!==C){Jw=C;this.di('loadingContent');}};this.ats=function(){return Jw;};this.avb=function(){var cS=hQ();var dG=[];if(cS){dG=sI(cS);}var afR=new IPCC.Web.UI.ImGearPageCollection();var R=0;for(R=0;R<dG.length;R++){afR.amI(bx[dG[R]].eT);}return afR;};this.auT=function(aP){if(bx[aP]){return bx[aP].aE;}};this.AH=function(){return tQ;};this.GU=function(C){tQ=C;};this.lm=function(){return mh;};this.yd=function(C){mh=C;};this.KK=function(aC,yn,yL){var F=this;if(aC.kL()>0||aC.iY()>0){yn(aC.kL(),aC.iY());return;}aC.requestPageAttributes(function(bg,aw){if(bx[aC.get_pageNumber()].aeJ()===true){var gp=bg/aC.ajY();if(gp!==1){var bN=F.fU(aC);if(bN){ajU(bN,gp);}}}bx[aC.get_pageNumber()].SO(false);yn(bg,aw);},function(eJ){yL(eJ);});};this.azJ=function(){if(sG===true){return;}sG=true;this.fJ(lA,'pccHidden');Ao(dN,true);mU(dN,true);};this.ayb=function(){if(sG===false){return;}sG=false;this.kw(lA,'pccHidden');};this.auz=function(){return sG;};this.kw=function(ce,sg){var Hk=new RegExp('(?:^|\\s)'+sg+'(?!\\S)','g');if(ce.className.match(Hk)===null){ce.className=ce.className+' '+sg;}};this.fJ=function(ce,sg){var Hk=new RegExp('(?:^|\\s)'+sg+'(?!\\S)','g');ce.className=ce.className.replace(Hk,'');};this.auZ=function(){return mi;};this.apT=function(C){mi=C;};this.arD=function(){return iv;};this.anL=function(C){if(iv===C){return;}var h,cY,ty;if(iv){h=iv.get_mark();ty=dN[h.get_markID()];cY=mi(h,{isSelected:true},(ty)?ty.cY:undefined);if(ty){BF(h,dN,cY);}}h=cY=ty=undefined;iv=C;if(iv){h=iv.get_mark();ty=dN[h.get_markID()];cY=mi(h,{isSelected:true},(ty)?ty.cY:undefined);if(ty){BF(h,dN,cY);}}mU(dN,true);};this.aCn=function(Yg){var kl=vO();IPCC.J.forEach(Yg,function(MI){var ci=dN[MI];if(ci){var lw=mi(ci.h,{isSelected:(ci.h.get_conversation()===iv)},ci.cY);if(!IPCC.J.uY(lw)){throw new Error(lw+' is not a valid HTMLElement');}if(lw!==ci.cY){BF(ci.h,dN,lw);}}});mU(dN,false,kl);};this.initialize=function(){var cP=this.mZ();var R;for(R=cP.childNodes.length-1;R>=0;R--){if(cP.childNodes[R].tagName!=='INPUT'){cP.removeChild(cP.childNodes[R]);}}this.Ab.add_documentAdded(ayV);this.Ab.add_pageAdded(Vh);this.Ab.add_pageRemoved(Vr);this.acV(true);cP.bw=this;agb();var abu='webkit moz o'.split(' '),Bv='';if(aH.style.animationName!==undefined){HF='animationend';Eu='transitionend';return;}for(R=0;R<abu.length;R++){if(aH.style[abu[R]+'Animation']!==undefined){Bv=abu[R];HF=Bv+'AnimationEnd';Eu=Bv+'TransitionEnd';break;}}};this.atE=function(){return oT;};this.acV=function(C){oT=C;this.di('enabled');};this.azW=function(){if(dm+1<bx.length){F.rn(dm+1);}};this.azc=function(){var Xn=dm-1;if(Xn<0){Xn=0;}F.rn(Xn);};function CT(V){IPCC.Web.UI.au.removeHandler(V.target,HF,CT);IPCC.Web.UI.au.removeHandler(V.target,Eu,CT);if(IT>dm){F.fJ(V.target,'pccNextPageIn');F.fJ(V.target,'pccPreviousPageIn');F.fJ(V.target,'pccCurrentPage');F.fJ(V.target,'pccPageBack');F.fJ(V.target,'pccPageForward');F.kw(V.target,'pccNextPage');}else if(IT<dm){F.fJ(V.target,'pccNextPageIn');F.fJ(V.target,'pccPreviousPageIn');F.fJ(V.target,'pccCurrentPage');F.fJ(V.target,'pccPageBack');F.fJ(V.target,'pccPageForward');F.kw(V.target,'pccPreviousPage');}F.fJ(aH,'pccPageListContainerPageChanging');bd.style.overflow='auto';kk=null;aH.style.overflow='hidden';var lf=IPCC.J.filter(dN,function(aK){return aK.aM===dm+1;});MC(lf);setTimeout(function(){oI();},60);};this.rn=function aGS(aP){var Jk=dm;var lf;if(dB===IPCC.ViewMode.SinglePage){lf=IPCC.J.filter(dN,function(aK){return aK.aM!==aP+1;});FF(lf);}else{tM=true;var adg=aeP(aP);if(dW===IPCC.PageLayout.VerticalScrollDirection){bd.scrollTop=adg;}else{bd.scrollLeft=adg;}}var zu=[];if(dm!==aP){dm=aP;var ba=bx[dm];var V=new IPCC.PageEventArgs();V.imGearPage=F.get_currentPage();V.pageIndex=dm;V.pageNodeID=ba.aE;F.bB('currentPageChanged',V);if(dB===IPCC.ViewMode.SinglePage){var hu=document.getElementById(bx[dm].aE);var qj=document.getElementById(bx[Jk].aE);if(hu===null){hu=ES(bx[dm].eT);zu.push(bx[dm]);hu.className='pccPageListItem pccCurrentPage';qT.push(dm);if(hn>0){var hl=VC(bx[dm]);hu.style.width=hl.bg+'px';hu.style.height=hl.aw+'px';}else{hu.style.width=aH.clientWidth-eL-gL+'px';hu.style.height=aH.clientWidth*0.8+'px';}hu.style.display='block';hu.setAttribute('id',bx[dm].aE);aH.appendChild(hu);}if(Eu.length>0){bd.style.overflow='hidden';aH.style.width=hu.style.width;aH.style.height=hu.style.height;aH.style.overflow='visible';if(kk!==null){IPCC.Web.UI.au.removeHandler(kk,HF,CT);IPCC.Web.UI.au.removeHandler(kk,Eu,CT);if(IT>dm){this.fJ(kk,'pccNextPageIn');this.fJ(kk,'pccPreviousPageIn');this.fJ(kk,'pccCurrentPage');this.fJ(kk,'pccPageForward');this.fJ(kk,'pccPageBack');this.kw(kk,'pccNextPage');}else if(IT<dm){this.fJ(kk,'pccNextPageIn');this.fJ(kk,'pccPreviousPageIn');this.fJ(kk,'pccCurrentPage');this.fJ(kk,'pccPageForward');this.fJ(kk,'pccPageBack');this.kw(kk,'pccPreviousPage');}}IPCC.Web.UI.au.addHandler(qj,HF,CT);IPCC.Web.UI.au.addHandler(qj,Eu,CT);kk=qj;IT=Jk;this.kw(aH,'pccPageListContainerPageChanging');if(dm>Jk){this.kw(qj,'pccPageForward');this.fJ(hu,'pccPageBack');this.fJ(hu,'pccPreviousPage');this.fJ(hu,'pccPreviousPageIn');this.fJ(hu,'pccNextPage');this.kw(hu,'pccCurrentPage');this.kw(hu,'pccNextPageIn');}else{this.kw(qj,'pccPageBack');this.fJ(hu,'pccPageForward');this.fJ(hu,'pccPreviousPage');this.fJ(hu,'pccNextPage');this.fJ(hu,'pccNextPageIn');this.kw(hu,'pccCurrentPage');this.kw(hu,'pccPreviousPageIn');}}else{aH.style.width=hu.style.width;aH.style.height=hu.style.height;if(dm>Jk){this.fJ(qj,'pccNextPage');this.fJ(qj,'pccCurrentPage');this.kw(qj,'pccPreviousPage');}else{this.fJ(qj,'pccPreviousPage');this.fJ(qj,'pccCurrentPage');this.kw(qj,'pccNextPage');}this.fJ(hu,'pccPreviousPage');this.fJ(hu,'pccNextPage');this.kw(hu,'pccCurrentPage');lf=IPCC.J.filter(dN,function(el){return el.aM===aP+1;});MC(lf);setTimeout(function(){oI();},60);}IPCC.J.forEach(zu,agH);}}};this.aAJ=function(){if(bx.length>0){F.rn(0);}};this.azL=function(){if(dm<bx.length-1){F.rn(bx.length-1);}};this.azH=function(dq){if(sG===false){return "CommentsPanelClosed";}var fk=dN[dq.get_mark().get_markID()];if(!fk){return "ConversationDivDoesNotExist";}if(dB===IPCC.ViewMode.SinglePage&&fk.aM-1!==dm){return "SinglePageModePageNotShown";}var aC=document.getElementById(bx[fk.aM-1].aE);if(bx[fk.aM-1].fT===false||aC===undefined||aC.bw===undefined||aC.bw===null||aC.bw.eV()===false){return "PageOutOfView";}var K=dq.get_mark().get_boundingRectangle();var rQ=aC.bw.transformPagePointToWindow(new IPCC.Web.UI.Point(K.x,K.y),true);var Ax=aC.bw.transformPagePointToWindow(new IPCC.Web.UI.Point(K.x+K.width,K.y),true);rQ.x=aH.offsetWidth;Ax.x=aH.offsetWidth+vg();F.agl(aC.offsetTop,aC.offsetLeft,rQ,Ax);return "Success";};this.aAq=function(aP,K){if(dB===IPCC.ViewMode.SinglePage&&aP!==dm){return true;}var aC=document.getElementById(bx[aP].aE);if(bx[aP].fT===false||aC===undefined||aC.bw===undefined||aC.bw===null||aC.bw.eV()===false){return false;}var rQ=aC.bw.transformPagePointToWindow(new IPCC.Web.UI.Point(K.x,K.y),true);var Ax=aC.bw.transformPagePointToWindow(new IPCC.Web.UI.Point(K.x+K.width,K.y+K.height),true);F.agl(aC.offsetTop,aC.offsetLeft,rQ,Ax);return true;};this.azu=function(aor,apq){bd.scrollTop+=Math.round(apq);bd.scrollLeft+=Math.round(aor);};this.agl=function(aAm,aAF,rQ,Ax){var aaV=Ax.x-rQ.x;var abE=Ax.y-rQ.y;var dJ=new IPCC.Web.UI.Point(0,0);if(aaV>bd.clientWidth){dJ.x=rQ.x;}else{dJ.x=rQ.x+(aaV/2);}if(abE>bd.clientHeight){dJ.y=rQ.y;}else{dJ.y=rQ.y+(abE/2);}if(dW===IPCC.PageLayout.VerticalScrollDirection){bd.scrollTop=aAm+dJ.y-bd.clientHeight/2;bd.scrollLeft=dJ.x-bd.clientWidth/2;}else{bd.scrollLeft=aAF+dJ.x-bd.clientWidth/2;bd.scrollTop=dJ.y-bd.clientHeight/2;}};this.arK=function(){var R=0;for(R=0;R<bx.length;R++){DW(R,true);}};this.avC=function(){var cS=hQ();var dG=[];if(cS){dG=sI(cS);}var R=0;for(R=0;R<dG.length;R++){DW(dG[R]);}if(F.Ab.get_length()>0){F.Ab.removeAllDocuments();}};this.Vq=function(aP,as,cL,cD){if(bx[aP]&&bx[aP].fT===true){var bF=document.getElementById(bx[aP].aE);if(bF&&bF.bw&&bF.bw.eV()===true){if(cD){IPCC.aV.cD(cD,"selectText");var gF=bF.bw.Bu();var aAI=gF.kp;var aAQ=gF.cj;gF.kp=cD;gF.cj=cD;bF.bw.showTextSelection(as,cL);gF.kp=aAI;gF.cj=aAQ;}else{bF.bw.showTextSelection(as,cL);}}}};this.axX=function(){var cS=hQ();var dG=[];if(cS){dG=sI(cS);}var R;for(R=0;R<dG.length;R++){if(bx[dG[R]].fT===true){var fi=document.getElementById(bx[dG[R]].aE),bw=fi?fi.bw:undefined;if(bw&&bw.eV()===true){bw.showEmptyTextSelection(0);bw.extendTextSelection(undefined);bw.display();}}}};this.axr=function(aP){if(bx[aP]&&bx[aP].fT===true){var fi=document.getElementById(bx[aP].aE),bw=fi?fi.bw:undefined;if(bw&&bw.eV()===true){bw.showEmptyTextSelection(0);bw.extendTextSelection(undefined);bw.display();}}};this.tq=function(){var aC,aF,bw;aQ=null;IPCC.J.forEach(MZ,function(R){aC=bx[R];aF=document.getElementById(aC.aE);if(aF){bw=aF.bw;}if(bw){if(bw.eV()&&bw.EN()){bw.showEmptyTextSelection(0);bw.extendTextSelection(undefined);if(aC.fT){bw.display();}}}aC=aF=bw=undefined;});};this.xl=function(aP,si){var bF;var aB;var amG=function(atd,aDD){return(atd+aDD)%360;};bx[aP].gR=amG(bx[aP].gR,si);if(bx[aP].aE){bF=document.getElementById(bx[aP].aE);}if(bF===undefined||bF===null){return;}aB=bF.bw;if(aB&&aB.eV()===false){bx[aP].BY=amG(bx[aP].BY,si);return;}tM=true;if(aB&&aB.eV()===true){aB.rotate(si);}var ah=0;var bU=0;var eg=hn;var dS=jj;if(jF(pz)===true){eg=jj;dS=hn;}if(jF(bx[aP].gR)===true){if(aB&&aB.eV()===true){ah=aB.get_pageHeight();bU=aB.get_pageWidth();}else{ah=jj;bU=hn;}}else{if(aB&&aB.eV()===true){ah=aB.get_pageWidth();bU=aB.get_pageHeight();}else{ah=hn;bU=jj;}}tM=true;if(dB===IPCC.ViewMode.SinglePage){bF.style.width=ah*df*cg/bx[aP].gK+'px';bF.style.height=bU*df*cg/bx[aP].ga+'px';if(aP===dm){aH.style.width=ah*df*cg/bx[aP].gK+'px';aH.style.height=bU*df*cg/bx[aP].ga+'px';}}else if(dB===IPCC.ViewMode.Document){bF.style.width=ah*df*cg/bx[aP].gK+'px';bF.style.height=bU*df*cg/bx[aP].ga+'px';var R=0;if(dW===IPCC.PageLayout.VerticalScrollDirection){if(ah*df*cg/bx[aP].gK>hg){hg=ah*df*cg/bx[aP].gK;}else if(bF.clientHeight>=hg-10){hg=0;for(R=0;R<bx.length;R++){bF=document.getElementById(bx[R].aE);if(bF&&bF.clientWidth>hg){hg=bF.clientWidth;}}}if(bU*df*cg/bx[aP].ga>gT){gT=bU*df*cg/bx[aP].ga;}}else{if(bU*df*cg/bx[aP].ga>gT){gT=bU*df*cg/bx[aP].ga;}else if(bF.clientWidth>=gT-10){gT=0;for(R=0;R<bx.length;R++){bF=document.getElementById(bx[R].aE);if(bF&&bF.clientHeight>gT){gT=bF.clientHeight;}}}if(ah*df*cg/bx[aP].gK>hg){hg=ah*df*cg/bx[aP].gK;}}}else{var gD;if(dW===IPCC.PageLayout.VerticalScrollDirection){gD=eg/ah*df*cg/bx[aP].ga;if(aB&&aB.eV()===true){aB.zoom(gD);}tM=true;bF.style.width=eg*df*cg/bx[aP].gK+'px';bF.style.height=gD*bU+'px';}else{gD=dS/bU*df*cg/bx[aP].ga;if(aB&&aB.eV()===true){aB.zoom(gD);}tM=true;bF.style.height=dS*df*cg/bx[aP].ga+'px';bF.style.width=gD*ah+'px';}if(eg*df*cg/bx[aP].gK>hg){hg=eg*df*cg/bx[aP].gK;}if(dS*df*cg/bx[aP].ga>gT){gT=dS*df*cg/bx[aP].ga;}}if(aB&&aB.eV()===true){tM=true;this.yk(bF,aP);setTimeout(function(){if(sG===false){return;}var kl=vO();var lf=IPCC.J.filter(dN,function(el){return aP===el.aM-1;});Ao(lf);mU(lf,true,kl);},0);}};this.aAl=function(si){var uE=dm;this.xl(dm,si);if(dB!==IPCC.ViewMode.SinglePage){var F=this;setTimeout(function(){F.rn(uE);},10);}};this.aeF=function(si){var uE=dm;var cS=hQ();if(dB!==IPCC.ViewMode.SinglePage){this.rn(uE);}var hD=0;var gm=bx.length-1;var R;for(R=hD;R<=gm;R++){this.xl(R,si);}if(dB!==IPCC.ViewMode.SinglePage){var F=this;setTimeout(function(){adP(cS);F.rn(uE);},10);}};function abB(AR,lM){var lZ=0;var oa=0;var DB=false;tM=true;var cS=hQ();if(cS){IPCC.J.forEach(cS.Jy,function(aJ){var fR=dW===IPCC.PageLayout.VerticalScrollDirection?aJ.aw+eQ:aJ.bg+eL+gL;var ayg=AR.Jy[aJ.bO];if(ayg.vw){DB=true;return;}if(lM&&aJ.bO>=lM.kM&&aJ.bO<=lM.lB){var bF=document.getElementById(bx[aJ.bO].aE);if(bF){return;}}if(DB){oa+=fR;}else{lZ+=fR;}});}return{oa:oa,lZ:lZ};};function adP(AR){if(dB===IPCC.ViewMode.SinglePage){return;}var lM=Sj(AR);var qS=abB(AR,lM);if(dW===IPCC.PageLayout.VerticalScrollDirection){aH.style.paddingTop=qS.lZ+'px';aH.style.paddingBottom=qS.oa+'px';}else{aH.style.paddingLeft=qS.lZ+'px';aH.style.paddingRight=qS.oa+'px';}};function awq(AR){if(dB===IPCC.ViewMode.SinglePage){return;}var LY;var lM;if(dW===IPCC.PageLayout.VerticalScrollDirection){LY=parseInt(window.getComputedStyle(aH,null).getPropertyValue('padding-top'),10);}else{LY=parseInt(window.getComputedStyle(aH,null).getPropertyValue('padding-left'),10);}lM=Sj(AR);var qS=abB(AR,lM);if(dW===IPCC.PageLayout.VerticalScrollDirection){aH.style.paddingTop=qS.lZ+'px';aH.style.paddingBottom=qS.oa+'px';bd.scrollTop=bd.scrollTop+qS.lZ-LY;}else{aH.style.paddingLeft=qS.lZ+'px';aH.style.paddingRight=qS.oa+'px';bd.scrollLeft=bd.scrollLeft+qS.lZ-LY;}};this.KT=function(aP){IPCC.aV.jM(aP,'pageIndex',0,bx.length-1);var aC=bx[aP];if(aC&&aC.aE&&(aC.EK===true||aC.yq===false)){var ag;var bF=document.getElementById(aC.aE);if(bF.bw){bF.bw.dispose();}adi(bF);ag=new IPCC.Web.UI.PageView(bF,false,bd);if(ag){ag.set_autoUpdate(false);ag.uM(bF);ag.initialize();ag.set_imageHandlerUrl(aC.bE.rC);ag.set_requireRequestsOptimize(tQ);if(mh!==undefined){ag.set_serviceResponseTimeout(mh);}ag.set_scrollBars(IPCC.Web.UI.ScrollBars.None);ag.Mh(aT===IPCC.Web.UI.MouseTool.HandPan||aT===IPCC.Web.UI.MouseTool.EditMarks);UE(ag,aC);Vy(ag);VO(ag);Vw(ag);Vs(ag);}ag.set_textRequired(sU);ag.set_markHandleMode(sL);ag.set_debug(_debug);ag.set_gamma(pQ);ag.set_sharpening(qx);ag.set_svgLineWidthMultiplier(mz);ag.set_debugErrorLevel(nA);ag.mv(F.jz());if(sC){ag.set_resourcePath(sC);}if(iA){ag.Ji(iA());}else{ag.set_mouseTool(IPCC.Web.UI.MouseTool.None);}ag.qh(F.mP());aC.EK=false;aC.zl=false;var zI={encodedDocumentIdentifier:aC.bE.get_encodedDocumentIdentifier(),pageNumber:aP,artServiceOption:0,documentArtPage:aC.ff,viewRotationDegreesClockwise:aC.gR};if(aC.bN){zI.artPage=aC.bN;}if(aC.ff){zI.documentArtPage=aC.ff;}ag.openPage(zI);aC.yq=true;lC++;}};function Ut(ep,eH){if(hn<=0){return;}var eg=hn;var dS=jj;var ea=cg/bx[0].gK;if(jF(pz)===true){eg=jj;dS=hn;ea=cg/bx[0].ga;}var jQ=1;if(dW===IPCC.PageLayout.VerticalScrollDirection){jQ=(bd.clientWidth-vg()-(eL+gL+mu+ny))/(eg*ea);}else{jQ=(bd.clientHeight-(eQ+il+pp+qf))/(dS*ea);}var tz;if(df<=jQ){tz=false;}else if(df>jQ){tz=true;}if(isNaN(jQ)||jQ<=0||Math.abs(jQ)===Infinity){return;}df=jQ;hg=0;gT=0;var hD=0;var gm=bx.length-1;var bi=0;var aB;for(bi=hD;bi<=gm;bi++,aB=undefined){var bF=document.getElementById(bx[bi].aE);if(bF){aB=bF.bw;}if(aB===undefined){continue;}var ah=eg;var bU=dS;if(bx[bi].kj()>0){if(jF(bx[bi].gR)===true){ah=bx[bi].oh();bU=bx[bi].kj();}else{ah=bx[bi].kj();bU=bx[bi].oh();}}var gD=1;if(dW===IPCC.PageLayout.VerticalScrollDirection){gD=eg/ah*df*ea;bF.style.width=eg*df*ea+'px';bF.style.height=bU*gD+'px';if(eg*df*ea>hg){hg=eg*df*ea;}if(bU*gD*cg/bx[bi].ga>gT){gT=bU*gD*ea;}}else{gD=dS/bU*df;bF.style.height=dS*df*ea+'px';bF.style.width=ah*gD*ea+'px';if(ah*df*cg/bx[bi].gK>hg){hg=ah*df*ea;}if(dS*gD*ea>gT){gT=dS*gD*ea;}}if(aB&&bx[bi].fT===true&&aB.eV()===true){aB.zoom(gD);}if(aB&&bx[bi].fT===true&&aB.eV()===true){aB.display();}aB=undefined;}hQ();oI();setTimeout(function(){Ao(dN);mU(dN);},0);F.bB('scaleChanged',{scaleType:(tz)?"scaledDown":"scaledUp",scaleTrigger:ep,fitType:eH,scaleFactor:df});};function jF(hw){switch(hw){case 90:case 270:case-90:case-270:return true;default:return false;}};function fO(qv){var xu=document.createElement('div');var R;for(R in qv){if(qv.hasOwnProperty(R)){xu.style[R]=qv[R];}}return xu;};this.axT=function(){if(GK===undefined||GK===null){GK=1;}var cc=this.mZ().id.toString()+'_'+GK.toString();GK++;return cc;};this.Wz=function(){return this.Ab;};this.fU=function(aEf){for(var pA=0;pA<bx.length;pA++){var amA=bx[pA];if(aEf===amA.eT){return bx[pA].bN;}}return null;};this.aGo=function(iw){var bF=document.getElementById(bx[iw.get_pageNumber()].aE);if(bF){return bF.bw.nh();}return null;};function ayV(aj,V){UK(V);};function UK(ad){var gy=ad.imGearDocument;var atj=F.axT();gy.QQ=atj;var da=gy.get_pages();var cv=da.get_length();if(cv>0){var RF=document.createDocumentFragment();for(var bi=0;bi<cv;bi++){var aC=da.getPage(bi);if(!aC.bE){aC.bE=gy;}ES(aC,aC.get_pageNumber()===0?null:RF);}aH.appendChild(RF);}};var asO=IPCC.J.agW(function(){if(GY.length>0&&oT){var cr;var IB;var HZ=0;IPCC.J.forEach(GY,aft);var akC=hQ();if(!akC){return;}var hl=akC.Jy;IPCC.J.forEach(GY,function(aC,bO){cr=aC.oS();IB=hl[cr];if(dW===IPCC.PageLayout.VerticalScrollDirection){HZ+=IB.aw+eQ;}else{HZ+=IB.bg+eL;}});if(HZ&&dB!==IPCC.ViewMode.SinglePage){if(dW===IPCC.PageLayout.VerticalScrollDirection){aH.style.paddingBottom=HZ+'px';}else{aH.style.paddingRight=HZ+'px';}}Ao(dN,true);mU(dN,true);if(F.Ab.Ou(0).eD===bx.length){F.bB('allPagesAdded');}oI();}GY=[];},10);function Vh(aj,V){if(V.imGearPage.get_pageNumber()===0){ES(V.imGearPage);return;}GY.push(V.imGearPage);asO();};function Vr(aj,V){var cr=V.imGearPage.get_pageNumber();var aaC=V.imGearPage.bE.get_documentIdentifier();for(var bi=0;bi<bx.length;bi++){if(bx[bi].eT.get_pageNumber()===cr&&bx[bi].eT.bE.get_documentIdentifier()===aaC){var bF=document.getElementById(bx[bi].aE);if(bF){aH.removeChild(bF);if(bF.bw){bF.bw.dispose();var lf=IPCC.J.filter(dN,function(el){return el.aM===bx[bi].cr+1;});FF(lf);}}bx.splice(bi,1);}}};function aft(iw){if(!IPCC.J.contains(bx,iw)){var ba=new IPCC.ba({page:iw});if(pz){ba.gR=pz;}if(!ba.bE){ba.bE=iw.bE;}bx.push(ba);IPCC.Pagecounter++;bx=bx.sort(function(dR,es){return dR.cr-es.cr;});aBl(iw);axl(iw);aAu(iw);ba.aye=false;ba.zl=false;aCg(ba);azm(ba);VR(ba);aCG(ba);aBJ(ba);aBS(ba);aAo(ba);azY(ba);aAD(ba);azN(ba);return ba;}};function ES(aC,RF){var Ri=aC.get_pageNumber();var cP=F.mZ();var gy=null;var Wa;var cv=F.get_documents().get_length();for(var bM=0;bM<cv;bM++){gy=F.get_documents().getDocument(bM);if(gy!==null){Wa=gy.QQ;if(Wa===aC.bE.QQ){break;}}}var gx=IPCC.J.find(bx,function(ba){return ba.eT&&ba.eT===aC;});if(!gx){gx=aft(aC);}gx.Ih=true;var aal=gx.aE;if(gx.IO===1){return document.getElementById(aal);}gx.IO=1;if(aH===''){agb();}var np=(function(){var aA;if(dB!==IPCC.ViewMode.SinglePage){aA=fO({overflow:'hidden',position:'relative'});}else{aA=fO({overflow:'hidden',position:'absolute',margin:'0px'});if(gx.cr>dm){F.kw(aA,'pccNextPage');}else if(gx.cr<dm){F.kw(aA,'pccPreviousPage');}else{F.kw(aA,'pccCurrentPage');}}qT.push(aC.cr);F.kw(aA,'pccPageListItem');adi(aA);var EB=VC(gx);aA.style.width=EB.bg+'px';aA.style.height=EB.aw+'px';var cS=hQ();var Oq;if(dW===IPCC.PageLayout.VerticalScrollDirection||dB===IPCC.ViewMode.SinglePage){aA.style.display='block';if(hn>0){aA.style.margin=eQ+'px auto '+il+'px auto';}if(cS.de.length>0&&dB!==IPCC.ViewMode.SinglePage){Oq=cS.de[0];if(Ri<Oq.bO){var arE=IPCC.J.Pq(aH,'padding-top');var arF=IPCC.J.KZ(arE);var Ru=arF-EB.aw-eQ;if(Ru<0){Ru=0;}aH.style.paddingTop=Ru+'px';}else{var arM=IPCC.J.Pq(aH,'padding-bottom');var arU=IPCC.J.KZ(arM);var Sp=arU-EB.aw-eQ;if(Sp<0){Sp=0;}aH.style.paddingBottom=Sp+'px';}}}else{aA.style.display='inline-block';if(hn>0){aA.style.margin=eQ+'px '+eL+'px '+il+'px '+gL+'px';}if(cS.de.length>0&&dB!==IPCC.ViewMode.SinglePage){Oq=cS.de[0];if(Ri<Oq.bO){var asu=IPCC.J.Pq(aH,'padding-left');var atf=IPCC.J.KZ(asu);var Sv=atf-EB.bg-eL;if(Sv<0){Sv=0;}aH.style.paddingLeft=Sv+'px';}else{var arZ=IPCC.J.Pq(aH,'padding-right');var arP=IPCC.J.KZ(arZ);var Si=arP-EB.bg-eL;if(Si<0){Si=0;}aH.style.paddingRight=Si+'px';}}}aA.setAttribute('id',aal);return aA;}());gx.eT=gx.eT||aC;gx.alN=gx.alN||Wa;gx.gR=gx.gR!==undefined?gx.gR:pz;gx.fT=false;function asm(fi){var TM=fi.childNodes;var aCx=IPCC.J.find(bx,function(ba){if(ba.cr<=Ri){return;}var jv=IPCC.J.find(TM,function(jv){return jv.id&&jv.id===ba.aE;});if(!jv){return;}if(ba.cr>Ri){jv.parentElement.insertBefore(np,jv);return true;}});if(!aCx){fi.appendChild(np);}}(function aFl(){if(bx.length===1){aH.appendChild(np);}else{return asm(RF||aH);}}());var axI=false;if(np&&cP.clientWidth>0){var awu=cP.clientWidth/(np.clientWidth+(np.clientLeft*2));var aAg=cP.clientHeight/(np.clientHeight+(np.clientTop*2));if(bx.length<(awu*aAg)){axI=true;}}if(bx.length<2){var ag=new IPCC.Web.UI.PageView(np,false,bd);if(ag){ag.set_autoUpdate(false);ag.uM(np);ag.initialize();ag.set_imageHandlerUrl(aC.bE.rC);ag.set_imGearPage(gx.eT);ag.set_artPage(gx.bN);ag.set_documentArtPage(gx.ff);ag.set_requireRequestsOptimize(tQ);if(mh!==undefined){ag.set_serviceResponseTimeout(mh);}ag.set_scrollBars(IPCC.Web.UI.ScrollBars.None);ag.set_textRequired(sU);ag.set_markHandleMode(sL);ag.set_debug(_debug);ag.set_gamma(pQ);ag.set_sharpening(qx);ag.set_svgLineWidthMultiplier(mz);ag.set_debugErrorLevel(nA);ag.mv(F.jz());if(sC){ag.set_resourcePath(sC);}if(iA){ag.Ji(iA());}else{ag.set_mouseTool(IPCC.Web.UI.MouseTool.None);}ag.qh(F.mP());ag.Mh(aT===IPCC.Web.UI.MouseTool.HandPan||aT===IPCC.Web.UI.MouseTool.EditMarks);}UE(ag,gx);VO(ag);Vw(ag);Vy(ag);Vs(ag);ag.openPage({encodedDocumentIdentifier:aC.bE.get_encodedDocumentIdentifier(),pageNumber:aC.get_pageNumber(),artServiceOption:0,imGearPage:gx.eT,artPage:gx.bN,documentArtPage:gx.ff,viewRotationDegreesClockwise:gx.gR});gx.yq=true;lC++;}return np;};function aaO(ba){return ba.Ih;};function oI(){if(lC>0||oT===false||kk!==null){return;}if(ys){return;}var cS=hQ();if(!cS){return;}bx.forEach(function(aC,bO){if(!aC.fT){return;}F.HH(bO);});var zu=avc(cS);IPCC.J.forEach(zu||[],function(bO){var aC=bx[bO];if(aC){agH(aC);}});IPCC.J.forEach(cS.de,function(IB){var ba=bx[IB.bO];if(aaO(ba)&& !ba.fT&&ba.IO){PA(ba);}});var lM=Sj(cS);for(var bO=lM.kM;bO<=lM.lB;bO++){var ba=bx[bO];if(!aaO(ba)){ba.Ih=true;var abj=F.Wz();var gy=abj.Ou(0);var iw=gy.da.ic(bO);ES(iw);afO(ba,false);}}aEM();};function avc(cS){var aAX=sI(cS);var zu=[];IPCC.J.forEach(aAX,function(bO){var aC=bx[bO];if(aC&&aC.IO===0){var abj=F.Wz();var gy=abj.Ou(0);var iw=gy.da.ic(bO);ES(iw);zu.push(bO);}});return zu;};function aEM(){var tA=bd.scrollTop;var vS=bd.scrollLeft;var tW=bd.clientHeight;var tJ=bd.clientWidth;var tE=bd.scrollWidth;var wn=bd.scrollHeight;var cS=VY({tA:tA,vS:vS,tW:tW,tJ:tJ,tE:tE,wn:wn});var lM=Sj(cS);var adj=azZ(cS);var lZ=0;var oa=0;var DB=false;IPCC.J.forEach(cS.Jy,function(aJ){var fR=dW===IPCC.PageLayout.VerticalScrollDirection?aJ.aw+eQ:aJ.bg+eL+gL;var bO= +aJ.bO;if(aJ.vw||(dB===IPCC.ViewMode.SinglePage&&bO===dm)){DB=true;return;}if(bO>=lM.kM&&bO<=lM.lB){if(bO>=adj.kM&&bO<=adj.lB){return;}if(DB){if(DW(bO,true)> -1){oa+=fR;}}else{if(DW(bO,true)> -1){lZ+=fR;}}return;}if(DB){oa+=fR;DW(bO);}else{lZ+=fR;DW(bO);}});if(dB===IPCC.ViewMode.SinglePage){return;}if(dW===IPCC.PageLayout.VerticalScrollDirection){aH.style.paddingTop=lZ+'px';aH.style.paddingBottom=oa+'px';}else{aH.style.paddingLeft=lZ+'px';aH.style.paddingRight=oa+'px';}};function DW(bi,aEz){var aC=bx[bi];if(!aC){return-1;}var cr=aC.cr;if(aEz===true&& !aC.fT){return-1;}aC.zl=false;aC.yq=false;aC.fT=false;aC.IO=0;aC.Ih=false;if(QV&& !aC.eT.dg().aua()&&NY!==true){aC.eT.adl();}var zm=document.getElementById(aC.aE);if(!zm){return-1;}if(zm.bw){zm.bw.dispose();var lf=IPCC.J.filter(dN,function(el){return el.aM===cr+1;});FF(lf);zm.parentElement.removeChild(zm);return bi;}else{zm.parentElement.removeChild(zm);}return-1;};function PA(ba){var aA=document.getElementById(ba.aE);F.yk(aA,ba.cr);};function agH(ba){afO(ba,true);PA(ba);};function afO(aC,auL){var aA=document.getElementById(aC.aE);if(aA===null){return;}var ag=new IPCC.Web.UI.PageView(aA,false,bd);ag.set_autoUpdate(false);ag.uM(document.getElementById(aC.aE));ag.initialize();ag.set_imageHandlerUrl(aC.bE.rC);ag.set_imGearPage(aC.eT);ag.set_artPage(aC.bN);ag.set_requireRequestsOptimize(tQ);if(mh!==undefined){ag.set_serviceResponseTimeout(mh);}ag.set_scrollBars(IPCC.Web.UI.ScrollBars.None);ag.set_textRequired(sU);ag.set_markHandleMode(sL);ag.set_debug(_debug);ag.set_gamma(pQ);ag.set_sharpening(qx);ag.set_svgLineWidthMultiplier(mz);ag.set_debugErrorLevel(nA);ag.mv(F.jz());if(sC){ag.set_resourcePath(sC);}if(iA){ag.Ji(iA());}else{ag.set_mouseTool(IPCC.Web.UI.MouseTool.None);}ag.qh(F.mP());ag.Mh(aT===IPCC.Web.UI.MouseTool.HandPan||aT===IPCC.Web.UI.MouseTool.EditMarks);UE(ag,aC);VO(ag);Vw(ag);Vy(ag);Vs(ag);if(auL===true){ag.add_pageOpened(function aGD(bP){F.yk(aA,aC.cr);});}if(aC.zl===false&&aC.eT){aC.Ih=true;var zI={encodedDocumentIdentifier:aC.eT.bE.get_encodedDocumentIdentifier(),pageNumber:aC.eT.get_pageNumber(),imGearPage:aC.eT,viewRotationDegreesClockwise:aC.gR};if(aC.bN){zI.artPage=aC.bN;}if(aC.ff){zI.documentArtPage=aC.ff;}ag.openPage(zI);aC.yq=true;lC++;}};function ajU(bN,gp){var bG;bN.forEachMark(function(h){switch(h.get_type()){case IPCC.Web.UI.MarkType.Line:var aX=h.get_points();var aG=aX.yZ(0);var jG=aX.yZ(1);aX.setPoint(0,new IPCC.Web.UI.Point(aG.x*gp,aG.y*gp));aX.setPoint(1,new IPCC.Web.UI.Point(jG.x*gp,jG.y*gp));break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.TextSelectionRedaction:bG=h.get_rectangle();h.set_rectangle({x:bG.x*gp,y:bG.y*gp,width:bG.width*gp,height:bG.height*gp});break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.Strikethrough:bG=h.get_rectangle();h.set_rectangle({x:bG.x*gp,y:bG.y*gp,width:bG.width*gp,height:bG.height*gp});var bj=h.bj,gA;for(var i=0;i<bj.length;i++){gA=bj[i];gA.x=gA.x*gp;gA.y=gA.y*gp;gA.width=gA.width*gp;gA.height=gA.height*gp;}break;default:break;}});};function UE(ag,aC){function auQ(sender,evnt){var aeV=function(bg,aw,aM){var WP={'width':bg,'height':aw,'pageNumber':aM};F.bB('pageOpening',WP);};var cr=evnt.pageNumber;var aaC=evnt.documentIdentifier;aC.ah=ag.get_pageWidth();aC.bU=ag.get_pageHeight();var fZ=ag.get_pageXResolution();var gj=ag.get_pageYResolution();if(!isNaN(parseFloat(fZ))&&isFinite(fZ)){aC.gK=fZ;}if(!isNaN(parseFloat(gj))&&isFinite(gj)){aC.ga=gj;}ag=null;for(var bi=0;bi<bx.length;bi++){if(oT&&bx[bi].eT.get_pageNumber()===cr&&bx[bi].eT.bE.get_documentIdentifier()===aaC){bx[bi].yq=false;bx[bi].zl=true;bx[bi].EK=false;if(dB===IPCC.ViewMode.SinglePage){var mV= -1;if(Array.prototype.indexOf){mV=qT.indexOf(bi);}else{mV=IPCC.Web.iM(qT,bi);}if(mV!== -1){qT.splice(mV,1);}}var alW=false;for(var bM=0;bM<MZ.length;bM++){if(MZ[bM]===bi){alW=true;}}if(alW===false){MZ.push(bi);}var nq=0;var mg=0;var bF=document.getElementById(bx[bi].aE);var aB=bF.bw;var eg;var dS;var XU;if(hn===0&&(bi===0||bx[0].EK===true)){if(bF.currentStyle){pp=parseInt(bF.currentStyle.borderTopWidth,10)||0;eQ=parseInt(bF.currentStyle.marginTop,10)||0;mu=parseInt(bF.currentStyle.borderLeftWidth,10)||0;eL=parseInt(bF.currentStyle.marginLeft,10)||0;qf=parseInt(bF.currentStyle.borderBottomWidth,10)||0;il=parseInt(bF.currentStyle.marginBottom,10)||0;ny=parseInt(bF.currentStyle.borderRightWidth,10)||0;gL=parseInt(bF.currentStyle.marginRight,10)||0;}else if(document.defaultView&&document.defaultView.getComputedStyle){var wx=document.defaultView.getComputedStyle(bF);pp=parseInt(wx.borderTopWidth,10)||0;eQ=parseInt(wx.marginTop,10)||0;mu=parseInt(wx.borderLeftWidth,10)||0;eL=parseInt(wx.marginLeft,10)||0;qf=parseInt(wx.borderBottomWidth,10)||0;il=parseInt(wx.marginBottom,10)||0;ny=parseInt(wx.borderRightWidth,10)||0;gL=parseInt(wx.marginRight,10)||0;}if(dB===IPCC.ViewMode.SinglePage){bF.style.margin=eQ+'px 0px '+il+'px 0px';aH.style.margin="0px auto";}else{if(dW===IPCC.PageLayout.VerticalScrollDirection){bF.style.margin=eQ+'px auto '+il+'px auto';}else{bF.style.margin=eQ+'px '+gL+'px '+il+'px '+eL+'px';aH.style.margin='0px '+gL+'px 0px '+eL+'px';}}hn=aB.get_pageWidth();jj=aB.get_pageHeight();aiG=fZ;eg=hn;dS=jj;var ea=cg/bx[bi].gK;if(jF(bx[bi].gR)===true){dS=hn;eg=jj;ea=cg/bx[bi].ga;}if(dB===IPCC.ViewMode.SinglePage){var aoR=(bd.offsetWidth-(eL+gL+mu+ny));var aoa=(bd.offsetHeight-(eQ+il+pp+qf+aqO));ow=aoR/(eg*ea);XU=aoa/(dS*ea);if(XU<ow){ow=XU;}aB.zoom(ow*ea);}else if(dW===IPCC.PageLayout.VerticalScrollDirection){ow=(bd.offsetWidth-IPCC.Web.om()-(eL+gL+mu+ny))/(eg*ea);aB.zoom(ow*ea);}else{ow=(bd.offsetHeight-IPCC.Web.om()-(eQ+il+pp+qf))/(dS*ea);aB.zoom(ow*ea);}nq=eg*ow*ea;mg=dS*ow*ea;bF.style.width=nq+'px';bF.style.height=mg+'px';if(dB===IPCC.ViewMode.SinglePage){aH.style.width=nq+'px';aH.style.height=mg+'px';}if(dB!==IPCC.ViewMode.SinglePage){for(var pA=0;pA<bx.length;pA++){if(bx[pA].fT===false&&pA!==bi){if(bx[pA].aE){bF=document.getElementById(bx[pA].aE);bF.style.width=eg*ow+'px';bF.style.height=dS*ow+'px';if(dW===IPCC.PageLayout.VerticalScrollDirection){bF.style.margin=eQ+'px auto '+il+'px auto';}else{bF.style.margin=eQ+'px '+gL+'px '+il+'px '+eL+'px';}}}}}df=ow;aeV(aC.ah,aC.bU,cr+1);bF.bw.display();}else{if(dB===IPCC.ViewMode.Document||dB===IPCC.ViewMode.SinglePage){if(jF(bx[bi].gR)===true){nq=aB.get_pageHeight()*df*cg/bx[bi].gK;mg=aB.get_pageWidth()*df*cg/bx[bi].ga;}else{nq=aB.get_pageWidth()*df*cg/bx[bi].gK;mg=aB.get_pageHeight()*df*cg/bx[bi].ga;}}else{var gD;var ah=aB.get_pageWidth();var bU=aB.get_pageHeight();eg=hn;dS=jj;if(jF(pz)===true){eg=jj;dS=hn;}if(jF(bx[bi].gR)===true){ah=aB.get_pageHeight();bU=aB.get_pageWidth();}if(dW===IPCC.PageLayout.VerticalScrollDirection){gD=eg/ah*df*cg/bx[0].ga;nq=eg*df*cg/bx[0].gK;mg=bU*gD;}else{gD=dS/bU*df*cg/bx[0].gK;mg=dS*df*cg/bx[0].ga;nq=ah*gD;}}if(nq!==Math.round(nq)){nq=Math.floor(nq*100)/100;}if(mg!==Math.round(mg)){mg=Math.floor(mg*100)/100;}if(bF.style.width!==nq+'px'||bF.style.height!==mg+'px'){if(dW===IPCC.PageLayout.VerticalScrollDirection){bF.style.width=nq+'px';bF.style.height=mg+'px';}else{bF.style.width=nq+'px';bF.style.height=mg+'px';}Ao(dN,true);mU(dN,true);}aeV(aC.ah,aC.bU,cr+1);}if(nq>hg){hg=nq;if(dW===IPCC.PageLayout.VerticalScrollDirection){bd.scrollLeft=(hg-bd.clientWidth)/2;}}if(mg>gT){gT=mg;if(dW===IPCC.PageLayout.HorizontalScrollDirection){bd.scrollTop=(gT-bd.clientHeight)/2;}}if(bx[bi].BY>0){var TK=document.getElementById(bx[bi].aE).bw;if(TK){TK.rotate(bx[bi].BY);TK.display();bx[bi].BY=0;}}if(lC>0){lC=lC-1;}if(bx[bi].aeJ()===true){var iw=bx[bi].eT;var gp=bx[bi].kj()/iw.ajY();if(gp!==1){var bN=F.fU(iw);if(bN){ajU(bN,gp);}}}bx[bi].SO(false);hQ();var Gs=new IPCC.OpenPageEventArgs();Gs.pageIndex=evnt.pageNumber;Gs.imGearPage=evnt.imGearPage;Gs.viewRotationDegreesClockwise=evnt.viewRotationDegreesClockwise;Gs.pageNodeID=bx[bi].aE;F.bB('pageOpened',Gs);break;}}if(lC===0&&nr===null&&kk===null){setTimeout(function(){oI();},60);}};ag.add_pageOpened(auQ);};function VO(ag){function atS(aj,am){if(oT===false){return;}var wQ;if(am.pageNumber>=0){if(bx[am.pageNumber].aE){wQ=bx[am.pageNumber].aE;}}bx[am.pageNumber].EK=true;bx[am.pageNumber].yq=false;bx[am.pageNumber].zl=false;bx[am.pageNumber].fT=false;var mG=new IPCC.ExceptionEventArgs();mG.exception=am.exception;mG.pageIndex=am.pageNumber;mG.pageNodeID=wQ;F.bB('pageOpenFailed',mG);if(lC>0){lC=lC-1;if(lC===0){setTimeout(function(){oI();},60);}}};ag.add_pageOpenFailed(atS);};function Vw(ag){function aup(aj,am){if(oT===false){return;}var V=new IPCC.PageEventArgs();V.pageIndex=am.aM;V.imGearPage=bx[am.aM].eT;V.pageNodeID=bx[am.aM].aE;bx[am.aM].fT=true;if(dB===IPCC.ViewMode.SinglePage){var mV= -1;if(Array.prototype.indexOf){mV=qT.indexOf(am.aM);}else{mV=IPCC.Web.iM(qT,am.aM);}if(mV!== -1){qT.splice(mV,1);}}F.bB('pageDisplayed',V);setTimeout(function(){var lf=IPCC.J.filter(dN,function(el){if(dB===IPCC.ViewMode.SinglePage){return am.aM===el.aM-1&&el.aM-1===dm;}else{return am.aM===el.aM-1;}});Ao(lf);mU(lf);},0);};ag.add_pageDisplayed(aup);};function axl(aC){function Kc(aj,am){if(oT===false){return;}F.bB('textPageReady',{pageIndex:am.pageNumber,containsText:am.containsText});var cS=hQ();var dG=[];if(cS){dG=sI(cS);}if(am.containsText===true&&am.pageNumber>=dG[0]&&am.pageNumber<=dG[dG.length-1]){if(bx[am.pageNumber].bN&&bx[am.pageNumber].bN.get_markCount()>0){var bF=document.getElementById(bx[am.pageNumber].aE);F.yk(bF,am.pageNumber);}}};aC.zs(Kc);};function aAu(aC){function ayu(aj,am){if(oT===false){return;}var ff=bx[am.pageNumber].ff;aC.alS().JF().jS(function(ha){var h=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.DocumentHyperlink),bG=ha.fh();h.set_rectangle(new IPCC.Web.UI.Rectangle(bG.x,bG.y,bG.width,bG.height));h.set_href(ha.alY());h.set_lineColor(ha.atX());h.set_lineWidth(ha.atM());h.set_borderPattern(ha.atI());h.set_borderType(ha.atT());h.set_borderHorizontalRadius(ha.aue());h.set_borderVerticalRadius(ha.auF());h.set_borderOpacity(ha.atC());ff.addMark(h);ha.aoE(h);});F.bB('hyperlinkPageReady',{pageIndex:am.pageNumber});var cS=hQ();var dG=[];if(cS){dG=sI(cS);}if(am.pageNumber>=dG[0]&&am.pageNumber<=dG[dG.length-1]){var bF=document.getElementById(bx[am.pageNumber].aE);F.yk(bF,am.pageNumber);}};aC.WE(ayu);};function aBl(aC){function IL(aj,am){if(oT===false){return;}var wQ;if(am.pageNumber>=0){if(bx[am.pageNumber].aE){wQ=bx[am.pageNumber].aE;}}F.bB('textExtractionFailed',{'exception':am.exception,'pageIndex':am.pageNumber,'pageNodeID':wQ});};aC.zy(IL);};function Vy(ag){function axH(aj,am){if(oT===false){return;}var wQ;if(isNaN(am.pageNumber)===false){if(am.pageNumber>=0){if(bx[am.pageNumber].aE){wQ=bx[am.pageNumber].aE;}}bx[am.pageNumber].EK=true;bx[am.pageNumber].yq=false;bx[am.pageNumber].zl=false;bx[am.pageNumber].fT=false;}var mG=new IPCC.ExceptionEventArgs();mG.functionName=am.function_name;mG.exception=am.exception;mG.pageIndex=am.pageNumber;mG.pageNodeID=wQ;F.bB('exceptionThrown',mG);if(lC>0){lC=lC-1;if(lC===0){setTimeout(function(){oI();},60);}}};ag.add_exceptionThrown(axH);};function Vs(ag){function Kl(aj,am){F.bB('markCreating',am);};ag.add_markCreating(Kl);};function aCg(ba){function abc(){if(oT===false){return;}var cS=hQ();var dG=[];if(cS){dG=sI(cS);}if(ba.cr>=dG[0]&&ba.cr<=dG[dG.length-1]){var bF=document.getElementById(ba.aE);F.yk(bF,ba.cr);}var V=new IPCC.Web.UI.MarkEventArgs();V.pageIndex=ba.cr;F.bB('marksLoaded',V);};ba.bN.add_marksLoaded(abc);};function azm(ba){function jn(aj,am){var V=new IPCC.Web.UI.MarkEventArgs();V.pageIndex=ba.cr;V.mark=am.mark;V.zIndex=am.zIndex;V.clientX=am.clientX;V.clientY=am.clientY;F.bB('markAdded',V);};ba.bN.add_markAdded(jn);};function VR(ba){var Xo,sA=false,Yi,aar;function JK(L,fk){if(sG===false){return;}var kl=vO();ajX(L,fk,kl);mU(dN,true,kl);};function awM(L,fk){Yi=L;aar=fk;if(sA&& !Xo){Xo=JN(function(){sA=false;Xo=undefined;if(Yi&&aar){JK(Yi,aar);}else{JK(L,fk);}});}};function ni(aj,am){if(am.mark.xW===true){return;}var V=new IPCC.Web.UI.MarkEventArgs();V.pageIndex=ba.cr;V.mark=am.mark;V.zIndex=am.zIndex;V.propertyName=am.propertyName;F.bB('markChanged',V);var fk=dN[am.mark.get_markID()];if(fk&&(am.propertyName==='rectangle'||am.propertyName==='points'||am.propertyName==='startPoint'||am.propertyName==='endPoint')){sA=true;awM(am.mark,fk);}else if(fk&&am.propertyName==='visible'){var aCm=am.mark.get_visible();var VS=(function(ci){return IPCC.J.inArray(Rk(),ci.aM-1);})(fk);if(aCm&&VS){MC([fk]);mU(dN,true,vO());}else{FF([fk]);}}};ba.bN.add_markChanged(ni);};function aCG(ba){function abU(aj,am){var V=new IPCC.Web.UI.MarkEventArgs();V.pageIndex=ba.cr;V.mark=am.mark;V.zIndex=am.zIndex;V.oldZIndex=am.oldZIndex;F.bB('markReordered',V);};ba.bN.add_markReordered(abU);};function aBJ(ba){function Ep(aj,am){if(am.mark.xW===true){return;}var V=new IPCC.Web.UI.MarkEventArgs();V.pageIndex=ba.cr;V.mark=am.mark;V.zIndex=am.zIndex;F.bB('markSelectionChanged',V);};ba.bN.add_markSelectionChanged(Ep);};function aAo(ba){function Ec(aj,am){if(am.mark){var V=new IPCC.Web.UI.MarkEventArgs();V.pageIndex=ba.cr;V.mark=am.mark;V.zIndex=am.zIndex;F.bB('markRemoved',V);var fk=dN[am.mark.get_markID()];if(fk){if(am.mark.get_conversation()===iv){iv=null;}fk.cY.parentElement.removeChild(fk.cY);delete dN[am.mark.get_markID()];mU(dN,true);}}};ba.bN.add_markRemoved(Ec);};function aBS(ba){function AS(aj,am){var V=new IPCC.Web.UI.MarkEventArgs();V.pageIndex=ba.cr;V.mark=am.mark;V.zIndex=am.zIndex;F.bB('markTextSelectionChanged',V);};ba.bN.add_markTextSelectionChanged(AS);};function ajX(L,fk,QH){var ba=bx[fk.aM-1],aC=document.getElementById(ba.aE),Di=UT(L,ba.cr+1);if(aC.bw){var dJ=aC.bw.transformPagePointToWindow(new IPCC.Web.UI.Point(Di.x,Di.y),true);var qg=(eQ*ba.cr);var GQ=(aC.offsetTop-qg+dJ.y)/(QH-(eQ*bx.length));fk.bG=Di;fk.aas=GQ;}};function FF(jw,aM){var aDq=typeof aM==='undefined';IPCC.J.forEach(jw,function(aK){if(aK&&(aDq||aK.pageNumber===aM)){aK.cY.style.display='none';aK.vw=false;}});};function vg(){if(lA.currentStyle&&lA.currentStyle.display==='none'){return 0;}return lA.clientWidth;};function vO(){if(lA.currentStyle&&lA.currentStyle.display==='none'){return 0;}return lA.offsetHeight;};function MC(jw,aM){var ark=typeof aM==='undefined';IPCC.J.forEach(jw,function(el){if(ark||el.pageNumber===aM){el.cY.style.display='';el.vw=true;if(el&&el.h&&el.h.get_visible()===false){el.cY.style.display='none';el.vw=false;}}});};function Ao(jw,Zm){if(sG===false){return;}var NU=(! !Zm)?IPCC.J.filter(dN,function(ci){return IPCC.J.contains(Rk(),ci.aM-1);}):jw;var kl=vO();IPCC.J.forEach(NU,function(el){ajX(el.h,el,kl);});};function avJ(a,b){return(a.bG.y!==b.bG.y)?(a.bG.y-b.bG.y):(a.bG.x!==b.bG.x)?(a.bG.x-b.bG.x):(a.yp-b.yp);};function avy(a,b){return(a.bG.x!==b.bG.x)?(a.bG.x-b.bG.x):(a.bG.y!==b.bG.y)?(b.bG.y-a.bG.y):(a.yp-b.yp);};function awY(a,b){return(a.bG.y!==b.bG.y)?(b.bG.y-a.bG.y):(a.bG.x!==b.bG.x)?(b.bG.x-a.bG.x):(a.yp-b.yp);};function avL(a,b){return(a.bG.x!==b.bG.x)?(b.bG.x-a.bG.x):(a.bG.y!==b.bG.y)?(a.bG.y-b.bG.y):(a.yp-b.yp);};function avt(Zz,kl,zh){zh=zh||0;var _top,afl,IP,Sq=(eQ*bx.length),SC=kl-Sq;IPCC.J.forEach(Zz,function(ci){IP=(eQ*(ci.aM-1));afl=(ci.aas*SC)+IP;_top=Math.max(zh+5,afl);if(ci.cY.style.top!==_top+'px'){ci.cY.style.top=_top+'px';}zh=_top+ci.ZI;});};function awP(Zz,kl){var KL,_top,MU,IP,acc,Sq=(eQ*bx.length),SC=kl-Sq;IPCC.J.forEach(Zz,function(ci){IP=(eQ*(ci.aM-1));MU=(ci.aas*SC)+IP;if(KL===undefined){KL=MU;}if(ci.h.get_conversation()===iv){_top=MU;acc=_top+ci.ZI;}else{_top=Math.min(KL-5-ci.ZI,MU);}if(ci.cY.style.top!==_top+'px'){ci.cY.style.top=_top+'px';}KL=_top;});return acc;};function mU(jw,Zm,kl){if(sG===false){return;}if(!kl){kl=vO();}var apB=function(a,b){if(a.aM!==b.aM){return(a.aM-b.aM);}var aC=bx[a.aM-1],hw=aC.gR;switch(hw){case 90:return avy(a,b);case 180:return awY(a,b);case 270:return avL(a,b);default:return avJ(a,b);}};var NU=(! !Zm)?IPCC.J.filter(dN,function(ci){return IPCC.J.inArray(Rk(),ci.aM-1);}):jw;MC(NU);var aoc=IPCC.J.map(NU,function(ci,be){ci.ZI=ci.cY.offsetHeight;return ci;});var ZN=aoc.sort(apB);var NA=[],Te=[],YX=false;if(iv){var alG=dN[iv.get_mark().get_markID()];if(!IPCC.J.inArray(ZN,alG)){YX=true;}IPCC.J.forEach(ZN,function(ci){if(YX){Te.push(ci);}else if(ci.h.get_conversation()===iv){NA.unshift(ci);YX=true;}else{NA.unshift(ci);}});}else{Te=ZN;}var zh=0;if(NA.length){zh=awP(NA,kl);}avt(Te,kl,zh);};function avp(jw,L,cr){var ci=jw[L.ll()];ci.aM=cr;ci.h=L;ci.bG=UT(L,cr);ci.yp=L.eP().oW(L);};function BF(L,jw,lw){var fk=jw[L.get_markID()];if(fk){fk.cY.parentElement.replaceChild(lw,fk.cY);fk.cY=lw;}return fk;};function aAG(L,jw,lw,azv,aFt,GQ,cr){var fk=new avN();fk.cY=lw;dN[L.get_markID()]=fk;avp(dN,L,cr);fk.aas=GQ;azv.appendChild(lw);return fk;};function UT(L,aM){var bG=(L.get_boundingRectangle)?L.get_boundingRectangle():{},hw=bx[aM-1].gR;switch(hw){case 90:return{x:bG.x,y:bG.y+(bG.height||0)};case 180:return{x:bG.x+(bG.width||0),y:bG.y+(bG.height||0)};case 270:return{x:bG.x+(bG.width||0),y:bG.y};default:return{x:bG.x,y:bG.y};}};function azY(ba){function Qc(aj,am){var V=new IPCC.Web.UI.CommentEventArgs();V.pageIndex=ba.cr;V.mark=am.mark;V.index=am.index;V.comment=am.comment;var aC=document.getElementById(ba.aE);F.bB('commentAdding',V);setTimeout(function(){var QH=vO(),fk,cY;if(am.index===0){cY=mi(am.mark,{isSelected:false},null);if(!cY){return;}else if(!IPCC.J.uY(cY)){throw new Error(cY+' is not a valid HTMLElement');}var Di=UT(am.mark,ba.cr+1),azb=Di.x,aAU=Di.y;var dJ;if(aC&&aC.bw){dJ=aC.bw.transformPagePointToWindow(new IPCC.Web.UI.Point(azb,aAU),true);}else{dJ=new IPCC.Web.UI.Point(0,0);}var qg=(eQ*(ba.cr));var GQ=(aeP(ba.cr)-qg+dJ.y)/(QH-(eQ*bx.length));fk=aAG(am.mark,dN,cY,lA,dJ,GQ,ba.cr+1);}else{var Gi=am.mark.get_conversation()===iv;var currentConversationDiv=dN[am.mark.get_markID()];if(!currentConversationDiv){return;}cY=mi(am.mark,{isSelected:Gi},currentConversationDiv.cY);if(!cY){return;}else if(!IPCC.J.uY(cY)){throw new Error(cY+' is not a valid HTMLElement');}fk=BF(am.mark,dN,cY);}if(IPCC.J.contains(Rk(),ba.cr)){mU(dN,true,QH);}else{FF([fk]);}F.bB('commentAdded',V);},0);};ba.bN.add_commentAdded(Qc);};function aAD(ba){function PP(aj,am){var cY=null;if(dN[am.mark.get_markID()]){cY=dN[am.mark.get_markID()].cY;var Gi=am.mark.get_conversation()===iv;cY=mi(am.mark,{isSelected:Gi},cY);}if(!cY){F.bB('commentChanged',am);return;}else if(!IPCC.J.uY(cY)){throw new Error(cY+' is not a valid HTMLElement');}if(cY){var kl=vO();BF(am.mark,dN,cY);mU(dN,true,kl);}F.bB('commentChanged',am);};ba.bN.add_commentChanged(PP);};function azN(ba){function Ph(aj,am){var cY=null;if(dN[am.mark.get_markID()]){cY=dN[am.mark.get_markID()].cY;}var Gi=am.mark.get_conversation()===iv;cY=mi(am.mark,{isSelected:Gi},cY);if(IPCC.J.uY(cY)){BF(am.mark,dN,cY);}else{var fk=dN[am.mark.get_markID()];if(fk){if(am.mark.get_conversation()===iv){iv=null;}fk.cY.parentElement.removeChild(fk.cY);delete dN[am.mark.get_markID()];}}mU(dN,true);F.bB('commentRemoved',am);};ba.bN.add_commentRemoved(Ph);};function Tk(){var aw=jj;var bg=hn;var apX=function(je){return{width:je.width||(je.right-je.left),height:je.height||(je.bottom-je.top),top:je.top,bottom:je.bottom,left:je.left,right:je.right};};var acf=apX(bd.getBoundingClientRect());var nH={height:acf.height/2};nH.width=nH.height*bg/aw;if(nH.width>bg/2){nH.width=bg/2;}if(nH.height>aw/2){nH.height=aw/2;}var ZY=8;var ahO={height:aw*ZY,width:bg*ZY};var axv=bg*df<nH.width+5;var ayf=bg*df>ahO.width-5;return{min:nH,max:ahO,page:{width:bg,height:aw},viewport:acf,atMin:axv,atMax:ayf,maxFactor:ZY,minFactor:nH.width/bg};};function ly(bh,QZ){if(QZ){acq.apply(this,arguments);return;}var tz=(bh<df)?true:false;var nB=Tk();if((nB.atMin&&tz)||(nB.atMax&& !tz)){return;}if(bh>nB.maxFactor){bh=nB.maxFactor;}else if(bh<nB.minFactor){bh=nB.minFactor;}if(!nB.atMax|| !nB.atMin){acq.apply(this,arguments);}};function acq(bh,aHM,aa,bZ,Ca,qo,ep,eH){if(isNaN(bh)||bh<=0||Math.abs(bh)===Infinity){return;}var Sd=dm;var cS=hQ();var tz=(bh<df)?true:false;var hD=0;var gm=bx.length-1;if(dB===IPCC.ViewMode.SinglePage){if(dm-uK>=0){hD=dm-uK;}if(dm+uK<bx.length-1){gm=dm+uK;}}var Rw=bh/df;df=bh;var Ds=bd.getBoundingClientRect();var adT=(qo&&qo.x!==undefined)?qo.x:bd.scrollLeft+(Ds.width/2);var ahb=(qo&&qo.y!==undefined)?qo.y:bd.scrollTop+(Ds.height/2);var aDL=qo&&qo.x!==undefined&&qo.y!==undefined;hg=0;gT=0;for(var bi=hD;bi<=gm;bi++){var aB;var bF=document.getElementById(bx[bi].aE);if(bF){aB=bF.bw;}else{continue;}if(bi===Sd){var RR=bF.getBoundingClientRect();if(!aDL){if(dW===IPCC.PageLayout.HorizontalScrollDirection&&Ds.height>RR.height){ahb-=((Ds.height-RR.height)/2);}else if(dW===IPCC.PageLayout.VerticalScrollDirection&&Ds.width>RR.width){adT-=((Ds.width-RR.width)/2);}}}var hv=bh*cg/bx[bi].gK;var ah=hn;var bU=jj;var eg=hn;var dS=jj;if(jF(pz)===true){eg=jj;dS=hn;}if(bx[bi].kj()>0){if(jF(bx[bi].gR)===true){ah=bx[bi].oh();bU=bx[bi].kj();}else{ah=bx[bi].kj();bU=bx[bi].oh();}}else{hv=bh*cg/bx[0].gK;if(jF(bx[bi].gR)===true){var JX=ah;ah=bU;bU=JX;hv=bh*cg/bx[0].ga;}}var JZ,Ik,gD;if(dB===IPCC.ViewMode.SinglePage){Ik=ah*hv;JZ=bU*hv;bF.style.width=Ik+'px';bF.style.height=JZ+'px';if(bi===dm){aH.style.width=Ik+'px';aH.style.height=JZ+'px';}if(aB&&bx[bi].fT===true&&aB.eV()===true){aB.zoom(hv);}}else if(dB===IPCC.ViewMode.Document){Ik=ah*hv;JZ=bU*hv;bF.style.width=Ik+'px';bF.style.height=JZ+'px';if(aB&&bx[bi].fT===true&&aB.eV()===true){aB.zoom(hv);}if(ah*hv>hg){hg=ah*hv;}if(bU*hv>gT){gT=bU*hv;}}else{hv=bh*cg/bx[0].gK;if(dW===IPCC.PageLayout.VerticalScrollDirection){gD=eg/ah*hv;bF.style.width=eg*hv+'px';bF.style.height=bU*gD+'px';if(eg*hv>hg){hg=eg*hv;}if(bU*hv>gT){gT=bU*hv;}}else{gD=dS/bU*hv;bF.style.height=dS*hv+'px';bF.style.width=ah*gD+'px';if(ah*hv>hg){hg=ah*hv;}if(dS*hv>gT){gT=dS*hv;}}if(aB&&bx[bi].fT===true&&aB.eV()===true){aB.zoom(gD);}}if(aB&&bx[bi].fT===true&&aB.eV()===true){aB.display();if(IPCC.J.yP.zS){var aAk=bd.style.display;bd.style.display='none';bd.style.display=aAk;aDJ();}}}if(dW===IPCC.PageLayout.VerticalScrollDirection){Lz=bd.scrollTop;}else{Lz=bd.scrollLeft;}var Qw,Qp,Lp=0,Ln=0;if(Ca){Qw=Ca.offsetLeft+Rw*aa;Qp=Ca.offsetTop+Rw*bZ;bd.scrollLeft=Qw-(bd.clientWidth/2)+Lp;bd.scrollTop=Qp-(bd.clientHeight/2)+Ln;awq(cS);}else{if(dW===IPCC.PageLayout.VerticalScrollDirection){Ln=eQ*(Sd+1);}else{Lp=gL+((eL+gL)*(Sd+1));}Qw=Rw*(adT-Lp);Qp=Rw*(ahb-Ln);adP(cS);bd.scrollLeft=Qw-(bd.clientWidth/2)+Lp;bd.scrollTop=Qp-(bd.clientHeight/2)+Ln;}if(dB!==IPCC.ViewMode.SinglePage&&(ep===IPCC.ScaleTrigger.Pinch||tz===true)){oI();}mU(dN,true);F.bB('scaleChanged',{scaleType:(tz)?"scaledDown":"scaledUp",scaleTrigger:ep,fitType:eH,scaleFactor:df});};function aDJ(){var dummy=document.createElement('div');setTimeout(function(){bd.appendChild(dummy);bd.removeChild(dummy);},0);};function abJ(ac,fa,dU,fI){var fQ=ac.igElements;fI=fI||Tz(ac);if(fI&&(fI.right-fI.left)>0&&(fI.bottom-fI.top)>0){return new IPCC.Web.UI.Point(fa+fI.left+fQ.mI.scrollLeft,dU+fI.top+fQ.mI.scrollTop);}else{return;}};function Tz(ac){var fQ=ac.igElements;var fI=null;if(!ac|| !fQ|| !fQ.mR){return null;}if(fQ.mR.getBoundingClientRect){try{fI=fQ.mR.getBoundingClientRect();}catch(af){return;}}else{var fi=fQ.mR;var tZ=document.documentElement;fI={left:tZ.clientLeft-tZ.scrollLeft,top:tZ.clientTop-tZ.scrollTop};fi=fi.offsetParent;while(fi){fI.top+=fi.offsetTop-fi.scrollTop;fI.left+=fi.offsetLeft-fi.scrollLeft;fi=fi.offsetParent;}}return fI;};function agb(){var cP=F.mZ();var LJ=cP.id;var xq;var xL;var mo;var WG;var WR;var bm=false;var ac;var oe=[];var tG= -1;var gr=0;var pe;var Dh;var Aq;var le=0;var cT=0;var sd=null;var vj=null;if(aH===''){bd=fO({width:'100%',height:'100%',position:'relative',margin:'0px',overflow:'auto',textAlign:'center'});bd.className='pccPageListContainerWrapper';bd.tabIndex=2;var YE=function(fa,dU){return IPCC.J.getPageFromPoint(fa,dU,bd)||false;};var abg=function(ac,fa,dU){var fQ=ac.igElements;var fI=Tz(ac);if(fI&&(fI.right-fI.left)>0&&(fI.bottom-fI.top)>0){return new IPCC.Web.UI.Point(fa-fI.left-fQ.mI.scrollLeft,dU-fI.top-fQ.mI.scrollTop);}else{return;}};var arp=function(nF){nF.Ji([new IPCC.jV(IPCC.Web.UI.MarkType.Text)]);};var apy=function(nF){nF.set_mouseTool(IPCC.Web.UI.MouseTool.None);};var NC=false,aGl="";var alw=function aGe(af,iL,aC){if(iL.match(/edit/)){NC=true;return;}arp(aC.bw);NC=true;aGl=iL;aC.bw.FL("touchstart",af);};var akP=function(aC){NC=false;apy(aC.bw);};var Zh=function(af){if(af.target&&af.target.attributes&&af.target.getAttribute('data-pcc-mark')){return af.target;}else if(af.target.parentElement&&af.target.parentElement.attributes&&af.target.parentElement.getAttribute('data-pcc-mark')){return af.target.parentElement;}else if(af.target.parentNode&&af.target.parentNode.attributes&&af.target.parentNode.getAttribute('data-pcc-mark')){return af.target.parentNode;}else{return undefined;}};var YV=function(af){var ce=Zh(af);if(ce){return ce.getAttribute('data-pcc-mark');}return undefined;};var aeE=function(nF){if(nF&&nF.eP()){nF.eP().Ct(function(h){h.set_selected(false);});nF.display();}};var Og,aaP=false;var Nd=function(af,V){var mx={cw:undefined,h:undefined,aP:null};var ko=Zh(af);if(ko){if(typeof ac!=='undefined'&&ac!==false&&ac.bw&&ac.igElements&&ac.bw.eV()===true){mx.aP=ac.bw.oS();}if(ko.ImGearMarkRelation){mx.cw='mark';mx.h=ko.ImGearMarkRelation.h;mx.Xt=mx.h.get_selected();return mx;}else{while(!(ko.ImGearMarkRelation)&&ko.parentNode&&ko!==document.body){ko=ko.parentNode;if(ko.ImGearMarkRelation){mx.cw='mark';mx.h=ko.ImGearMarkRelation.h;mx.Xt=mx.h.get_selected();return mx;}}}}if(typeof ac!=='undefined'&&ac!==false&&ac.bw&&ac.igElements&&ac.bw.eV()===true){mx.aP=ac.bw.oS();var aP=0;for(aP=0;aP<bx.length;aP++){if(bx[aP].aE===ac.id){if(typeof V.targetType==='undefined'||V.targetType===null){mx.cw='page';return mx;}break;}}}return mx;};var Qd=function(aP,rK,kq,azo){if(aQ===null||aQ===undefined){return;}var Wt=false;if(rK===undefined){rK=aQ.rK;Wt=true;}if(kq===undefined){kq=aQ.kq;Wt=true;}var h;var aC=document.getElementById(bx[aP].aE);if(azo===true){h=aQ.wN;}else{h=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);h.set_rectangle({x:0,y:0,width:0,height:0});h.dk=127;h.cj='#3366CC';h.bj=null;aC.bw.nh().addMark(h);}h.set_selected(true);if(Wt===true){if(aQ.hD===aQ.gm){h.as=gr;h.cR=kq-gr+1;h.jK=true;h.kV=true;aC.bw.display();}else if(aP===aQ.hD){h.as=gr;h.cR=aC.bw.dg().gQ().fq()-1-rK;h.jK=true;h.kV=false;aC.bw.display();}else if(aP===aQ.gm){h.as=0;h.cR=kq+1;h.jK=false;h.kV=true;aC.bw.display();}else{h.as=0;h.cR=aC.bw.dg().gQ().fq()-1-gr;h.jK=false;h.kV=false;}}else{if(aQ.hD===aQ.gm){h.jK=true;h.kV=true;}else if(aP===aQ.hD){h.jK=true;h.kV=false;}else if(aP===aQ.gm){h.jK=false;h.kV=true;}else{h.jK=false;h.kV=false;}}aQ.eG[aP]=h;};var ajs=function(ce,aa,bZ,Nr){if(ce){var NS=ce.getBoundingClientRect();aa=IPCC.J.Os(aa,NS.left+Nr);aa=IPCC.J.ME(aa,NS.right-Nr);bZ=IPCC.J.Os(bZ,NS.top+Nr);bZ=IPCC.J.ME(bZ,NS.bottom-Nr);}return{x:aa,y:bZ};};var km=function(af){if(Aq){if(Aq.clientX===af.clientX&&Aq.clientY===af.clientY){if(af.rawEvent.preventDefault){af.rawEvent.preventDefault();}else if(af.preventDefault){af.preventDefault();}if(af.rawEvent.stopPropagation){af.rawEvent.stopPropagation();}else if(af.stopPropagation){af.stopPropagation();}aaP=true;Aq=undefined;return false;}}Og=af;abn(af,af.clientX,af.clientY,af.button);};var aao=function(af,V){mo=Nd(af,V);};var abn=function(af,fa,dU,pl){var V=new IPCC.Web.UI.MouseEventArgs();ac=YE(fa,dU);aao(af,V);var iL;var ko=Zh(af);if(ko){iL=ko.getAttribute('data-pcc-mark');}var SM=false;var KF=iL&&iL.substring(0,10);if(iL&&KF==='texthandle'){Dh=true;SM=true;KF=iL.substring(10,13);var h=ko.parentNode.ImGearMarkRelation.h;if(aQ&&h.bj===null){oe=aQ.tk.slice();oe[V.pageIndex]=undefined;}else{aQ=null;oe=[];F.tq();}var akO=function(azK){gr=aQ.rK;var R;for(R=aQ.gm;R>=aQ.hD;R--){var aC=document.getElementById(bx[R].aE);if(aC.bw===undefined||aC.bw===null){continue;}var Ag=gr;if(R!==aQ.hD){Ag=0;}var pH;if(R===aQ.gm){pH=aQ.kq;}else{pH=aC.bw.get_textPage().gQ().fq()-1;}azK(aC,Ag,pH);if(R!==aQ.ou){Qd(R);}}sd=aT;aT=IPCC.Web.UI.MouseTool.SelectText;bm=true;};var R,aP,bN,LT,dV,sF,cN;if(KF==='sta'){if(aQ===null||aQ===undefined){aP=h.aP;aQ={};aQ.eG=[];aQ.hD=aP;aQ.rK=h.as;gr=h.as;while(aP<bx.length){bN=bx[aP].bN;LT=bN.get_markCount();for(R=0;R<LT;R++){dV=bN.getMark(R);if(h.aY===dV.aY&&dV.get_type()===h.get_type()){aQ.eG[aP]=dV;for(sF=dV.bj.length-1;sF>=0;sF--){if(dV.bj[sF].set_visible){dV.bj[sF].set_visible(false);}else{dV.set_visible(false);break;}}if(aP===h.aP){vj=dV;}else{oe[aP]=cN.substring(dV.as,dV.cR);dV.set_selected(false);}cN=dV.cN.substring(dV.cR);if(dV.kV===true){aQ.kq=dV.as+dV.cR-1;aQ.gm=aP;break;}}}aP++;}}pe=aQ.kq+1;le=aQ.gm;var apA=function(aC,Ag,pH){aC.bw.showEmptyTextSelection(pH+1);aC.bw.extendTextSelection(undefined);aC.bw.extendTextSelection(pH);aC.bw.extendTextSelection(Ag);};aQ.eG[aQ.hD].xW=true;aQ.ou=aQ.hD;aQ.wN=aQ.eG[aQ.hD];akO(apA);}else if(KF==='end'){if(aQ===null||aQ===undefined){aP=h.aP;aQ={};aQ.eG=[];aQ.gm=aP;aQ.kq=h.as+h.cR-1;while(aP>=0){bN=bx[aP].bN;LT=bN.get_markCount();for(R=0;R<LT;R++){dV=bN.getMark(R);if(h.aY===dV.aY&&dV.get_type()===h.get_type()){aQ.eG[aP]=dV;for(sF=dV.bj.length-1;sF>=0;sF--){if(dV.bj[sF].set_visible){dV.bj[sF].set_visible(false);}else{dV.set_visible(false);break;}}if(aP===h.aP){cN=dV.cN;}else{oe[aP]=cN.substring(cN.length-dV.cR);dV.set_selected(false);}cN=dV.cN.substring(0,cN.length-dV.cR);if(dV.jK===true){aQ.rK=dV.as;gr=dV.as;aQ.hD=aP;vj=dV;break;}}}aP--;}}pe=aQ.rK;le=aQ.hD;var aqA=function(aC,Ag,pH){aC.bw.showEmptyTextSelection(Ag);aC.bw.extendTextSelection(undefined);aC.bw.extendTextSelection(Ag);aC.bw.extendTextSelection(pH);};aQ.eG[aQ.gm].xW=true;aQ.ou=aQ.gm;aQ.wN=aQ.eG[aQ.gm];akO(aqA);}if(vj){ac.bw.display();}}var xe=af.target.tagName&&af.target.tagName.toLowerCase()==='textarea';if(xe){return;}var yu=af.target.tagName&&af.target.tagName.toLowerCase()==='input'&&af.target.type&&af.target.type.toLowerCase()==='text';if(yu){return;}if(aT===IPCC.Web.UI.MouseTool.HandPan&&AN&&iL&&SM===false){if(!mo||mo.h.get_interactionMode()!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){alw(af,iL,ac);return;}}var dz;var fs;if(ac!==false&&ac.bw&&ac.igElements&&ac.bw.eV()===true){var an=0;for(an=0;an<bx.length;an++){if(bx[an].aE===ac.id){V.pageIndex=an;break;}}V.pointLiesWithinImage=true;fs=abg(ac,fa,dU);if(fs){dz=ac.bw.Nv(fs,false);V.imagePoint=dz;V.constrainedImagePoint=dz;}else{V.pointLiesWithinImage=false;}}else{V.pointLiesWithinImage=false;}V.domEvent=af;V.windowPoint=new IPCC.Web.UI.Point(fa,dU);if(SM===true){tG= -1;cT=V.pageIndex;af.preventDefault();F.bB('mouseDown',V);return;}switch(aT){case IPCC.Web.UI.MouseTool.None:af.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:af.preventDefault();xq=dU;xL=fa;WG=bd.scrollTop;WR=bd.scrollLeft;bm=true;F.zW(aH,'grabbing');if(ac&&ac.bw){F.zW(ac,'grabbing');ac.bw.set_cursor('grabbing');ac.bw.display();}break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:af.preventDefault();if(pl===0&&ac&&ac.bw&&dz){F.tq();oe=[];tG= -1;Dh=undefined;var cq=ac.bw.transformPagePointToTextIndex(dz);gr=cq;pe=cq;bm=true;if(cq===undefined){F.bB('mouseDown',V);return;}ac.bw.showEmptyTextSelection(cq);ac.bw.extendTextSelection(undefined);ac.bw.extendTextSelection(cq);ac.bw.display();le=V.pageIndex;cT=V.pageIndex;}break;case IPCC.Web.UI.MouseTool.Magnifier:af.preventDefault();if(pl===0&&ac&&ac.bw&&fs){var jH=IPCC.aW.dX(IPCC.aW.None);aH.style.cursor=jH;ac.bw.showMagnifier(fs);ac.bw.display();}bm=true;break;case IPCC.Web.UI.MouseTool.RectangleZoom:af.preventDefault();if(pl===0&&ac&&ac.bw&&dz){bm=true;xq=fs.y;xL=fs.x;ac.bw.showEmptySelection(dz);ac.bw.display();}break;}F.bB('mouseDown',V);};var ki=function(af){abN(af,af.clientX,af.clientY,af.button);};var adF=function(V,fa,dU,dI){V.windowPoint=new IPCC.Web.UI.Point(fa,dU);dI=YE(fa,dU);var dz,fs;if(dI!==false&&dI.bw&&dI.igElements&&dI.bw.eV()===true){V.pointLiesWithinImage=true;fs=abg(dI,fa,dU);if(fs){dz=dI.bw.Nv(fs,false);V.imagePoint=dz;V.constrainedImagePoint=dz;}else{V.pointLiesWithinImage=false;}}else{V.pointLiesWithinImage=false;}return{V:V,fa:fa,dU:dU,dI:dI,dz:dz,fs:fs};};var abN=function(af,fa,dU,pl){var xe=af.target.tagName&&af.target.tagName.toLowerCase()==='textarea';if(xe){return;}var yu=af.target.tagName&&af.target.tagName.toLowerCase()==='input'&&af.target.type&&af.target.type.toLowerCase()==='text';if(yu){return;}var V=new IPCC.Web.UI.MouseEventArgs();var dz,fs,dI;var FV=function(fa,dU){var nP=adF(V,fa,dU,dI);V=nP.V;V.domEvent=af;fa=nP.fa;dU=nP.dU;dI=nP.dI;dz=nP.dz;fs=nP.fs;};FV(fa,dU);var ko=Nd(af,V);if(ko&&ko.h){V.mark=ko.h;}var jH;switch(aT){case IPCC.Web.UI.MouseTool.None:af.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:af.preventDefault();if(bm){var arX=dU;var asi=fa;var ayq=xq-arX;var ayB=xL-asi;bd.scrollTop=WG+ayq;bd.scrollLeft=WR+ayB;}break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:af.preventDefault();if(bm){if(pl!==0){BW();}var iG;if(!dI){F.bB('mouseMove',V);return;}if(gr===undefined){ac=dI;}else if(dI!==ac&&dI.bw&&fs){tG= -1;var kx=0;var R=0;for(R=0;R<bx.length;R++){if(bx[R].aE===dI.id){kx=R;break;}}if(kx>cT){if(kx>le){iG=ac.bw.get_textPage().gQ().fq()-1;if(iG<0){BW();F.bB('mouseMove',V);return;}ac.bw.extendTextSelection(iG);if(aQ){iG=ac.bw.get_textPage().gQ().fq()-1;aQ.eG[cT].set_startIndex(ac.bw.OG());aQ.eG[cT].set_textLength(ac.bw.Be());aQ.gm=kx;gr=ac.bw.OG();}oe[cT]=ac.bw.getSelectedText();dI.bw.showEmptyTextSelection(0);dI.bw.extendTextSelection(undefined);tG=0;ac.bw.display();ac=dI;}else{gr=0;oe[cT]=undefined;oe[kx]=undefined;ac.bw.showEmptyTextSelection(0);ac.bw.extendTextSelection(undefined);if(aQ&&aQ.eG[cT]){aQ.eG[cT].jK=false;}ac.bw.display();ac=dI;if(aQ&&aQ.eG[cT]){aQ.eG[cT]=undefined;aQ.hD=kx;aQ.eG[kx].set_startIndex(0);aQ.eG[kx].set_textLength(aQ.eG[kx].get_startIndex()+aQ.eG[kx].get_textLength());aQ.eG[kx].jK=true;ac.bw.display();}}}else if(kx<cT){if(kx<le){iG=ac.bw.get_currentTextIndex();if(iG!==0){ac.bw.extendTextSelection(0);}if(aQ){aQ.eG[cT].set_startIndex(ac.bw.OG());aQ.eG[cT].set_textLength(ac.bw.Be());aQ.hD=kx;}oe[cT]=ac.bw.getSelectedText();ac.bw.display();iG=dI.bw.dg().gQ().fq()-1;tG=iG;gr=0;dI.bw.showEmptyTextSelection(iG+1);dI.bw.extendTextSelection(undefined);ac=dI;ac.bw.display();}else{oe[cT]=undefined;oe[kx]=undefined;ac.bw.showEmptyTextSelection(0);ac.bw.extendTextSelection(undefined);if(aQ&&aQ.eG[cT]){aQ.eG[cT].kV=false;}ac.bw.display();ac=dI;if(aQ&&aQ.eG[cT]){aQ.eG[cT]=undefined;aQ.gm=kx;iG=ac.bw.dg().gQ().fq()-1;aQ.eG[kx].set_textLength(dI.bw.Be());aQ.eG[kx].kV=true;ac.bw.display();}}}cT=kx;}var ayL=(cT<le),ayF=(cT>le);if(ac&&ac.bw&&ac.bw.eV()===true&&fs){fs=abg(ac,fa,dU);dz=ac.bw.Nv(fs,false);var cq=ac.bw.transformPagePointToTextIndex(dz);if(gr===undefined){gr=cq;pe=cq;if(cq===undefined){F.bB('mouseMove',V);return;}ac.bw.showEmptyTextSelection(cq);ac.bw.extendTextSelection(undefined);ac.bw.extendTextSelection(cq);ac.bw.display();var bM=0;for(bM=0;bM<bx.length;bM++){if(bx[bM].aE===ac.id){le=bM;cT=bM;break;}}}else{if(gr=== +gr&&cq=== +cq){if(ayL){gr=cq;}else if(!ayF){gr=Math.min(pe,cq);}}}iG=ac.bw.get_currentTextIndex();if(iG===cq||cq===undefined){F.bB('mouseMove',V);return;}if(tG!== -1){if(cq!==tG){ac.bw.extendTextSelection(tG);}tG= -1;}if((cq>pe&&cT===le)||cT>le){if(aQ){if(aQ.eG[cT]===undefined||aQ.eG[cT]===null){Qd(cT,0,0,cT===aQ.ou);if(cT-1>=0&&aQ.eG[cT-1]){aQ.eG[cT-1].kV=false;document.getElementById(bx[cT-1].aE).bw.display();}}aQ.eG[cT].kV=true;}if(Dh===undefined){Dh=false;}}else if(cq<pe||cT<le){if(aQ){if(aQ.eG[cT]===undefined||aQ.eG[cT]===null){Qd(cT,ac.bw.dg().gQ().fq()-1,0,cT===aQ.ou);if(aQ.eG[cT+1]){aQ.eG[cT+1].jK=false;document.getElementById(bx[cT+1].aE).bw.display();}}aQ.eG[cT].jK=true;}if(Dh===undefined){Dh=true;pe++;ac.bw.showEmptyTextSelection(pe);ac.bw.extendTextSelection(undefined);var pH=ac.bw.dg().gQ().fq();if(pe>=pH){ac.bw.extendTextSelection(pH-1);}else{ac.bw.extendTextSelection(pe);}}}ac.bw.extendTextSelection(cq);if(aQ&&aQ.eG[cT]){aQ.eG[cT].set_startIndex(ac.bw.OG());aQ.eG[cT].set_textLength(ac.bw.Be());}ac.bw.display();}}break;case IPCC.Web.UI.MouseTool.Magnifier:af.preventDefault();if(bm){if(pl!==0||(ac&&ac.bw&&ac!==dI)){ac.bw.hideMagnifier();jH=IPCC.aW.dX(IPCC.aW.Magnifier);aH.style.cursor=jH;ac.bw.display();}if(dI&&dI.bw&&fs){ac=dI;jH=IPCC.aW.dX(IPCC.aW.None);aH.style.cursor=jH;dI.bw.showMagnifier(fs);dI.bw.display();}}break;case IPCC.Web.UI.MouseTool.RectangleZoom:af.preventDefault();if(bm){var EO=ajs(ac,fa,dU,1);FV(EO.x,EO.y);if(dI&&dI.bw&&dz&&dI===ac){if(pl!==0){dI.bw.hideSelection();dI.bw.display();bm=false;}else{dI.bw.extendSelection(dz);dI.bw.display();}}}break;}F.bB('mouseMove',V);};var kX=function(af){if(aaP!==true){Yj(af,af.clientX,af.clientY);}else{aaP=false;}};var agZ=function(af,V){V.upTargetType=null;var Ee=Nd(af,V);V.originalEvent=af.rawEvent;V.clientX=af.clientX;V.clientY=af.clientY;V.downTarget={type:undefined,pageIndex:undefined};if(typeof mo!=='undefined'&&typeof mo.cw!=='undefined'){V.downTarget.type=mo.cw;}if(typeof mo!=='undefined'&&typeof mo.aP!=='undefined'){V.downTarget.pageIndex=mo.aP;}if(typeof mo!=='undefined'&&typeof mo.Xt!=='undefined'){V.downTarget.alreadySelected=mo.Xt;}V.downMark=(typeof mo!=='undefined')?mo.h:undefined;V.upMark=Ee.h;switch(Ee.cw){case 'page':case 'mark':V.upTarget={type:Ee.cw,pageIndex:Ee.aP};break;}if(V.pointLiesWithinImage===false&&Ee.cw==='page'){Ee.aP= -1;}};var Yj=function(af,fa,dU){var V=new IPCC.Web.UI.MouseEventArgs();var dI;var dz;var fs;var FV=function(fa,dU){var nP=adF(V,fa,dU,dI);V=nP.V;V.domEvent=af;fa=nP.fa;dU=nP.dU;dI=nP.dI;dz=nP.dz;fs=nP.fs;};FV(fa,dU);if(af){agZ(af,V);F.bB('mouseUp',V);}mo=undefined;var jH;switch(aT){case IPCC.Web.UI.MouseTool.None:af.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:af.preventDefault();if(bm){xL=undefined;xq=undefined;WG=undefined;WR=undefined;bm=false;jH='move';F.zW(aH,'grab');if(ac&&ac.bw){F.zW(ac,'grab');ac.bw.set_cursor('grab');ac.bw.display();}}break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:if(af){af.preventDefault();}if(bm){var qY=new IPCC.Web.UI.TextSelectedEventArgs(),iE=[],R,vI,Af;var kq;var HK=ac.bw.getSelectedText();var tk=oe.slice();if(HK.length>0){tk[cT]=ac.bw.getSelectedText();}else{if(cT>le){cT--;ac=document.getElementById(bx[cT].aE);if(tk[cT]){HK=tk[cT];}}else if(cT<le){cT++;ac=document.getElementById(bx[cT].aE);if(tk[cT]){HK=tk[cT];}}}qY.text=tk.join('');var QX=true;if(cT>=le){if(cT===le){if(ac.bw.get_currentTextIndex()>=pe){QX=false;}kq=gr+HK.length-1;}else{kq=HK.length-1;}if(kq<0){kq=0;}vI=le;Af=cT;}else{QX=false;kq=pe-1;vI=cT;Af=le;}for(R=vI;R<=Af;R++){iE.push(R);}if(qY.text.length===0){BW();iE=[];}qY.pageNumbers=iE;qY.clientX=fa;qY.clientY=dU;if(gr!==undefined){if(aT===IPCC.Web.UI.MouseTool.SelectText){var avg=function(aC,xp){var Fc=aC.bw.dg();var gY=Fc.gQ();var eO=gY.kA(xp);return eO.uT();};var iG=ac.bw.get_currentTextIndex();var Oy=avg(ac,iG);var ft=0,fr=0;if(QX===false){ft=Oy.width;fr=Oy.height;}var Bw=ac.bw.transformPagePointToWindow(new IPCC.Web.UI.Point(Oy.x+ft,Oy.y+fr),true);var dJ=abJ(ac,Bw.x,Bw.y);qY.handleClientX=dJ.x;qY.handleClientY=dJ.y;}var avG=aQ===undefined||aQ===null;if(vj){qY.previousFirstMark=vj;qY.firstMark=aQ.eG[vI];if(aQ.ou<vI||aQ.ou>Af){var Ho=document.getElementById(bx[aQ.ou].aE);if(Ho.bw){Ho.bw.nh().removeMark(aQ.wN);}}aQ.wN.xW=false;F.tq();if(sd!==null){aT=sd;}sd=null;}else if(avG===true){if(aT===IPCC.Web.UI.MouseTool.SelectText){aQ={hD:vI,rK:gr,gm:Af,kq:kq,tk:tk.slice(),eG:[]};for(R=0;R<iE.length;R++){Qd(iE[R]);}}else{F.tq();}}else{if(aQ.ou<vI||aQ.ou>Af){var afL=document.getElementById(bx[aQ.ou].aE);if(afL.bw){afL.bw.nh().removeMark(aQ.wN);}}aQ.wN.xW=false;aQ.hD=vI;aQ.rK=gr;aQ.gm=Af;aQ.kq=kq;aQ.tk=tk.slice();if(sd!==null){aT=sd;}sd=null;}qY.mouseTool=aT;qY.startIndex=gr;F.bB('selectTextMouseToolCompleted',qY);if(vj){vj=null;aQ=null;}}bm=false;}break;case IPCC.Web.UI.MouseTool.Magnifier:af.preventDefault();if(dI&&dI.bw){dI.bw.hideMagnifier();jH=IPCC.aW.dX(IPCC.aW.Magnifier);aH.style.cursor=jH;dI.bw.display();}bm=false;break;case IPCC.Web.UI.MouseTool.RectangleZoom:af.preventDefault();var EO=ajs(ac,fa,dU,1);FV(EO.x,EO.y);if(bm&&fs){var Dx=0;var DP=0;var Uc=0;var Tl=0;if(fs.x<xL){Dx=xL-fs.x;Uc=fs.x+Dx/2;}else{Dx=fs.x-xL;Uc=xL+Dx/2;}if(fs.y<xq){DP=xq-fs.y;Tl=fs.y+DP/2;}else{DP=fs.y-xq;Tl=xq+DP/2;}var acG=bd.clientWidth/Dx;var acS=bd.clientHeight/DP;var qN=acG;if(acG>acS){qN=acS;}if(dI&&dI.bw){dI.bw.nU();dI.bw.display();}bm=false;if(Dx*2+DP*2>25){F.apb(qN,Uc,Tl,dI);}}break;}var xe=false;var yu=false;if(af){xe=af.target.tagName&&af.target.tagName.toLowerCase()==='textarea';yu=af.target.tagName&&af.target.tagName.toLowerCase()==='input'&&af.target.type&&af.target.type.toLowerCase()==='text';}if(NC&& !xe&& !yu){akP(ac);}else if(aT===IPCC.Web.UI.MouseTool.HandPan&&Og&& !xe&& !yu&&af&&Og.clientX===af.clientX&&Og.clientY===af.clientY&&af.shiftKey!==true&&af.ctrlKey!==true){aeE(ac.bw);}};var aEB=function(){var jH;switch(aT){case IPCC.Web.UI.MouseTool.None:break;case IPCC.Web.UI.MouseTool.HandPan:F.zW(aH,'grab');bm=false;break;case IPCC.Web.UI.MouseTool.SelectText:BW();break;case IPCC.Web.UI.MouseTool.Magnifier:if(ac&&ac.bw){ac.bw.hideMagnifier();jH=IPCC.aW.dX(IPCC.aW.Magnifier);aH.style.cursor=jH;ac.bw.display();}bm=false;break;case IPCC.Web.UI.MouseTool.RectangleZoom:if(ac&&ac.bw){ac.bw.hideSelection();ac.bw.display();bm=false;}break;}};var aDA=function(){aEB();};var aEy=function(){if(aT===IPCC.Web.UI.MouseTool.Magnifier){if(ac&&ac.bw){ac.bw.hideMagnifier();var jH=IPCC.aW.dX(IPCC.aW.Magnifier);aH.style.cursor=jH;ac.bw.display();}bm=false;}else if(aT===IPCC.Web.UI.MouseTool.RectangleZoom){if(ac&&ac.bw){ac.bw.hideSelection();ac.bw.display();bm=false;}}else if(aT===IPCC.Web.UI.MouseTool.SelectText){BW();}};var lT=function(af){if(af.ctrlKey){switch(aT){case IPCC.Web.UI.MouseTool.None:break;case IPCC.Web.UI.MouseTool.SelectText:break;default:break;case IPCC.Web.UI.MouseTool.HandPan:var OB=af.rawEvent.wheelDelta;af.preventDefault();if(OB<0){F.zoomOut(1.5);}else{F.zoomIn(1.5);}break;}}else{af.preventDefault();bd.scrollTop-=af.rawEvent.wheelDelta*0.72;}if(aT===IPCC.Web.UI.MouseTool.Magnifier){if(ac&&ac.bw){ac.bw.hideMagnifier();var jH=IPCC.aW.dX(IPCC.aW.Magnifier);aH.style.cursor=jH;ac.bw.display();}bm=false;}else if(aT===IPCC.Web.UI.MouseTool.RectangleZoom){if(ac&&ac.bw){ac.bw.hideSelection();ac.bw.display();bm=false;}}else if(aT===IPCC.Web.UI.MouseTool.SelectText){BW();}};var aDU=function(bP){var V=new IPCC.Web.UI.MouseEventArgs();V.upTarget={type:'comments',element:bP.target};V.downTarget={type:'comments',element:bP.target};V.originalEvent=bP.rawEvent;V.clientX=bP.clientX;V.clientY=bP.clientY;V.pageIndex=undefined;F.bB('mouseUp',V);};var BW=function(){if(bm===true){if(aQ&&aQ.ou!==undefined){if(vj){Yj(null,0,0);return;}else{var Ho=document.getElementById(bx[aQ.ou].aE);if(Ho.bw){Ho.bw.nh().removeMark(aQ.wN);}aQ.wN.xW=false;}}F.tq();vj=null;bm=false;if(sd!==null){aT=sd;}sd=null;}};Bk=fO({position:'relative',width:'auto',height:'auto',display:'table',tableLayout:'fixed',borderSpacing:'0px',margin:'0px auto',clear:'both',boxSizing:'border-box'});if(dB===IPCC.ViewMode.SinglePage){aH=fO({position:'relative',whiteSpace:'nowrap',width:'auto',height:'auto',overflow:'hidden'});aH.className='pccPageListContainer pccSinglePageView';}else{aH=fO({position:'relative',whiteSpace:'nowrap',width:'auto',height:'auto',display:'table-cell',verticalAlign:'top'});aH.className='pccPageListContainer';}IPCC.Web.UI.au.addHandler(bd,"mousedown",km);IPCC.Web.UI.au.addHandler(bd,"mouseup",kX);IPCC.Web.UI.au.addHandler(bd,"mousemove",ki);IPCC.Web.UI.au.addHandler(bd,"mouseleave",aDA);IPCC.Web.UI.au.addHandler(bd,"mousewheel",lT);IPCC.Web.UI.au.addHandler(bd,"DOMMouseScroll",aEy);bd.onscroll=(! !JN)?avx:atv;aH.setAttribute('id',LJ+'_ListContainer');bd.setAttribute('id',LJ+'_ListWrapper');aoJ=LJ+'_ListWrapper';lA=fO();lA.className='pccPageListComments pccHidden';lA.setAttribute('id',LJ+'_CommentsPanel');var WS=[];if(IPCC.J.aCt){WS.push('touchend');}else{WS.push('click');}IPCC.J.forEach(WS,function(evName){IPCC.Web.UI.au.addHandler(lA,evName,aDU);});Bk.appendChild(aH);Bk.appendChild(lA);bd.appendChild(Bk);cP.appendChild(bd);if(navigator.userAgent.match('MSIE 10')&&document.documentMode===10){var bg='',aw='',sT='',rX='',pN;var ww=function(){pN=getComputedStyle(cP);sT=pN.getPropertyValue('width');rX=pN.getPropertyValue('height');if(sT!==bg||rX!==aw){bg=sT;aw=rX;bd.style.width=bg;bd.style.height=aw;}};setInterval(ww,1000);window.addEventListener('resize',ww);ww();F.ww=ww;}var aDE=IPCC.J.JR;if(document.documentElement.getBoundingClientRect&&Array.prototype.forEach&&aDE&&window.addEventListener&&document.querySelector){aqK(bd);}var aCX=function(aH,aIl){var lz;var Zs=function(bP){var dF=bP.rawEvent,hs=dF.touches[0]||dF.changedTouches[0];bP.clientX=hs.clientX;bP.clientY=hs.clientY;bP.preventDefault=function(){dF.preventDefault();};bP.stopPropagation=function(){dF.stopPropagation();};return bP;};var FT=function(iK,bP){var V=new IPCC.Web.UI.MouseEventArgs(),Eq=(iK==='touchstart')?'mouseDown':(iK==='touchend')?'mouseUp':null;var Eg=(iK==='touchstart')?abn:(iK==='touchmove')?abN:(iK==='touchend')?Yj:null;lz=YE(bP.clientX,bP.clientY);if(iK==='doubleTap'){lz&&lz.bw&&lz.bw.FL(iK,bP);}var iL;iL=YV(bP);if(iL){if(iL.substring(0,5)==='texth'){bP.preventDefault();bP.stopPropagation();if(iK==='touchstart'){Aq=bP;}Eg&&Eg(bP,bP.clientX,bP.clientY,0);return;}}switch(aT){case IPCC.Web.UI.MouseTool.CreateLineMark:case IPCC.Web.UI.MouseTool.CreatePolylineMark:case IPCC.Web.UI.MouseTool.CreateRectangleMark:case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:case IPCC.Web.UI.MouseTool.CreateEllipseMark:case IPCC.Web.UI.MouseTool.CreateTextMark:case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:case IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark:case IPCC.Web.UI.MouseTool.CreateStampMark:case IPCC.Web.UI.MouseTool.CreateFreehandMark:case IPCC.Web.UI.MouseTool.EditMarks:case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:lz&&lz.bw&&lz.bw.FL(iK,bP);if(Eq==='mouseUp'){agZ(bP,V);}else if(Eq==='mouseDown'){aao(bP,V);}F.bB(iK,V);break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:bP.preventDefault();bP.stopPropagation();if(iK==='touchstart'){Aq=bP;if(iL){F.tq();break;}}Eg&&Eg(bP,bP.clientX,bP.clientY,0);break;case IPCC.Web.UI.MouseTool.Magnifier:case IPCC.Web.UI.MouseTool.RectangleZoom:bP.preventDefault();bP.stopPropagation();if(iK==='touchstart'){Aq=bP;}Eg&&Eg(bP,bP.clientX,bP.clientY,0);break;case IPCC.Web.UI.MouseTool.HandPan:if(iL===undefined){iL=YV(bP);}var T=Nd(bP,{});if(iL&&AN){if(!T||T.h.get_interactionMode()!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){if(iK==='touchstart'){alw(bP,iL,lz);}else if(iK==='touchmove'){lz&&lz.bw&&lz.bw.FL(iK,bP);}else if(iK==='touchend'){lz&&lz.bw&&lz.bw.FL(iK,bP);akP(lz);}}}break;}};var Cc,Ai,uz;var aDw=function(bP){if(bP.rawEvent.touches.length>1){clearTimeout(uz);uz=Ai=Cc=undefined;return;}bP=Zs(bP);Cc=bP;if(aT===IPCC.Web.UI.MouseTool.CreatePolylineMark){bP.preventDefault();}Ai=function(){FT('touchstart',bP);uz=Ai=Cc=undefined;};uz=setTimeout(function(){Ai();},200);};var Jt,CG;var aDI=function(bP){bP=Zs(bP);sA=false;var ayX=function(){if(!CG){return false;}var fd=CG.clientX-bP.clientX;var fj=CG.clientY-bP.clientY;var gW=fd*fd+fj*fj;return gW<2500;};var abZ=function(){Jt=CG=undefined;var iL=YV(bP);if(!iL&&aT===IPCC.Web.UI.MouseTool.HandPan&&AN&&lz){aeE(lz.bw);}};var ant=function(){var ahE=Ai;if(Jt&&ayX()){clearTimeout(Jt);CG=Jt=undefined;ahE();FT('touchend',bP);FT('doubleTap',bP);}else{Jt=setTimeout(function(){ahE();FT('touchend',bP);abZ();},300);CG=bP;}};if(Cc&&uz){clearTimeout(uz);if(aT===IPCC.Web.UI.MouseTool.CreatePolylineMark){ant();}else{abZ();}uz=Ai=Cc=undefined;return;}FT('touchend',bP);};var ajG,sA=false;var aED=function(bP){if(bP.rawEvent.touches.length>1){return;}ajG=bP;if(Cc&&uz){clearTimeout(uz);Ai();}awj();};function awj(){var bP=Zs(ajG);FT('touchmove',bP);};IPCC.Web.UI.au.addHandler(aH,"touchstart",aDw);IPCC.Web.UI.au.addHandler(aH,"touchmove",aED);IPCC.Web.UI.au.addHandler(aH,"touchend",aDI);};aCX(aH,lA);}};function aqK(hf){var aeM=function(){},dn=1;function ack(aet,adJ,hj,aAV){hf.style['-ms-transform']=aet;hf.style['-moz-transform']=aet;hf.style['-webkit-transform']=adJ;hf.style['transform']=adJ;hf.style['-ms-transform-origin']=hj;hf.style['-moz-transform-origin']=hj;hf.style['-webkit-transform-origin']=hj;hf.style['transform-origin']=hj;hf.style.overflow=aAV||'';};function acl(){ack('scale(1,1) translate(0px,0px)','scale3d(1,1,1) translate3d(0px,0px,0px)','0% 0%','auto');};acl();function awm(qN,fR,Qq,un,aeb){var ft=(-fR.x/qN)-Qq.x,fr=(-fR.y/qN)-Qq.y,aAE="scale3d("+qN+","+qN+",1) translate3d("+ft+"px,"+fr+"px,0px)",aBg="scale("+qN+", "+qN+") translate("+ft+"px,"+fr+"px)";var anV=aeb.x+'px '+aeb.y+'px';ack(aBg,aAE,anV,'visible');aeM=function(){var bV=hf.getBoundingClientRect();var TW={x:(hf.clientWidth/2+ -bV.left+un.left)/qN,y:(hf.clientHeight/2+ -bV.top+un.top)/qN};if(dW===IPCC.PageLayout.VerticalScrollDirection&&un.aaT){TW.x=TW.x-(un.aaT/2);}acl();F.RY(qN,TW,undefined,IPCC.ScaleTrigger.Pinch);ys=false;};return hf;};function adK(x,y,x0,y0){return Math.sqrt((x-=x0)*x+(y-=y0)*y);};function aed(x,y,x0,y0){return{x:(x+x0)/2,y:(y+y0)/2};};function aAB(agi,Hj){return{x:agi.x-Hj.x,y:agi.y-Hj.y};};var Wi=false;hf.addEventListener('touchstart',function(ev){if(ys){return;}if(!Wi&&ev.touches.length===2){acJ(ev);}});var standardizeMSTouch=function(ev){var event={};event.identifier=ev.pointerId;event.x=event.clientX=ev.clientX;event.y=event.clientY=ev.clientY;event.preventDefault=ev.preventDefault;event.stopPropagation=ev.stopPropagation;event.rawEvent=ev;event.touches=[event];event.changedTouches=[event];return event;};var xH,abl=false,xn={};PCCViewer.EventEmitter.extend(xn);hf.addEventListener(IPCC.J.nJ['down'],function(bP){abl=true;bP=standardizeMSTouch(bP);if(xH){var dF={};dF.touches=[xH,bP];dF.changedTouches=[xH,bP];dF.preventDefault=function(){xH.rawEvent.preventDefault();bP.rawEvent.preventDefault();};dF.stopPropagation=function(){xH.rawEvent.stopPropagation();bP.rawEvent.stopPropagation();};acJ(dF);}else{xH=bP;}});hf.addEventListener(IPCC.J.nJ['move'],function(bP){xn.trigger('touchmove',{rawEvent:bP});});hf.addEventListener(IPCC.J.nJ['up'],function(bP){xn.trigger('touchend',{rawEvent:bP});xH=undefined;});function acJ(ev){ys=true;var Qq={x:hf.scrollLeft,y:hf.scrollTop};var un=hf.getBoundingClientRect();var nB=Tk();var HV=hf.querySelector('.pccPageListItem');if(dW===IPCC.PageLayout.VerticalScrollDirection&&HV.clientWidth<un.width-30){un.aaT=un.width-HV.clientWidth;}var fR={x:0,y:0,set:function(ame){this.x=ame.x;this.y=ame.y;return this;}};var sA=false;Wi=true;ev.preventDefault();ev.stopPropagation();function Nk(hs){hs.x=hs.clientX||hs.pageX||hs.screenX;hs.y=hs.clientY||hs.pageY||hs.screenY;return hs;};var kM=Nk(ev.touches[0]);var xS=Nk(ev.touches[1]);var wc=adK(kM.x,kM.y,xS.x,xS.y);var acs=aed(kM.x,kM.y,xS.x,xS.y);var yX,zP;function Xz(bP){bP.preventDefault();[].forEach.call(bP.changedTouches,function(t){if(t.identifier===kM.identifier){yX=Nk(t);}else if(t.identifier===xS.identifier){zP=Nk(t);}});if(!yX|| !zP){return;}var aDx=adK(yX.x,yX.y,zP.x,zP.y);var aEj=aed(yX.x,yX.y,zP.x,zP.y);dn=aDx/wc;if((df*dn)<nB.minFactor){dn=nB.minFactor/df;}else if((df*dn)>nB.maxFactor){dn=nB.maxFactor/df;}fR.set(aAB(acs,aEj));if(!sA){sA=true;JK();}};function Xd(){Wi=false;sA=false;hf.removeEventListener('touchmove',Xz);hf.removeEventListener('touchend',Xd);if(abl){xn.off('touchmove',acw);xn.off('touchend',ace);}if(!yX|| !zP){ys=false;return;}JN(aeM);};var acw=function(bP){var adR=standardizeMSTouch(bP.rawEvent);adR.preventDefault=function(){};Xz(adR);};var ace=function(bP){Xd(standardizeMSTouch(bP.rawEvent));};hf.addEventListener('touchmove',Xz);hf.addEventListener('touchend',Xd);if(abl){xn.on('touchmove',acw);xn.on('touchend',ace);}function JK(){if(sA){JN(function(){if(!sA){return;}awm(dn,fR,Qq,un,acs);JK();});}}}};function avx(){if(dB===IPCC.ViewMode.SinglePage){return;}if(ys){return;}if(nr){clearTimeout(nr);}if(TG){ayh(TG);}auP();nr=setTimeout(function(){nr=null;TG=JN(function aIi(){if(ys){return;}oI();});},40);};function atv(){if(oT===false||dB===IPCC.ViewMode.SinglePage){return;}hQ(true);if(nr!==null){clearTimeout(nr);}var ayk=bd.scrollHeight/bx.length;var RV=0;if(dW===IPCC.PageLayout.VerticalScrollDirection){RV=bd.scrollTop;}else{RV=bd.scrollLeft;}var azj=RV-Lz;Lz=RV;var asU=new Date().getTime();var SD=asU-xC;if(SD>1000){SD=1000;}UR=azj/ayk*1000/SD;nr=setTimeout(function(){nr=null;xC=0;xC=new Date().getTime();oI();},1000);xC=new Date().getTime();if(UR!==0&&Math.abs(UR)<OH){if(HI&&nr!==null){clearTimeout(nr);nr=null;}xC=0;xC=new Date().getTime();setTimeout(function(){if(HI&&nr!==null){clearTimeout(nr);nr=null;}xC=0;xC=new Date().getTime();oI();},40);}};function aBd(){function yc(asQ,ast,bJ,dk){var Fa=document.createElementNS('http://www.w3.org/2000/svg','circle');Fa.setAttribute('cx',asQ);Fa.setAttribute('cy',ast);Fa.setAttribute('r',bJ);Fa.setAttribute('opacity',dk);return Fa;};var rd=document.createElementNS('http://www.w3.org/2000/svg','svg');rd.setAttribute('viewBox','0 0 52 52');rd.appendChild(yc(26,13.813,2.813,1));rd.appendChild(yc(24,38.188,2.813,0.4));rd.appendChild(yc(13.813,26,2.813,0.1));rd.appendChild(yc(38.188,26,2.813,0.7));rd.appendChild(yc(34.618,34.618,2.813,0.55));rd.appendChild(yc(17.382,34.618,2.813,0.25));rd.appendChild(yc(34.618,17.382,2.813,0.85));return rd;};function adi(np){var bM=0;var aeZ=false;var Ma;var JG;var rd;for(bM=0;bM<np.childNodes.length;bM++){if(np.childNodes[bM].className==="pccPageListItemLoading"){aeZ=true;}}if(aeZ===false){JG=document.createElement('div');JG.className='pccPageListItemLoading';rd=aBd();np.innerHTML="";np.appendChild(JG);JG.appendChild(rd);if(Jw.length>0){Ma=document.createElement('div');Ma.className='pccPageListItemLoadingContent';Ma.innerHTML=Jw;JG.appendChild(Ma);}}};function auP(){var tA=bd.scrollTop;var vS=bd.scrollLeft;var tW=bd.clientHeight;var tJ=bd.clientWidth;var tE=bd.scrollWidth;var wn=bd.scrollHeight;var cS=VY({tA:tA,vS:vS,tW:tW,tJ:tJ,tE:tE,wn:wn});var R=cS.acW;if(oT&&tM===false&&dm!==R&&R>=0){dm=R;var V=new IPCC.PageEventArgs();V.imGearPage=F.get_currentPage();V.pageIndex=dm;V.pageNodeID=bx[dm].aE;F.bB('currentPageChanged',V);}};function VC(ba){var bg=ba.ah||hn;var aw=ba.bU||jj;if(ba.gR%180){var qy=bg;bg=aw;aw=qy;}var rh=ba.gK||aiG;return{bg:bg*(df*cg/rh),aw:aw*(df*cg/rh),aGy:rh,bO:ba.cr};};function VF(aAS){return IPCC.J.reduce(aAS,function(fB,aJ,bO){fB[bO]=VC(aJ);return fB;},{});};function aeP(aP){var wZ,Gu,zd,xj,qg;if(dW===IPCC.PageLayout.VerticalScrollDirection){wZ=bd.scrollTop;Gu=bd.scrollHeight;zd=bd.clientHeight;xj='aw';qg=eQ;}else{wZ=bd.scrollLeft;Gu=bd.scrollWidth;zd=bd.clientWidth;xj='bg';qg=eL+gL;}var hl=VF(bx);var Ky=dW===IPCC.PageLayout.VerticalScrollDirection?eQ:eL;var ano=false;IPCC.J.forEach(hl,function(aJ,bO){if(aJ.bO===aP){ano=true;}if(ano){return;}Ky+=aJ[xj]+qg;});return Ky-(qg/2);};function sI(cS){var Ew=IPCC.J.map(cS.de,function(aJ){return+aJ.bO;}).sort();var kM=Ew[0];var lB=Ew[Ew.length-1];var eD=bx.length;for(var R=Cb;R;R--){kM-=1;lB+=1;if(kM>=0){Ew.unshift(kM);}if(lB<eD){Ew.push(lB);}}return Ew.sort();};function Sj(cS){var kM=Math.max(cS.de[0].bO-uK,0);var lB=Math.min(cS.de[cS.de.length-1].bO+uK,bx.length-1);return{kM:kM,lB:lB};};function azZ(cS){var kM=Math.max(cS.de[0].bO-Cb,0);var lB=Math.min(cS.de[cS.de.length-1].bO+Cb,bx.length-1);return{kM:kM,lB:lB};};function VY(aD){if(dB===IPCC.ViewMode.SinglePage){return aeL();}var wZ,Gu,zd,xj,qg;if(dW===IPCC.PageLayout.VerticalScrollDirection){wZ=aD.tA;Gu=aD.wn;zd=aD.tW;xj='aw';qg=eQ;}else{wZ=aD.vS;Gu=aD.tE;zd=aD.tJ;xj='bg';qg=eL+gL;}var app=wZ;var apa=wZ+zd;var hl=VF(bx);var Ky=dW===IPCC.PageLayout.VerticalScrollDirection?eQ:eL;var azU=wZ/Gu;var PJ=(azU*zd)+wZ;var TP=Number.MAX_VALUE;var sy= -1;var de=[];IPCC.J.forEach(hl,function(aJ,bO){var jg=Ky;var fL=jg+aJ[xj];if(jg<apa&&fL>app){aJ.vw=true;de.push(aJ);}var adZ=Math.min(Math.abs(jg-PJ),Math.abs(fL-PJ));if(jg<PJ&&fL>PJ){TP=0;sy=bO;}else if(adZ<TP){sy=bO;TP=adZ;}Ky+=aJ[xj]+qg;});if(de.length===0&&hl[sy]!==undefined){de.push(hl[sy]);}return{de:de,acW:Number(sy)||0,Jy:hl};};function aeL(){var hl=VF(bx);var aoI=[dm];var de=IPCC.J.filter(hl,function(aJ){return IPCC.J.contains(aoI,+aJ.bO);});return{de:de,acW:dm,Jy:hl};};function Rk(){var cS=hQ();if(!cS){return[];}return IPCC.J.map(cS.de,function(aJ){return aJ.bO;});};function hQ(){if(dB===IPCC.ViewMode.SinglePage){return aeL();}if(bd===''||bd.clientHeight<=0){return;}var tA=bd.scrollTop;var vS=bd.scrollLeft;var tW=bd.clientHeight;var tJ=bd.clientWidth;var tE=bd.scrollWidth;var wn=bd.scrollHeight;var aoB=VY({tA:tA,vS:vS,tW:tW,tJ:tJ,tE:tE,wn:wn});tM=false;return aoB;}};Md.prototype={dispose:function(){this.ay('dispose',arguments);this.acV(false);this.avC();},disposeDisplayedPages:function(){this.arK();},get_debug:function(){try{var bJ=this.JM();this.cC('get_debug',arguments,bJ);return bJ;}catch(e){this.bp('get_debug',e);throw e;}},set_debug:function(value){try{this.ay('set_debug',arguments);var xE=this.JM();this.Vu(value);if(!xE){this.ay('set_debug',arguments);}}catch(e){this.bp('set_debug',e);throw e;}},get_debugErrorLevel:function(){try{var bJ=this.AL();this.cC('get_debugErrorLevel',arguments,bJ);return bJ;}catch(e){this.bp('get_debugErrorLevel',e);throw e;}},set_debugErrorLevel:function(value){try{this.ay('set_debugErrorLevel',arguments);var xE=this.AL();this.GB(value);if(xE<IPCC.Web.UI.DebugErrorLevel.Development){this.ay('set_debugErrorLevel',arguments);}}catch(e){this.bp('set_debugErrorLevel',e);throw e;}},add_mouseDown:function(handler){try{this.Qm(handler);}catch(e){this.bp('add_mouseDown',e);throw e;}},remove_mouseDown:function(handler){try{this.Uu(handler);}catch(e){this.bp('remove_mouseDown',e);throw e;}},add_mouseMove:function(handler){try{this.Qn(handler);}catch(e){this.bp('add_mouseMove',e);throw e;}},remove_mouseMove:function(handler){try{this.VM(handler);}catch(e){this.bp('remove_mouseMove',e);throw e;}},add_mouseUp:function(handler){try{this.OQ(handler);}catch(e){this.bp('add_mouseUp',e);throw e;}},remove_mouseUp:function(handler){try{this.VV(handler);}catch(e){this.bp('remove_mouseUp',e);throw e;}},add_selectTextMouseToolCompleted:function(handler){try{this.Uv(handler);}catch(e){this.bp('add_selectTextMouseToolCompleted',e);throw e;}},remove_selectTextMouseToolCompleted:function(handler){try{this.VQ(handler);}catch(e){this.bp('remove_selectTextMouseToolCompleted',e);throw e;}},add_currentPageChanged:function(handler){try{this.auK(handler);}catch(e){this.bp('add_currentPageChanged',e);throw e;}},remove_currentPageChanged:function(handler){try{this.aBt(handler);}catch(e){this.bp('remove_currentPageChanged',e);throw e;}},add_textPageReady:function(handler){try{this.zs(handler);}catch(e){this.bp('add_textPageReady',e);throw e;}},remove_textPageReady:function(handler){try{this.Dc(handler);}catch(e){this.bp('remove_textPageReady',e);throw e;}},add_hyperlinkPageReady:function(handler){try{this.WE(handler);}catch(e){this.bp('add_hyperlinkPageReady',e);throw e;}},remove_hyperlinkPageReady:function(handler){try{this.afC(handler);}catch(e){this.bp('remove_hyperlinkPageReady',e);throw e;}},add_textExtractionFailed:function(handler){this.zy(handler);},remove_textExtractionFailed:function(handler){this.Co(handler);},add_allPagesAdded:function(handler){try{this.atV(handler);}catch(e){this.bp('add_allPagesAdded',e);throw e;}},remove_allPagesAdded:function(handler){try{this.aCD(handler);}catch(e){this.bp('remove_allPagesAdded',e);throw e;}},add_pageOpening:function(handler){try{this.WH(handler);}catch(e){this.bp('add_pageOpening',e);throw e;}},remove_pageOpening:function(handler){try{this.UN(handler);}catch(e){this.bp('remove_pageOpening',e);throw e;}},add_pageOpened:function(handler){try{this.Xm(handler);}catch(e){this.bp('add_pageOpened',e);throw e;}},remove_pageOpened:function(handler){try{this.VP(handler);}catch(e){this.bp('remove_pageOpened',e);throw e;}},add_pageOpenFailed:function(handler){try{this.GX(handler);}catch(e){this.bp('add_pageOpenFailed',e);throw e;}},remove_pageOpenFailed:function(handler){try{this.FH(handler);}catch(e){this.bp('remove_pageOpenFailed',e);throw e;}},add_pageDisplayed:function(handler){try{this.WC(handler);}catch(e){this.bp('add_pageDisplayed',e);throw e;}},remove_pageDisplayed:function(handler){try{this.VI(handler);}catch(e){this.bp('remove_pageDisplayed',e);throw e;}},add_propertyChanged:function(handler){try{this.lp(handler);}catch(e){this.bp('add_propertyChanged',e);throw e;}},remove_propertyChanged:function(handler){try{this.mF(handler);}catch(e){this.bp('remove_propertyChanged',e);throw e;}},add_markAdded:function(handler){try{this.yH(handler);}catch(e){this.bp('add_markAdded',e);throw e;}},remove_markAdded:function(handler){try{this.Au(handler);}catch(e){this.bp('remove_markAdded',e);throw e;}},add_markCreating:function(handler){try{this.Xj(handler);}catch(e){this.bp('add_markCreating',e);throw e;}},remove_markCreating:function(handler){try{this.US(handler);}catch(e){this.bp('remove_markCreating',e);throw e;}},add_markChanged:function(handler){try{this.IF(handler);}catch(e){this.bp('add_markChanged',e);throw e;}},remove_markChanged:function(handler){try{this.Hw(handler);}catch(e){this.bp('remove_markChanged',e);throw e;}},add_markReordered:function(handler){try{this.Fn(handler);}catch(e){this.bp('add_markReordered',e);throw e;}},remove_markReordered:function(handler){try{this.HL(handler);}catch(e){this.bp('remove_markReordered',e);throw e;}},add_markSelectionChanged:function(handler){try{this.EZ(handler);}catch(e){this.bp('add_markSelectionChanged',e);throw e;}},remove_markSelectionChanged:function(handler){try{this.HG(handler);}catch(e){this.bp('remove_markSelectionChanged',e);throw e;}},add_markTextSelectionChanged:function(handler){try{this.FM(handler);}catch(e){this.bp('add_markTextSelectionChanged',e);throw e;}},remove_markTextSelectionChanged:function(handler){try{this.GR(handler);}catch(e){this.bp('remove_markTextSelectionChanged',e);throw e;}},add_markRemoved:function(handler){try{this.xU(handler);}catch(e){this.bp('add_markRemoved',e);throw e;}},remove_markRemoved:function(handler){try{this.zL(handler);}catch(e){this.bp('remove_markRemoved',e);throw e;}},add_commentAdding:function(handler){try{this.auO(handler);}catch(e){this.bp('add_commentAdding',e);throw e;}},remove_commentAdding:function(handler){try{this.aBs(handler);}catch(e){this.bp('remove_commentAdding',e);throw e;}},add_commentAdded:function(handler){try{this.xI(handler);}catch(e){this.bp('add_commentAdded',e);throw e;}},remove_commentAdded:function(handler){try{this.Cd(handler);}catch(e){this.bp('remove_commentAdded',e);throw e;}},add_commentRemoved:function(handler){try{this.wJ(handler);}catch(e){this.bp('add_commentRemoved',e);throw e;}},remove_commentRemoved:function(handler){try{this.BZ(handler);}catch(e){this.bp('remove_commentRemoved',e);throw e;}},add_commentChanged:function(handler){try{this.sh(handler);}catch(e){this.bp('add_commentChanged',e);throw e;}},remove_commentChanged:function(handler){try{this.tX(handler);}catch(e){this.bp('remove_commentChanged',e);throw e;}},add_scaleChanged:function(handler){try{this.Vt(handler);}catch(e){this.bp('add_scaleChanged',e);throw e;}},remove_scaleChanged:function(handler){try{this.VU(handler);}catch(e){this.bp('remove_scaleChanged',e);throw e;}},add_exceptionThrown:function(handler){this.Wj(handler);},remove_exceptionThrown:function(handler){this.UJ(handler);},writeToLog:function(message){try{this.nv(message);}catch(e){this.bp('writeToLog',e);throw e;}},get_currentState:function(){try{var bJ=this.Pe();this.cC('get_currentState',arguments,bJ);return bJ;}catch(e){this.bp('get_currentState',e);throw e;}},get_scaleFactor:function(){try{var bJ=this.nD();this.cC('get_scaleFactor',arguments,bJ);return bJ;}catch(e){this.bp('get_scaleFactor',e);throw e;}},set_scaleFactor:function(scaleFactor){try{this.ay('set_scaleFactor',arguments);this.arm(scaleFactor);}catch(e){this.bp('set_scaleFactor',e);throw e;}},zoomIn:function(factor){try{this.ay('zoomIn',arguments);this.RY(factor);}catch(e){this.bp('zoomIn',e);throw e;}},zoomOut:function(factor){try{this.ay('zoomOut',arguments);this.Vi(factor);}catch(e){this.bp('zoomOut',e);throw e;}},getMinMaxZoom:function(){return this.auC();},displayAll:function(){try{this.ay('displayAll',arguments,1);this.asA();}catch(e){this.bp('displayAll',e);throw e;}},display:function(pageIndex){try{this.ay('display',arguments);this.cn(pageIndex);}catch(e){this.bp('display',e);throw e;}},get_textRequired:function(){try{var bJ=this.kD();this.cC('get_textRequired',arguments,bJ);return bJ;}catch(e){this.bp('get_textRequired',e);throw e;}},set_textRequired:function(value){try{this.ay('set_textRequired',arguments);this.Kf(value);}catch(e){this.bp('set_textRequired',e);throw e;}},selectText:function(pageIndex,startIndex,endIndex,color){try{this.ay('selectText',arguments,1);this.Vq(pageIndex,startIndex,endIndex,color);}catch(e){this.bp('selectText',e);throw e;}},clearSelectedText:function(pageIndex){try{this.ay('clearSelectedText',arguments,1);this.axr(pageIndex);}catch(e){this.bp('clearSelectedText',e);throw e;}},clearAllSelectedText:function(){try{this.ay('clearAllSelectedText',arguments);this.axX();}catch(e){this.bp('clearAllSelectedText',e);throw e;}},get_maxPrefetch:function(){try{var bJ=this.ava();this.cC('get_maxPrefetch',arguments,bJ);return bJ;}catch(e){this.bp('get_maxPrefetch',e);throw e;}},set_maxPrefetch:function(value){try{this.ay('set_maxPrefetch',arguments);this.aoy(value);}catch(e){this.bp('set_maxPrefetch',e);throw e;}},get_displayPagesWhenScrolling:function(){try{var bJ=this.atm();this.cC('get_displayPagesWhenScrolling',arguments,bJ);return bJ;}catch(e){this.bp('get_displayPagesWhenScrolling',e);throw e;}},set_displayPagesWhenScrolling:function(value){try{this.ay('set_displayPagesWhenScrolling',arguments);this.ara(value);}catch(e){this.bp('set_displayPagesWhenScrolling',e);throw e;}},get_maxOutOfViewDisplay:function(){try{var bJ=this.auJ();this.cC('get_maxOutOfViewDisplay',arguments,bJ);return bJ;}catch(e){this.bp('get_maxOutOfViewDisplay',e);throw e;}},set_maxOutOfViewDisplay:function(value){try{this.ay('set_maxOutOfViewDisplay',arguments);this.apg(value);}catch(e){this.bp('set_maxOutOfViewDisplay',e);throw e;}},get_discardOutOfViewText:function(){try{var bJ=this.atn();this.cC('get_discardOutOfViewText',arguments,bJ);return bJ;}catch(e){this.bp('get_discardOutOfViewText',e);throw e;}},set_discardOutOfViewText:function(value){try{this.ay('set_discardOutOfViewText',arguments);this.aqY(value);}catch(e){this.bp('set_discardOutOfViewText',e);throw e;}},get_scrollDisplayThreshold:function(){try{var bJ=this.aru();this.cC('get_scrollDisplayThreshold',arguments,bJ);return bJ;}catch(e){this.bp('get_scrollDisplayThreshold',e);throw e;}},set_scrollDisplayThreshold:function(value){try{this.ay('set_scrollDisplayThreshold',arguments);this.aoA(value);}catch(e){this.bp('set_scrollDisplayThreshold',e);throw e;}},get_mouseCursor:function(){try{var bJ=this.akn();this.cC('get_mouseCursor',arguments,bJ);return bJ;}catch(e){this.bp('akn',e);throw e;}},set_mouseCursor:function(value){try{this.ay('set_mouseCursor',arguments);this.aoX(value);}catch(e){this.bp('set_mouseCursor',e);throw e;}},get_mouseTool:function(){try{var bJ=this.YU();this.cC('get_mouseTool',arguments,bJ);return bJ;}catch(e){this.bp('get_mouseTool',e);throw e;}},set_mouseTool:function(value){try{this.ay('set_mouseTool',arguments);this.Hn(value);}catch(e){this.bp('set_mouseTool',e);throw e;}},get_markHandleMode:function(){try{var bJ=this.zx();this.ay('get_markHandleMode',arguments);return bJ;}catch(e){this.bp('get_markHandleMode',e);throw e;}},set_markHandleMode:function(C){try{this.ay('set_markHandleMode',arguments);this.Ks(C);}catch(e){this.bp('set_markHandleMode',e);throw e;}},get_retainPageText:function(){try{var bJ=this.asb();this.ay('get_retainPageText',arguments);return bJ;}catch(e){this.bp('get_retainPageText',e);throw e;}},set_retainPageText:function(C){try{this.ay('set_retainPageText',arguments);this.aqZ(C);}catch(e){this.bp('set_retainPageText',e);throw e;}},get_allowMarkEdits:function(){try{var bJ=this.atw();this.ay('get_allowMarkEdits',arguments);return bJ;}catch(e){this.bp('get_allowMarkEdits',e);throw e;}},set_allowMarkEdits:function(bool){try{this.ay('set_allowMarkEdits',arguments);this.apM(! !bool);}catch(e){this.bp('set_allowMarkEdits',e);throw e;}},get_currentPage:function(){try{var bJ=this.amQ();this.cC('get_currentPage',arguments,bJ);return bJ;}catch(e){this.bp('get_currentPage',e);throw e;}},get_pageNodeId:function(pageIndex){try{var anu=this.asz(pageIndex);this.cC('get_pageNodeId',arguments,anu);return anu;}catch(e){this.bp('get_pageNodeId',e);throw e;}},scrollToNextPage:function(){try{this.ay('scrollToNextPage',arguments);this.azW();}catch(e){this.bp('scrollToNextPage',e);throw e;}},scrollToPreviousPage:function(){try{this.ay('scrollToPreviousPage',arguments);this.azc();}catch(e){this.bp('scrollToPreviousPage',e);throw e;}},scrollToFirstPage:function(){try{this.ay('scrollToFirstPage',arguments);this.aAJ();}catch(e){this.bp('scrollToFirstPage',e);throw e;}},scrollToLastPage:function(){try{this.ay('scrollToLastPage',arguments);this.azL();}catch(e){this.bp('scrollToLastPage',e);throw e;}},scrollToPage:function(pageIndex){try{this.ay('scrollToPage',arguments,1);this.rn(pageIndex);}catch(e){this.bp('scrollToPage',e);throw e;}},rotate:function(degreesClockwise){try{this.ay('rotate',arguments,1);this.aAl(degreesClockwise);}catch(e){this.bp('rotate',e);throw e;}},rotateAll:function(degreesClockwise){try{this.ay('rotateAll',arguments,1);this.aeF(degreesClockwise,true);}catch(e){this.bp('rotateAll',e);throw e;}},get_enabled:function(){try{var bJ=this.atE();this.cC('get_enabled',arguments,bJ);return bJ;}catch(e){this.bp('get_enabled',e);throw e;}},get_pageLayout:function(){try{var bJ=this.atb();this.cC('get_pageLayout',arguments,bJ);return bJ;}catch(e){this.bp('get_pageLayout',e);throw e;}},set_pageLayout:function(value){try{this.ay('set_pageLayout',arguments);this.aol(value);}catch(e){this.bp('set_pageLayout',e);throw e;}},get_viewMode:function(){try{var bJ=this.auR();this.cC('get_viewMode',arguments,bJ);return bJ;}catch(e){this.bp('get_viewMode',e);throw e;}},set_viewMode:function(value){try{this.ay('set_viewMode',arguments);this.KO(value);}catch(e){this.bp('set_viewMode',e);throw e;}},get_loadingContent:function(){try{var bJ=this.ats();this.cC('get_loadingContent',arguments,bJ);return bJ;}catch(e){this.bp('get_loadingContent',e);throw e;}},set_loadingContent:function(value){try{this.ay('set_loadingContent',arguments);this.anR(value);}catch(e){this.bp('set_loadingContent',e);throw e;}},fitPages:function(fitType){try{this.ay('fitPages',arguments,1);this.arx(fitType);}catch(e){this.bp('fitPages',e);throw e;}},openPage:function(pageIndex){try{this.ay('openPage',arguments,1);this.KT(pageIndex);}catch(e){this.bp('openPage',e);throw e;}},requestPageAttributes:function(page,attributesRetrievedCallback,attributesRetrievalFailedCallback){try{this.ay('requestPageAttributes',arguments,1);this.KK(page,attributesRetrievedCallback,attributesRetrievalFailedCallback);}catch(e){this.bp('requestPageAttributes',e);throw e;}},scrollRegionIntoView:function(pageIndex,rectangle){try{this.ay('scrollRegionIntoView',arguments,1);return this.aAq(pageIndex,rectangle);}catch(e){this.bp('scrollRegionIntoView',e);throw e;}},scrollBy:function(xVal,yVal){try{this.ay('scrollBy',arguments,1);return this.azu(xVal,yVal);}catch(e){this.bp('scrollBy',e);throw e;}},scrollConversationIntoView:function(conversation){try{this.ay('scrollConversationIntoView',arguments,1);return this.azH(conversation);}catch(e){this.bp('scrollConversationIntoView',e);throw e;}},get_documents:function(){return this.Wz();},get_encryption:function(){try{var bJ=this.jz();this.cC('get_encryption',arguments,bJ);return bJ;}catch(e){this.bp('get_encryption',e);throw e;}},set_encryption:function(value){try{this.ay('set_encryption',arguments);this.mv(value);}catch(e){this.bp('set_encryption',e);throw e;}},get_annotationXmlDom:function(){try{var bJ=this.atA();return bJ;}catch(e){this.bp('get_annotationXmlDom',e);throw e;}},set_annotationXmlDom:function(value,stampImages,retainExistingMarks,loadAsHidden){try{this.aqU(value,stampImages,retainExistingMarks,loadAsHidden);}catch(e){this.bp('set_annotationXmlDom',e);throw e;}},get_resourcePath:function(){try{var bJ=this.wR();this.cC('get_resourcePath',arguments,bJ);return bJ;}catch(e){this.bp('get_resourcePath',e);throw e;}},set_resourcePath:function(C){try{this.ay('set_resourcePath',arguments);this.Ir(C);}catch(e){this.bp('set_resourcePath',e);throw e;}},get_redactionDraftMode:function(){try{var bJ=this.mP();this.cC('get_redactionDraftMode',arguments,bJ);return bJ;}catch(e){this.bp('get_redactionDraftMode',e);throw e;}},set_redactionDraftMode:function(value){try{this.ay('set_redactionDraftMode',arguments);this.qh(value);}catch(e){this.bp('set_redactionDraftMode',e);throw e;}},get_displayedPages:function(){try{var bJ=this.avb();this.cC('get_displayedPages',arguments,bJ);return bJ;}catch(e){this.bp('get_displayedPages',e);throw e;}},get_requireRequestsOptimize:function(){try{var bJ=this.AH();this.cC('get_requireRequestsOptimize',arguments,bJ);return bJ;}catch(e){this.bp('AH',e);throw e;}},set_requireRequestsOptimize:function(value){try{this.ay('set_requireRequestsOptimize',arguments);this.GU(value);}catch(e){this.bp('set_requireRequestsOptimize',e);throw e;}},get_serviceResponseTimeout:function(){try{var bJ=this.lm();this.cC('get_serviceResponseTimeout',arguments,bJ);return bJ;}catch(e){this.bp('get_serviceResponseTimeout',e);throw e;}},set_serviceResponseTimeout:function(value){try{this.ay('set_serviceResponseTimeout',arguments);this.yd(value);}catch(e){this.bp('set_serviceResponseTimeout',e);throw e;}},get_pageRotation:function(){try{var bJ=this.ass();this.cC('get_pageRotation',arguments,bJ);return bJ;}catch(e){this.bp('get_pageRotation',e);throw e;}},set_pageRotation:function(value){try{this.ay('set_pageRotation',arguments);this.aqG(value);}catch(e){this.bp('set_pageRotation',e);throw e;}},getNodeID:function(pageIndex){try{this.ay('getNodeID',arguments,1);return this.auT(pageIndex);}catch(e){this.bp('getNodeID',e);throw e;}},get_isCommentsPanelOpen:function(){try{var bJ=this.auz();this.cC('get_isCommentsPanelOpen',arguments,bJ);return bJ;}catch(e){this.bp('get_isCommentsPanelOpen',e);throw e;}},openCommentsPanel:function(){try{this.ay('openCommentsPanel',arguments);this.azJ();}catch(e){this.bp('openCommentsPanel',e);throw e;}},closeCommentsPanel:function(){try{this.ay('closeCommentsPanel',arguments);this.ayb();}catch(e){this.bp('closeCommentsPanel',e);throw e;}},get_conversationDOMFactory:function(){try{var bJ=this.auZ();this.cC('get_conversationDOMFactory',arguments,bJ);return bJ;}catch(e){this.bp('get_conversationDOMFactory',e);throw e;}},set_conversationDOMFactory:function(value){try{this.ay('set_conversationDOMFactory',arguments);this.apT(value);}catch(e){this.bp('set_conversationDOMFactory',e);throw e;}},get_selectedConversation:function(){try{var bJ=this.arD();this.cC('get_selectedConversation',arguments,bJ);return bJ;}catch(e){this.bp('get_selectedConversation',e);throw e;}},set_selectedConversation:function(value){try{this.ay('set_selectedConversation',arguments);this.anL(value);}catch(e){this.bp('set_selectedConversation',e);throw e;}},refreshConversations:function(markIDs){try{this.ay('refreshConversations',arguments);this.aCn(markIDs);}catch(e){this.bp('refreshConversations',e);throw e;}}};Md.registerClass=dh;Md.registerClass('IPCC.PageList',{});module.exports=Md;},{"./IPCC.Util":29}],44:[function(require,module,exports){var oD=function(cu,vT){var F=this;this.cu=cu;this.vT=vT;this.arI=function(){return F.cu;};this.aGM=function(){return F.vT;};};oD.prototype.get_propertyName=function(){return this.cu;};oD.prototype.get_propertyInfo=function(){return this.vT;};module.exports=oD;},{}],45:[function(require,module,exports){var Dr=function(){this.dn=1;this.width=0;this.height=0;this.mX=0;this.yJ=0;this.pool=undefined;return this;};Dr.prototype.Np=function(cO){if(cO.width<1||cO.height<1){return[];}var lo=Math.floor(cO.x*this.dn);var kv=Math.floor(cO.y*this.dn);var mC=Math.ceil((cO.x+cO.width)*this.dn);var nt=Math.ceil((cO.y+cO.height)*this.dn);var nK=[];var R,fG;var cv=this.tiles.length;for(R=0;R<cv;R++){fG=this.tiles[R];if(fG.x<=mC&&fG.right>=lo&&fG.y<=nt&&fG.bottom>=kv){nK.push(fG);}}return nK;};module.exports=Dr;},{}],46:[function(require,module,exports){var vB=function(){this.x=0;this.y=0;this.right=0;this.bottom=0;this.bg=0;this.aw=0;this.vA=0;this.wv=0;this.url='';this.poolItem=undefined;this.level=undefined;return this;};vB.prototype.unlock=function(){this.level.pool.aiD(this);};vB.prototype.lock=function(){this.level.pool.lockTile(this);};vB.prototype.relock=function(){return this.level.pool.UZ(this);};vB.prototype.get_isLockedAndLoaded=function(){if(this.poolItem===undefined|| !this.poolItem.loaded){return false;}return true;};vB.prototype.toString=function(){var bC='x:'+this.x.toString()+', y:'+this.y.toString()+', right:'+this.right.toString()+', bottom:'+this.bottom.toString();if(this.level){bC='scale:'+this.level.dn.toString()+', '+bC;}return bC;};module.exports=vB;},{}],47:[function(require,module,exports){var lK=function(){this.bm=false;this.G=false;};lK.prototype.nd=function(G){this.G=G;};lK.prototype.fL=function(){this.G=false;};lK.prototype.ax=function(){if(this.bm){this.G.aO().nU();this.bm=false;this.G.cn();}};lK.prototype.pW=function(){this.ax();this.G.cn();};lK.prototype.km=function(V){this.ax();if(V.domEvent.button===0){var aU=this.G.aO();this.bm=true;aU.Bm(V.constrainedImagePoint);this.so=V.windowPoint;this.G.cn();}};lK.prototype.ki=function(V){if(V.domEvent.button!==0){this.ax();}if(this.bm){var aU=this.G.aO();aU.xZ(V.constrainedImagePoint);this.G.cn();}};lK.prototype.kX=function(V){if(this.bm&&V.domEvent.button===0){var eK=V.windowPoint.x-this.so.x;var gW=eK*eK;eK=V.windowPoint.y-this.so.y;gW+=eK*eK;if(gW>25){var G=this.G;var aU=G.aO();var az=aU.ef();var bK=G.fN();var azS=bK.width;var aza=bK.height;var aL=G.co();aU.xZ(V.constrainedImagePoint);var kH=aU.vE();aU.nU();G.bB('userModifiedViewState',{});az.Pz(aL,bK,kH);az.ke(aL,bK);aU.iB(az);G.cn();if(azS!==bK.width||aza!==bK.height){az=aU.ef();az.Pz(aL,bK,kH);az.ke(aL,bK);aU.iB(az);}}}this.ax();};lK.prototype.nZ=function(V){var bK=this.G.fN();if(V.windowPoint.x<=0||V.windowPoint.x>=bK.width-2){this.ax();}if(V.windowPoint.y<=0||V.windowPoint.y>=bK.height-2){this.ax();}};lK.prototype.lT=function(){this.ax();};module.exports=lK;},{}],48:[function(require,module,exports){var kE={'paramName':'Parameter name: {0}','svctype':'License','argumentNull':'Value cannot be null.','spc':' ','actualValue':'Actual value was {0}.','fwdslash':'/','prodInfo':'prodInfoPass','argumentOutOfRange':'Specified argument was out of the range of valid values.','argumentTypeWithTypes':'Object of type \'{0}\' cannot be converted to type \'{1}\'.','argumentType':'Object cannot be converted to the required type.','invalidOperation':'Operation is not valid due to the current state of the object.','notImplemented':'The method or operation is not implemented.','argument':'Value does not fall within the expected range.','prodFailInfo':'prodInfoFail','svcReqStr':'','viewer':'ClientViewer','querySymb':'?','version':'v=','iv':'iv=','param':'p='};module.exports=kE;},{}],49:[function(require,module,exports){var Al=function(){};Al.prototype.nd=function(G){this.G=G;this.aU=G.aO();};Al.prototype.fL=function(){this.G=false;};Al.prototype.ax=function(){};module.exports=Al;},{}],50:[function(require,module,exports){var dA=require('./IPCC.Util').regEnum;var Bo=function(){};Bo.registerEnum=dA;Bo.prototype={Pinch:"Pinch",Zoom:"Zoom",Fit:"Fit",ViewMode:"ViewMode"};Bo.registerEnum('IPCC.ScaleTrigger',false);module.exports=Bo;},{"./IPCC.Util":29}],51:[function(require,module,exports){var oM=function(){this.bm=false;this.G=false;};oM.prototype.nd=function(G){this.G=G;};oM.prototype.fL=function(){this.G=false;};oM.prototype.ax=function(){if(this.bm){this.G.nU();this.bm=false;this.G.cn();}};oM.prototype.pW=function(){this.ax();};oM.prototype.km=function(V){this.ax();if(V.domEvent.button===0){var aU=this.G.aO();this.bm=true;aU.Bm(V.constrainedImagePoint);this.G.cn();}};oM.prototype.ki=function(V){if(V.domEvent.button!==0){this.ax();}if(this.bm){var aU=this.G.aO();aU.xZ(V.constrainedImagePoint);this.G.cn();}};oM.prototype.kX=function(V){if(V.domEvent.button===0){this.bm=false;}this.ax();};oM.prototype.nZ=function(V){var bK=this.G.fN();if(V.windowPoint.x<=0||V.windowPoint.x>=bK.width-2){this.ax();}if(V.windowPoint.y<=0||V.windowPoint.y>=bK.height-2){this.ax();}};oM.prototype.lT=function(){this.ax();};module.exports=oM;},{}],52:[function(require,module,exports){var lq=function(){this.bm=false;this.G=false;};lq.prototype.nd=function(G){this.G=G;};lq.prototype.fL=function(){this.G=false;};lq.prototype.ax=function(){if(this.bm){this.G.aO().Yq();this.bm=false;}};lq.prototype.pW=function(){this.ax();};lq.prototype.km=function(V){if(V.domEvent.button===0){var aU=this.G.aO();this.bm=true;var cq=this.G.GA(V.constrainedImagePoint);this.G.gr=cq;if(!cq){return;}this.G.zO(cq);aU.zO(cq);aU.uW(undefined);this.G.cn();}};lq.prototype.ki=function(V){var G=this.G;G.aCP=true;if(V.domEvent.button!==0){this.ax();}if(this.bm){var aU=G.aO();var cq=G.GA(V.constrainedImagePoint);var iG=aU.Do();if(iG===cq){return;}G.uW(cq);G.cn();}};lq.prototype.kX=function(V){if(V.domEvent.button===0){this.bm=false;}var G=this.G;var aU=this.G.aO();var dc=aU.hM.length;if(dc===0){this.ax();return;}var as=aU.hM[0].cq;var cL=aU.hM[dc-1].cq;if(G.Ge===true){if(as>cL){as=cL;}var R;var kY=IPCC.vY();this.h=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);this.h.as=as;this.h.cN=G.EN();this.h.cR=dc;this.h.set_fillColor(G.qH);this.h.iS='y';this.h.aY=kY;for(R=0;R<aU.hM.length;R++){var bu=aU.hM[R];var Dg=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);var As=bu.h.fh();Dg.set_fillColor(G.qH);Dg.set_opacity(bu.h.get_opacity());Dg.set_rectangle(As);Dg.aY=kY;Dg.iS='y';this.G.eP().addMark(Dg);}aU.hM=[];if(dc>0){this.G.eP().addMark(this.h);}G.nh().removeAllMarks();}dc=aU.hM.length;var aim=new IPCC.Web.UI.TextSelectedEventArgs();aim.text=G.EN();G.bB('selectTextMouseToolCompleted',aim);G.cn();this.ax();};lq.prototype.nZ=function(V){var bK=this.G.fN();if(V.windowPoint.x<=0||V.windowPoint.x>=bK.width-2){this.ax();}if(V.windowPoint.y<=0||V.windowPoint.y>=bK.height-2){this.ax();}};lq.prototype.lT=function(){this.ax();};module.exports=lq;},{}],53:[function(require,module,exports){var dH=function(){this.G=false;this.Gm=0;this.aDj=1;this.akV=2;this.ali=3;};dH.prototype.nd=function(G){this.G=G;this.cB=this.Gm;};dH.prototype.fL=function(){this.G=false;};dH.prototype.ax=function(){this.cB=this.Gm;};dH.prototype.aiT=function(V){var ard=new Date()-this.aoz;if(ard<750){var fd=this.ajC.x-V.windowPoint.x;var fj=this.ajC.y-V.windowPoint.y;var gW=fd*fd+fj*fj;if(gW<2500){return true;}}return false;};dH.prototype.ahP=function(V){this.aoz=new Date();this.ajC=new IPCC.Web.UI.Point(V.windowPoint.x,V.windowPoint.y);};dH.prototype.Lw=function(V){var af=V.domEvent.rawEvent;if(af.touches.length===1){if(this.cB===this.akV&&this.aiT(V)){this.cB=this.ali;}else{this.cB=this.aDj;}this.ahP(V);this.G.gf('km',V);}else{this.cB=this.Gm;this.G.gf('pW',V);}};dH.prototype.Lo=function(V){var af=V.domEvent.rawEvent;if(af.touches.length===1){this.G.gf('ki',V);}};dH.prototype.Lb=function(V){var af=V.domEvent.rawEvent;if(af.touches.length===0){if(this.aiT(V)){if(this.cB===this.ali){this.cB=this.Gm;this.G.gf('kX',V);this.G.gf('AP',V);}else{this.ahP(V);this.cB=this.akV;this.G.gf('kX',V);}}else{this.cB=this.Gm;this.G.gf('kX',V);}}};dH.prototype.Ft=function(V){this.G.gf('pW',V);};module.exports=dH;},{}],54:[function(require,module,exports){var Ce=function(bg,aw,fZ,gj){IPCC.Web.UI.Rectangle.call(this,0,0,0,0);this.width=bg;this.height=aw;this.fZ=fZ;this.gj=gj;return this;};Ce.prototype.toString=function(){return 'Space('+this.width+' x '+this.height+', '+this.fZ+', '+this.gj+')';};module.exports=Ce;},{}],55:[function(require,module,exports){var Aw=function(KB){this.qw=(typeof(KB)!=='undefined'&&KB!==null&&KB!=='')?[KB.toString()]:[];this.C={};this.cv=0;};Aw.prototype.aHV=function(ak){this.qw[this.qw.length]=ak;};Aw.prototype.aHR=function(ak){this.qw[this.qw.length]=((typeof(ak)==='undefined')||(ak===null)||(ak===''))?'\r\n':ak+'\r\n';};Aw.prototype.aHC=function(){this.qw=[];this.C={};this.cv=0;};Aw.prototype.aGw=function(){if(this.qw.length===0){return true;}return this.toString()==='';};Aw.prototype.aGT=function(zJ){zJ=zJ||'';var parts=this.qw;if(this.cv!==parts.length){this.C={};this.cv=parts.length;}var val=this.C;if(typeof(val[zJ])==='undefined'){if(zJ!==''){for(var i=0;i<parts.length;){if((typeof(parts[i])==='undefined')||(parts[i]==='')||(parts[i]===null)){parts.splice(i,1);}else{i++;}}}val[zJ]=this.qw.join(zJ);}return val[zJ];};module.exports=Aw;},{}],56:[function(require,module,exports){var fA=function(G,oz){this.Sk=false;this.We=false;this.DO=true;this.aaZ=false;this.OT=false;this.xa=0;this.vV=0;var ae=this;this.azg='opacity';this.aAR=function(dk){return dk.toString();};var akg=function akg(bn,fM,oJ,aL,nk,nf){var gX;if(this.G.oc()===true){bn.wb.setAttribute('width',oJ.width);bn.wb.setAttribute('height',oJ.height);bn.uC.setAttribute('width',oJ.width);bn.uC.setAttribute('height',oJ.height);gX=fM.ps().toString()+','+fM.nz().toString()+','+fM.qb().toString()+','+fM.rZ().toString()+','+(fM.wp()+nk).toString()+','+(fM.wA()+nf).toString();this.hh(bn.AI,'transform','matrix('+gX+')');}else{bn.wb.setAttribute('width',oJ.width);bn.wb.setAttribute('height',oJ.height);bn.uC.setAttribute('width',oJ.width);bn.uC.setAttribute('height',oJ.height);gX=fM.ps().toString()+','+fM.nz().toString()+','+fM.qb().toString()+','+fM.rZ().toString()+','+(fM.wp()+nk).toString()+','+(fM.wA()+nf).toString();this.hh(bn.AI,'transform','matrix('+gX+')');}};function avP(bn){var pathList=bn.wb.getElementsByTagName('path');var gList=bn.wb.getElementsByTagName('g');bn.Py=[];function adr(pathItem,index){if(!pathItem.hasAttribute('data-pcc-mark')){if(pathItem.hasAttribute('stroke-width')||pathItem.style.strokeWidth){pathItem.originalStrokeWidth=pathItem.getAttribute('stroke-width')||pathItem.style.strokeWidth;bn.Py.push(pathItem);}}};IPCC.J.forEach(pathList,adr);IPCC.J.forEach(gList,adr);};this.alH=function(bn){var aU=G.aO();var asq=1;var mz=aU.asy();function setStrokeWidthToOriginalValue(pathItem,index){if(pathItem.hasAttribute('stroke-width')){pathItem.setAttribute('stroke-width',parseFloat(pathItem.originalStrokeWidth));}else{var strokeWidth=parseFloat(pathItem.originalStrokeWidth);pathItem.style.strokeWidth=strokeWidth;}};function updateStrokeWidthByLineWidthMultiplier(pathItem,index){if(pathItem.hasAttribute('stroke-width')){pathItem.setAttribute('stroke-width',parseFloat(pathItem.originalStrokeWidth*mz));}else{var strokeWidth=parseFloat(pathItem.originalStrokeWidth);pathItem.style.strokeWidth=strokeWidth*mz;}};if(bn.Py===undefined){avP(bn);}if(mz===asq){IPCC.J.forEach(bn.Py,setStrokeWidthToOriginalValue);}else{IPCC.J.forEach(bn.Py,updateStrokeWidthByLineWidthMultiplier);}aU.aqv(false);};function auk(bn,bh){bn.sa.setAttribute('exponent',bh);bn.sl.setAttribute('exponent',bh);bn.sf.setAttribute('exponent',bh);};function auy(bn,bh){var awi=841;var mN=(bh/awi)* -1;var gX;if(IPCC.J.Eb){gX='{00} {01} {02} '+'{10} {11} {12} '+'{20} {21} {22}';gX=gX.replace('{00}',mN).replace('{01}',mN).replace('{02}',mN).replace('{10}',mN).replace('{11}',1).replace('{12}',mN).replace('{20}',mN).replace('{21}',mN).replace('{22}',mN);}else{gX='{00} {01} {02} {03} {04} '+'{10} {11} {12} {13} {14} '+'{20} {21} {22} {23} {24} '+'{30} {31} {32} {33} {34} '+'{40} {41} {42} {43} {44}';gX=gX.replace('{00}',0).replace('{01}',0).replace('{02}',0).replace('{03}',0).replace('{04}',0).replace('{10}',0).replace('{11}',mN).replace('{12}',mN).replace('{13}',mN).replace('{14}',0).replace('{20}',0).replace('{21}',mN).replace('{22}',1).replace('{23}',mN).replace('{24}',0).replace('{30}',0).replace('{31}',mN).replace('{32}',mN).replace('{33}',mN).replace('{34}',0).replace('{40}',0).replace('{41}',0).replace('{42}',0).replace('{43}',0).replace('{44}',0);}bn.jI.setAttribute('kernelMatrix',gX);};this.anC=function(bn){var aU=G.aO();var pQ=aU.atu();var qx=aU.asd();if(qx===0&&pQ===1){bn.AI.removeAttribute('filter','url(#'+bn.Iv+')');}else{bn.AI.setAttribute('filter','url(#'+bn.Iv+')');}auk(bn,pQ);auy(bn,qx);};var YF,YK;this.anq=function(bn,fM,oJ,aL,nk,nf){if(bn.YD.match('maglevel')){akg.apply(this,arguments);return;}var bV=bn.hE.parentElement.getBoundingClientRect();var jP=bV.width/aL.width;var adL=function(val){return Math.abs(val)<1.0e-14;};var ft=0,fr=0;var ary=function(){var og=fM.nz();if(adL(og)){og=0;}var nV=fM.qb();if(adL(nV)){nV=0;}var azz=fM.ps();var hw=(og>=0&&nV<0)?90:(og<0&&nV>=0)?270:(azz<0)?180:(og>=0&&nV>=0)?0:0;switch(hw){case 90:ft=bV.width;break;case 180:ft=bV.width;fr=bV.height;break;case 270:fr=bV.height;break;}return hw*(Math.PI/180);};var hw=ary();if(parseInt(hw,10)===1||parseInt(hw,10)===4){jP=bV.height/aL.width;}if(jP===YF&&hw===YK){return;}else{YF=jP;YK=hw;}var eF=1,jq=0;if(hw!==0){eF=Math.cos(hw);jq=Math.sin(hw);}var az={jP:eF*jP,sr:eF*jP,og:jq*jP,nV:jq* -1*jP,ft:ft,fr:fr};var aDn=new IPCC.fH(az.jP,az.og,az.nV,az.sr,az.ft,az.fr);fM.PB(aDn);G.aO().iB(fM);var gX='matrix({scaleX},{skewX},{skewY},{scaleY},{moveX},{moveY})';gX=gX.replace('{scaleX}',az.jP).replace('{scaleY}',az.sr).replace('{skewX}',az.og).replace('{skewY}',az.nV).replace('{moveX}',az.ft).replace('{moveY}',az.fr);this.hh(bn.AI,'transform',gX);};this.ayz=function(){YF=undefined;YK=undefined;};this.aCa(G);this.avv=function(ce){var bK=new IPCC.Ce(ce.clientWidth,ce.clientHeight,96,96);return bK;};this.ahY=function(af){af.preventDefault();ae.km(af);};this.aju=function(af){af.preventDefault();ae.ki(af);};this.ajt=function(af){af.preventDefault();ae.kX(af);};this.afD=function(af){ae.km(af);};this.ait=function(af){ae.AP(af);};this.agq=function(af){ae.ki(af);};this.Ra=function(af){ae.lT(af);};this.agh=function(af){ae.kX(af);};this.agE=function(af){ae.AP(af);};this.aiY=function(af){ae.SI(af);};this.OM=function(af){if(af.target!==document.activeElement){ae.aDC(af);}};this.ajE=function(af){if(af.target!==document.activeElement){ae.aEl(af);}};this.nZ=function(af){try{af.preventDefault();var V=new IPCC.Web.UI.MouseEventArgs();V.domEvent=af;ae.rR(V);G.aCo(V);}catch(ex){G.bp('mouseOut',ex);}};this.Lw=function(af){try{af.preventDefault();var V=new IPCC.Web.UI.MouseEventArgs();V.domEvent=af;ae.rR(V);G.aBV(V);}catch(ex){G.bp('touchStart',ex);}};this.Lo=function(af){try{af.preventDefault();var V=new IPCC.Web.UI.MouseEventArgs();V.domEvent=af;ae.rR(V);G.aBk(V);}catch(ex){G.bp('touchMove',ex);}};this.Lb=function(af){try{af.preventDefault();var V=new IPCC.Web.UI.MouseEventArgs();V.domEvent=af;ae.rR(V);G.aBp(V);}catch(ex){G.bp('touchEnd',ex);}};this.Ft=function(af){try{af.preventDefault();var V=new IPCC.Web.UI.MouseEventArgs();V.domEvent=af;ae.rR(V);G.aBr(V);}catch(ex){G.bp('touchCancel',ex);}};this.ail=function(af){try{af.preventDefault();}catch(ex){G.bp('dragStart',ex);}};this.axO=function(){var fl=G.nb().igElements.mR;IPCC.Web.UI.au.addHandler(fl,"mousewheel",this.Ra);IPCC.Web.UI.au.addHandler(fl,"DOMMouseScroll",this.Ra);if(oz){IPCC.Web.UI.au.addHandler(fl,"touchstart",this.Lw);IPCC.Web.UI.au.addHandler(fl,"touchmove",this.Lo);IPCC.Web.UI.au.addHandler(fl,"touchend",this.Lb);IPCC.Web.UI.au.addHandler(fl,"touchcancel",this.Ft);}IPCC.Web.UI.au.addHandler(fl,"mouseout",this.nZ);IPCC.Web.UI.au.addHandler(fl,"dragstart",this.ail);};this.asH=function(){var fl=G.nb().igElements.mR;IPCC.Web.UI.au.removeHandler(fl,"DOMMouseScroll",this.Ra);IPCC.Web.UI.au.removeHandler(fl,"mouseout",this.nZ);if(oz){IPCC.Web.UI.au.removeHandler(fl,"touchstart",this.Lw);IPCC.Web.UI.au.removeHandler(fl,"touchmove",this.Lo);IPCC.Web.UI.au.removeHandler(fl,"touchend",this.Lb);IPCC.Web.UI.au.removeHandler(fl,"touchcancel",this.Ft);}IPCC.Web.UI.au.removeHandler(fl,"dragstart",this.ail);};function aDY(bn,iU){var or=document.createElementNS('http://www.w3.org/2000/svg','filter');var Iv='filter'+iU;bn.Iv=Iv;or.setAttribute('id',Iv);or.setAttribute('x','0');or.setAttribute('y','0');or.setAttribute('filterUnits','objectBoundingBox');or.setAttribute('color-interpolation-filters','sRGB');return or;};function aCR(iU){var jI=document.createElementNS('http://www.w3.org/2000/svg','feConvolveMatrix');jI.setAttribute('in','SourceGraphic');jI.setAttribute('result',iU+'jI');jI.setAttribute('preserveAlpha','true');if(IPCC.J.Eb){jI.setAttribute('order','3 3');jI.setAttribute('kernelMatrix','0 0 0 0 1 0 0 0 0');}else{jI.setAttribute('order','5 5');jI.setAttribute('kernelMatrix','0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0');}return jI;};function aBb(iU){var oY=document.createElementNS('http://www.w3.org/2000/svg','feComponentTransfer');oY.setAttribute('in',iU+'jI');oY.setAttribute('result',iU+'oY');return oY;};function aCu(iU){var sa=document.createElementNS('http://www.w3.org/2000/svg','feFuncR');sa.setAttribute('type','gamma');sa.setAttribute('amplitude','1');sa.setAttribute('exponent','1');sa.setAttribute('offset','0');var sl=document.createElementNS('http://www.w3.org/2000/svg','feFuncG');sl.setAttribute('type','gamma');sl.setAttribute('amplitude','1');sl.setAttribute('exponent','1');sl.setAttribute('offset','0');var sf=document.createElementNS('http://www.w3.org/2000/svg','feFuncB');sf.setAttribute('type','gamma');sf.setAttribute('amplitude','1');sf.setAttribute('exponent','1');sf.setAttribute('offset','0');return{sa:sa,sl:sl,sf:sf};};function axz(bn,iU){var GT=document.createElementNS('http://www.w3.org/2000/svg','feMerge');var aku=document.createElementNS('http://www.w3.org/2000/svg','feMergeNode');var akj=document.createElementNS('http://www.w3.org/2000/svg','feMergeNode');aku.setAttribute('in',iU+'jI');akj.setAttribute('in',iU+'oY');GT.appendChild(aku);GT.appendChild(akj);return GT;};this.ayi=function(bn,hE,sY,iU){var R,bQ,ce,YH;var RI=function(ao,cc,bL){var ce=document.createElementNS('http://www.w3.org/2000/svg',ao);var R;if(cc){ce.setAttribute('id',cc);}for(R in bL){if(bL.hasOwnProperty(R)){ce.setAttribute(R,bL[R]);}}return ce;};var fD=RI('svg',null,{xmlns:'http://www.w3.org/2000/svg',version:'1.1',xlink:'http://www.w3.org/1999/xlink','image-rendering':'optimizeQuality'});var or=aDY(bn,iU);bn.aFo=or;var jI=aCR(iU);bn.jI=jI;or.appendChild(jI);var oY=aBb(iU);bn.oY=oY;or.appendChild(oY);var De=aCu();oY.appendChild(De.sa);oY.appendChild(De.sl);oY.appendChild(De.sf);bn.sa=De.sa;bn.sl=De.sl;bn.sf=De.sf;var GT=axz(bn,iU);or.appendChild(GT);fD.appendChild(or);bn.uC=RI('rect',null,{x:0,y:0,'fill-opacity':'0.005',fill:'#808080'});fD.appendChild(bn.uC);var Tx=RI('g',null,{});bn.AI=Tx;fD.appendChild(Tx);var cv;if(G.oc()===false){cv=sY.fe.length;}else{cv=1;}for(R=0;R<cv;R++){bQ=sY.fe[R];bQ.pool.parentElementID=iU+R.toString();YH=1/bQ.dn;ce=RI('g',bQ.pool.parentElementID,{transform:'matrix('+YH.toString()+',0,0,'+YH.toString()+',0,0)'});Tx.appendChild(ce);}bn.wb=fD;hE.appendChild(fD);};this.axR=function(hO){var amu=this.akl();hO.elementID=amu;};this.aEb=function(hO){var ce=document.getElementById(hO.elementID);this.hh(ce,'display','none');};this.agk=function(hO){var ce=document.getElementById(hO.elementID);if(ce===null){hO.elementID='';return;}ce.setAttributeNS('http://www.w3.org/1999/xlink','href','');ce.parentNode.removeChild(ce);hO.elementID='';};var aEk=function(af){try{af.target.onload=undefined;af.target.onerror=undefined;af.target.onabort=undefined;var hO=af.target.poolItem;hO.loaded=true;ae.Ap();}catch(ex){G.bp('downloadImage',ex);}};var aki=function(af){try{af.target.onload=undefined;af.target.onerror=undefined;af.target.onabort=undefined;af.target.setAttributeNS('http://www.w3.org/1999/xlink','href','');af.target.setAttribute('display','none');throw new IPCC.Web.UI.ImGearException('An image failed to download or the user cancelled it',{name:'IPCC.Web.UI.ImGearHttpException'});}catch(ex){G.bp('downloadImage',ex);var cG=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cG.exception=ex;cG.pageNumber=G.aP;G.bB('pageOpenFailed',cG);}};this.aEq=function(xz){var R;var cv=xz.length;if(G.oc()===false){cv=xz.length;}else{cv=1;}for(R=0;R<cv;R++){var er=xz[R];var ce=document.getElementById(er.poolItem.elementID);if(ce===null){var hO=er.poolItem;var LW=hO.pool;var hE=document.getElementById(LW.parentElementID);ce=document.createElementNS('http://www.w3.org/2000/svg','image');this.hh(ce,'id',hO.elementID);this.hh(ce,'externalResourcesRequired','true');ce.poolItem=hO;ce.onload=aEk;ce.onerror=aki;ce.onabort=aki;if(document.documentMode>8||IPCC.J.yP.zS){hO.loaded=true;}ce.setAttributeNS('http://www.w3.org/1999/xlink','href','data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7');this.aEc(ce,er.url,'image/'+er.contentType);hE.appendChild(ce);this.hh(ce,'display','block');var bg=er.right-er.x;var aw=er.bottom-er.y;this.hh(ce,'x',er.x);this.hh(ce,'y',er.y);this.hh(ce,'width',bg);this.hh(ce,'height',aw);if(cv>1){var ayK=bg-er.vA;var ayC=aw-er.wv;var ML=document.createElementNS('http://www.w3.org/2000/svg','clipPath');ML.id=ce.id+'_clip';var fK=document.createElementNS('http://www.w3.org/2000/svg','rect');this.hh(fK,'x',er.x-er.vA);this.hh(fK,'y',er.y-er.wv);this.hh(fK,'width',ayK);this.hh(fK,'height',ayC);this.hh(fK,'class','expand-on-print');ML.appendChild(fK);var insertBeforeElement=null;for(var i=0;i<hE.childNodes.length;i++){if(hE.childNodes.item(i).getAttribute('x')<er.x||hE.childNodes.item(i).getAttribute('y')<er.y){insertBeforeElement=hE.childNodes.item(i);break;}}hE.insertBefore(ce,insertBeforeElement);hE.appendChild(ML);this.hh(ce,'style','clip-path: url(#'+ML.id+')');this.hh(ce,'class','no-clip-on-print');}}this.hh(ce,'display','block');}if((document.documentMode>8||IPCC.J.yP.zS)&&xz.length>0){ae.Ap();}};this.aEc=function(ce,ab,vd){var qi=true;var ma=0;if(G.lm()===0){qi=false;}function en(ar){var cJ,cG;try{var ew=IPCC.Web.FX(ar),QE;var pg=ar.getResponseHeader("Accusoft-Data-Encrypted");if(pg==='true'&&G.jz()===true){var ud=IPCC.Web.fV.pu.vy(ar.getResponseHeader("Accusoft-Data-SK"));var be=IPCC.Web.Hi(ud,jp);var va=IPCC.Web.Ey(ew,be,jp);QE=IPCC.Web.fV.pu.md(va,0,0);}else{QE=IPCC.Web.fV.pu.md(ew,0,0);}ce.setAttributeNS('http://www.w3.org/1999/xlink','href','data:'+vd+';base64,'+QE);}catch(ex){cJ="Image error, Error message = "+ex.message;cG=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cG.exception=ex;cG.pageNumber=G.aP;G.bB('pageOpenFailed',cG);throw new IPCC.Web.UI.ImGearArgumentException(null,cJ);}};function eo(bC){var gc=bC.response.status,cJ,lV,lL;if(!bC.response){throw new IPCC.Web.UI.ImGearHttpException(gc,"Client Image load timeout");}if(gc===403){ma++;if(bC.response.statusText&&bC.response.statusText!==""){cJ="Expired viewer session ID, error message from the server: "+bC.response.statusText;}else{cJ="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(gc,cJ);}lV=bC.response.getResponseHeader('Accusoft-Status-Message');if(lV){var qW;lL=bC.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.xN(lL)){qW=parseInt(lL,10);}throw new IPCC.Web.UI.ImGearHttpException(gc,lV,qW);}else{if(bC.response.statusText&&bC.response.statusText!==""){cJ=bC.response.statusText;}else{cJ="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(gc,cJ);}};var gd={method:'GET'};if(qi===true){gd.timeout=G.lm();}if(G.auf()&&G.jz()===true){var jp=IPCC.Web.EU.acR(4);var qC=IPCC.Web.fV.Hy.md(jp);var aqI=ab+'&iv='+qC;gd.url=aqI;}else{gd.mimeType='text/plain; charset=x-user-defined';gd.url=ab;}IPCC.J.me.et(gd).then(en,eo);};this.aDi=function(bn){var F=this;if(bn.WN){return;}var ma=0;var er=bn.sY.fe[0].tiles[0];if(!er){return;}var LW=er.level.pool;var hE=document.getElementById(LW.parentElementID);var qi=true;if(G.lm()===0){qi=false;}var wI=G.Ws();if(bn.GE){if(wI===2){delete bn.GE;if(hE.childNodes.length>0){hE.removeChild(hE.childNodes[0]);}}else if(wI===1){if(hE.childNodes.length>0){hE.removeChild(hE.childNodes[0]);}}else{if(hE.childNodes.length===0){hE.appendChild(bn.aoM);}}G.yV=true;return;}if(wI>0){return;}function en(ar){var cG,cJ;bn.WN=false;try{try{var ng;var pg=ar.getResponseHeader("Accusoft-Data-Encrypted");if(pg==='true'&&G.jz()===true){var ud=IPCC.Web.fV.pu.vy(ar.getResponseHeader("Accusoft-Data-SK"));var be=IPCC.Web.Hi(ud,jp);var ew=IPCC.Web.FX(ar);var va=IPCC.Web.Ey(ew,be,jp);ng=IPCC.Web.fV.HN.md(va);}else{ng=ar.responseText;}aBi(ng);}catch(ex){cJ="SVG image error, Error message = "+ex.message;cG=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cG.exception=ex;cG.pageNumber=G.aP;G.bB('pageOpenFailed',cG);throw new IPCC.Web.UI.ImGearArgumentException(null,cJ);}}catch(e){G.bp('openPage',e);if(typeof(G.bB)==='function'){cG=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cG.exception=e;cG.pageNumber=G.aP;G.bB('pageOpenFailed',cG);}}};function eo(bC){var cG,cJ,lV,lL;bn.WN=false;try{if(!bC.response){throw new IPCC.Web.UI.ImGearHttpException(0,"Client SVG load timeout");}var gc=bC.response.status;if(gc===480){ma++;if(bC.response.statusText&&bC.response.statusText!==""){cJ=cJ="PDF file password required, error message from the server: "+bC.response.statusText;}else{cJ="PDF file password required.";}throw new IPCC.Web.UI.ImGearHttpException(gc,cJ);}if(gc===403){ma++;if(bC.response.statusText&&bC.response.statusText!==""){cJ="Expired viewer session ID, error message from the server: "+bC.response.statusText;}else{cJ="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(gc,cJ);}lV=bC.response.getResponseHeader('Accusoft-Status-Message');if(lV){var qW;lL=bC.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.xN(lL)){qW=parseInt(lL,10);}throw new IPCC.Web.UI.ImGearHttpException(gc,lV,qW);}else{if(bC.response.statusText&&bC.response.statusText!==""){cJ=bC.response.statusText;}else{cJ="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(gc,cJ);}}catch(e){G.bp('openPage',e);if(typeof(G.bB)==='function'){cG=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cG.exception=e;cG.pageNumber=G.aP;G.bB('pageOpenFailed',cG);}}};var aoK=function(){var aU=G.aO();var zj=aU.amc();G.yV=true;G.bB('pageDisplayed',{aM:G.aP});if(zj){F.alH(bn);}};var aBi=function(hC){var vf=LW.parentElementID.toString();var JO=(IPCC.J.Eb||IPCC.J.aaF)?'':window.location.href.replace(window.location.hash,'').replace(/#$/,'');var aDm=JO.replace(/"/g,'\\$&');var alv=JO.replace(/[()]/g,'\\$&');hC=hC.replace(/href="#/g,'href="'+aDm+'#'+vf);hC=hC.replace(/="url\(#/g,'="url('+alv+'#'+vf);hC=hC.replace(/fill:url\(#/g,'fill:url('+alv+'#'+vf);hC=hC.replace(/ id="/g,' id="'+vf);hC=hC.replace(/<use([^>]+)\/>/g,' <use$1></use>');var Xq=document.createElement('div');Xq.innerHTML=hC;var pN=Xq.querySelectorAll('style');IPCC.J.forEach(pN,function(aK){var akp=(aK.styleSheet)?aK.styleSheet.cssText:aK.textContent;if(aK.styleSheet){aK.styleSheet.cssText=akp;}else{aK.appendChild(document.createTextNode(akp));}});var jW=null;var Jl=Xq.firstChild;while(Jl!==null){if(Jl.nodeName==='svg'){jW=Jl;break;}Jl=Jl.nextSibling;}if(jW===null){throw new IPCC.Web.UI.ImGearInvalidOperationException('Unable to process SVG image data.');}if(!bn.GE){bn.aoM=jW;hE.appendChild(jW);bn.GE=true;if(!G.yV&&bn.GE){setTimeout(aoK,1);}}};var ab;var jp,qC;G.yV=false;if(G.jz()===true){jp=IPCC.Web.EU.aaW(4,IPCC.Web.Pj());qC=IPCC.Web.fV.Hy.md(jp);ab=er.url+'&iv='+qC;}else{ab=er.url;}var gd={method:'GET',url:ab,cache:true};if(qi===true){gd.timeout=G.lm();}bn.WN=true;IPCC.J.me.et(gd).then(en,eo);};this.aqg=function(er,dk){if(!er){return;}var Ev=document.getElementById(er.poolItem.elementID);this.hh(Ev,'x',er.x);this.hh(Ev,'y',er.y);this.hh(Ev,'width',er.right-er.x);this.hh(Ev,'height',er.bottom-er.y);this.hh(Ev,'opacity',dk);this.hh(Ev,'display','block');};this.aaX=function(xz,dk,fM){var R;if(G.oc()===false){for(R=0;R<xz.length;R++){this.aqg(xz[R],dk);}}};return this;};fA.viewerCounter=0;fA.tileCounter=0;fA.imageIDCounter=0;fA.prototype.aCa=function(G){this.iU=IPCC.fA.viewerCounter.toString();IPCC.fA.viewerCounter++;this.G=G;if(IPCC.dM){this.pd=new IPCC.Web.UI.MarkCollection();}var F=this;function awg(aj,V){F.aDB(V);};function wu(aj,V){F.aDO(V);};G.lp(awg);G.add_markAdded(wu);G.add_markChanged(wu);G.add_inProgressMarkChanged(wu);G.add_markRemoved(wu);G.add_markReordered(wu);G.add_marksLoaded(wu);G.add_markSelectionChanged(wu);G.add_markTextSelectionChanged(wu);};fA.prototype.akl=function(){var cc='igtile'+IPCC.fA.tileCounter.toString();IPCC.fA.tileCounter++;return cc;};fA.prototype.Ap=function(){this.Sk=true;this.DO=this.DO&&this.We;var F=this;var ayN=function(){if(!F.Sk){return;}F.cn(F.G.co(),F.G.aO(),F.G.fN());F.DO=true;};window.setTimeout(ayN,0);};fA.prototype.aDB=function(V){var vF=V.get_propertyName();switch(vF){case 'magnifierWindowSize':case 'magnifierWindowPosition':case 'magnifierMagnification':if(!this.G.aO().get_magnifierIsVisible()){return;}break;case 'cursor':case 'markCursor':this.HJ=true;if(this.G.Aj()===true){this.Ap();}return;case 'displayedPageRectangle':if(this.G.yV===true){this.Ap();return;}break;case 'redactionDraftMode':this.HJ=true;this.Ap();return;}if(this.G.Aj()===true){this.Ap();}};fA.prototype.aDO=function(V){if(V.mark&& !this.HJ){this.pd.addMark(V.mark);}else{this.HJ=true;}if(this.G.Aj()===true){this.Ap();}};fA.prototype.WF=function(){this.lg=this.fM.clone();this.lg.lE(this.ada,this.aaU);this.lg.ke(this.G.co(),this.G.fN());this.sR=this.lg.clone();this.sR.vi();};fA.prototype.cn=function(by,aU,bK){try{this.Sk=false;if(this.OU===true){return;}var cP=this.G.nb();if(cP===null){return;}var dv=cP.igElements;try{this.OU=true;if(this.ER===undefined||by===undefined|| !(this.ER.equals(by))){if(this.aaZ){if(this.jZ){this.asH(this.jZ);var fl=dv.mR;IPCC.Web.UI.au.removeHandler(fl,"mousedown",this.afD);IPCC.Web.UI.au.removeHandler(fl,"mousemove",this.agq);IPCC.Web.UI.au.removeHandler(fl,"mouseup",this.agh);IPCC.Web.UI.au.removeHandler(fl,"dblclick",this.agE);IPCC.Web.UI.au.removeHandler(fl,"contextmenu",this.aiY);IPCC.Web.UI.au.removeHandler(dv.eS,"blur",this.OM);IPCC.Web.UI.au.removeHandler(dv.hk,"blur",this.ajE);IPCC.Web.UI.au.removeHandler(dv.cz,"blur",this.OM);}delete this.jZ;this.aes(dv.od);this.aes(dv.BU);this.aaZ=false;if(this.If!==undefined){this.If.unlockAllItems();}if(this.JP!==undefined){this.JP.unlockAllItems();}this.If=undefined;this.JP=undefined;cP.igElements.mI.onscroll=null;cP.igElements.mI.onresize=null;}if(cP.querySelectorAll){if(cP.querySelectorAll(".pccPageLoadFail").length===0){cP.innerHTML='';}}this.G.nY(true);if(by===undefined){this.OU=false;this.ER=undefined;this.ayz();return;}this.ER=by.clone();this.If=new IPCC.rF();this.If.createPyramid(this,this.G);this.JP=new IPCC.rF();this.JP.createPyramid(this,this.G);this.aaZ=true;this.ayR(this.iU);}this.fM=aU.ef();var RX=this.fM.ph(by);this.fM.lE(-RX.x,-RX.y);this.atJ=this.fM.clone();this.atJ.vi();this.ada=Math.round(RX.x);this.aaU=Math.round(RX.y);this.WF();this.aoH(by,aU,bK);if(by.aP===0){this.WF();}}finally{this.OU=false;this.HJ=false;if(this.pd){this.pd.removeAllMarks();}}this.aej(true);}catch(e){this.G.bp('display',e);throw e;}};fA.prototype.apu=function(wH,wy,yM){if(wH[wy]===yM){return;}wH[wy]=yM;};fA.prototype.hh=function(wH,wy,yM){if(wH.getAttribute(wy)===yM){return;}wH.setAttribute(wy,yM);};fA.prototype.xf=function(wH,wy,yM){if(wH.style[wy]===yM){return;}wH.style[wy]=yM;};fA.prototype.aej=function(axx){if(this.OU){return;}if(this.Sk&& !this.DO){return;}if(!axx){try{this.We=true;var cP=this.G.nb();if(cP){this.xa=cP.igElements.mI.scrollLeft;this.vV=cP.igElements.mI.scrollTop;}this.anS();this.WF();this.G.aO().iB(this.lg);this.G.bB('userModifiedViewState',{});this.G.nY(false);}finally{this.We=false;}}};fA.prototype.ane=function(bn,fM,asS){var sY=bn.sY;var qd=sY.aqw(fM,asS);if(!this.G.yV&&qd.tilesToRequest.length===0&&(qd.opaqueTiles.length+qd.translucentTiles.length)>0){this.G.yV=true;this.G.bB('pageDisplayed',{aM:this.G.aP});}sY.aGz(qd);if(this.G.oc()===false){this.aEq(qd.tilesToRequest);this.aaX(qd.opaqueTiles,1,fM);this.aaX(qd.translucentTiles,qd.opacity,fM);}};fA.prototype.ayR=function(iU){var G=this.G;var cP=G.nb();var aU=G.aO();var ae=this;function fO(qv){var xu=document.createElement('div');var R;for(R in qv){if(qv.hasOwnProperty(R)){xu.style[R]=qv[R];}}return xu;};var dv={};cP.igElements=dv;var it=fO({width:'100%',height:'100%',position:'relative',overflow:aU.get_overflow(),margin:'0px',borderWidth:'0px','-moz-user-select':'text','-webkit-user-select':'text'});dv.mI=it;it.setAttribute('class','igViewerScroller');it.onscroll=function(){ae.aej(false);};it.onresize=function(){var bK=G.fN();bK.width=it.clientWidth;bK.height=it.clientHeight;G.bB('resize',{});};var fl=fO({width:'2px',height:'2px',position:'relative',overflow:'hidden',margin:'0px',left:'0',top:'0','-ms-touch-action':'none'});it.appendChild(fl);dv.mR=fl;fl.setAttribute('class','igViewerGraphics');this.zb=2;this.Ae=2;this.xa=0;this.vV=0;var bn={};bn.sY=this.If;bn.YD='ig'+iU+'level';dv.od=bn;this.anc(bn,fl,fO);bn.sD=this.sD;var kG;if(G.oc()===false){kG=fO({position:'absolute',display:'none',width:(aU.uq().width+4)+'px',height:(aU.uq().height+4)+'px',backgroundColor:'#000000'});}else{kG=fO({position:'absolute',display:'none',width:(aU.uq().width+4)+'px',height:(aU.uq().height+4)+'px',backgroundColor:'#cccccc'});}fl.appendChild(kG);dv.kG=kG;kG.setAttribute('class','igMagnifierFrame');var pD=fO({width:'0px',height:'0px',position:'absolute',overflow:'hidden',margin:'0px',left:'0',top:'0'});dv.pD=pD;kG.appendChild(pD);bn={};bn.sY=this.JP;bn.YD='ig'+iU+'maglevel';dv.BU=bn;this.anc(bn,pD,fO);bn.sD=this.ayw;var Pr=document.createTextNode('');dv.Pr=Pr;var eS=document.createElement('textarea');eS.appendChild(Pr);eS.style.position='absolute';eS.style.overflow='auto';eS.style.width='80px';eS.style.height='80px';eS.style.resize='none';eS.style.display='none';it.appendChild(eS);dv.eS=eS;var Za=document.createTextNode('');dv.Za=Za;var hk=document.createElement('input');hk.type="text";hk.style.position='absolute';hk.style.overflow='hidden';hk.style.width='80px';hk.style.height='80px';hk.style.resize='none';hk.style.display='none';hk.style.padding='0px';hk.style.margin='0px';hk.style.lineHeight='normal';hk.className="no-ms-clear";var akq=function(ev){var vu=hk,bg=parseFloat(vu.style['width']),aw=parseFloat(vu.style['height']),ig=vu.style['fontFamily'];var aGA=vu.value.length>vu.placeholder.length?vu.value:vu.placeholder;var ie=IPCC.J.uj(aGA,ig,{vx:'pre',fD:dv.od.wb}),wV=12*bg/(ie.width||1),wT=12*aw/(ie.height||1),zH=Math.floor(Math.min(wV,wT))*0.9;vu.style.fontSize=zH+'px';};hk.onkeyup=akq;hk.onfocus=function(ev){akq(ev);if(hk.setSelectionRange){var ho=hk.value.length*2;hk.setSelectionRange(ho,ho);}};it.appendChild(hk);dv.hk=hk;var qI=document.createTextNode('');dv.qI=qI;var cz=document.createElement('textarea');cz.appendChild(qI);cz.style.position='absolute';cz.style.overflow='hidden';cz.style.width='80px';cz.style.height='80px';cz.style.resize='none';cz.style.display='none';cz.style.whiteSpace='pre-wrap';cz.style.border=0;cz.style.padding='2px';cz.style.fontStyle='normal';var aEm=function(bP){var aop=G.Gx();var dn=G.aO().ef().nD();var jx=aop.jx*dn;var bU=G.na().iY()*dn;IPCC.J.Yy(cz,jx,bU);};cz.onkeyup=aEm;it.appendChild(cz);dv.cz=cz;this.jZ={};this.axO(this.jZ);IPCC.Web.UI.au.addHandler(fl,"mousedown",this.afD);IPCC.Web.UI.au.addHandler(fl,"mousemove",this.agq);IPCC.Web.UI.au.addHandler(fl,"mouseup",this.agh);IPCC.Web.UI.au.addHandler(fl,"dblclick",this.agE);IPCC.Web.UI.au.addHandler(fl,"contextmenu",this.aiY);IPCC.Web.UI.au.addHandler(eS,"blur",this.OM);IPCC.Web.UI.au.addHandler(hk,"blur",this.ajE);IPCC.Web.UI.au.addHandler(cz,"blur",this.OM);cP.appendChild(it);};fA.prototype.anc=function(bn,hE,fO){var sX=fO({width:'2px',height:'2px',position:'absolute'});bn.hE=hE;hE.appendChild(sX);bn.amm=sX;sX.setAttribute('class','igAnchor');this.ayi(bn,sX,bn.sY,bn.YD);bn.yY=fO({position:'absolute',width:'10px',height:'10px',left:'0px',top:'0px',overflow:'visible'});sX.appendChild(bn.yY);var kH=fO({overflow:'hidden',display:'none',position:'absolute',backgroundColor:'#00C0E0',border:'#006070 2px solid'});kH.style[this.azg]=this.aAR(0.5);sX.appendChild(kH);bn.kH=kH;};fA.prototype.aes=function(bn){if(bn&&bn.OT){bn.sD.asC();bn.OT=false;}bn.hE=null;};fA.prototype.aoH=function(by,aU,bK){var G=this.G;var mH=this.lg.ph(by);var cP=G.nb();var avV=G.aui();var zA=G.auX();var dv=cP.igElements;var od=dv.od;var BU=dv.BU;var it=dv.mI;var fl=dv.mR;var sX=od.amm;var kG=dv.kG;var pD=dv.pD;var ajf=BU.amm;var Kn=Math.max(0,-mH.x);var Je=Math.max(0,-mH.y);var aEd=Math.max(mH.width,bK.width);var aDX=Math.max(mH.height,bK.height);var nk=Math.max(0,mH.x);var nf=Math.max(0,mH.y);var acv=false;var Dp=false;if(aU.Ay()){Dp=aU.vE();}var axU=this.zb;this.zb=Math.floor(aEd-1);if(this.zb<0){this.zb=0;}var aAr=this.Ae;this.Ae=Math.floor(aDX-1);if(this.Ae<0){this.Ae=0;}if(G.oc()===true){if(this.Ae===0){this.Ae=2;}if(this.zb===0){this.zb=2;}}var azd=this.xa;var azx=this.vV;if(!this.DO){this.xa=Math.floor(Kn);this.vV=Math.floor(Je);}if(this.ajd){this.xf(sX,'left',nk+'px');this.xf(sX,'top',nf+'px');}var fM=aU.ef();fM.lE(Kn-nk,Je-nf);this.ani(od,aU.ef(),fM,by,bK,Dp,nk,nf);this.xf(it,'overflow',aU.get_overflow());if(bK.width!==it.clientWidth||bK.height!==it.clientHeight){bK.width=it.clientWidth;bK.height=it.clientHeight;acv=true;}this.apu(sX.style,'visibility','visible');if(aU.get_magnifierIsVisible()){var uS=aU.get_magnifierWindowPosition();var AB=aU.uq();var Mt=aU.PY();var KX=aU.Qa();var XG=aU.atD();var aEX=Math.round(uS.x-AB.width/2+Kn+Mt);var aGv=Math.round(uS.y-AB.height/2+Je+KX);var Mi=XG.ph(by);var aET=Math.max(0,-Mi.x);var aGd=Math.max(0,-Mi.y);this.xf(ajf,'left',Mi.x+'px');this.xf(ajf,'top',Mi.y+'px');var LX=2;kG.style.width=(AB.width+LX*2)+'px';kG.style.height=(AB.height+LX*2)+'px';pD.style.width=AB.width+'px';pD.style.height=AB.height+'px';pD.style.left=LX+'px';pD.style.top=LX+'px';kG.style.left=aEX+'px';kG.style.top=aGv+'px';var akF=XG.clone();akF.lE(aET,aGd);this.ani(BU,XG,akF,by,AB,Dp,0,0);kG.style.display='block';}else{kG.style.display='none';}if(G.amb()){var ip=G.Gx();var aph=ip.fh();var fP=this.lg.ze(aph);var nH=(ip.get_type()===IPCC.Web.UI.MarkType.Text)?64:0;var abz=ip.fC* -1,ahz=ip.fC* -1;if(fP.width<nH){fP.width=nH;}if(fP.height<nH){fP.height=nH;}if(fP.width>bK.width){fP.width=bK.width;}if(fP.height>bK.height){fP.height=bK.height;}if(fP.x<0){fP.x=0;}if(fP.y<0){fP.y=0;}if(fP.x+fP.width+1>=bK.width){fP.x=bK.width-fP.width;abz= -8;}if(fP.y+fP.height+1>=bK.height){fP.y=bK.height-fP.height;ahz= -8;}var hU=this.FY(ip);hU.style.left=this.xa+fP.x+1+(ip.fC/2)+'px';hU.style.top=this.vV+fP.y+1+(ip.fC/2)+'px';hU.style.width=fP.width+abz-1+'px';hU.style.height=fP.height+ahz-1+'px';if(hU.style.display!=='block'){hU.style.display='block';hU.style.whiteSpace='pre-wrap';var ta=ip.cE;var sK='';if(ta&IPCC.Web.UI.FontStyle.Italic){hU.style.fontStyle="italic";}if(ta&IPCC.Web.UI.FontStyle.Bold){hU.style.fontWeight="bold";}if(ta&IPCC.Web.UI.FontStyle.Underline){sK+="underline";}if(ta&IPCC.Web.UI.FontStyle.Strikeout){if(ta&IPCC.Web.UI.FontStyle.Underline){sK+=" line-through";}else{sK="line-through";}}hU.style.textDecoration=sK;hU.style.color=ip.ro;hU.style.backgroundColor=ip.cj;hU.style.fontFamily=ip.gb;hU.style['z-index']=100;var zH=ip.Ga*this.lg.nD();if(zH){hU.style.fontSize=zH+"px";}switch(ip.hL){case IPCC.Web.UI.HorizontalAlignment.Center:hU.style.textAlign='center';break;case IPCC.Web.UI.HorizontalAlignment.Right:hU.style.textAlign='right';break;default:hU.style.textAlign='left';break;}if(ip.gh){setTimeout(function(){dv.eS.maxLength=ip.gh;dv.hk.maxLength=ip.gh;dv.cz.maxLength=ip.gh;},0);}if(ip.jA){if(zA){zA.destroy();G.Ur(null);}G.Ur(new PCCViewer.aCF(hU,ip.jA));}if(ip.iH()===IPCC.Web.UI.MarkType.TextAreaSignature){var cz=IPCC.J.abW();cz.style.width=dv.cz.style.width;cz.style.height=dv.cz.style.height;cz.style.fontFamily=dv.cz.style.fontFamily;cz.style.fontStyle=dv.cz.style.fontStyle;cz.style.fontWeight=dv.cz.style.fontWeight;var dn=G.aO().ef().nD();var jx=ip.jx*dn;var bU=G.na().iY()*dn;IPCC.J.adn().nodeValue=ip.ak||'m';dv.cz.style.fontSize=IPCC.J.Yy(cz,jx,bU)+'px';}hU.focus();}}else{dv.eS.style.display='none';dv.hk.style.display='none';dv.cz.style.display='none';dv.eS.removeAttribute('maxlength');dv.hk.removeAttribute('maxlength');dv.cz.removeAttribute('maxlength');if(zA){zA.destroy();G.Ur(null);}if(document.activeElement===dv.eS){dv.eS.blur();}if(document.activeElement===dv.hk){dv.hk.blur();}if(document.activeElement===dv.cz){dv.cz.blur();}}if(acv){G.bB('resize',{});}if(this.zb!==axU){this.xf(fl,'width','100%');}if(this.Ae!==aAr){this.xf(fl,'height','100%');}if(this.xa!==azd){it.scrollLeft=this.xa;}if(this.vV!==azx){it.scrollTop=this.vV;}if(avV==="PageView"&& !this.DO){aU=G.aO();var az=aU.ef();var xJ=(+az.nD().toFixed(6));if(G.Lm!==xJ){G.Lm=xJ;setTimeout(function(){G.bB('scaleChanged',{scaleFactor:xJ,pageNumber:G.aP});},1);G.bB('scaleChanged',{scaleFactor:xJ,pageNumber:G.aP});}}};fA.prototype.ani=function(bn,lg,fM,aL,bK,Dp,nk,nf){var mH=lg.ph(aL);var oJ={};oJ.width=Math.max(mH.width,bK.width);oJ.height=Math.max(mH.height,bK.height);this.aoN(bn,lg,fM,aL,bK,nk,nf);this.anq(bn,fM,oJ,aL,nk,nf);if(this.G.oc()===false){this.amo(bn,bK,lg,fM);}else{this.aDi(bn);var aU=this.G.aO();var zj=aU.amc();if(this.G.yV&&zj){this.alH(bn);}}this.anC(bn);if(Dp){var Dy=fM.ze(Dp);if(this.ajd){bn.kH.style.left=(Dy.x-2)+'px';bn.kH.style.top=(Dy.y-2)+'px';}else{bn.kH.style.left=(Dy.x-2+nk)+'px';bn.kH.style.top=(Dy.y-2+nf)+'px';}bn.kH.style.width=Dy.width+'px';bn.kH.style.height=Dy.height+'px';bn.kH.style.display='block';}else{bn.kH.style.display='none';}};fA.prototype.amo=function(bn,bK,lg,fM){var alU=this.G.aux();var Gw={x:0,y:0,width:bK.width,height:bK.height};if(alU){var we=alU.getBoundingClientRect();var gI=bn.hE.getBoundingClientRect();var Rh;if(gI.left<we.left){Rh=we.left-gI.left;Gw.x=(Rh/gI.width)*bK.width;}if(gI.right>we.right){Gw.width=we.width;}if(gI.top<we.top){Rh=we.top-gI.top;Gw.y=(Rh/gI.height)*bK.height;}if(gI.bottom>we.bottom){Gw.height=we.height;}}var sR=lg.clone();sR.vi();var api=sR.ze(Gw);this.ane(bn,fM,api);};fA.prototype.aoN=function(bn,lg,fM,aL,bK,nk,nf){var bN=this.G.eP();var hb=this.G.nh();var ff=this.G.OR();var aiq=0;var F=this;if(bn.nl){aiq=bn.nl.length;}if(!bn.sD|| !bN){return;}var pb=this.G.atW();if(bN.get_markCount()<=0&&hb.get_markCount()<=0&&ff.get_markCount()<=0&&aiq<=0&& !pb){return;}if(!bn.OT){bn.sD.axw(this.G,bn,aL);bn.nl=[];bn.OT=true;}hb=this.G.nh();var bz=[];function avU(h){if((F.G.kD()&&F.G.dg().mW()===true)||h.get_type()!==IPCC.Web.UI.MarkType.Highlight){bz.push(h);}};function adu(h){bz.push(h);};ff.forEachMark(adu);hb.forEachMark(adu);bN.forEachMark(avU);if(pb){bz.push(pb);}var R,nl=bn.nl;for(R=0;R<nl.length;R++){while(R<nl.length&&(R>=bz.length||nl[R].h!==bz[R])){bn.sD.QY(nl[R]);nl.splice(R,1);}if(R<nl.length&&(this.HJ||this.pd.contains(nl[R].h))){bn.sD.amP(nl[R]);}}for(R=nl.length;R<bz.length;R++){nl[R]={h:bz[R]};var T=nl[R];if(!T){continue;}bn.sD.ayU(nl[R]);}if(this.ajd){bn.sD.amf(this.G,bn,bz,fM,this.G.anv());}else{var alj=fM.clone();alj.lE(nk,nf);bn.sD.amf(this.G,bn,bz,alj,this.G.anv());}};fA.prototype.anq=function(){};fA.prototype.anS=function(){var cP=this.G.nb();if(cP){this.ada=cP.igElements.mR.offsetLeft-this.xa;this.aaU=cP.igElements.mR.offsetTop-this.vV;}};fA.prototype.rR=function(V,cn){var fQ=this.G.nb().igElements;var hY=V.domEvent;var fI;if(fQ.mR.getBoundingClientRect){fI=fQ.mR.getBoundingClientRect();}else{var fi=fQ.mR;var tZ=document.documentElement;fI={left:tZ.clientLeft-tZ.scrollLeft,top:tZ.clientTop-tZ.scrollTop};fi=fi.offsetParent;while(fi){fI.top+=fi.offsetTop-fi.scrollTop;fI.left+=fi.offsetLeft-fi.scrollLeft;fi=fi.offsetParent;}}if(hY.rawEvent.touches){if(hY.rawEvent.touches.length>0){this.Nu=new IPCC.Web.UI.Point(hY.rawEvent.touches[0].clientX-fQ.mI.scrollLeft-fI.left,hY.rawEvent.touches[0].clientY-fQ.mI.scrollTop-fI.top);}if(!this.Nu){this.Nu=new IPCC.Web.UI.Point(0,0);}V.windowPoint=new IPCC.Web.UI.Point(this.Nu.x,this.Nu.y);hY.button=0;}else{V.windowPoint=new IPCC.Web.UI.Point(hY.clientX-fI.left-fQ.mI.scrollLeft,hY.clientY-fI.top-fQ.mI.scrollTop);}var RH=this.sR.transform(V.windowPoint);V.imagePoint=new IPCC.Web.UI.Point(RH.x,RH.y);V.constrainedImagePoint=new IPCC.Web.UI.Point(RH.x,RH.y);V.constrainedImagePoint.x=Math.min(Math.max(V.constrainedImagePoint.x,0),this.ER.width);V.constrainedImagePoint.y=Math.min(Math.max(V.constrainedImagePoint.y,0),this.ER.height);V.pointLiesWithinImage=(V.constrainedImagePoint.x===V.imagePoint.x&&V.constrainedImagePoint.y===V.imagePoint.y);V.mark=null;try{var cw=hY.target;while(!(cw.ImGearMarkRelation)&&cw.parentNode&&cw!==document.body){cw=cw.parentNode;}if(cw.ImGearMarkRelation){V.mark=cw.ImGearMarkRelation.h;}}catch(af){}};fA.prototype.km=function(af){try{af.preventDefault();var V=new IPCC.Web.UI.MouseEventArgs();V.domEvent=af;this.rR(V);this.G.aBx(V);}catch(ex){this.G.bp('mouseDown',ex);}};fA.prototype.ki=function(af){try{af.preventDefault();var V=new IPCC.Web.UI.MouseEventArgs();V.domEvent=af;this.rR(V);this.G.aBe(V);}catch(ex){this.G.bp('mouseMove',ex);}};fA.prototype.lT=function(af){try{var V=new IPCC.Web.UI.MouseEventArgs();V.domEvent=af;this.rR(V);if(!af.rawEvent.wheelDelta){V.wheelDelta= -af.rawEvent.detail*120;}else{V.wheelDelta=af.rawEvent.wheelDelta;}this.G.aCQ(V);}catch(ex){this.G.bp('mouseWheel',ex);}};fA.prototype.AP=function(af){try{af.preventDefault();var V=new IPCC.Web.UI.MouseEventArgs();V.domEvent=af;this.rR(V);this.G.aCz(V);}catch(ex){this.G.bp('mouseDoubleClick',ex);}};fA.prototype.kX=function(af){try{af.preventDefault();var V=new IPCC.Web.UI.MouseEventArgs();V.domEvent=af;this.rR(V);this.G.aBK(V);}catch(ex){this.G.bp('mouseUp',ex);}};fA.prototype.SI=function(af){try{af.preventDefault();var V=new IPCC.Web.UI.MouseEventArgs();V.domEvent=af;this.rR(V);this.G.aBq(V);}catch(ex){this.G.bp('contextMenu',ex);}};fA.prototype.aDC=function(af){try{this.G.nY(true);}catch(ex){this.G.bp('textAreaBlur',ex);}};fA.prototype.aEl=function(af){try{this.G.nY(true);}catch(ex){this.G.bp('textInputBlur',ex);}};fA.prototype.aFS=function(h){var eS=this.FY(h);eS.value=h.ak||"";};fA.prototype.azy=function(){var G=this.G;var h=G.Gx();if(!h|| !G.amb()){return;}var aaK=this.FY(h);if(document.activeElement===aaK){aaK.blur();}var ak=aaK.value;ak=ak.replace(/(\n|\n\r|\r\n|\r)/g,'\n');h.set_text(ak);};fA.prototype.FY=function(h){var fQ=this.G.nb().igElements,eS=null;if(h.get_type()===IPCC.Web.UI.MarkType.TextLine){eS=fQ.hk;}else if(h.get_type()===IPCC.Web.UI.MarkType.TextAreaSignature){eS=fQ.cz;}else if(h.get_type()===IPCC.Web.UI.MarkType.Text){eS=fQ.eS;}return eS;};module.exports=fA;},{}],57:[function(require,module,exports){var zQ={};zQ.registerNamespace=function(namespacePath){var rootObject=window;var namespaceParts=namespacePath.split('.');var getTypeName=function(){return this.__typeName;};for(var i=0;i<namespaceParts.length;i++){var currentPart=namespaceParts[i];var ns=rootObject[currentPart];var nsType=typeof(ns);if((nsType!=="undefined")&&(ns!==null)){if(nsType==="function"){throw new Error("namespace error: "+namespacePath);}if((typeof(ns)!=="object")||(ns instanceof Array)){throw new Error("Name space error: "+ns);}}if(!ns){ns=rootObject[currentPart]={};}if(!ns.__namespace){ns.__namespace=true;ns.__typeName=namespaceParts.slice(0,i+1).join('.');ns.getName=getTypeName;}rootObject=ns;}};module.exports=zQ;},{}],58:[function(require,module,exports){var ImGearExceptions=require('./Web/UI/ImGearExceptions');var aV={ao:function(C,al,ao){if(typeof(C)!==ao){throw new ImGearExceptions.Aa(al,typeof(C),ao);}},lW:function(C,al){aV.ao(C,al,'string');},gl:function(C,al){if(!(C instanceof Date)){throw new ImGearExceptions.Aa(al,typeof(C),"Date");}},jc:function(C,al){aV.ao(C,al,'number');if(!isFinite(C)){throw new ImGearExceptions.rD(al,C,'The value must be a number.');}},jM:function(C,al,yW,vC){aV.ao(C,al,'number');if(C<yW||C>vC|| !isFinite(C)){throw new ImGearExceptions.rD(al,C,'The value must be a number between '+yW+' and '+vC+' inclusive.');}},Ts:function(C,al,HX){aV.ao(C,al,'number');var R;for(R=0;R<HX.length;R++){if(C===HX[R]){return;}}var Ox='';for(R=0;R<HX.length;R++){if(R>0){if(R===HX.length-1){Ox+=' or ';}else{Ox+=', ';}}Ox+=HX[R];}throw new ImGearExceptions.rD(al,C,'The value must be '+Ox+'.');},lP:function(C,al,yW,vC){aV.jM(C,al,yW,vC);if(C!==Math.floor(C)){throw new ImGearExceptions.tP(al,'The value must be an integer.');}},cD:function(C,al){aV.ao(C,al,'string');if(!C.match(/#[0-9A-Fa-f]{6}/)){throw new ImGearExceptions.tP(al,'Colors must be strings that begin with a # symbol, followed by 6 hexadecimal digits.');}},Ti:function(C,al){aV.ao(C,al,'string');if(!C.match(/#[0-9A-Fa-f]{6}|transparent/)){throw new ImGearExceptions.tP(al,'Colors must be strings that begin with a # symbol, followed by 6 hexadecimal digits or comply with other W3C accepted color values like "transparent".');}},kS:function(C,al,kS,ahI){aV.ao(C,al,'number');var cu;var ZR=0;for(cu in kS){if(kS.hasOwnProperty(cu)){if(ahI){ZR|=kS[cu];}else{if(C===kS[cu]){return;}}}}var bX="";if(ahI){if((C|ZR)===ZR){return;}else{throw new ImGearExceptions.rD(al,C,'The value must be zero or more members of the '+bX+' enumeration.');}}throw new ImGearExceptions.rD(al,C,'The value must be a member of the '+bX+' enumeration.');},aG:function(C,al){aV.jc(C.x,al+'.x');aV.jc(C.y,al+'.y');},K:function(C,al){aV.jc(C.x,al+'.x');aV.jc(C.y,al+'.y');aV.jc(C.width,al+'.width');aV.jc(C.height,al+'.height');}};module.exports=aV;},{"./Web/UI/ImGearExceptions":86}],59:[function(require,module,exports){var dA=require('./IPCC.Util').regEnum;var CN=function(){};CN.registerEnum=dA;CN.prototype={Document:0,EqualWidthPages:1,SinglePage:2,EqualFitPages:3};CN.registerEnum('IPCC.ViewMode',false);module.exports=CN;},{"./IPCC.Util":29}],60:[function(require,module,exports){var XR=function(oz){var aU;var by;var kT;var bK;var ae=this;var BD;var EC='';var _debug=false;var nA=IPCC.Web.UI.DebugErrorLevel.Production;var mJ=[];var aS=new IPCC.Web.UI.hH();var bN;var ff;var pb=null;var Iw=false;var wt=false;var vr;var ann=IPCC.Web.UI.ImGearArtDataServices.None;var He=false;var vn='';var sC;var aag=false;var ade=false;var wI=0;var sU=true;var iw;var hb;var tQ=false;var aiM=true,oH=false;var aaQ=false;var zA=null;var PW;var Xk=false;var aR=null;this.Lm=0.0;this.mB=function(Ib){if(!_debug){return false;}return nA>=Ib;};this.nv=function(hX,Gv,bQ){IPCC.jf.nv(hX,Gv,bQ,EC,BD);};this.bp=function(ir,iO){if(!this.mB(IPCC.Web.UI.DebugErrorLevel.Production)){return;}var dO=ir+'() threw an exception ('+iO.name+'), "'+iO.message+'"';dO=dO.replace(/\n/g," ");this.nv(dO,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production);ae.bB('exceptionThrown',{"function_name":ir,"exception":iO,"pageNumber":ae.aP});};this.FY=function(h){var fQ=this.nb().igElements,eS=null;if(h.get_type()===IPCC.Web.UI.MarkType.TextLine){eS=fQ.hk;}else if(h.get_type()===IPCC.Web.UI.MarkType.TextAreaSignature){eS=fQ.cz;}else if(h.get_type()===IPCC.Web.UI.MarkType.Text){eS=fQ.eS;}return eS;};this.get_debug=function(){return _debug;};this.set_debug=function(C){var Jh= ! !C;if(_debug===Jh){return;}_debug=Jh;this.di('debug');};this.AL=function(){return nA;};this.GB=function(C){if(nA===C){return;}nA=C;this.di('debugErrorLevel');};this.get_areMarksEditable=function(){return Xk;};this.set_areMarksEditable=function(C){if(Xk===C){return;}Xk=C;this.di('areMarksEditable');};this.get_cursor=function(){return aR;};this.set_cursor=function(C){if(aR===C){return;}aR=C;this.di('cursor');};this.aqp=function(C){EC=C;};this.aui=function(){return EC;};this.aqP=function(C){BD=C;};this.apI=function(C){PW=C;};this.aux=function(){return PW;};this.ek=function(aEn){this.nY(false);var R;for(R=mJ.length-1;R>=0;R--){if(mJ[R]instanceof IPCC.ky){mJ[R].ax(true);}else{mJ[R].ax();}if(mJ[R]instanceof IPCC.jV){mJ[R].fL(true);}else{mJ[R].fL();}}mJ=aEn;for(R=0;R<mJ.length;R++){mJ[R].nd(this);}};this.aHD=function(){var R;for(R=0;R<mJ.length;R++){mJ[R].ax();}};this.gf=function(ahV,V){var R;for(R=0;R<mJ.length;R++){if(V&&V.aeo&&V.aeo()){return;}if(mJ[R][ahV]){mJ[R][ahV](V);}}};this.ayc=function(iK,cs){switch(iK){case 'touchstart':kT.ahY&&kT.ahY(cs);break;case 'touchmove':kT.aju&&kT.aju(cs);break;case 'touchend':kT.ajt&&kT.ajt(cs);break;case 'doubleTap':kT.ait&&kT.ait(cs);break;}};this.lp=function(H){aS.addHandler('propertyChanged',H);};this.mF=function(H){aS.removeHandler('propertyChanged',H);};this.add_mouseDown=function(H){aS.addHandler('mouseDown',H);};this.remove_mouseDown=function(H){aS.removeHandler('mouseDown',H);};this.add_mouseMove=function(H){aS.addHandler('mouseMove',H);};this.remove_mouseMove=function(H){aS.removeHandler('mouseMove',H);};this.add_mouseUp=function(H){aS.addHandler('mouseUp',H);};this.remove_mouseUp=function(H){aS.removeHandler('mouseUp',H);};this.add_contextMenu=function(H){aS.addHandler('contextMenu',H);};this.remove_contextMenu=function(H){aS.removeHandler('contextMenu',H);};this.aus=function(H){aS.addHandler('contextMenuCommand',H);};this.aEQ=function(H){aS.removeHandler('contextMenuCommand',H);};this.add_mouseWheel=function(H){aS.addHandler('mouseWheel',H);};this.remove_mouseWheel=function(H){aS.removeHandler('mouseWheel',H);};this.add_mouseOut=function(H){aS.addHandler('mouseOut',H);};this.remove_mouseOut=function(H){aS.removeHandler('mouseOut',H);};this.avD=function(H){aS.addHandler('resize',H);};this.aFR=function(H){aS.removeHandler('resize',H);};this.awX=function(H){aS.addHandler('userModifiedViewState',H);};this.aER=function(H){aS.removeHandler('userModifiedViewState',H);};this.add_scaleChanged=function(H){aS.addHandler('scaleChanged',H);};this.remove_scaleChanged=function(H){aS.removeHandler('scaleChanged',H);};this.add_markAdded=function(H){aS.addHandler('markAdded',H);};this.remove_markAdded=function(H){aS.removeHandler('markAdded',H);};this.add_markCreating=function(H){aS.addHandler('markCreating',H);};this.remove_markCreating=function(H){aS.removeHandler('markCreating',H);};this.add_markChanged=function(H){aS.addHandler('markChanged',H);};this.remove_markChanged=function(H){aS.removeHandler('markChanged',H);};this.add_inProgressMarkChanged=function(H){aS.addHandler('inProgressMarkChanged',H);};this.remove_inProgressMarkChanged=function(H){aS.removeHandler('inProgressMarkChanged',H);};this.add_markRemoved=function(H){aS.addHandler('markRemoved',H);};this.remove_markRemoved=function(H){aS.removeHandler('markRemoved',H);};this.add_markReordered=function(H){aS.addHandler('markReordered',H);};this.remove_markReordered=function(H){aS.removeHandler('markReordered',H);};this.add_marksLoaded=function(H){aS.addHandler('marksLoaded',H);};this.remove_marksLoaded=function(H){aS.removeHandler('marksLoaded',H);};this.add_marksSaved=function(H){aS.addHandler('marksSaved',H);};this.remove_marksSaved=function(H){aS.removeHandler('marksSaved',H);};this.add_markSelectionChanged=function(H){aS.addHandler('markSelectionChanged',H);};this.remove_markSelectionChanged=function(H){aS.removeHandler('markSelectionChanged',H);};this.add_markTextSelectionChanged=function(H){aS.addHandler('markTextSelectionChanged',H);};this.remove_markTextSelectionChanged=function(H){aS.removeHandler('markTextSelectionChanged',H);};this.add_pageOpenFailed=function(H){aS.addHandler('pageOpenFailed',H);};this.add_pageDisplayed=function(H){aS.addHandler('pageDisplayed',H);};this.remove_pageOpenFailed=function(H){aS.removeHandler('pageOpenFailed',H);};this.add_textPageReady=function(H){aS.addHandler('textPageReady',H);};this.remove_textPageReady=function(H){aS.removeHandler('textPageReady',H);};this.add_selectTextMouseToolCompleted=function(H){aS.addHandler('selectTextMouseToolCompleted',H);};this.remove_selectTextMouseToolCompleted=function(H){aS.removeHandler('selectTextMouseToolCompleted',H);};this.add_exceptionThrown=function(H){aS.db('exceptionThrown',H);};this.remove_exceptionThrown=function(H){aS.cd('exceptionThrown',H);};this.add_textExtractionFailed=function(H){aS.db('textExtractionFailed',H);};this.remove_textExtractionFailed=function(H){aS.cd('textExtractionFailed',H);};this.di=function(cu,vT){var H=aS.getHandler("propertyChanged");if(H){H(this,new IPCC.oD(cu,vT));}};this.nb=function(){var _parent=document.getElementById(BD);return _parent;};this.aO=function(){return aU;};this.aGZ=function(){return aS;};function AY(aj,V){He=true;V.pageIndex=ae.aP;ae.bB('markAdded',V);ae.gf('jn',V);};function BI(aj,V){He=true;V.pageIndex=ae.aP;ae.bB('markChanged',V);ae.gf('ni',V);};function acZ(aj,V){V=new IPCC.Web.UI.MarkEventArgs();V.mark=pb;V.pageIndex=ae.aP;ae.bB('inProgressMarkChanged',V);ae.gf('_onInProgressMarkChanged',V);};function CK(aj,V){He=true;V.pageIndex=ae.aP;ae.bB('markRemoved',V);ae.gf('Ec',V);};function avX(aj,V){ae.bB('textPageReady',V);};function awO(aj,V){ae.bB('textExtractionFailed',V);};function CJ(aj,V){He=true;V.pageIndex=ae.aP;ae.bB('markReordered',V);ae.gf('abU',V);};function By(aj,V){V.pageIndex=ae.aP;ae.bB('marksLoaded',V);ae.gf('abc',V);};function BC(aj,V){V.pageIndex=ae.aP;ae.bB('markSelectionChanged',V);ae.gf('Ep',V);};function abh(aj,V){V.pageIndex=ae.aP;ae.bB('markTextSelectionChanged',V);};this.aCp=function(aj,V){this.gf('_onTextMarkEditCompleted',V);};function Dj(aj,V){V.pageIndex=ae.aP;ae.bB('propertyChanged',V);};this.lF=function(C){if(C===bN){return;}if(bN){bN.remove_markAdded(AY);bN.remove_markChanged(BI);bN.remove_markRemoved(CK);bN.remove_markReordered(CJ);bN.remove_marksLoaded(By);bN.remove_markSelectionChanged(BC);bN.mF(Dj);bN.Cf(true);}bN=C;if(bN){bN.add_markAdded(AY);bN.add_markChanged(BI);bN.add_markRemoved(CK);bN.add_markReordered(CJ);bN.add_marksLoaded(By);bN.add_markSelectionChanged(BC);bN.add_markTextSelectionChanged(abh);bN.lp(Dj);}this.di('artPage');};this.eP=function(){return bN;};this.FO=function(C){if(C===ff){return;}if(ff){ff.remove_markAdded(AY);ff.remove_markChanged(BI);ff.remove_markRemoved(CK);ff.remove_markReordered(CJ);ff.remove_marksLoaded(By);ff.remove_markSelectionChanged(BC);ff.mF(Dj);ff.Cf(true);}ff=C;if(ff){ff.add_markAdded(AY);ff.add_markChanged(BI);ff.add_markRemoved(CK);ff.add_markReordered(CJ);ff.add_marksLoaded(By);ff.add_markSelectionChanged(BC);ff.add_markTextSelectionChanged(abh);ff.lp(Dj);}this.di('documentArtPage');};this.OR=function(){return ff;};this.nh=function(){return hb;};this.Bq=function(C){if(C===hb){return;}if(hb){hb.remove_markAdded(AY);hb.remove_markChanged(BI);hb.remove_markRemoved(CK);hb.remove_markReordered(CJ);hb.remove_marksLoaded(By);hb.remove_markSelectionChanged(BC);hb.mF(Dj);}hb=C;if(hb){hb.add_markAdded(AY);hb.add_markChanged(BI);hb.add_markRemoved(CK);hb.add_markReordered(CJ);hb.add_marksLoaded(By);hb.add_markSelectionChanged(BC);hb.lp(Dj);}this.di('transientArtPage');};var gF;this.Bu=function(){if(!gF){if(IPCC.Web.UI.Mark){gF=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);gF.set_opacity(100);gF.set_fillColor('#3366CC');gF.set_fillVisible(true);}}return gF;};this.Ty=function(C){ann=C;this.di('artServiceOption');};this.Wu=function(){return ann;};this.nT=function(h,oO){if(pb===h){return;}if(pb){pb.remove_propertyChanged(acZ);}if(h&& !pb){var V=new IPCC.Web.UI.MarkEventArgs();V.mark=oO?oO:h;V.pageIndex=this.aP;this.bB('markCreating',V);}pb=h;if(pb){pb.add_propertyChanged(acZ);}this.di('inProgressMark');};this.atW=function(){return pb;};this.zF=function(C){if(C===by){return;}by=C;this.yV=false;aU.nU();this.di('image');};this.co=function(){return by;};this.aaw=function(C){if(C===Iw){return;}Iw=C;this.di('Iw');};this.anv=function(){return Iw;};this.Fg=function(){var vr=this.Gx();var aiO=this.FY(vr);var anO=aiO.value;setTimeout(function(){aiO.setSelectionRange(0,anO.length);},1);};this.wY=function(h){this.nY(false);kT.aFS(h);wt=true;vr=h;this.di('wt');};this.aiy=function(as,dc){if(this.kD()&&this.dg().mW()===true){var gY=this.dg().gQ();var R=as;for(;R<as+dc;R++){var eO=gY.kA(R);var uD='#3366CC';var Ko='#3366CC';hb.abv(eO.bV,Ko,uD,false,R);}}};this.aIc=function(bG){var R;try{var bI=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);if(!gF){gF=ae.Bu();}for(R in gF){if(gF.hasOwnProperty(R)){bI[R]=gF[R];}}bI.set_rectangle({x:bG.x,y:bG.y,width:bG.width,height:bG.height});ae.nT(bI);hb.addMark(bI);return bI;}catch(apE){var aFj=apE.message;window.console.log(aFj);}};this.GA=function(dz){var Fc;var gY;var Wq;Fc=ae.dg();gY=ae.dg().gQ();function auo(TY){var rM=TY.uT();if((dz.x>=rM.x-10&&dz.x<=rM.x+rM.width+1)&&(dz.y>=rM.y-1&&dz.y<=rM.y+rM.height+1)){return true;}rM=undefined;};if(!Wq){for(var R=0;R<gY.fq();R++){if(auo(gY.kA(R))){Wq=R;break;}}}return Wq;};this.aCP=false;this.zO=function(cq){if(cq===undefined){return;}if(ae.kD()&&ae.dg().mW()===true){var Fv=ae.dg().gQ().fq();IPCC.aV.lP(cq,'textIndex',0,Fv);ae.aO().zO(cq);ae.nh().Ct(function(h){if(h.xW!==true&&h.get_type()!==IPCC.Web.UI.MarkType.ImageStampAnnotation){ae.nh().ue(h);}});if(ae.Aj()===true){ae.cn();}}};this.UD=function(){var Cs=ae.aO().get_transientHighlightMarks();while(Cs.length>0){ae.nh().removeMark(Cs.pop());}};this.ND=function(ub,dc){if(ae.kD()&&ae.dg().mW()===true){var R=ub;var gY=this.dg().gQ();var cL=ub+dc;if(!gF){gF=ae.Bu();}var Cs=ae.aO().get_transientHighlightMarks();for(;R<cL;R++){var eO=gY.kA(R);Cs.push(hb.arJ(eO.bV,gF,R));}}};this.aGm=function(aFO,dc){var aU=ae.aO();for(var bM=dc-1;bM>dc;bM--){var bu=aU.hM[bM];hb.removeMark(bu.h);}};this.uW=function(cq){if(cq===undefined){return;}var eO;var aU=ae.aO();var iG=aU.Do();var uD='#3366CC';var Ko='#3366CC';var dk=100;if(!gF){gF=ae.Bu();}dk=gF.get_opacity();if(!dk){dk=100;}uD=gF.get_fillColor();if(uD===undefined){uD='#3366CC';}var gY=ae.dg().gQ();if(iG===undefined){eO=gY.kA(cq);var h=hb.abv(eO.bV,Ko,uD,false,dk,cq);aU.uW(cq,h,eO.kg);return;}var bM;function acM(an,awv){for(bM=aU.hM.length-1;bM>=0;bM--){var bu=aU.hM[bM];if(bu.cq===an){aU.hM.splice(bM,1);hb.removeMark(bu.h);aU.aqs(awv);aU.aoQ(an);return bM;}}return-1;};function Qt(an){eO=gY.kA(an);var agj=hb.abv(eO.bV,Ko,uD,false,dk,an);if(aU.uW(an,agj,eO.kg)===false){hb.removeMark(agj);}};var LB=aU.anh();var R;if(cq>iG){for(R=iG;R<=cq;R++){if(R===cq){if(R<LB){continue;}Qt(R);}else if(R>=LB){if(R===iG){continue;}Qt(R);}else{acM(R,cq);}}}else if(cq<iG){for(R=iG;R>=cq;R--){if(R===cq){if(R>=LB){continue;}Qt(R);}else if(R<LB){if(R===iG){continue;}Qt(R);}else{acM(R,cq);}}}};this.EN=function(){var adp="";try{var aU=ae.aO();if(ae.aO().Fu()){var apr=ae.dg().gQ();if(aU.hM.length>0){var DQ=[];for(var R=0;R<aU.hM.length;R++){DQ.push(aU.hM[R].cq);}if(DQ[0]>DQ[1]){DQ.reverse();}for(R=0;R<DQ.length;R++){adp+=apr.kA(DQ[R]).avd();}}}return adp;}catch(e){window.console.log(e.message);}};this.nY=function(aAe){if(wt){if(aAe){kT.azy();}wt=false;vr=null;this.aCp();this.di('wt');ae.cn();}};this.amb=function(){return wt;};this.Gx=function(){return vr;};this.CQ=function(){var vr=this.Gx();if(!vr){return null;}var Zx=vr.iH();if(Zx===IPCC.Web.UI.MarkType.TextLine){return 'singleline';}else if(Zx===IPCC.Web.UI.MarkType.TextAreaSignature){return 'multiline';}else if(Zx===IPCC.Web.UI.MarkType.Text){return 'multiline';}};this.ajz=function(C){ade=C;};this.ZO=function(){return ade;};this.Ur=function(C){zA=C;};this.auX=function(){return zA;};this.abw=function(C){if(C===wI){return;}wI=C;this.di('wI');};this.Ws=function(){return wI;};this.Cf=function(C){if(bN){bN.Cf(C);}};this.OS=function(){if(bN){return bN.OS();}return true;};this.aBw=function(aGF){var bK=kT.avv(this.nb());this.apv(bK);};this.apv=function(C){if(C===bK){return;}bK=C;this.di('windowSpace');};this.fN=function(){return bK;};this.cn=function(){kT.cn(by,aU,bK);};this.HH=function(){if(this.oc()===false){var lg=aU.ef();var G=this;var mH=lg.ph(by);var cP=G.nb();var dv=cP.igElements;var bn=dv.od;var Kn=Math.max(0,-mH.x);var Je=Math.max(0,-mH.y);var nk=Math.max(0,mH.x);var nf=Math.max(0,mH.y);var fM=aU.ef();fM.lE(Kn-nk,Je-nf);kT.amo(bn,bK,lg,fM);}};this.Ir=function(C){sC=C;};this.wR=function(){return sC;};this.dg=function(){return iw.dg();};var mh=0;this.na=function(){return iw;};this.AW=function(C){if(C===this.na()){return;}iw=C;if(iw){iw.zs(avX);iw.zy(awO);}};this.kD=function(){return sU;};this.Kf=function(C){sU=C;this.di('textRequired');};this.AH=function(){return tQ;};this.GU=function(C){if(tQ===C){return;}tQ=C;this.di('requireRequestsOptimize');};this.Aj=function(){return aiM;};this.Uh=function(C){aiM=C;this.di('autoUpdate');};var qz=false;this.mP=function(){return qz;};this.qh=function(C){if(typeof C!=="boolean"){return;}if(C===qz){return;}qz=C;if(bN){var ahe=false;bN.forEachMark(function(h){if(h.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){ahe=true;}});if(ahe===true){bN.qh(qz);}}};this.lm=function(){return mh;};this.yd=function(C){if(mh===C){return;}if(isNaN(C)){return;}mh=C;this.di('serviceResponseTimeout');};var rg='';this.XI=function(fo,ad){if(fo!==''){fo='/'+fo;}ad=ad||'';if(ad===null||ad===''){if(fo==='/Attributes'){if(/^[\x00-\x7F]*$/.test(by.get_identifier())){return rg+'/Page/q/'+by.aP.toString()+fo+'?DocumentID=u'+encodeURIComponent(by.get_identifier());}else{return rg+'/Page/q/'+by.aP.toString()+fo+'?DocumentID=e'+by.get_encodedIdentifier();}}else{if(/^[\x00-\x7F]*$/.test(by.get_identifier())){return rg+'/Page/q/'+by.aP.toString()+fo+'?DocumentID=u'+encodeURIComponent(by.get_identifier())+'&Quality=85&ContentType=jpeg';}else{return rg+'/Page/q/'+by.aP.toString()+fo+'?DocumentID=e'+by.get_encodedIdentifier()+'&Quality=85&ContentType=jpeg';}}}else{if(/^[\x00-\x7F]*$/.test(by.get_identifier())){return rg+'/Page/q/'+by.aP.toString()+fo+'?DocumentID=u'+encodeURIComponent(by.get_identifier())+'&'+ad;}else{return rg+'/Page/q/'+by.aP.toString()+fo+'?DocumentID=e'+by.get_encodedIdentifier()+'&'+ad;}}};this.arr=function(fo,ad){fo=fo||'Art';ad=ad||'';if(ad===null||ad===''){if(fo==='Art'){return rg+'/Page/q/'+by.aP.toString()+'/'+fo+'?DocumentID=e'+by.get_encodedIdentifier();}}else{return rg+'/Page/q/'+by.aP.toString()+'/'+fo+'?DocumentID=e'+by.get_encodedIdentifier()+'&'+ad;}};this.ZQ=function(CW){if(He===false){if(CW){CW();}return;}IPCC.J.me.et({method:'POST',url:this.arr('Art'),headers:{'Content-Type':'application/json'},body:bN.saveToJson()}).then(function(){if(CW){CW();}});};this.tn=function(){return rg;};this.UF=function(C){rg=C;this.di('imageHandlerUrl');};this.oc=function(){return aag;};this.Ly=function(C){aag=C;};this.auf=function(){return aaQ;};this.ady=function(C){aaQ=C;};this.mZ=function(){return vn;};this.uM=function(C){vn=C;vn.tabIndex= -1;};this.jz=function(){return oH;};this.mv=function(C){if(typeof C!=="boolean"){return;}if(C===oH){return;}oH=C;};this.aBx=function(V){if(wt){this.nY(true);}else{this.bB('mouseDown',V);this.gf('km',V);}};this.aBe=function(V){this.bB('mouseMove',V);this.gf('ki',V);};this.aBK=function(V){this.bB('mouseUp',V);this.gf('kX',V);};this.aCQ=function(V){this.bB('mouseWheel',V);this.gf('lT',V);};this.aCz=function(V){this.bB('mouseDoubleClick',V);this.gf('AP',V);};this.aBq=function(V){this.bB('contextMenu',V);this.gf('SI',V);};this.aCH=function(V){this.bB('contextMenuCommand',V);};this.aCo=function(V){this.bB('mouseOut',V);this.gf('nZ',V);};this.aBV=function(V){this.bB('touchStart',V);this.gf('km',V);};this.aBk=function(V){this.bB('touchMove',V);this.gf('ki',V);};this.aBp=function(V){this.bB('touchEnd',V);this.gf('kX',V);};this.aBr=function(V){this.bB('touchCancel',V);this.gf('Ft',V);};this.bB=function(dF,V){var H=aS.getHandler(dF);if(H!==null){H(ae,V);}};var afo=function(G,oz){aU=new IPCC.WK();function CO(aj,V){ae.bB('propertyChanged',V);};aU.lp(CO);kT=new IPCC.fA(G,oz);if(IPCC.dM){kT.sD=new IPCC.dM.dw(G);kT.ayw=new IPCC.dM.dw(G);}};if(oz===false){afo(this,false);}else{afo(this,true);}return this;};module.exports=XR;},{}],61:[function(require,module,exports){var WK=function(){var qx=0;var pQ=1;var mz=1;var zj=false;var ca=new IPCC.fH();var CS=false;var uk;var qk;var Mf=false;var CA=new IPCC.Ce(200,150,96,96);var uS={x:0,y:0};var LK=3;var Mt=0,KX=0;var hx=0.2;var sL=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;var Bf=new IPCC.fH();var IH=0;var HE=0;var Et=false;var Sl;this.hM=[];var XM=IPCC.Web.UI.ScrollBars.Auto;var Cs=[];this.get_transientHighlightMarks=function(){return Cs;};this.get_scrollBars=function(){return XM;};this.get_overflow=function(){switch(XM){case IPCC.Web.UI.ScrollBars.None:return 'hidden';case IPCC.Web.UI.ScrollBars.Both:return 'scroll';}return 'auto';};this.set_scrollBars=function(C){XM=C;this.di('scrollBars');};var aS=new IPCC.Web.UI.hH();this.lp=function(H){aS.addHandler('propertyChanged',H);};this.mF=function(H){aS.removeHandler('propertyChanged',H);};this.di=function(cu){var H=aS.getHandler('propertyChanged');if(H){H(this,new IPCC.oD(cu));}};var onSelectionChanged=function(aU){var V={};V.selectionIsVisible=CS;V.selectionRectangle=aU.vE();aU.di('selection');};this.nU=function(){uk={x:0,y:0};qk={x:0,y:0};if(!CS){return;}CS=false;onSelectionChanged(this);};this.showSelection=function(cO){uk.x=cO.x;uk.y=cO.y;qk.x=cO.x+cO.width;qk.y=cO.y+cO.height;CS=true;onSelectionChanged(this);};this.Bm=function(dz){uk.x=dz.x;uk.y=dz.y;qk.x=dz.x;qk.y=dz.y;CS=true;onSelectionChanged(this);};this.xZ=function(dz){qk.x=dz.x;qk.y=dz.y;onSelectionChanged(this);};this.Ay=function(){return CS;};this.vE=function(){var K=new IPCC.Web.UI.Rectangle(Math.min(uk.x,qk.x),Math.min(uk.y,qk.y),0,0);K.width=Math.max(uk.x,qk.x)-K.x;K.height=Math.max(uk.y,qk.y)-K.y;return K;};var GV=function(){if(!Mf){Bf.are();return;}Bf.PB(ca);Bf.lE(-uS.x,-uS.y);Bf.scale(LK,LK);Bf.lE(CA.width/2,CA.height/2);};this.hideMagnifier=function(){Mf=false;GV();this.di('magnifierIsVisible');};this.showMagnifier=function(dJ){uS.x=dJ.x;uS.y=dJ.y;Mf=true;GV();this.di('magnifierWindowPosition');this.di('magnifierIsVisible');};this.get_magnifierIsVisible=function(){return Mf;};this.get_magnifierWindowPosition=function(){return{x:uS.x,y:uS.y};};this.get_magnifierMagnification=function(){return LK;};this.set_magnifierMagnification=function(C){LK=C;GV();this.di('magnifierMagnification');};this.PY=function(){return Mt;};this.XV=function(C){Mt=C;this.di('magnifierXOffset');};this.Qa=function(){return KX;};this.Wg=function(C){KX=C;this.di('magnifierYOffset');};this.uq=function(){return{width:CA.width,height:CA.height};};this.set_magnifierWindowSize=function(newMagnifierSize){CA.width=newMagnifierSize.width;CA.height=newMagnifierSize.height;GV();this.di('magnifierWindowSize');};this.atD=function(){return Bf.clone();};this.ef=function(){return ca.clone();};this.Yt=function(){return hx;};this.Xs=function(C){hx=C;this.di('markHandleSize');};this.zx=function(){return sL;};this.Ks=function(C){sL=C;this.di('markHandleMode');};this.iB=function(C){if(C===ca||C.aEg(ca)){return;}if(!C.alD()){throw new IPCC.Web.UI.ImGearInvalidOperationException('The viewing state of the control is invalid.');}ca.PB(C);GV();this.di('displayedPageRectangle');};var adb='0';this.get_presentationQuality=function(){return adb;};this.set_presentationQuality=function(C){adb=C;this.di('presentationQuality');};this.atu=function(){return pQ;};this.CE=function(C){pQ=C;};this.asd=function(){return qx;};this.EL=function(C){qx=C;};this.asy=function(){return mz;};this.Gk=function(C){if(C!==mz){zj=true;}mz=C;};this.aqv=function(C){zj=C;};this.amc=function(){return zj;};var Zb=IPCC.aW.Default;this.aGN=function(){return Zb;};this.aoS=function(C){if(Zb!==C){Zb=C;this.di('markCursor');}};this.zO=function(cq){IH=cq;Et=false;HE=0;};this.ND=function(ub,dc){if(ub!==IH){IH=ub;}HE=dc;Et=true;};this.Yq=function(){if(Et===true){for(var R=0;R<this.hM.length;R++){this.hM[R].h.set_visible(false);}Et=false;}};this.Fu=function(){return Et;};this.uW=function(cq,h,kg){Sl=cq;if(cq!==undefined){if(this.hM.length>0&&this.hM[this.hM.length-1].cq===cq){return false;}this.hM.push({cq:cq,h:h,kg:kg});Et=true;HE++;}else{this.hM=[];HE=0;}return true;};this.Do=function(){return Sl;};this.aqs=function(C){if(C===undefined){return;}Sl=C;};var aln;this.aIj=function(){return aln;};this.aoQ=function(C){if(C===undefined){return;}aln=C;};this.anh=function(){return IH;};this.aIm=function(){return IH+HE;};this.Be=function(){return this.hM.length;};this.nU();this.hideMagnifier();return this;};module.exports=WK;},{}],62:[function(require,module,exports){var AE={};AE.amh=function(be){if(!this.Bz[0][0][0]){this.Xg();}var R,bM,eU,HM,RC,mk=this.Bz[0][4],us=this.Bz[1],ss=be.length,LU=1;if(ss!==4&&ss!==6&&ss!==8){throw new IPCC.Web.UI.ImGearArgumentException('none',"invalid aes key size");}this.be=[HM=be.slice(0),RC=[]];for(R=ss;R<4*ss+28;R++){eU=HM[R-1];if(R%ss===0||(ss===8&&R%ss===4)){eU=mk[eU>>>24]<<24^mk[eU>>16&255]<<16^mk[eU>>8&255]<<8^mk[eU&255];if(R%ss===0){eU=eU<<8^eU>>>24^LU<<24;LU=LU<<1^(LU>>7)*283;}}HM[R]=HM[R-ss]^eU;}for(bM=0;R;bM++,R--){eU=HM[bM&3?R:R-4];if(R<=4||bM<4){RC[bM]=eU;}else{RC[bM]=us[0][mk[eU>>>24]]^us[1][mk[eU>>16&255]]^us[2][mk[eU>>8&255]]^us[3][mk[eU&255]];}}};AE.amh.prototype={RN:function(dp){return this.avm(dp,1);},Bz:[[[],[],[],[],[]],[[],[],[],[],[]]],Xg:function(){var MF=this.Bz[0],us=this.Bz[1],mk=MF[4],aCr=us[4],R,aa,vm,ei=[],aaJ=[],TQ,ahJ,ahD,jq,Oz,Qf;for(R=0;R<256;R++){aaJ[(ei[R]=R<<1^(R>>7)*283)^R]=R;}for(aa=vm=0;!mk[aa];aa^=TQ||1,vm=aaJ[vm]||1){jq=vm^vm<<1^vm<<2^vm<<3^vm<<4;jq=jq>>8^jq&255^99;mk[aa]=jq;aCr[jq]=aa;ahD=ei[ahJ=ei[TQ=ei[aa]]];Qf=ahD*0x1010101^ahJ*0x10001^TQ*0x101^aa*0x1010100;Oz=ei[jq]*0x101^jq*0x1010100;for(R=0;R<4;R++){MF[R][aa]=Oz=Oz<<24^Oz>>>8;us[R][jq]=Qf=Qf<<24^Qf>>>8;}}for(R=0;R<5;R++){MF[R]=MF[R].slice(0);us[R]=us[R].slice(0);}},avm:function(qu,Hv){if(qu.length!==4){throw new IPCC.Web.UI.ImGearArgumentException('blocksize','Invalid block size');}var be=this.be[Hv],dR=qu[0]^be[0],es=qu[Hv?3:1]^be[1],eF=qu[2]^be[2],ei=qu[Hv?1:3]^be[3],tS,air,afT,aEA=be.length/4-2,R,BH=4,eB=[0,0,0,0],FA=this.Bz[Hv],NF=FA[0],Oh=FA[1],PN=FA[2],OD=FA[3],mk=FA[4];for(R=0;R<aEA;R++){tS=NF[dR>>>24]^Oh[es>>16&255]^PN[eF>>8&255]^OD[ei&255]^be[BH];air=NF[es>>>24]^Oh[eF>>16&255]^PN[ei>>8&255]^OD[dR&255]^be[BH+1];afT=NF[eF>>>24]^Oh[ei>>16&255]^PN[dR>>8&255]^OD[es&255]^be[BH+2];ei=NF[ei>>>24]^Oh[dR>>16&255]^PN[es>>8&255]^OD[eF&255]^be[BH+3];BH+=4;dR=tS;es=air;eF=afT;}for(R=0;R<4;R++){eB[Hv?3& -R:R]=mk[dR>>>24]<<24^mk[es>>16&255]<<16^mk[eF>>8&255]<<8^mk[ei&255]^be[BH++];tS=dR;dR=es;es=eF;eF=ei;ei=tS;}return eB;}};module.exports=AE;},{}],63:[function(require,module,exports){var fV={};fV.HN={md:function(dQ){var eB="",qR=IPCC.Web.gH.vb(dQ),R,eU;for(R=0;R<qR/8;R++){if((R&3)===0){eU=dQ[R/4];}eB+=String.fromCharCode(eU>>>24);eU<<=8;}return decodeURIComponent(escape(eB));},vy:function(bX){bX=unescape(encodeURIComponent(bX));var eB=[],R,eU=0;for(R=0;R<bX.length;R++){eU=eU<<8|bX.charCodeAt(R);if((R&3)===3){eB.push(eU);eU=0;}}if(R&3){eB.push(IPCC.Web.gH.Kt(8*(R&3),eU));}return eB;}};fV.pu={xv:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",md:function(dQ,aDa,ab){var eB="",R,ew=0,eF=IPCC.Web.fV.pu.xv,vK=0,qR=IPCC.Web.gH.vb(dQ);if(ab){eF=eF.substr(0,62)+'-_';}for(R=0;eB.length*6<qR;){eB+=eF.charAt((vK^dQ[R]>>>ew)>>>26);if(ew<6){vK=dQ[R]<<(6-ew);ew+=26;R++;}else{vK<<=6;ew-=6;}}while((eB.length&3)&& !aDa){eB+="=";}return eB;},vy:function(bX,ab){bX=bX.replace(/\s|=/g,'');var eB=[],R,ew=0,eF=IPCC.Web.fV.pu.xv,vK=0,aa;if(ab){eF=eF.substr(0,62)+'-_';}for(R=0;R<bX.length;R++){aa=eF.indexOf(bX.charAt(R));if(aa<0){throw new IPCC.Web.UI.ImGearArgumentException('base64','Invalid base64');}if(ew>26){ew-=26;eB.push(vK^aa>>>ew);vK=aa<<(32-ew);}else{ew+=6;vK^=aa<<(32-ew);}}if(ew&56){eB.push(IPCC.Web.gH.Kt(ew&56,vK,1));}return eB;}};fV.Hy={md:function(dQ){return IPCC.Web.fV.pu.md(dQ,1,1);},vy:function(bX){return IPCC.Web.fV.pu.vy(bX,1);}};module.exports=fV;},{}],64:[function(require,module,exports){var re={};re.SQ=function(re){if(!this.be[0]){this.Xg();}if(re){this.eb=re.eb.slice(0);this.AJ=re.AJ.slice(0);this.dc=re.dc;}else{this.ajW();}};re.SQ.re=function(dp){return(new IPCC.Web.re.SQ()).aoT(dp).asL();};re.SQ.prototype={aIe:512,ajW:function(){this.eb=this.aew.slice(0);this.AJ=[];this.dc=0;return this;},aoT:function(dp){if(typeof dp==="string"){dp=IPCC.Web.Codec.HN.vy(dp);}var R,es=this.AJ=IPCC.Web.gH.TJ(this.AJ,dp),aiN=this.dc,aDs=this.dc=aiN+IPCC.Web.gH.vb(dp);for(R=512+aiN& -512;R<=aDs;R+=512){this.nM(es.splice(0,16));}return this;},asL:function(){var R,es=this.AJ,eb=this.eb;es=IPCC.Web.gH.TJ(es,[IPCC.Web.gH.Kt(1,1)]);for(R=es.length+2;R&15;R++){es.push(0);}es.push(Math.floor(this.dc/0x100000000));es.push(this.dc|0);while(es.length){this.nM(es.splice(0,16));}this.ajW();return eb;},aew:[],be:[],Xg:function(){var R=0,Fq=2,bh;function afu(aa){return(aa-Math.floor(aa))*0x100000000|0;};azk:for(;R<64;Fq++){for(bh=2;bh*bh<=Fq;bh++){if(Fq%bh===0){continue azk;}}if(R<8){this.aew[R]=afu(Math.pow(Fq,1/2));}this.be[R]=afu(Math.pow(Fq,1/3));R++;}},nM:function(aoq){var R,eU,dR,es,iP=aoq.slice(0),eb=this.eb,du=this.be,abF=eb[0],qE=eb[1],Gp=eb[2],OZ=eb[3],sH=eb[4],MH=eb[5],FQ=eb[6],aaG=eb[7];for(R=0;R<64;R++){if(R<16){eU=iP[R];}else{dR=iP[(R+1)&15];es=iP[(R+14)&15];eU=iP[R&15]=((dR>>>7^dR>>>18^dR>>>3^dR<<25^dR<<14)+(es>>>17^es>>>19^es>>>10^es<<15^es<<13)+iP[R&15]+iP[(R+9)&15])|0;}eU=(eU+aaG+(sH>>>6^sH>>>11^sH>>>25^sH<<26^sH<<21^sH<<7)+(FQ^sH&(MH^FQ))+du[R]);aaG=FQ;FQ=MH;MH=sH;sH=OZ+eU|0;OZ=Gp;Gp=qE;qE=abF;abF=(eU+((qE&Gp)^(OZ&(qE^Gp)))+(qE>>>2^qE>>>13^qE>>>22^qE<<30^qE<<19^qE<<10))|0;}eb[0]=eb[0]+abF|0;eb[1]=eb[1]+qE|0;eb[2]=eb[2]+Gp|0;eb[3]=eb[3]+OZ|0;eb[4]=eb[4]+sH|0;eb[5]=eb[5]+MH|0;eb[6]=eb[6]+FQ|0;eb[7]=eb[7]+aaG|0;}};module.exports=re;},{}],65:[function(require,module,exports){var CI={};CI.ayv={al:"cbc",aic:function(KQ,Xl,iV,yS){if(yS&&yS.length){throw new IPCC.Web.UI.ImGearArgumentException('data','cannot authenticate data');}if(IPCC.Web.gH.vb(iV)!==128){throw new IPCC.Web.UI.ImGearArgumentException('iv','invalid data');}var R,iP=IPCC.Web.gH,Qx=iP.ahg,qR=iP.vb(Xl),ajw=0,oQ=[];if(qR&7){throw new IPCC.Web.UI.ImGearInvalidOperationException('padding works only for multiple bytes');}for(R=0;ajw+128<=qR;R+=4,ajw+=128){iV=KQ.aic(Qx(iV,Xl.slice(R,R+4)));oQ.splice(R,0,iV[0],iV[1],iV[2],iV[3]);}qR=(16-((qR>>3)&15))*0x1010101;iV=KQ.aic(Qx(iV,iP.TJ(Xl,[qR,qR,qR,qR]).slice(R,R+4)));oQ.splice(R,0,iV[0],iV[1],iV[2],iV[3]);return oQ;},RN:function(KQ,Nx,iV,yS){if(yS&&yS.length){throw new IPCC.Web.UI.ImGearArgumentException(yS,"cbc can't authenticate data");}if(IPCC.Web.gH.vb(iV)!==128){throw new IPCC.Web.UI.ImGearArgumentException('iv',"cbc iv must be 128 bits");}if((IPCC.Web.gH.vb(Nx)&127)|| !Nx.length){throw new IPCC.Web.UI.ImGearInvalidOperationException("cbc ciphertext must be a positive multiple of the block size");}var R,iP=IPCC.Web.gH,Qx=iP.ahg,sB,rJ,oQ=[];yS=yS||[];for(R=0;R<Nx.length;R+=4){sB=Nx.slice(R,R+4);rJ=Qx(iV,KQ.RN(sB));oQ.splice(R,0,rJ[0],rJ[1],rJ[2],rJ[3]);iV=sB;}sB=oQ[R-1]&255;if(sB===0||sB>16){throw new IPCC.Web.UI.ImGearInvalidOperationException('pkcs#5 padding corrupt');}rJ=sB*0x1010101;if(!iP.apJ(iP.Qu([rJ,rJ,rJ,rJ],0,sB*8),iP.Qu(oQ,oQ.length*32-sB*8,oQ.length*32))){throw new IPCC.Web.UI.ImGearInvalidOperationException('2pkcs#5 padding corrupt');}return iP.Qu(oQ,0,oQ.length*32-sB*8);}};module.exports=CI;},{}],66:[function(require,module,exports){var dh=require('../../IPCC.Util').regClass;var Po=function(){var bz=[];var aS=new IPCC.Web.UI.hH();var fw=new IPCC.Web.UI.MarkCollection();var F=this;var Ig=true;this.aEG=[];function onMarkSelectionChanged(aj,V){var h=V.mark;if(h.bj&&h.bj[0]&&h.bj[0].de===false){return;}var cW;var anr=V.mark.get_selected();if(h.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&h.aY!==undefined){fw.remove_markAdded(onMarkSelectionChanged);fw.remove_markRemoved(onMarkSelectionChanged);for(var R=0;R<bz.length;R++){if(bz[R].aY===h.aY){if(bz[R].get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){cW=bz[R];}else{bz[R].set_selected(V.mark.get_selected());}}}fw.add_markAdded(onMarkSelectionChanged);fw.add_markRemoved(onMarkSelectionChanged);if(cW){cW.set_selected(anr);}return;}else if(h.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){fw.remove_markAdded(onMarkSelectionChanged);fw.remove_markRemoved(onMarkSelectionChanged);for(var bi=0;bi<h.bj.length;bi++){h.bj[bi].set_selected(V.mark.get_selected());}fw.add_markAdded(onMarkSelectionChanged);fw.add_markRemoved(onMarkSelectionChanged);}var eE=new IPCC.Web.UI.MarkEventArgs();eE.mark=h;eE.zIndex=F.oW(h);eE.length=1;F.bB('markSelectionChanged',eE);};fw.add_markAdded(onMarkSelectionChanged);fw.add_markRemoved(onMarkSelectionChanged);var azl=fw.addMark;fw.addMark=function(h){if(F.oW(h)<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot select a Mark that is not associated with the ArtPage.');}if(!fw.contains(h)){azl.call(fw,h);h.di('selected');}};var aAP=fw.addMarks;fw.addMarks=function(xY){var pd=[];function UW(h){if(F.oW(h)<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot select a Mark that is not associated with the ArtPage.');}if(!fw.contains(h)){pd.push(h);}};xY.forEach(UW,{});aAP.call(fw,xY);var R;for(R=0;R<pd.length;R++){pd[R].di('selected');}};var azR=fw.removeMark;fw.removeMark=function(h){if(fw.contains(h)){azR.call(fw,h);h.di('selected');}};var aAf=fw.removeAllMarks;fw.removeAllMarks=function(){var pd=[];function UW(h){if(fw.contains(h)){pd.push(h);}};fw.forEach(UW,{});aAf.call(fw);var R;for(R=0;R<pd.length;R++){pd[R].di('selected');}};function akv(lx){IPCC.aV.lP(lx,'zIndex',0,bz.length-1);};this.Yf=function(){return bz.length;};this.amr=function(){var R=0;for(;R<bz.length;R++){if(bz[R].get_type()!==IPCC.Web.UI.MarkType.HighlightText&&bz[R].get_type()!==IPCC.Web.UI.MarkType.Highlight&& !(bz[R].get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&bz[R].aY!==undefined)){break;}}return R;};this.Ak=function(){return fw;};this.Cf=function(C){if(C===Ig){return;}Ig=C;this.di('Ig');};this.OS=function(){return Ig;};var qz=false;this.mP=function(){return qz;};this.qh=function(C){if(typeof C!=="boolean"){return;}qz=C;this.di('redactionDraftMode');};function ni(aj,V){if(V.get_propertyName()==='selected'){return;}var eE=new IPCC.Web.UI.MarkEventArgs();eE.mark=aj;eE.zIndex=F.oW(aj);eE.propertyName=V.cu;eE.length=1;if(eE.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||(eE.mark.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&eE.mark.aY!=='undefined')){F.aow(aj);}F.bB('markChanged',eE);};function AS(aj){var eE=new IPCC.Web.UI.MarkEventArgs();eE.mark=aj;eE.zIndex=F.oW(aj);eE.length=1;F.bB('markTextSelectionChanged',eE);};function Qc(aj,V){var eE=new IPCC.Web.UI.CommentEventArgs();eE.mark=aj;eE.comment=V.comment;eE.index=V.index;F.bB('commentAdded',eE);};function Ph(aj,V){var eE=new IPCC.Web.UI.CommentEventArgs();eE.mark=aj;eE.comment=V.comment;eE.index=V.index;F.bB('commentRemoved',eE);};function PP(aj,V){var eE=new IPCC.Web.UI.CommentEventArgs();eE.mark=aj;eE.comment=V.comment;eE.index=V.index;F.bB('commentChanged',eE);};this.PD=function(h,pG){pG=pG||{};var lx=this.oW(h);if(lx>=0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot add a Mark to an ArtPage if the mark is already associated with the ArtPage.');}if(h.eP()){throw new IPCC.Web.UI.ImGearInvalidOperationExceptionException('You cannot add a Mark to an ArtPage if the mark is already associated with a different ArtPage.');}bz.push(h);h.lF(this);h.add_propertyChanged(ni);h.add_markTextSelectionChanged(AS);h.xI(Qc);h.wJ(Ph);h.sh(PP);var V=new IPCC.Web.UI.MarkEventArgs();V.mark=h;if(h.get_type()===IPCC.Web.UI.MarkType.Highlight||h.get_type()===IPCC.Web.UI.MarkType.HighlightText||h.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||h.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink||h.get_type()===IPCC.Web.UI.MarkType.Strikethrough||(h.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&h.aY!==undefined)){this.acx(h,0);}else{V.zIndex=bz.length-1;}V.clientX=pG.clientX;V.clientY=pG.clientY;V.length=1;F.bB('markAdded',V);};this.Ct=function(io,cl){var Ju=[].concat(bz);var R;for(R=0;R<Ju.length;R++){io.call(cl,Ju[R],R,this);}};this.Qv=function(lx){akv(lx);return bz[lx];};this.oW=function(h){var R;for(R=0;R<bz.length;R++){if(bz[R]===h){return R;}}return-1;};this.aGg=function(fu){var fg=JSON.parse(fu);this.Vk();var KA=[];var R;var MT=fg.m;if(MT){for(R=0;R<MT.length;R++){var bI=new IPCC.Web.UI.Mark(MT[R].t);bI.aDZ(MT[R]);bI.lF(this);bI.add_propertyChanged(ni);bI.add_markTextSelectionChanged(AS);KA.push(bI);}}bz=KA;F.bB('marksLoaded',{});};var ALPHA_CHAR_CODES=[48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70];this.awG=function(){var kn=new Array(36);var an=0;var R;var bM;for(R=0;R<8;R++){kn[an++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}for(R=0;R<3;R++){kn[an++]=45;for(bM=0;bM<4;bM++){kn[an++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}}kn[an++]=45;var apc=new Date().getTime();var alF=("0000000"+apc.toString(16).toUpperCase()).substr(-8);for(R=0;R<8;R++){kn[an++]=alF.charCodeAt(R);}for(R=0;R<4;R++){kn[an++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}return String.fromCharCode.apply(null,kn);};function Wc(jW){var aa=jW.firstChild;while(aa.nodeType!==1){aa=aa.nextSibling;}return aa;};function Pn(vh,ais,arL){var axN=parseFloat(vh.getAttribute(ais));var axm=parseFloat(vh.getAttribute(ais+'Xh'));return arL/(axN/axm);};function aDz(Mp,ah,bU){if(ah<=0&&bU<=0){return 1;}var agJ=Mp.getAttribute('pageWidth');var afP=Mp.getAttribute('pageHeight');var Lf,QL,bh,vh,R;if(agJ&&afP){Lf=parseFloat(agJ);QL=parseFloat(afP);if(isFinite(Lf)&&isFinite(QL)&&Lf>0&&QL>0){return ah/Lf;}}for(R=0;R<Mp.childNodes.length;R++){vh=Mp.childNodes[R];if(vh.nodeName!=='annotation'){continue;}bh=Pn(vh,'width',ah);if(isFinite(bh)&&bh>0){return bh;}bh=Pn(vh,'height',bU);if(isFinite(bh)&&bh>0){return bh;}bh=Pn(vh,'x',ah);if(isFinite(bh)&&bh>0){return bh;}bh=Pn(vh,'y',bU);if(isFinite(bh)&&bh>0){return bh;}}return 1;};this.aFh=function(jJ,aM,ah,bU,YL,stampImages,xo,tC){var F=this;if(xo!==true){this.Vk();}if(jJ){var hV;if(IPCC.uh.IM()){hV=jJ.firstChild;}else{var TN=jJ.firstChild.nodeName;if(TN.toLowerCase()==='xml'){hV=jJ.firstChild.nextSibling;}else{hV=jJ.firstChild;}}var da=Wc(hV);if(da.nodeName!=='pages'){throw 'ERROR: pages';}if(da.hasChildNodes()){var R;for(R=0;R<da.childNodes.length;R++){var aC=da.childNodes[R];if(aC.nodeName!=='page'){continue;}var AU=aC.getAttribute('id');var mA=false;var um;var pV='';var JH=[];var jt;var ot,bi=0;var cR,cN,as;if(YL){var agO=aC.getAttribute('pageWidth'),agy=aC.getAttribute('pageHeight');if(agO){YL.alp(agO);}if(agy){YL.akt(agy);}}var mO=[],Qy={},bj;if((AU&&parseInt(AU,10))===(aM+1)){mA=true;var KA=[];var bM;var bI;var jd,hd,pO,sj,sP,gh;var mq=1;var ahN=aDz(aC,ah,bU);if(ahN>0){mq=ahN;}for(bM=0;bM<aC.childNodes.length;bM++){var aZ=aC.childNodes[bM];if(aZ.nodeName!=='annotation'){continue;}var ji=parseFloat(aZ.getAttribute('width'))*mq;var hZ=parseFloat(aZ.getAttribute('height'))*mq;var fW=parseFloat(aZ.getAttribute('x'))*mq;var fY=parseFloat(aZ.getAttribute('y'))*mq;var VB=aZ.getAttribute('fillColor'),Wr,qK,Vz=aZ.getAttribute('lineColor'),anw,im,afq=aZ.getAttribute('fontColor'),amk,At;if(VB==='transparent'){Wr=qK=VB;}else{Wr=parseInt(VB||0,10);qK=parseInt(Wr,10).toString(16);while(qK.length<6){qK='0'+qK;}qK='#'+qK;}if(Vz==='transparent'){im=Vz;}else{anw=parseInt(Vz||0,10);im=parseInt(anw,10).toString(16);while(im.length<6){im='0'+im;}im='#'+im;}if(afq){amk=parseInt(afq||0,10);At=parseInt(amk,10).toString(16);while(At.length<6){At='0'+At;}At='#'+At;}var atq=aZ.getAttribute('stampSize');var Pl=aZ.getAttribute('dragDirection');var Hx=parseInt(aZ.getAttribute('opacity'),10);if(isNaN(Hx)){Hx=255;}if(aZ.nodeName==='annotation'){var amn=aZ.getAttribute('label');if(!amn){amn='';}var lv=aZ.getAttribute('drawType');var kQ;switch(lv){case 'imagestamp':case 'imagestamp_redact':var pU=aZ.getAttribute('imageStampId');var aN=(lv==='imagestamp')?IPCC.Web.UI.MarkType.ImageStampAnnotation:IPCC.Web.UI.MarkType.ImageStampRedaction;bI=new IPCC.Web.UI.Mark(aN);bI.set_rectangle({x:fW,y:fY,width:ji,height:hZ});bI.set_image(stampImages[pU].base64format);bI.pU=pU;jd=true;if(lv==='imagestamp_redact'){bI.ku(true);}break;case 'circle':bI=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Ellipse);bI.set_rectangle({x:fW,y:fY,width:ji,height:hZ});jd=true;bI.set_lineColor(im);bI.set_fillVisible(false);bI.set_lineWidth(parseFloat(aZ.getAttribute('lineWidth')));break;case 'circle_filled':case 'circle_trans':bI=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Ellipse);bI.set_rectangle({x:fW,y:fY,width:ji,height:hZ});jd=true;bI.set_fillColor(qK);bI.set_lineColor(im);bI.set_fillVisible(true);bI.set_lineWidth(parseFloat(aZ.getAttribute('lineWidth')));break;case 'text':case 'text_redact':bI=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Text);bI.set_rectangle({x:fW,y:fY,width:ji,height:hZ});bI.set_fontName('verdana');bI.set_fontSize(10);bI.set_opacity(0);um=undefined;bI.set_fillColor('#000000');if(lv==='text_redact'){bI.ku(true);}if(lv==='text'){bI.set_fillColor(qK);bI.set_lineColor(im);bI.set_lineWidth(parseFloat(aZ.getAttribute('lineWidth')));bI.set_fillVisible(true);bI.set_opacity(Hx);}gh=parseInt(aZ.getAttribute('maxLength'));if(!isNaN(gh)){bI.set_maxLength(gh);}mO=[];hd=aZ.firstChild;while((hd)&&(hd.nodeType!==4)){hd=hd.nextSibling;}if((hd)&&(hd.nodeType===4)){kQ=hd.innerText||hd.textContent||hd.data;bI.bL.ak=kQ;ot=kQ.split("</TEXTFORMAT>");pV='';JH=[];for(bi=0;bi<ot.length;bi++){if(ot[bi].match(/<TEXTFORMAT/)){ot[bi]=ot[bi]+"</TEXTFORMAT>";mO.push(ot[bi]);}}for(bi=0;bi<mO.length;bi++){if(mO[bi].match(/<P/)){um=this.acN(mO[bi]);JH.push(um);pV+=um+" ";if(bi===0){jt=this.acY(mO[bi]);adN(jt,bI);}}pV=pV.replace(/\s+$/g,"");bI.set_text(pV);var IE=this.adk(mO[bi]);switch(IE){case 'CENTER':bI.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);break;case 'RIGHT':bI.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Right);break;default:bI.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Left);break;}}}break;case 'line':case 'arrow':bI=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Line);var aX=bI.pk();if(Pl==='br'){aX.setPoint(1,new IPCC.Web.UI.Point(fW+ji,fY+hZ));aX.setPoint(0,new IPCC.Web.UI.Point(fW,fY));}else if(Pl==='bl'){aX.setPoint(1,new IPCC.Web.UI.Point(fW,fY+hZ));aX.setPoint(0,new IPCC.Web.UI.Point(fW+ji,fY));}else if(Pl==='tr'){aX.setPoint(1,new IPCC.Web.UI.Point(fW+ji,fY));aX.setPoint(0,new IPCC.Web.UI.Point(fW,fY+hZ));}else if(Pl==='tl'){aX.setPoint(1,new IPCC.Web.UI.Point(fW,fY));aX.setPoint(0,new IPCC.Web.UI.Point(fW+ji,fY+hZ));}bI.set_lineColor(im);bI.set_lineWidth(parseFloat(aZ.getAttribute('lineWidth')));if(lv==='arrow'){bI.set_headFillColor(im);bI.set_endHeadType(IPCC.Web.UI.LineHeadType.Solid);bI.set_startHeadAngle(30);bI.set_startHeadLength(35);bI.set_lineWidth(parseFloat(aZ.getAttribute('lineWidth')));}break;case 'stamp':case 'stamp_redact':bI=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Stamp);bI.set_rectangle({x:fW,y:fY,width:ji,height:hZ});bI.set_fillColor(im);if(lv==='stamp_redact'){bI.ku(true);bI.set_fillColor('#000000');}hd=aZ.firstChild;while((hd)&&(hd.nodeType!==4)){hd=hd.nextSibling;}if((hd)&&(hd.nodeType===4)){kQ=hd.innerText||hd.textContent||hd.data;bI.bL.ak=kQ;bI.set_text(kQ);}break;case 'highlightText':bI=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);bI.set_rectangle({x:fW,y:fY,width:ji,height:hZ});bI.set_fillColor(im);bI.aY=aZ.getAttribute('highlightGroupID');if(aZ.getAttribute('textLength')){bI.cR=parseInt(aZ.getAttribute('textLength'),10);}bI.cN=aZ.getAttribute('selectedText');if(aZ.getAttribute('startIndex')){bI.as=parseInt(aZ.getAttribute('startIndex'),10);}bI.iS=aZ.getAttribute('isHighlight');bI.set_opacity(127);bj=Ve(aZ,mq);if(bj){bI.bj=bj;}break;case 'rectangle_filled_redact':bI=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);bI.set_rectangle({x:fW,y:fY,width:ji,height:hZ});bI.set_fillColor(qK||'#000000');bI.set_lineColor(im);bI.set_lineWidth(parseFloat(aZ.getAttribute('lineWidth')));bI.set_textColor(At||'#ffffff');bI.set_fillVisible(true);bI.ku(true);pO=aZ.getAttribute('highlightGroupID');bI.set_text(IPCC.J.ya(aZ.getAttribute('meta')));if(pO){bI.set_lineWidth(0);bI.aY=pO;var cW=Qy[pO];if(!cW){cW=Qy[pO]=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);cW.aY=pO;cW.set_rectangle(bI.get_rectangle());cW.ku(true);cW.set_text(IPCC.J.ya(aZ.getAttribute('meta')));}else{var IC=false;var qF=cW.get_rectangle();var gv=qF.x,hK=qF.x+qF.width,_top=qF.y,kd=qF.y+qF.height;if(qF.x>fW){IC=true;gv=fW;}if(qF.y>fY){IC=true;_top=fY;}if(qF.x+qF.width<fW+ji){IC=true;hK=fW+ji;}if(qF.y+qF.height<fY+hZ){IC=true;kd=fY+hZ;}if(IC===true){cW.set_rectangle({x:gv,y:_top,width:hK-gv,height:kd-_top});}}}break;case 'text_selection_redaction':pO=aZ.getAttribute('highlightGroupID');bI=Qy[pO];if(!bI){bI=Qy[pO]=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);bI.aY=pO;bI.set_rectangle({x:0,y:0,width:0,height:0});bI.ku(true);bI.set_text(aZ.getAttribute('meta'));}cR=aZ.getAttribute('textLength');if(cR){bI.cR=parseInt(cR,10);}cN=aZ.getAttribute('selectedText');if(cN){bI.cN=cN;}as=aZ.getAttribute('startIndex');if(as){bI.as=parseInt(as,10);}break;case 'text_hyperlink_annotation':bI=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextHyperlinkAnnotation);bI.set_fillColor(im);pO=aZ.getAttribute('highlightGroupID');bI.aY=pO;var kK=aZ.getAttribute('href');if(kK){bI.set_href(IPCC.J.ya(kK));}cR=aZ.getAttribute('textLength');if(cR){bI.cR=parseInt(cR,10);}cN=aZ.getAttribute('selectedText');if(cN){bI.cN=cN;}as=aZ.getAttribute('startIndex');if(as){bI.as=parseInt(as,10);}var iS=aZ.getAttribute('isHighlight');bI.iS=iS?iS:'n';bI.bj=Ve(aZ,mq);bI.set_rectangle({x:fW,y:fY,width:ji,height:hZ});break;case 'rectangle':bI=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);bI.set_rectangle({x:fW,y:fY,width:ji,height:hZ});bI.set_lineVisible(true);bI.set_lineColor(im);bI.set_fillVisible(false);bI.set_lineWidth(parseFloat(aZ.getAttribute('lineWidth')));break;case 'rectangle_filled':bI=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);bI.set_rectangle({x:fW,y:fY,width:ji,height:hZ});bI.set_fillColor(qK);bI.set_lineColor(im);bI.set_fillVisible(true);bI.set_lineWidth(parseFloat(aZ.getAttribute('lineWidth')));break;case 'rectangle_trans':case 'rectangle_trans_redact':bI=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);bI.set_rectangle({x:fW,y:fY,width:ji,height:hZ});bI.set_fillColor(qK);bI.set_lineColor(im);bI.set_fillVisible(true);if(lv==='rectangle_trans_redact'){bI.ku(true);}bI.set_lineWidth(parseFloat(aZ.getAttribute('lineWidth')));break;case 'freehand':case 'signature_path':if(lv==='freehand'){bI=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Freehand);}else{bI=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.SignaturePath);switch(aZ.getAttribute('align').toUpperCase()){case 'LEFT':bI.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Left);break;case 'RIGHT':bI.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Right);break;default:bI.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);break;}}bI.set_rectangle({x:fW,y:fY,width:ji,height:hZ});bI.set_pathWidth(parseFloat(aZ.getAttribute('pathWidth')));bI.set_pathHeight(parseFloat(aZ.getAttribute('pathHeight')));bI.set_lineWidth(parseFloat(aZ.getAttribute('lineWidth')));bI.set_lineColor(im);var tF=aZ.firstChild;while((tF)&&(tF.nodeType!==4)){tF=tF.nextSibling;}if((tF)&&(tF.nodeType===4)){kQ=tF.innerText||tF.textContent||tF.data;bI.bL.ak=kQ;bI.set_pathString(kQ);}break;case 'signature_text':bI=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.SignatureText);bI.set_rectangle({x:fW,y:fY,width:ji,height:hZ});bI.set_fontSize(10);bI.set_lineWidth=0;bI.set_fillVisible(true);bI.set_opacity(1);hd=aZ.firstChild;this.XT(hd,bI);bI.yb=parseFloat(aZ.getAttribute('fontWidth'));bI.yw=parseFloat(aZ.getAttribute('fontHeight'));break;case 'text_area_signature':bI=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextAreaSignature);bI.set_rectangle({x:fW,y:fY,width:ji,height:hZ});bI.set_fontName('verdana');um=undefined;gh=parseInt(aZ.getAttribute('maxLength'));if(!isNaN(gh)){bI.set_maxLength(gh);}var jx=parseInt(aZ.getAttribute('maxFontSize'));if(!isNaN(jx)){bI.set_maxFontSize(jx);}hd=aZ.firstChild;this.XT(hd,bI);break;case 'text_input_signature':bI=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextLine);bI.set_rectangle({x:fW,y:fY,width:ji,height:hZ});hd=aZ.firstChild;this.XT(hd,bI);bI.yb=parseFloat(aZ.getAttribute('fontWidth'));bI.yw=parseFloat(aZ.getAttribute('fontHeight'));bI.set_lineVisible(false);gh=parseInt(aZ.getAttribute('maxLength'));if(!isNaN(gh)){bI.set_maxLength(gh);}arq(aZ,bI);break;case 'polyline':bI=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Polyline);bI.set_lineWidth(parseFloat(aZ.getAttribute('lineWidth')));bI.set_lineColor(im);var ts=aZ.firstChild;while((ts)&&(ts.nodeType!==4)){ts=ts.nextSibling;}var JS;if((ts)&&(ts.nodeType===4)){kQ=ts.innerText||ts.textContent||ts.data;if(kQ&&kQ!=='undefined'){JS=JSON.parse(kQ);aX=bI.pk();if(JS){for(R=0;R<JS.length;R++){aX.addPoint(new IPCC.Web.UI.Point(JS[R].x*mq,JS[R].y*mq));}}}}break;case 'strikethrough':bI=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Strikethrough);bI.set_rectangle({x:fW,y:fY,width:ji,height:hZ});bI.set_lineWidth(parseFloat(aZ.getAttribute('lineWidth')));bI.set_lineColor(im);bI.aY=aZ.getAttribute('highlightGroupID');var textLength=aZ.getAttribute('textLength');if(textLength){bI.cR=parseInt(textLength,10);}bI.cN=aZ.getAttribute('selectedText');var startIndex=aZ.getAttribute('startIndex');if(startIndex){bI.as=parseInt(startIndex,10);}bI.iS=aZ.getAttribute('isHighlight');bj=Ve(aZ,mq);if(bj){bI.bj=bj;}break;default:}if(bI){bI.bL.hW=aZ.getAttribute('nodeId');if(Hx>=0&&(lv==='rectangle_trans_redact'|| !bI.iy())&&lv!=='stamp'&&lv!=='imagestamp'&&lv!=='imagestamp_redact'&&lv!=='text_hyperlink_annotation'&&lv!=='text_input_signature'&&lv!=='text_area_signature'&&lv!=='strikethrough'){bI.set_opacity(Hx);}bI.bL.EP=atq;bI.bL.aGQ=lv;bI.bL.fC=aZ.getAttribute('lineWidth');bI.bL.cj=aZ.getAttribute('fillColor');bI.bL.kp=aZ.getAttribute('lineColor');bI.bL.aHj=aZ.getAttribute('dragDirection');bI.bL.AU=AU;bI.bL.aa=aZ.getAttribute('x');bI.bL.bZ=aZ.getAttribute('y');bI.bL.aw=aZ.getAttribute('height');bI.bL.bg=aZ.getAttribute('width');bI.bL.aEY=aZ.getAttribute('x_percent');bI.bL.aFx=aZ.getAttribute('y_percent');bI.bL.aEO=aZ.getAttribute('height_percent');bI.bL.aFr=aZ.getAttribute('width_percent');bI.bL.aHA=aZ.getAttribute('formUser');bI.bL.aIv=aZ.getAttribute('created');bI.bL.aFQ=aZ.getAttribute('modified');bI.bL.aEU=aZ.getAttribute('saveDate');bI.bL.aGr=aZ.getAttribute('saveTime');bI.bL.hl=aZ.getAttribute('meta');var xk=aZ.firstChild;while((xk)&&(xk.nodeType!==4)){xk=xk.nextSibling;}if((xk)&&(xk.nodeType===4)){bI.cI.push(xk.data);}else{bI.cI.push('');}var mY=parseInt(aZ.getAttribute('interactionMode'))||IPCC.Web.UI.MarkInteractionMode.Full;bI.set_interactionMode(mY);bI.lF(this);bI.add_propertyChanged(ni);bI.add_markTextSelectionChanged(AS);bI.xI(Qc);bI.wJ(Ph);bI.sh(PP);KA.push(bI);arG(aZ,bI);sj=IPCC.J.akA(aZ.getAttribute('created'));sP=IPCC.J.akA(aZ.getAttribute('modified'));sj=sj||new Date();sP=sP||new Date();bI.initializeDates(sj,sP);if(tC){bI.set_visible(false);}}}}bz=bz.concat(KA);F.bB('marksLoaded',{});}if(mA){atx(jJ,aM);break;}}}}};this.XT=function(uO,bI){var R,kQ,ot,pV,JH,um,mO=[],xP=bI.get_type()===IPCC.Web.UI.MarkType.SignatureText,arN=xP?IPCC.Web.UI.HorizontalAlignment.Center:IPCC.Web.UI.HorizontalAlignment.Left,jt;while((uO)&&(uO.nodeType!==4)){uO=uO.nextSibling;}if((uO)&&(uO.nodeType===4)){kQ=uO.innerText||uO.textContent||uO.data;bI.bL.ak=kQ;ot=kQ.split("</TEXTFORMAT>");for(R=0;R<ot.length;R++){if(ot[R].match(/<TEXTFORMAT/)){ot[R]=ot[R]+"</TEXTFORMAT>";mO.push(ot[R]);}}pV='';JH=[];for(R=0;R<mO.length;R++){if(mO[R].match(/<P/)){um=this.acN(mO[R]);JH.push(um);pV+=um+" ";if(R===0){jt=this.acY(mO[R]);adN(jt,bI);}}pV=pV.replace(/\s+$/g,"");bI.set_text(pV);var IE=this.adk(mO[R]);switch(IE){case 'LEFT':bI.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Left);break;case 'CENTER':bI.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);break;case 'RIGHT':bI.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Right);break;default:bI.set_textHorizontalAlignment(arN);break;}}}};function UQ(aeR,dp){for(var i=0;i<aeR.childNodes.length;i++){var abP=aeR.childNodes[i];if(abP.nodeName==='kvp'){var be=abP.getAttribute("key");var C=abP.getAttribute("value");dp.set_data(be,C);}}};function asK(OJ,dq){var cX=new IPCC.Web.UI.Comment(IPCC.J.ya(OJ.getAttribute("text")));cX.set_creationTime(OJ.getAttribute("created"));dq.addComment(cX);for(var i=0;i<OJ.childNodes.length;i++){var aiQ=OJ.childNodes[i];if(aiQ.nodeName==='data'){UQ(aiQ,cX.get_data());}}};function ata(ajJ,dq){for(var i=0;i<ajJ.childNodes.length;i++){var Pp=ajJ.childNodes[i];if(Pp.nodeName==='comments'){var hi=Pp;for(var j=0;j<hi.childNodes.length;j++){var ain=hi.childNodes[j];if(ain.nodeName==='comment'){asK(ain,dq);}}}else if(Pp.nodeName==='data'){UQ(Pp,dq.get_data());}}};function arG(Hz,h){for(var i=0;i<Hz.childNodes.length;i++){var tK=Hz.childNodes[i];if(tK.nodeName==='conversation'){ata(tK,h.get_conversation());}else if(tK.nodeName==='data'){UQ(tK,h.get_data());}}};function arq(Hz,h){var C=null,GD={};for(var i=0;i<Hz.childNodes.length;i++){var tK=Hz.childNodes[i];if(tK.nodeName==='inputMask'){C=IPCC.J.ya(tK.getAttribute('value'));for(var j=0;j<tK.childNodes.length;j++){var Zi=tK.childNodes[j];if(Zi.nodeName==='translation'){GD[IPCC.J.ya(Zi.getAttribute('key'))]=new RegExp(IPCC.J.ya(Zi.getAttribute('value').replace(/(^\/|\/$)/g,'')));}}break;}}if(C!==null){h.set_mask({value:C,translations:GD});}};function Ve(rU,vo){var hz=null,jv;for(var i=0;i<rU.childNodes.length;i++){jv=rU.childNodes[i];if(jv.nodeName==='line-rectangles'){if(!hz){hz=axu(jv,vo);}else{throw new Error("An XML annotation node cannot have more than one line-rectangles child node.");}}}return hz;};function axu(rU,vo){var hz=[],jv;for(var i=0;i<rU.childNodes.length;i++){jv=rU.childNodes[i];if(jv.nodeName==='rectangle'){hz.push(awz(jv,vo));}}return hz;};function awz(rU,vo){var aa=parseFloat(rU.getAttribute("x"))*vo;var bZ=parseFloat(rU.getAttribute("y"))*vo;var bg=parseFloat(rU.getAttribute("width"))*vo;var aw=parseFloat(rU.getAttribute("height"))*vo;return new IPCC.Web.UI.Rectangle(aa,bZ,bg,aw);};this.abv=function(bG,Ko,uD,iF,dk,an){var bI=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);bI.set_rectangle({x:bG.x,y:bG.y,width:bG.width,height:bG.height});bI.set_fillColor(uD);bI.set_fillVisible(true);bI.as=an;bI.cR=1;if(dk){bI.set_opacity(dk);}else{bI.set_opacity(127);}F.addMark(bI);return bI;};this.arJ=function(bG,Rm,an){var bI=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);bI.set_rectangle({x:bG.x,y:bG.y,width:bG.width,height:bG.height});bI.set_fillColor(Rm.get_fillColor());bI.set_fillVisible(true);bI.as=an;bI.cR=1;if(Rm.get_opacity()){bI.set_opacity(Rm.get_opacity());}else{bI.set_opacity(127);}F.addMark(bI);return bI;};function adN(jt,bI){for(var du=0;du<jt.length;du++){var bW=jt[du].attribs;var mA=false;if(jt[du].attribs.length>1&& !mA&&jt[du].Gy==='font'){mA=true;for(var bM=0;bM<bW.length;bM++){if(bW[bM].al==="FACE"){bI.set_fontName(bW[bM].C);}else if(bW[bM].al==="SIZE"&&bI.get_type()!==IPCC.Web.UI.MarkType.TextLine&&bI.get_type()!==IPCC.Web.UI.MarkType.TextAreaSignature){var rr=parseFloat(bW[bM].C);bI.set_fontSize(rr);}else if(bW[bM].al==="COLOR"){var aiv=bW[bM].C;if(bI.get_type()===IPCC.Web.UI.MarkType.SignatureText){bI.set_fillColor(aiv);}else{bI.set_textColor(aiv);}}}var kt=false;if(jt[du+1]&&bI.get_type()!==IPCC.Web.UI.MarkType.TextLine){if(jt[du+1].tagName==='font'){break;}else{var wM=jt[du+1].Gy;if(wM==='b'||wM==='i'||wM==='u'||wM==='s'){if(wM==='b'){bI.set_fontStyle(IPCC.Web.UI.FontStyle.Bold);}else if(wM==='i'){bI.set_fontStyle(IPCC.Web.UI.FontStyle.Italic);}else if(wM==='u'){bI.set_fontStyle(IPCC.Web.UI.FontStyle.Underline);}else if(wM==='s'){bI.set_fontStyle(IPCC.Web.UI.FontStyle.Strikeout);}kt=true;}}if(jt[du+2]){var aro=jt[du+2].Gy;kt=WL(bI,kt,aro);}if(jt[du+3]){var apw=jt[du+3].Gy;kt=WL(bI,kt,apw);}if(jt[du+4]){var apD=jt[du+4].Gy;kt=WL(bI,kt,apD);}if(mA){break;}}}}};function WL(h,afY,vG){var kt=afY;var bI=h;if(afY){if(vG==='b'){bI.set_fontStyle(bI.get_fontStyle()|IPCC.Web.UI.FontStyle.Bold);kt=true;}else if(vG==='i'){bI.set_fontStyle(bI.get_fontStyle()|IPCC.Web.UI.FontStyle.Italic);kt=true;}else if(vG==='u'){bI.set_fontStyle(bI.get_fontStyle()|IPCC.Web.UI.FontStyle.Underline);kt=true;}else if(vG==='s'){bI.set_fontStyle(bI.get_fontStyle()|IPCC.Web.UI.FontStyle.Strikeout);kt=true;}}else{if(vG==='b'){bI.set_fontStyle(IPCC.Web.UI.FontStyle.Bold);kt=true;}else if(vG==='i'){bI.set_fontStyle(IPCC.Web.UI.FontStyle.Italic);kt=true;}else if(vG==='u'){bI.set_fontStyle(IPCC.Web.UI.FontStyle.Underline);kt=true;}else if(vG==='s'){bI.set_fontStyle(IPCC.Web.UI.FontStyle.Strikeout);kt=true;}}return kt;};function Cq(str){var obj={},items=str.split(",");for(var i=0;i<items.length;i++){obj[items[i]]=true;}return obj;};var aeg=/^<([\-A-Za-z0-9_]+)((?:\s+\w+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,aiW=/^<\/([\-A-Za\-z0-9_]+)[^>]*>/,axK=/([\-A-Za\-z0-9_]+)(?:\s*=\s*(?:(?:"((?:\\[\w\W]|[^"])*)")|(?:'((?:\\[\w\W]|[^'])*)')|([^>\s]+)))?/g;var apO=Cq("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed");var nM=Cq("address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul");var aBU=Cq("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var");var awV=Cq("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr");var asw=Cq("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected");var aqS=Cq("script,style");this.aeX=function(html,handler){var an,xv,tU,lN=[],lB=html;function parseEndTag(tag,tagName){var ho;if(!tagName){ho=0;}else{for(ho=lN.length-1;ho>=0;ho--){if(lN[ho]===tagName){break;}}}if(ho>=0){for(var i=lN.length-1;i>=ho;i--){if(handler.end){handler.end(lN[i]);}}lN.length=ho;}};function parseStartTag(tag,tagName,rest,unary){tagName=tagName.toLowerCase();if(nM[tagName]){while(lN.last()&&aBU[lN.last()]){parseEndTag("",lN.last());}}if(awV[tagName]&&lN.last()===tagName){parseEndTag("",tagName);}unary=apO[tagName]|| ! !unary;if(!unary){lN.push(tagName);}if(handler.start){var attrs=[];rest.replace(axK,function(tU,name){var value=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:asw[name]?name:"";attrs.push({name:name,value:value,escaped:value.replace(/(^|[^\\])"/g,'$1\\\"')});});if(handler.start){handler.start(tagName,attrs,unary);}}};lN.last=function(){return this[this.length-1];};function awC(all,text){text=text.replace(/<!--([\w\W]*?)-->/g,"$1").replace(/<!\[CDATA\[([\w\W]*?)\]\]\]>/g,"$1");if(handler.chars){handler.chars(text);}return "";};while(html){xv=true;if(!lN.last()|| !aqS[lN.last()]){if(html.indexOf("<!--")===0){an=html.indexOf("-->");if(an>=0){if(handler.comment){handler.comment(html.substring(4,an));}html=html.substring(an+3);xv=false;}}else if(html.indexOf("</")===0){tU=html.match(aiW);if(tU){html=html.substring(tU[0].length);tU[0].replace(aiW,parseEndTag);xv=false;}}else if(html.indexOf("<")===0){tU=html.match(aeg);if(tU){html=html.substring(tU[0].length);tU[0].replace(aeg,parseStartTag);xv=false;}}if(xv){an=html.indexOf("<");var text=an<0?html:html.substring(0,an);text=IPCC.J.ya(text);html=an<0?"":html.substring(an);if(handler.chars){handler.chars(text);}}}else{html=html.replace(new RegExp("(.*)<\/"+lN.last()+"[^>]*>"),awC);parseEndTag("",lN.last());}if(html===lB){throw " Parse Error in annotation Html Text: "+html;}lB=html;}parseEndTag();};this.acN=function(html){var results="";this.aeX(html,{start:function(){},end:function(){},chars:function(text){results+=text;},comment:function(){}});return results;};this.acY=function(html){var ey=[];this.aeX(html,{start:function(tag,attrs){var eK;eK=tag;if(tag==='font'||tag==='b'||tag==='i'||tag==='u'||tag==='s'){var wl={};wl.Gy=tag;wl.attribs=[];if(tag==='b'){wl.aFe=true;}else if(tag==='i'){wl.aFZ=true;}else if(tag==='u'){wl.aFq=true;}else if(tag==='s'){wl.aFw=true;}else{for(var i=0;i<attrs.length;i++){var xB={};xB.al=attrs[i].name;xB.C=attrs[i].value;wl.attribs.push(xB);}}ey.push(wl);}},end:function(){},chars:function(){},comment:function(){}});return ey;};this.adk=function(html){var parts=html.toUpperCase().split('ALIGN="');var alignment=parts[1].split('"')[0];return alignment;};function atx(jJ,azp){var lh=jJ.getElementsByTagName("highlights")[0];if(lh.hasChildNodes()){var ks;var cr;for(var R=0;R<lh.childNodes.length;R++){ks=lh.childNodes[R];if(ks.nodeType===1){cr=ks.getAttribute('page');if(cr&&parseInt(cr,10)===azp+1){var iW=new IPCC.Web.UI.Zj();iW.aEC=ks.nodeName;switch(iW.aEC){case 'tag':iW.IR=IPCC.Web.UI.HighLightType.Tag;break;case 'highlight':iW.IR=IPCC.Web.UI.HighLightType.InlineHighLight;break;case 'link':iW.IR=IPCC.Web.UI.HighLightType.Link;break;case 'redaction':iW.IR=IPCC.Web.UI.HighLightType.Redaction;break;case 'strikethrough':iW.IR=IPCC.Web.UI.HighLightType.Strikethrough;break;default:iW.IR=undefined;}if(ks.childNodes[0].data){iW.cI.push(ks.childNodes[0].data);}iW.bL.cc=ks.getAttribute('id');iW.bL.aHd=ks.getAttribute('userid');iW.bL.aES=ks.getAttribute('mode');iW.bL.cD=ks.getAttribute('color');iW.bL.aFN=ks.getAttribute('occurence');iW.bL.aZ=ks.getAttribute('annotation');iW.bL.aC=ks.getAttribute('page');iW.bL.aGY=ks.getAttribute('documentname');iW.bL.aGV=ks.getAttribute('tooltip');iW.bL.aHS=ks.getAttribute('allowdelete');iW.bL.jg=ks.getAttribute('start');iW.bL.aGf=ks.getAttribute('end');F.aEG.push(iW);}}}}};this.Vk=function(){var V;if(bz.length<1){return;}fw.removeAllMarks();var R;for(R=bz.length-1;R>=0;R--){bz[R].remove_propertyChanged(ni);bz[R].remove_markTextSelectionChanged(AS);bz[R].lF(null);V=new IPCC.Web.UI.MarkEventArgs();V.length=bz.length;V.zIndex=0;V.mark=bz.pop();F.bB('markRemoved',V);}V=new IPCC.Web.UI.MarkEventArgs();V.length=bz.length;V.zIndex=0;F.bB('markRemoved',V);};this.ue=function(h){var lx=this.oW(h);var tO=h.aY;if(lx>=0){h.remove_propertyChanged(ni);h.remove_markTextSelectionChanged(AS);h.lF(null);bz.splice(lx,1);fw.removeMark(h);var V=new IPCC.Web.UI.MarkEventArgs();V.mark=h;V.zIndex=lx;V.length=1;F.bB('markRemoved',V);if(tO){this.asY(tO);}}};this.aHJ=function(pM){var tm=bz.length;var tO=pM.aY;while(tm--){var h=bz[tm];if(h.aY===tO){h.set_fillColor(pM.get_fillColor());}}};this.aow=function(pM){var tm=bz.length;var tO=pM.aY;if(!tO){pM.set_text(pM.get_text());return;}while(tm--){var h=bz[tm];if(h.aY===tO){if(h.get_text()!==pM.get_text()){h.set_text(pM.get_text());}if(h.get_fontName()!==pM.get_fontName()){h.set_fontName(pM.get_fontName());}if(h.get_fontSize()!==pM.get_fontSize()){h.set_fontSize(pM.get_fontSize());}}}};this.asY=function(tO){var tm=bz.length;while(tm--){var h=bz[tm];if(h.aY===tO){var lx=this.oW(h);fw.removeMark(h);bz.splice(tm,1);var V=new IPCC.Web.UI.MarkEventArgs();V.mark=h;V.zIndex=lx;V.length=1;}}};this.acx=function(h,lx){var LH=this.oW(h);if(LH<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot reorder a Mark unless it is currently associated with the ArtPage.');}if(LH===lx){return;}akv(lx);bz.splice(LH,1);bz.splice(lx,0,h);if(h.get_type()===IPCC.Web.UI.MarkType.Highlight||h.get_type()===IPCC.Web.UI.MarkType.HighlightText||h.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||h.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink||h.get_type()===IPCC.Web.UI.MarkType.Strikethrough||(h.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&h.aY!==undefined)){return;}var V=new IPCC.Web.UI.MarkEventArgs();V.mark=h;V.zIndex=lx;V.oldZIndex=LH;V.length=1;F.bB('markReordered',V);};function Wn(hz,eu,eW){if(!hz){return undefined;}var hN={fF:'line-rectangles',cI:[],bL:{}};IPCC.J.forEach(hz,function(K){hN.cI.push({fF:'rectangle',cI:[],bL:{x:K.x,y:K.y,height:K.height,width:K.width}});});return hN;};function axc(jA){if(!jA){return undefined;}var hN={fF:'inputMask',cI:[],bL:{value:IPCC.J.oP(jA.value)}};IPCC.J.forEach(jA.translations,function(C,be){hN.cI.push({fF:'translation',cI:[],bL:{key:IPCC.J.oP(be),value:IPCC.J.oP(C.toString())}});});return hN;};function UV(dp){if(!dp){return undefined;}var ob=dp.get_dataKeys();if(ob.length===0){return undefined;}var hN={fF:'data',cI:[],bL:{}};IPCC.J.forEach(ob,function(be){var C=dp.get_data(be);hN.cI.push({fF:'kvp',cI:[],bL:{key:be,value:C}});});return hN;};function aDg(cX){if(!cX){return undefined;}var xK={fF:'comment',cI:[],bL:{}};xK.bL.text=IPCC.J.oP(cX.get_text());xK.bL.created=cX.get_creationTime();var hN=UV(cX.get_data());if(hN){xK.cI.push(hN);}return xK;};function aEh(dq){if(!dq||dq.get_length()===0){return undefined;}var SR={fF:'conversation',cI:[],bL:{}};var afz={fF:'comments',cI:[],bL:{}};SR.cI.push(afz);dq.forEach(function(cX){var xK=aDg(cX);if(xK){afz.cI.push(xK);}});var hN=UV(dq.get_data());if(hN){SR.cI.push(hN);}return SR;};this.awZ=function(h,eu,eW,wP){var aN=h.get_type();var jO=false;var ju;var hJ;var ahc;var Yv;var fS,rA,qp,ak;var bk={fF:'annotation',cI:[],bL:{}};if(!h.bL.hW){bk.bL.nodeId=F.awG();}else{bk.bL.nodeId=h.bL.hW;}var Jz,BL="",op="";if(h.get_lineColor()){var VK=h.get_lineColor();if(VK==='transparent'){bk.bL.lineColor=VK;}else{Jz=VK.replace(/#/,"");BL=parseInt(Jz,16);op=BL.toString();bk.bL.lineColor=op;}}bk.bL.interactionMode=h.get_interactionMode();bk.bL.stampSize='122';var NQ={};NQ[IPCC.Web.UI.MarkType.Stamp]=true;NQ[IPCC.Web.UI.MarkType.ImageStampAnnotation]=true;NQ[IPCC.Web.UI.MarkType.ImageStampRedaction]=true;if((aN===IPCC.Web.UI.MarkType.Rectangle&&h.get_opacity()<255|| !h.iy())&&NQ[aN]!==true){bk.bL.opacity=h.get_opacity();}if(h.get_conversation().get_length()>0){bk.cI.push(aEh(h.get_conversation()));}var hN=UV(h.get_data());if(hN){bk.cI.push(hN);}jO=false;switch(aN){case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.Ellipse:hJ=h.get_fillColor();if(hJ==='transparent'){bk.bL.fillColor=hJ;}else if(hJ){ju=hJ.replace(/#/,"");bk.bL.fillColor=parseInt(ju,16).toString();}else{bk.bL.fillColor=op;}if(h.get_fillVisible()){if(h.get_type()===IPCC.Web.UI.MarkType.Rectangle){if(h.get_opacity()===255){if(h.iy()===true){bk.bL.drawType='rectangle_filled_redact';if(h.aY){bk.bL.highlightGroupID=h.aY;}}else{bk.bL.drawType='rectangle_filled';}}else{if(h.iy()===true){bk.bL.drawType='rectangle_trans_redact';}else{bk.bL.drawType='rectangle_trans';}}}else{if(h.get_opacity()===255){bk.bL.drawType='circle_filled';if(h.iy()){bk.bL.drawType='circle_filled_redact';}}else{bk.bL.drawType='circle_trans';if(h.iy()){bk.bL.drawType='circle_trans_redact';}}}}else{if(h.get_type()===IPCC.Web.UI.MarkType.Rectangle){bk.bL.drawType='rectangle';bk.bL.fillColor=op;}else{bk.bL.drawType='circle';bk.bL.fillColor=op;}}bk.bL.dragDirection='br';var K=h.get_rectangle();bk.bL.x=K.x;bk.bL.y=K.y;bk.bL.x_percent=K.x/eu;bk.bL.y_percent=K.y/eW;bk.bL.height_percent=K.height/eW;bk.bL.width_percent=K.width/eu;bk.bL.height=K.height;bk.bL.width=K.width;break;case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:bk.bL.lineWidth=h.get_lineWidth();jO=true;break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:bk.bL.highlightGroupID=h.aY;bk.bL.drawType='text_selection_redaction';if(h.cN&&h.cN.length>0){bk.bL.startIndex=h.as;bk.bL.selectedText=h.cN;bk.bL.textLength=h.cR;}break;case IPCC.Web.UI.MarkType.Text:var lk=h.get_rectangle();bk.bL.x=lk.x;bk.bL.y=lk.y;bk.bL.x_percent=lk.x/eu;bk.bL.y_percent=lk.y/eW;bk.bL.height_percent=lk.height/eW;bk.bL.width_percent=lk.width/eu;bk.bL.height=lk.height;bk.bL.width=lk.width;bk.bL.maxLength=h.get_maxLength();hJ=h.get_fillColor();if(h.iy()===true){bk.bL.drawType='text_redact';}else{bk.bL.drawType='text';bk.bL.opacity=h.get_opacity();}if(hJ==='transparent'){bk.bL.fillColor=hJ;}else if(hJ){ju=hJ.replace(/#/,"");bk.bL.fillColor=parseInt(ju,16).toString();}else{bk.bL.fillColor='16776960';}var aI='';aI="<TEXTFORMAT LEADING=\"2\">";switch(h.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:aI+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:aI+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:aI+="<P ALIGN=\"right\" ";break;}aI+=">";aI+="<FONT ";rA=h.get_fontName();aI+="FACE="+"\""+rA+"\" ";qp=h.get_fontSize().toString();aI+="SIZE= \""+qp+"\" ";fS="\""+h.get_textColor()+"\" ";aI+="COLOR="+fS+" ";aI+="LETTERSPACING=\"0\" ";aI+="KERNING=\"0\" ";aI+=">";var cE=h.get_fontStyle();if(cE&IPCC.Web.UI.FontStyle.Bold){aI+="<B>";}if(cE&IPCC.Web.UI.FontStyle.Italic){aI+="<I>";}if(cE&IPCC.Web.UI.FontStyle.Underline){aI+="<U>";}if(cE&IPCC.Web.UI.FontStyle.Strikeout){aI+="<S>";}ak=h.get_text();ak=IPCC.J.oP(ak);aI+=ak;if(cE&IPCC.Web.UI.FontStyle.Strikeout){aI+="</S>";}if(cE&IPCC.Web.UI.FontStyle.Underline){aI+="</U>";}if(cE&IPCC.Web.UI.FontStyle.Italic){aI+="</I>";}if(cE&IPCC.Web.UI.FontStyle.Bold){aI+="</B>";}aI+="</FONT>";aI+="</P>";aI+="</TEXTFORMAT>";break;case IPCC.Web.UI.MarkType.Highlight:K=h.get_rectangle();bk.bL.x=K.x;bk.bL.y=K.y;bk.bL.x_percent=K.x/eu;bk.bL.y_percent=K.y/eW;bk.bL.height_percent=K.height/eW;bk.bL.width_percent=K.width/eu;bk.bL.height=K.height;bk.bL.width=K.width;bk.bL.drawType='highlight';bk.bL.highlightGroupID=h.aY;bk.bL.isHighlight=h.iS;hJ=h.get_fillColor();if(hJ){ju=hJ.replace(/#/,"");bk.bL.fillColor=parseInt(ju,16).toString();bk.bL.lineColor=parseInt(ju,16).toString();}else{bk.bL.fillColor=op;}break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:K=h.get_rectangle();bk.bL.x=K.x;bk.bL.y=K.y;bk.bL.height=K.height;bk.bL.width=K.width;bk.bL.drawType='text_hyperlink_annotation';bk.bL.href=IPCC.J.oP(h.kK);bk.bL.startIndex=h.as;bk.bL.selectedText=h.cN;bk.bL.textLength=h.cR;bk.bL.highlightGroupID=h.aY;bk.bL.isHighlight=h.iS;hJ=h.get_fillColor();if(hJ){ju=hJ.replace(/#/,"");bk.bL.fillColor=parseInt(ju,16).toString();bk.bL.lineColor=parseInt(ju,16).toString();}else{bk.bL.fillColor=op;}bk.cI.push(Wn(h.bj,eu,eW));break;case IPCC.Web.UI.MarkType.HighlightText:K=h.get_rectangle();bk.bL.x=K.x;bk.bL.y=K.y;bk.bL.x_percent=K.x/eu;bk.bL.y_percent=K.y/eW;bk.bL.height_percent=K.height/eW;bk.bL.width_percent=K.width/eu;bk.bL.height=K.height;bk.bL.width=K.width;bk.bL.drawType='highlightText';bk.bL.startIndex=h.as;bk.bL.selectedText=h.cN;bk.bL.textLength=h.cR;bk.bL.highlightGroupID=h.aY;bk.bL.isHighlight=h.iS;hJ=h.get_fillColor();if(hJ){ju=hJ.replace(/#/,"");bk.bL.fillColor=parseInt(ju,16).toString();bk.bL.lineColor=parseInt(ju,16).toString();}else{bk.bL.fillColor=op;}bk.cI.push(Wn(h.bj,eu,eW));break;case IPCC.Web.UI.MarkType.RectangleRedaction:K=h.get_rectangle();bk.bL.drawType='rectangle_filled_redact';bk.bL.x=K.x;bk.bL.y=K.y;bk.bL.x_percent=K.x/eu;bk.bL.y_percent=K.y/eW;bk.bL.height_percent=K.height/eW;bk.bL.width_percent=K.width/eu;bk.bL.height=K.height;bk.bL.width=K.width;bk.bL.meta=IPCC.J.oP(h.get_text());bk.bL.stampSize=h.get_fontSize();bk.bL.lineWidth=h.get_lineWidth();hJ=h.get_fillColor();if(hJ){ju=hJ.replace(/#/,"");bk.bL.fillColor=parseInt(ju,16).toString();}else{bk.bL.fillColor=op;}Jz=h.get_lineColor();if(Jz){BL=Jz.replace(/#/,"");bk.bL.lineColor=parseInt(BL,16).toString();}else{bk.bL.lineColor=op;}Yv=h.get_textColor();if(Yv){ahc=Yv.replace(/#/,"");bk.bL.fontColor=parseInt(ahc,16).toString();}else{bk.bL.fontColor=op;}if(h.aY){bk.bL.highlightGroupID=h.aY;}break;case IPCC.Web.UI.MarkType.Stamp:hJ=h.get_fillColor();if(hJ){ju=hJ.replace(/#/,"");bk.bL.fillColor=parseInt(ju,16).toString();bk.bL.lineColor=parseInt(ju,16).toString();}else{bk.bL.fillColor=op;}K=h.get_rectangle();bk.bL.x=K.x;bk.bL.y=K.y;bk.bL.x_percent=K.x/eu;bk.bL.y_percent=K.y/eW;bk.bL.height_percent=K.height/eW;bk.bL.width_percent=K.width/eu;bk.bL.height=K.height;bk.bL.width=K.width;if(h.iy()===true){bk.bL.drawType='stamp_redact';}else{bk.bL.drawType='stamp';}ak=h.get_text();bk.bL.stampSize=h.stampSize;bk.cI.push('<![CDATA['+ak+']]>');break;case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.SignaturePath:if(h.get_type()===IPCC.Web.UI.MarkType.Freehand){bk.bL.drawType='freehand';}else{bk.bL.drawType='signature_path';switch(h.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:bk.bL.align='center';break;case IPCC.Web.UI.HorizontalAlignment.Left:bk.bL.align='left';break;case IPCC.Web.UI.HorizontalAlignment.Right:bk.bL.align='right';break;}}aI=h.get_pathString();bk.bL.pathWidth=h.get_pathWidth();bk.bL.pathHeight=h.get_pathHeight();K=h.get_rectangle();bk.bL.x=K.x;bk.bL.y=K.y;bk.bL.x_percent=K.x/eu;bk.bL.y_percent=K.y/eW;bk.bL.height_percent=K.height/eW;bk.bL.width_percent=K.width/eu;bk.bL.height=K.height;bk.bL.width=K.width;break;case IPCC.Web.UI.MarkType.SignatureText:hJ=h.get_fillColor();var cj;if(hJ){ju=hJ.replace(/#/,"");bk.bL.fillColor="";bk.bL.lineColor="";cj=parseInt(ju,16).toString();}else{bk.bL.fillColor="";cj=op;}K=h.get_rectangle();bk.bL.x=K.x;bk.bL.y=K.y;bk.bL.x_percent=K.x/eu;bk.bL.y_percent=K.y/eW;bk.bL.height_percent=K.height/eW;bk.bL.width_percent=K.width/eu;bk.bL.height=K.height;bk.bL.width=K.width;bk.bL.opacity=0;bk.bL.drawType='signature_text';bk.bL.stampSize=h.stampSize;bk.bL.fontWidth=h.yb;bk.bL.fontHeight=h.yw;aI='';aI="<TEXTFORMAT LEADING=\"2\">";switch(h.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:aI+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:aI+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:aI+="<P ALIGN=\"right\" ";break;}aI+=">";aI+="<FONT ";rA=h.get_fontName();aI+="FACE="+"\""+rA+"\" ";qp=h.stampSize.toString();aI+="SIZE= \""+qp+"\" ";fS="\""+h.get_fillColor()+"\" ";aI+="COLOR="+fS+" ";aI+="LETTERSPACING=\"0\" ";aI+="KERNING=\"0\" ";aI+=">";ak=IPCC.J.oP(h.get_text());aI+=ak;aI+="</FONT>";aI+="</P>";aI+="</TEXTFORMAT>";break;case IPCC.Web.UI.MarkType.TextAreaSignature:lk=h.get_rectangle();bk.bL.x=lk.x;bk.bL.y=lk.y;bk.bL.x_percent=lk.x/eu;bk.bL.y_percent=lk.y/eW;bk.bL.height_percent=lk.height/eW;bk.bL.width_percent=lk.width/eu;bk.bL.height=lk.height;bk.bL.width=lk.width;bk.bL.maxLength=h.gh;bk.bL.maxFontSize=h.jx;if(wP){bk.bL.drawType='text';}else{bk.bL.drawType='text_area_signature';}bk.bL.fillColor='transparent';aI='';aI="<TEXTFORMAT LEADING=\"2\">";switch(h.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:aI+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:aI+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:aI+="<P ALIGN=\"right\" ";break;}aI+=">";aI+="<FONT ";rA=h.get_fontName();aI+="FACE="+"\""+rA+"\" ";qp=h.dK.toString();aI+="SIZE= \""+qp+"\" ";fS="\""+h.get_textColor()+"\" ";aI+="COLOR="+fS+" ";aI+="LETTERSPACING=\"0\" ";aI+="KERNING=\"0\" ";aI+=">";cE=h.get_fontStyle();if(cE&IPCC.Web.UI.FontStyle.Bold){aI+="<B>";}if(cE&IPCC.Web.UI.FontStyle.Italic){aI+="<I>";}if(cE&IPCC.Web.UI.FontStyle.Underline){aI+="<U>";}if(cE&IPCC.Web.UI.FontStyle.Strikeout){aI+="<S>";}ak=h.get_text();ak=IPCC.J.oP(ak);aI+=ak;if(cE&IPCC.Web.UI.FontStyle.Strikeout){aI+="</S>";}if(cE&IPCC.Web.UI.FontStyle.Underline){aI+="</U>";}if(cE&IPCC.Web.UI.FontStyle.Italic){aI+="</I>";}if(cE&IPCC.Web.UI.FontStyle.Bold){aI+="</B>";}aI+="</FONT>";aI+="</P>";aI+="</TEXTFORMAT>";break;case IPCC.Web.UI.MarkType.TextLine:if(!wP){K=h.get_rectangle();bk.bL.x=K.x;bk.bL.y=K.y;bk.bL.x_percent=K.x/eu;bk.bL.y_percent=K.y/eW;bk.bL.height_percent=K.height/eW;bk.bL.maxLength=h.get_maxLength();bk.bL.width_percent=K.width/eu;bk.bL.height=K.height;bk.bL.width=K.width;bk.bL.opacity=0;bk.bL.drawType='text_input_signature';bk.bL.stampSize=h.stampSize;bk.bL.fontWidth=h.yb;bk.bL.fontHeight=h.yw;aI='';aI="<TEXTFORMAT LEADING=\"2\">";switch(h.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:aI+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:aI+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:aI+="<P ALIGN=\"right\" ";break;}aI+=">";aI+="<FONT ";rA=h.get_fontName();aI+="FACE="+"\""+rA+"\" ";qp=h.stampSize.toString();aI+="SIZE= \""+qp+"\" ";fS="\""+h.get_textColor()+"\" ";aI+="COLOR="+fS+" ";aI+="LETTERSPACING=\"0\" ";aI+="KERNING=\"0\" ";aI+=">";ak=IPCC.J.oP(h.get_text());aI+=ak;aI+="</FONT>";aI+="</P>";aI+="</TEXTFORMAT>";var afc=axc(h.get_mask());if(afc){bk.cI.push(afc);}}else{K=h.get_rectangle();var Cx=h.stampSize;var pr;if(!h.Fz|| !h.pr){var anU=IPCC.J.amE(h.get_text(),h.get_fontName(),K.width,K.height,{vx:"pre",dK:Cx+"px"});pr=anU;h.Fz=true;h.pr=pr;}else{pr=h.pr;}Cx=pr.fontSize;var gp=pr.width/K.width,dn=1.0,MIN_BUFFER=0.85;if(/mono/i.test(h.get_fontName())){MIN_BUFFER=0.75;}if(gp>MIN_BUFFER){dn=MIN_BUFFER*K.width/pr.width;Cx=Cx*dn;}var agD=K.width,atl=pr.height*dn,afZ=K.height-(K.height-atl)/2,afW=K.x,agY=K.y+(K.height-pr.height)/2+(pr.height*(1-dn));bk.bL.x=afW;bk.bL.y=agY;bk.bL.x_percent=afW/eu;bk.bL.y_percent=agY/eW;bk.bL.height_percent=afZ/eW;bk.bL.width_percent=agD/eu;bk.bL.height=afZ;bk.bL.width=agD;bk.bL.opacity=0;bk.bL.drawType='text_redact';aI='';aI="<TEXTFORMAT>";switch(h.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:aI+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:aI+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:aI+="<P ALIGN=\"right\" ";break;}aI+=">";aI+="<FONT ";rA=h.get_fontName();aI+="FACE="+"\""+rA+"\" ";if(h.arA){qp=(Cx/h.arA).toString();}else{qp=Cx.toString();}aI+="SIZE= \""+qp+"\" ";fS="\""+h.get_textColor()+"\" ";aI+="COLOR="+fS+" ";aI+="LETTERSPACING=\"0\" ";aI+="KERNING=\"0\" ";aI+=">";ak=IPCC.J.oP(h.get_text());aI+=ak;aI+="</FONT>";aI+="</P>";aI+="</TEXTFORMAT>";}break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:bk.bL.drawType=(aN===IPCC.Web.UI.MarkType.ImageStampRedaction)?'imagestamp_redact':'imagestamp';K=h.get_rectangle();bk.bL.x=K.x;bk.bL.y=K.y;bk.bL.height=K.height;bk.bL.width=K.width;bk.bL.lineWidth=h.get_lineWidth();bk.bL.x_percent=K.x/eu;bk.bL.y_percent=K.y/eW;bk.bL.height_percent=K.height/eW;bk.bL.width_percent=K.width/eu;bk.bL.imageStampId=h.pU;break;case IPCC.Web.UI.MarkType.Strikethrough:K=h.get_rectangle();bk.bL.x=K.x;bk.bL.y=K.y;bk.bL.height=K.height;bk.bL.width=K.width;bk.bL.drawType='strikethrough';bk.bL.startIndex=h.as;bk.bL.selectedText=h.cN;bk.bL.textLength=h.cR;bk.bL.highlightGroupID=h.aY;bk.bL.isHighlight=h.iS;bk.cI.push(Wn(h.bj,eu,eW));break;}if(jO){bk.bL.lineWidth=h.get_lineWidth();var bG=h.get_boundingRectangle();bk.bL.x=bG.x;bk.bL.y=bG.y;bk.bL.x_percent=bG.x/eu;bk.bL.y_percent=bG.y/eW;bk.bL.height_percent=bG.height/eW;bk.bL.width_percent=bG.width/eu;bk.bL.height=bG.height;bk.bL.width=bG.width;if(aN===IPCC.Web.UI.MarkType.Line){if(h.get_endHeadType()===IPCC.Web.UI.LineHeadType.None){bk.bL.drawType='line';}else{bk.bL.drawType='arrow';}}else{bk.bL.drawType='polyline';}bk.bL.lineWidth=h.get_lineWidth();var aX=h.get_points();if(aN===IPCC.Web.UI.MarkType.Line){if((aX.getPoint(0).x<aX.getPoint(1).x)&&(aX.getPoint(0).y>aX.getPoint(1).y)){bk.bL.dragDirection='tr';}else if((aX.getPoint(0).x>aX.getPoint(1).x)&&(aX.getPoint(0).y>aX.getPoint(1).y)){bk.bL.dragDirection='tl';}else if((aX.getPoint(0).x>aX.getPoint(1).x)&&(aX.getPoint(0).y<aX.getPoint(1).y)){bk.bL.dragDirection='bl';}else if((aX.getPoint(0).x<aX.getPoint(1).x)&&(aX.getPoint(0).y<aX.getPoint(1).y)){bk.bL.dragDirection='br';}else{bk.bL.dragDirection='br';}}else{var wo=[];var cv=aX.get_length(),aG;if(cv>1){for(var bM=0;bM<aX.get_length();bM++){aG=aX.getPoint(bM);wo.push({x:aG.x,y:aG.y});}aI=JSON.stringify(wo);}}if(BL){bk.bL.fillColor=BL;}else{bk.bL.fillColor="";}}else{bk.bL.lineWidth=h.get_lineWidth();bk.bL.dragDirection='br';}if(h.get_type()!==IPCC.Web.UI.MarkType.RectangleRedaction){bk.bL.meta='';}bk.bL.label='';var ei=new Date();bk.bL.saveDate=IPCC.J.arW(ei);bk.bL.saveTime=IPCC.J.asf(ei);bk.bL.uuid='';bk.bL.formUser='';bk.bL.created=IPCC.J.acI(h.get_dateCreated());bk.bL.modified=IPCC.J.acI(h.get_dateModified());if(h.get_type()===IPCC.Web.UI.MarkType.Text||h.get_type()===IPCC.Web.UI.MarkType.Freehand||h.get_type()===IPCC.Web.UI.MarkType.SignaturePath||h.get_type()===IPCC.Web.UI.MarkType.SignatureText||h.get_type()===IPCC.Web.UI.MarkType.Polyline||h.get_type()===IPCC.Web.UI.MarkType.TextAreaSignature||h.get_type()===IPCC.Web.UI.MarkType.TextLine){bk.cI.push('<![CDATA['+aI+']]>');}else{bk.cI.push('');}return bk;};this.aCI=function(aM,eu,eW,bA){var hV={fF:'documentAnnotations',cI:[],bL:{}};var da={fF:'pages',cI:[],bL:{}};hV.cI.push(da);var lh={fF:'highlights',cI:[],bL:{}};hV.cI.push(lh);var uu={},oB=[];var aC={fF:'page',cI:[],bL:{id:(aM+1).toString(),pageWidth:eu,pageHeight:eW}};da.cI.push(aC);bA=bA||{};var afi=(bA.includeAnnotations!==undefined)? ! !bA.includeAnnotations:true,aeY=(bA.includeRedactions!==undefined)? ! !bA.includeRedactions:true,afK=(bA.includeSignatures!==undefined)? ! !bA.includeSignatures:false,wP=(bA.wP!==undefined)? ! !bA.wP:false,ZA=(bA.El!==undefined)?bA.El:false,aqb= ! !wP,ahS=ZA?ZA:bz;for(var R=0;R<ahS.length;R++){var h=ahS[R];var aN=h.get_type();if(h.get_type()===IPCC.Web.UI.MarkType.Highlight){continue;}if(aqb&& !h.get_visible()){continue;}if(!ZA){if(afi===false&&aeY===false&&afK===false){break;}if(afi===false){if(aN===IPCC.Web.UI.MarkType.Rectangle||aN===IPCC.Web.UI.MarkType.Ellipse||aN===IPCC.Web.UI.MarkType.Line||aN===IPCC.Web.UI.MarkType.Text||aN===IPCC.Web.UI.MarkType.Stamp||aN===IPCC.Web.UI.MarkType.Highlight||aN===IPCC.Web.UI.MarkType.Strikethrough||aN===IPCC.Web.UI.MarkType.HighlightText||aN===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||aN===IPCC.Web.UI.MarkType.Freehand||aN===IPCC.Web.UI.MarkType.ImageStampAnnotation||aN===IPCC.Web.UI.MarkType.Polyline){if(h.iy()===false){continue;}}}if(aeY===false){if(h.iy()===true){continue;}if(aN===IPCC.Web.UI.MarkType.RectangleRedaction||aN===IPCC.Web.UI.MarkType.TextSelectionRedaction||aN===IPCC.Web.UI.MarkType.ImageStampRedaction){continue;}}if(afK===false){if(aN===IPCC.Web.UI.MarkType.SignaturePath||aN===IPCC.Web.UI.MarkType.SignatureText||aN===IPCC.Web.UI.MarkType.SignatureImage||aN===IPCC.Web.UI.MarkType.TextAreaSignature||aN===IPCC.Web.UI.MarkType.TextLine){continue;}}}switch(aN){case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:uu[h.pU]={fF:'stampImage',cI:[],bL:{imageStampId:h.pU,base64format:h.co()}};break;}aC.cI.push(this.awZ(h,eu,eW,wP));}for(var Gg in uu){if(uu.hasOwnProperty(Gg)){oB.push(uu[Gg]);}}return{hV:hV,oB:oB};};this.aAp=function(){var fg={m:[]};var R;for(R=0;R<bz.length;R++){fg.m.push(bz[R].azI());}F.bB('marksSaved',{});var adM="";adM=JSON.stringify(fg);return adM;};this.yH=function(H){aS.addHandler('markAdded',H);};this.Au=function(H){aS.removeHandler('markAdded',H);};this.IF=function(H){aS.addHandler('markChanged',H);};this.Hw=function(H){aS.removeHandler('markChanged',H);};this.xU=function(H){aS.addHandler('markRemoved',H);};this.zL=function(H){aS.removeHandler('markRemoved',H);};this.Fn=function(H){aS.addHandler('markReordered',H);};this.HL=function(H){aS.removeHandler('markReordered',H);};this.XH=function(H){aS.addHandler('marksLoaded',H);};this.Uo=function(H){aS.removeHandler('marksLoaded',H);};this.aHZ=function(H){aS.addHandler('marksSaved',H);};this.aFn=function(H){aS.removeHandler('marksSaved',H);};this.EZ=function(H){aS.addHandler('markSelectionChanged',H);};this.HG=function(H){aS.removeHandler('markSelectionChanged',H);};this.FM=function(H){aS.addHandler('markTextSelectionChanged',H);};this.GR=function(H){aS.removeHandler('markTextSelectionChanged',H);};this.xI=function(H){aS.addHandler('commentAdded',H);};this.Cd=function(H){aS.removeHandler('commentAdded',H);};this.wJ=function(H){aS.addHandler('commentRemoved',H);};this.BZ=function(H){aS.removeHandler('commentRemoved',H);};this.sh=function(H){aS.addHandler('commentChanged',H);};this.tX=function(H){aS.removeHandler('commentChanged',H);};this.lp=function(H){aS.addHandler('propertyChanged',H);};this.mF=function(H){aS.removeHandler('propertyChanged',H);};this.bB=function(dF,V){var H=aS.getHandler(dF);if(H!==null){H(this,V);}};this.di=function(cu){var H=aS.getHandler("propertyChanged");if(H){H(this,new IPCC.oD(cu));}};return this;};Po.prototype={get_markCount:function(){return this.Yf();},get_selectedMarks:function(){return this.Ak();},toString:function(){return 'ArtPage with '+this.get_markCount()+' marks';},addMark:function(mark,mouseLocation){this.PD(mark,mouseLocation);},forEachMark:function(method,context){this.Ct(method,context);},getMark:function(zIndex){return this.Qv(zIndex);},getZIndexOfMark:function(mark){return this.oW(mark);},loadFromJson:function(json){this.aGg(json);},removeAllMarks:function(){this.Vk();},removeMark:function(mark){this.ue(mark);},reorderMark:function(mark,zIndex){this.acx(mark,zIndex);},saveToJson:function(){return this.aAp();},add_markAdded:function(handler){this.yH(handler);},remove_markAdded:function(handler){this.Au(handler);},add_markChanged:function(handler){this.IF(handler);},remove_markChanged:function(handler){this.Hw(handler);},add_markRemoved:function(handler){this.xU(handler);},remove_markRemoved:function(handler){this.zL(handler);},add_markReordered:function(handler){this.Fn(handler);},remove_markReordered:function(handler){this.HL(handler);},add_marksLoaded:function(handler){this.XH(handler);},remove_marksLoaded:function(handler){this.Uo(handler);},add_markSelectionChanged:function(handler){this.EZ(handler);},remove_markSelectionChanged:function(handler){this.HG(handler);},add_markTextSelectionChanged:function(handler){this.FM(handler);},remove_markTextSelectionChanged:function(handler){this.GR(handler);},add_commentAdded:function(handler){this.xI(handler);},remove_commentAdded:function(handler){this.Cd(handler);},add_commentRemoved:function(handler){this.wJ(handler);},remove_commentRemoved:function(handler){this.BZ(handler);},add_commentChanged:function(handler){this.sh(handler);},remove_commentChanged:function(handler){this.tX(handler);}};Po.registerClass=dh;Po.registerClass('IPCC.Web.UI.ArtPage');module.exports=Po;},{"../../IPCC.Util":29}],67:[function(require,module,exports){var dA=require('../../IPCC.Util').regEnum;var PF=function(){};PF.registerEnum=dA;PF.prototype={Line:0,Triangle:1};PF.registerEnum('IPCC.Web.UI.CalloutType',false);module.exports=PF;},{"../../IPCC.Util":29}],68:[function(require,module,exports){var dh=require('../../IPCC.Util').regClass;var OO=function(text){var aS=new IPCC.Web.UI.hH();var dp=new IPCC.Web.UI.Data();this.aaj=IPCC.J.wG(new Date());this.ak=text;this.anH=function(ak){if(ak===this.ak){return;}this.ak=ak;var V=new IPCC.Web.UI.CommentEventArgs();V.comment=this;V.length=1;this.bB('commentChanged',V);};this.auc=function(){return this.ak;};this.apW=function(aBZ){this.aaj=aBZ;};this.auU=function(){return this.aaj;};this.sh=function(H){aS.addHandler('commentChanged',H);};this.tX=function(H){aS.removeHandler('commentChanged',H);};this.bB=function(dF,V){var H=aS.getHandler(dF);if(H!==null){H(this,V);}};this.xD=function(){return dp;};return this;};OO.prototype={toString:function(){return 'Comment('+this.creationTime+', '+this.text+')';},add_commentChanged:function(handler){this.sh(handler);},remove_commentChanged:function(handler){this.tX(handler);},get_text:function(){return this.auc();},set_text:function(text){this.anH(text);},get_creationTime:function(){return this.auU();},set_creationTime:function(isoTimeString){this.apW(isoTimeString);},get_data:function(){return this.xD();}};OO.registerClass=dh;OO.registerClass('IPCC.Web.UI.Comment');module.exports=OO;},{"../../IPCC.Util":29}],69:[function(require,module,exports){var dh=require('../../IPCC.Util').regClass;var Qk=function(){return this;};Qk.registerClass=dh;Qk.prototype={};Qk.registerClass('IPCC.Web.UI.CommentEventArgs');module.exports=Qk;},{"../../IPCC.Util":29}],70:[function(require,module,exports){var dh=require('../../IPCC.Util').regClass;var MK=function(ayJ){var hi=[];var aS=new IPCC.Web.UI.hH();var dp=new IPCC.Web.UI.Data();var h=ayJ;var F=this;function OC(aj,V){F.bB('commentChanged',V);};this.Fs=function(cX){cX.add_commentChanged(OC);hi.push(cX);var V=new IPCC.Web.UI.CommentEventArgs();V.comment=cX;V.length=1;V.index=hi.length-1;this.bB('commentAdded',V);};this.aCq=function(cX){var St= -1;IPCC.J.forEach(hi,function(el,idx){if(el===cX){St=idx;}});if(St=== -1){throw new IPCC.Web.UI.ImGearArgumentException('comment',"The provided comment was not found in the conversation.");}var afM=hi.splice(St,1)[0];afM.tX(OC);var V=new IPCC.Web.UI.CommentEventArgs();V.comment=afM;V.length=1;this.bB('commentRemoved',V);};this.jS=function(io,cl){var R;for(R=0;R<hi.length;R++){io.call(cl,hi[R],R,this);}};this.fq=function(){return hi.length;};this.xI=function(H){aS.addHandler('commentAdded',H);};this.Cd=function(H){aS.removeHandler('commentAdded',H);};this.sh=function(H){aS.addHandler('commentChanged',H);};this.tX=function(H){aS.removeHandler('commentChanged',H);};this.wJ=function(H){aS.addHandler('commentRemoved',H);};this.BZ=function(H){aS.removeHandler('commentRemoved',H);};this.xD=function(){return dp;};this.PZ=function(){return h;};this.bB=function(dF,V){var H=aS.getHandler(dF);if(H!==null){H(this,V);}};return this;};MK.prototype={toString:function(){return 'Conversation with '+this.get_length()+' comments';},addComment:function(comment){this.Fs(comment);},removeCommentInstance:function(comment){this.aCq(comment);},forEach:function(method,context){this.jS(method,context);},get_length:function(){return this.fq();},add_commentAdded:function(handler){this.xI(handler);},remove_commentAdded:function(handler){this.Cd(handler);},add_commentChanged:function(handler){this.sh(handler);},remove_commentChanged:function(handler){this.tX(handler);},add_commentRemoved:function(handler){this.wJ(handler);},remove_commentRemoved:function(handler){this.BZ(handler);},get_data:function(){return this.xD();},get_mark:function(){return this.PZ();}};MK.registerClass=dh;MK.registerClass('IPCC.Web.UI.Conversation');module.exports=MK;},{"../../IPCC.Util":29}],71:[function(require,module,exports){var dh=require('../../IPCC.Util').regClass;var Ry=function(){this.dp={};this.xD=function(key){if(typeof key==='undefined'){return IPCC.J.extend({},this.dp);}else if(typeof key==='string'){return this.dp[key];}else{throw new IPCC.Web.UI.ImGearArgumentException("key","The argument must be a string.");}};this.aqn=function(key,value){if(typeof key!=='string'){throw new IPCC.Web.UI.ImGearArgumentException("key","The argument must be a string.");}if(typeof value==='string'){this.dp[key]=value;}else if(typeof value==='undefined'){delete this.dp[key];}else{throw new IPCC.Web.UI.ImGearArgumentException("value","The argument must be a string.");}return this;};this.auE=function(){var keys=[];IPCC.J.forEach(this.dp,function(value,key){keys.push(key);});return keys;};return this;};Ry.prototype={toString:function(){return 'Data('+this.creationTime+', '+this.text+')';},get_data:function(key){return this.xD(key);},set_data:function(key,value){return this.aqn(key,value);},get_dataKeys:function(){return this.auE();}};Ry.registerClass=dh;Ry.registerClass('IPCC.Web.UI.Data');module.exports=Ry;},{"../../IPCC.Util":29}],72:[function(require,module,exports){var dA=require('./../../IPCC.Util').regEnum;var Rc=function(){};Rc.prototype={Production:0,Development:1,Detailed:2};Rc.registerEnum=dA;Rc.registerEnum('IPCC.Web.UI.DebugErrorLevel',false);module.exports=Rc;},{"./../../IPCC.Util":29}],73:[function(require,module,exports){var dA=require('./../../IPCC.Util').regEnum;var RO=function(){};RO.prototype={FunctionCall:0,Exception:1,Custom:2,UserAction:3,Warning:4};RO.registerEnum=dA;RO.registerEnum('IPCC.Web.UI.DebugItemCause',false);module.exports=RO;},{"./../../IPCC.Util":29}],74:[function(require,module,exports){var dh=require('./../../IPCC.Util').regClass;var au=function(arb){var bP=arb;var aib=this.type=bP.type.toLowerCase();var Lq=typeof bP.changedTouches!=='undefined';this.rawEvent=bP;this.altKey=bP.altKey;if(typeof(bP.button)!=='undefined'){this.button=(typeof(bP.which)!=='undefined')?bP.button:(bP.button===4)?IPCC.Web.UI.MouseButton.middleButton:(bP.button===2)?IPCC.Web.UI.MouseButton.rightButton:IPCC.Web.UI.MouseButton.leftButton;}if(aib==='keypress'){this.charCode=bP.charCode||bP.keyCode;}else if(bP.keyCode&&(bP.keyCode===46)){this.keyCode=127;}else{this.keyCode=bP.keyCode;}this.clientX=(Lq)?bP.changedTouches[0].clientX:bP.clientX;this.clientY=(Lq)?bP.changedTouches[0].clientY:bP.clientY;this.ctrlKey=bP.ctrlKey;this.target=bP.target?bP.target:bP.srcElement;function atO(aK){var aa=0;var bZ=0;while(aK&& !isNaN(aK.offsetLeft)&& !isNaN(aK.offsetTop)){aa+=aK.offsetLeft-aK.scrollLeft;bZ+=aK.offsetTop-aK.scrollTop;if(aK.offsetparent){aK=aK.offsetParent;}else{aK=aK.parentNode;}}return{top:bZ,left:aa};};var eU=""+aib;var Bv='key';if(eU.substr(0,Bv.length)!==Bv){if((typeof(bP.offsetX)!=='undefined')&&(typeof(bP.offsetY)!=='undefined')){this.offsetX=bP.offsetX;this.offsetY=bP.offsetY;}else if(this.target&&(this.target.nodeType!==3)&&(typeof(bP.clientX)==='number')){var JO=atO(this.target);var fi=this.target;var gy=fi.ownerDocument||fi.document||fi;var iP=gy.defaultView||gy.parentWindow;this.offsetX=(iP.pageXOffset||0)+bP.clientX-JO.left;this.offsetY=(iP.pageYOffset||0)+bP.clientY-JO.top;}}this.screenX=(Lq)?bP.changedTouches[0].screenX:bP.screenX;this.screenY=(Lq)?bP.changedTouches[0].screenY:bP.screenY;this.shiftKey=bP.shiftKey;};au.prototype={preventDefault:function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}if(this.rawEvent.preventDefault){this.rawEvent.preventDefault();}else if(window.event){this.rawEvent.returnValue=false;}},stopPropagation:function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}if(this.rawEvent.stopPropagation){this.rawEvent.stopPropagation();}else if(window.event){this.rawEvent.cancelBubble=true;}}};au.registerClass=dh;au.registerClass('IPCC.Web.UI.au');au.addHandler=function(element,eventName,handler,autoRemove){IPCC.Web.UI.au.Yd(element);if(eventName==="error"){throw new IPCC.Web.UI.ImGearInvalidOperationException(IPCC.kE.addHandlerCantBeUsedForError);}if(!element.aS){element.aS={};}var eventCache=element.aS[eventName];if(!eventCache){element.aS[eventName]=eventCache=[];}var browserHandler;if(element.addEventListener){browserHandler=function(e){return handler.call(element,new IPCC.Web.UI.au(e));};element.addEventListener(eventName,browserHandler,false);}else if(element.attachEvent){browserHandler=function(){var e={};try{var doc=element.ownerDocument||element.document||element;var fi=doc.defaultView||doc.parentWindow;e=fi.event;}catch(ex){}return handler.call(element,new IPCC.Web.UI.au(e));};element.attachEvent('on'+eventName,browserHandler);}eventCache[eventCache.length]={handler:handler,browserHandler:browserHandler,autoRemove:autoRemove};if(autoRemove){var d=element.dispose;if(d!==IPCC.Web.UI.au.adz){element.dispose=IPCC.Web.UI.au.adz;if(typeof(d)!=="undefined"){element.aiA=d;}}}};au.clearHandlers=function(element){IPCC.Web.UI.au.Yd(element);IPCC.Web.UI.au.aia(element,false);};au.aia=function(element,autoRemoving){if(element.aS){var cache=element.aS;for(var name in cache){if(cache.hasOwnProperty(name)){var handlers=cache[name];for(var i=handlers.length-1;i>=0;i--){var entry=handlers[i];if(!autoRemoving||entry.autoRemove){IPCC.Web.UI.au.removeHandler(element,name,entry.handler);}}}}element.aS=null;}};au.adz=function(){IPCC.Web.UI.au.aia(this,true);var d=this.aiA,type=typeof(d);if(type!=="undefined"){this.dispose=d;this.aiA=null;if(type==="function"){this.dispose();}}};au.removeHandler=function(element,eventName,handler){IPCC.Web.UI.au.cd(element,eventName,handler);};au.cd=function(element,eventName,handler){IPCC.Web.UI.au.Yd(element);var browserHandler=null;if((typeof(element.aS)!=='object')|| !element.aS){throw new IPCC.Web.UI.ImGearInvalidOperationException('DOM event handler was not added through the DomEvent.addHandler method.');}var cache=element.aS[eventName];if(!(cache instanceof Array)){throw new IPCC.Web.UI.ImGearInvalidOperationException('DOM event handler was not added through the DomEvent.addHandler method.');}for(var i=0,l=cache.length;i<l;i++){if(cache[i].handler===handler){browserHandler=cache[i].browserHandler;break;}}if(typeof(browserHandler)!=='function'){throw new IPCC.Web.UI.ImGearInvalidOperationException('Handler was not added through the IPCC.Web.UI.au.addHandler method.');}if(element.removeEventListener){element.removeEventListener(eventName,browserHandler,false);}else if(element.detachEvent){element.detachEvent('on'+eventName,browserHandler);}cache.splice(i,1);};au.Yd=function(element){if(element.tagName&&(element.tagName.toUpperCase()==="SCRIPT")){return;}var doc=element.ownerDocument||element.document||element;if((typeof(element.document)!=='object')&&(element!==doc)&&(typeof(element.nodeType)!=='number')){throw new IPCC.Web.UI.ImGearArgumentException("element",IPCC.kE.argumentDomNode);}};module.exports=au;},{"./../../IPCC.Util":29}],75:[function(require,module,exports){var dA=require('../../IPCC.Util').regEnum;var pm=function(){};pm.registerEnum=dA;pm.prototype={FullImage:0,FullWidth:1,FullHeight:2,ActualSize:3,OneToOne:4,Rectangle:5};pm.registerEnum('IPCC.Web.UI.FitType',false);module.exports=pm;},{"../../IPCC.Util":29}],76:[function(require,module,exports){var dA=require('../../IPCC.Util').regEnum;var Qo=function(){};Qo.registerEnum=dA;Qo.prototype={Regular:0,Bold:1,Italic:2,Underline:4,Strikeout:8};Qo.registerEnum('IPCC.Web.UI.FontStyle',true);module.exports=Qo;},{"../../IPCC.Util":29}],77:[function(require,module,exports){var dA=require('../../IPCC.Util').regEnum;var QT=function(){};QT.registerEnum=dA;QT.prototype={Tag:0,InlineHighLight:1,Link:2,Redaction:3,Strikethrough:4};QT.registerEnum('IPCC.Web.UI.HighLight',false);module.exports=QT;},{"../../IPCC.Util":29}],78:[function(require,module,exports){var dA=require('../../IPCC.Util').regEnum;var Rv=function(){};Rv.registerEnum=dA;Rv.prototype={Left:0,Center:16,Right:32};Rv.registerEnum('IPCC.Web.UI.HorizontalAlignment',false);module.exports=Rv;},{"../../IPCC.Util":29}],79:[function(require,module,exports){var dA=require('./../../IPCC.Util').regEnum;var RK=function(){};RK.registerEnum=dA;RK.prototype={None:0,ArtDataService:1};RK.registerEnum('IPCC.Web.UI.ImGearArtDataServices',false);module.exports=RK;},{"./../../IPCC.Util":29}],80:[function(require,module,exports){var dh=require('./../../IPCC.Util').regClass;var Dk=function(ad){var iq='';var gZ='';var F=this;this.da=new IPCC.Web.UI.ImGearPageCollection();this.QQ=undefined;this.da.bE=this;var KJ=false;this.rC=undefined;var eD=0;var Lh=IPCC.Web.UI.ImGearPageCountStatus.UnRequested;var aS=new IPCC.Web.UI.hH();this.jp=IPCC.Web.EU.aaW(4,IPCC.Web.Pj());this.qC=IPCC.Web.fV.Hy.md(this.jp);var yB=[];var mL=0;var mT=[];var Dm=[];var ht={startPage:0,lastPage:0,requestCount:0,stopRequests:false,lastTimeout:1000};var ZE=false;this.bB=function(dF,V){var H=aS.getHandler(dF);if(H!==null){try{H(F,V);}catch(e){IPCC.jf.Qr('raise event error in ImGearDocument, error: '+e.message);IPCC.jf.nv(e.message,IPCC.Web.UI.ImGearDocument,IPCC.Web.UI.DebugErrorLevel.Production,'ImGearDocument','');}}};function Vh(aj,V){if(V.length>0){F.bB('pageAdded',V);}};function Vr(aj,V){if(V.length>0){F.bB('pageRemoved',V);}};function Jr(aj,V){F.bB('pageChanged',V);};this.da.add_pageAdded(Vh);this.da.add_pageRemoved(Vr);this.da.add_pageChanged(Jr);function ayZ(){function avT(ir,iO){var dO=ir+'() threw an exception ';if(iO.name){dO+='( '+iO.name+" ";}else{dO+=".";}if(iO.message){dO+="  exception message = "+iO.message;}if(iO.statusCode){dO+="  exception statusCode = "+iO.statusCode;}dO=dO.replace(/\n/g," ");IPCC.jf.nv(dO,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production,'ImGearDocument',"document");};this.bp=avT;this.bB=function(dF,V){var H=aS.getHandler(dF);if(H!==null){H(F,V);}};};if(arguments.length===0){var dO="ImGearDocument object creation requires parameters";throw new IPCC.Web.UI.ImGearArgumentException('ImGearDocument',dO);}if(arguments.length>0){if(ad.documentIdentifier!==undefined){iq=ad.documentIdentifier;gZ=IPCC.gG.rI(iq);}if(ad.encodedDocumentIdentifier!==undefined){var wj=ad.encodedDocumentIdentifier;if(ad.documentIdentifier!==undefined){gZ=IPCC.gG.rI(iq);if(wj!==gZ){throw new IPCC.Web.UI.ImGearArgumentException('documentIdentifier','When both are specified, documentIdentifier and encodedImageIdentifier must reference the same document.');}}else{iq=IPCC.gG.Hq(ad.encodedDocumentIdentifier);}}if(ad.imageServicePath!==undefined){this.rC=ad.imageServicePath;}else{throw new IPCC.Web.UI.ImGearArgumentException('ImGearDocument','Document creation requires imageServicePath.');}var sp;if(ad.includeAllPages!==undefined){KJ=ad.includeAllPages;if(KJ===true){var aEu=new ayZ();var Ym=0;F.by=new IPCC.gG(gZ,0,0,0,0,0);var nS=function(){eD=F.by.eD;Lh=IPCC.Web.UI.ImGearPageCountStatus.Known;for(;Ym<eD;Ym++){var aca=new IPCC.Web.UI.ImGearPage({pageNumber:Ym,bE:F});aca.bE=F;F.da.addPage(aca);}};Lh=IPCC.Web.UI.ImGearPageCountStatus.RequestPending;try{this.by.SK(this.rC,aEu,nS);}catch(e){Lh=IPCC.Web.UI.ImGearPageCountStatus.Failed;var cG=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cG.exception=e;F.bB('pageOpenFailed',cG);throw e;}}}else if(ad.pages!==undefined){if(ad.pages.length>0){var R=0;for(R=0;R<ad.pages.length;R++){var ba=ad.pages[R];ba.document=this;this.da.addPage(ba);}}}else if(ad.pageNumber!==undefined){if(ad.pageRangeCount!==undefined){var qO=ad.pageRangeCount;if(qO>0){var bi;for(bi=ad.pageNumber;bi<=qO;bi++){sp=new IPCC.Web.UI.ImGearPage(bi);sp.bE=F;this.da.addPage(sp);}}else if(qO===0){sp=new IPCC.Web.UI.ImgearPage({pageNumber:ad.pageNumber,bE:F});sp.bE=F;F.da.addPage(sp);}}else{if(ad.selected){sp=new IPCC.Web.UI.ImGearPage({pageNumber:ad.pageNumber,bE:F,selected:true});}else{sp=new IPCC.Web.UI.ImGearPage({pageNumber:ad.pageNumber,bE:F});}sp.bE=F;F.da.addPage(sp);}}}this.Jc=function(){return iq;};this.Qh=function(){return gZ;};this.ajP=function(){return this.da;};this.ask=function(){return eD;};this.asT=function(){return Lh;};this.auD=function(){return KJ;};this.apU=function(C){KJ=C;this.di('includeAllPages');};var oH=false;this.jz=function(){return oH;};this.mv=function(C){oH=C;};this.Hd=function(H){aS.addHandler('pageAdded',H);};this.HY=function(H){aS.removeHandler('pageAdded',H);};this.Hm=function(H){aS.addHandler('pageRemoved',H);};this.HT=function(H){aS.removeHandler('pageRemoved',H);};this.GX=function(H){aS.addHandler('pageOpenFailed',H);};this.FH=function(H){aS.removeHandler('pageOpenFailed',H);};this.lp=function(H){aS.addHandler('propertyChanged',H);};this.mF=function(H){aS.removeHandler('propertyChanged',H);};this.Hc=function(H){aS.addHandler('pageChanged',H);};this.FI=function(H){aS.removeHandler('pageChanged',H);};this.di=function(cu){var H=aS.getHandler('propertyChanged');if(H){H(this,new IPCC.oD(cu));}};this.axb=function(H){aS.addHandler('textPagesReceived',H);};this.aCK=function(H){aS.removeHandler('textPagesReceived',H);};this.auu=function(){return Dm.length;};this.art=function(){return yB;};this.asV=function(){return yB.length;};this.auv=function(){return ht;};this.atp=function(){return ZE;};this.aGb=function(C){ZE=C;};this.axs=function(hB){if(ht.stopRequests===true){var V={};V.error=0;V.textPagesReceived=Qg(hB);if(V.textPagesReceived.length===0){if(mL>0&&mL<hB){for(var du=mL;du<hB;du++){V.textPagesReceived.push(du);}}}V.length=2;F.bB('textPagesReceived',V);return;}var jm=true;var Ii=false;for(var R=0;R<mL;R++){if(Array.prototype.indexOf){if(yB.indexOf(R)<0){jm=false;Ii=true;break;}}else{if(IPCC.Web.iM(yB,R)<0){Ii=true;break;}}}if(Ii){F.Nq(R,undefined,hB);}else if(mL<hB){for(var bM=0;bM<hB;bM++){if(Array.prototype.indexOf){if(mT.indexOf(bM)<0){jm=false;break;}}else{if(IPCC.Web.iM(mT,bM)<0){jm=false;break;}}}if(!jm){Ii=true;F.Nq(bM,undefined,hB);}else{F.Nq(mL,undefined,hB);}}else{Ii=false;}};function Qg(hB){var WV=[],du;if(mT.length>0){var jm=true;for(du=0;du<hB;du++){jm=true;if(Array.prototype.indexOf){if(mT.indexOf(du)<0){jm=false;}}else{if(IPCC.Web.iM(mT,du)<0){jm=false;}}if(!jm){mT.push(du);Dm.push(du);WV.push(du);}}}else{for(du=0;du<hB;du++){mT.push(du);Dm.push(du);WV.push(du);}}return WV;};this.Nq=function(adY,ajB,hB){ZE=true;var as;if(!isNaN(adY)){as=adY;}else{as=0;}var DA;if(!isNaN(hB)){DA=hB;}var cL;if(!isNaN(ajB)){cL=ajB;}else if(!isNaN(DA)){cL=DA-1;}else{DA=hB;if(!isNaN(DA)){cL=DA-1;}}if(isNaN(cL)){cL=as+1;}if(cL-as>9){cL=as+9;}function Pm(ak){var TS=mL;var ZL=[];var jm=true;var bD;for(var aC=0;aC<ak.pages.length;aC++){if(Array.prototype.indexOf){if(yB.indexOf(ak.pages[aC].number)<0){jm=false;}}else{if(IPCC.Web.iM(yB,ak.pages[aC].number)<0){jm=false;}}if(!jm){yB.push(ak.pages[aC].number);if(F.da.ic(ak.pages[aC].number).dg().vP()===false){bD=F.da.ic(ak.pages[aC].number);bD.aeK(ak.pages[aC]);bD.alk(ak.pages[aC]);bD.ajv(ak.pages[aC].markup,ak.pages[aC].height,ak.pages[aC].width);}mL++;ZL.push(ak.pages[aC].number);mT.push(ak.pages[aC].number);if(!ak.pages[aC].text){Dm.push(ak.pages[aC].number);}}}var V={};if(ak.hasOwnProperty("errorCode")){V.error=0;F.pageExtractionFailed=true;V.textPagesReceived=ZL;V.length=2;for(var zB=ht.startPage;zB<ht.lastPage+1;zB++){jm=true;if(Array.prototype.indexOf){if(mT.indexOf(zB)<0){jm=false;}}else{if(IPCC.Web.iM(mT,zB)<0){jm=false;}}if(!jm){mT.push(zB);Dm.push(zB);V.textPagesReceived.push(zB);}}F.bB('textPagesReceived',V);ht.stopRequests=true;return;}if(mL>TS){V.textPagesReceived=ZL;V.length=2;V.error=0;}var qa=ht.lastTimeout;if(ht.startPage===as&&ht.lastPage===cL&&mL===TS){if(ht.requestCount<25){qa=qa+1000;ht.requestCount++;}else{V.error=0;V.textPagesReceived=[];V.length=2;jm=true;var du;for(du=ht.startPage;du<ht.lastPage+1;du++){jm=true;if(Array.prototype.indexOf){if(mT.indexOf(du)<0){jm=false;}}else{if(IPCC.Web.iM(mT,du)<0){jm=false;}}if(!jm){mT.push(du);Dm.push(du);V.textPagesReceived.push(du);}}if(V.textPagesReceived.length===0){if(mL>0&&mL<hB){for(du=mL;du<hB;du++){V.textPagesReceived.push(du);}}}ht.stopRequests=true;F.bB('textPagesReceived',V);return;}}else{qa=1000;ht.requestCount=0;}ht.lastTimeout=qa;ht.startPage=as;ht.lastPage=cL;setTimeout(function(){F.axs(hB);},qa);if(mL>TS){F.bB('textPagesReceived',V);}};function en(ar){var V={},hC,bC;try{var pg=ar.getResponseHeader("Accusoft-Data-Encrypted");if(pg==='true'){var ud=IPCC.Web.fV.pu.vy(ar.getResponseHeader("Accusoft-Data-SK"));var be=IPCC.Web.Hi(ud,F.jp);var ew=IPCC.Web.FX(ar);var va=IPCC.Web.Ey(ew,be,F.jp);hC=IPCC.Web.fV.HN.md(va);}else{hC=ar.responseText;}bC=JSON.parse(hC);Pm(bC);}catch(e){V.error= -1;Qg(hB);V.textPagesReceived=[];V.length=2;F.bB('textPagesReceived',V);return;}};function eo(bC){var V={},gc;try{gc=bC.response.status;if(bC.response.responseText){bC=JSON.parse(bC.response.responseText);if(bC.hasOwnProperty("errorCode")){V.error=0;if(mL>0){if(bC.pages){if(bC.pages.length>0){Pm(bC);return;}}}else{V.error= -1;}if(mT.length===0){V.error= -1;}F.pageExtractionFailed=true;V.textPagesReceived=[];V.length=2;V.textPagesReceived=Qg(hB);F.bB('textPagesReceived',V);return;}else{throw new IPCC.Web.UI.ImGearHttpException(gc,"Unable to obtain text");}}else{throw new IPCC.Web.UI.ImGearHttpException(gc,"Unable to obtain text");}}catch(e){V.error= -1;Qg(hB);V.textPagesReceived=[];V.length=2;F.bB('textPagesReceived',V);return;}};var jC=iq;var gO=F.rC;if(!(/^[\x00-\x7F]*$/.test(jC))){jC='e'+gZ;}else{jC='u'+jC;}var ab;if(F.jz()){ab=gO+'/Document/q/'+as.toString()+'-'+cL.toString()+'/Text?DocumentID='+jC+'&iv='+F.qC;}else{ab=gO+'/Document/q/'+as.toString()+'-'+cL.toString()+'/Text?DocumentID='+jC;}IPCC.J.me.et({method:'GET',url:ab,headers:{'accept':'application/json'}}).then(en,eo);};return this;};Dk.encodeDocumentIdentifier=function(iq){var gZ;if(iq!==undefined){gZ=IPCC.gG.rI(iq);}return gZ;};Dk.decodeDocumentIdentifier=function(gZ){var agg;if(gZ!==undefined){agg=IPCC.gG.Hq(gZ);}return agg;};Dk.prototype={get_documentIdentifier:function(){var bJ=this.Jc();return bJ;},get_encodedDocumentIdentifier:function(){var bJ=this.Qh();return bJ;},get_pages:function(){return this.ajP();},get_pageCountStatus:function(){var r=this.asT();return r;},set_pageCountStatus:function(value){this.aIz(value);},get_pageCount:function(){var r=this.ask();return r;},get_includeAllPages:function(){try{var bJ=this.auD();return bJ;}catch(e){throw e;}},set_includeAllPages:function(value){try{this.apU(value);}catch(e){throw e;}},get_encryption:function(){var bJ=this.jz();return bJ;},set_encryption:function(value){this.mv(value);},add_pageChanged:function(handler){this.Hc(handler);},remove_pageChanged:function(handler){this.FI(handler);},add_pageRemoved:function(handler){this.Hm(handler);},remove_pageRemoved:function(handler){this.HT(handler);},add_pageAdded:function(handler){this.Hd(handler);},remove_pageAdded:function(handler){this.HY(handler);},add_pageOpenFailed:function(handler){this.GX(handler);},remove_pageOpenFailed:function(handler){this.FH(handler);},get_textRequestInfo:function(){try{var bJ=this.auv();return bJ;}catch(e){throw e;}},get_pagesWithText:function(){try{var bJ=this.art();return bJ;}catch(e){throw e;}},get_numberOfPagesWithText:function(){try{var bJ=this.asV();return bJ;}catch(e){throw e;}},get_numberOfPagesWithoutText:function(){try{var bJ=this.auu();return bJ;}catch(e){throw e;}},add_textPagesReceived:function(handler){try{this.axb(handler);}catch(e){throw e;}},remove_textPagesReceived:function(handler){try{this.aCK(handler);}catch(e){this.bp('remove_textPagesReceived',e);throw e;}},add_propertyChanged:function(handler){this.lp(handler);},remove_propertyChanged:function(handler){this.mF(handler);}};Dk.registerClass=dh;Dk.registerClass('IPCC.Web.UI.ImGearDocument');module.exports=Dk;},{"./../../IPCC.Util":29}],81:[function(require,module,exports){var dh=require('./../../IPCC.Util').regClass;var QR=function(){var jB=[];var aS=new IPCC.Web.UI.hH();var F=this;function aDh(aj,V){if(V){var OA=new IPCC.Web.UI.ImGearDocumentEventArgs();OA.document=aj;OA.propertyName=V.get_propertyName();OA.length=2;F.bB('documentChanged',OA);}};this.UK=function(asc){this.aec(jB.length,asc);};this.aec=function(an,bE){var bM;var cv=jB.length;if(an>jB.length||(an<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',an,'document index is out of range');}for(bM=0;bM<cv;bM++){if(jB[bM]===bE){throw new IPCC.Web.UI.ImGearInvalidOperationException('The document instance object to be inserted already exists in the collection. You cannot use the same instance of a document object.');}}var abx=aS.getHandler('pageAdded');if(abx){bE.add_pageAdded(abx);}var aeA=aS.getHandler('pageRemoved');if(aeA){bE.add_pageRemoved(aeA);}var adt=aS.getHandler('pageChanged');if(adt){bE.add_pageChanged(adt);}bE.add_propertyChanged(aDh);jB.splice(an,0,bE);var V=new IPCC.Web.UI.ImGearDocumentEventArgs();V.imGearDocument=bE;V.index=an;V.length=1;this.bB('documentAdded',V);};function kZ(an){if(an>jB.length-1||(an<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',an,'document index is out of range');}};this.Ou=function(an){kZ(an);return jB[an];};this.fq=function(){return jB.length;};this.aHz=function(io,cl){var akz=[].concat(jB);var R;for(R=0;R<akz.length;R++){io.call(cl,akz[R],R,this);}};this.adW=function(an){kZ(an);var V=new IPCC.Web.UI.ImGearDocumentEventArgs();V.imGearDocument=jB[an];V.length=1;jB[an].get_pages().removeAllPages();jB.splice(an,1);this.bB('documentRemoved',V);};this.aBT=function(){var R=0;while(jB.length>0){this.adW(R);}};this.auw=function(H){aS.addHandler('documentAdded',H);};this.aBh=function(H){aS.removeHandler('documentAdded',H);};this.axd=function(H){aS.addHandler('documentRemoved',H);};this.aBN=function(H){aS.removeHandler('documentRemoved',H);};this.aud=function(H){aS.addHandler('documentChanged',H);};this.aCs=function(H){aS.removeHandler('documentChanged',H);};this.Hd=function(H){aS.addHandler('pageAdded',H);};this.HY=function(H){aS.removeHandler('pageAdded',H);for(var bM=0;bM<jB.length;bM++){jB[bM].remove_pageAdded(H);}};this.Hc=function(H){aS.addHandler('pageChanged',H);};this.FI=function(H){aS.removeHandler('pageChanged',H);for(var bM=0;bM<jB.length;bM++){jB[bM].remove_pageChanged(H);}};this.Hm=function(H){aS.addHandler('pageRemoved',H);};this.HT=function(H){aS.removeHandler('pageRemoved',H);for(var bM=0;bM<jB.length;bM++){jB[bM].remove_pageRemoved(H);}};this.bB=function(dF,V){var H=aS.getHandler(dF);if(H!==null){try{H(F,V);}catch(e){IPCC.jf.Qr('event raise, ImGearDocumentCollection, error: '+e.message);}}};return this;};QR.prototype={addDocument:function(imGearDocument){this.UK(imGearDocument);},insertDocument:function(index,imGearDocument){this.aec(index,imGearDocument);},forEach:function(method,context){this.jS(method,context);},getDocument:function(index){return this.Ou(index);},get_length:function(){return this.fq();},removeDocument:function(imGearDocument){this.adW(imGearDocument);},removeAllDocuments:function(){this.aBT();},add_documentAdded:function(handler){this.auw(handler);},remove_documentAdded:function(handler){this.aBh(handler);},add_documentRemoved:function(handler){this.axd(handler);},remove_documentRemoved:function(handler){this.aBN(handler);},add_documentChanged:function(handler){this.aud(handler);},remove_documentChanged:function(handler){this.aCs(handler);},add_pageAdded:function(handler){this.Hd(handler);},remove_pageAdded:function(handler){this.HY(handler);},add_pageRemoved:function(handler){this.Hm(handler);},remove_pageRemoved:function(handler){this.HT(handler);},add_pageChanged:function(handler){this.Hc(handler);},remove_pageChanged:function(handler){this.FI(handler);}};QR.registerClass=dh;QR.registerClass('IPCC.Web.UI.ImGearDocumentCollection');module.exports=QR;},{"./../../IPCC.Util":29}],82:[function(require,module,exports){var dh=require('./../../IPCC.Util').regClass;var QP=function(){return this;};QP.registerClass=dh;QP.prototype={};QP.registerClass('IPCC.Web.UI.ImGearDocumentCreateArgs');module.exports=QP;},{"./../../IPCC.Util":29}],83:[function(require,module,exports){var dh=require('./../../IPCC.Util').regClass;var Rf=function(){return this;};Rf.registerClass=dh;Rf.prototype={};Rf.registerClass('IPCC.Web.UI.ImGearDocumentEventArgs');module.exports=Rf;},{"./../../IPCC.Util":29}],84:[function(require,module,exports){var aCS=function(jR){var aa=0,bZ=0,bg=0,aw=0,kK=jR.href||"",axP=jR.borderStyle||"Solid",lX=jR.borderThickness||0,AQ=jR.borderPattern||[1],JY=jR.borderHorizontalRadius||0,Kv=jR.borderHorizontalRadius||0,oZ=jR.borderColor||"#0000FF",qQ=jR.borderOpacity||255,K,h;if(typeof qQ==='string'){qQ=parseInt(qQ,10);}if(jR.rectangle){aa=jR.rectangle.x;bZ=jR.rectangle.y;bg=jR.rectangle.width;aw=jR.rectangle.height;}K=new IPCC.Web.UI.Rectangle(aa,bZ,bg,aw);this.fh=function(){var YT=new IPCC.Web.UI.Rectangle(K.x,K.y,K.width,K.height);return YT;};this.DX=function(jX){K.x=jX.x;K.y=jX.y;K.width=jX.width;K.height=jX.height;};this.alY=function(){return kK;};this.atT=function(){return axP;};this.atM=function(){return lX;};this.atI=function(){return AQ;};this.aue=function(){return JY;};this.auF=function(){return Kv;};this.atX=function(){return oZ;};this.atC=function(){return qQ;};this.PZ=function(){return h;};this.aoE=function(aEK){h=aEK;};this.aCw=function(){return IPCC.J.aba(kK);};};module.exports=aCS;},{}],85:[function(require,module,exports){var hH=function hH(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}this.IY={};};hH.prototype.db=function(cc,H){var dQ=this.abO(cc,true);dQ[dQ.length]=H;};hH.prototype.addHandler=function(cc,H){this.db(cc,H);};hH.prototype.cd=function(cc,H){var tf=this.abO(cc);if(!tf){return;}var an=IPCC.Zo(tf,H);if(an>=0){tf.splice(an,1);}};hH.prototype.removeHandler=function(cc,H){this.cd(cc,H);};hH.prototype.getHandler=function(cc){var tf=this.abO(cc);if(!tf||(tf.length===0)){return null;}var dQ=tf.slice();tf=dQ;return function(source,args){for(var R=0,pw=tf.length;R<pw;R++){tf[R](source,args);}};};hH.prototype.abO=function(cc,awW){if(!this.IY[cc]){if(!awW){return null;}this.IY[cc]=[];}return this.IY[cc];};module.exports=hH;},{}],86:[function(require,module,exports){var dh=require('./../../IPCC.Util').regClass;var AX=function(message,errorInfo){this.message=message;var F=this;if(errorInfo){for(var WT in errorInfo){if(errorInfo.hasOwnProperty(WT)){F[WT]=errorInfo[WT];}}}};AX.prototype=new Error();AX.registerClass=dh;AX.registerClass('IPCC.Web.UI.ImGearException');var Cl=function(statusCode,message,customErrorCode){var fX="IPCC.Web.UI.ImGearHttpException: ";if(message){fX+=message;}this.message=fX;this.statusCode=statusCode;this.customErrorCode=customErrorCode;};Cl.prototype=new Error();Cl.registerClass=dh;Cl.registerClass('IPCC.Web.UI.ImGearHttpException');var tP=function(paramName,message){var fX="IPCC.Web.UI.ImGearArgumentException: "+(message?message:IPCC.kE.argument);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){fX+="\n"+IPCC.Web.zK(IPCC.kE.paramName,paramName);}}this.message=fX;this.paramName=paramName;};tP.prototype=new Error();tP.registerClass=dh;tP.registerClass('IPCC.Web.UI.ImGearArgumentException');var EI=function(paramName,message){var fX="IPCC.Web.UI.ImGearArgumentNullException: "+(message?message:IPCC.kE.argumentNull);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){fX+="\n"+IPCC.Web.zK(IPCC.Res.paramName,paramName);}}this.message=fX;this.paramName=paramName;};EI.prototype=new Error();EI.registerClass=dh;EI.registerClass('IPCC.Web.UI.ImGearArgumentNullException');var rD=function(paramName,actualValue,message){var fX="IPCC.Web.UI.ImGearArgumentOutOfRangeException: "+(message?message:IPCC.kE.argumentOutOfRange);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){fX+="\n"+IPCC.Web.zK(IPCC.kE.paramName,paramName);}}if(typeof(actualValue)!=="undefined"&&actualValue!==null){fX+="\n"+IPCC.Web.zK(IPCC.kE.actualValue,actualValue);}this.message=fX;this.paramName=paramName;this.actualValue=actualValue;};rD.prototype=new Error();rD.registerClass=dh;rD.registerClass('IPCC.Web.UI.ImGearArgumentOutOfRangeException');var Aa=function(paramName,actualType,expectedType,message){var fX="IPCC.Web.UI.ImGearArgumentTypeException ";if(message){fX+=message;}else if(actualType&&expectedType){if(typeof(actualType.getName)==='function'&&typeof(expectedType.getName)==='function'){fX+=IPCC.Web.zK(IPCC.kE.argumentTypeWithTypes,actualType.getName(),expectedType.getName());}else{fX+="actualType = "+actualType+" expectedType =  "+expectedType;}}else{fX+=IPCC.kE.argumentType;}if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){fX+="\n"+IPCC.Web.zK(IPCC.kE.paramName,paramName);}}this.message=fX;this.paramName=paramName;this.actualType=actualType;this.expectedType=expectedType;};Aa.prototype=new Error();Aa.registerClass=dh;Aa.registerClass('IPCC.Web.UI.ImGearArgumentTypeException');var CP=function(paramName,message){var fX="IPCC.Web.UI.ImGearArgumentUndefinedException: "+(message?message:IPCC.kE.argumentUndefined);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){fX+="\n"+IPCC.Web.zK(IPCC.Res.paramName,paramName);}}this.message=fX;this.paramName=paramName;};CP.prototype=new Error();CP.registerClass=dh;CP.registerClass('IPCC.Web.UI.ImGearArgumentUndefinedException');var DN=function(message){var fX="IPCC.Web.UI.ImGearInvalidOperationException: "+(message?message:IPCC.kE.invalidOperation);this.message=fX;};DN.prototype=new Error();DN.registerClass=dh;DN.registerClass('IPCC.Web.UI.ImGearInvalidOperationException');var DH=function(message){var fX="IPCC.Web.UI.ImGearNotImplementedException: "+(message?message:IPCC.kE.notImplemented);this.message=fX;};DH.prototype=new Error();DH.registerClass=dh;DH.registerClass('IPCC.Web.UI.ImGearNotImplementedException');var Ei=function(message){var fX="IPCC.Web.UI.ImGearParameterCountException: "+(message?message:IPCC.kE.parameterCount);this.message=fX;};Ei.prototype=new Error();Ei.registerClass=dh;Ei.registerClass('IPCC.Web.UI.ImGearParameterCountException');module.exports={AX:AX,Cl:Cl,tP:tP,EI:EI,rD:rD,Aa:Aa,CP:CP,DN:DN,DH:DH,Ei:Ei};},{"./../../IPCC.Util":29}],87:[function(require,module,exports){var aEt=function(){var HC=[];this.aws=function(aDr){HC.push(aDr);};this.dc=function(){return HC.length;};this.jS=function(io,cl){IPCC.J.forEach(HC,io,cl);};this.aAZ=function(){if(HC.length<1){return;}HC=[];};return this;};module.exports=aEt;},{}],88:[function(require,module,exports){var aCY=function(){var GI=new IPCC.Web.UI.ImGearHyperlinkCollection();this.JF=function(){return GI;};};module.exports=aCY;},{}],89:[function(require,module,exports){var dh=require('./../../IPCC.Util').regClass;var RM=function(ad){this.bE=undefined;var aM=0;var ah=0,alo=0,ale=0;var bU=0,ank=0,amS=0;var F=this;var aS=new IPCC.Web.UI.hH();this.aGX=undefined;this.ht={qP:0,aeD:false,qD:1000,Pw:false};var ec=new IPCC.Web.UI.ImGearTextPage();var Sg=new IPCC.Web.UI.ImGearHyperlinkPage();var mh=0;var oH=false;var CR=false,BP=0,Bs=0;function akx(o){return!isNaN(o-0);};if(ad.pageNumber!==undefined){if(akx(ad.pageNumber)){aM=ad.pageNumber;}else{throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException("pageNumber","",'The value must be a number.');}}this.oS=function(){return aM;};this.aHb=function(C){if(akx(ad.pageNumber)){aM=C;}};this.kL=function(){return ah;};function akR(){if(!ec){ec=new IPCC.Web.UI.ImGearTextPage();}var aon=ec.gQ();var pa=ah/BP,ri=bU/Bs;aon.azQ(pa,ri);};function alg(){var GI=Sg.JF();var pa=ah/BP,ri=bU/Bs;GI.jS(function(ha){ha.DX(ha.fh().scale(pa,ri));var afb=ha.PZ();afb.set_rectangle(afb.get_rectangle().scale(pa,ri));});};this.Lx=function(C){ah=C;if(CR&&ah&&ah!==BP&&bU&&bU!==Bs){akR();alg();CR=false;}};this.iY=function(){return bU;};this.KP=function(C){bU=C;if(CR&&ah&&ah!==BP&&bU&&bU!==Bs){akR();alg();CR=false;}};this.ajY=function(){return alo;};this.alp=function(C){alo=C;};this.aHQ=function(){return ank;};this.akt=function(C){ank=C;};this.aIA=function(){return ale;};this.aGu=function(C){ale=C;};this.aHT=function(){return amS;};this.aHy=function(C){amS=C;};this.atR=function(){return this.bE;};this.dg=function(){if(!ec){ec=new IPCC.Web.UI.ImGearTextPage();}return ec;};this.lm=function(){return mh;};this.yd=function(C){if(mh===C){return;}if(isNaN(C)){return;}mh=C;this.di('serviceResponseTimeout');};this.jz=function(){return oH;};this.mv=function(C){oH=C;};this.lp=function(H){aS.addHandler('propertyChanged',H);};this.mF=function(H){aS.removeHandler('propertyChanged',H);};this.zs=function(H){aS.addHandler('textPageReady',H);};this.Dc=function(H){aS.removeHandler('textPageReady',H);};this.alS=function(){return Sg;};this.WE=function(H){aS.addHandler('hyperlinkPageReady',H);};this.afC=function(H){aS.removeHandler('hyperlinkPageReady',H);};this.zy=function(H){aS.db('textExtractionFailed',H);};this.Co=function(H){aS.cd('textExtractionFailed',H);};this.aeK=function(gq){if(ah===0&&bU===0){CR=true;BP=gq.width;Bs=gq.height;}};this.alk=function(gq){if(!ec){ec=new IPCC.Web.UI.ImGearTextPage();}if(ec.gQ().fq()>0){return;}else if(gq.errorCode){var os=new IPCC.Web.UI.ImGearException(gq.errorDescription,{name:'Text Extraction'});var cG=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cG.exception=os;cG.pageNumber=F.get_pageNumber();F.bB('textExtractionFailed',cG);return;}var aoC=ec.gQ();var NP=false;var aaa;function FG(RG){return RG;};var ri=1;var pa=1;if(gq.height&&gq.height>0&&bU>0){if(gq.height!==bU){ri=bU/gq.height;}}if(gq.width&&gq.width>0&&ah>0){if(gq.width!==ah){pa=ah/gq.width;}}var hS;var abD= -1;var Ni;var jE,yh;for(var R=0;R<gq.rectangles.length;R++){jE=gq.rectangles[R];yh=FG(gq.text[R]);NP=false;if(jE[2]===0){yh="\n";NP=true;if(R>0){aaa=gq.rectangles[R-1];jE[2]=aaa[2];}}if(pa===1&&ri===1){Ni=new IPCC.Web.UI.ImGearTextCharacter(jE[0],jE[1],jE[2],jE[3],yh,NP);}else{Ni=new IPCC.Web.UI.ImGearTextCharacter(jE[0]*pa,jE[1]*ri,jE[2]*pa,jE[3]*ri,yh,NP);}if(Ni){aoC.atQ(Ni);}if(hS===undefined||abD!==jE[1]||jE[0]<hS.fh().x){if(hS){ec.Zf().anj(hS);}hS=new IPCC.Web.UI.ImGearTextSection();hS.DX(new IPCC.Web.UI.Rectangle(jE[0],jE[1],jE[2],jE[3]));hS.anE(R);}else{if(jE[0]+jE[2]-hS.fh().x>hS.fh().width){hS.fh().width=jE[0]+jE[2]-hS.fh().x;}}hS.apV(R);abD=jE[1];}if(hS){ec.Zf().anj(hS);}ec.aqu(gq.text);if(gq.text.length>0){ec.Mr(true);F.bB('textPageReady',{pageNumber:F.oS(),containsText:true});}else{ec.Mr(false);F.bB('textPageReady',{pageNumber:F.oS(),containsText:false});}};this.ajv=function(amy,Lt,LD){if(!amy){return;}Sg.JF().aAZ();var ri=1;var pa=1;if(Lt&&Lt>0&&bU>0){if(Lt!==bU){ri=bU/Lt;}}if(LD&&LD>0&&ah>0){if(LD!==ah){pa=ah/LD;}}IPCC.J.forEach(amy,function(aka){var ha;switch(aka.markType){case "DocumentHyperlink":ha=new IPCC.Web.UI.ImGearDocumentHyperlink(aka.properties);ha.DX(ha.fh().scale(pa,ri));if(!ha.aCw()){Sg.JF().aws(ha);}break;default:break;}});F.bB('hyperlinkPageReady',{pageNumber:F.oS()});};this.ati=function(){F.zp();};this.zp=function(){if(!ec){ec=new IPCC.Web.UI.ImGearTextPage();}if(!F.bE){throw new IPCC.Web.UI.ImGearInvalidOperationException('You must add this Page to a valid ImGearDocument object which has a valid ImageServicePath property.');}if(ec.vP()){return;}var ake=true;if(F.lm()===0){ake=false;}function Pm(ak){if(ak.pages){var aP;if(ak.pages.length>0){if(ak.pages[0].number!==F.oS()){for(var R=0;R<ak.pages.length;R++){if(ak.pages[R].number===F.oS()){aP=R;break;}}if(!aP){F.ht.Pw=false;return;}}else{aP=0;}var gq=ak.pages[aP];F.ht.Pw=true;if(ak.pages[aP].text&&ak.pages[aP].text.length>0){ec.Mr(true);}else{ec.Mr(false);}F.ht.qD=1000;F.aeK(gq);F.alk(gq);F.ajv(gq.markup,gq.height,gq.width);return;}}var qa=F.ht.qD;if(!F.ht.Pw){if(F.ht.qP<6){if(F.ht.qP<2){qa=qa+1000;}else{qa=qa+3000;}F.ht.qP++;F.ht.qD=qa;setTimeout(F.ati,qa);}else{F.ht.aeD=true;}}};function en(ar){var jp=F.bE.jp,bC;try{var hC;var pg=ar.getResponseHeader("Accusoft-Data-Encrypted");if(pg==='true'){var ud=IPCC.Web.fV.pu.vy(ar.getResponseHeader("Accusoft-Data-SK"));var be=IPCC.Web.Hi(ud,jp);var ew=IPCC.Web.FX(ar);var va=IPCC.Web.Ey(ew,be,jp);hC=IPCC.Web.fV.HN.md(va);}else{hC=ar.responseText;}bC=JSON.parse(hC);Pm(bC);}catch(e){var cG=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cG.exception=e;cG.pageNumber=F.get_pageNumber();F.bB('textExtractionFailed',cG);return;}};function eo(bC){try{if(!bC.response){throw new IPCC.Web.UI.ImGearHttpException(0,"Text extraction timeout");}else{if(bC.response.statusText){throw new IPCC.Web.UI.ImGearHttpException(bC.response.status,"Unable to obtain text, Error from the service = "+bC.response.statusText);}else{throw new IPCC.Web.UI.ImGearHttpException(bC.response.status,"Unable to obtain text from the service");}}}catch(e){var cG=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cG.exception=e;cG.pageNumber=F.get_pageNumber();F.bB('textExtractionFailed',cG);return;}};var as=F.get_pageNumber();var jC=F.bE.get_documentIdentifier();if(!(/^[\x00-\x7F]*$/.test(jC))){jC='e'+F.bE.get_encodedDocumentIdentifier();}else{jC='u'+encodeURIComponent(jC);}var gO=F.bE.rC;var qC=F.bE.qC;var ab;if(F.jz()){ab=gO+'/Document/q/'+as.toString()+'-'+as.toString()+'/Text?DocumentID='+jC+'&iv='+qC;}else{ab=gO+'/Document/q/'+as.toString()+'-'+as.toString()+'/Text?DocumentID='+jC;}var gd={method:'GET',url:ab,headers:{'accept':'application/json'}};if(ake===true){gd.timeout=F.lm();}IPCC.J.me.et(gd).then(en,eo);};this.dg=function(){if(!ec){ec=new IPCC.Web.UI.ImGearTextPage();}return ec;};this.aFF=function(C){if(typeof C.mW!=='function'){return;}ec=C;};this.adl=function(){ec=undefined;F.ht={qP:0,aeD:false,qD:1000,Pw:false};CR=false;BP=0;Bs=0;};this.KK=function(yn,yL){var F=this;function en(ar){var bC;bC=JSON.parse(ar.responseText);if(bC.imageWidth&&bC.imageHeight){F.Lx(bC.imageWidth);F.KP(bC.imageHeight);yn(bC.imageWidth,bC.imageHeight);}else{yL("Unable to obtain document information from the server");}};function eo(bC){yL("Unable to obtain document information from the server");};if(F.kL()>0||F.iY()>0){yn(F.kL(),F.iY());}else{var qL=IPCC.gG.rI(F.bE.get_documentIdentifier());if(!qL||qL===""){yL("Invalid encoded Identifier");}var vd='';if(!IPCC.uh.IM()){vd='&ContentType=png';}var ab;if(!(/^[\x00-\x7F]*$/.test(qL))){ab=F.bE.rC+'/Page/q/'+(F.get_pageNumber())+'/Attributes?DocumentID=e'+qL+vd;}else{ab=F.bE.rC+'/Page/q/'+(F.get_pageNumber())+'/Attributes?DocumentID=u'+encodeURIComponent(F.bE.get_documentIdentifier())+vd;}IPCC.J.me.et({method:'GET',url:ab,headers:{'Content-Type':'application/json'}}).then(en,eo);}};this.di=function(cu){var H=aS.getHandler('propertyChanged');if(H){H(this,new IPCC.oD(cu));}};this.bB=function(dF,V){var H=aS.getHandler(dF);if(H!==null){try{H(F,V);}catch(e){IPCC.jf.Qr('event raise, ImGearPage, error: '+e.message);}}};return this;};RM.prototype={get_pageNumber:function(){var bJ=this.oS();return bJ;},get_pageWidth:function(){var bJ=this.kL();return bJ;},get_pageHeight:function(){var bJ=this.iY();return bJ;},get_textPage:function(){var bJ=this.dg();return bJ;},get_encryption:function(){var bJ=this.jz();return bJ;},set_encryption:function(value){this.mv(value);},get_hyperlinkPage:function(){return this.alS();},get_document:function(){var bJ=this.atR();return bJ;},add_propertyChanged:function(handler){this.lp(handler);},remove_propertyChanged:function(handler){this.mF(handler);},requestPageAttributes:function(attributesRetrievedCallback,attributesRetrievalFailedCallback){this.KK(attributesRetrievedCallback,attributesRetrievalFailedCallback);}};RM.registerClass=dh;RM.registerClass('IPCC.Web.UI.ImGearPage');module.exports=RM;},{"./../../IPCC.Util":29}],90:[function(require,module,exports){var dh=require('./../../IPCC.Util').regClass;var Sa=function(){var F=this;var da=[];var aS=new IPCC.Web.UI.hH();this.aze=false;this.aAA=true;this.bE=undefined;this.amI=function(aC){this.aeO(da.length,aC);};function kZ(an){if(an>da.length-1||(an<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',an,'page index is out of range in the page collection');}};this.aeO=function(an,aC){var bM;var cv=da.length;if(an>da.length||(an<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',an,'index of the page Collection is out of range');}if(F.aAA&&F.aze){if(cv>0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You must first remove the existing selected page before adding a new one to the selected page collection).');}}for(bM=0;bM<cv;bM++){if(da[bM]===aC){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot duplicate same page instance in a page collection).');}}if(F.bE){if(!aC.bE){aC.bE=F.bE;}}aC.add_propertyChanged(Jr);da.splice(an,0,aC);var V=new IPCC.Web.UI.ImGearPageEventArgs();V.imGearPage=aC;V.length=1;F.bB('pageAdded',V);};this.ic=function(an){kZ(an);var fm=da[an];return fm;};this.aqm=function(an,aC){kZ(an);var SF=da[an];if(SF===aC){return;}da[an]=aC;var V=new IPCC.Web.UI.ImGearPageEventArgs();V.imGearPage=aC;V.length=1;this.bB('pageAdded',V);SF.remove_propertyChanged(Jr);var yv=new IPCC.Web.UI.ImGearPageEventArgs();yv.imGearPage=SF;yv.length=1;this.bB('pageRemoved',yv);};this.fq=function(){return da.length;};this.jS=function(io,cl){var akr=[].concat(da);var R;for(R=0;R<akr.length;R++){io.call(cl,akr[R],R,this);}};this.agB=function(an){kZ(an);var V=new IPCC.Web.UI.ImGearPageEventArgs();V.imGearPage=da[an];da[an].remove_propertyChanged(Jr);V.length=1;da.splice(an,1);F.bB('pageRemoved',V);};this.aFH=function(aC){var dc=da.length;for(var R=0;R<dc;R++){if(aC===da[R]){return R;}}return-1;};this.aCf=function(){var R=0;while(da.length>0){this.agB(R);}};function Jr(aj,V){var yv=new IPCC.Web.UI.ImGearPageEventArgs();yv.imGearPage=aj;yv.length=1;F.bB('pageChanged',yv);};this.Hd=function(H){aS.addHandler('pageAdded',H);};this.HY=function(H){aS.removeHandler('pageAdded',H);};this.Hc=function(H){aS.addHandler('pageChanged',H);};this.FI=function(H){aS.removeHandler('pageChanged',H);};this.Hm=function(H){aS.addHandler('pageRemoved',H);};this.HT=function(H){aS.removeHandler('pageRemoved',H);};this.bB=function(dF,V){var H=aS.getHandler(dF);if(H!==null){try{H(F,V);}catch(e){IPCC.jf.Qr('raise event error in ImGearPageCollection, Error: '+e.message);}}};return this;};Sa.prototype={addPage:function(page){this.amI(page);},insertPage:function(index,page){this.aeO(index,page);},forEach:function(method,context){this.jS(method,context);},getPage:function(index){return this.ic(index);},setPage:function(index,page){this.aqm(index,page);},get_length:function(){return this.fq();},removePage:function(index){this.agB(index);},removeAllPages:function(){this.aCf();},add_pageAdded:function(handler){this.Hd(handler);},remove_pageAdded:function(handler){this.HY(handler);},add_pageChanged:function(handler){this.Hc(handler);},remove_pageChanged:function(handler){this.FI(handler);},add_pageRemoved:function(handler){this.Hm(handler);},remove_pageRemoved:function(handler){this.HT(handler);}};Sa.registerClass=dh;Sa.registerClass('IPCC.Web.UI.ImGearPageCollection');module.exports=Sa;},{"./../../IPCC.Util":29}],91:[function(require,module,exports){var dA=require('./../../IPCC.Util').regEnum;var MR=function(){};MR.registerEnum=dA;MR.prototype={UnRequested:0,RequestPending:1,Known:2,Failed:3};MR.registerEnum('IPCC.Web.UI.ImGearPageCountStatus',false);module.exports=MR;},{"./../../IPCC.Util":29}],92:[function(require,module,exports){var dh=require('./../../IPCC.Util').regClass;var Km=function(){};Km.registerClass=dh;Km.prototype={};Km.registerClass('IPCC.Web.UI.ImGearPageCreateArgs');module.exports=Km;},{"./../../IPCC.Util":29}],93:[function(require,module,exports){var dh=require('./../../IPCC.Util').regClass;var Mu=function(){return this;};Mu.prototype={};Mu.registerClass=dh;Mu.registerClass('IPCC.Web.UI.ImGearPageEventArgs');module.exports=Mu;},{"./../../IPCC.Util":29}],94:[function(require,module,exports){var dh=require('../../IPCC.Util').regClass;var JD=function(){return this;};JD.registerClass=dh;JD.prototype={};JD.registerClass('IPCC.Web.UI.ImGearPageOpenFailedEventArgs');module.exports=JD;},{"../../IPCC.Util":29}],95:[function(require,module,exports){var aBY=function(aa,bZ,bg,aw,yh,aBA){this.bV=new IPCC.Web.UI.Rectangle(aa,bZ,bg,aw);this.kg=yh;this.Fj=aBA;this.avd=function(){return yh;};this.uT=function(){var YT=new IPCC.Web.UI.Rectangle(this.bV.x,this.bV.y,this.bV.width,this.bV.height);return YT;};this.aHk=function(){return this.Fj;};};module.exports=aBY;},{}],96:[function(require,module,exports){var aBI=function(){var iz=[];this.atQ=function(kf){iz.push(new IPCC.Web.UI.ImGearTextCharacter(kf.bV.x,kf.bV.y,kf.bV.width,kf.bV.height,kf.kg,kf.Fj));};this.aHf=function(anN){function lb(kf){iz.push(kf);};anN.forEach(lb,{});};this.asr=function(){var ahd=[];for(var bM=0;bM<this.fq();bM++){var Pv=this.kA(bM).bV;var K=[];K.push(Pv.x);K.push(Pv.y);K.push(Pv.width);K.push(Pv.height);ahd.push(K);}return ahd;};this.aGG=function(an,anx){var bM;var cv=iz.length;if(an>iz.length||(an<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',an,'index of theText Character Collection is out of range');}for(bM=0;bM<cv;bM++){if(iz[bM]===anx){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot duplicate same ak Character instance in a kf collection).');}}iz.splice(an,0,anx);};this.azQ=function(ajp,aga){IPCC.J.forEach(iz,function(kg){kg.bV.width=kg.bV.width*ajp;kg.bV.height=kg.bV.height*aga;kg.bV.x=kg.bV.x*ajp;kg.bV.y=kg.bV.y*aga;});};this.jS=function(io,cl){var XZ=[].concat(iz);var R;for(R=0;R<XZ.length;R++){io.call(cl,new IPCC.Web.UI.ImGearTextCharacter(XZ[R].x,XZ[R].y),R,this);}};function kZ(an){if(an>iz.length-1||(an<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',an);}};this.kA=function(an){kZ(an);var qy=iz[an];return new IPCC.Web.UI.ImGearTextCharacter(qy.bV.x,qy.bV.y,qy.bV.width,qy.bV.height,qy.kg,qy.Fj);};this.aFp=function(an,kf){kZ(an);var Dq=iz[an];if(Dq.bV.x===kf.bV.x&&Dq.bV.y===kf.y&&Dq.bV.width===kf.bV.width&&Dq.bV.height===kf.bV.height&&Dq.kg===kf.kg&&Dq.Fj===kf.Fj){return;}iz[an]=kf;};this.fq=function(){return iz.length;};this.aFd=function(an){kZ(an);iz.splice(an,1);};this.aGx=function(){if(iz.length<1){return;}iz=[];};return this;};module.exports=aBI;},{}],97:[function(require,module,exports){var aCB=function(){var aoe=new IPCC.Web.UI.ImGearTextCharacterCollection();var Ya=false;var ajV=false;var Ww="";var ug=new IPCC.Web.UI.ImGearTextSectionCollection();var Zn=false;this.gQ=function(){return aoe;};this.mW=function(){return Ya;};this.Mr=function(C){ajV=true;if(C===Ya){return;}if((C===true)||(C===false)){Ya=C;}};this.vP=function(){return ajV;};this.Cu=function(){return Ww;};this.aqu=function(C){if(C===Ww){return;}Ww=C;};this.Zf=function(){return ug;};this.aua=function(){return Zn;};this.acO=function(C){if(C===Zn){return;}if((C===true)||(C===false)){Zn=C;}};};module.exports=aCB;},{}],98:[function(require,module,exports){var aCk=function(){var K=null;var as=0;var cL=0;this.fh=function(){return K;};this.DX=function(C){K=C;};this.akU=function(){return as;};this.anE=function(C){as=C;};this.amH=function(){return cL;};this.apV=function(C){cL=C;};};module.exports=aCk;},{}],99:[function(require,module,exports){var aCy=function(){var ug=[];this.anj=function(hS){ug.push(hS);};function kZ(an){if(an>ug.length-1||(an<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',an);}};this.asJ=function(an){kZ(an);return ug[an];};this.fq=function(){return ug.length;};return this;};module.exports=aCy;},{}],100:[function(require,module,exports){var dA=require('./../../IPCC.Util').regEnum;var NB=function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}throw new IPCC.Web.UI.ImGearNotImplementedException();};NB.registerEnum=dA;NB.prototype={backspace:8,tab:9,enter:13,esc:27,space:32,pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40,del:127};NB.registerEnum("IPCC.Web.UI.Key");module.exports=NB;},{"./../../IPCC.Util":29}],101:[function(require,module,exports){var dA=require('../../IPCC.Util').regEnum;var MG=function(){};MG.registerEnum=dA;MG.prototype={Pointer:0,Solid:1,Open:2,PointerSolid:3,None:4};MG.registerEnum('IPCC.Web.UI.LineHeadType',false);module.exports=MG;},{"../../IPCC.Util":29}],102:[function(require,module,exports){var dA=require('../../IPCC.Util').regEnum;var Mq=function(){};Mq.registerEnum=dA;Mq.prototype={Solid:0,Dash:1,Dot:2,DashDot:3,DashDotDot:4};Mq.registerEnum('IPCC.Web.UI.LineStyle',false);module.exports=Mq;},{"../../IPCC.Util":29}],103:[function(require,module,exports){var dh=require('../../IPCC.Util').regClass;var KW=function(){return this;};KW.registerClass=dh;KW.prototype={};KW.registerClass('IPCC.Web.UI.LogItemEventArgs');module.exports=KW;},{"../../IPCC.Util":29}],104:[function(require,module,exports){var dh=require('../../IPCC.Util').regClass;var Ld=function(type){var ao=type;type=undefined;var sj=new Date();var sP=new Date();var bN=null;var K;var aX;var dq;var dp=new IPCC.Web.UI.Data();var aS=new IPCC.Web.UI.hH();var F=this;var js;this.fE=function(kc,cu){if((js&kc)===0){throw new IPCC.Web.UI.ImGearInvalidOperationException(cu+' is not a valid property for this type of Mark.');}};if(ao===IPCC.Web.UI.MarkType.SignatureText){this.kp='#000000';this.iu=IPCC.Web.UI.LineStyle.Solid;this.fC=0;}else{this.kp='#000000';this.iu=IPCC.Web.UI.LineStyle.Solid;this.fC=1;}this.dk=255;this.mY=IPCC.Web.UI.MarkInteractionMode.Full;var jO=false;switch(ao){case IPCC.Web.UI.MarkType.Line:jO=true;aX=new IPCC.Web.UI.PointCollection();aX.addPoint({x:0,y:0});aX.addPoint({x:0,y:0});js=1;this.kp='#18385F';this.fC=6;break;case IPCC.Web.UI.MarkType.Polyline:jO=true;this.rV=false;aX=new IPCC.Web.UI.PointCollection();js=2;this.fC=2;break;case IPCC.Web.UI.MarkType.Rectangle:K=new IPCC.Web.UI.Rectangle(0,0,0,0);js=4;this.cj='#FB0404';this.fC=4;break;case IPCC.Web.UI.MarkType.Ellipse:K=new IPCC.Web.UI.Rectangle(0,0,0,0);js=8;this.cj='#FB0404';this.fC=4;break;case IPCC.Web.UI.MarkType.Polygon:aX=new IPCC.Web.UI.PointCollection();js=16;break;case IPCC.Web.UI.MarkType.Text:this.EA='#000000';this.Az=false;this.pS=IPCC.Web.UI.LineStyle.Solid;this.EG=1;this.lJ=new IPCC.Web.UI.Point(0,0);this.BN=IPCC.Web.UI.CalloutType.Triangle;this.yR=false;this.gb='Arial';this.dK=12;this.cE=IPCC.Web.UI.FontStyle.Regular;this.iu=IPCC.Web.UI.LineStyle.Solid;this.gh=0;K=new IPCC.Web.UI.Rectangle(0,0,0,0);this.ak='';this.hL=IPCC.Web.UI.HorizontalAlignment.Left;this.xb=IPCC.Web.UI.VerticalAlignment.Top;this.ro='#000000';this.yj=255;this.ye=IPCC.Web.UI.Orientation.TopLeft;this.eN=[];this.fC=4;this.dk=127;this.cj='#FFFFFF';js=32;break;case IPCC.Web.UI.MarkType.Stamp:K=new IPCC.Web.UI.Rectangle(0,0,0,0);js=128;break;case IPCC.Web.UI.MarkType.Highlight:K=new IPCC.Web.UI.Rectangle(0,0,0,0);this.aY='';this.iS='n';this.as=0;this.cN='';this.cR=0;this.dk=127;js=256;break;case IPCC.Web.UI.MarkType.HighlightText:K=new IPCC.Web.UI.Rectangle(0,0,0,0);this.aY='';this.iS='n';this.as=0;this.cN='';this.cR=0;this.dk=127;this.cj='#FFFF00';js=512;this.eN=[];this.bj=[];break;case IPCC.Web.UI.MarkType.Freehand:K=new IPCC.Web.UI.Rectangle(0,0,0,0);js=64;this.fC=4;this.kp='#000000';this.iF=false;this.Wy=1;this.Xb=1;this.tL='M0,0';break;case IPCC.Web.UI.MarkType.SignaturePath:K=new IPCC.Web.UI.Rectangle(0,0,0,0);js=1024;this.hL=IPCC.Web.UI.HorizontalAlignment.Center;this.fC=4;this.kp='#000000';this.iF=false;this.Wy=1;this.Xb=1;this.tL='M0,0';break;case IPCC.Web.UI.MarkType.SignatureText:K=new IPCC.Web.UI.Rectangle(0,0,0,0);js=2048;this.hL=IPCC.Web.UI.HorizontalAlignment.Center;this.ak='John Doe';this.ro='#000000';this.cj='#000000';this.gb="";break;case IPCC.Web.UI.MarkType.RectangleRedaction:K=new IPCC.Web.UI.Rectangle(0,0,0,0);js=4096;this.gb='Arial';this.dK=8;this.cE=IPCC.Web.UI.FontStyle.Regular;this.ak='';this.hL=IPCC.Web.UI.HorizontalAlignment.Center;this.xb=IPCC.Web.UI.VerticalAlignment.Center;this.cj='#000000';this.ro='#FFFFFF';this.yj=255;this.ye=IPCC.Web.UI.Orientation.TopLeft;break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:K=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bj=[];this.aY='';this.eJ='';this.ak='';this.gb='Arial';this.dK=8;this.as=0;this.cR=0;js=8192;this.eN=[];break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:K=new IPCC.Web.UI.Rectangle(0,0,0,0);this.kK='';this.fC=2;this.cN='';this.aY='';this.iS='n';this.as=0;this.cR=0;this.cj='#3B00FF';js=1<<14;this.eN=[];this.bj=[];break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:K=new IPCC.Web.UI.Rectangle(0,0,0,0);js=16384;this.by='';this.pU='';break;case IPCC.Web.UI.MarkType.DocumentHyperlink:K=new IPCC.Web.UI.Rectangle(0,0,0,0);this.kK='';this.PS='';this.AQ='';this.JY=0;this.Kv=0;this.qQ=255;js=32768;break;case IPCC.Web.UI.MarkType.TextLine:js=65536;K=new IPCC.Web.UI.Rectangle(0,0,0,0);this.hL=IPCC.Web.UI.HorizontalAlignment.Left;this.ak='';this.ro='#000000';this.gb="Courier New";this.fC=1;this.iF=true;this.gh=0;this.EP=0;this.Fz=false;var ie=IPCC.J.uj("M",this.gb,{vx:'pre'});this.yb=ie.width;this.yw=ie.height;this.jA=null;break;case IPCC.Web.UI.MarkType.TextAreaSignature:this.EA='#000000';this.Az=false;this.pS=IPCC.Web.UI.LineStyle.Solid;this.EG=1;this.lJ=new IPCC.Web.UI.Point(0,0);this.BN=IPCC.Web.UI.CalloutType.Triangle;this.yR=false;this.gb='Courier New';this.jx=0;this.gh=0;this.dK=12;this.cE=IPCC.Web.UI.FontStyle.Regular;K=new IPCC.Web.UI.Rectangle(0,0,0,0);this.ak='';this.hL=IPCC.Web.UI.HorizontalAlignment.Left;this.xb=IPCC.Web.UI.VerticalAlignment.Top;this.ro='#000000';this.yj=255;this.ye=IPCC.Web.UI.Orientation.TopLeft;this.eN=[];this.fC=1;this.iF=false;this.cj='#FFFFFF';this.dk=0;js=1<<18;break;case IPCC.Web.UI.MarkType.Strikethrough:K=new IPCC.Web.UI.Rectangle(0,0,0,0);this.aY='';this.kp='#000000';this.fC=2;this.iS='n';this.as=0;this.cN='';this.cR=0;js=1<<17;this.eN=[];this.bj=[];break;default:throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('type',ao);}if(ao!==IPCC.Web.UI.MarkType.SignaturePath&&ao!==IPCC.Web.UI.MarkType.Freehand&&ao!==IPCC.Web.UI.MarkType.SignatureText&&ao!==IPCC.Web.UI.MarkType.DocumentHyperlink&&ao!==IPCC.Web.UI.MarkType.HighlightText&&ao!==IPCC.Web.UI.MarkType.Strikethrough&&ao!==IPCC.Web.UI.MarkType.TextLine){if(jO){this.Ic=15;this.Im=25;this.oG=IPCC.Web.UI.LineHeadType.None;this.zN='#000000';this.Jj=15;this.JI=25;this.HQ=IPCC.Web.UI.LineHeadType.None;}else{this.Hu=true;this.iF=true;if(ao===IPCC.Web.UI.MarkType.Highlight){this.iF=false;this.dk=100;}}}this.Yb=IPCC.Web.UI.aFU++;this.de=true;this.bL={};this.cI=[];var Oi=false;function aAy(aj,V){F.bB('commentAdded',V);};function azi(aj,V){F.bB('commentRemoved',V);};function OC(aj,V){F.bB('commentChanged',V);};dq=new IPCC.Web.UI.Conversation(F);dq.add_commentAdded(aAy);dq.add_commentChanged(OC);dq.add_commentRemoved(azi);this.bB=function(dF,V){var H=aS.getHandler(dF);if(H!==null){H(this,V);}};function XC(aj,V){var acd='points';if(ao===IPCC.Web.UI.MarkType.Line){acd=V.index===0?'startPoint':'endPoint';}F.di(acd,V);};if(aX){aX.add_pointAdded(XC);aX.add_pointChanged(XC);aX.add_pointRemoved(XC);}this.iH=function(){return ao;};this.amN=function(){return sj;};this.abb=function(C){sj=C;};this.amJ=function(){return sP;};this.Vx=function(C){sP=C;};this.eP=function(){return bN;};this.lF=function(value){if(bN!==value){bN=value;this.di('artPage');}};this.iy=function(){return Oi;};this.ku=function(C){Oi=C;};this.aiw=function(){var nj=new IPCC.Web.UI.Rectangle(0,0,0,0);switch(ao){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:case IPCC.Web.UI.MarkType.Polygon:return aX.uT();case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.DocumentHyperlink:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.Strikethrough:return K.clone();case IPCC.Web.UI.MarkType.Text:var hK=K.x+K.width,kd=K.y+K.height;var afX=K.x+this.lJ.x,ahs=K.y+this.lJ.y;nj.x=Math.min(K.x,Math.min(hK,afX));nj.y=Math.min(K.y,Math.min(kd,ahs));nj.width=Math.max(K.x,Math.max(hK,afX))-nj.x;nj.height=Math.max(K.y,Math.max(kd,ahs))-nj.y;break;}return nj;};this.fh=function(){return K.clone();};this.zF=function(C){this.Dw(16384,'image','by',C);};this.co=function(){return this.by;};this.pk=function(){return aX;};this.auh=function(){return dq;};this.xD=function(){return dp;};this.DX=function(C){var sb;if(!K.equals(C)){K=new IPCC.Web.UI.Rectangle(C.x,C.y,C.width,C.height);if(ao===IPCC.Web.UI.MarkType.Stamp||ao===IPCC.Web.UI.MarkType.SignatureText||ao===IPCC.Web.UI.MarkType.TextLine){if(document.documentMode<9){sb=0;if(K.width>=K.height){sb=(K.width/14)/2;}else{sb=K.width/15;}if(sb*15>=K.width){sb=(K.width/15)/2;}this.stampSize=Math.round(sb);}else{var textFontSize=(K.width/6);if(textFontSize>K.height){textFontSize=(K.height-(K.height/6));}var mD=this.get_text();if(!mD){mD=(ao===IPCC.Web.UI.MarkType.Stamp)?'APPROVED':'';}sb=mD.length*textFontSize;if(sb>K.width){textFontSize=((K.width/mD.length));}var EP=Math.round(textFontSize);this.stampSize=EP.toString();}}this.di('rectangle');}};this.ll=function(){return this.Yb;};this.Hj=function(fd,fj){if(fd!==0||fj!==0){switch(ao){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:case IPCC.Web.UI.MarkType.Polygon:aX.aeH(fd,fj);break;case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.Freehand:if(ao===IPCC.Web.UI.MarkType.RectangleRedaction&&this.aY!==undefined){break;}K.x+=fd;K.y+=fj;this.di('rectangle');break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.Strikethrough:break;}}};this.Vq=function(Ze){if(this.eN&&Ze!==this.eN){while(this.eN.length>0){this.eN.pop();}if(Ze){this.eN=Ze.slice(0);}this.bB('markTextSelectionChanged',{});}};this.FM=function(H){if(this.eN){aS.addHandler('markTextSelectionChanged',H);}};this.GR=function(H){if(this.eN){aS.removeHandler('markTextSelectionChanged',H);}};this.xI=function(H){aS.addHandler('commentAdded',H);};this.Cd=function(H){aS.removeHandler('commentAdded',H);};this.wJ=function(H){aS.addHandler('commentRemoved',H);};this.BZ=function(H){aS.removeHandler('commentRemoved',H);};this.sh=function(H){aS.addHandler('commentChanged',H);};this.tX=function(H){aS.removeHandler('commentChanged',H);};this.lp=function(H){aS.addHandler('propertyChanged',H);};this.mF=function(H){aS.removeHandler('propertyChanged',H);};this.di=function(cu){var H=aS.getHandler('propertyChanged');if(H){H(this,new IPCC.oD(cu));}};this.lp(function(h){h.Vx(new Date());});return this;};Ld.prototype={toString:function(){switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:return 'Line Mark from '+this.pk().getPoint(0)+' to '+this.pk().getPoint(1);case IPCC.Web.UI.MarkType.Polyline:return 'Polyline Mark with '+this.pk().fq()+' vertices';case IPCC.Web.UI.MarkType.Rectangle:return 'Rectangle Mark at '+this.fh();case IPCC.Web.UI.MarkType.RectangleRedaction:return 'Rectangle Redaction Mark at '+this.fh();case IPCC.Web.UI.MarkType.Ellipse:return 'Ellipse Mark at '+this.fh();case IPCC.Web.UI.MarkType.Polygon:return 'Polygon Mark with '+this.pk().fq()+' vertices';case IPCC.Web.UI.MarkType.Text:return 'Text Mark, "'+this.ak+'", at '+this.fh();case IPCC.Web.UI.MarkType.Stamp:return 'Stamp Mark at '+this.fh();case IPCC.Web.UI.MarkType.Highlight:return 'Rectangle Mark at '+this.fh();case IPCC.Web.UI.MarkType.HighlightText:return 'Highlight Mark at '+this.fh();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Text Selection Redaction at '+this.fh();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Text Hyperlink Annotation at '+this.fh();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Document Hyperlink at '+this.fh();case IPCC.Web.UI.MarkType.SignaturePath:return 'Signature Path Mark, "'+this.tL+'", at '+this.fh();case IPCC.Web.UI.MarkType.Freehand:return 'Freehand Mark, "'+this.tL+'", at '+this.fh();case IPCC.Web.UI.MarkType.SignatureText:return 'Signature Text Mark at '+this.fh();case IPCC.Web.UI.MarkType.TextLine:return 'Text Line Mark at '+this.fh();case IPCC.Web.UI.MarkType.TextAreaSignature:return 'Text Area Signature Mark at '+this.fh();case IPCC.Web.UI.MarkType.ImageStampAnnotation:return 'ImageStamp Mark at '+this.fh();case IPCC.Web.UI.MarkType.ImageStampRedaction:return 'ImageStamp Redaction Mark at '+this.fh();case IPCC.Web.UI.MarkType.Strikethrough:return 'Strikethrough Mark at '+this.fh();}return 'Mark';},initializeDates:function(sj,sP){IPCC.aV.gl(sj,"dateCreated");IPCC.aV.gl(sP,"dateModified");this.abb(sj);this.Vx(sP);},get_dateCreated:function(){return this.amN();},get_dateModified:function(){return this.amJ();},kR:function(kc,cu,kI,C){this.fE(kc,cu);if(this[kI]!==C){this[kI]=C;this.di(cu);}},Ke:function(kc,cu,kI,C){IPCC.aV.Ti(C,cu);this.kR(kc,cu,kI,C);},xV:function(kc,cu,kI,C){IPCC.aV.jc(C,cu);this.kR(kc,cu,kI,C);},ym:function(kc,cu,kI,C,yW,vC){IPCC.aV.jM(C,cu,yW,vC);this.kR(kc,cu,kI,C);},TF:function(kc,cu,kI,C,yW,vC){IPCC.aV.lP(C,cu,yW,vC);this.kR(kc,cu,kI,C);},Dw:function(kc,cu,kI,C){IPCC.aV.ao(C,cu,'string');this.kR(kc,cu,kI,C);},uv:function(kc,cu,kI,C,kS){IPCC.aV.kS(C,cu,kS);this.kR(kc,cu,kI,C);},aqD:function(kc,cu,kI,C,kS){IPCC.aV.kS(C,cu,kS,true);this.kR(kc,cu,kI,C);},arl:function(kc,cu,kI,C){IPCC.aV.aG(C,cu);this.kR(kc,cu,kI,C);},get_artPage:function(){return this.eP();},get_boundingRectangle:function(){return this.aiw();},get_selected:function(){var bN=this.eP();if(!bN){return false;}var fw=bN.Ak();return fw.contains(this);},set_selected:function(value){var bN=this.eP();if(bN){if(this.mY!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled|| !value){var fw=bN.Ak();if(value!==fw.contains(this)){if(value){fw.PD(this);}else{fw.ue(this);}this.di('selected');}}}else{if(value){throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be selected unless it is associated with an ArtPage.');}}},get_calloutLineColor:function(){this.fE(32,'calloutLineColor');return this.EA;},set_calloutLineColor:function(value){this.Ke(32,'calloutLineColor','EA',value);},get_calloutLineIsDistinct:function(){this.fE(32,'calloutLineIsDistinct');return this.Az;},set_calloutLineIsDistinct:function(value){this.kR(32,'calloutLineIsDistinct','Az',value);},get_calloutLineStyle:function(){this.fE(32,'calloutLineStyle');return this.pS;},set_calloutLineStyle:function(value){this.uv(32,'calloutLineStyle','pS',value,IPCC.Web.UI.LineStyle);},get_calloutLineWidth:function(){this.fE(32,'calloutLineWidth');return this.EG;},set_calloutLineWidth:function(value){this.ym(32,'calloutLineWidth','EG',value,0,50);},get_calloutPoint:function(){this.fE(32,'calloutPoint');return this.lJ;},set_calloutPoint:function(value){this.arl(32,'calloutPoint','lJ',value);},get_calloutType:function(){this.fE(32,'calloutType');return this.BN;},set_calloutType:function(value){this.uv(32,'calloutType','BN',value,IPCC.Web.UI.CalloutType);},get_calloutVisible:function(){this.fE(32,'calloutVisible');return this.yR;},set_calloutVisible:function(value){if(!this.yR&&value&&this.iH()===IPCC.Web.UI.MarkType.Text){if(this.lJ.x===0&&this.lJ.y===0){var K=this.fh();this.set_calloutPoint({x:K.width,y:K.height*1.5});}}this.kR(32,'calloutVisible','yR',value);},get_endHeadAngle:function(){this.fE(3,'endHeadAngle');return this.Ic;},set_endHeadAngle:function(value){this.ym(3,'endHeadAngle','Ic',value,0,180);},get_endHeadLength:function(){this.fE(3,'endHeadLength');return this.Im;},set_endHeadLength:function(value){this.ym(3,'endHeadLength','Im',value,0,100);},get_endHeadType:function(){this.fE(3,'endHeadType');return this.oG;},set_endHeadType:function(value){this.uv(3,'endHeadType','oG',value,IPCC.Web.UI.LineHeadType);},get_href:function(){this.fE(1<<14|1<<15,'href');return this.kK;},set_href:function(value){this.Dw(1<<14|1<<15,'href','kK',value);},has_unsafe_href:function(){return(! !this.kK&&IPCC.J.aba(this.kK));},get_mask:function(){this.fE(65536,'mask');return this.jA;},set_mask:function(value){this.kR(65536,'mask','jA',value);},get_borderType:function(){this.fE(32768,'borderType');return this.PS;},set_borderType:function(value){this.Dw(32768,'borderType','PS',value);},get_borderHorizontalRadius:function(){this.fE(32768,'borderHorizontalRadius');return this.JY;},set_borderHorizontalRadius:function(value){this.xV(32768,'borderHorizontalRadius','JY',value);},get_borderVerticalRadius:function(){this.fE(1<<15,'borderVerticalRadius');return this.Kv;},set_borderVerticalRadius:function(value){this.xV(32768,'borderVerticalRadius','Kv',value);},get_borderOpacity:function(){this.fE(32768,'qQ');return this.qQ;},set_borderOpacity:function(value){this.TF(32768,'qQ','qQ',value,0,255);},get_borderPattern:function(){this.fE(32768,'AQ');return this.AQ;},set_borderPattern:function(value){this.kR(32768,'AQ','AQ',value,0,255);},get_fillColor:function(){this.fE(16380+(1<<14),'fillColor');return this.cj;},set_fillColor:function(value){this.Ke(16380+(1<<14),'fillColor','cj',value);},get_fillVisible:function(){this.fE(16380,'fillVisible');return this.Hu;},set_fillVisible:function(value){this.kR(16380,'fillVisible','Hu',value);},get_fontName:function(){this.fE(6176+8192+65536+(1<<18),'fontName');return this.gb;},set_fontName:function(value){this.Dw(6176+8192+65536+(1<<18),'fontName','gb',value);if(this.iH()===IPCC.Web.UI.MarkType.SignatureText||this.iH()===IPCC.Web.UI.MarkType.TextLine){var bA=(this.iH()===IPCC.Web.UI.MarkType.TextLine)?{vx:'pre'}:{};var ie=IPCC.J.uj(this.ak,this.gb,bA);this.yb=ie.width;this.yw=ie.height;}if(this.iH()===IPCC.Web.UI.MarkType.TextLine){this.Fz=false;}},get_fontSize:function(){this.fE(32+2048+4096+8192,'fontSize');return this.dK;},set_fontSize:function(value){this.ym(32+2048+4096+8192,'fontSize','dK',value,0.1,288);},get_fontStyle:function(){this.fE(6176+(1<<18),'fontStyle');return this.cE;},set_fontStyle:function(value){this.aqD(6176+(1<<18),'fontStyle','cE',value,IPCC.Web.UI.FontStyle);},get_headFillColor:function(){this.fE(3,'headFillColor');return this.zN;},set_headFillColor:function(value){this.Ke(3,'headFillColor','zN',value);},get_interactionMode:function(){this.fE(~0,'interactionMode');return this.mY;},set_interactionMode:function(value){this.uv(~0,'interactionMode','mY',value,IPCC.Web.UI.MarkInteractionMode);if(value===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){this.set_selected(false);}},get_maxLength:function(){this.fE(32+65536+(1<<18),'maxLength');return this.gh;},set_maxLength:function(value){this.xV(32+65536+(1<<18),'maxLength','gh',value);},get_maxFontSize:function(){this.fE(1<<18,'maxFontSize');return this.jx;},set_maxFontSize:function(value){this.xV(1<<18,'maxFontSize','jx',value);},get_isClosed:function(){this.fE(2,'isClosed');return this.rV;},set_isClosed:function(value){this.kR(2,'isClosed','rV',value);},get_lineColor:function(){return this.kp;},set_lineColor:function(value){this.Ke(13567+32768+(1<<17),'lineColor','kp',value);},get_lineStyle:function(){return this.iu;},set_lineStyle:function(value){this.uv(63+32768,'lineStyle','iu',value,IPCC.Web.UI.LineStyle);},get_lineWidth:function(){return this.fC;},set_lineWidth:function(value){this.ym(13567+32768+(1<<17),'lineWidth','fC',value,0,50);},get_lineVisible:function(){this.fE(172+65536,'lineVisible');return this.iF;},set_lineVisible:function(value){this.kR(172+65536,'lineVisible','iF',value);},get_opacity:function(){return this.dk;},set_opacity:function(value){this.TF(895+2048+1024,'opacity','dk',value,0,255);},get_points:function(){this.fE(19,'points');return this.pk();},get_conversation:function(){return this.auh();},get_data:function(){return this.xD();},get_image:function(){this.fE(16384,'image');return this.co();},set_image:function(value){this.fE(16384,'image');this.zF(value);},get_rectangle:function(){this.fE((1<<18)+(1<<17)+65536+32768+16384+8192+4096+2048+1024+512+256+128+64+32+8+4,'rectangle');return this.fh();},set_rectangle:function(value){this.fE((1<<18)+(1<<17)+65536+32768+16384+8192+4096+2048+1024+512+256+128+64+32+8+4,'rectangle');IPCC.aV.K(value,'rectangle');this.DX(value);if(this.iH()===IPCC.Web.UI.MarkType.TextLine){this.Fz=false;}},get_startHeadAngle:function(){this.fE(3,'startHeadAngle');return this.Jj;},set_startHeadAngle:function(value){this.ym(3,'startHeadAngle','Jj',value,0,180);},get_startHeadLength:function(){this.fE(3,'startHeadLength');return this.JI;},set_startHeadLength:function(value){this.ym(3,'startHeadLength','JI',value,0,100);},get_startHeadType:function(){this.fE(3,'startHeadType');return this.HQ;},set_startHeadType:function(value){this.uv(3,'startHeadType','HQ',value,IPCC.Web.UI.LineHeadType);},get_text:function(){this.fE(14496+65536+(1<<17)+(1<<18),'text');return this.ak;},set_text:function(value){if(this.ak===value){return;}this.Dw(14496+65536+(1<<17)+(1<<18),'text','ak',value);if(this.iH()===IPCC.Web.UI.MarkType.SignatureText||this.iH()===IPCC.Web.UI.MarkType.TextLine){var bA=(this.iH()===IPCC.Web.UI.MarkType.TextLine)?{vx:'pre'}:{};var ie=IPCC.J.uj(this.ak,this.gb,bA);this.yb=ie.width;this.yw=ie.height;}if(this.eN){while(this.eN.length>0){this.eN.pop();}}},get_textHorizontalAlignment:function(){this.fE(32+1024+2048+65536+(1<<18),'textHorizontalAlignment');return this.hL;},set_textHorizontalAlignment:function(value){this.uv(32+1024+2048+65536+(1<<18),'textHorizontalAlignment','hL',value,IPCC.Web.UI.HorizontalAlignment);},get_textVerticalAlignment:function(){this.fE(32,'textVerticalAlignment');return this.xb;},set_textVerticalAlignment:function(value){this.uv(32,'textVerticalAlignment','xb',value,IPCC.Web.UI.VerticalAlignment);},get_textColor:function(){this.fE(6176+65536+(1<<18),'textColor');return this.ro;},set_textColor:function(value){this.Ke(6176+65536+(1<<18),'textColor','ro',value);},get_textOpacity:function(){this.fE(32,'textOpacity');return this.yj;},set_textOpacity:function(value){this.TF(32,'textOpacity','yj',value,0,255);},get_textOrientation:function(){this.fE(32,'textOrientation');return this.ye;},set_textOrientation:function(value){this.uv(32,'textOrientation','ye',value,IPCC.Web.UI.Orientation);},get_type:function(){return this.iH();},get_visible:function(){return this.de;},set_visible:function(value){this.kR((1<<17)+65536+32768+16384+8192+4096+2048+1024+512+256+128+64+63,'visible','de',value);},get_markID:function(){return this.ll();},get_pathString:function(){return this.tL;},set_pathString:function(value){var tL=this.get_pathString();if(tL!==value){this.afv=true;}this.Dw(1088,'pathString','tL',value);},get_pathWidth:function(){return this.Wy;},set_pathWidth:function(value){this.xV(1088,'pathWidth','Wy',value);},get_pathHeight:function(){return this.Xb;},set_pathHeight:function(value){this.xV(1088,'pathHeight','Xb',value);},get_startIndex:function(){this.fE((1<<17)+(1<<14)+8192+512,'startIndex');return this.as;},set_startIndex:function(value){this.xV((1<<17)+(1<<14)+8192+512,'startIndex','as',value);},get_textLength:function(){this.fE((1<<17)+(1<<14)+8192+512,'textLength');return this.cR;},set_textLength:function(value){this.xV((1<<17)+(1<<14)+8192+512,'textLength','cR',value);},add_propertyChanged:function(handler){this.lp(handler);},remove_propertyChanged:function(handler){this.mF(handler);},add_markTextSelectionChanged:function(handler){this.FM(handler);},remove_markTextSelectionChanged:function(handler){this.GR(handler);},move:function(deltaX,deltaY){IPCC.aV.jc(deltaX,'deltaX');IPCC.aV.jc(deltaY,'deltaY');this.Hj(deltaX,deltaY);},moveBackward:function(){if(this.eP()){var index=this.eP().oW(this);var dP=this.eP().amr();if(index>dP){this.eP().reorderMark(this,index-1);}}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveForward:function(){if(this.eP()){var index=this.eP().oW(this);if(index<this.eP().Yf()-1){this.eP().reorderMark(this,index+1);}}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveToBack:function(){if(this.eP()){var dP=0;dP=this.eP().amr();this.eP().reorderMark(this,dP);}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveToFront:function(){if(this.eP()){this.eP().reorderMark(this,this.eP().Yf()-1);}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},removeFromPage:function(){if(this.eP()){this.eP().removeMark(this);}},selectText:function(textRanges){this.Vq(textRanges);},azI:function(){var fg={};var F=this;var aX,abV,aG,K,R;function ck(cu,MO){fg[MO]=F[cu];};var jO=false;var jd=false;var wm=false;switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:jO=true;wm=true;fg.__type='LineMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Polyline:jO=true;wm=true;fg.__type='PolyLineMark:#IPCC.Web';ck('rV','ic');break;case IPCC.Web.UI.MarkType.Rectangle:jd=true;fg.__type='RectangleMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.RectangleRedaction:jd=true;fg.__type='RectangleRedactionMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Ellipse:jd=true;fg.__type='EllipseMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Polygon:wm=true;fg.__type='PolygonMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Text:jd=true;fg.__type='TextMark:#IPCC.Web';ck('EA','clc');ck('Az','clid');ck('pS','cls');ck('EG','clw');ck('BN','ct');ck('yR','cv');ck('gb','fn');ck('dK','fs');ck('cE','fst');ck('iu','ls');ck('ak','te');ck('hL','tha');ck('xb','tva');ck('ro','tc');ck('yj','to');ck('ye','tor');aG=this.lJ;if(aG.x!==0||aG.y!==0){fg.cp={x:aG.x,y:aG.y};}break;case IPCC.Web.UI.MarkType.Stamp:jd=true;fg.__type='StampMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:jd=true;fg.__type='HighlightText:#IPCC.Web';break;}if(jO){ck('Ic','eha');ck('Im','ehl');ck('oG','eht');ck('zN','hfc');ck('Jj','sha');ck('JI','shl');ck('HQ','sht');}else{ck('cj','fc');ck('Hu','fv');ck('iF','lv');}if(jd){K=this.get_rectangle();fg.r={x:K.x,y:K.y,width:K.width,height:K.height};}fg.t=this.get_type();ck('kp','lc');ck('iu','ls');ck('fC','lw');ck('dk','o');ck('de','v');if(wm){aX=this.pk();abV=[];for(R=0;R<aX.get_length();R++){aG=aX.getPoint(R);abV.push({x:aG.x,y:aG.y});}fg.p=abV;}return fg;},aDZ:function(fg){var F=this;var aX,R;function ck(cu,MO){if(fg.hasOwnProperty(MO)){F[cu]=fg[MO];}};var jO=false;var jd=false;var wm=false;switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:jO=true;if(fg.p&&fg.p.length===2){aX=this.pk();aX.setPoint(0,new IPCC.Web.UI.Point(fg.p[0].x,fg.p[0].y));aX.setPoint(1,new IPCC.Web.UI.Point(fg.p[1].x,fg.p[1].y));}break;case IPCC.Web.UI.MarkType.Polyline:jO=true;wm=true;ck('rV','ic');break;case IPCC.Web.UI.MarkType.Rectangle:jd=true;break;case IPCC.Web.UI.MarkType.RectangleRedaction:jd=true;break;case IPCC.Web.UI.MarkType.Ellipse:jd=true;break;case IPCC.Web.UI.MarkType.Polygon:wm=true;break;case IPCC.Web.UI.MarkType.Text:jd=true;ck('EA','clc');ck('Az','clid');ck('pS','cls');ck('EG','clw');ck('BN','ct');ck('yR','cv');ck('gb','fn');ck('dK','fs');ck('cE','fst');ck('iu','ls');ck('ak','te');ck('hL','tha');ck('xb','tva');ck('ro','tc');ck('yj','to');ck('ye','tor');if(fg.cp){this.lJ=new IPCC.Web.UI.Point(fg.cp.x,fg.cp.y);}break;case IPCC.Web.UI.MarkType.Stamp:jd=true;break;case IPCC.web.UI.MarkType.Highlight:case IPCC.web.UI.MarkType.HighlightText:case IPCC.web.UI.MarkType.Strikethrough:jd=true;break;}if(jO){ck('Ic','eha');ck('Im','ehl');ck('oG','eht');ck('zN','hfc');ck('Jj','sha');ck('JI','shl');ck('HQ','sht');}else{ck('cj','fc');ck('Hu','fv');ck('iF','lv');}if(jd){if(fg.r){this.set_rectangle(new IPCC.Web.UI.Rectangle(fg.r.x,fg.r.y,fg.r.width,fg.r.height));}}fg.t=this.get_type();ck('kp','lc');ck('iu','ls');ck('fC','lw');ck('dk','o');ck('de','v');if(fg.p&&wm){aX=this.pk();for(R=0;R<fg.p.length;R++){aX.addPoint(new IPCC.Web.UI.Point(fg.p[R].x,fg.p[R].y));}}return fg;}};Ld.registerClass=dh;Ld.registerClass('IPCC.Web.UI.Mark');module.exports=Ld;},{"../../IPCC.Util":29}],105:[function(require,module,exports){var dh=require('../../IPCC.Util').regClass;var Lv=function(){var bz=[];var aS=new IPCC.Web.UI.hH();this.PD=function(h){if(this.HW(h)=== -1){bz.push(h);var V=new IPCC.Web.UI.MarkEventArgs();V.mark=h;this.bB('markAdded',V);}};this.ave=function(xY){var V=new IPCC.Web.UI.MarkEventArgs();V.length=xY.get_length();var F=this;function lb(h){if(F.HW(h)=== -1){bz.push(h);}};xY.forEach(lb,{});if(V.length>0){this.bB('markAdded',V);}};this.jS=function(io,cl){var Ju=[].concat(bz);var R;for(R=0;R<Ju.length;R++){io.call(cl,Ju[R],R,this);}};this.fq=function(){return bz.length;};this.ue=function(h){var R=this.HW(h);if(R> -1){bz.splice(R,1);var V=new IPCC.Web.UI.MarkEventArgs();V.mark=h;this.bB('markRemoved',V);}};this.HW=function(h){var R;for(R=0;R<bz.length;R++){if(bz[R]===h){return R;}}return-1;};this.yH=function(H){aS.addHandler('markAdded',H);};this.Au=function(H){aS.removeHandler('markAdded',H);};this.xU=function(H){aS.addHandler('markRemoved',H);};this.zL=function(H){aS.removeHandler('markRemoved',H);};this.bB=function(dF,V){var H=aS.getHandler(dF);if(H!==null){H(this,V);}};return this;};Lv.prototype={toString:function(){return 'MarkCollection with '+this.get_length()+' marks';},addMark:function(mark){this.PD(mark);},addMarks:function(markCollection){this.ave(markCollection);},forEach:function(method,context){this.jS(method,context);},get_length:function(){return this.fq();},contains:function(mark){return this.HW(mark)> -1;},removeMark:function(mark){this.ue(mark);},removeAllMarks:function(){this.jS(function(h,an,xY){xY.ue(h);});},add_markAdded:function(handler){this.yH(handler);},remove_markAdded:function(handler){this.Au(handler);},add_markRemoved:function(handler){this.xU(handler);},remove_markRemoved:function(handler){this.zL(handler);}};Lv.registerClass=dh;Lv.registerClass('IPCC.Web.UI.MarkCollection');module.exports=Lv;},{"../../IPCC.Util":29}],106:[function(require,module,exports){var dh=require('../../IPCC.Util').regClass;var NX=function(){return this;};NX.registerClass=dh;NX.prototype={};NX.registerClass('IPCC.Web.UI.MarkEventArgs');module.exports=NX;},{"../../IPCC.Util":29}],107:[function(require,module,exports){var dA=require('../../IPCC.Util').regEnum;var GC=function(){};GC.registerEnum=dA;GC.prototype={HideSideHandlesWhenClose:0,HideCornerHandlesWhenClose:1};GC.registerEnum('IPCC.Web.UI.MarkHandleMode',false);module.exports=GC;},{"../../IPCC.Util":29}],108:[function(require,module,exports){var dA=require('../../IPCC.Util').regEnum;var Oj=function(){};Oj.registerEnum=dA;Oj.prototype={Full:0,SelectionDisabled:1};Oj.registerEnum('IPCC.Web.UI.MarkInteractionMode',false);module.exports=Oj;},{"../../IPCC.Util":29}],109:[function(require,module,exports){var dA=require('../../IPCC.Util').regEnum;var MJ=function(){};MJ.registerEnum=dA;MJ.prototype={Line:3,Polyline:502,Rectangle:600,Ellipse:601,Polygon:604,Text:605,Highlight:606,Stamp:607,HighlightText:608,SignaturePath:609,Freehand:610,SignatureText:611,SignatureImage:612,RectangleRedaction:613,TextSelectionRedaction:614,ImageStampAnnotation:615,ImageStampRedaction:616,TextHyperlinkAnnotation:617,DocumentHyperlink:618,TextLine:619,Strikethrough:620,TextAreaSignature:621};MJ.registerEnum('IPCC.Web.UI.MarkType',false);module.exports=MJ;},{"../../IPCC.Util":29}],110:[function(require,module,exports){var dA=require('./../../IPCC.Util').regEnum;var Rq=function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}throw new IPCC.Web.UI.ImGearNotImplementedException();};Rq.registerEnum=dA;Rq.prototype={leftButton:0,middleButton:1,rightButton:2};Rq.registerEnum("IPCC.Web.UI.MouseButton");},{"./../../IPCC.Util":29}],111:[function(require,module,exports){var dh=require('../../IPCC.Util').regClass;var MV=function(){var ahf=false;this.axh=function(){ahf=true;};this.aeo=function(){return ahf;};return this;};MV.prototype={preventDefault:function(){this.axh();}};MV.registerClass=dh;MV.registerClass('IPCC.Web.UI.MouseEventArgs');module.exports=MV;},{"../../IPCC.Util":29}],112:[function(require,module,exports){var dA=require('../../IPCC.Util').regEnum;var MB=function(){};MB.registerEnum=dA;MB.prototype={None:0,Magnifier:1,RectangleZoom:2,HandPan:3,Select:4,CreateRectangleMark:5,CreateEllipseMark:6,CreateLineMark:7,CreatePolylineMark:8,CreateFreehandMark:9,CreatePolygonMark:10,CreateTextMark:11,EditMarks:12,RunMarks:13,SelectText:14,CreateStampMark:15,CreateHighlightTextMark:16,CreateTextSelectionRedaction:17,CreateRectangleRedactionMark:18,CreateImageStampAnnotationMark:19,CreateImageStampRedactionMark:20,CreateTextHyperlinkMark:21,CreateTextInputSignatureMark:22,CreateStrikethroughMark:23,CreateTextAreaSignatureMark:24};MB.registerEnum('IPCC.Web.UI.MouseTool',false);module.exports=MB;},{"../../IPCC.Util":29}],113:[function(require,module,exports){var dA=require('../../IPCC.Util').regEnum;var LF=function(){};LF.registerEnum=dA;LF.prototype={TopLeft:1,TopRight:2,BottomRight:3,BottomLeft:4,LeftTop:5,RightTop:6,RightBottom:7,LeftBottom:8};LF.registerEnum('IPCC.Web.UI.Orientation',false);module.exports=LF;},{"../../IPCC.Util":29}],114:[function(require,module,exports){var ajS=function(element,oz,PW){var ge=this;var bb;var G;var xw=0;var Od='';var Kg=false;var aS=new IPCC.Web.UI.hH();var fp=null;var pL=IPCC.pL;var aih=IPCC.pL;var Ku=0.0;var Ge=false;var LC=0;var ahA= -1;var ahj= -1;var ahi= -1;function mB(Ib){if(!G){return false;}return G.mB(Ib);};this.bp=function(ir,iO){if(mB(IPCC.Web.UI.DebugErrorLevel.Production)){G.bp(ir,iO);}};this.ay=function(ir,kO,ru){if(!mB(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var dO=ir+'(';var R;for(R=0;R<kO.length;R++){if(R>0){dO+=', ';}dO+=IPCC.jf.qq(kO[R],(ru?ru:0));}dO+=')';this.wC(dO,IPCC.Web.UI.DebugErrorLevel.Development);};this.Ek=function(ir,kO,lD,ru){if(!mB(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var dO=ir+'(';var R;for(R=0;R<kO.length;R++){if(R>0){dO+=', ';}dO+=IPCC.jf.qq(kO[R],(ru?ru:0));}dO+=') = ';dO+=IPCC.jf.qq(lD,1);this.wC(dO,IPCC.Web.UI.DebugErrorLevel.Development);};this.cC=function(ir,kO,lD){if(!mB(IPCC.Web.UI.DebugErrorLevel.Detailed)){return;}var dO=ir+'(';var R;for(R=0;R<kO.length;R++){if(R>0){dO+=', ';}dO+=IPCC.jf.qq(kO[R],0);}dO+=') = ';dO+=IPCC.jf.qq(lD,1);this.wC(dO,IPCC.Web.UI.DebugErrorLevel.Detailed);};this.wC=function(hX,bQ){if(G){G.nv(hX,IPCC.Web.UI.DebugItemCause.FunctionCall,bQ);}};this.nv=function(hX){if(G){G.nv(hX,IPCC.Web.UI.DebugItemCause.Custom,IPCC.Web.UI.DebugErrorLevel.Production);}};this.JM=function(){return G.get_debug();};this.Vu=function(C){G.set_debug(C);};this.AL=function(){return G.AL();};this.GB=function(C){IPCC.aV.kS(C,'value',IPCC.Web.UI.DebugErrorLevel);G.GB(C);};this.aGO=function(C){Ge=C;};this.aIk=function(){return Ge;};var oR=function(){if(G.co()===undefined){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot perform this operation unless an image is open (and it has completed the opening process).');}};function db(dF,H){aS.addHandler(dF,H);};function cd(dF,H){aS.removeHandler(dF,H);};this.FL=function(iK,cs){G.ayc(iK,cs);};this.ayY=function(cs,h){G.wY(h);G.cn();};this.WH=function(H){db('pageOpening',H);};this.UN=function(H){cd('pageOpening',H);};this.Xm=function(H){db('pageOpened',H);};this.VP=function(H){cd('pageOpened',H);};this.awr=function(H){db('pageClosed',H);};this.aBL=function(H){cd('pageClosed',H);};this.GX=function(H){db('pageOpenFailed',H);};this.FH=function(H){cd('pageOpenFailed',H);};this.WC=function(H){db('pageDisplayed',H);};this.VI=function(H){cd('pageDisplayed',H);};this.Qm=function(H){db('mouseDown',H);};this.Uu=function(H){cd('mouseDown',H);};this.Qn=function(H){db('mouseMove',H);};this.VM=function(H){cd('mouseMove',H);};this.OQ=function(H){db('mouseUp',H);};this.VV=function(H){cd('mouseUp',H);};this.auV=function(H){db('contextMenu',H);};this.aBm=function(H){cd('contextMenu',H);};this.yH=function(H){db('markAdded',H);};this.Au=function(H){cd('markAdded',H);};this.Xj=function(H){db('markCreating',H);};this.US=function(H){cd('markCreating',H);};this.IF=function(H){db('markChanged',H);};this.Hw=function(H){cd('markChanged',H);};this.xU=function(H){db('markRemoved',H);};this.zL=function(H){cd('markRemoved',H);};this.Fn=function(H){db('markReordered',H);};this.HL=function(H){cd('markReordered',H);};this.XH=function(H){db('marksLoaded',H);};this.Uo=function(H){cd('marksLoaded',H);};this.EZ=function(H){db('markSelectionChanged',H);};this.HG=function(H){cd('markSelectionChanged',H);};this.zs=function(H){db('textPageReady',H);};this.Dc=function(H){cd('textPageReady',H);};this.Uv=function(H){db('selectTextMouseToolCompleted',H);};this.VQ=function(H){cd('selectTextMouseToolCompleted',H);};this.Wj=function(H){db('exceptionThrown',H);};this.Vt=function(H){db('scaleChanged',H);};this.VU=function(H){cd('scaleChanged',H);};this.UJ=function(H){cd('exceptionThrown',H);};this.zy=function(H){db('textExtractionFailed',H);};this.Co=function(H){cd('textExtractionFailed',H);};this.lp=function(H){db('propertyChanged',H);};this.mF=function(H){cd('propertyChanged',H);};var bB=function(dF,V){try{var H;H=aS.getHandler(dF);if(H){H(ge,V);}}catch(e){ge.bp(dF+'Event',e);}};var pK=function(dF){function CO(aj,V){bB(dF,V);};G['add_'+dF](CO);};var Jq=function(dF){function CO(aj,V){if(Kg&&G.OS()){Bb();}bB(dF,V);};G['add_'+dF](CO);};function Bb(){var fc,nG,Yu;if(Od!==''){Yu=document.getElementById(Od);if(Yu){fc=ge.Pe();nG='{encodedDocumentIdentifier:"'+fc.encodedDocumentIdentifier;nG+='",pageNumber:'+fc.pageNumber.toString();nG+=',viewFitType:'+fc.viewFitType.toString();if(fc.viewRectangle&&fc.viewFitType===IPCC.Web.UI.FitType.Rectangle){nG+=',viewRectangle:{x:'+fc.viewRectangle.x.toFixed(5);nG+=',y:'+fc.viewRectangle.y.toFixed(5);nG+=',width:'+fc.viewRectangle.width.toFixed(5);nG+=',height:'+fc.viewRectangle.height.toFixed(5);nG+='}';}if(fc.viewRotationDegreesClockwise){nG+=',viewRotationDegreesClockwise:'+fc.viewRotationDegreesClockwise.toString();}if(fc.viewMirror){nG+=',viewMirror:'+fc.viewMirror.toString();}if(fc.viewZoomFactor){nG+=',viewZoomFactor:'+fc.viewZoomFactor.toString();}if(Kg){var bN=G.eP();if(bN){nG+=',artPageJson:"'+IPCC.gG.rI(bN.saveToJson())+'"';}}nG+='}';Yu.value=nG;}}};var aqc=function(){function CO(aj,V){var Zk=true;switch(V.get_propertyName()){case 'documentIdentifier':case 'pageNumber':case 'artPage':case 'includeArtInPostBack':case 'displayedPageRectangle':Bb();break;case 'magnifierWindowPosition':case 'magnifierIsVisible':case 'cursor':case 'markCursor':case 'inProgressMark':case 'Iw':case 'wt':Zk=false;break;case 'Ig':if(G.OS()){Bb();}Zk=false;break;}if(Zk){bB('propertyChanged',V);}};G.lp(CO);};this.YN=function(ao){IPCC.aV.kS(ao,'type',IPCC.Web.UI.FitType);if(ao===IPCC.Web.UI.FitType.Rectangle){throw new IPCC.Web.UI.ImGearArgumentException('type','The value must be a member of the IPCC.Web.UI.FitType enumeration (other than Rectangle).');}oR();fp={aAj:true,viewFitType:ao};Um();};this.eV=function(){return G.co()!==undefined;};this.kL=function(){oR();return G.co().width;};this.iY=function(){oR();return G.co().height;};this.asR=function(){oR();return G.co().fZ;};this.arC=function(){return G.aO().ef().akN();};this.arT=function(){oR();return G.co().gj;};this.Jc=function(){if(!G|| !(G.co())){return '';}return G.co().get_identifier();};this.Qh=function(){if(!G|| !(G.co())){return '';}return G.co().get_encodedIdentifier();};this.oS=function(){if(!G|| !(G.co())){return-1;}return G.co().aP;};this.atG=function(){if(!G|| !(G.co())){return 0;}return G.co().eD;};this.ans=function(){var by=G.co();if(!by){return new IPCC.Web.UI.Rectangle(0,0,0,0);}var bK=G.fN();bK.x=bK.y=0;var sR=G.aO().ef();sR.vi();var cO=sR.ze(bK);if(cO.x<0){cO.width+=cO.x;cO.x=0;}if(cO.y<0){cO.height+=cO.y;cO.y=0;}if(cO.x+cO.width>by.width){cO.width=by.width-cO.x;}if(cO.y+cO.height>by.height){cO.height=by.height-cO.y;}return cO;};function QS(){var cB={},ca=G.aO().ef();cB.documentIdentifier=ge.Jc();cB.encodedDocumentIdentifier=ge.Qh();cB.pageNumber=ge.oS();cB.artPage=ge.eP();cB.referenceDocumentIdentifier=ge.Jc();cB.referencePageNumber=ge.oS();cB.viewFitType=IPCC.Web.UI.FitType.Rectangle;cB.viewRectangle=ge.ans();cB.imGearPage=ge.na();cB.transientArtPage=ge.nh();var hw=ca.akN();if(hw!==0){cB.viewRotationDegreesClockwise=hw;}if(ca.atF()){cB.viewMirror=true;}return cB;};this.aiy=function(as,dc){G.aiy(as,dc);};this.Pe=function(){var cB;if(bb){cB=new IPCC.Web.UI.PageViewState();cB.documentIdentifier=bb.documentIdentifier;cB.encodedDocumentIdentifier=bb.encodedDocumentIdentifier;cB.pageNumber=bb.pageNumber;cB.artPage=bb.artPage;cB.artPageJson=bb.artPageJson;cB.referenceDocumentIdentifier=bb.documentIdentifier;cB.referencePageNumber=bb.pageNumber;cB.viewFitType=bb.viewFitType;cB.viewRectangle=bb.viewRectangle;cB.viewRotationDegreesClockwise=bb.viewRotationDegreesClockwise;cB.viewMirror=bb.viewMirror;cB.viewZoomFactor=bb.viewZoomFactor;cB.transientArtPage=bb.transientArtPage;}else{cB=QS();}return cB;};this.RY=function(bh){var bK=G.fN();this.afH(bh,{x:bK.width/2,y:bK.height/2});};this.afH=function(bh,dJ){IPCC.aV.jM(bh,'factor',1.01,20);IPCC.aV.aG(dJ,'point');oR();var aU=G.aO();var az=aU.ef();var aL=G.co();var jU=az.nD();if(jU*bh>aL.qV){bh=aL.qV/jU;}az.yo(bh,bh,dJ.x,dJ.y);az.ke(aL,G.fN());fp=null;aU.iB(az);};this.Vi=function(bh){var bK=G.fN();this.aeW(bh,{x:bK.width/2,y:bK.height/2});};this.aeW=function(bh,dJ){IPCC.aV.jM(bh,'factor',1.01,20);IPCC.aV.aG(dJ,'point');oR();var aU=G.aO();var az=aU.ef();var aL=G.co();var jU=az.nD();if(jU/bh<aL.sV){bh=jU/aL.sV;}az.yo(1/bh,1/bh,dJ.x,dJ.y);az.ke(aL,G.fN());fp=null;aU.iB(az);};this.ly=function(bh){var bK=G.fN();this.anT(bh,{x:bK.width/2,y:bK.height/2});};this.EL=function(bh){var aU=G.aO();fp=null;aU.EL(bh);};this.CE=function(bh){var aU=G.aO();fp=null;aU.CE(bh);};this.Gk=function(bh){var aU=G.aO();fp=null;aU.Gk(bh);};this.anT=function(bh,dJ){IPCC.aV.aG(dJ,'point');oR();var aU=G.aO();var az=aU.ef();var aL=G.co();var jU=az.nD();if(bh>aL.qV){bh=aL.qV;}else if(bh<aL.sV){bh=aL.sV;}az.yo(bh/jU,bh/jU,dJ.x,dJ.y);az.ke(aL,G.fN());fp=null;aU.iB(az);};this.xl=function(si){IPCC.aV.Ts(si,'degreesClockwise',[90,180,270,-90,-180,-270]);oR();var aU=G.aO();var az=aU.ef();var bK=G.fN();az.aex(si,bK.width/2,bK.height/2);az.ke(G.co(),G.fN());fp=null;aU.iB(az);};this.agN=function(){oR();var aU=G.aO();var az=aU.ef();var bK=G.fN();az.yo(-1,1,bK.width/2,bK.height/2);az.ke(G.co(),G.fN());fp=null;aU.iB(az);};this.aqi=function(cO){IPCC.aV.K(cO,'pageRectangle');oR();var aU=G.aO();var az=aU.ef();var bK=G.fN();var aL=G.co();az.Pz(aL,bK,cO);az.ke(aL,G.fN());fp=null;aU.iB(az);};this.aqk=function(dz){IPCC.aV.aG(dz,'imagePoint');oR();var aU=G.aO();var az=aU.ef();var bK=G.fN();az.akd(bK,dz);az.ke(G.co(),G.fN());fp=null;aU.iB(az);};this.agR=function(){oR();fp=null;var aU=G.aO();var az=aU.ef();var bK=G.fN();az.yo(1,-1,bK.width/2,bK.height/2);az.ke(G.co(),G.fN());fp=null;aU.iB(az);};this.cn=function(){G.cn();};this.HH=function(){G.HH();};var Um=function(){var aL=G.co();var bK=G.fN();var az;if(!fp){az=G.aO().ef();az.ke(aL,bK);G.aO().iB(az);return;}if(fp.aAj){az=G.aO().ef();}else{az=new IPCC.fH();az.apz(aL,bK);if(fp.viewRotationDegreesClockwise){az.rotate(fp.viewRotationDegreesClockwise);}if(fp.viewMirror){az.anI(bK);}}if(fp.viewZoomFactor){if(fp.viewZoomFactor>aL.qV){fp.viewZoomFactor=aL.qV;}else if(fp.viewZoomFactor<aL.sV){fp.viewZoomFactor=aL.sV;}fp.viewFitType=IPCC.Web.UI.FitType.ActualSize;az.WZ(fp.viewFitType,aL,bK);az.scale(fp.viewZoomFactor,fp.viewZoomFactor);}else{if(!fp.viewFitType&&fp.viewFitType!==0){fp.viewFitType=IPCC.Web.UI.FitType.FullImage;}if(fp.viewFitType===IPCC.Web.UI.FitType.Rectangle&& !fp.viewRectangle){fp.viewFitType=IPCC.Web.UI.FitType.FullImage;}if(fp.viewFitType!==IPCC.Web.UI.FitType.Rectangle){az.WZ(fp.viewFitType,aL,bK);}else{az.Pz(aL,bK,fp.viewRectangle);}}az.ke(aL,bK);G.aO().iB(az);};var amZ=function(JV){fp=JV;LC=0;Um();};this.KT=function(ad){xw++;var Vl=xw;var ayr={};Ku=0.0;G.Lm=0.0;IPCC.gG.aiF(ad);if(mB(IPCC.Web.UI.DebugErrorLevel.Development)){var dO='opening documentIdentifier "'+ad.documentIdentifier+'", pageNumber '+ad.pageNumber;this.wC(dO,IPCC.Web.UI.DebugErrorLevel.Development);}bb=new IPCC.Web.UI.PageViewState();var R;for(R in ad){if(ad.hasOwnProperty(R)){bb[R]=ad[R];}}if(ad.documentIdentifier===''){this.Or();return;}if(IPCC.Web.UI.ArtPage){if(bb){if(!bb.artPage){var bN=new IPCC.Web.UI.ArtPage();if(bb.artPageJson){bN.loadFromJson(bb.artPageJson);}bb.artPage=bN;}if(!bb.documentArtPage){var ff=new IPCC.Web.UI.ArtPage();bb.documentArtPage=ff;}if(this.kD()===true){if(!bb.imGearPage){var gy=new IPCC.Web.UI.ImGearDocument({documentIdentifier:ad.documentIdentifier,imageServicePath:this.tn()});bb.imGearPage=new IPCC.Web.UI.ImGearPage({pageNumber:ad.pageNumber,bE:gy});gy.get_pages().addPage(bb.imGearPage);}if(!bb.transientArtPage){bb.transientArtPage=new IPCC.Web.UI.ArtPage();}}}}if(bb.viewRotationDegreesClockwise){IPCC.aV.Ts(bb.viewRotationDegreesClockwise,'parameters.viewRotationDegreesClockwise',[0,90,180,270,-90,-180,-270]);}if(bb.viewFitType){IPCC.aV.kS(bb.viewFitType,'parameters.viewFitType',IPCC.Web.UI.FitType);}if(bb.viewZoomFactor){IPCC.aV.jM(bb.viewZoomFactor,'parameters.viewZoomFactor',0,20);}bB('pageOpening',ad);var by=new IPCC.gG(ad.encodedDocumentIdentifier,ad.pageNumber,0,0,0,0);var nS=function(){if(Vl!==xw){return;}var sQ=null;if(G.co()){sQ=QS();}G.aO().nU();G.zF(by);amZ(bb);if(ad.artServiceOption===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(bb){if(bb.artPage){G.lF(bb.artPage);G.eP().loadFromJson(by.axV);}}}else{if(bb){if(bb.artPage){G.lF(bb.artPage);}if(bb.documentArtPage){G.FO(bb.documentArtPage);}if(G.kD()===true){if(bb.imGearPage){var WQ=bb.imGearPage.get_pageWidth();var XD=bb.imGearPage.get_pageHeight();bb.imGearPage.mv(ge.jz());if(!WQ){bb.imGearPage.Lx(ge.get_pageWidth());}if(!XD){bb.imGearPage.KP(ge.get_pageHeight());}G.AW(bb.imGearPage);if(typeof(G.na().zp==='function')){if(!G.na().dg().vP()){bb.imGearPage.yd(ge.lm());setTimeout(G.na().zp,1000);}}}if(bb.transientArtPage){G.Bq(bb.transientArtPage);}}}}bb=null;if(sQ){bB('pageClosed',sQ);}Bb();bB('pageOpened',ad);};if(ad.artServiceOption===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(bb){if(!bb.artPageJson){by.aIh(G.tn(),G,nS,ayr);}else{by.SK(G.tn(),G,nS);}}}else{by.SK(G.tn(),G,nS);}};this.Or=function(){xw++;if(!(G.co())){return;}var sQ=QS();G.zF(undefined);G.lF(undefined);G.AW(undefined);G.Bq(undefined);this.cn();Bb();sQ=undefined;bb=undefined;fp=undefined;var cP;cP=ge.mZ();if(cP.igElements){if(cP.igElements.od){cP.igElements.od.AI=null;cP.igElements.od.wb=null;cP.igElements.od.GE=null;cP.igElements.od=null;}cP.igElements.BU=null;cP.igElements.eS=null;cP.igElements.hk=null;cP.igElements.cz=null;cP.igElements.mI=null;cP.igElements.mR=null;cP.igElements.kG=null;cP.igElements.pD=null;cP.igElements.Pr=null;cP.igElements.Za=null;cP.igElements.qI=null;}ge=null;cP.bw=null;bB('pageClosed',sQ);};this.azF=function(ad){xw++;var Vl=xw;Ku=0.0;G.Lm=0.0;IPCC.gG.aiF(ad);if(mB(IPCC.Web.UI.DebugErrorLevel.Development)){var dO='opening documentIdentifier "'+ad.documentIdentifier+'", pageNumber '+ad.pageNumber;this.wC(dO,IPCC.Web.UI.DebugErrorLevel.Development);}bb=new IPCC.Web.UI.PageViewState();var R;for(R in ad){if(ad.hasOwnProperty(R)){bb[R]=ad[R];}}if(ad.documentIdentifier===''){this.Or();return;}if(IPCC.Web.UI.ArtPage){if(bb){if(!bb.artPage){var bN=new IPCC.Web.UI.ArtPage();bb.artPage=bN;}if(!bb.documentArtPage){var ff=new IPCC.Web.UI.ArtPage();bb.documentArtPage=ff;}if(this.kD()===true){if(!bb.imGearPage){var gy=new IPCC.Web.UI.ImGearDocument({documentIdentifier:ad.documentIdentifier,imageServicePath:this.tn()});bb.imGearPage=new IPCC.Web.UI.ImGearPage({pageNumber:ad.pageNumber,bE:gy});gy.get_pages().addPage(bb.imGearPage);}if(!bb.transientArtPage){bb.transientArtPage=new IPCC.Web.UI.ArtPage();}}}}if(bb.viewRotationDegreesClockwise){IPCC.aV.Ts(bb.viewRotationDegreesClockwise,'parameters.viewRotationDegreesClockwise',[0,90,180,270,-90,-180,-270]);}if(bb.viewFitType){IPCC.aV.kS(bb.viewFitType,'parameters.viewFitType',IPCC.Web.UI.FitType);}if(bb.viewZoomFactor){IPCC.aV.jM(bb.viewZoomFactor,'parameters.viewZoomFactor',0,20);}bB('pageOpening',ad);var by=new IPCC.gG(ad.encodedDocumentIdentifier,ad.pageNumber,0,0,0,0);var nS=function(){if(Vl!==xw){return;}var sQ=null;if(G.co()){sQ=QS();}G.aO().nU();G.zF(by);amZ(bb);if(bb){if(bb.artPage){G.lF(bb.artPage);}if(bb.documentArtPage){G.FO(bb.documentArtPage);}if(G.kD()===true){if(bb.imGearPage){var WQ=bb.imGearPage.get_pageWidth();var XD=bb.imGearPage.get_pageHeight();bb.imGearPage.mv(ge.jz());if(!WQ){bb.imGearPage.Lx(ge.get_pageWidth());}if(!XD){bb.imGearPage.KP(ge.get_pageHeight());}G.AW(bb.imGearPage);if(typeof(G.na().zp==='function')){if(!G.na().dg().vP()){bb.imGearPage.yd(ge.lm());setTimeout(G.na().zp,1000);}}}if(bb.transientArtPage){G.Bq(bb.transientArtPage);}}}bb=null;if(sQ){bB('pageClosed',sQ);}Bb();bB('pageOpened',ad);};by.azr(G.tn(),G,nS);};this.aHF=function(){xw++;if(!(G.co())){return;}var by=G.co();G.zF(undefined);this.cn();G.zF(by);};this.ZQ=function(CW){G.ZQ(CW);};this.lF=function(C){G.lF(C);};this.eP=function(){return G.eP();};this.FO=function(C){G.FO(C);};this.OR=function(){return G.OR();};this.nh=function(){return G.nh();};this.Bq=function(C){G.Bq(C);};this.Bu=function(){return G.Bu();};this.aoL=function(C){G.aoL(C);};this.Ir=function(C){G.Ir(C);};this.wR=function(){return G.wR();};this.aqM=function(C){aih=this.apd(C);};this.iI=function(){return aih;};this.ajz=function(C){G.ajz(C);};this.ZO=function(){return G.ZO();};this.mP=function(){return G.mP();};this.qh=function(C){G.qh(C);};this.abw=function(C){G.abw(C);};this.Ws=function(){return G.Ws();};this.Ty=function(azs){G.Ty(azs);};this.Wu=function(){return G.Wu();};this.apd=function(av){var be='',KM='',Tw=function(bu){var rr=0,be;for(be in bu){if(bu.hasOwnProperty(be)){rr+=1;}}return rr;};for(be in pL){if(pL.hasOwnProperty(be)){if(typeof av[be]==='undefined'){av[be]=pL[be];}if(typeof av[be]==='object'){if(!Tw(av[be])){av[be]=pL[be];}else if(Tw(av[be])!==Tw(pL[be])){for(KM in pL[be]){if(typeof av[be][KM]==='undefined'){av[be][KM]=pL[be][KM];}}}}}}return av;};this.aqd=function(apG){if(apG===false){IPCC.gi=false;G.ek([new IPCC.lK(),new IPCC.bY(),new IPCC.dH(),new IPCC.cQ(false)]);}else{IPCC.gi=true;IPCC.akw=this.iI();G.ek([new IPCC.lK(),new IPCC.bY(),new IPCC.eI(),new IPCC.dH(),new IPCC.cQ(false)]);}};this.nU=function(){var aU=G.aO();if(!aU.Ay()){return;}G.aO().nU();};this.apC=function(cO){IPCC.aV.K(cO,'pageRectangle');var by=G.co();if(by){G.aO().showSelection(cO);}};this.Bm=function(dz){IPCC.aV.aG(dz,'imagePoint');if(G.co()){G.aO().Bm(new IPCC.Web.UI.Point(dz.x,dz.y));}};this.xZ=function(dz){IPCC.aV.aG(dz,'imagePoint');if(G.co()){G.aO().xZ(new IPCC.Web.UI.Point(dz.x,dz.y));}};this.vE=function(){if(G.co()&&G.aO().Ay()){return G.aO().vE();}return new IPCC.Web.UI.Rectangle(0,0,0,0);};this.arO=function(){if(G.co()&&G.aO().Ay()){var cO=G.aO().vE();return G.aO().ef().ze(cO);}return new IPCC.Web.UI.Rectangle(0,0,0,0);};this.Ay=function(){return! !(G.co()&&G.aO().Ay());};this.tn=function(){return G.tn();};this.UF=function(C){IPCC.aV.lW(C,'value');G.UF(C);};this.aul=function(){return Od;};this.apF=function(C){IPCC.aV.lW(C,'value');Od=C;};this.atH=function(){return Kg;};this.aqy=function(C){Kg=C;};var vn='';this.uM=function(C){G.uM(C);vn=C;};this.mZ=function(){return vn;};this.atY=function(){return G.aO().get_magnifierMagnification();};this.anZ=function(C){IPCC.aV.jM(C,'value',1.5,8);G.aO().set_magnifierMagnification(C);};this.auj=function(){return G.aO().uq().width;};this.apf=function(C){IPCC.aV.jM(C,'value',25,500);var rr=G.aO().uq();rr.width=C;G.aO().set_magnifierWindowSize(rr);};this.atr=function(){return G.aO().uq().height;};this.aoG=function(C){IPCC.aV.jM(C,'value',25,500);var rr=G.aO().uq();rr.height=C;G.aO().set_magnifierWindowSize(rr);};this.PY=function(){return G.aO().PY();};this.XV=function(C){IPCC.aV.jM(C,'value',-500,500);G.aO().XV(C);};this.Qa=function(){return G.aO().Qa();};this.Wg=function(C){IPCC.aV.jM(C,'value',-500,500);G.aO().Wg(C);};this.Yt=function(){return G.aO().Yt();};this.Xs=function(C){IPCC.aV.jM(C,'value',0.1,0.5);G.aO().Xs(C);};this.zx=function(){return G.aO().zx();};this.Ks=function(C){G.aO().Ks(C);};this.raisePropertyChanged=function(cu,vT){if(G){G.di(cu,vT);}};var aT= -1;this.YU=function(){return aT;};this.aIE=function(C){G.qH=C;};this.Mh=function(C){G.set_areMarksEditable(C);};this.aHE=function(){return G.set_areMarksEditable();};this.Hn=function(C){IPCC.aV.kS(C,'value',IPCC.Web.UI.MouseTool);if(aT!==C){aT=C;var iJ="None";switch(aT){case IPCC.Web.UI.MouseTool.None:G.ek([]);break;case IPCC.Web.UI.MouseTool.Magnifier:if(IPCC.gi===true){G.ek([new IPCC.pJ(),new IPCC.bY(),new IPCC.eI(false,this.iI()),new IPCC.dH(),new IPCC.cQ(false)]);}else{G.ek([new IPCC.pJ(),new IPCC.bY(),new IPCC.dH(),new IPCC.cQ(false)]);iJ="Magnifier";}break;case IPCC.Web.UI.MouseTool.RectangleZoom:if(IPCC.gi===true){G.ek([new IPCC.lK(),new IPCC.bY(),new IPCC.eI(false,this.iI()),new IPCC.dH(),new IPCC.cQ(false)]);}else{G.ek([new IPCC.lK(),new IPCC.bY(),new IPCC.dH(),new IPCC.cQ(false)]);}iJ="RectangleZoom";break;case IPCC.Web.UI.MouseTool.HandPan:if(IPCC.gi===true){G.ek([new IPCC.oU(),new IPCC.bY(),new IPCC.eI(false,this.iI()),new IPCC.dH(),new IPCC.cQ(true)]);}else{G.ek([new IPCC.oU(),new IPCC.bY(),new IPCC.dH(),new IPCC.cQ(true)]);}iJ="HandPan";break;case IPCC.Web.UI.MouseTool.Select:if(IPCC.gi===true){G.ek([new IPCC.oM(),new IPCC.bY(),new IPCC.eI(false,this.iI()),new IPCC.dH(),new IPCC.cQ(false)]);}else{G.ek([new IPCC.oM(),new IPCC.bY(),new IPCC.dH(),new IPCC.cQ(false)]);}iJ="Select";break;case IPCC.Web.UI.MouseTool.CreateRectangleMark:if(IPCC.gi===true){G.ek([new IPCC.dZ(IPCC.Web.UI.MarkType.Rectangle),new IPCC.bY(),new IPCC.eI(true,this.iI()),new IPCC.dH(),new IPCC.cQ(false)]);}else{G.ek([new IPCC.dZ(IPCC.Web.UI.MarkType.Rectangle),new IPCC.bY(),new IPCC.dH(),new IPCC.cQ(false)]);}iJ="CreateRectangleMark";break;case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:if(IPCC.gi===true){G.ek([new IPCC.dZ(IPCC.Web.UI.MarkType.RectangleRedaction),new IPCC.bY(),new IPCC.eI(true,this.iI()),new IPCC.dH(),new IPCC.cQ(false)]);}else{G.ek([new IPCC.dZ(IPCC.Web.UI.MarkType.RectangleRedaction),new IPCC.bY(),new IPCC.dH(),new IPCC.cQ(false)]);}iJ="CreateRectangleRedactionMark";break;case IPCC.Web.UI.MouseTool.CreateEllipseMark:if(IPCC.gi===true){G.ek([new IPCC.dZ(IPCC.Web.UI.MarkType.Ellipse),new IPCC.bY(),new IPCC.eI(true,this.iI()),new IPCC.dH(),new IPCC.cQ(false)]);}else{G.ek([new IPCC.dZ(IPCC.Web.UI.MarkType.Ellipse),new IPCC.bY(),new IPCC.dH(),new IPCC.cQ(false)]);}iJ="CreateEllipseMark";break;case IPCC.Web.UI.MouseTool.CreateLineMark:if(IPCC.gi===true){G.ek([new IPCC.mE(),new IPCC.bY(),new IPCC.eI(true,this.iI()),new IPCC.dH(),new IPCC.cQ(false)]);}else{G.ek([new IPCC.mE(),new IPCC.bY(),new IPCC.dH(),new IPCC.cQ(false)]);}iJ="CreateLineMark";break;case IPCC.Web.UI.MouseTool.CreatePolylineMark:if(IPCC.gi===true){G.ek([new IPCC.ky(IPCC.Web.UI.MarkType.Polyline),new IPCC.bY(),new IPCC.eI(true,this.iI()),new IPCC.dH(),new IPCC.cQ(false)]);}else{G.ek([new IPCC.ky(IPCC.Web.UI.MarkType.Polyline),new IPCC.bY(),new IPCC.dH(),new IPCC.cQ(false)]);}iJ="CreatePolylineMark";break;case IPCC.Web.UI.MouseTool.CreateFreehandMark:if(IPCC.gi===true){G.ek([new IPCC.ld(),new IPCC.bY(),new IPCC.eI(true,this.iI()),new IPCC.dH(),new IPCC.cQ(false)]);}else{G.ek([new IPCC.ld(),new IPCC.bY(),new IPCC.dH(),new IPCC.cQ(false)]);}iJ="CreateFreehandMark";break;case IPCC.Web.UI.MouseTool.CreatePolygonMark:if(IPCC.gi===true){G.ek([new IPCC.ky(IPCC.Web.UI.MarkType.Polygon),new IPCC.bY(),new IPCC.eI(true,this.iI()),new IPCC.dH(),new IPCC.cQ(false)]);}else{G.ek([new IPCC.ky(IPCC.Web.UI.MarkType.Polygon),new IPCC.bY(),new IPCC.dH(),new IPCC.cQ(false)]);}iJ="CreatePolygonMark";break;case IPCC.Web.UI.MouseTool.CreateTextMark:if(IPCC.gi===true){G.ek([new IPCC.dZ(IPCC.Web.UI.MarkType.Text),new IPCC.bY(),new IPCC.eI(true,this.iI()),new IPCC.dH(),new IPCC.cQ(false)]);}else{G.ek([new IPCC.dZ(IPCC.Web.UI.MarkType.Text),new IPCC.bY(),new IPCC.dH(),new IPCC.cQ(false)]);}iJ="CreateTextMark";break;case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:if(IPCC.gi===true){G.ek([new IPCC.dZ(IPCC.Web.UI.MarkType.TextLine),new IPCC.bY(),new IPCC.eI(true,this.iI()),new IPCC.dH(),new IPCC.cQ(false)]);}else{G.ek([new IPCC.dZ(IPCC.Web.UI.MarkType.TextLine),new IPCC.bY(),new IPCC.dH(),new IPCC.cQ(false)]);}iJ="CreateTextInputSignatureMark";break;case IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark:G.ek([new IPCC.dZ(IPCC.Web.UI.MarkType.TextAreaSignature),new IPCC.bY(),new IPCC.dH(),new IPCC.cQ(false)]);iJ="CreateTextAreaSignatureMark";break;case IPCC.Web.UI.MouseTool.EditMarks:if(IPCC.gi===true){G.ek([new IPCC.jV(IPCC.Web.UI.MarkType.Text),new IPCC.bY(),new IPCC.eI(true,this.iI()),new IPCC.dH(),new IPCC.cQ(false)]);}else{G.ek([new IPCC.jV(IPCC.Web.UI.MarkType.Text),new IPCC.bY(),new IPCC.dH(),new IPCC.cQ(false)]);}iJ="EditMarks";break;case IPCC.Web.UI.MouseTool.RunMarks:if(IPCC.gi===true){G.ek([new IPCC.Al(IPCC.Web.UI.MarkType.Text),new IPCC.bY(),new IPCC.eI(false,this.iI()),new IPCC.dH(),new IPCC.cQ(false)]);}else{G.ek([new IPCC.Al(IPCC.Web.UI.MarkType.Text),new IPCC.bY(),new IPCC.dH(),new IPCC.cQ(false)]);}iJ="RunMarks";break;case IPCC.Web.UI.MouseTool.CreateStampMark:if(IPCC.gi===true){G.ek([new IPCC.dZ(IPCC.Web.UI.MarkType.Stamp),new IPCC.bY(),new IPCC.eI(true,this.iI()),new IPCC.dH(),new IPCC.cQ(false)]);}else{G.ek([new IPCC.dZ(IPCC.Web.UI.MarkType.Stamp),new IPCC.bY(),new IPCC.dH(),new IPCC.cQ(false)]);}iJ="CreateStampMark";break;case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:if(IPCC.gi===true){G.ek([new IPCC.dZ(IPCC.Web.UI.MarkType.ImageStampAnnotation),new IPCC.bY(),new IPCC.eI(true,this.iI()),new IPCC.dH(),new IPCC.cQ(false)]);}else{G.ek([new IPCC.dZ(IPCC.Web.UI.MarkType.ImageStampAnnotation),new IPCC.bY(),new IPCC.dH(),new IPCC.cQ(false)]);}iJ="CreateImageStampAnnotationMark";break;case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:if(IPCC.gi===true){G.ek([new IPCC.dZ(IPCC.Web.UI.MarkType.ImageStampRedaction),new IPCC.bY(),new IPCC.eI(true,this.iI()),new IPCC.dH(),new IPCC.cQ(false)]);}else{G.ek([new IPCC.dZ(IPCC.Web.UI.MarkType.ImageStampRedaction),new IPCC.bY(),new IPCC.dH(),new IPCC.cQ(false)]);}iJ="CreateImageStampRedactionMark";break;case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:G.Ge=true;if(IPCC.gi===true){G.ek([new IPCC.lq(),new IPCC.bY(),new IPCC.eI(false,this.iI()),new IPCC.dH(),new IPCC.cQ(false)]);}else{G.ek([new IPCC.lq(),new IPCC.bY(),new IPCC.dH(),new IPCC.cQ(false)]);}iJ="CreateHighlightTextMark";break;case IPCC.Web.UI.MouseTool.SelectText:G.Ge=false;if(IPCC.gi===true){G.ek([new IPCC.lq(),new IPCC.bY(),new IPCC.eI(false,this.iI()),new IPCC.dH(),new IPCC.cQ(false)]);}else{G.ek([new IPCC.lq(),new IPCC.bY(),new IPCC.dH(),new IPCC.cQ(false)]);}iJ="SelectText";break;case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:if(IPCC.gi===true){G.ek([new IPCC.lq(),new IPCC.bY(),new IPCC.eI(true,this.iI()),new IPCC.dH(),new IPCC.cQ(false)]);}else{G.ek([new IPCC.lq(),new IPCC.bY(),new IPCC.dH(),new IPCC.cQ(false)]);}iJ="CreateStrikethroughMark";break;}this.raisePropertyChanged('mouseTool',{mouseToolType:iJ});}};this.Ji=function(avA){aT= -1;G.ek(avA);};this.asF=function(){return G.aO().get_presentationQuality();};this.aox=function(C){IPCC.aV.jM(C,'value',0,100);G.aO().set_presentationQuality(C);};this.arQ=function(){return G.aO().get_scrollBars();};this.aql=function(C){IPCC.aV.kS(C,'value',IPCC.Web.UI.ScrollBars);G.aO().set_scrollBars(C);};this.aos=function(dz,avw){IPCC.aV.aG(dz,'imagePoint');if(!(G.co())){return new IPCC.Web.UI.Point(0,0);}var dJ=G.aO().ef().transform(dz);if(avw){dJ.constrain(G.fN());}return dJ;};this.Nv=function(dJ,awf){IPCC.aV.aG(dJ,'windowPoint');var by=G.co();if(!by){return new IPCC.Web.UI.Point(0,0);}var sR=G.aO().ef();sR.vi();var dz=sR.transform(dJ);if(awf){dz.constrain(by);}return dz;};function awE(){var cP;cP=ge.mZ();var akQ=cP.clientWidth;var aiR=cP.clientHeight;var aAw=(fp&&fp.viewFitType===ahA&&akQ===ahj&&aiR===ahi);if(aAw){if(LC>2){return;}LC++;}else{ahA=fp?fp.viewFitType: -1;ahj=akQ;ahi=aiR;LC=0;}Um();};function atK(){fp=null;};function aEH(aj,V){switch(V.eA){case IPCC.eh.aeQ:ge.afH(1.25,V.RD.windowPoint);break;case IPCC.eh.afa:ge.aeW(1.25,V.RD.windowPoint);break;case IPCC.eh.YR:ge.xl(V.C);break;case IPCC.eh.agM:ge.agR();break;case IPCC.eh.ahu:ge.agN();break;case IPCC.eh.afn:ge.YN(V.C);break;case IPCC.eh.ajj:ge.Hn(V.C);break;}};this.kD=function(){return G.kD();};this.Kf=function(C){G.Kf(C);};this.dg=function(){return G.dg();};this.na=function(){return G.na();};this.AW=function(C){G.AW(C);};this.AH=function(){return G.get_requireRequestsOptimize();};this.GU=function(C){G.GU(C);};this.lm=function(){return G.lm();};this.yd=function(C){G.yd(C);};this.GA=function(dz){IPCC.aV.aG(dz,'imagePoint');return G.GA(dz);};this.zO=function(cq){G.zO(cq);};this.UD=function(){G.UD();};this.ND=function(ub,dc){var Fv=G.dg().gQ().fq();IPCC.aV.lP(ub,'ub',0,Fv-1);G.ND(ub,dc);};this.uW=function(cq){if(cq===undefined){G.aO().uW(cq);return false;}var Fv=G.dg().gQ().fq();IPCC.aV.lP(cq,'textIndex',0,Fv-1);G.uW(cq);return true;};this.Fu=function(){return! !(G.co()&&G.kD()&&G.dg().mW()===true&&G.aO().Fu());};this.Yq=function(){var aU=G.aO();aU.Yq();};this.OG=function(){if(G.kD()&&G.dg().mW()===true){return Math.min(G.aO().anh(),G.aO().Do());}};this.Be=function(){if(G.kD()&&G.dg().mW()===true){return G.aO().Be();}};this.EN=function(){if(G.kD()&&G.dg().mW()===true&&G.aO().Fu()){return G.EN();}else{return "";}};this.Do=function(){return G.aO().Do();};this.auS=function(){return G.get_cursor();};this.aqo=function(C){G.set_cursor(C);};this.Aj=function(){return G.Aj();};this.Uh=function(C){G.Uh(C);};this.jz=function(){return G.jz();};this.mv=function(C){G.mv(C);};this.aDV=function(){G.aO().hideMagnifier();};this.aqL=function(dJ){G.aO().showMagnifier(dJ);};this.wY=function(h){if(G.nb().igElements){G.wY(h);G.cn();}};this.Fg=function(){G.Fg();};this.CQ=function(){return G.CQ();};this.nY=function(){if(G.nb().igElements){G.nY(true);}};function awH(aj,V){var xJ=V.scaleFactor;var am={scaleType:"scaledDown",pageNumber:V.pageNumber};if(Ku!==xJ){if(xJ>Ku){am.scaleType="scaledUp";}Ku=xJ;bB('scaleChanged',am);}};this.initialize=function(){G.aqP(this.mZ().id);G.uM(this.mZ().id);if(aT=== -1){this.Hn(IPCC.Web.UI.MouseTool.RectangleZoom);}pK('mouseDown');pK('mouseMove');pK('mouseUp');pK('contextMenu');pK('markCreating');pK('pageOpenFailed');pK('textPageReady');pK('pageDisplayed');pK('exceptionThrown');pK('selectTextMouseToolCompleted');Jq('markAdded');Jq('markChanged');Jq('markRemoved');pK('textExtractionFailed');Jq('markReordered');Jq('marksLoaded');pK('markSelectionChanged');aqc();G.avD(awE);G.awX(atK);G.aus(aEH);G.add_scaleChanged(awH);G.aBw();var cP=this.mZ();cP.bw=this;};oz=(oz!==false);G=new IPCC.XR(oz);G.aqp('PageView');G.apI(PW);};ajS.prototype={dispose:function(){this.ay('dispose',arguments);this.Or();},get_debug:function(){try{var bJ=this.JM();this.cC('get_debug',arguments,bJ);return bJ;}catch(e){this.bp('get_debug',e);throw e;}},set_debug:function(value){try{this.ay('set_debug',arguments);var xE=this.JM();this.Vu(value);if(!xE){this.ay('set_debug',arguments);}}catch(e){this.bp('set_debug',e);throw e;}},get_debugErrorLevel:function(){try{var bJ=this.AL();this.cC('get_debugErrorLevel',arguments,bJ);return bJ;}catch(e){this.bp('get_debugErrorLevel',e);throw e;}},set_debugErrorLevel:function(value){try{this.ay('set_debugErrorLevel',arguments);var xE=this.AL();this.GB(value);if(xE<IPCC.Web.UI.DebugErrorLevel.Development){this.ay('set_debugErrorLevel',arguments);}}catch(e){this.bp('set_debugErrorLevel',e);throw e;}},get_artServiceOption:function(){try{var bJ=this.Wu();this.cC('get_artServiceOption',arguments,bJ);return bJ;}catch(e){this.bp('get_artServiceOption',e);throw e;}},set_artServiceOption:function(value){try{this.ay('set_artServiceOption',arguments);this.Ty(value);}catch(e){this.bp('set_artServiceOption',e);throw e;}},add_pageOpening:function(handler){try{this.WH(handler);}catch(e){this.bp('add_pageOpening',e);throw e;}},remove_pageOpening:function(handler){try{this.UN(handler);}catch(e){this.bp('remove_pageOpening',e);throw e;}},add_pageOpened:function(handler){try{this.Xm(handler);}catch(e){this.bp('add_pageOpened',e);throw e;}},remove_pageOpened:function(handler){try{this.VP(handler);}catch(e){this.bp('remove_pageOpened',e);throw e;}},add_pageClosed:function(handler){try{this.awr(handler);}catch(e){this.bp('add_pageClosed',e);throw e;}},remove_pageClosed:function(handler){try{this.aBL(handler);}catch(e){this.bp('remove_pageClosed',e);throw e;}},add_pageOpenFailed:function(handler){try{this.GX(handler);}catch(e){this.bp('add_pageOpenFailed',e);throw e;}},remove_pageOpenFailed:function(handler){try{this.FH(handler);}catch(e){this.bp('remove_pageOpenFailed',e);throw e;}},add_pageDisplayed:function(handler){try{this.WC(handler);}catch(e){this.bp('add_pageDisplayed',e);throw e;}},remove_pageDisplayed:function(handler){try{this.VI(handler);}catch(e){this.bp('remove_pageDisplayed',e);throw e;}},add_mouseDown:function(handler){try{this.Qm(handler);}catch(e){this.bp('add_mouseDown',e);throw e;}},remove_mouseDown:function(handler){try{this.Uu(handler);}catch(e){this.bp('remove_mouseDown',e);throw e;}},add_mouseMove:function(handler){try{this.Qn(handler);}catch(e){this.bp('add_mouseMove',e);throw e;}},remove_mouseMove:function(handler){try{this.VM(handler);}catch(e){this.bp('remove_mouseMove',e);throw e;}},add_mouseUp:function(handler){try{this.OQ(handler);}catch(e){this.bp('add_mouseUp',e);throw e;}},remove_mouseUp:function(handler){try{this.VV(handler);}catch(e){this.bp('remove_mouseUp',e);throw e;}},add_contextMenu:function(handler){try{this.auV(handler);}catch(e){this.bp('add_contextMenu',e);throw e;}},remove_contextMenu:function(handler){try{this.aBm(handler);}catch(e){this.bp('remove_contextMenu',e);throw e;}},add_markAdded:function(handler){try{this.yH(handler);}catch(e){this.bp('add_markAdded',e);throw e;}},remove_markAdded:function(handler){try{this.Au(handler);}catch(e){this.bp('remove_markAdded',e);throw e;}},add_markCreating:function(handler){try{this.Xj(handler);}catch(e){this.bp('add_markCreating',e);throw e;}},remove_markCreating:function(handler){try{this.US(handler);}catch(e){this.bp('remove_markCreating',e);throw e;}},add_markChanged:function(handler){try{this.IF(handler);}catch(e){this.bp('add_markChanged',e);throw e;}},remove_markChanged:function(handler){try{this.Hw(handler);}catch(e){this.bp('remove_markChanged',e);throw e;}},add_markRemoved:function(handler){try{this.xU(handler);}catch(e){this.bp('add_markRemoved',e);throw e;}},remove_markRemoved:function(handler){try{this.zL(handler);}catch(e){this.bp('remove_markRemoved',e);throw e;}},add_markReordered:function(handler){try{this.Fn(handler);}catch(e){this.bp('add_markReordered',e);throw e;}},remove_markReordered:function(handler){try{this.HL(handler);}catch(e){this.bp('remove_markReordered',e);throw e;}},add_marksLoaded:function(handler){try{this.XH(handler);}catch(e){this.bp('add_marksLoaded',e);throw e;}},remove_marksLoaded:function(handler){try{this.Uo(handler);}catch(e){this.bp('remove_marksLoaded',e);throw e;}},add_markSelectionChanged:function(handler){try{this.EZ(handler);}catch(e){this.bp('add_markSelectionChanged',e);throw e;}},remove_markSelectionChanged:function(handler){try{this.HG(handler);}catch(e){this.bp('remove_markSelectionChanged',e);throw e;}},add_selectTextMouseToolCompleted:function(handler){try{this.Uv(handler);}catch(e){this.bp('add_selectTextMouseToolCompleted',e);throw e;}},remove_selectTextMouseToolCompleted:function(handler){try{this.VQ(handler);}catch(e){this.bp('remove_selectTextMouseToolCompleted',e);throw e;}},add_textPageReady:function(handler){try{this.zs(handler);}catch(e){this.bp('add_textPageReady',e);throw e;}},remove_textPageReady:function(handler){try{this.Dc(handler);}catch(e){this.bp('remove_textPageReady',e);throw e;}},add_exceptionThrown:function(handler){this.Wj(handler);},remove_exceptionThrown:function(handler){this.UJ(handler);},add_scaleChanged:function(handler){try{this.Vt(handler);}catch(e){this.bp('add_scaleChanged',e);throw e;}},remove_scaleChanged:function(handler){try{this.VU(handler);}catch(e){this.bp('remove_scaleChanged',e);throw e;}},add_propertyChanged:function(handler){try{this.lp(handler);}catch(e){this.bp('add_propertyChanged',e);throw e;}},remove_propertyChanged:function(handler){try{this.mF(handler);}catch(e){this.bp('remove_propertyChanged',e);throw e;}},add_textExtractionFailed:function(handler){this.zy(handler);},remove_textExtractionFailed:function(handler){this.Co(handler);},writeToLog:function(message){try{this.nv(message);}catch(e){this.bp('writeToLog',e);throw e;}},fitPage:function(type){try{this.ay('fitPage',arguments);this.YN(type);}catch(e){this.bp('fitPage',e);throw e;}},get_pageIsOpen:function(){try{var bJ=this.eV();this.cC('get_pageIsOpen',arguments,bJ);return bJ;}catch(e){this.bp('get_pageIsOpen',e);throw e;}},get_pageWidth:function(){try{var bJ=this.kL();this.cC('get_pageWidth',arguments,bJ);return bJ;}catch(e){this.bp('get_pageWidth',e);throw e;}},get_pageHeight:function(){try{var bJ=this.iY();this.cC('get_pageHeight',arguments,bJ);return bJ;}catch(e){this.bp('get_pageHeight',e);throw e;}},get_pageXResolution:function(){try{var bJ=this.asR();this.cC('get_pageXResolution',arguments,bJ);return bJ;}catch(e){this.bp('get_pageXResolution',e);throw e;}},get_pageYResolution:function(){try{var bJ=this.arT();this.cC('get_pageYResolution',arguments,bJ);return bJ;}catch(e){this.bp('get_pageYResolution',e);throw e;}},get_documentIdentifier:function(){try{var bJ=this.Jc();this.cC('get_documentIdentifier',arguments,bJ);return bJ;}catch(e){this.bp('get_documentIdentifier',e);throw e;}},get_encodedDocumentIdentifier:function(){try{var bJ=this.Qh();this.cC('get_encodedDocumentIdentifier',arguments,bJ);return bJ;}catch(e){this.bp('get_encodedDocumentIdentifier',e);throw e;}},get_pageNumber:function(){try{var bJ=this.oS();this.cC('get_pageNumber',arguments,bJ);return bJ;}catch(e){this.bp('get_pageNumber',e);throw e;}},get_documentPageCount:function(){try{var bJ=this.atG();this.cC('get_documentPageCount',arguments,bJ);return bJ;}catch(e){this.bp('get_documentPageCount',e);throw e;}},get_displayedPageRectangle:function(){try{var bJ=this.ans();this.cC('get_displayedPageRectangle',arguments,bJ);return bJ;}catch(e){this.bp('get_displayedPageRectangle',e);throw e;}},get_currentState:function(){try{var bJ=this.Pe();this.cC('get_currentState',arguments,bJ);return bJ;}catch(e){this.bp('get_currentState',e);throw e;}},zoomIn:function(factor){try{this.ay('zoomIn',arguments);this.RY(factor);}catch(e){this.bp('zoomIn',e);throw e;}},zoomOut:function(factor){try{this.ay('zoomOut',arguments);this.Vi(factor);}catch(e){this.bp('zoomOut',e);throw e;}},set_sharpening:function(factor){try{this.ay('set_sharpening',arguments);this.EL(factor);}catch(e){this.bp('set_sharpening',e);throw e;}},set_gamma:function(factor){try{this.ay('set_gamma',arguments);this.CE(factor);}catch(e){this.bp('set_gamma',e);throw e;}},set_svgLineWidthMultiplier:function(factor){try{this.ay('set_svgLineWidthMultiplier',arguments);this.Gk(factor);}catch(e){this.bp('set_svgLineWidthMultiplier',e);throw e;}},zoom:function(factor){try{this.ay('zoom',arguments);this.ly(factor);}catch(e){this.bp('zoom',e);throw e;}},rotate:function(degreesClockwise){try{this.ay('rotate',arguments);this.xl(degreesClockwise);}catch(e){this.bp('rotate',e);throw e;}},showPageRectangle:function(imageRectangle){try{this.ay('showPageRectangle',arguments,1);this.aqi(imageRectangle);}catch(e){this.bp('showPageRectangle',e);throw e;}},showPagePointAtCenter:function(imagePoint){try{this.ay('showPagePointAtCenter',arguments,1);this.aqk(imagePoint);}catch(e){this.bp('showPagePointAtCenter',e);throw e;}},mirror:function(){try{this.ay('mirror',arguments);this.agN();}catch(e){this.bp('mirror',e);throw e;}},flip:function(){try{this.ay('flip',arguments);this.agR();}catch(e){this.bp('flip',e);throw e;}},display:function(){try{this.ay('display',arguments);this.cn();}catch(e){this.bp('display',e);throw e;}},openPage:function(parameters){try{this.ay('openPage',arguments,1);this.KT(parameters);}catch(e){this.bp('openPage',e);throw e;}},closePage:function(){try{this.ay('closePage',arguments);this.Or();}catch(e){this.bp('closePage',e);throw e;}},hideSelection:function(){try{this.ay('hideSelection',arguments);this.nU();}catch(e){this.bp('hideSelection',e);throw e;}},showSelection:function(imageRectangle){try{this.ay('showSelection',arguments);this.apC(imageRectangle);}catch(e){this.bp('showSelection',e);throw e;}},showEmptySelection:function(imagePoint){try{this.ay('showEmptySelection',arguments);this.Bm(imagePoint);}catch(e){this.bp('showEmptySelection',e);throw e;}},extendSelection:function(imagePoint){try{this.ay('extendSelection',arguments);this.xZ(imagePoint);}catch(e){this.bp('extendSelection',e);throw e;}},saveArtPage:function(onSave){try{this.ay('saveArtPage',arguments);this.ZQ(onSave);}catch(e){this.bp('saveArtPage',e);throw e;}},get_selectionPageRectangle:function(){try{var bJ=this.vE();this.cC('get_selectionPageRectangle',arguments,bJ);return bJ;}catch(e){this.bp('get_selectionPageRectangle',e);throw e;}},get_selectionWindowRectangle:function(){try{var bJ=this.arO();this.cC('get_selectionWindowRectangle',arguments,bJ);return bJ;}catch(e){this.bp('get_selectionWindowRectangle',e);throw e;}},get_selectionIsVisible:function(){try{var bJ=this.Ay();this.cC('get_selectionIsVisible',arguments,bJ);return bJ;}catch(e){this.bp('get_selectionIsVisible',e);throw e;}},get_controlStateElementId:function(){try{var bJ=this.aul();this.cC('get_controlStateElementId',arguments,bJ);return bJ;}catch(e){this.bp('get_controlStateElementId',e);throw e;}},set_controlStateElementId:function(value){try{this.ay('set_controlStateElementId',arguments);this.apF(value);}catch(e){this.bp('set_controlStateElementId',e);throw e;}},get_includeArtInPostBack:function(){try{var bJ=this.atH();this.cC('get_includeArtInPostBack',arguments,bJ);return bJ;}catch(e){this.bp('get_includeArtInPostBack',e);throw e;}},set_includeArtInPostBack:function(value){try{this.ay('set_includeArtInPostBack',arguments);this.aqy(value);}catch(e){this.bp('set_includeArtInPostBack',e);throw e;}},get_artPage:function(){try{var bJ=this.eP();this.cC('get_artPage',arguments,bJ);return bJ;}catch(e){this.bp('get_artPage',e);throw e;}},set_artPage:function(value){try{this.ay('set_artPage',arguments);this.lF(value);}catch(e){this.bp('set_artPage',e);throw e;}},get_documentArtPage:function(){try{var bJ=this.OR();this.cC('get_documentArtPage',arguments,bJ);return bJ;}catch(e){this.bp('get_documentArtPage',e);throw e;}},set_documentArtPage:function(value){try{this.ay('set_documentArtPage',arguments);this.FO(value);}catch(e){this.bp('set_documentArtPage',e);throw e;}},get_transientArtPage:function(){try{var bJ=this.nh();this.cC('get_transientArtPage',arguments,bJ);return bJ;}catch(e){this.bp('get_transientArtPage',e);throw e;}},set_transientArtPage:function(value){try{this.ay('set_transientArtPage',arguments);this.Bq(value);}catch(e){this.bp('set_transientArtPage',e);throw e;}},get_imageHandlerUrl:function(){try{var bJ=this.tn();this.cC('get_imageHandlerUrl',arguments,bJ);return bJ;}catch(e){this.bp('get_imageHandlerUrl',e);throw e;}},set_imageHandlerUrl:function(value){try{this.ay('set_imageHandlerUrl',arguments);this.UF(value);}catch(e){this.bp('set_imageHandlerUrl',e);throw e;}},get_resourcePath:function(){try{var bJ=this.wR();this.cC('get_resourcePath',arguments,bJ);return bJ;}catch(e){this.bp('get_resourcePath',e);throw e;}},set_resourcePath:function(C){try{this.ay('set_resourcePath',arguments);this.Ir(C);}catch(e){this.bp('set_resourcePath',e);throw e;}},get_contextMenuLanguageDictionary:function(){try{var bJ=this.iI();this.cC('get_contextMenuLanguageDictionary',arguments,bJ);return bJ;}catch(e){this.bp('get_contextMenuLanguageDictionary',e);throw e;}},set_contextMenuLanguageDictionary:function(C){try{this.ay('set_contextMenuLanguageDictionary',arguments);this.aqM(C);}catch(e){this.bp('set_contextMenuLanguageDictionary',e);throw e;}},get_textRequired:function(){try{var bJ=this.kD();this.cC('get_textRequired',arguments,bJ);return bJ;}catch(e){this.bp('get_textRequired',e);throw e;}},set_textRequired:function(C){try{this.ay('set_textRequired',arguments);this.Kf(C);}catch(e){this.bp('set_textRequired',e);throw e;}},get_textPage:function(){try{var bJ=this.dg();this.cC('get_textPage',arguments,bJ);return bJ;}catch(e){this.bp('get_textPage',e);throw e;}},get_textSelectionIsVisible:function(){try{var bJ=this.Fu();this.Ek('textSelectionIsVisible',arguments,bJ,1);return bJ;}catch(e){this.bp('textSelectionIsVisible',e);throw e;}},getSelectedText:function(){try{var bJ=this.EN();this.Ek('getSelectedText',arguments,bJ,1);return bJ;}catch(e){this.bp('getSelectedText',e);throw e;}},get_requireRequestsOptimize:function(){try{var bJ=this.AH();this.cC('get_requireRequestsOptimize',arguments,bJ);return bJ;}catch(e){this.bp('AH',e);throw e;}},set_requireRequestsOptimize:function(value){try{this.ay('set_requireRequestsOptimize',arguments);this.GU(value);}catch(e){this.bp('set_requireRequestsOptimize',e);throw e;}},get_magnifierMagnification:function(){try{var bJ=this.atY();this.cC('get_magnifierMagnification',arguments,bJ);return bJ;}catch(e){this.bp('get_magnifierMagnification',e);throw e;}},set_magnifierMagnification:function(value){try{this.ay('set_magnifierMagnification',arguments);this.anZ(value);}catch(e){this.bp('set_magnifierMagnification',e);throw e;}},get_magnifierWidth:function(){try{var bJ=this.auj();this.cC('get_magnifierWidth',arguments,bJ);return bJ;}catch(e){this.bp('get_magnifierWidth',e);throw e;}},set_magnifierWidth:function(value){try{this.ay('set_magnifierWidth',arguments);this.apf(value);}catch(e){this.bp('set_magnifierWidth',e);throw e;}},get_magnifierHeight:function(){try{var bJ=this.atr();this.cC('get_magnifierHeight',arguments,bJ);return bJ;}catch(e){this.bp('get_magnifierHeight',e);throw e;}},set_magnifierHeight:function(value){try{this.ay('set_magnifierHeight',arguments);this.aoG(value);}catch(e){this.bp('set_magnifierHeight',e);throw e;}},get_magnifierXOffset:function(){try{var bJ=this.PY();this.cC('get_magnifierXOffset',arguments,bJ);return bJ;}catch(e){this.bp('get_magnifierXOffset',e);throw e;}},set_magnifierXOffset:function(value){try{this.ay('set_magnifierXOffset',arguments);this.XV(value);}catch(e){this.bp('set_magnifierXOffset',e);throw e;}},get_magnifierYOffset:function(){try{var bJ=this.Qa();this.cC('get_magnifierYOffset',arguments,bJ);return bJ;}catch(e){this.bp('get_magnifierYOffset',e);throw e;}},set_magnifierYOffset:function(value){try{this.ay('set_magnifierYOffset',arguments);this.Wg(value);}catch(e){this.bp('set_magnifierYOffset',e);throw e;}},showMagnifier:function(windowPoint){try{this.ay('showMagnifier',arguments,1);this.aqL(windowPoint);}catch(e){this.bp('showMagnifier',e);throw e;}},hideMagnifier:function(){try{this.ay('hideMagnifier',arguments);this.aDV();}catch(e){this.bp('hideMagnifier',e);throw e;}},get_markHandleSize:function(){try{var bJ=this.Yt();this.cC('get_markHandleSize',arguments,bJ);return bJ;}catch(e){this.bp('get_markHandleSize',e);throw e;}},set_markHandleSize:function(value){try{this.ay('set_markHandleSize',arguments);this.Xs(value);}catch(e){this.bp('set_markHandleSize',e);throw e;}},get_markHandleMode:function(){try{var bJ=this.zx();this.cC('get_markHandleMode',arguments,bJ);return bJ;}catch(e){this.bp('get_markHandleMode',e);throw e;}},set_markHandleMode:function(value){try{this.ay('set_markHandleMode',arguments);this.Ks(value);}catch(e){this.bp('set_markHandleMode',e);throw e;}},get_mouseTool:function(){try{var bJ=this.YU();this.cC('get_mouseTool',arguments,bJ);return bJ;}catch(e){this.bp('get_mouseTool',e);throw e;}},set_mouseTool:function(value){try{this.ay('set_mouseTool',arguments);this.Hn(value);}catch(e){this.bp('set_mouseTool',e);throw e;}},get_presentationQuality:function(){try{var bJ=this.asF();this.cC('get_presentationQuality',arguments,bJ);return bJ;}catch(e){this.bp('get_presentationQuality',e);throw e;}},set_presentationQuality:function(value){try{this.ay('set_presentationQuality',arguments);this.aox(value);}catch(e){this.bp('set_presentationQuality',e);throw e;}},get_scrollBars:function(){try{var bJ=this.arQ();this.cC('get_scrollBars',arguments,bJ);return bJ;}catch(e){this.bp('get_scrollBars',e);throw e;}},set_scrollBars:function(value){try{this.ay('set_scrollBars',arguments);this.aql(value);}catch(e){this.bp('set_scrollBars',e);throw e;}},get_imGearPage:function(){try{var bJ=this.na();this.cC('get_imGearPage',arguments,bJ);return bJ;}catch(e){this.bp('get_imGearPage',e);throw e;}},set_imGearPage:function(value){try{this.ay('set_imGearPage',arguments);this.AW(value);}catch(e){this.bp('set_imGearPage',e);throw e;}},get_serviceResponseTimeout:function(){try{var bJ=this.lm();this.cC('get_serviceResponseTimeout',arguments,bJ);return bJ;}catch(e){this.bp('get_serviceResponseTimeout',e);throw e;}},set_serviceResponseTimeout:function(value){try{this.ay('set_serviceResponseTimeout',arguments);this.yd(value);}catch(e){this.bp('set_serviceResponseTimeout',e);throw e;}},get_currentTextIndex:function(){try{var bJ=this.Do();this.cC('get_currentTextIndex',arguments,bJ);return bJ;}catch(e){this.bp('get_currentTextIndex',e);throw e;}},get_cursor:function(){try{var bJ=this.auS();this.cC('get_cursor',arguments,bJ);return bJ;}catch(e){this.bp('get_cursor',e);throw e;}},set_cursor:function(value){try{this.ay('set_cursor',arguments);this.aqo(value);}catch(e){this.bp('set_cursor',e);throw e;}},get_encryption:function(){try{var bJ=this.jz();this.cC('get_encryption',arguments,bJ);return bJ;}catch(e){this.bp('get_encryption',e);throw e;}},set_encryption:function(value){try{this.ay('set_encryption',arguments);this.mv(value);}catch(e){this.bp('set_encryption',e);throw e;}},transformPagePointToWindow:function(imagePoint,constrainResultToWindow){try{var bJ=this.aos(imagePoint,constrainResultToWindow);this.Ek('transformPagePointToWindow',arguments,bJ,1);return bJ;}catch(e){this.bp('transformPagePointToWindow',e);throw e;}},transformWindowPointToPage:function(windowPoint,constrainResultToImage){try{var bJ=this.Nv(windowPoint,constrainResultToImage);this.Ek('transformWindowPointToPage',arguments,bJ,1);return bJ;}catch(e){this.bp('transformWindowPointToPage',e);throw e;}},transformPagePointToTextIndex:function(pagePoint){try{var bJ=this.GA(pagePoint);this.Ek('transformPagePointToTextIndex',arguments,bJ,1);return bJ;}catch(e){this.bp('transformPagePointToTextIndex',e);throw e;}},removeAllHighlights:function(){try{this.ay('removeAllHighlights',arguments);this.UD();}catch(e){this.bp('removeAllHighlights',e);throw e;}},showTextSelection:function(indexOfFirstCharacter,length){try{this.ay('showTextSelection',arguments);this.ND(indexOfFirstCharacter,length);}catch(e){this.bp('showTextSelection',e);throw e;}},showEmptyTextSelection:function(textIndex){try{this.ay('showEmptyTextSelection',arguments);this.zO(textIndex);}catch(e){this.bp('showEmptyTextSelection',e);throw e;}},extendTextSelection:function(textIndex){try{this.ay('extendTextSelection',arguments);this.uW(textIndex);}catch(e){this.bp('extendTextSelection',e);throw e;}},initializeViewControllers:function(showArtContextMenu){try{this.ay('initializeViewControllers',arguments);this.aqd(showArtContextMenu);}catch(e){this.bp('initializeViewControllers',e);throw e;}},get_autoUpdate:function(){try{var bJ=this.Aj();this.cC('get_autoUpdate',arguments,bJ);return bJ;}catch(e){this.bp('get_autoUpdate',e);throw e;}},set_autoUpdate:function(value){try{this.ay('set_autoUpdate',arguments);this.Uh(value);}catch(e){this.bp('set_autoUpdate',e);throw e;}}};module.exports=ajS;},{}],115:[function(require,module,exports){var dh=require('../../IPCC.Util').regClass;var pm=require('./FitType');var KD=function(){return this;};KD.prototype={documentIdentifier:'',encodedDocumentIdentifier:'',pageNumber:0,viewFitType:pm.FullImage,viewRectangle:null,viewRotationDegreesClockwise:0,viewMirror:false,viewZoomFactor:undefined,encryption:false};KD.registerClass=dh;KD.registerClass('IPCC.Web.UI.PageViewState');module.exports=KD;},{"../../IPCC.Util":29,"./FitType":75}],116:[function(require,module,exports){var dh=require('../../IPCC.Util').regClass;var vL=function(x,y){this.x=x;this.y=y;return this;};vL.prototype={toString:function(){return 'Point('+this.x+', '+this.y+')';},constrain:function(rectangle){this.x=Math.min(Math.max(this.x,rectangle.x),rectangle.x+rectangle.width);this.y=Math.min(Math.max(this.y,rectangle.y),rectangle.y+rectangle.height);}};vL.registerClass=dh;vL.registerClass('IPCC.Web.UI.Point');module.exports=vL;},{"../../IPCC.Util":29}],117:[function(require,module,exports){var dh=require('../../IPCC.Util').regClass;var Mv=function(){var aX=[];var aS=new IPCC.Web.UI.hH();this.auH=function(aG){var V=new IPCC.Web.UI.PointEventArgs();V.point=aG;V.length=1;aX.push(new IPCC.Web.UI.Point(aG.x,aG.y));V.index=aX.length-1;this.bB('pointAdded',V);};this.auW=function(acQ){var V=new IPCC.Web.UI.PointEventArgs();V.index=aX.length;V.length=acQ.get_length();function lb(aG){aX.push(aG);};acQ.forEach(lb,{});if(V.length>0){this.bB('pointAdded',V);}};this.jS=function(io,cl){var Zl=[].concat(aX);var R;for(R=0;R<Zl.length;R++){io.call(cl,new IPCC.Web.UI.Point(Zl[R].x,Zl[R].y),R,this);}};this.yZ=function(an){kZ(an);var fm=aX[an];return new IPCC.Web.UI.Point(fm.x,fm.y);};this.aqf=function(an,aG){kZ(an);IPCC.aV.aG(aG,'point');var La=aX[an];if(La.x===aG.x&&La.y===aG.y){return;}La.x=aG.x;La.y=aG.y;var V=new IPCC.Web.UI.PointEventArgs();V.point=aG;V.index=an;V.length=1;this.bB('pointChanged',V);};this.fq=function(){return aX.length;};this.azM=function(an){kZ(an);var V=new IPCC.Web.UI.PointEventArgs();V.point=aX[an];V.index=an;V.length=1;aX.splice(an,1);this.bB('pointRemoved',V);};this.aCc=function(){if(aX.length<1){return;}var V=new IPCC.Web.UI.PointEventArgs();V.index=0;V.length=aX.length;aX=[];this.bB('pointRemoved',V);};this.aeH=function(fd,fj){if(fd===0&&fj===0){return;}IPCC.aV.jc(fd,'deltaX');IPCC.aV.jc(fj,'deltaY');var R;for(R=0;R<aX.length;R++){aX[R].x+=fd;aX[R].y+=fj;}var V=new IPCC.Web.UI.PointEventArgs();V.index=0;V.length=aX.length;this.bB('pointChanged',V);};this.uT=function(){if(aX.length<1){return new IPCC.Web.UI.Rectangle(0,0,0,0);}var R,gv=aX[0].x,hK=aX[0].x,_top=aX[0].y,kd=aX[0].y;for(R=1;R<aX.length;R++){var aG=aX[R];gv=Math.min(gv,aG.x);hK=Math.max(hK,aG.x);_top=Math.min(_top,aG.y);kd=Math.max(kd,aG.y);}return new IPCC.Web.UI.Rectangle(gv,_top,hK-gv,kd-_top);};function kZ(an){if(an>aX.length-1||(an<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',an);}};this.awN=function(H){aS.addHandler('pointAdded',H);};this.aCd=function(H){aS.removeHandler('pointAdded',H);};this.awx=function(H){aS.addHandler('pointChanged',H);};this.aBR=function(H){aS.removeHandler('pointChanged',H);};this.awK=function(H){aS.addHandler('pointRemoved',H);};this.aBQ=function(H){aS.removeHandler('pointRemoved',H);};this.bB=function(dF,V){var H=aS.getHandler(dF);if(H!==null){H(this,V);}};return this;};Mv.prototype={toString:function(){return 'PointCollection with '+this.get_length()+' points';},addPoint:function(point){this.auH(point);},addPoints:function(pointCollection){this.auW(pointCollection);},forEach:function(method,context){this.jS(method,context);},getPoint:function(index){return this.yZ(index);},setPoint:function(index,point){this.aqf(index,point);},get_length:function(){return this.fq();},removePoint:function(index){this.azM(index);},removeAllPoints:function(){this.aCc();},moveAllPoints:function(deltaX,deltaY){this.aeH(deltaX,deltaY);},add_pointAdded:function(handler){this.awN(handler);},remove_pointAdded:function(handler){this.aCd(handler);},add_pointChanged:function(handler){this.awx(handler);},remove_pointChanged:function(handler){this.aBR(handler);},add_pointRemoved:function(handler){this.awK(handler);},remove_pointRemoved:function(handler){this.aBQ(handler);}};Mv.registerClass=dh;Mv.registerClass('IPCC.Web.UI.PointCollection');module.exports=Mv;},{"../../IPCC.Util":29}],118:[function(require,module,exports){var dh=require('../../IPCC.Util').regClass;var KS=function(){return this;};KS.registerClass=dh;KS.prototype={};KS.registerClass('IPCC.Web.UI.PointEventArgs');module.exports=KS;},{"../../IPCC.Util":29}],119:[function(require,module,exports){var dh=require('../../IPCC.Util').regClass;var LZ=function(x,y,width,height){if(width<0){x+=width;width= -width;}if(height<0){y+=height;height= -height;}this.x=x;this.y=y;this.width=width;this.height=height;return this;};LZ.prototype={intersect:function(rectangle){var aa=Math.max(this.x,rectangle.x);var bg=Math.min(this.x+this.width,rectangle.x+rectangle.width)-aa;var bZ=Math.max(this.y,rectangle.y);var aw=Math.min(this.y+this.height,rectangle.y+rectangle.height)-bZ;if(bg<=0||aw<=0){aa=bZ=bg=aw=0;}this.x=aa;this.y=bZ;this.width=bg;this.height=aw;},union:function(rectangle){var gv=Math.min(this.x,rectangle.x);var _top=Math.min(this.y,rectangle.y);var hK=Math.max(this.x+this.width,rectangle.x+rectangle.width);var kd=Math.max(this.y+this.height,rectangle.y+rectangle.height);this.x=gv;this.y=_top;this.width=hK-gv;this.height=kd-_top;return this;},scale:function(VA,PL){PL=PL||VA;var gv=this.x*VA;var _top=this.y*PL;var bg=this.width*VA;var aw=this.height*PL;this.x=gv;this.y=_top;this.width=bg;this.height=aw;return this;},toString:function(){return 'Rectangle('+this.x+', '+this.y+', '+this.width+', '+this.height+')';},contains:function(point){return point.x>=this.x&&point.y>=this.y&&point.x<this.x+this.width&&point.y<this.y+this.height;},clone:function(){return new IPCC.Web.UI.Rectangle(this.x,this.y,this.width,this.height);},equals:function(other){return this.x===other.x&&this.y===other.y&&this.width===other.width&&this.height===other.height;}};LZ.registerClass=dh;LZ.registerClass('IPCC.Web.UI.Rectangle');module.exports=LZ;},{"../../IPCC.Util":29}],120:[function(require,module,exports){var dA=require('../../IPCC.Util').regEnum;var PR=function(){};PR.registerEnum=dA;PR.prototype={None:0,Both:3,Auto:4};PR.registerEnum('IPCC.Web.UI.ScrollBars',false);module.exports=PR;},{"../../IPCC.Util":29}],121:[function(require,module,exports){var dh=require('../../IPCC.Util').regClass;var QO=function(){return this;};QO.registerClass=dh;QO.prototype={};QO.registerClass('IPCC.Web.UI.TextSelectedEventArgs');module.exports=QO;},{"../../IPCC.Util":29}],122:[function(require,module,exports){var zQ=require('./../../Type');var Sn={aFU:1,ImGearDocumentHyperlink:require('./ImGearDocumentHyperlink'),ImGearTextCharacter:require('./ImGearTextCharacter'),ImGearTextCharacterCollection:require('./ImGearTextCharacterCollection'),ImGearHyperlinkCollection:require('./ImGearHyperlinkCollection'),ImGearHyperlinkPage:require('./ImGearHyperlinkPage'),ImGearTextPage:require('./ImGearTextPage'),ImGearTextSection:require('./ImGearTextSection'),ImGearTextSectionCollection:require('./ImGearTextSectionCollection'),ImGearPageCountStatus:require('./ImGearPageCountStatus'),ImGearPageCreateArgs:require('./ImGearPageCreateArgs'),ImGearPage:require('./ImGearPage'),ImGearPageEventArgs:require('./ImGearPageEventArgs'),ImGearPageCollection:require('./ImGearPageCollection'),ImGearDocumentCreateArgs:require('./ImGearDocumentCreateArgs'),ImGearDocument:require('./ImGearDocument'),ImGearDocumentEventArgs:require('./ImGearDocumentEventArgs'),ImGearDocumentCollection:require('./ImGearDocumentCollection'),ImGearPageOpenFailedEventArgs:require('./ImGearPageOpenFailedEventArgs'),ImGearExceptions:require('./ImGearExceptions'),ImGearException:require('./ImGearExceptions').AX,ImGearHttpException:require('./ImGearExceptions').Cl,ImGearArgumentException:require('./ImGearExceptions').tP,ImGearArgumentNullException:require('./ImGearExceptions').EI,ImGearArgumentOutOfRangeException:require('./ImGearExceptions').rD,ImGearArgumentTypeException:require('./ImGearExceptions').ImGearArgumentTypeException,ImGearArgumentUndefinedException:require('./ImGearExceptions').CP,ImGearInvalidOperationException:require('./ImGearExceptions').DN,ImGearNotImplementedException:require('./ImGearExceptions').DH,ImGearParameterCountException:require('./ImGearExceptions').Ei,hH:require('./ImGearEventHandlerList'),ImGearArtDataServices:require('./ImGearArtDataServices'),MouseButton:require('./MouseButton'),MouseTool:require('./MouseTool'),au:require('./DomEvent'),DebugErrorLevel:require('./DebugErrorLevel'),DebugItemCause:require('./DebugItemCause'),PageView:require('./PageView'),PageViewState:require('./PageViewState'),ArtPage:require('./ArtPage'),Key:require('./Key'),FitType:require('./FitType'),ScrollBars:require('./ScrollBars'),Rectangle:require('./Rectangle'),Point:require('./Point'),PointCollection:require('./PointCollection'),LogItemEventArgs:require('./LogItemEventArgs'),MouseEventArgs:require('./MouseEventArgs'),PointEventArgs:require('./PointEventArgs'),CommentEventArgs:require('./CommentEventArgs'),TextSelectedEventArgs:require('./TextSelectedEventArgs'),HighLightType:require('./HighLightType'),LineStyle:require('./LineStyle'),LineHeadType:require('./LineHeadType'),CalloutType:require('./CalloutType'),FontStyle:require('./FontStyle'),HorizontalAlignment:require('./HorizontalAlignment'),VerticalAlignment:require('./VerticalAlignment'),Orientation:require('./Orientation'),MarkHandleMode:require('./MarkHandleMode'),MarkInteractionMode:require('./MarkInteractionMode'),MarkType:require('./MarkType'),MarkEventArgs:require('./MarkEventArgs'),MarkCollection:require('./MarkCollection'),Mark:require('./Mark'),Comment:require('./Comment'),Conversation:require('./Conversation'),Data:require('./Data'),Zj:require('./highlightItem')};zQ.registerNamespace('IPCC.Web.UI');module.exports=Sn;},{"./../../Type":57,"./ArtPage":66,"./CalloutType":67,"./Comment":68,"./CommentEventArgs":69,"./Conversation":70,"./Data":71,"./DebugErrorLevel":72,"./DebugItemCause":73,"./DomEvent":74,"./FitType":75,"./FontStyle":76,"./HighLightType":77,"./HorizontalAlignment":78,"./ImGearArtDataServices":79,"./ImGearDocument":80,"./ImGearDocumentCollection":81,"./ImGearDocumentCreateArgs":82,"./ImGearDocumentEventArgs":83,"./ImGearDocumentHyperlink":84,"./ImGearEventHandlerList":85,"./ImGearExceptions":86,"./ImGearHyperlinkCollection":87,"./ImGearHyperlinkPage":88,"./ImGearPage":89,"./ImGearPageCollection":90,"./ImGearPageCountStatus":91,"./ImGearPageCreateArgs":92,"./ImGearPageEventArgs":93,"./ImGearPageOpenFailedEventArgs":94,"./ImGearTextCharacter":95,"./ImGearTextCharacterCollection":96,"./ImGearTextPage":97,"./ImGearTextSection":98,"./ImGearTextSectionCollection":99,"./Key":100,"./LineHeadType":101,"./LineStyle":102,"./LogItemEventArgs":103,"./Mark":104,"./MarkCollection":105,"./MarkEventArgs":106,"./MarkHandleMode":107,"./MarkInteractionMode":108,"./MarkType":109,"./MouseButton":110,"./MouseEventArgs":111,"./MouseTool":112,"./Orientation":113,"./PageView":114,"./PageViewState":115,"./Point":116,"./PointCollection":117,"./PointEventArgs":118,"./Rectangle":119,"./ScrollBars":120,"./TextSelectedEventArgs":121,"./VerticalAlignment":123,"./highlightItem":124}],123:[function(require,module,exports){var dA=require('../../IPCC.Util').regEnum;var Ob=function(){};Ob.registerEnum=dA;Ob.prototype={Top:0,Center:1,Bottom:2};Ob.registerEnum('IPCC.Web.UI.VerticalAlignment',false);module.exports=Ob;},{"../../IPCC.Util":29}],124:[function(require,module,exports){var Zj=function(){this.fF=undefined;this.cI=[];this.bL={};};module.exports=Zj;},{}],125:[function(require,module,exports){var Sn=require('././UI/UI');var J=require('./../IPCC.Util');var AE=require('./Cipher');var aDT=require('./Hash');var fV=require('./Codec');var CI=require('./Mode');var gu={};gu.aEo=[];gu.xN=function(aa){return!isNaN(aa-0)&&aa!==null;};gu.zK=function(rW,cs){return IPCC.Web.ajQ(false,arguments);};gu.alI=function(rW,cs){return IPCC.Web.ajQ(true,arguments);};gu.ajQ=function(useLocale,cs){var bC='';var rW=cs[0];for(var R=0;;){var et=rW.indexOf('{',R);var yt=rW.indexOf('}',R);if((et<0)&&(yt<0)){bC+=rW.slice(R);break;}if((yt>0)&&((yt<et)||(et<0))){if(rW.charAt(close+1)!=='}'){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string contains an unmatched opening or closing brace.');}bC+=rW.slice(R,yt+1);R=yt+2;continue;}bC+=rW.slice(R,et);R=et+1;if(rW.charAt(R)==='{'){bC+='{';R++;continue;}if(yt<0){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string contains an unmatched opening or closing brace.');}var Qj=rW.substring(R,yt);var Nt=Qj.indexOf(':');var amX=parseInt((Nt<0)?Qj:Qj.substring(0,Nt),10)+1;if(isNaN(amX)){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string is invalid.');}var Wh=(Nt<0)?'':Qj.substring(Nt+1);var sn=cs[amX];if(typeof(sn)==="undefined"||sn===null){sn='';}if(sn.toFormattedString){bC+=sn.toFormattedString(Wh);}else if(useLocale&&sn.alI){bC+=sn.alI(Wh);}else if(sn.format){bC+=sn.format(Wh);}else{bC+=sn.toString();}R=yt+1;}return bC;};gu.aHq=function(Bj){var rc=Bj.length;var vp=Math.ceil(rc/4),JJ;var ew=[];ew.length=vp;for(var kB=0,gn=0;kB<vp;kB++,gn+=4){ew[kB]=((Bj[gn]&0xff)<<24)+((Bj[gn+1]&0xff)<<16)+((Bj[gn+2]&0xff)<<8)+(Bj[gn+3]&0xff);}if(gn<rc){JJ[kB]=0;for(var xF=0;gn<rc;gn++,xF++){JJ[kB]+=(Bj[gn++]&0xff)<<(3-xF);}}return ew;};gu.aof=function(ak){var rc=ak.length;var vp=Math.ceil(rc/4);var ew=[];ew.length=vp;for(var kB=0,gn=0;kB<vp;kB++,gn+=4){ew[kB]=((ak.charCodeAt(gn)&0xff)<<24)+((ak.charCodeAt(gn+1)&0xff)<<16)+((ak.charCodeAt(gn+2)&0xff)<<8)+((ak.charCodeAt(gn+3)&0xff));}if(gn<rc){ew[kB]=0;for(var xF=0;gn<rc;gn++,xF++){ew[kB]+=(ak.charCodeAt(gn++)&0xff)<<(3-xF);}}return ew;};gu.aIa=function(AJ){var Bc=new Uint8Array(AJ);var rc=Bc.length;var vp=Math.ceil(rc/4),JJ;var ew=[];ew.length=vp;for(var kB=0,gn=0;kB<vp;kB++,gn+=4){ew[kB]=(Bc[gn]<<24)+(Bc[gn+1]<<16)+(Bc[gn+2]<<8)+Bc[gn+3];}if(gn<rc){ew[kB]=0;for(var xF=0;gn<rc;gn++,xF++){JJ[kB]+=Bc[gn++]<<(3-xF);}}return ew;};gu.Hi=function(ew,iV){var be=[0x116D0662,0xA8BB5E38,0x4D7F93C8,0xA61D2F6B,0xADB1384D,0x3D4AC7FB,0x4E6EB64E,0x6F4D7E8F];return IPCC.Web.Ey(ew,be,iV);};gu.Ey=function(ew,be,iV){try{var aut=new IPCC.Web.AE.amh(be);var dp=IPCC.Web.CI.ayv.RN(aut,ew,iV);return dp;}catch(af){return;}};gu.FX=function(ET){return IPCC.Web.aof(ET.responseText);};gu.Pj=function(){var BQ=new Date();var aDp=new Date(BQ.getYear(),BQ.getMonth(),BQ.getDate(),BQ.getHours(),BQ.getMinutes(),BQ.getSeconds());return(+aDp);};gu.iM=function(dQ,elt){var len=dQ.length>>>0;var from=Number(arguments[2])||0;from=(from<0)?Math.ceil(from):Math.floor(from);if(from<0){from+=len;}for(;from<len;from++){if(from in dQ&&dQ[from]===elt){return from;}}return-1;};gu.aFT=function aFs(){var jW=0xefc8249d;var sO=function(dp){dp=dp.toString();for(var R=0;R<dp.length;R++){jW+=dp.charCodeAt(R);var eb=0.02519603282416938*jW;jW=eb>>>0;eb-=jW;eb*=jW;jW=eb>>>0;eb-=jW;jW+=eb*0x100000000;}return(jW>>>0)*2.3283064365386963e-10;};sO.zg='Mash 0.9';return sO;};gu.amR=function aEV(){return(function(cs){var EH=0;var Gl=0;var xQ=0;var eF=1;if(cs.length===0){cs=[+new Date()];}var sO=IPCC.Web.aFT();EH=sO(' ');Gl=sO(' ');xQ=sO(' ');for(var R=0;R<cs.length;R++){EH-=sO(cs[R]);if(EH<0){EH+=1;}Gl-=sO(cs[R]);if(Gl<0){Gl+=1;}xQ-=sO(cs[R]);if(xQ<0){xQ+=1;}}sO=null;var xy=function(){var qy=2091639*EH+eF*2.3283064365386963e-10;EH=Gl;Gl=xQ;xQ=qy-(eF=qy|0);return xQ;};xy.agr=function(){return xy()*0x100000000;};xy.aIB=function(){return xy()+(xy()*0x200000|0)*1.1102230246251565e-16;};xy.zg='Alea 0.9';xy.cs=cs;return xy;}(Array.prototype.slice.call(arguments)));};gu.om=function(){if(this.anp===undefined){var yI=document.createElement("div");yI.style.overflow='scroll';yI.style.position='absolute';yI.style.top='-9999px';document.body.appendChild(yI);this.anp=yI.offsetWidth-yI.clientWidth;document.body.removeChild(yI);}return this.anp;};gu.EU={acR:function(hF){var GH=[];var Zu=IPCC.Web.amR().agr;for(var R=0;R<hF;R++){GH.push(Zu());}return GH;},aaW:function(hF,fB){var GH=[];var Zu=IPCC.Web.amR(fB).agr;for(var R=0;R<hF;R++){GH.push(Zu());}return GH;},aHK:function(iV,aEr){var hF,jg=true,eB="",IX,aaI,Zv,Ow,MD,ajL;for(hF=0;hF<4;hF++){if(!jg){eB+='-';}else{jg=false;}MD=0;for(IX=0;IX<4;IX++){Ow=hF*32+IX*8;aaI=IPCC.Web.gH.Zy(iV,Ow,4);eB+=aaI.toString(16).toUpperCase();Zv=IPCC.Web.gH.Zy(iV,Ow+4,4);eB+=Zv.toString(16).toUpperCase();ajL=(aaI*16+Zv+IPCC.Web.gH.Zy(IPCC.Web.be,Ow,8))%256;MD=MD|(ajL<<(24-(IX*8)));}aEr.aEo[hF]=MD;}return eB;}};gu.be=[0x4B1C9AAE,0x25AE1AB6,0x48E3F1C8,0x8D61FC1A];gu.gH={Qu:function(dR,rE,ajq){dR=IPCC.Web.gH.ajg(dR.slice(rE/32),32-(rE&31)).slice(1);return(ajq===undefined)?dR:IPCC.Web.gH.MX(dR,ajq-rE);},Zy:function(dR,rE,RW){var aa,SH=Math.floor((-rE-RW)&31);if((rE+RW-1^rE)& -32){aa=(dR[rE/32|0]<<(32-SH))^(dR[rE/32+1|0]>>>SH);}else{aa=dR[rE/32|0]>>>SH;}return aa&((1<<RW)-1);},TJ:function(xT,tS){if(xT.length===0||tS.length===0){return xT.concat(tS);}var lB=xT[xT.length-1],sz=IPCC.Web.gH.abk(lB);if(sz===32){return xT.concat(tS);}else{return IPCC.Web.gH.ajg(tS,sz,lB|0,xT.slice(0,xT.length-1));}},vb:function(dR){var pw=dR.length,aa;if(pw===0){return 0;}aa=dR[pw-1];return(pw-1)*32+IPCC.Web.gH.abk(aa);},MX:function(dR,cv){if(dR.length*32<cv){return dR;}dR=dR.slice(0,Math.ceil(cv/32));var pw=dR.length;cv=cv&31;if(pw>0&&cv){dR[pw-1]=IPCC.Web.gH.Kt(cv,dR[pw-1]&0x80000000>>(cv-1),1);}return dR;},Kt:function(cv,aa,fL){if(cv===32){return aa;}return(fL?aa|0:aa<<(32-cv))+cv*0x10000000000;},abk:function(aa){return Math.round(aa/0x10000000000)||32;},apJ:function(dR,es){if(IPCC.Web.gH.vb(dR)!==IPCC.Web.gH.vb(es)){return false;}var aa=0,R;for(R=0;R<dR.length;R++){aa|=dR[R]^es[R];}return(aa===0);},ajg:function(dR,sz,Fw,eB){var R,acC=0,SX;if(eB===undefined){eB=[];}for(;sz>=32;sz-=32){eB.push(Fw);Fw=0;}if(sz===0){return eB.concat(dR);}for(R=0;R<dR.length;R++){eB.push(Fw|dR[R]>>>sz);Fw=dR[R]<<(32-sz);}acC=dR.length?dR[dR.length-1]:0;SX=IPCC.Web.gH.abk(acC);eB.push(IPCC.Web.gH.Kt(sz+SX&31,(sz+SX>32)?Fw:eB.pop(),1));return eB;},ahg:function(aa,bZ){return[aa[0]^bZ[0],aa[1]^bZ[1],aa[2]^bZ[2],aa[3]^bZ[3]];}};gu.AE=AE;gu.re=aDT;gu.fV=fV;gu.CI=CI;gu.aep=J.aep;gu.UI=Sn;gu.regEnum=J.regEnum;gu.regClass=J.regClass;module.exports=gu;},{"./../IPCC.Util":29,"././UI/UI":122,"./Cipher":62,"./Codec":63,"./Hash":64,"./Mode":65}],126:[function(require,module,exports){var Zo=function ImageGearIndexOf(array,item,start){if(typeof(item)==="undefined"){return-1;}var length=array.length;if(length!==0){start=start-0;if(isNaN(start)){start=0;}else{if(isFinite(start)){start=start-(start%1);}if(start<0){start=Math.max(0,length+start);}}for(var i=start;i<length;i++){if((typeof(array[i])!=="undefined")&&(array[i]===item)){return i;}}}return-1;};module.exports=Zo;},{}],127:[function(require,module,exports){var aCh=function(Io,bA){var PG=new IPCC.PageList(Io);if(bA){IPCC.KN(PG,bA);}PG.uM(Io);PG.initialize();return PG;};module.exports=aCh;},{}],128:[function(require,module,exports){var aCl=function(Io,Wx){var oz=Wx.handleTouchEvents!==false;var Pf=new IPCC.Web.UI.PageView(Io,oz);if(Wx){IPCC.KN(Pf,Wx);}Pf.uM(Io);Pf.initialize();return Pf;};module.exports=aCl;},{}],129:[function(require,module,exports){var pL={zoomInMenuItem:"Zoom In 25%",zoomOutMenuItem:"Zoom Out 25%",fullImageMenuItem:"Full Image",fullWidthMenuItem:"Full Width",fullHeightMenuItem:"Full Height",oneToOneRatioMenuItem:"1 to 1 Ratio",actualSizeMenuItem:"Actual Size",rotateRightMenuItem:"Rotate Clockwise",rotateLeftMenuItem:"Rotate Counter-Clockwise",mirrorHorizontalMenuItem:"Mirror Horizontal",mirrorVerticalMenuItem:"Mirror Vertical",panToolMenuItem:"Pan Tool",areaSelectionToolMenuItem:"Area Selection Tool",zoomRectangleToolMenuItem:"Zoom Rectangle Tool",flyingMagnifierToolMenuItem:"Flying Magnifier Tool",createTextMarkToolMenuItem:"Create Text Mark",createLineMarkToolMenuItem:"Create Line Mark",createPolygonMarkToolMenuItem:"Create Polygon Mark",createPolylineMarkToolMenuItem:"Create Polyline Mark",createRectangleMarkToolMenuItem:"Create Rectangle Mark",createEllipseMarkToolMenuItem:"Create Ellipse Mark",createFreehandMarkToolMenuItem:"Create Freehand Mark",editMarksToolMenuItem:"Edit Marks",runMarksToolMenuItem:"Run Marks",createStampMarkToolMenuItem:"Create Stamp Mark",createHighlightMarkToolMenuItem:"Create Highlight Mark",thicknessMenu:{item1:"1",item2:"2",item3:"3",item4:"4",item5:"5",item6:"6",item7:"7",item8:"8"},opacityMenu:{translucent:"Translucent (127)",opaque:"Opaque (255)"},calloutTypeMenu:{line:"Line",triangle:"Triangle"},borderThicknessMenuItem:"Border Thickness",borderColorMenuItem:"Border Color...",fillColorMenuItem:"Fill Color...",lineThicknessMenuItem:"Thickness",lineColorMenuItem:"Color...",fontMenuItem:"Font...",opacityMenuItem:"Opacity",calloutTypeMenuItem:"Callout Type",calloutVisibleMenuItem:"Callout Visible",moveToBackMenuItem:"Move to Back",moveBackwardMenuItem:"Move Backward",moveForwardMenuItem:"Move Forward",moveToFrontMenuItem:"Move to Front",deleteMarkMenuItem:"Delete Mark",zoomToFitMenuItem:"Zoom to Fit",orientationMenuItem:"Orientation",mouseToolsMenuItem:"Mouse Tools",rectangleMarkPropertiesMenuItem:"Properties",textMarkPropertiesMenuItem:"Properties",polygonMarkPropertiesMenuItem:"Properties",polylineMarkPropertiesMenuItem:"Properties",lineMarkPropertiesMenuItem:"Properties",markOrderingMenuItem:"Ordering",stampMarkPropertiesMenuItem:"Properties",selectColor:"Select Color",selectFont:"Select Font",ok:"OK",cancel:"CANCEL",red:"Red",green:"Green",blue:"Blue",font:"Font",size:"Size",italic:"Italic",bold:"Bold",underline:"Underline",strikeout:"Strikeout"};module.exports=pL;},{}],130:[function(require,module,exports){var KN=function(cw,jR){var sy;for(var al in jR){if(jR.hasOwnProperty(al)){var aJ=jR[al];var atP=cw["get_"+al];var ajD=cw["set_"+al];if(typeof(ajD)==='function'){ajD.apply(cw,[aJ]);}else if(aJ instanceof Array){sy=atP.apply(cw);if(!(sy instanceof Array)){throw new new IPCC.Web.UI.ImGearInvalidOperationException(al+" is not an Array property");}for(var R=0,bM=sy.length,pw=aJ.length;R<pw;R++,bM++){sy[bM]=aJ[R];}}}}};module.exports=KN;},{}],131:[function(require,module,exports){"use strict";var amt=function(ar){if(ar instanceof PCCViewer.AjaxResponse){return ar;}else if(!(this instanceof PCCViewer.AjaxResponse)){return new PCCViewer.AjaxResponse(ar);}this.qr=new IPCC.J.qr(ar);this.status=this.qr.status;this.statusText=this.qr.statusText;this.responseText=this.qr.responseText;if(typeof this.qr.responseBody!=='undefined'){this.responseBody=this.qr.responseBody;}return this;};amt.prototype.getResponseHeader=function(Ba){return this.qr.getResponseHeader(Ba);};var Fd=(function(){function atk(){return IPCC.J.extend({},IPCC.J.me.hc);};function awA(hc){if(!(typeof hc==='undefined'||(typeof hc==='object'&&hc!==null&& !(hc instanceof Array)))){throw new Error('Headers should be an object or undefined.');}if(typeof hc==='object'){var asZ=Object.keys(IPCC.J.akB());Object.keys(hc).forEach(function(Ba){if(asZ.indexOf(Ba)!== -1){throw new Error('Cannot overwrite the header "'+Ba+'".');}});}IPCC.J.me.hc=IPCC.J.extend({},hc);return PCCViewer.Ajax;};function auq(){return IPCC.J.me.Lu;};function avH(io){if(typeof io!=='undefined'&&typeof io!=='function'){throw new Error('Method should be a function or undefined.');}IPCC.J.me.Lu=io;return PCCViewer.Ajax;};function et(bA){var ai=PCCViewer.Deferred();if(!(typeof bA==='undefined'||(typeof bA==='object'&&bA!==null&& !(bA instanceof Array)))){throw new Error('Options should be an object or undefined.');}function en(ar){if(!(ar instanceof PCCViewer.AjaxResponse)){ar=new PCCViewer.AjaxResponse(ar);}ai.resolve(ar);};function eo(bC){if(bC.response){bC.response=new PCCViewer.AjaxResponse(bC.response);}ai.reject(bC);};IPCC.J.me.et(bA).then(en,eo);return ai.getPromise();};return{getHeaders:atk,setHeaders:awA,getOverrideMethod:auq,setOverrideMethod:avH,et:et,};})();if(Object.defineProperties){Object.defineProperties(Fd,{"headers":{enumerable:true,get:function(){return Fd.getHeaders();},set:function(hc){return Fd.setHeaders(hc);}},"overrideMethod":{enumerable:true,get:function(){return Fd.getOverrideMethod();},set:function(io){return Fd.setOverrideMethod(io);}}});}module.exports={AjaxResponse:amt,Ajax:Fd};},{}],132:[function(require,module,exports){var BurnRequest=function(bA){this.oV="";this.fc="";this.nc=0;this.oQ="";this.fv="";this.qP=0;this.he=false;this.qD=0;this.Ui="";this.qJ=false;this.ai=PCCViewer.Deferred();this.cf=this.ai.getPromise();this.then=this.cf.then;this.bA=bA;this.fv=null;this.eZ=undefined;this.rH=false;this.Ps=null;PCCViewer.EventEmitter.extend(this);var F=this;if(bA.os){var os=new PCCViewer.Error(bA.os.code,bA.os.message);delete F.bA.os;setTimeout(function(){F.trigger(PCCViewer.BurnRequest.EventType.BurnCancelled,{});F.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});F.fv=os.code;F.ai.reject(os);},0);}};BurnRequest.EventType={BurnProgress:"BurnProgress",BurnCompleted:"BurnCompleted",BurnFailed:"BurnFailed",BurnCancelled:"BurnCancelled",BurnWorkerCreated:"BurnWorkerCreated"};BurnRequest.prototype.cancel=function(){var F=this;this.qJ=true;this.fv="User Cancelled";setTimeout(function(){F.trigger(PCCViewer.BurnRequest.EventType.BurnCancelled,{});F.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});F.ai.reject(new PCCViewer.Error("UserCancelled","User Cancelled"));},0);return this;};BurnRequest.prototype.getProgress=function(){return this.nc;};BurnRequest.prototype.getWorkerID=function(){return this.oV;};BurnRequest.prototype.getOptions=function(){return this.bA;};BurnRequest.prototype.getErrorCode=function(){return this.fv;};BurnRequest.prototype.getBurnedDocumentDownloadURL=function(){return this.Ps;};BurnRequest.prototype.aqr=function(hN){this.Ui=hN;};BurnRequest.prototype.KU=function(eZ){this.eZ=eZ;};BurnRequest.prototype.SU=function(){var F=this;this.fv="Failure to generate Markup XML";setTimeout(function(){F.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});F.ai.reject(new PCCViewer.Error("MarkupXMLFail",F.fv));},0);return this;};BurnRequest.prototype.Bn=function(){function en(ar){var hC,bC;try{hC=ar.responseText;if(!hC){setTimeout(function(){F.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});F.ai.reject(new PCCViewer.Error("ResponseEmpty","Empty/invalid response from the server"));},0);F.rH=true;return;}else{bC=JSON.parse(hC);setTimeout(function(){axf(bC);},0);}}catch(e){setTimeout(function(){F.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});F.ai.reject(new PCCViewer.Error("BurnFailErrorCode","Burn process failed, error: "+e.message));},0);F.rH=true;return;}};function eo(bC){F.he=false;var dO=bC.response.status+" "+bC.response.statusText;setTimeout(function(){F.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});F.ai.reject(new PCCViewer.Error("StatusCode","Status Code "+dO));},0);F.rH=true;return;};try{if(!this.Ui){throw new Error("XMl Markup data for burn is missing");}var F=this;var agn=function(){var XY;if(!(/^[\x00-\x7F]*$/.test(F.eZ.bE.get_documentIdentifier()))){XY=F.eZ.bA.imageHandlerUrl+'/ViewingSession/e'+F.eZ.bA.documentID+'/MarkupBurner/'+F.oV;}else{XY=F.eZ.bA.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(F.eZ.bA.documentID)+'/MarkupBurner/'+F.oV;}PCCViewer.Ajax.et({method:'GET',url:XY,headers:{'Content-Type':'application/json'}}).then(en,eo);};var axf=function(gM){if(gM){if(F.qJ===true){F.he=false;return;}if(gM.percentComplete>=0&&F.he===true){if(gM.percentComplete===100&&gM.state==='complete'){if(gM.processId){F.he=false;F.oV=gM.processId;F.fc=gM.state;F.qP+=1;F.qD=1000;F.nc= +(gM.percentComplete);var HA;if(!(/^[\x00-\x7F]*$/.test(F.eZ.bE.get_documentIdentifier()))){HA=F.eZ.bA.imageHandlerUrl+'/ViewingSession/e'+F.eZ.bA.documentID+'/MarkupBurner/'+F.oV+"/Document";}else{HA=F.eZ.bA.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(F.eZ.bA.documentID)+'/MarkupBurner/'+F.oV+"/Document";}if(F.bA.filename){HA+="?ContentDispositionFilename="+F.bA.filename;}F.Ps=HA;F.rH=true;var axS= +(gM.percentComplete);setTimeout(function(){F.trigger(PCCViewer.BurnRequest.EventType.BurnCompleted,{});F.trigger(PCCViewer.BurnRequest.EventType.BurnProgress,{progress:axS});F.ai.resolve(HA);},10);return;}}else{if(gM.state==='error'){F.he=false;F.fv=gM.errorCode;setTimeout(function(){F.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});F.ai.reject(new PCCViewer.Error("BurnFailError","BurnProcess failed, errorCode: "+F.fv));},0);F.he=false;F.rH=true;return;}if(gM.processId){var Xh= +(gM.percentComplete);if(F.nc!==Xh){setTimeout(function(){F.trigger(PCCViewer.BurnRequest.EventType.BurnProgress,{progress:Xh});},10);}if(!F.oV){F.oV=gM.processId;setTimeout(function(){F.trigger(PCCViewer.BurnRequest.EventType.BurnWorkerCreated,{});},0);F.fc=gM.state;F.qP=1;F.he=true;F.qD=1000;F.nc= +(gM.percentComplete);}if(gM.percentComplete<100){if(F.qP>1){F.qD+=1000;}F.qP+=1;F.fc=gM.state;F.nc= +(gM.percentComplete);if(F.he===true&&F.qJ===false&&F.rH===false){setTimeout(agn,F.qD);}}}}}else{if(F.rH===false){var VH=false;if(F.he===false){if(gM.state==='complete'){if(!F.Ps){VH=true;}else{F.rH=true;setTimeout(function(){F.trigger(PCCViewer.BurnRequest.EventType.BurnCompleted,{});F.ai.resolve(F.Ps);},10);return;}}if(gM.state==='processing'&&gM.errorCode===null){if(gM.percentComplete>=0&&gM.percentComplete<100){if(F.qP>1){F.qD+=1000;}F.qP+=1;F.he=true;F.fc=gM.state;F.nc= +(gM.percentComplete);if(F.he===true&&F.qJ===false){setTimeout(agn,F.qD);}}else{VH=true;}}if(gM.state==='error'||VH===true){F.he=false;F.fv=gM.errorCode;setTimeout(function(){F.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});F.ai.reject(new PCCViewer.Error("BurnFailError","BurnProcess failed, errorCode: "+gM.errorCode));},0);F.he=false;F.rH=true;return;}}}}}};var ab;if(!(/^[\x00-\x7F]*$/.test(F.eZ.bE.get_documentIdentifier()))){ab=F.eZ.bA.imageHandlerUrl+'/ViewingSession/e'+F.eZ.bA.documentID+'/MarkupBurner';}else{ab=F.eZ.bA.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(F.eZ.bA.documentID)+'/MarkupBurner';}if(F.bA.removeFormFields){ab+='?RemoveFormFields=acroform';}PCCViewer.Ajax.et({method:'POST',url:ab,headers:{'Content-Type':'application/xml'},body:F.Ui}).then(en,eo);F.he=true;}catch(e){this.he=false;var ae=this,hX=e.message;setTimeout(function(){ae.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});ae.ai.reject(new PCCViewer.Error("BurnFailErrorCode","The burn process failed, error: "+hX));},0);this.rH=true;}};if(Object.defineProperties){Object.defineProperties(BurnRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"workerID":{enumerable:true,get:function(){return this.getWorkerID();}},"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"burnedDocumentDownloadURL":{enumerable:true,get:function(){return this.getBurnedDocumentDownloadURL();}}});}module.exports=BurnRequest;},{}],133:[function(require,module,exports){function atB(bE,aP){var aC=bE.da.ic(aP);var ec=aC.dg();return ec.Cu();};function aur(bE,aP){var aC=bE.da.ic(aP);var ec=aC.dg();var IY=ec.gQ();return IY.asr();};function azX(zX,aqC){var cv=zX.length;if(cv===0){return false;}if(cv!==aqC){return false;}for(var R=0;R<cv;R++){if(zX[R]!==true){return false;}}return true;};var NM=function(){var F=this;this.JA=false;this.zX=[];this.sm=[];this.zV=[];this.akL=0;this.bO=0;this.iO=false;function pF(JV,aab){switch(JV){case 'failed':setTimeout(function(){F.ap.trigger('SearchFailed',aab);},10);break;case 'complete':F.ap.ey=F.sm;F.ap.Xw=F.zV;F.ap.uZ=true;setTimeout(function(){F.ap.trigger('SearchResultsAvailable',{completedSearchResults:(F.sm)});},10);break;case 'cancelled':break;}setTimeout(function(){F.ap.trigger('SearchCompleted',{completedSearchResults:(F.sm)});},10);};function awI(){F.ap.cJ='Unable to communicate with server, please retry loading the document.';F.ap.fv='1011';F.ap.uZ=true;pF('failed',{errorMessage:('Unable to communicate with server, please retry loading the document.')});F.iO=true;};function ahG(bA,aAx){var aAK=IPCC.J.trim(bA.type||'').toLowerCase();var bC;switch(aAK){case 'taskresult':bC=new PCCViewer.SearchTaskResult();break;default:bC=new PCCViewer.SearchResult();break;}IPCC.J.extend(bC,aAx);var aha=bC.qn+bC.text.length-1;var cl=PCCViewer.FP.formatter.getContext({text:bA.searchText,startIndex:bC.qn,endIndex:aha,padding:bC.bo.contextPadding});bC.cl=cl.context;bC.xt=cl.startIndex;if(bA.rectangles){var ahy={rectangles:bA.rectangles,startIndex:bC.qn,endIndex:aha};bC.nj=PCCViewer.FP.formatter.getBoundingRectangle(ahy);bC.bj=PCCViewer.FP.formatter.getLineRectangles(ahy);}return bC;};function agI(nu,wS,Ip,hz,gw){var IU=[];var aak= !hz;var wc=wS.distance;var zv=[];IPCC.J.forEach(wS.ds,function(ds){zv.push(ds.searchTerm);});var axC=PCCViewer.FP.proximity.getResults(Ip,zv,wc);IPCC.J.forEach(axC,function(bC){var eC=ahG({type:aak?'TaskResult':'Result',searchText:Ip,rectangles:hz},{gw:gw,bo:wS.wz,nu:nu,qH:wS.highlightColor,qn:bC.startIndex,ak:bC.text});IU.push(eC);});return IU;};function NI(nu,ds,Ip,hz,gw){var aak= !hz;var IU=[];var Qe=[ds.searchTerm];var ey=PCCViewer.FP.regex.getResults(Ip,Qe);IPCC.J.forEach(ey,function(bC){if(ds.wz.matchingOptions.wildcard&&(bC.text[0]===" "||bC.text[0]==="\n")){bC.text=bC.text.substring(1);bC.startIndex+=1;}var eC=ahG({type:aak?'TaskResult':'Result',searchText:Ip,rectangles:hz},{gw:gw,nu:nu,ds:ds,bo:ds.wz,qn:bC.startIndex,ak:bC.text,qH:ds.highlightColor});IU.push(eC);});return IU;};function ayM(akE,aP,bE,hz){var Wl=[];var nu=Date.now();IPCC.J.forEach(F.ds,function(ds,R){var ey;var oE=IPCC.J.NG(ds.type);var aC=bE.da.ic(aP);var gw={width:aC.kL(),height:aC.iY()};switch(oE){case 'proximity':ey=agI(nu,ds,akE,hz,gw);break;default:ey=NI(nu,ds,akE,hz,gw);break;}IPCC.J.forEach(ey,function(bC){bC.cc=F.bO;bC.aM=aP+1;bC.Hs=bE.get_documentIdentifier();F.sm[F.bO]=bC;F.bO++;Wl.push(bC);});});F.ap.ey=F.sm;if(Wl.length){setTimeout(function(){F.ap.trigger('PartialSearchResultsAvailable',{partialSearchResults:(Wl),pagesWithoutText:(F.zV)});},10);}};function ayt(ak){var nu=Date.now();IPCC.J.forEach(F.ds,function(ds,R){var oE=IPCC.J.NG(ds.type);var ey;switch(oE){case 'proximity':ey=agI(nu,ds,ak);break;default:ey=NI(nu,ds,ak);break;}IPCC.J.forEach(ey,function(bC){bC.cc=F.bO;F.sm[F.bO]=bC;F.bO++;});});F.ap.ey=F.sm;};function acP(Cp,bE){for(var R=0;R<Cp.length;R++){if(F.zX[Cp[R]]===false){F.zX[Cp[R]]=true;var ak=atB(bE,Cp[R]);var hz=aur(bE,Cp[R]);if(!ak&&ak!==null){F.zV[F.akL]=Cp[R];F.akL++;continue;}ayM(ak,Cp[R],bE,hz);if(F.ap.qJ){if(F.JA){pF('cancelled');F.JA=false;bE.remove_textPagesReceived(Ok);return;}break;}}}if(azX(F.zX,bE.eD)&& !F.ap.uZ){pF('complete');F.JA=false;bE.remove_textPagesReceived(Ok);}};function Ok(sender,V){if(V.error=== -1){awI();return F.ap;}try{if(F.iO===false){acP(V.textPagesReceived,sender);}}catch(e){F.ap.cJ=e.message;F.ap.fv='1010';F.ap.uZ=true;pF('failed',{errorMessage:(e.message)});F.iO=true;return F.ap;}};this.Zd=function(bE,ds,ez,ap){F.ds=ds;F.ap=ap;F.ap.ez=ez;F.ap.on('SearchCancelled',function(){pF('cancelled');F.JA=false;bE.remove_textPagesReceived(Ok);});for(var R=0;R<bE.eD;R++){F.zX[R]=false;}if(bE.ajP().fq()>bE.get_numberOfPagesWithText()){F.JA=true;bE.add_textPagesReceived(Ok);}if(bE.get_numberOfPagesWithText()>0){acP(bE.get_pagesWithText(),bE);}return F.ap;};this.apP=function(ak){this.ap=new PCCViewer.SearchRequest();try{ayt(ak);}catch(e){F.ap.cJ=e.message;F.ap.fv='1010';return;}};};module.exports=NM;},{}],134:[function(require,module,exports){var Comment=function Comment(comment,conversation){if(!(comment instanceof IPCC.Web.UI.Comment)&&(typeof comment!=='string')){throw new Error(comment+' is not a string.');}if(!(conversation instanceof PCCViewer.Conversation)){throw new Error(conversation+' is not a PCCViewer.Conversation object.');}this.getConversation=function aGH(){return conversation;};if(typeof comment==='string'){this.nC=new IPCC.Web.UI.Comment(comment);}else{this.nC=comment;}this.nC.IG=this;this.dp=this.nC.get_data();PCCViewer.Data.extend(this);this.Bg=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);};Comment.prototype.getMarkupLayer=function aFI(){return this.hT;};Comment.prototype.getText=function aFL(){return this.nC.get_text();};Comment.prototype.setText=function aHc(text){if(typeof text!=='string'){throw new Error(text+' is not a string.');}this.nC.set_text(text);return this;};Comment.prototype.getCreationTime=function aFi(){var asN=IPCC.J.JE(this.nC.get_creationTime());return new Date(asN);};Comment.prototype.setCreationTime=function aHm(time){function adE(){throw new Error(time+' is not a valid string or Date object.');};if(typeof time==='string'){var aio=IPCC.J.JE(time);if(aio instanceof Error){adE();}time=new Date(aio);}if(!(time instanceof Date)){adE();}this.nC.set_creationTime(IPCC.J.wG(time));return this;};if(Object.defineProperties){Object.defineProperties(Comment.prototype,{"text":{enumerable:true,get:function(){return this.getText();},set:function(text){return this.setText(text);}},"creationTime":{enumerable:true,get:function(){return this.getCreationTime();},set:function(time){return this.setCreationTime(time);}}});}var Conversation=function Conversation(mark){if(!(mark instanceof PCCViewer.Mark)){throw new Error(mark+' is not a PCCViewer.Mark object.');}this.getMark=function Qv(){return mark;};this.jw=new PCCViewer.ObservableCollection();if(typeof mark.L!=="undefined"){this.yF=mark.L.get_conversation();this.yF.forEach(function(nC){var cX=new PCCViewer.Comment(nC,this);this.jw.add(cX);},this);}else{this.yF=new IPCC.Web.UI.Conversation();}this.dp=this.yF.get_data();PCCViewer.Data.extend(this);this.Bg=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);};Conversation.prototype.addComment=function Fs(commentText){var cX=new PCCViewer.Comment(commentText,this);this.jw.add(cX);this.yF.addComment(cX.nC);return cX;};Conversation.prototype.deleteComments=function(comments){var F=this;var afI=this.jw.toArray();var abi=function(cX){for(var i=0,length=afI.length;i<length;i++){if(afI[i]===cX){return true;}}return false;};function act(cX,bO){throw new Error(cX+((bO!==undefined)?' (Array index '+bO+')':'')+' is not a PCCViewer.Comment object.');};function ajI(cX,bO){throw new Error(((bO!==undefined)?' (Array index '+bO+')':'')+' is not part of this Conversation object.');};if(comments instanceof PCCViewer.Comment){if(!abi(comments)){ajI(comments);}F.jw.remove(comments);F.yF.removeCommentInstance(comments.nC);}else if(comments instanceof Array){IPCC.J.forEach(comments,function(el,idx){if(!(el instanceof PCCViewer.Comment)){act(el,idx);}if(!abi(el)){ajI(el,idx);}});IPCC.J.forEach(comments,function(el){F.jw.remove(el);F.yF.removeCommentInstance(el.nC);});}else{act(comments);}return this;};Conversation.prototype.getComments=function(){return this.jw.toArray().sort(function(a,b){return a.getCreationTime().getTime()-b.getCreationTime().getTime();});};Conversation.rf=function(gB,pf){if(typeof gB.getComments!=="function"||typeof pf.addComment!=="function"){throw new Error("Arguments `_source` and `_destination` must be Conversation objects.");}PCCViewer.Data.nX(gB,pf);var hi=gB.getComments(),i,length=hi.length;for(i=0;i<length;i++){var ahM=hi[i];var asv=pf.addComment(ahM.getText());PCCViewer.Data.nX(ahM,asv);}};module.exports={Conversation:Conversation,Comment:Comment};},{}],135:[function(require,module,exports){var ConversionRequest=function(bA){this.oV="";this.fc="";this.nc=0;this.fv="";this.he=false;this.qJ=false;this.bA=bA;this.zT=null;this.Ej=null;this.eZ=undefined;this.ai=PCCViewer.Deferred();this.cf=this.ai.getPromise();this.then=this.cf.then;PCCViewer.EventEmitter.extend(this);};ConversionRequest.EventType={ConversionProgress:"ConversionProgress",ConversionCompleted:"ConversionCompleted",ConversionFailed:"ConversionFailed",ConversionCancelled:"ConversionCancelled",ConversionWorkerCreated:"ConversionWorkerCreated"};ConversionRequest.prototype.cancel=function(){var F=this;this.qJ=true;this.fv="User Cancelled";setTimeout(function(){F.trigger(PCCViewer.ConversionRequest.EventType.ConversionCancelled,{});F.trigger(PCCViewer.ConversionRequest.EventType.ConversionFailed,{});F.ai.reject(new PCCViewer.Error("UserCancelled","User Cancelled"));},0);return this;};ConversionRequest.prototype.getProgress=function(){return this.nc;};ConversionRequest.prototype.getWorkerID=function(){return this.oV;};ConversionRequest.prototype.getOptions=function(){return this.bA;};ConversionRequest.prototype.getErrorCode=function(){return this.fv;};ConversionRequest.prototype.getConvertedDocumentDownloadURL=function(){return this.zT;};ConversionRequest.prototype.getConvertedDocumentDownloadURLs=function(){if(this.Ej){return this.Ej.slice();}return null;};ConversionRequest.prototype.KU=function(eZ){this.eZ=eZ;};ConversionRequest.prototype.Bn=function(){var F=this;F.he=true;F.aCM().then(function onResolve(pI){F.oV=pI.processId;F.nc=pI.percentComplete;F.fc=pI.state;F.trigger(PCCViewer.ConversionRequest.EventType.ConversionWorkerCreated,{});F.axt(pI).then(function onResolve(asl){F.he=false;F.Ej=[];if(F.bA.zg>1){for(var R=0;R<F.azG;R++){var zT=F.eZ.bA.imageHandlerUrl+'/v2/viewingSessions/'+F.eZ.bA.documentID+'/contentConverters/'+F.oV+'/results/'+R+'/file?ContentDispositionFilename='+encodeURIComponent(F.bA.filename);F.Ej.push(zT);}F.ai.resolve(F.Ej);}else{F.zT=F.eZ.bA.imageHandlerUrl+'/WorkFile/'+asl+"?ContentDispositionFilename="+encodeURIComponent(F.bA.filename);if(pI.affinityToken){F.zT+="&affinityToken="+encodeURIComponent(pI.affinityToken);}F.Ej.push(F.zT);F.ai.resolve(F.zT);}F.trigger(PCCViewer.ConversionRequest.EventType.ConversionCompleted,{});},function onReject(reason){F.he=false;F.fv=reason.error.code;F.ai.reject(reason);F.trigger(PCCViewer.ConversionRequest.EventType.ConversionFailed,{});});},function onReject(reason){F.he=false;F.ai.reject(reason);F.trigger(PCCViewer.ConversionRequest.EventType.ConversionFailed,{});});};ConversionRequest.prototype.aCM=function(){var ab,lc=PCCViewer.Deferred();var TX;if(this.bA.zg>1){ab=this.eZ.bA.imageHandlerUrl+'/v2/viewingSessions/'+this.eZ.bA.documentID+'/contentConverters/';TX={url:ab,method:'POST',headers:{"Content-Type":"application/json"}};}else{ab=this.eZ.bA.imageHandlerUrl+'/contentConverters/';TX={url:ab,method:'POST',headers:{"Content-Type":"application/json"},body:JSON.stringify({viewingSessionId:this.eZ.bA.documentID})};}PCCViewer.Ajax.et(TX).then(function en(ar){var bC=JSON.parse(ar.responseText);lc.resolve(bC);},function eo(bC){lc.reject(bC.error);});return lc.getPromise();};ConversionRequest.prototype.axt=function(pI){var ab,lc=PCCViewer.Deferred(),F=this,hc;if(F.bA.zg>1){ab=this.eZ.bA.imageHandlerUrl+'/v2/viewingSessions/'+this.eZ.bA.documentID+'/contentConverters/'+pI.processId;}else{ab=this.eZ.bA.imageHandlerUrl+'/contentConverters/'+pI.processId;}if(pI.affinityToken){hc={"Accusoft-Affinity-Token":pI.affinityToken};}(function poll(){setTimeout(function(){PCCViewer.Ajax.et({method:'GET',url:ab,headers:hc}).then(function en(ar){var bC=JSON.parse(ar.responseText);F.oV=bC.processId;F.nc=bC.percentComplete;F.fc=bC.state;if(F.bA.zg>1&&bC.output){F.azG=bC.output.results.length;}F.trigger(PCCViewer.ConversionRequest.EventType.ConversionProgress,{progress:F.nc});if(bC.percentComplete===100){if(bC.state==="error"){lc.reject({response:ar,error:new PCCViewer.Error("CouldNotConvert","Could not convert document")});}else{lc.resolve(bC.output.results[0].fileId);}}else{poll();}},function eo(bC){lc.reject(bC.error);});},3000);})();return lc.getPromise();};if(Object.defineProperties){Object.defineProperties(ConversionRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"workerID":{enumerable:true,get:function(){return this.getWorkerID();}},"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"convertedDocumentDownloadURL":{enumerable:true,get:function(){return this.getConvertedDocumentDownloadURL();}},"convertedDocumentDownloadURLs":{enumerable:true,get:function(){return this.getConvertedDocumentDownloadURLs();}}});}module.exports=ConversionRequest;},{}],136:[function(require,module,exports){"use strict";var Data=(function(){function getData(key){return this.dp.get_data(key);};function setData(key,value){this.dp.set_data(key,value);return this;};function getDataKeys(){return this.dp.get_dataKeys();};return{extend:function(o){o.getData=getData;o.setData=setData;o.getDataKeys=getDataKeys;},nX:function(gB,pf){if(typeof gB.getData!=="function"||typeof gB.setData!=="function"||typeof gB.getDataKeys!=="function"||typeof pf.getData!=="function"||typeof pf.setData!=="function"||typeof pf.getDataKeys!=="function"){throw new Error("Arguments `_source` and `_destination` must be extended with the Data Mixin.");}var ob=gB.getDataKeys(),i,length=ob.length;for(i=0;i<length;i++){var be=ob[i];pf.setData(be,gB.getData(be));}}};})();var SessionData=(function(){function getSessionData(key){return this.Bg.get_data(key);};function setSessionData(key,value){this.Bg.set_data(key,value);return this;};function getSessionDataKeys(){return this.Bg.get_dataKeys();};return{extend:function(o){o.getSessionData=getSessionData;o.setSessionData=setSessionData;o.getSessionDataKeys=getSessionDataKeys;},aHe:function(gB,pf){if(typeof gB.getSessionData!=="function"||typeof gB.setSessionData!=="function"||typeof gB.getSessionDataKeys!=="function"||typeof pf.getSessionData!=="function"||typeof pf.setSessionData!=="function"||typeof pf.getSessionDataKeys!=="function"){throw new Error("Arguments `_source` and `_destination` must be extended with the SessionData Mixin.");}var ob=gB.getSessionDataKeys(),i,length=ob.length;for(i=0;i<length;i++){var be=ob[i];pf.setSessionData(be,gB.getSessionData(be));}}};})();module.exports={SessionData:SessionData,Data:Data};},{}],137:[function(require,module,exports){'use strict';function PromiseDeferred(){this.fc=PromiseDeferred.States.Pending;this.C=null;this.eJ=null;this.gk=[];};PromiseDeferred.prototype.then=function(onFulfilled,onRejected){var AA=new PromiseDeferred();var WW,Vo;if(onFulfilled&&typeof onFulfilled==='function'){var aEN=function(C){try{var bJ=onFulfilled(C);AA.resolve(bJ);}catch(e){AA.reject(e);}};WW=aEN;}else{var aDb=function(C){AA.resolve(C);};WW=aDb;}if(onRejected&&typeof onRejected==='function'){var aDk=function(eJ){try{var bJ=onRejected(eJ);XA(AA,bJ);}catch(e){AA.reject(e);}};Vo=aDk;}else{var aEs=function(eJ){AA.reject(eJ);};Vo=aEs;}this.gk.push({arS:WW,aBG:Vo});if(this.fc===PromiseDeferred.States.Fulfilled){this.agK();}if(this.fc===PromiseDeferred.States.Rejected){this.agX();}return AA;};PromiseDeferred.prototype.resolve=function(x){if(!this.agC()){return;}XA(this,x);};PromiseDeferred.prototype.reject=function(reason){if(!this.agC()){return;}this.yQ(reason);};PromiseDeferred.prototype.Ug=function(aa){this.fc=PromiseDeferred.States.Fulfilled;this.C=aa;this.agK();};PromiseDeferred.prototype.agK=function(){var callback;while(this.gk.length>0){callback=this.gk.shift().arS;(function(lb,C){setTimeout(function(){lb(C);},0);})(callback,this.C);}};PromiseDeferred.prototype.agX=function(){var callback;while(this.gk.length>0){callback=this.gk.shift().aBG;(function(lb,C){setTimeout(function(){lb(C);},0);})(callback,this.eJ);}};function XA(cf,aa){if(cf===aa){cf.yQ(new TypeError("A Promise cannot be resolved with a value that is itself."));return;}if(aa&&aa.ZH&&cf.aaz&&cf.aaz===aa){cf.yQ(new TypeError("A Promise cannot be resolved with a value that is itself."));return;}if(aa&&aa.ZH&&aa.ZH==="PCCViewer.Promise"){aa.then(function(aoY){cf.Ug(aoY);},function(apt){cf.yQ(apt);});}else if(aa!==null&&(typeof aa==='object'||typeof aa==='function')){var VJ;try{VJ=aa.then;}catch(e){cf.yQ(e);return;}if(typeof VJ==='function'){var FZ=true;var aoP=function(bZ){if(FZ){XA(cf,bZ);FZ=false;}};var aom=function(bJ){if(FZ){cf.yQ(bJ);FZ=false;}};try{VJ.call(aa,aoP,aom);}catch(e){if(FZ){cf.yQ(e);}}}else{cf.Ug(aa);}}else{cf.Ug(aa);}};PromiseDeferred.prototype.yQ=function(reason){this.fc=PromiseDeferred.States.Rejected;this.eJ=reason;this.agX();};PromiseDeferred.prototype.agC=function(){return this.fc===PromiseDeferred.States.Pending;};PromiseDeferred.States={Pending:"Pending",Fulfilled:"Fulfilled",Rejected:"Rejected"};var Deferred=function(){var Uw=new PromiseDeferred();function Promise(cf){this.then=function(onFulfilled,onRejected){return new Promise(cf.then(onFulfilled,onRejected));};this.ZH="PCCViewer.Promise";cf.aaz=this;};var promise=new Promise(Uw);return{getPromise:function(){return promise;},resolve:function(value){Uw.resolve(value);},reject:function(reason){Uw.reject(reason);}};};var Promise={all:function(promises){var i,ai=new PCCViewer.Deferred(),Xv=ai.getPromise();if(Object.prototype.toString.call(promises)!=='[object Array]'){throw new TypeError("The 'promises' argument must be an array.");}function createPushFunction(promise){return function(results){return wrapWithPromise(promise).then(function(value){results.push(value);return results;});};};function wrapWithPromise(value){var ai=new PCCViewer.Deferred();ai.resolve(value);return ai.getPromise();};ai.resolve([]);for(i=0;i<promises.length;i++){Xv=Xv.then(createPushFunction(promises[i]));}return Xv;}};if(typeof exports!=='undefined'&&module.exports){module.exports.Deferred=Deferred;module.exports.Promise=Promise;}},{}],138:[function(require,module,exports){var DocumentHyperlink=function DocumentHyperlink(parameters){this.zD=parameters.zD;this.aM=parameters.aM;};DocumentHyperlink.prototype.getHref=function(){return this.zD.alY();};DocumentHyperlink.prototype.getPageNumber=function(){return this.aM;};DocumentHyperlink.prototype.getRectangle=function(){return this.zD.fh();};if(Object.defineProperties){Object.defineProperties(DocumentHyperlink.prototype,{"href":{enumerable:true,get:function(){return this.getHref();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();}},"rectangle":{enumerable:true,get:function(){return this.getRectangle();}}});}module.exports=DocumentHyperlink;},{}],139:[function(require,module,exports){var Hh=function(code,message){var abL=Error.call(null,message);this.code=code;function aGt(cw,gB){Object.getOwnPropertyNames(gB).forEach(function(propName){Object.defineProperty(cw,propName,Object.getOwnPropertyDescriptor(gB,propName));});return cw;};function aFX(cw,gB){for(var i in gB){if(gB.hasOwnProperty(i)){cw[i]=gB[i];}}return cw;};if(typeof Object.create==='function'){aGt(this,abL);}else{aFX(this,abL);}};var aDu=(function(){var eK=function(){};return function(aco){if(arguments.length>1){throw Error('Second argument not supported');}if(typeof aco!=='object'){throw TypeError('Argument must be an object');}eK.prototype=aco;var bC=new eK();eK.prototype=null;return bC;};})();if(typeof Object.create==='function'){Hh.prototype=Object.create(Error.prototype);}else{Hh.prototype=aDu(Error.prototype);}Hh.prototype.constructor=Hh;module.exports=Hh;},{}],140:[function(require,module,exports){"use strict";function Event(target,type){this.cw=target;this.ao=type;};Event.prototype.getTarget=function(){return this.cw;};Event.prototype.getType=function(){return this.ao;};if(Object.defineProperties){Object.defineProperties(Event.prototype,{"target":{enumerable:true,get:function(){return this.getTarget();}},"type":{enumerable:true,get:function(){return this.getType();}}});}module.exports=Event;},{}],141:[function(require,module,exports){var EventEmitter=(function(){function on(eventType,handler){if(!this.jZ){this.jZ={};}var lowerCaseEventType=eventType.toLowerCase(),handlers=this.jZ[lowerCaseEventType];if(!handlers){handlers=this.jZ[lowerCaseEventType]=[];}handlers.push(handler);return this;};function off(eventType,handler){if(!this.jZ){this.jZ={};}var lowerCaseEventType=eventType.toLowerCase(),handlers=this.jZ[lowerCaseEventType];if(handlers){var i=handlers.length;for(;i>=0;i--){if(handlers[i]===handler){handlers.splice(i,1);}}}return this;};function trigger(eventType,properties){if(!this.jZ){this.jZ={};}var lowerCaseEventType=eventType.toLowerCase(),event=new PCCViewer.Event(this,lowerCaseEventType),handlers=this.jZ[lowerCaseEventType],i,length=0;if(properties){PCCViewer.rw.tc(event,properties);}if(handlers){length=handlers.length;handlers=handlers.slice(0);for(i=0;i<length;i++){handlers[i](event);}}return this;};return{extend:function(o){o.on=on;o.off=off;o.trigger=trigger;}};})();module.exports=EventEmitter;},{}],142:[function(require,module,exports){var aqR={ViewerReady:"ViewerReady",PageCountReady:"PageCountReady",EstimatedPageCountReady:"EstimatedPageCountReady",PageChanged:"PageChanged",PageLoadFailed:"PageLoadFailed",PageDisplayed:"PageDisplayed",PageRotated:"PageRotated",DocumentRotated:"DocumentRotated",ScaleChanged:"ScaleChanged",DocumentPrinted:"DocumentPrinted",TextSelected:"TextSelected",MouseToolChanged:"MouseToolChanged",SearchPerformed:"SearchPerformed",PartialSearchResultsAvailable:"PartialSearchResultsAvailable",SearchCompleted:"SearchCompleted",SearchFailed:"SearchFailed",SearchCancelled:"SearchCancelled",SearchResultsAvailable:"SearchResultsAvailable",SearchCleared:"SearchCleared",SearchResultSelectionChanged:"SearchResultSelectionChanged",RevisionsRetrievalCompleted:"RevisionsRetrievalCompleted",RevisionsRetrievalFailed:"RevisionsRetrievalFailed",RevisionsAvailable:"RevisionsAvailable",PartialRevisionsAvailable:"PartialRevisionsAvailable",PrintRequested:"PrintRequested",MarkupLoaded:"MarkupLoaded",MarkupSaved:"MarkupSaved",MarkChanged:"MarkChanged",MarkCreated:"MarkCreated",MarkRemoved:"MarkRemoved",MarkReordered:"MarkReordered",MarkSelectionChanged:"MarkSelectionChanged",MarkMouseEnter:"MarkMouseEnter",MarkMouseOver:"MarkMouseOver",MarkMouseLeave:"MarkMouseLeave",CommentsPanelToggled:"CommentsPanelToggled",CommentCreated:"CommentCreated",CommentRemoved:"CommentRemoved",CommentChanged:"CommentChanged",PageTextReady:"PageTextReady",Click:"Click",PageOpening:"PageOpening"};module.exports=aqR;},{}],143:[function(require,module,exports){var pm={FullWidth:"FullWidth",ShrinkToWidth:"ShrinkToWidth",ActualSize:"ActualSize",FullHeight:"FullHeight",FullPage:"FullPage"};module.exports=pm;},{}],144:[function(require,module,exports){var rw={};rw.tc=function(target){var source;if(!target){throw new Error("target must be defined.");}else if(typeof target!=='object'){throw new Error("typeof target must be 'object'");}else{for(var i=1;i<arguments.length;i++){source=arguments[i];for(var property in source){if(source.hasOwnProperty(property)){target[property]=source[property];}}}}return target;};module.exports=rw;},{}],145:[function(require,module,exports){var ImageStamps=function(Options){this.bA=PCCViewer.rw.tc({},Options);};ImageStamps.prototype.requestImageStampList=function(){var ai=PCCViewer.Deferred();var cf=ai.getPromise();try{var ab=this.bA.imageHandlerUrl+'/ImageStampList';PCCViewer.Ajax.et({method:'GET',url:ab}).then(function en(ar){var ti;if(ar.responseText.length>0){ti=JSON.parse(ar.responseText);if(ar.status===200){ai.resolve(ti);}else{ai.reject(new PCCViewer.Error("ImageStampListFail","Unable to retrieve ImageStamp list from server."));}}},function eo(bC){ai.reject(bC.error);});}catch(e){ai.reject(new PCCViewer.Error("Error",e.message));}return cf;};ImageStamps.prototype.requestImageSourceBase64=function(imageStampId){if(!imageStampId){throw new Error("Parameter imageStampId is not valid.");}if(typeof imageStampId!=='string'){throw new Error("Parameter imageStampId should be of type string.");}var ai=PCCViewer.Deferred();var cf=ai.getPromise();try{var ab=this.bA.imageHandlerUrl+'/ImageStamp/'+imageStampId+'/q?format=Base64';PCCViewer.Ajax.et({method:'GET',url:ab,}).then(function en(ar){var ti;if(ar.responseText.length>0){ti=JSON.parse(ar.responseText);if(ar.status===200){ai.resolve(ti);}else{ai.reject(new PCCViewer.Error("ImageStampDataFail","Unable to retrieve image stamp data URL and dataHash from server."));}}},function eo(bC){ai.reject(bC.error);});}catch(e){ai.reject(new PCCViewer.Error("Error",e.message));}return cf;};ImageStamps.prototype.reqestImageSourceBase64=function(imageStampId){return this.requestImageSourceBase64(imageStampId);};ImageStamps.prototype.getImageSourceURL=function(ImageStampID){if(!ImageStampID){throw new Error("Parameter imageStampId is not valid.");}if(typeof ImageStampID!=='string'){throw new Error("Parameter imageStampId should be of type string.");}return this.bA.imageHandlerUrl+'/ImageStamp/'+ImageStampID+'/q?format=Image';};module.exports=ImageStamps;},{}],146:[function(require,module,exports){var aCC={data:{},initializeData:function(aBf){PCCViewer.Language.data=IPCC.J.extend({},aBf);return PCCViewer.Language;},getData:function(){return PCCViewer.Language.data;},getValue:function(afp){if(typeof PCCViewer.Language.data==='undefined'){throw new Error('Language data is not set.');}var ob=afp.split('.'),bu=PCCViewer.Language.data,be;while(ob.length){be=ob.shift();bu=bu[be];if(typeof bu==='undefined'){bu=afp;break;}}return bu;}};module.exports=aCC;},{}],147:[function(require,module,exports){var LoadMarkupLayersRequest=function(layerRecordIds,viewerControl,options){this.vk=layerRecordIds;this.bf=viewerControl;this.fv="";this.he=false;this.qJ=false;this.nc=0;this.ai=PCCViewer.Deferred();this.cf=this.ai.getPromise();this.then=this.cf.then;this.tC=options.loadAsHidden===true;PCCViewer.EventEmitter.extend(this);};LoadMarkupLayersRequest.EventType={LoadMarkupLayersFailed:"LoadMarkupLayersFailed",LoadMarkupLayersCompleted:"LoadMarkupLayersCompleted",LoadMarkupLayersCancelled:"LoadMarkupLayersCancelled",LoadMarkupLayersProgress:"LoadMarkupLayersProgress"};LoadMarkupLayersRequest.prototype.getProgress=function(){return this.nc;};LoadMarkupLayersRequest.prototype.cancel=function(){var F=this;this.qJ=true;this.fv="User Cancelled";setTimeout(function(){F.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersCancelled,{});F.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});F.ai.reject(new PCCViewer.Error("UserCancelled","User Cancelled"));},0);return this;};LoadMarkupLayersRequest.prototype.getViewerControl=function(){return this.bf;};LoadMarkupLayersRequest.prototype.getErrorCode=function(){return this.fv;};LoadMarkupLayersRequest.prototype.Bn=function(){var F=this,YM=1,WA,YG=[];var tC=this.tC;var st=function(alh){function en(ar){var qZ=JSON.parse(ar.responseText),Le=F.axk(qZ),ee,rz=[],bz,hI=[],aid={},Mc=0,LA;for(var lY in Le.hI){if(Le.hI.hasOwnProperty(lY)){hI=hI.concat(Le.hI[lY]);}}ee=new PCCViewer.MarkupLayer(F.bf,hI);ee.aIp={ab:ab};IPCC.J.forEach(Le.rz,function(ael){rz.push(ael);Mc++;aid[ael.uid]=true;});if(qZ.name){ee.setName(qZ.name);}if(qZ.originalXmlName){ee.setOriginalXmlName(qZ.originalXmlName);}if(Mc>0){LA=function(ev){if(aid[ev.mark.getUid()]){Mc--;}if(!Mc){F.bf.off(PCCViewer.EventType.MarkCreated,LA);F.bf.sM=true;}};F.bf.on(PCCViewer.EventType.MarkCreated,LA);F.bf.sM=false;try{bz=F.bf.deserializeMarks(rz);}catch(ct){F.he=false;F.bf.off(PCCViewer.EventType.MarkCreated,LA);F.bf.sM=true;F.ai.reject(new PCCViewer.Error('Error',ct.message));F.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});return;}if(tC){IPCC.J.forEach(bz,function(h){h.setVisible(false);});}ee.addMarks(bz);}ee.Vn=alh;for(var vF in qZ.data){if(qZ.data.hasOwnProperty(vF)){ee.setData(vF,qZ.data[vF]);}}F.bf.getMarkupLayerCollection().addItem(ee);YG.push(ee);YM--;F.nc=(F.vk.length-YM)/F.vk.length;F.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersProgress,{progress:F.nc});if(F.nc===1){F.he=false;F.ai.resolve(YG);F.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersCompleted,{markupLayers:YG});}};function eo(bC){F.he=false;F.ai.reject(bC.error);F.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});};var ab=WA+alh+'?'+new Date().getTime();PCCViewer.Ajax.et({url:ab,method:'GET'}).then(en,eo);};if(!(/^[\x00-\x7F]*$/.test(this.bf.bE.get_documentIdentifier()))){WA=this.bf.bA.imageHandlerUrl+'/MarkupLayers/e'+this.bf.bA.documentID+'/';}else{WA=this.bf.bA.imageHandlerUrl+'/MarkupLayers/u'+encodeURIComponent(this.bf.bA.documentID)+'/';}if(this.qJ){return;}if(Object.prototype.toString.call(this.vk)==='[object Array]'&&this.vk.length>0){YM=this.vk.length;this.he=true;IPCC.J.forEach(this.vk,st,this);}else if(typeof this.vk==="string"){this.he=true;st(this.vk);}else{this.he=false;this.ai.reject(new PCCViewer.Error("InvalidParameter",'layerRecordIds parameter is missing or invalid.'));this.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});return;}};LoadMarkupLayersRequest.prototype.axk=function(qZ){var Ns={},LG={};IPCC.J.forEach(qZ.marks,function(UB){UB.conversation.comments=[];Ns[UB.uid]=UB;},this);IPCC.J.forEach(qZ.comments,function(wL){if(Ns[wL.markUid]){Ns[wL.markUid].conversation.comments.push(wL);}else if(LG[wL.markUid]){LG[wL.markUid].push(wL);}else{LG[wL.markUid]=[wL];}},this);return{rz:Ns,hI:LG};};if(Object.defineProperties){Object.defineProperties(LoadMarkupLayersRequest.prototype,{"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}}});}module.exports=LoadMarkupLayersRequest;},{}],148:[function(require,module,exports){var cF={setMask:function(h,jA){var GD={};IPCC.J.forEach(jA.translations,function(aJ,be){GD[be]=new RegExp(aJ.replace(/^\/|\/$/g,''));});h.setMask({value:jA.value,translations:GD});},calculateRectangle:function(bu,bA){if(bu.pageData===undefined||(bu.pageData.width===bA.ah&&bu.pageData.height===bA.bU)){return bu.rectangle;}else{var mq=bA.ah/bu.pageData.width;return{x:bu.rectangle.x*mq,y:bu.rectangle.y*mq,width:bu.rectangle.width*mq,height:bu.rectangle.height*mq};}},setRectangle:function(h,bu,bA){h.setRectangle(cF.calculateRectangle(bu,bA));},setLines:function(h,bu,bA){var agu,oi,cL=bu.textLength+bu.startIndex-1,cN=bu.selectedText,dP={startIndex:bu.startIndex,length:bu.textLength};oi=[];var aP,As;agu=IPCC.J.reduce(bu.lineGroups,function(fB,pq){aP=pq.pageNumber-1;fB[aP]=IPCC.J.map(pq.lines,function(ho){if(pq.pageData!==undefined){As=cF.calculateRectangle({rectangle:ho,pageData:pq.pageData},bA);return new IPCC.Web.UI.Rectangle(As.x,As.y,As.width,As.height);}else{return new IPCC.Web.UI.Rectangle(ho.x,ho.y,ho.width,ho.height);}});oi.push({pageIndex:aP,endIndex:pq.startIndex+pq.textLength-1});return fB;},{});h.Fl(oi,cL,cN,dP,agu);},postCreate:function(h,bu){h.L.abb(new Date(IPCC.J.JE(bu.creationDateTime)));h.L.Vx(new Date(IPCC.J.JE(bu.modificationDateTime)));return h;},calculatePoint:function(aG,gw,bA){if(gw===undefined||(gw.width===bA.ah&&gw.height===bA.bU)){return aG;}else{return{x:aG.x*bA.ah/gw.width,y:aG.y*bA.bU/gw.height};}},Data:function(bu,dp){IPCC.J.forEach(dp,function(aJ,be){bu.setData(be,aJ);});},Comment:function(dq,cX){var nL=dq.addComment(cX.text);nL.setCreationTime(cX.creationDateTime);cF.Data(nL,cX.data);},Conversation:function(h,dq){var akJ=h.getConversation();IPCC.J.forEach(dq.comments?dq.comments:[],function(nL){cF.Comment(akJ,nL);});cF.Data(akJ,dq.data);},Common:function(bu,bA){if(bu.uid===undefined){bu.uid=IPCC.J.acu();}var h=this.alc(bu.pageNumber,bu.type,{uid:bu.uid});if(bu.rectangle&&h.setRectangle){cF.setRectangle(h,bu,bA);}if(bu.startPoint&&h.setStartPoint){h.setStartPoint(cF.calculatePoint(bu.startPoint,bu.pageData,bA));}if(bu.endPoint&&h.setEndPoint){h.setEndPoint(cF.calculatePoint(bu.endPoint,bu.pageData,bA));}if(bu.points&&h.setPoints){h.setPoints(IPCC.J.map(bu.points,function(aG){return cF.calculatePoint(aG,bu.pageData,bA);}));}if(bu.lineGroups&&h.Fl){h.aY=bu.uid;cF.setLines(h,bu,bA);}if(bu.interactionMode){h.setInteractionMode(bu.interactionMode);}h=this.amz(h);cF.Data(h,bu.data);cF.Conversation(h,bu.conversation);return h;},EllipseAnnotation:function(bu,bA){var h=cF.Common.apply(this,arguments);if(bu.borderColor){h.setBorderColor(bu.borderColor);}if(bu.borderThickness){h.setBorderThickness(bu.borderThickness);}if(bu.fillColor){h.setFillColor(bu.fillColor);}if(bu.opacity){h.setOpacity(bu.opacity);}return cF.postCreate(h,bu);},FreehandAnnotation:function(bu,bA){var h=cF.Common.apply(this,arguments);if(bu.color){h.setColor(bu.color);}if(bu.opacity){h.setOpacity(bu.opacity);}if(bu.path){h.setPath(bu.path);}if(bu.thickness){h.setThickness(bu.thickness);}return cF.postCreate(h,bu);},FreehandSignature:function(bu,bA){var h=cF.Common.apply(this,arguments);if(bu.color){h.setColor(bu.color);}if(bu.path){h.setPath(bu.path);}if(bu.thickness){h.setThickness(bu.thickness);}if(bu.horizontalAlignment){h.setHorizontalAlignment(bu.horizontalAlignment);}return cF.postCreate(h,bu);},HighlightAnnotation:function(bu,bA){var h=cF.Common.apply(this,arguments);if(bu.fillColor){h.setFillColor(bu.fillColor);}return cF.postCreate(h,bu);},ImageStampAnnotation:function(bu,bA){var h=cF.Common.apply(this,arguments);if(bu.imageDataUrl&&bu.imageId){h.setImage({id:bu.imageId,dataUrl:bu.imageDataUrl});}return cF.postCreate(h,bu);},ImageStampRedaction:function(bu,bA){return cF.ImageStampAnnotation.apply(this,arguments);},LineAnnotation:function(bu,bA){var h=cF.Common.apply(this,arguments);if(bu.color){h.setColor(bu.color);}if(bu.endHeadType){h.setEndHeadType(bu.endHeadType);}if(bu.opacity){h.setOpacity(bu.opacity);}if(bu.thickness){h.setThickness(bu.thickness);}return cF.postCreate(h,bu);},PolylineAnnotation:function(bu,bA){var h=cF.Common.apply(this,arguments);if(bu.color){h.setColor(bu.color);}if(bu.opacity){h.setOpacity(bu.opacity);}if(bu.thickness){h.setThickness(bu.thickness);}return cF.postCreate(h,bu);},RectangleAnnotation:function(bu,bA){var h=cF.Common.apply(this,arguments);if(bu.borderColor){h.setBorderColor(bu.borderColor);}if(bu.borderThickness){h.setBorderThickness(bu.borderThickness);}if(bu.fillColor){h.setFillColor(bu.fillColor);}if(bu.opacity){h.setOpacity(bu.opacity);}return cF.postCreate(h,bu);},RectangleRedaction:function(bu,bA){var h=cF.Common.apply(this,arguments);if(bu.reason){h.setReason(bu.reason);}if(bu.fillColor){h.setFillColor(bu.fillColor);}if(bu.borderColor){h.setBorderColor(bu.borderColor);}if(bu.borderThickness){h.setBorderThickness(bu.borderThickness);}if(bu.fontColor){h.setFontColor(bu.fontColor);}return cF.postCreate(h,bu);},StampAnnotation:function(bu,bA){var h=cF.Common.apply(this,arguments);if(bu.label){h.setLabel(bu.label);}if(bu.color){h.setColor(bu.color);}return cF.postCreate(h,bu);},StampRedaction:function(bu,bA){var h=cF.Common.apply(this,arguments);if(bu.label){h.setLabel(bu.label);}return cF.postCreate(h,bu);},StrikethroughAnnotation:function(bu,bA){var h=cF.Common.apply(this,arguments);if(bu.color){h.setColor(bu.color);}if(bu.thickness){h.setThickness(bu.thickness);}return cF.postCreate(h,bu);},TextAnnotation:function(bu,bA){var h=cF.Common.apply(this,arguments);if(bu.borderColor){h.setBorderColor(bu.borderColor);}if(bu.borderThickness){h.setBorderThickness(bu.borderThickness);}if(bu.fillColor){h.setFillColor(bu.fillColor);}if(bu.fontColor){h.setFontColor(bu.fontColor);}if(bu.fontName){h.setFontName(bu.fontName);}if(bu.fontSize){h.setFontSize(bu.fontSize);}if(bu.fontStyle){h.setFontStyle(bu.fontStyle);}if(bu.maxLength){h.setMaxLength(bu.maxLength);}if(bu.horizontalAlignment){h.setHorizontalAlignment(bu.horizontalAlignment);}if(bu.opacity){h.setOpacity(bu.opacity);}if(bu.text){h.setText(bu.text);}return cF.postCreate(h,bu);},TextAreaSignature:function(bu,bA){var h=cF.Common.apply(this,arguments);if(bu.text){h.setText(bu.text);}if(bu.fontColor){h.setFontColor(bu.fontColor);}if(bu.fontName){h.setFontName(bu.fontName);}if(bu.maxFontSize){h.setMaxFontSize(bu.maxFontSize);}if(bu.fontStyle){h.setFontStyle(bu.fontStyle);}if(bu.maxLength){h.setMaxLength(bu.maxLength);}if(bu.horizontalAlignment){h.setHorizontalAlignment(bu.horizontalAlignment);}return cF.postCreate(h,bu);},TextHyperlinkAnnotation:function(bu,bA){var h=cF.Common.apply(this,arguments);if(bu.fillColor){h.setFillColor(bu.fillColor);}if(bu.href){h.setHref(bu.href);}return cF.postCreate(h,bu);},TextInputSignature:function(bu,bA){var h=cF.Common.apply(this,arguments);if(bu.fontColor){h.setFontColor(bu.fontColor);}if(bu.fontName){h.setFontName(bu.fontName);}if(bu.text){h.setText(bu.text);}if(bu.maxLength){h.setMaxLength(bu.maxLength);}if(bu.mask){cF.setMask(h,bu.mask);}if(bu.horizontalAlignment){h.setHorizontalAlignment(bu.horizontalAlignment);}return cF.postCreate(h,bu);},TextRedaction:function(bu,bA){var h=cF.Common.apply(this,arguments);if(bu.fontColor){h.setFontColor(bu.fontColor);}if(bu.fontName){h.setFontName(bu.fontName);}if(bu.fontSize){h.setFontSize(bu.fontSize);}if(bu.maxLength){h.setMaxLength(bu.maxLength);}if(bu.text){h.setText(bu.text);}if(bu.horizontalAlignment){h.setHorizontalAlignment(bu.horizontalAlignment);}return cF.postCreate(h,bu);},TextSelectionRedaction:function(bu,bA){var h=cF.Common.apply(this,arguments);if(bu.reason){h.setReason(bu.reason);}return cF.postCreate(h,bu);},TextSignature:function(bu,bA){var h=cF.Common.apply(this,arguments);if(bu.color){h.setColor(bu.color);}if(bu.fontName){h.setFontName(bu.fontName);}if(bu.text){h.setText(bu.text);}if(bu.horizontalAlignment){h.setHorizontalAlignment(bu.horizontalAlignment);}return cF.postCreate(h,bu);},TransparentRectangleRedaction:function(bu,bA){var h=cF.Common.apply(this,arguments);return cF.postCreate(h,bu);}};module.exports=cF;},{}],149:[function(require,module,exports){var GC={HideSideHandlesWhenClose:"HideSideHandlesWhenClose",HideCornerHandlesWhenClose:"HideCornerHandlesWhenClose"};module.exports=GC;},{}],150:[function(require,module,exports){var ed={serializeMask:function(jA){var ado={value:jA.value,translations:{}};IPCC.J.forEach(jA.translations,function(aJ,be){ado.translations[be]=aJ.toString();});return ado;},copyRectangle:function(K){return{x:K.x,y:K.y,width:K.width,height:K.height};},Common:function(aD,bH){var bU;var ah;if(aD.page){bU=aD.page.get_pageHeight();ah=aD.page.get_pageWidth();}else{bU=null;ah=null;}var aM=aD.mark.getPageNumber();var bu={uid:aD.mark.getUid(),interactionMode:aD.mark.getInteractionMode(),pageNumber:aM,type:aD.mark.getType(),creationDateTime:IPCC.J.wG(aD.mark.L.amN()),modificationDateTime:IPCC.J.wG(aD.mark.L.amJ()),data:ed.Data(aD.mark),conversation:ed.Conversation(aD.mark.getConversation())};function yZ(aG){return{x:aG.x,y:aG.y};};function aAv(){var Kz=IPCC.J.map([].concat(aD.mark.L,aD.mark.cZ),function(L){if(ah!==null){return{pageNumber:L.aP+1,pageData:{width:ah,height:bU},startIndex:L.get_startIndex(),textLength:L.get_textLength(),lines:IPCC.J.map(L.bj,function(bG){if(bG.get_rectangle){return ed.copyRectangle(bG.get_rectangle());}else{return ed.copyRectangle(bG);}})};}else{return{pageNumber:L.aP+1,startIndex:L.get_startIndex(),textLength:L.get_textLength(),lines:IPCC.J.map(L.bj,function(bG){if(bG.get_rectangle){return ed.copyRectangle(bG.get_rectangle());}else{return ed.copyRectangle(bG);}})};}});bu.lineGroups=Kz;};function aem(){if(aD.mark.getRectangle){bu.rectangle=ed.copyRectangle(aD.mark.getRectangle());if(ah!==null){bu.pageData={width:ah,height:bU};}}if(aD.mark.getStartPoint){bu.startPoint=yZ(aD.mark.getStartPoint());if(ah!==null){bu.pageData=bu.pageData||{width:ah,height:bU};}}if(aD.mark.getEndPoint){bu.endPoint=yZ(aD.mark.getEndPoint());if(ah!==null){bu.pageData=bu.pageData||{width:ah,height:bU};}}if(aD.mark.getPoints){var aX=aD.mark.getPoints();bu.points=IPCC.J.map(aX,yZ);if(ah!==null){bu.pageData={width:ah,height:bU};}}if(aD.mark.L.bj){aAv();}};if(ah!==undefined&&bU!==undefined&&ah!==0&&bU!==0){aem();bH(undefined,bu);}else{aD.vc.requestPageAttributes(aM).then(function aHi(ajk){bU=ajk.height;ah=ajk.width;aem();bH(undefined,bu);},function aGk(eJ){bH(eJ);});}},Data:function(bu){return IPCC.J.reduce(bu.getDataKeys(),function(fB,be){fB[be]=bu.getData(be);return fB;},{});},Comment:function(cX){return{text:cX.getText(),data:ed.Data(cX),creationDateTime:IPCC.J.wG(cX.getCreationTime())};},Conversation:function(dq){return{comments:IPCC.J.map(dq.getComments(),function(cX){return ed.Comment(cX);}),data:ed.Data(dq)};},EllipseAnnotation:function(aD,bH){ed.RectangleAnnotation(aD,bH);},FreehandAnnotation:function(aD,bH){ed.Common(aD,function(ct,bu){if(ct){bH(ct);return;}bu=IPCC.J.extend(bu,{color:aD.mark.getColor(),opacity:aD.mark.getOpacity(),path:aD.mark.getPath(),thickness:aD.mark.getThickness()});bH(undefined,bu);});},FreehandSignature:function(aD,bH){ed.Common(aD,function(ct,bu){if(ct){bH(ct);return;}bu=IPCC.J.extend(bu,{color:aD.mark.getColor(),path:aD.mark.getPath(),thickness:aD.mark.getThickness(),horizontalAlignment:aD.mark.getHorizontalAlignment()});bH(undefined,bu);});},HighlightAnnotation:function(aD,bH){ed.Common(aD,function(ct,bu){if(ct){bH(ct);return;}var dP=aD.mark.getPosition();bu=IPCC.J.extend(bu,{fillColor:aD.mark.getFillColor(),textLength:dP.length,startIndex:dP.startIndex,selectedText:aD.mark.getText()});bH(undefined,bu);});},ImageStampAnnotation:function(aD,bH){ed.Common(aD,function(ct,bu){if(ct){bH(ct);return;}var by=aD.mark.getImage();bu=IPCC.J.extend(bu,{imageDataUrl:by.dataUrl,imageId:by.id});bH(undefined,bu);});},ImageStampRedaction:function(aD,bH){ed.ImageStampAnnotation(aD,bH);},LineAnnotation:function(aD,bH){ed.Common(aD,function(ct,bu){if(ct){bH(ct);return;}bu=IPCC.J.extend(bu,{color:aD.mark.getColor(),endHeadType:aD.mark.getEndHeadType(),opacity:aD.mark.getOpacity(),thickness:aD.mark.getThickness()});bH(undefined,bu);});},PolylineAnnotation:function(aD,bH){ed.Common(aD,function(ct,bu){if(ct){bH(ct);return;}bu=IPCC.J.extend(bu,{color:aD.mark.getColor(),opacity:aD.mark.getOpacity(),thickness:aD.mark.getThickness()});bH(undefined,bu);});},RectangleAnnotation:function(aD,bH){ed.Common(aD,function(ct,bu){if(ct){bH(ct);return;}bu=IPCC.J.extend(bu,{borderColor:aD.mark.getBorderColor(),borderThickness:aD.mark.getBorderThickness(),fillColor:aD.mark.getFillColor(),opacity:aD.mark.getOpacity()});bH(undefined,bu);});},RectangleRedaction:function(aD,bH){ed.Common(aD,function(ct,bu){if(ct){bH(ct);return;}bu=IPCC.J.extend(bu,{reason:aD.mark.getReason(),fillColor:aD.mark.getFillColor(),borderColor:aD.mark.getBorderColor(),borderThickness:aD.mark.getBorderThickness(),fontColor:aD.mark.getFontColor()});bH(undefined,bu);});},StampAnnotation:function(aD,bH){ed.Common(aD,function(ct,bu){if(ct){bH(ct);return;}bu=IPCC.J.extend(bu,{label:aD.mark.getLabel(),color:aD.mark.getColor()});bH(undefined,bu);});},StampRedaction:function(aD,bH){ed.Common(aD,function(ct,bu){if(ct){bH(ct);return;}bu=IPCC.J.extend(bu,{label:aD.mark.getLabel()});bH(undefined,bu);});},StrikethroughAnnotation:function(aD,bH){ed.Common(aD,function(ct,bu){if(ct){bH(ct);return;}var dP=aD.mark.getPosition();bu=IPCC.J.extend(bu,{color:aD.mark.getColor(),thickness:aD.mark.getThickness(),textLength:dP.length,startIndex:dP.startIndex,selectedText:aD.mark.getText()});bH(undefined,bu);});},TextAnnotation:function(aD,bH){ed.Common(aD,function(ct,bu){if(ct){bH(ct);return;}bu=IPCC.J.extend(bu,{borderColor:aD.mark.getBorderColor(),borderThickness:aD.mark.getBorderThickness(),fillColor:aD.mark.getFillColor(),fontColor:aD.mark.getFontColor(),fontName:aD.mark.getFontName(),fontSize:aD.mark.getFontSize(),fontStyle:aD.mark.getFontStyle(),maxLength:aD.mark.getMaxLength(),horizontalAlignment:aD.mark.getHorizontalAlignment(),opacity:aD.mark.getOpacity(),text:aD.mark.getText()});bH(undefined,bu);});},TextAreaSignature:function(aD,bH){ed.Common(aD,function(ct,bu){if(ct){bH(ct);return;}bu=IPCC.J.extend(bu,{text:aD.mark.getText(),fontColor:aD.mark.getFontColor(),fontName:aD.mark.getFontName(),fontStyle:aD.mark.getFontStyle(),maxFontSize:aD.mark.getMaxFontSize(),maxLength:aD.mark.getMaxLength(),horizontalAlignment:aD.mark.getHorizontalAlignment(),});bH(undefined,bu);});},TextHyperlinkAnnotation:function(aD,bH){ed.Common(aD,function(ct,bu){if(ct){bH(ct);return;}var dP=aD.mark.getPosition();bu=IPCC.J.extend(bu,{href:aD.mark.getHref(),fillColor:aD.mark.getFillColor(),textLength:dP.length,startIndex:dP.startIndex,selectedText:aD.mark.getText()});bH(undefined,bu);});},TextInputSignature:function(aD,bH){ed.Common(aD,function(ct,bu){if(ct){bH(ct);return;}bu=IPCC.J.extend(bu,{fontColor:aD.mark.getFontColor(),fontName:aD.mark.getFontName(),text:aD.mark.getText(),mask:aD.mark.getMask(),maxLength:aD.mark.getMaxLength(),horizontalAlignment:aD.mark.getHorizontalAlignment()});if(aD.mark.getMask()){bu.mask=ed.serializeMask(aD.mark.getMask());}bH(undefined,bu);});},TextRedaction:function(aD,bH){ed.Common(aD,function(ct,bu){if(ct){bH(ct);return;}bu=IPCC.J.extend(bu,{fontColor:aD.mark.getFontColor(),fontName:aD.mark.getFontName(),fontSize:aD.mark.getFontSize(),text:aD.mark.getText(),maxLength:aD.mark.getMaxLength(),horizontalAlignment:aD.mark.getHorizontalAlignment()});bH(undefined,bu);});},TextSelectionRedaction:function(aD,bH){ed.Common(aD,function(ct,bu){if(ct){bH(ct);return;}var dP=aD.mark.getPosition();bu=IPCC.J.extend(bu,{reason:aD.mark.getReason(),textLength:dP.length,startIndex:dP.startIndex,selectedText:aD.mark.getText()});bH(undefined,bu);});},TextSignature:function(aD,bH){ed.Common(aD,function(ct,bu){if(ct){bH(ct);return;}bu=IPCC.J.extend(bu,{color:aD.mark.getColor(),fontName:aD.mark.getFontName(),text:aD.mark.getText(),horizontalAlignment:aD.mark.getHorizontalAlignment()});bH(undefined,bu);});},TransparentRectangleRedaction:function(aD,bH){ed.Common(aD,bH);}};module.exports=ed;},{}],151:[function(require,module,exports){'use strict';var IPCC=require('./../IPCC/IPCC');var Data=require('./PCCViewer.Data').Data;var SessionData=require('./PCCViewer.Data').SessionData;function Mark(parameters){this.aM=0;this.cc=undefined;this.xP=false;this.mY=Mark.InteractionMode.Full;this.de=true;if(parameters.uid&&parameters.viewerControl){(function(bz,kn){IPCC.J.forEach(bz,function validateMark(kh){if(kh.getUid()===kn){throw new Error('Uid '+kn+' already exists in the document and cannot be duplicated.');}});})(parameters.viewerControl.getAllMarks(),parameters.uid);}var kn=parameters.uid||IPCC.J.acu();if(parameters.igMark&&parameters.igMark instanceof IPCC.Web.UI.Mark){this.L=parameters.igMark;this.cc=this.L.get_markID().toString();this.dp=this.L.get_data();}else{this.dp=new IPCC.Web.UI.Data();}Data.extend(this);this.Bg=new IPCC.Web.UI.Data();SessionData.extend(this);if(parameters.pageNumber!==undefined){IPCC.aV.jc(parameters.pageNumber,'pageNumber');this.aM=parameters.pageNumber;}if(parameters.id!==undefined){IPCC.aV.lW(parameters.id,'id');this.cc=parameters.id;}if(parameters.type&&parameters.type==='PlaceSignature'&&parameters.xP){this.ao=parameters.type;this.xP=true;}else if(parameters.type!==undefined){IPCC.aV.lW(parameters.type,'type');var FB=NT(parameters.type,Mark.Type);if(FB===null){throw new RangeError("The value of mark type was invalid.");}this.ao=FB;}if('cA'in parameters){this.cA=parameters.cA;}if('bv'in parameters){this.bv=parameters.bv;}addPropertiesToMark(this);addMethodsToMark(this);this.getUid=function(){return kn;};if(Object.defineProperties&&Object.defineProperty){Object.defineProperty(this,'uid',{value:kn,enumerable:true,writable:false});}};Mark.prototype.getType=function(){return this.ao;};Mark.prototype.getId=function(){return this.cc;};Mark.prototype.getPageNumber=function(){return this.aM;};Mark.prototype.getConversation=function(){if(!this.dq){this.dq=new PCCViewer.Conversation(this);}return this.dq;};Mark.prototype.getBoundingRectangle=function(){if(this.L){var bG=this.L.get_boundingRectangle();if(bG instanceof IPCC.Web.UI.Rectangle){this.nj={width:bG.width,height:bG.height,x:bG.x,y:bG.y};}}return this.nj;};Mark.prototype.getInteractionMode=function(){if(this.L){switch(this.L.get_interactionMode()){case IPCC.Web.UI.MarkInteractionMode.SelectionDisabled:return PCCViewer.Mark.InteractionMode.SelectionDisabled;case IPCC.Web.UI.MarkInteractionMode.Full:return PCCViewer.Mark.InteractionMode.Full;default:return PCCViewer.Mark.InteractionMode.Full;}}return this.mY;};Mark.prototype.setInteractionMode=function(interactionMode){var mY=NT(interactionMode,PCCViewer.Mark.InteractionMode),Yn;switch(mY){case PCCViewer.Mark.InteractionMode.SelectionDisabled:Yn=IPCC.Web.UI.MarkInteractionMode.SelectionDisabled;break;case PCCViewer.Mark.InteractionMode.Full:Yn=IPCC.Web.UI.MarkInteractionMode.Full;break;default:throw new Error("The specified interactionMode is not valid.");}if(this.L){this.L.set_interactionMode(Yn);}this.mY=mY;return this;};Mark.prototype.reset=function(){var dj=new Mark({type:this.ao,xP:this.xP});this.dp={};if(this.setBorderColor&&dj.getBorderColor){this.setBorderColor(dj.getBorderColor());}if(this.setBorderThickness&&dj.getBorderThickness){this.setBorderThickness(dj.getBorderThickness());}if(this.setColor&&dj.getColor){this.setColor(dj.getColor());}if(this.setEndHeadType&&dj.getEndHeadType){this.setEndHeadType(dj.getEndHeadType());}if(this.setEndPoint&&dj.getEndPoint){this.setEndPoint(dj.getEndPoint());}if(this.setFillColor&&dj.getFillColor){this.setFillColor(dj.getFillColor());}if(this.setFontColor&&dj.getFontColor){this.setFontColor(dj.getFontColor());}if(this.setFontName&&dj.getFontName){this.setFontName(dj.getFontName());}if(this.setFontSize&&dj.getFontSize){this.setFontSize(dj.getFontSize());}if(this.setFontStyle&&dj.getFontStyle){this.setFontStyle(dj.getFontStyle());}if(this.setHorizontalAlignment&&dj.getHorizontalAlignment){this.setHorizontalAlignment(dj.getHorizontalAlignment());}if(this.setLabel&&dj.getLabel){this.setLabel(dj.getLabel());}if(this.setPosition&&this.L&&dj.getPosition){this.setPosition(dj.getPosition());}if(this.setReason&&dj.setReason){this.setReason(dj.getReason());}if(this.setOpacity&&dj.getOpacity){this.setOpacity(dj.getOpacity());}if(this.setRectangle&&dj.getRectangle){this.setRectangle(dj.getRectangle());}if(this.setStartPoint&&dj.getStartPoint){this.setStartPoint(dj.getStartPoint());}if(this.setText&&dj.getText){this.setText(dj.getText());}if(this.setThickness&&dj.getThickness){this.setThickness(dj.getThickness());}if(this.setPath&&dj.getPath){this.setPath(dj.getPath());}if(this.setHref&&dj.getHref){this.setHref(dj.getHref());}if(this.setImage&&dj.getImage){this.setImage(dj.getImage());}if(this.setInteractionMode&&dj.getInteractionMode){this.setInteractionMode(dj.getInteractionMode());}if(this.setPoints&&dj.getPoints){this.setPoints(dj.getPoints());}if(this.setMask&&dj.getMask){this.setMask(dj.getMask());}if(this.setMaxLength&&dj.getMaxLength){this.setMaxLength(dj.getMaxLength());}if(this.setMaxFontSize&&dj.getMaxFontSize){this.setMaxFontSize(dj.getMaxFontSize());}};if(Object.defineProperties){Object.defineProperties(Mark.prototype,{"type":{enumerable:true,get:function(){return this.getType();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();}},"id":{enumerable:true,get:function(){return this.getId();}},"conversation":{enumerable:true,get:function(){return this.getConversation();}},"boundingRectangle":{enumerable:true,get:function(){return this.getBoundingRectangle();}},"interactionMode":{enumerable:true,get:function(){return this.getInteractionMode();},set:function(value){return this.setInteractionMode(value);}}});}Mark.Type={LineAnnotation:"LineAnnotation",RectangleAnnotation:"RectangleAnnotation",EllipseAnnotation:"EllipseAnnotation",TextAnnotation:"TextAnnotation",StampAnnotation:"StampAnnotation",HighlightAnnotation:"HighlightAnnotation",RectangleRedaction:"RectangleRedaction",TransparentRectangleRedaction:"TransparentRectangleRedaction",TextHyperlinkAnnotation:"TextHyperlinkAnnotation",TextRedaction:"TextRedaction",StampRedaction:"StampRedaction",FreehandAnnotation:"FreehandAnnotation",FreehandSignature:"FreehandSignature",TextSignature:"TextSignature",TextInputSignature:"TextInputSignature",TextAreaSignature:"TextAreaSignature",TextSelectionRedaction:"TextSelectionRedaction",ImageStampAnnotation:"ImageStampAnnotation",ImageStampRedaction:"ImageStampRedaction",PolylineAnnotation:"PolylineAnnotation",StrikethroughAnnotation:"StrikethroughAnnotation"};Mark.LineHeadType={None:"None",FilledTriangle:"FilledTriangle"};Mark.FontStyles={Bold:"Bold",Italic:"Italic",Strikeout:"Strikeout",Underline:"Underline"};Mark.InteractionMode={Full:"Full",SelectionDisabled:"SelectionDisabled"};Mark.HorizontalAlignment={Center:"Center",Left:"Left",Right:"Right"};function NT(TO,ao){var YS=TO.toLowerCase();for(var standardType in ao){if(ao.hasOwnProperty(standardType)&&standardType.toLowerCase&&standardType.toLowerCase()===YS){return standardType;}}return null;};function addMethodsToMark(h){function azB(h){h.highlightText=function(highlights){if(!this.L){throw new Error("It is invalid to highlight text on this mark.");}var lh;if(highlights!==null&&typeof highlights!=="undefined"){if(Object.prototype.toString.call(highlights)!=='[object Array]'){lh=[highlights];}else{lh=highlights;}for(var i=0;i<lh.length;i++){atL(lh[i]);}}else{lh=[];}var ao=h.getType();switch(ao){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:h.L.selectText(lh);break;case Mark.Type.HighlightAnnotation:case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.StrikethroughAnnotation:var F=this;var QK=[];var tc=false,NL=0,Ot,Cr;var aev=function(Fx,aqx,gU){var xh;var VW= -1,RU=[];var vz=(Fx.as+Fx.cR);if(tc===true&&Ot>=0&&Cr>=0){if(Fx.aP-1===Ot){xh=0;if(NL<=vz){RU.push({startIndex:xh,length:NL,color:gU[Cr].color,opacity:(gU[Cr].opacity)?gU[Cr].opacity:127});tc=false;NL=0;Ot= -1;Cr= -1;}}}for(var bM=0;bM<gU.length;bM++){xh=Fx.as+gU[bM].startIndex-aqx;if(xh<0){continue;}if(Array.prototype.indexOf){VW=QK.indexOf(bM);}else{VW=IPCC.Web.iM(QK,bM);}var dk=127;if(VW=== -1){if(xh+gU[bM].length<=vz){if(gU[bM].opacity){dk=gU[bM].opacity;}RU.push({startIndex:xh,length:gU[bM].length,color:gU[bM].color,opacity:dk});QK.push(bM);F.BO.push(gU[bM]);}else{var Wm=vz-xh;if(Wm>0){NL=gU[bM].length-Wm;dk=127;if(gU[bM].opacity){dk=gU[bM].opacity;}RU.push({startIndex:xh,length:Wm,color:gU[bM].color,opacity:dk});QK.push(bM);F.BO.push(gU[bM]);tc=true;Cr=bM;Ot=Fx.aP;}}}}return RU;};this.BO=[];var eN=aev(this.L,0,lh);h.clearHighlights();if(eN.length>0){F.L.selectText(eN);}eN=[];var fR=this.L.cR;if(this.cZ&&this.cZ.length){for(var R=0;R<this.cZ.length;R++){eN=[];eN=aev(this.cZ[R],fR,lh);fR+=this.cZ[R].cR;if(eN.length>0){this.cZ[R].selectText(eN);}}}break;}return this;};function atL(Gd){IPCC.aV.lP(Gd.startIndex,'highlight.startIndex',0,h.getText().length);IPCC.aV.lP(Gd.length,'highlight.length',1,Number.MAX_VALUE);IPCC.aV.cD(Gd.color,'highlight.color');if(Gd.opacity){IPCC.aV.lP(Gd.opacity,"highlight.opacity",0,255);}};h.clearHighlights=function(){if(this.L){if(!this.L){throw new Error("It is invalid to clear highlights on this mark.");}}var ao=h.getType();switch(ao){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:h.L.selectText();break;case Mark.Type.HighlightAnnotation:case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.StrikethroughAnnotation:this.L.selectText();if(this.cZ&&this.cZ.length){for(var R=0;R<this.cZ.length;R++){this.cZ[R].selectText();}}break;}return this;};};var ao=h.getType();switch(ao){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.HighlightAnnotation:case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.StrikethroughAnnotation:azB(h);break;default:break;}};function addPropertiesToMark(h){h.nj={x:0,y:0,width:0,height:0};var ao=h.getType();switch(ao){case Mark.Type.LineAnnotation:h.cD='#18385F';h.iu=IPCC.Web.UI.LineStyle.Solid;h.oC=6;h.dk=255;h.QI={x:0,y:0};h.vz={x:0,y:0};h.oG="None";break;case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:h.cj='#FB0404';h.dk=255;h.oZ='#000000';h.lX=4;h.K={x:0,y:0,width:0,height:0};break;case Mark.Type.RectangleRedaction:h.eJ="";h.cj='#000000';h.oZ='#000000';h.lX=1;h.fS='#FFFFFF';h.K={x:0,y:0,width:0,height:0};h.nI=true;if(h.L){h.L.ku(h.nI);}break;case Mark.Type.TransparentRectangleRedaction:h.K={x:0,y:0,width:0,height:0};h.nI=true;if(h.L){h.L.ku(h.nI);h.L.set_fillColor('#FFFF00');h.L.set_opacity(127);h.L.set_lineWidth(1);h.L.set_lineColor('#FFFF00');}break;case Mark.Type.TextAnnotation:h.ak='';h.cj='#FFFFFF';h.dk=127;h.oZ='#000000';h.lX=4;h.fS='#000000';h.gb="Arial";h.dK=12;h.cE=[];h.mQ="Left";h.gh=0;h.K={x:0,y:0,width:0,height:0};break;case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:h.uo="Approved";h.K={x:0,y:0,width:0,height:0};if(ao===Mark.Type.StampRedaction){h.nI=true;if(h.L){h.L.ku(h.nI);h.L.set_fillColor('#000000');}}else{h.cD="#000000";}break;case Mark.Type.HighlightAnnotation:h.cj="#FFFF00";h.ak='';h.cN='';if(h.L){if(h.L.cN){h.ak=h.L.cN;}}h.dP={startIndex:0,length:0};h.BO=[];h.cZ=[];break;case Mark.Type.TextSelectionRedaction:h.eJ="";h.ak='';h.dP={startIndex:0,length:0};if(h.L){h.L.set_fillColor('#000000');if(h.L.cN){h.ak=h.L.cN;}}h.BO=[];h.cZ=[];break;case Mark.Type.TextHyperlinkAnnotation:h.kK='';h.cj="#3B00FF";h.ak='';if(h.L){if(h.L.cN){h.ak=h.L.cN;}}h.dP={startIndex:0,length:0};h.BO=[];h.cZ=[];break;case Mark.Type.TextRedaction:h.ak='';h.fS='#000000';h.gb="Arial";h.dK=12;h.K={x:0,y:0,width:0,height:0};h.nI=true;h.gh=0;if(h.L){h.L.ku(h.nI);h.L.set_fillColor('#FFFFFF');}h.mQ="Left";break;case Mark.Type.FreehandAnnotation:h.dk=255;h.K={x:0,y:0,width:0,height:0};h.oC=4;h.cD='#000000';h.gz='M0,0';break;case Mark.Type.FreehandSignature:h.K={x:0,y:0,width:0,height:0};h.oC=4;h.cD='#000000';h.mQ="Center";h.gz='M0,0';break;case Mark.Type.TextSignature:h.ak="John Doe";h.K={x:0,y:0,width:0,height:0};h.cD="#000000";if(h.L){h.cD=h.L.cj||'#000000';h.L.ku(h.nI);h.L.set_fillColor(h.cD);}h.mQ="Center";h.gb="";break;case Mark.Type.TextInputSignature:h.ak="";h.K={x:0,y:0,width:0,height:0};h.fS="#000000";h.gh=0;if(h.L){h.fS=h.L.get_textColor()||'#000000';h.L.ku(false);}h.mQ="Left";h.gb="Courier New";h.jA=null;break;case Mark.Type.TextAreaSignature:h.ak="";h.K={x:0,y:0,width:0,height:0};h.fS="#000000";if(h.L){h.fS=h.L.get_textColor()||'#000000';h.L.ku(false);}h.mQ="Left";h.gb="Courier New";h.cE=[];h.gh=0;h.jx=0;break;case 'PlaceSignature':h.kP=undefined;h.K={x:0,y:0,width:0,height:0};break;case Mark.Type.ImageStampAnnotation:case Mark.Type.ImageStampRedaction:h.by="";h.pU="";h.K={x:0,y:0,width:0,height:0};if(h.L&&ao===Mark.Type.ImageStampRedaction){h.nI=true;h.L.ku(h.nI);}break;case Mark.Type.PolylineAnnotation:h.cD='#000000';h.iu=IPCC.Web.UI.LineStyle.Solid;h.oC=2;h.dk=255;h.aX=[{x:0,y:0},{x:0,y:0}];break;case Mark.Type.StrikethroughAnnotation:h.cD='#000000';h.iu=IPCC.Web.UI.LineStyle.Solid;h.oC=2;h.ak='';h.cN='';if(h.L){if(h.L.cN){h.ak=h.L.cN;}}h.dP={startIndex:0,length:0};h.BO=[];h.cZ=[];break;}function getSignature(){return this.kP||undefined;};function setSignature(signature){if(typeof signature==='undefined'){this.kP=undefined;return;}else if(typeof signature!=='object'){throw new Error("The parameter `signature` is not an Object.");}if(!signature.path&& !signature.text){throw new Error("The parameter `signature` should have at least one of these properties: text, path");}else{if(signature.path){if(signature.path.length<1){throw new Error("The property `signature.path` cannot be empty.");}else if(signature.path.match(/[^MLC0-9,.\s]/)){throw new Error("The property `signature.path` has invalid characters.");}}else if(signature.text){if(signature.text.length<1){signature.text='';}}}this.kP=signature;return this;};if(h.kP||h.ao==='PlaceSignature'){h.getSignature=getSignature;h.setSignature=setSignature;if(Object.defineProperties){Object.defineProperties(h,{"signature":{enumerable:true,get:function(){return this.getSignature();},set:function(value){return this.setSignature(value);}}});}}function getColor(){if(this.L){switch(this.ao){case Mark.Type.LineAnnotation:case Mark.Type.PolylineAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.FreehandAnnotation:case Mark.Type.StrikethroughAnnotation:this.cD=this.L.get_lineColor()||this.cD;break;case Mark.Type.StampAnnotation:case Mark.Type.TextSignature:this.cD=this.L.get_fillColor()||this.cD;break;}}return this.cD;};function setColor(value){IPCC.aV.cD(value,'color');this.cD=value;if(this.L){switch(this.ao){case Mark.Type.LineAnnotation:case Mark.Type.PolylineAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.FreehandAnnotation:this.L.set_lineColor(value);break;case Mark.Type.StampAnnotation:this.L.set_fillColor(value);break;case Mark.Type.TextSignature:this.L.set_textColor(value);this.L.set_fillColor(value);break;case Mark.Type.StrikethroughAnnotation:this.L.set_lineColor(value);if(this.cZ&&this.cZ.length){for(var R=0;R<this.cZ.length;R++){this.cZ[R].set_lineColor(value);}}break;}}return this;};if(h.cD!==undefined){h.getColor=getColor;h.setColor=setColor;if(Object.defineProperties){Object.defineProperties(h,{"color":{enumerable:true,get:function(){return this.getColor();},set:function(value){return this.setColor(value);}}});}}function getFillColor(){if(this.L){switch(this.ao){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.HighlightAnnotation:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.RectangleRedaction:this.cj=this.L.get_fillColor()||this.cj;break;}}return this.cj;};function setFillColor(value){if(this.ao===PCCViewer.Mark.Type.HighlightAnnotation||this.ao===PCCViewer.Mark.Type.TextHyperlinkAnnotation){IPCC.aV.cD(value,'fillColor');}else{IPCC.aV.Ti(value,'fillColor');}this.cj=value;if(this.L){switch(this.ao){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.L.set_fillColor(value);break;case Mark.Type.HighlightAnnotation:case Mark.Type.TextHyperlinkAnnotation:this.L.set_fillColor(value);if(this.cZ&&this.cZ.length){for(var R=0;R<this.cZ.length;R++){this.cZ[R].set_fillColor(value);}}break;}}return this;};if(h.cj!==undefined){h.getFillColor=getFillColor;h.setFillColor=setFillColor;if(Object.defineProperties){Object.defineProperties(h,{"fillColor":{enumerable:true,get:function(){return this.getFillColor();},set:function(value){return this.setFillColor(value);}}});}}function getImage(){var retVal={dataUrl:this.by,id:this.pU};return retVal;};function setImage(params){IPCC.aV.lW(params.dataUrl,'string');IPCC.aV.lW(params.id,'string');this.by=params.dataUrl;this.pU=params.id;if(this.L){switch(this.ao){case Mark.Type.ImageStampAnnotation:case Mark.Type.ImageStampRedaction:this.L.set_image(params.dataUrl);this.L.pU=params.id;break;}}return this;};if(h.by!==undefined){h.getImage=getImage;h.setImage=setImage;if(Object.defineProperties){Object.defineProperties(h,{"image":{enumerable:true,get:function(){return this.getImage();},set:function(params){return this.setImage(params);}}});}}function getBorderColor(){if(this.L){switch(this.ao){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.oZ=this.L.get_lineColor()||this.oZ;break;}}return this.oZ;};function setBorderColor(value){IPCC.aV.Ti(value,'borderColor');this.oZ=value;if(this.L){switch(this.ao){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.L.set_lineColor(value);break;}}return this;};if(h.oZ!==undefined){h.getBorderColor=getBorderColor;h.setBorderColor=setBorderColor;if(Object.defineProperties){Object.defineProperties(h,{"borderColor":{enumerable:true,get:function(){return this.getBorderColor();},set:function(value){return this.setBorderColor(value);}}});}}function getOpacity(){if(this.L){switch(this.ao){case Mark.Type.LineAnnotation:case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.FreehandAnnotation:case Mark.Type.PolylineAnnotation:this.dk=this.L.get_opacity()||this.dk;break;}}return this.dk;};function setOpacity(value){IPCC.aV.lP(value,'opacity',0,255);this.dk=value;if(this.L){switch(this.ao){case Mark.Type.LineAnnotation:case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.FreehandAnnotation:case Mark.Type.PolylineAnnotation:this.L.set_opacity(value);break;}}return this;};if(h.dk!==undefined&&h.dk>=0){h.getOpacity=getOpacity;h.setOpacity=setOpacity;if(Object.defineProperties){Object.defineProperties(h,{"opacity":{enumerable:true,get:function(){return this.getOpacity();},set:function(value){return this.setOpacity(value);}}});}}function getThickness(){if(this.L){switch(this.ao){case Mark.Type.LineAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.FreehandAnnotation:case Mark.Type.PolylineAnnotation:case Mark.Type.StrikethroughAnnotation:this.oC=this.L.get_lineWidth()||this.oC;break;}}return this.oC;};function setThickness(value){IPCC.aV.jM(value,'thickness',1,50);this.oC=value;if(this.L){switch(this.ao){case Mark.Type.LineAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.FreehandAnnotation:case Mark.Type.PolylineAnnotation:this.L.set_lineWidth(value);break;case Mark.Type.StrikethroughAnnotation:this.L.set_lineWidth(value);if(this.cZ&&this.cZ.length){for(var R=0;R<this.cZ.length;R++){this.cZ[R].set_lineWidth(value);}}break;}}return this;};if(h.oC){h.getThickness=getThickness;h.setThickness=setThickness;if(Object.defineProperties){Object.defineProperties(h,{"thickness":{enumerable:true,get:function(){return this.getThickness();},set:function(value){return this.setThickness(value);}}});}}function getBorderThickness(){if(this.L){switch(this.ao){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.lX=this.L.get_lineWidth()||this.lX;break;}}return this.lX;};function setBorderThickness(value){IPCC.aV.jM(value,'borderThickness',1,50);this.lX=value;if(this.L){switch(this.ao){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.L.set_lineWidth(value);break;}}return this;};if(h.lX!==undefined){h.getBorderThickness=getBorderThickness;h.setBorderThickness=setBorderThickness;if(Object.defineProperties){Object.defineProperties(h,{"borderThickness":{enumerable:true,get:function(){return this.getBorderThickness();},set:function(value){return this.setBorderThickness(value);}}});}}function getVisible(){if(this.L){this.de=this.L.get_visible();}return this.de;};function setVisible(value){if(value!==true&&value!==false){throw new Error("The parameter value is invalid. The parameter must be boolean true or false.");}this.de=value;if(this.L){this.L.set_visible(value);}var R;switch(this.ao){case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.HighlightAnnotation:case Mark.Type.StrikethroughAnnotation:if(this.cZ&&this.cZ.length){for(R=0;R<this.cZ.length;R++){this.cZ[R].set_visible(value);}}if(this.ao===PCCViewer.Mark.Type.TextSelectionRedaction){var cW=this.L;for(R=0;R<this.L.bj.length;R++){cW.bj[R].set_visible(value);}if(cW.aY){IPCC.J.forEach(this.cZ,function(L){for(R=0;R<L.bj.length;R++){L.bj[R].set_visible(value);}});}}break;}return this;};if(h.de!==undefined){h.getVisible=getVisible;h.setVisible=setVisible;if(Object.defineProperties){Object.defineProperties(h,{"visible":{enumerable:true,get:function(){return this.getVisible();},set:function(value){return this.setVisible(value);}}});}}function getStartPoint(){if(this.L&&this.L!==null){var aX=this.L.get_points();if(aX.get_length()>0){switch(this.ao){case Mark.Type.LineAnnotation:var aG=aX.getPoint(0);if(aG){this.QI={x:aG.x,y:aG.y};}break;}}}return this.QI;};function setStartPoint(value){IPCC.aV.jc(value.x,'startPoint'+'.x');IPCC.aV.jc(value.y,'startPoint'+'.y');if(this.L&&this.L!==null){var aX=this.L.get_points();switch(this.ao){case Mark.Type.LineAnnotation:aX.setPoint(0,new IPCC.Web.UI.Point(value.x,value.y));break;}}this.QI=value;return this;};if(h.QI){h.getStartPoint=getStartPoint;h.setStartPoint=setStartPoint;if(Object.defineProperties){Object.defineProperties(h,{"startPoint":{enumerable:true,get:function(){return this.getStartPoint();},set:function(value){return this.setStartPoint(value);}}});}}function getEndPoint(){if(this.L&&this.L!==null){var aX=this.L.get_points();if(aX.get_length()>0){switch(this.ao){case Mark.Type.LineAnnotation:var aG=aX.getPoint(1);if(aG){this.vz={x:aG.x,y:aG.y};}break;}}}return this.vz;};function setEndPoint(value){IPCC.aV.jc(value.x,'endPoint'+'.x');IPCC.aV.jc(value.y,'endPoint'+'.y');if(this.L&&this.L!==null){var aX=this.L.get_points();switch(this.ao){case Mark.Type.LineAnnotation:aX.setPoint(1,new IPCC.Web.UI.Point(value.x,value.y));break;}}this.vz=value;return this;};if(h.vz){h.getEndPoint=getEndPoint;h.setEndPoint=setEndPoint;if(Object.defineProperties){Object.defineProperties(h,{"endPoint":{enumerable:true,get:function(){return this.getEndPoint();},set:function(value){return this.setEndPoint(value);}}});}}function getEndHeadType(){if(this.L&&this.L!==null){var AZ;switch(this.ao){case Mark.Type.LineAnnotation:AZ=this.L.get_endHeadType();switch(AZ){case IPCC.Web.UI.LineHeadType.None:this.oG=PCCViewer.Mark.LineHeadType.None;break;case IPCC.Web.UI.LineHeadType.Solid:this.oG=PCCViewer.Mark.LineHeadType.FilledTriangle;break;}break;}}return this.oG;};function setEndHeadType(value){var AZ;switch(value){case Mark.LineHeadType.None:AZ=IPCC.Web.UI.LineHeadType.None;break;case Mark.LineHeadType.FilledTriangle:AZ=IPCC.Web.UI.LineHeadType.Solid;break;default:throw "The specified value is not a valid line head type.";}if(this.L&&this.L!==null){switch(this.ao){case Mark.Type.LineAnnotation:this.L.set_endHeadType(AZ);break;}}this.oG=value;return this;};if(h.oG){h.getEndHeadType=getEndHeadType;h.setEndHeadType=setEndHeadType;if(Object.defineProperties){Object.defineProperties(h,{"endHeadType":{enumerable:true,get:function(){return this.getEndHeadType();},set:function(value){return this.setEndHeadType(value);}}});}}function getPoints(){if(this.L&&this.L!==null){var Fm=this.L.get_points();var cv=Fm.get_length();var anb=[];var abd=function(aDv,an){anb.push(aDv.getPoint(an));};if(cv>1){switch(this.ao){case Mark.Type.PolylineAnnotation:for(var R=0;R<cv;R++){abd(Fm,R);}this.aX=anb;break;}}}return this.aX.slice();};function setPoints(value){if(!(value instanceof Array)){throw "invalid parameter. The parameter should be an array.";}if(value.length<=1){return;}for(var bM=0;bM<value.length;bM++){IPCC.aV.aG(value[bM],'PolylinePoint');}if(this.L&&this.L!==null){var Fm=this.L.get_points();var aqN=function(an){Fm.addPoint(new IPCC.Web.UI.Point(value[an].x,value[an].y));};switch(this.ao){case Mark.Type.PolylineAnnotation:Fm.removeAllPoints();for(var R=0;R<value.length;R++){aqN(R);}}}this.aX=value;return this;};if(h.aX){h.getPoints=getPoints;h.setPoints=setPoints;if(Object.defineProperties){Object.defineProperties(h,{"points":{enumerable:true,get:function(){return this.getPoints();},set:function(value){return this.setPoints(value);}}});}}function getRectangle(){if(this.L){switch(this.ao){case Mark.Type.RectangleAnnotation:case Mark.Type.RectangleRedaction:case Mark.Type.TransparentRectangleRedaction:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:case Mark.Type.FreehandAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:case Mark.Type.ImageStampAnnotation:case Mark.Type.ImageStampRedaction:var bG=this.L.get_rectangle();if(bG instanceof IPCC.Web.UI.Rectangle){this.K={width:bG.width,height:bG.height,x:bG.x,y:bG.y};}break;}}return this.K;};function setRectangle(value){IPCC.aV.jc(value.x,'rectangle'+'.x');IPCC.aV.jc(value.y,'rectangle'+'.y');IPCC.aV.jc(value.width,'rectangle'+'.width');IPCC.aV.jc(value.height,'rectangle'+'.height');if(this.L&&this.L!==null){switch(this.ao){case Mark.Type.RectangleAnnotation:case Mark.Type.RectangleRedaction:case Mark.Type.TransparentRectangleRedaction:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:case Mark.Type.FreehandAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:case Mark.Type.ImageStampAnnotation:case Mark.Type.ImageStampRedaction:var bG=new IPCC.Web.UI.Rectangle(value.x,value.y,value.width,value.height);this.L.set_rectangle(bG);break;}}this.K=value;return this;};if(h.K){h.getRectangle=getRectangle;h.setRectangle=setRectangle;if(Object.defineProperties){Object.defineProperties(h,{"rectangle":{enumerable:true,get:function(){return this.getRectangle();},set:function(value){return this.setRectangle(value);}}});}}function getPosition(){var dc=0;if(this.L&&this.L.cN){dc=this.L.cN.length;}else if(this.L){dc=IPCC.J.reduce([this.L].concat(this.cZ||[]),function(cv,L){return cv+L.get_textLength();},0);}return this.L?{startIndex:this.L.as,length:dc}:this.dP;};function setPosition(value){IPCC.aV.jc(value.startIndex,'position.startIndex');IPCC.aV.jc(value.length,'position.length');if(value.startIndex<0){throw new Error("The start index must be 0 or greater.");}if(value.length<0){throw new Error("The length must be 0 or greater.");}if(this.L===undefined||this.L===null){throw new Error("The mark must be on a page.");}var aC;var bN;var aP=this.aM-1;var uF= -value.startIndex;var oi=[];var cN="";var cL;while(true){if(aP>=this.cA.get_length()){throw new Error("The specified length is out of range.");}aC=this.cA.getPage(aP);if(aC.dg()&&aC.dg().vP()&&aC.dg().mW()===true){var abS=uF;var QW=aC.dg().Cu();uF+=QW.length;if(uF<0||(uF===0&&value.length!==0)){throw new Error("The specified start index is out of range for the specified page.");}var UC=0;if(aP===this.aM-1){UC=value.startIndex;}if(uF>=value.length){cL=value.startIndex+value.length-1;if(abS>=0){cL=value.length-1-abS;}oi.push({pageIndex:aP,endIndex:cL});cN+=QW.substring(UC,cL+1);break;}else{cL=aC.dg().Cu().length-1;oi.push({pageIndex:aP,endIndex:cL});cN+=QW.substring(UC,cL+1);}}else{throw new Error("The text has not been retrieved for this page.");}aP++;}this.aY=IPCC.vY();var R=0;if(this.cZ){if(this.L){this.L.aY=this.aY;bN=this.bv.fU(this.cA.getPage(this.L.aP));if(this.L.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){for(var VX=this.L.bj.length-1;VX>=0;VX--){bN.removeMark(this.L.bj[VX]);this.L.bj.pop();}}}for(R=this.cZ.length-1;R>=0;R--){var ln=this.cZ[R];bN=this.bv.fU(this.cA.getPage(ln.aP));bN.removeMark(ln);this.cZ.splice(R,1);}}else{this.cZ=[];}Fl.call(this,oi,cL,cN,value);this.dP=value;return this;};function Fl(oi,cL,cN,value,XJ){var R,aP,aC,bN;XJ=XJ||{};var bj;this.cZ=this.cZ||[];var amB=(this.L.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction)?aty:auN;for(R=0;R<oi.length;R++){aP=oi[R].pageIndex;aC=this.cA.getPage(aP);var apk=aC.dg().gQ();bN=this.bv.fU(aC);var cW;var as=0;cL=oi[R].endIndex;if(R===0){as=value.startIndex;}aP=oi[R].pageIndex;bj=XJ[aP]||IPCC.J.Ue(apk,as,cL);if(R===0){cW=amB(this.L,as,cL-as+1,cN,bj,aP,this.aY,this.L.get_type(),bN);this.L.jK=true;}else{cW=amB(null,as,cL-as+1,cN,bj,aP,this.aY,this.L.get_type(),bN);this.cZ.push(cW);bN.addMark(cW);cW.set_selected(this.L.get_selected());if(this.getFillColor){cW.set_fillColor(this.L.get_fillColor());}if(this.getColor){cW.set_lineColor(this.L.get_lineColor());}if(this.getThickness){cW.set_lineWidth(this.L.get_lineWidth());}if(this.getHref){cW.set_href(this.L.get_href());}if(this.getReason){cW.set_text(this.L.get_text());}}if(R===oi.length-1){cW.kV=true;}}};if(h.dP){h.getPosition=getPosition;h.setPosition=setPosition;h.Fl=Fl;if(Object.defineProperties){Object.defineProperties(h,{"position":{enumerable:true,get:function(){return this.getPosition();},set:function(value){return this.setPosition(value);}}});}}function auN(h,as,dc,cN,bj,aP,kY,aN,bN){if(!h){h=new IPCC.Web.UI.Mark(aN);}h.as=as;h.cR=dc;h.iS='y';h.aY=kY;h.cN=cN;h.bj=bj||[];h.aP=aP;var Rj=IPCC.J.reduce(h.bj,function(Jp,bG){if(!Jp){return bG.clone();}else{return Jp.union(bG);}},null);h.set_rectangle(Rj);return h;};function aty(h,as,dc,cN,bj,aP,kY,aN,bN){if(!h){h=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);}h.as=as;h.cR=dc;h.aY=kY;h.cN=cN;h.aP=aP;h.bj=IPCC.J.map(bj,function(bG){var yf=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);yf.set_rectangle(bG);yf.ku(true);yf.set_fillColor('#000000');yf.set_text(h.ak);yf.set_lineWidth(0);yf.aY=kY;bN.addMark(yf);return yf;});var Rj=IPCC.J.reduce(bj,function(Jp,bG){if(!Jp){return bG.clone();}else{return Jp.union(bG);}},null);h.set_rectangle(Rj);return h;};function getText(){if(this.L){switch(this.ao){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:this.ak=(typeof this.L.get_text()==="string")?this.L.get_text():this.ak;break;case Mark.Type.HighlightAnnotation:case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.StrikethroughAnnotation:if(h.L.cN){this.ak=h.L.cN;}break;}}return this.ak;};function setText(value){IPCC.aV.lW(value,'text');this.ak=value;if(this.L){switch(this.ao){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:this.L.set_text(value);break;}}return this;};if(h.ak!==undefined){h.getText=getText;var aN=h.getType();if(aN!==Mark.Type.HighlightAnnotation&&aN!==Mark.Type.TextSelectionRedaction&&aN!==Mark.Type.TextHyperlinkAnnotation&&aN!==Mark.Type.StrikethroughAnnotation){h.setText=setText;}if(Object.defineProperties){var afJ={enumerable:true,get:function(){return this.getText();}};if(h.setText!==undefined){afJ.set=function(value){return this.setText(value);};}Object.defineProperties(h,{"text":afJ});}}function getFontColor(){if(this.L){switch(this.ao){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextInputSignature:case Mark.Type.RectangleRedaction:case Mark.Type.TextAreaSignature:this.fS=this.L.get_textColor()||this.fS;break;}}return this.fS;};function setFontColor(value){IPCC.aV.cD(value,'fontColor');this.fS=value;if(this.L){switch(this.ao){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:case Mark.Type.RectangleRedaction:this.L.set_textColor(value);break;}}return this;};if(h.fS){h.getFontColor=getFontColor;h.setFontColor=setFontColor;if(Object.defineProperties){Object.defineProperties(h,{"fontColor":{enumerable:true,get:function(){return this.getFontColor();},set:function(value){return this.setFontColor(value);}}});}}function getFontName(){if(this.L){switch(this.ao){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:this.gb=this.L.get_fontName()||this.gb;break;}}return this.gb;};function setFontName(value){IPCC.aV.lW(value,'fontName');this.gb=value;if(this.L){switch(this.ao){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:this.L.set_fontName(value);break;}}return this;};if(h.gb!==undefined){h.getFontName=getFontName;h.setFontName=setFontName;if(Object.defineProperties){Object.defineProperties(h,{"fontName":{enumerable:true,get:function(){return this.getFontName();},set:function(value){return this.setFontName(value);}}});}}function getFontSize(){if(this.L){switch(this.ao){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:this.dK=this.L.get_fontSize()||this.dK;break;}}return this.dK;};function setFontSize(value){IPCC.aV.jM(value,'fontSize',0.1,288);this.dK=value;if(this.L){switch(this.ao){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:this.L.set_fontSize(value);break;}}return this;};if(h.dK){h.getFontSize=getFontSize;h.setFontSize=setFontSize;if(Object.defineProperties){Object.defineProperties(h,{"fontSize":{enumerable:true,get:function(){return this.getFontSize();},set:function(value){return this.setFontSize(value);}}});}}function getHorizontalAlignment(){if(this.L){var Am=this.L.get_textHorizontalAlignment();switch(Am){case IPCC.Web.UI.HorizontalAlignment.Center:this.mQ="Center";break;case IPCC.Web.UI.HorizontalAlignment.Left:this.mQ="Left";break;case IPCC.Web.UI.HorizontalAlignment.Right:this.mQ="Right";break;}}return this.mQ;};function setHorizontalAlignment(value){IPCC.aV.lW(value,'horizontalAlignment');var qU=NT(value,PCCViewer.Mark.HorizontalAlignment);var Am;switch(qU){case 'Center':Am=IPCC.Web.UI.HorizontalAlignment.Center;break;case 'Left':Am=IPCC.Web.UI.HorizontalAlignment.Left;break;case 'Right':Am=IPCC.Web.UI.HorizontalAlignment.Right;break;default:throw "Invalid value found for the Text horizontalAlignment.";}h.mQ=qU;if(this.L&&Am!==undefined){this.L.set_textHorizontalAlignment(Am);this.mQ=qU;}return this;};if(h.mQ){h.getHorizontalAlignment=getHorizontalAlignment;h.setHorizontalAlignment=setHorizontalAlignment;if(Object.defineProperties){Object.defineProperties(h,{"horizontalAlignment":{enumerable:true,get:function(){return this.getHorizontalAlignment();},set:function(value){return this.setHorizontalAlignment(value);}}});}}function aAN(Zr){var zf=[];for(var R=0;R<Zr.length;R++){switch(Zr[R]){case "Bold":zf.push(IPCC.Web.UI.FontStyle.Bold);break;case "Italic":zf.push(IPCC.Web.UI.FontStyle.Italic);break;case "Strikeout":zf.push(IPCC.Web.UI.FontStyle.Strikeout);break;case "Underline":zf.push(IPCC.Web.UI.FontStyle.Underline);break;default:throw Error("An unknown font style was encountered: "+Zr[R]);}}if(zf.length===0){zf.push(IPCC.Web.UI.FontStyle.Regular);}return zf;};function getFontStyle(){if(this.L){var pN=[];switch(this.ao){case Mark.Type.TextAreaSignature:case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:var vN=this.L.get_fontStyle();if(vN&IPCC.Web.UI.FontStyle.Bold){pN.push("Bold");}if(vN&IPCC.Web.UI.FontStyle.Italic){pN.push("Italic");}if(vN&IPCC.Web.UI.FontStyle.Strikeout){pN.push("Strikeout");}if(vN&IPCC.Web.UI.FontStyle.Underline){pN.push("Underline");}if(pN.length>0){this.cE=pN;}break;}}return this.cE;};function setFontStyle(value){if(!(value instanceof Array)){throw "invalid parameter. The parameter should be an array.";}var LM,R,acL=[];for(R=0;R<value.length;R++){LM=NT(value[R],PCCViewer.Mark.FontStyles);if(LM===null){throw new RangeError("The value of font styles "+value[R]+" is invalid.");}else{IPCC.aV.lW(LM,'fontStyle');acL.push(LM);}}this.cE=acL;var vN=[];vN=aAN(this.cE);var ae=this;function awc(aJ){setTimeout(function(){ae.L.set_fontStyle(aJ);},2);};if(this.L){switch(this.ao){case Mark.Type.TextAreaSignature:case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:var aef=vN[0];for(R=1;R<vN.length;R++){aef|=vN[R];}awc(aef);break;}}return this;};if(h.cE){h.getFontStyle=getFontStyle;h.setFontStyle=setFontStyle;if(Object.defineProperties){Object.defineProperties(h,{"fontStyle":{enumerable:true,get:function(){return this.getFontStyle();},set:function(value){return this.setFontStyle(value);}}});}}function getLabel(){if(this.L){switch(this.ao){case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:this.uo=this.L.get_text()||this.uo;break;}}return this.uo;};function setLabel(value){IPCC.aV.lW(value,'label');this.uo=value;if(this.L){switch(this.ao){case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:this.L.set_text(value);break;}}return this;};if(typeof h.uo!=='undefined'){h.getLabel=getLabel;h.setLabel=setLabel;if(Object.defineProperties){Object.defineProperties(h,{"label":{enumerable:true,get:function(){return this.getLabel();},set:function(value){return this.setLabel(value);}}});}}function getReason(){if(this.L){switch(this.ao){case Mark.Type.RectangleRedaction:case Mark.Type.TextSelectionRedaction:this.eJ=this.L.get_text()||this.eJ;break;}}return this.eJ;};function setReason(value){IPCC.aV.lW(value,'text');this.eJ=value;if(this.L){switch(this.ao){case Mark.Type.RectangleRedaction:this.L.set_text(value);break;case Mark.Type.TextSelectionRedaction:this.L.set_text(value);if(this.cZ&&this.cZ.length){for(var R=0;R<this.cZ.length;R++){this.cZ[R].set_text(value);}}break;}}return this;};if(typeof h.eJ!=='undefined'){h.getReason=getReason;h.setReason=setReason;if(Object.defineProperties){Object.defineProperties(h,{"reason":{enumerable:true,get:function(){return this.getReason();},set:function(value){return this.setReason(value);}}});}}function getPath(){if(this.L){return this.L.get_pathString();}else{return this.gz;}};function setPath(path){if(path.match(/[^MLC0-9.,\s]/)){throw new Error("The path string contains illegal characters.");}var vJ=IPCC.J.aav(path);this.gz=path;if(this.L){this.L.set_pathString(path);this.L.set_pathWidth(vJ.width);this.L.set_pathHeight(vJ.height);}return this;};if(h.gz){h.setPath=setPath;h.getPath=getPath;if(Object.defineProperties){Object.defineProperties(h,{"path":{enumerable:true,get:getPath,set:setPath}});}}function getHref(){if(this.L){return this.L.get_href();}else{return this.kK;}};function setHref(href){if(href!==null){var ao=typeof href;if(ao!=="undefined"&&ao!=="number"&&ao!=="string"){throw new Error("`href` can only be set to a value that is a Number, String, null, or undefined.");}}this.kK=href;if(this.L){this.L.set_href(href);}if(this.cZ){IPCC.J.forEach(this.cZ,function(L){L.set_href(href);});}return this;};if(typeof h.kK!=='undefined'){h.setHref=setHref;h.getHref=getHref;if(Object.defineProperties){Object.defineProperties(h,{"href":{enumerable:true,get:getHref,set:setHref}});}}function setMaxLength(maxLength){if(typeof maxLength!=='number'||maxLength<0||maxLength>Number.MAX_VALUE||Math.round(maxLength)!==maxLength){throw new Error('`maxLength` can only be set to a value that is a positive integer.');}this.gh=maxLength;if(this.L){this.L.set_maxLength(this.gh);}return this;};function getMaxLength(){if(this.L){this.gh=this.L.get_maxLength();}return this.gh;};if(typeof h.gh!=='undefined'){h.getMaxLength=getMaxLength;h.setMaxLength=setMaxLength;if(Object.defineProperties){Object.defineProperties(h,{"maxLength":{enumerable:true,get:getMaxLength,set:setMaxLength}});}}function setMaxFontSize(maxFontSize){if(typeof maxFontSize!=='number'||maxFontSize<0||maxFontSize>Number.MAX_VALUE||Math.round(maxFontSize)!==maxFontSize){throw new Error('`maxFontSize` can only be set to a value that is a positive integer.');}this.jx=maxFontSize;if(this.L){this.L.set_maxFontSize(this.jx);}return this;};function getMaxFontSize(){if(this.L){this.jx=this.L.get_maxFontSize();}return this.jx;};if(typeof h.jx!=='undefined'){h.getMaxFontSize=getMaxFontSize;h.setMaxFontSize=setMaxFontSize;if(Object.defineProperties){Object.defineProperties(h,{"maxFontSize":{enumerable:true,get:getMaxFontSize,set:setMaxFontSize}});}}function getMask(){return this.jA;};function setMask(mask){if(mask===null||typeof mask==='undefined'){this.jA=null;if(this.L){this.L.set_mask(this.jA);}return this;}if(typeof mask!=='object'||Array.isArray(mask)){throw new Error('`mask` can only be set to a value that is an Object, null or undefined.');}if(typeof mask.value!=='string'){throw new Error('`mask.value` can only be set to a value that is a string.');}if(typeof mask.translations!=='object'||mask.translations===null||Array.isArray(mask.translations)){throw new Error('`mask.translations` can only be set to a value that is an Object.');}var adU=false;IPCC.J.forEach(mask.translations,function(val,key){adU=true;if(key.length!==1){throw new Error('`'+key+'` does not have a string length of 1.');}if(!(val instanceof RegExp)|| !(/\/$/).exec(val.toString())){throw new Error('`mask.translations['+key+']` must be a regular expression without flags.');}});if(!adU){throw new Error('`mask.translations` must have at least one translation.');}this.jA=mask;if(this.L){this.L.set_mask(this.jA);}return this;};if(typeof h.jA!=='undefined'){h.getMask=getMask;h.setMask=setMask;if(Object.defineProperties){Object.defineProperties(h,{"mask":{enumerable:true,get:getMask,set:setMask}});}}};module.exports=Mark;},{"./../IPCC/IPCC":30,"./PCCViewer.Data":136}],152:[function(require,module,exports){var EventEmitter=require('./PCCViewer.EventEmitter');var jr=function(viewerControl,markReferences){var F=this;if(!viewerControl){throw new Error('`viewerControl` param is missing.');}this.cc=function(){var d=new Date().getTime();var uuid='xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(c){var r=(d+Math.random()*16)%16|0;d=Math.floor(d/16);return(c==='x'?r:(r&0x3|0x8)).toString(16);});return uuid;}();this.bf=viewerControl;this.al=undefined;this.Vn=undefined;this.ags=undefined;this.bz=[];this.hI={};this.mY=PCCViewer.Mark.InteractionMode.Full;if(markReferences!==undefined){switch(Object.prototype.toString.call(markReferences)){case "[object Object]":markReferences=[markReferences];break;case "[object Array]":break;default:throw new Error('`markReferences` param is not an object or an array.');}IPCC.J.forEach(markReferences,function(pB){var Nn=pB.markUid;pB.markupLayer=F;if(F.hI[Nn]){F.hI[Nn]=F.hI[Nn].concat(pB);}else{F.hI[Nn]=[pB];}});}var pj={};EventEmitter.extend(pj);pj.OV=function(Eq,cs){var F=this;return setTimeout(function(){F.trigger(Eq,cs);},0);};EventEmitter.extend(this);this.dp=new IPCC.Web.UI.Data();PCCViewer.Data.extend(this);this.Bg=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);setTimeout(function(){F.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerCreated,{});},0);};jr.EventType={MarkupLayerCreated:"MarkupLayerCreated",MarkupLayerDestroyed:"MarkupLayerDestroyed",MarksAddedToLayer:"MarksAddedToLayer",MarksRemovedFromLayer:"MarksRemovedFromLayer",MarkupLayerInteractionModeChanged:"MarkupLayerInteractionModeChanged",MarkupLayerHidden:"MarkupLayerHidden",MarkupLayerShown:"MarkupLayerShown"};jr.prototype.getViewerControl=function(){return this.bf;};jr.prototype.addMarks=function(marks){var F=this,avY=function(cX){cX.hT=F;};switch(Object.prototype.toString.call(marks)){case "[object Object]":marks=[marks];break;case "[object Array]":break;default:throw new Error('`marks` param is not an object or an array.');}for(var R=0;R<marks.length;R++){if(!(marks[R]instanceof PCCViewer.Mark)){throw new Error('`marks` param contains an item that is not an instanceof `PCCViewer.Mark`');}if(this.hasMark(marks[R].getId())){marks.splice(R,1);continue;}IPCC.J.forEach(marks[R].getConversation().getComments(),avY);}if(marks.length){this.bz=this.bz.concat(marks);this.trigger(PCCViewer.MarkupLayer.EventType.MarksAddedToLayer,{marks:marks});}return this;};jr.prototype.removeMarks=function(marks){switch(Object.prototype.toString.call(marks)){case "[object Object]":marks=[marks];break;case "[object Array]":break;default:throw new Error('`marks` param is not an object or an array.');}for(var R=0;R<this.bz.length;R++){for(var bM=0;bM<marks.length;bM++){if(this.bz[R].getUid()===marks[bM].getUid()){this.bz.splice(R,1);this.trigger(PCCViewer.MarkupLayer.EventType.MarksRemovedFromLayer,{marks:[marks[bM]]});break;}}}};jr.prototype.getMarks=function(){var alu=[];IPCC.J.forEach(this.bz,function(h){alu.push(h);});return alu;};jr.prototype.hasMark=function(markId){if(typeof markId!=='string'){throw new Error('`markId` param is not a string.');}var R=0,abH=false,h;for(R;R<this.bz.length;R++){h=this.bz[R];if(h.getId()===markId){abH=true;break;}}return abH;};jr.prototype.getMarkReferences=function(){var hI=[];for(var lY in this.hI){if(this.hI.hasOwnProperty(lY)){hI=hI.concat(this.hI[lY]);}}return hI;};jr.prototype.hide=function(){var bf=this.bf;bf.hideMarks(this.getMarks());this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerHidden,{});return this;};jr.prototype.show=function(){var bf=this.bf;bf.showMarks(this.getMarks());this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerShown,{});return this;};jr.prototype.copyLayers=function(markupLayers){var bf=this.bf,F=this;if(markupLayers instanceof PCCViewer.MarkupLayer){markupLayers=[markupLayers];}if(markupLayers instanceof Array===false){throw new PCCViewer.Error("InvalidArgument","The parameter, markupLayers, is not an Array of MarkupLayers or a single MarkupLayer.");}var bz=[];IPCC.J.forEach(markupLayers,function(hT){bf.getMarkupLayerCollection().getItem(hT.getId());bz=bz.concat(hT.getMarks());});var copiedMarks=bf.copyMarks(bz);this.addMarks(copiedMarks);IPCC.J.forEach(this.bz,function(h){IPCC.J.forEach(h.getConversation().getComments(),function(cX){cX.hT=F;});});return this;};jr.prototype.getId=function(){return this.cc;};jr.prototype.getName=function(){return this.al;};jr.prototype.setName=function(name){if(typeof name!=='string'){throw new Error('`name` param is not a string.');}this.al=name;return this;};jr.prototype.getRecordId=function(){return this.Vn;};jr.prototype.destroy=function(){this.bf.getMarkupLayerCollection().removeItem(this.cc);this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerDestroyed,{});};jr.prototype.setInteractionMode=function(interactionMode){if(typeof interactionMode!=='string'){throw new Error('`interactionMode` param is not a string.');}this.mY=interactionMode;IPCC.J.forEach(this.bz,function(h){h.setInteractionMode(interactionMode);});this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerInteractionModeChanged,{interactionMode:interactionMode});return this;};jr.prototype.getOriginalXmlName=function(){return this.ags;};jr.prototype.setOriginalXmlName=function(name){if(typeof name!=='string'){throw new Error('`name` param is not a string.');}this.ags=name;return this;};if(Object.defineProperties){Object.defineProperties(jr.prototype,{"id":{enumerable:true,get:function(){return this.getId();}},"recordId":{enumerable:true,get:function(){return this.getRecordId();}},"name":{enumerable:true,get:function(){return this.getName();},set:function(name){return this.setName(name);}},"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}},"originalXmlName":{enumerable:true,get:function(){return this.getOriginalXmlName();},set:function(name){return this.setOriginalXmlName(name);}},});}module.exports=jr;},{"./PCCViewer.EventEmitter":141}],153:[function(require,module,exports){var EventEmitter=require('./PCCViewer.EventEmitter');var MarkupLayerCollection=function(viewerControl){if(!viewerControl){throw new Error('`viewerControl` param is missing.');}this.bf=viewerControl;this.sx={};this.bz={};this.jy={};this.qO=0;EventEmitter.extend(this);};MarkupLayerCollection.EventType={MarkupLayerAdded:"MarkupLayerAdded",MarkupLayerRemoved:"MarkupLayerRemoved"};MarkupLayerCollection.prototype.getViewerControl=function(){return this.bf;};MarkupLayerCollection.prototype.forEach=function(iterator,thisArg){if(typeof iterator!=='function'){throw new TypeError('The iterator parameter is not a function');}IPCC.J.forEach(this.sx,iterator,thisArg);return this;};MarkupLayerCollection.prototype.getItem=function(layerId){if(typeof layerId!=='string'){throw new Error('`layerId` param is not a string.');}return this.sx[layerId];};MarkupLayerCollection.prototype.getCount=function(){return this.qO;};MarkupLayerCollection.prototype.getAll=function(){var akG=[],ZC;for(ZC in this.sx){if(this.sx.hasOwnProperty(ZC)){akG.push(this.sx[ZC]);}}return akG;};MarkupLayerCollection.prototype.addItem=function(layer){var F=this,hI,ZG=layer.hI,Fs=function(h,pB){var cX=h.getConversation().addComment(pB.text);cX.creationTime=new Date(pB.creationDateTime);cX.hT=pB.markupLayer;for(var vF in pB.data){if(pB.data.hasOwnProperty(vF)){cX.setData(vF,pB.data[vF]);}}},ayP=function(aCL){Fs(F.bz[wk],aCL);},ahK=function(h){var lY=h.getUid();F.bz[h.getUid()]=h;if(F.jy[lY]){IPCC.J.forEach(F.jy[lY],function(qt){Fs(h,qt);});delete F.jy[lY];}};if(!(layer instanceof PCCViewer.MarkupLayer)){throw new Error('`layer` param is not an instance of PCCViewer.MarkupLayer.');}this.sx[layer.getId()]=layer;for(var wk in ZG){if(ZG.hasOwnProperty(wk)){hI=ZG[wk];if(F.bz[wk]){IPCC.J.forEach(hI,ayP);}else if(F.jy[wk]){F.jy[wk]=F.jy[wk].concat(hI);}else{F.jy[wk]=hI;}}}IPCC.J.forEach(layer.getMarks(),function(h){ahK(h);});this.qO++;this.trigger(PCCViewer.MarkupLayerCollection.EventType.MarkupLayerAdded,{layerId:layer.getId()});layer.on(PCCViewer.MarkupLayer.EventType.MarksAddedToLayer,function(ev){IPCC.J.forEach(ev.marks,function(h){ahK(h);});});layer.on(PCCViewer.MarkupLayer.EventType.MarksRemovedFromLayer,function(ev){var axy=ev.cw;IPCC.J.forEach(ev.marks,function(h){var lY=h.getUid();IPCC.J.forEach(F.bz[lY].getConversation().getComments(),function(GZ){if(axy.id!==GZ.hT.id){var qt={creationDateTime:IPCC.J.wG(GZ.creationTime),data:GZ.dp.xD(),markUid:h.getUid(),markupLayer:GZ.hT,text:GZ.text};if(F.jy[lY]){F.jy[lY]=F.jy[lY].concat([qt]);}else{F.jy[lY]=[qt];}}});F.ue(h);});});return this;};MarkupLayerCollection.prototype.ue=function(h){var Nb;IPCC.J.forEach(this.sx,function(ee){var akm=ee.hasMark(h.getId());Nb=(typeof Nb!=='undefined')? +akm^Nb: +akm;});if(Nb===0){delete this.bz[h.getUid()];}};MarkupLayerCollection.prototype.removeItem=function(layerId){var ee=this.sx[layerId],F=this,azA=function(qt,an){if(qt.markupLayer.getId()===layerId){F.jy[cc].splice(an);}};if(typeof layerId!=='string'){throw new Error('`layerId` param is not a string.');}IPCC.J.forEach(this.bz,function(h){var hi=h.getConversation().getComments();var KG=ee.hasMark(h.getId());IPCC.J.forEach(hi,function(cX){if(KG&&cX.hT.getId()!==layerId){var afE={"markUid":h.getUid(),"markupLayer":cX.hT,"text":cX.getText(),"data":cX.dp.dp,"creationDateTime":IPCC.J.wG(cX.getCreationTime())};if(F.jy[h.getUid()]){F.jy[h.getUid()].push(afE);}else{F.jy[h.getUid()]=[afE];}h.getConversation().deleteComments(cX);}else if(KG&&cX.hT.getId()===layerId){h.getConversation().deleteComments(cX);}else if(!KG&&cX.hT.getId()===layerId){h.getConversation().deleteComments(cX);}});if(KG&&F.bz[h.getUid()]){F.ue(h);}});for(var cc in this.jy){if(this.jy.hasOwnProperty(cc)){IPCC.J.forEach(this.jy[cc],azA);}}delete this.sx[layerId];this.qO--;this.trigger(PCCViewer.MarkupLayerCollection.EventType.MarkupLayerRemoved,{layerId:layerId});return this;};MarkupLayerCollection.prototype.removeAll=function(){this.sx={};this.qO=0;return this;};if(Object.defineProperties){Object.defineProperties(MarkupLayerCollection.prototype,{"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}},"count":{enumerable:true,get:function(){return this.getCount();}}});}module.exports=MarkupLayerCollection;},{"./PCCViewer.EventEmitter":141}],154:[function(require,module,exports){'use strict';var Mark=require('./PCCViewer.Marks');function MouseTool(name,type){this.al=name;var FB=asx(type);if(FB===null){throw new RangeError("The value of type was invalid.");}this.ao=FB;addPropertiesToMouseTool(this);};MouseTool.prototype.getName=function(){return this.al;};MouseTool.prototype.getType=function(){return this.ao;};if(Object.defineProperties){Object.defineProperties(MouseTool.prototype,{"name":{enumerable:true,get:function(){return this.getName();}},"type":{enumerable:true,get:function(){return this.getType();}}});}function asx(TO){var YS=TO.toLowerCase();for(var standardType in MouseTool.Type){if(MouseTool.Type.hasOwnProperty(standardType)&&standardType.toLowerCase&&standardType.toLowerCase()===YS){return standardType;}}return null;};function addPropertiesToMouseTool(mouseTool){var ao=mouseTool.getType();switch(ao){case MouseTool.Type.Magnifier:break;case MouseTool.Type.SelectToZoom:break;case MouseTool.Type.Pan:mouseTool.AN=false;break;case MouseTool.Type.PanAndEdit:mouseTool.AN=true;break;case MouseTool.Type.SelectText:break;case MouseTool.Type.EditMarks:break;case MouseTool.Type.LineAnnotation:mouseTool.bS=new Mark({type:Mark.Type.LineAnnotation});break;case MouseTool.Type.RectangleAnnotation:mouseTool.bS=new Mark({type:Mark.Type.RectangleAnnotation});break;case MouseTool.Type.EllipseAnnotation:mouseTool.bS=new Mark({type:Mark.Type.EllipseAnnotation});break;case MouseTool.Type.TextAnnotation:mouseTool.bS=new Mark({type:Mark.Type.TextAnnotation});break;case MouseTool.Type.StampAnnotation:mouseTool.bS=new Mark({type:Mark.Type.StampAnnotation});break;case MouseTool.Type.HighlightAnnotation:mouseTool.bS=new Mark({type:Mark.Type.HighlightAnnotation});break;case MouseTool.Type.TextHyperlinkAnnotation:mouseTool.bS=new Mark({type:Mark.Type.TextHyperlinkAnnotation});break;case MouseTool.Type.FreehandAnnotation:mouseTool.bS=new Mark({type:Mark.Type.FreehandAnnotation});break;case MouseTool.Type.RectangleRedaction:mouseTool.bS=new Mark({type:Mark.Type.RectangleRedaction});break;case MouseTool.Type.TransparentRectangleRedaction:mouseTool.bS=new Mark({type:Mark.Type.TransparentRectangleRedaction});break;case MouseTool.Type.TextRedaction:mouseTool.bS=new Mark({type:Mark.Type.TextRedaction});break;case MouseTool.Type.TextInputSignature:mouseTool.bS=new Mark({type:Mark.Type.TextInputSignature});break;case MouseTool.Type.TextAreaSignature:mouseTool.bS=new Mark({type:Mark.Type.TextAreaSignature});break;case MouseTool.Type.StampRedaction:mouseTool.bS=new Mark({type:Mark.Type.StampRedaction});break;case MouseTool.Type.PlaceSignature:mouseTool.bS=new Mark({type:'PlaceSignature',xP:true});break;case MouseTool.Type.TextSelectionRedaction:mouseTool.bS=new Mark({type:Mark.Type.TextSelectionRedaction});break;case MouseTool.Type.ImageStampAnnotation:mouseTool.bS=new Mark({type:Mark.Type.ImageStampAnnotation});break;case MouseTool.Type.ImageStampRedaction:mouseTool.bS=new Mark({type:Mark.Type.ImageStampRedaction});break;case MouseTool.Type.PolylineAnnotation:mouseTool.bS=new Mark({type:Mark.Type.PolylineAnnotation});break;case MouseTool.Type.StrikethroughAnnotation:mouseTool.bS=new Mark({type:Mark.Type.StrikethroughAnnotation});break;}if(mouseTool.bS){mouseTool.getTemplateMark=function(){return this.bS;};if(Object.defineProperties){Object.defineProperties(mouseTool,{"templateMark":{enumerable:true,get:mouseTool.getTemplateMark}});}}};MouseTool.prototype.reset=function(){if(this.bS){this.bS.reset();}};var MouseTools={sv:{},createMouseTool:function(name,type){if(!this.sv){this.sv={};createDefaultMouseTools();}var zr=name.toLowerCase();var existingTool=this.sv[zr];if(existingTool){if(existingTool.getType().toLowerCase()!==type.toLowerCase()){throw new Error("If calling createMouseTool and providing the name of a mouse tool that already exists, then the type must be the same type as the existing mouse tool.");}existingTool.reset();}else{this.sv[zr]=new MouseTool(name,type);}return this.sv[zr];},getMouseTool:function(name){if(name&&name.toLowerCase){if(!this.sv){this.sv={};createDefaultMouseTools();}var zr=name.toLowerCase();return this.sv[zr];}return undefined;}};MouseTool.Type={Magnifier:"Magnifier",SelectToZoom:"SelectToZoom",Pan:"Pan",PanAndEdit:"PanAndEdit",SelectText:"SelectText",EditMarks:"EditMarks",LineAnnotation:"LineAnnotation",RectangleAnnotation:"RectangleAnnotation",EllipseAnnotation:"EllipseAnnotation",TextAnnotation:"TextAnnotation",StampAnnotation:"StampAnnotation",HighlightAnnotation:"HighlightAnnotation",TextHyperlinkAnnotation:"TextHyperlinkAnnotation",FreehandAnnotation:"FreehandAnnotation",RectangleRedaction:"RectangleRedaction",TransparentRectangleRedaction:"TransparentRectangleRedaction",TextRedaction:"TextRedaction",TextInputSignature:"TextInputSignature",TextAreaSignature:"TextAreaSignature",StampRedaction:"StampRedaction",PlaceSignature:"PlaceSignature",TextSelectionRedaction:"TextSelectionRedaction",ImageStampAnnotation:"ImageStampAnnotation",ImageStampRedaction:"ImageStampRedaction",PolylineAnnotation:"PolylineAnnotation",StrikethroughAnnotation:"StrikethroughAnnotation"};function createDefaultMouseTools(){MouseTools.createMouseTool("AccusoftMagnifier",MouseTool.Type.Magnifier);MouseTools.createMouseTool("AccusoftSelectToZoom",MouseTool.Type.SelectToZoom);MouseTools.createMouseTool("AccusoftPan",MouseTool.Type.Pan);MouseTools.createMouseTool("AccusoftPanAndEdit",MouseTool.Type.PanAndEdit);MouseTools.createMouseTool("AccusoftSelectText",MouseTool.Type.SelectText);MouseTools.createMouseTool("AccusoftEditMarks",MouseTool.Type.EditMarks);MouseTools.createMouseTool("AccusoftLineAnnotation",MouseTool.Type.LineAnnotation);MouseTools.createMouseTool("AccusoftArrowAnnotation",MouseTool.Type.LineAnnotation).getTemplateMark().setEndHeadType("FilledTriangle");MouseTools.createMouseTool("AccusoftRectangleAnnotation",MouseTool.Type.RectangleAnnotation);MouseTools.createMouseTool("AccusoftEllipseAnnotation",MouseTool.Type.EllipseAnnotation);MouseTools.createMouseTool("AccusoftTextAnnotation",MouseTool.Type.TextAnnotation);MouseTools.createMouseTool("AccusoftStampAnnotation",MouseTool.Type.StampAnnotation);MouseTools.createMouseTool("AccusoftHighlightAnnotation",MouseTool.Type.HighlightAnnotation);MouseTools.createMouseTool("AccusoftTextHyperlinkAnnotation",MouseTool.Type.TextHyperlinkAnnotation);MouseTools.createMouseTool("AccusoftFreehandAnnotation",MouseTool.Type.FreehandAnnotation);MouseTools.createMouseTool("AccusoftPlaceSignature",MouseTool.Type.PlaceSignature);MouseTools.createMouseTool("AccusoftTextSelectionRedaction",MouseTool.Type.TextSelectionRedaction);MouseTools.createMouseTool("AccusoftRectangleRedaction",MouseTool.Type.RectangleRedaction);MouseTools.createMouseTool("AccusoftTransparentRectangleRedaction",MouseTool.Type.TransparentRectangleRedaction);MouseTools.createMouseTool("AccusoftTextRedaction",MouseTool.Type.TextRedaction);MouseTools.createMouseTool("AccusoftTextInputSignature",MouseTool.Type.TextInputSignature);MouseTools.createMouseTool("AccusoftTextAreaSignature",MouseTool.Type.TextAreaSignature);MouseTools.createMouseTool("AccusoftStampRedaction",MouseTool.Type.StampRedaction);MouseTools.createMouseTool("AccusoftImageStampAnnotation",MouseTool.Type.ImageStampAnnotation);MouseTools.createMouseTool("AccusoftImageStampRedaction",MouseTool.Type.ImageStampRedaction);MouseTools.createMouseTool("AccusoftPolylineAnnotation",MouseTool.Type.PolylineAnnotation);MouseTools.createMouseTool("AccusoftStrikethroughAnnotation",MouseTool.Type.StrikethroughAnnotation);return MouseTools.sv;};createDefaultMouseTools();module.exports={MouseTool:MouseTool,MouseTools:MouseTools};},{"./PCCViewer.Marks":151}],155:[function(require,module,exports){var EventEmitter=require('./PCCViewer.EventEmitter');var ObservableCollection=function(){var zC=[];var pj={};EventEmitter.extend(pj);pj.OV=function(Eq,cs){var F=this;return setTimeout(function(){F.trigger(Eq,cs);},0);};this.add=function(item){zC.push(item);pj.OV(this.EventType.ItemAdded,{item:item,count:zC.length});return this;};this.remove=function(item){var F=this;this.forEach(function(e,idx){if(e===item){zC.splice(idx,1);pj.OV(F.EventType.ItemRemoved,{item:item,count:zC.length});}});return this;};this.removeAll=function(){zC=[];pj.OV(this.EventType.ItemRemoved,{count:zC.length});return this;};this.forEach=function(iterator,thisArg){if(typeof iterator!=='function'){throw new TypeError('The iterator parameter is not a function');}IPCC.J.forEach(this.toArray(),iterator,thisArg);return this;};this.toArray=function(){return[].concat(zC);};this.on=function(eventType,handler){pj.on.apply(pj,arguments);return this;};this.off=function(eventType,handler){pj.off.apply(pj,arguments);return this;};};ObservableCollection.prototype.EventType={ItemAdded:"ItemAdded",ItemRemoved:"ItemRemoved"};module.exports=ObservableCollection;},{"./PCCViewer.EventEmitter":141}],156:[function(require,module,exports){var DR={Horizontal:"Horizontal",Vertical:"Vertical"};module.exports=DR;},{}],157:[function(require,module,exports){var PasswordProtectedDocumentLoader=function PasswordProtectedDocumentLoader(Vd){this.Vd=Vd;};PasswordProtectedDocumentLoader.prototype.load=function(password){return this.Vd(password);};module.exports=PasswordProtectedDocumentLoader;},{}],158:[function(require,module,exports){var printAlgorithm={standard:1,contentWindowContents:2};var Vv=function Vv(bu,dF,H){if(bu.addEventListener){bu.addEventListener(dF,H,false);}else if(bu.attachEvent){bu.attachEvent('on'+dF,H);}};var XK=function XK(bu,dF,H){if(bu.removeEventListener){bu.removeEventListener(dF,H,false);}else if(bu.detachEvent){bu.detachEvent('on'+dF,H);}};function awJ(eK){var afk={};eK=eK.split('&');for(var i=eK.length;i--;){var q=eK[i].split('=');afk[q.shift()]=q.join('=');}return afk;};function avu(){var An=document.getElementById('pccPrintFrame');if(An){if(An.contentWindow&&An.contentWindow.destroy){An.contentWindow.destroy();}if(An.parentElement){An.parentElement.removeChild(An);}}};function asM(bA){bA.aji();avu();bA.aiE();if(!bA.algorithm){bA.algorithm=printAlgorithm.standard;}var gy;var gV=document.createElement('iframe');gV.id='pccPrintFrame';gV.className='pccPrintFrame';gV.style.position='absolute';gV.style.bottom=gV.style.right='0px';gV.style.width=gV.style.height='1px';gV.style.zIndex='0';gV.style.border='none';if(bA.algorithm!==printAlgorithm.contentWindowContents){gV.style.visibility='0';}function QG(){XK(window,'message',alA);};function adB(){XK(gV,'load',adB);if(gV.contentDocument){gy=gV.contentDocument;}else if(gV.contentWindow){gy=gV.contentWindow.document;}else{gy=gV.document;}if(bA.algorithm===printAlgorithm.contentWindowContents){gV.contentWindow.contents=bA.template;gV.src='javascript:window["contents"]';}else{gy.open();gy.write(bA.template);gy.close();}};var alA=function(message){message.source.PCCViewer.Ajax.setHeaders(PCCViewer.Ajax.getHeaders()).setOverrideMethod(PCCViewer.Ajax.getOverrideMethod());if(message.data.match(/loadArt/)){var amC=JSON.parse(message.data);var bN=bA.adV(amC.pageIndex);bA.aji();gV.contentWindow[amC.callbackName](bN);bA.aiE();}else if(message.data==='extra'){var Is=bA.abG(bA);gV.contentWindow['extra'](bA.encryption,Is);}else if(message.data==='done'){if(bA.algorithm===printAlgorithm.contentWindowContents){setTimeout(function(){gV.contentWindow.focus();gV.contentWindow.document.execCommand('print',false,null);window.focus();QG();bA.vt.trigger(PCCViewer.PrintRequest.EventType.PrintCompleted);},2000);}else{setTimeout(function(){gV.contentWindow.focus();gV.contentWindow.print();window.focus();QG();bA.vt.trigger(PCCViewer.PrintRequest.EventType.PrintCompleted);},2000);}}else if(message.data==='fail'){QG();bA.vt.trigger(PCCViewer.PrintRequest.EventType.PrintFailed);}else{var rq=awJ(message.data);rq.index= +rq.index;rq.pageNumber= +rq.pageNumber;rq.totalPages= +rq.totalPages;bA.vt.adq= +rq.index+1;bA.vt.trigger(PCCViewer.PrintRequest.EventType.PrintPagePrepared,rq);}};Vv(window,'message',alA);Vv(gV,'load',adB);document.body.appendChild(gV);return QG;};function atz(bf){return function adV(aP){return bf.bv.fU(bf.cA.getPage(aP));};};function asB(bf){return function abG(options){var bz,h,tu=[],zR=[],ED={},GN={},yA={},eJ={},BG='',adh,dq,an,Ja,bG,Fk,aM,amU={},Gz={},R=0,du=0,bM=0,aqq=function(a,b){return a-b;};if(options.includeComments!=='none'||options.includeReasons!=='none'){bz=bf.getAllMarks();for(R=0;R<options.pages.length;R++){amU[options.pages[R]]=true;}for(du=0;du<bz.length;du++){h=bz[du];aM=h.aM;if(options.includeReasons!=='none'&&h.getReason){BG=h.getReason();if(BG){if(!yA[aM]){eJ[BG]=1;yA[aM]=eJ;eJ={};}else{if(yA[aM][BG]){yA[aM][BG]+=1;}else{yA[aM][BG]=1;}}}}if(h.nI||h.ao.search("Redaction")!== -1){if(Gz[aM]){Gz[aM]+=1;}else{Gz[aM]=1;}}if(options.range.length&&amU[aM]!==true|| !options.includeRedactions&&h.nI|| !options.includeAnnotations&& !h.nI){continue;}dq=h.getConversation();if(dq&&dq.getComments().length){if(!Ja){Ja=aM;}else if(aM!==Ja){tu.sort(aqq);for(bM=0;bM<tu.length;bM++){zR=zR.concat(ED[tu[bM]]);}GN[Ja]=zR;Ja=aM;tu=[];ED={};zR=[];}an=bf.getCharacterIndex(h);adh=aM;bG=h.L.get_boundingRectangle();Fk=(an>0)?an*10000+bG.y:bG.y;tu.push(Fk);if(!ED[Fk]){ED[Fk]=[dq];}else{ED[Fk].push(dq);}}}if(tu.length){tu.sort(function(a,b){return a-b;});for(R=0;R<tu.length;R++){zR=zR.concat(ED[tu[R]]);}GN[adh]=zR;}}return{GN:GN,yA:yA,Gz:Gz};};};function avM(bf){return function(){if(bf&&bf.bv){bf.bv.remove_markChanged(bf.ni);}};};function VR(bf){return function(){if(bf&&bf.bv){bf.bv.add_markChanged(bf.ni);}};};function print(options){options=options||{};options.range=options.range||'all';options.orientation=(options.orientation&&options.orientation.toLowerCase()==='landscape')?'landscape':'portrait';options.paperSize=options.paperSize||'letter';options.margins=(options.margins&&options.margins.toLowerCase()==='none')?'none':'default';options.includeMarks=options.includeMarks!==undefined?(! !options.includeMarks&&this.canPrintMarks()):undefined;options.includeAnnotations=options.includeAnnotations!==undefined?(! !options.includeAnnotations&&this.canPrintMarks()):undefined;options.includeRedactions=options.includeRedactions!==undefined?(! !options.includeRedactions&&this.canPrintMarks()):undefined;options.includeComments=(options.includeComments)?options.includeComments:'none';options.includeReasons=(options.includeReasons)?options.includeReasons:'none';options.redactionViewMode=(options.redactionViewMode)?options.redactionViewMode:'Normal';if(options.includeAnnotations===undefined){options.includeAnnotations=options.includeMarks;}if(options.includeRedactions===undefined){options.includeRedactions=options.includeMarks;}var da=PCCViewer.Util.convertPageRangeToArray(options.range.toString().toLowerCase(),{upperLimit:this.getPageCount()});var rg=this.bA.imageHandlerUrl;var aoO=this.bA.documentID;var aps=this.ays;options.vsID=aoO;options.handler=rg;options.pages=da;var isOldIE= ! !navigator.appName.match('Microsoft');var isIE= ! !navigator.userAgent.match('Trident');var isSafari= ! !(navigator.userAgent.search('Safari')>=0&&navigator.userAgent.search('Chrome')<0);options.template=aps.replace(/{{viewingSessionId}}/g,options.vsID).replace(/{{handler}}/g,options.handler).replace(/{{pages}}/g,options.pages.join(',')).replace(/{{orientation}}/g,options.orientation).replace(/{{paperSize}}/g,options.paperSize).replace(/{{isIE}}/g,isIE.toString()).replace(/{{isSafari}}/g,isSafari.toString()).replace(/{{includeAnnotations}}/g,options.includeAnnotations).replace(/{{includeRedactions}}/g,options.includeRedactions).replace(/{{includeComments}}/g,options.includeComments).replace(/{{includeReasons}}/g,options.includeReasons).replace(/{{margins}}/g,options.margins).replace(/{{redactionViewMode}}/g,options.redactionViewMode).replace(/{{viewerAssetsPath}}/g,this.bA.viewerAssetsPath);options.encryption= ! !this.bA.encryption;if(isOldIE){options.algorithm=printAlgorithm.contentWindowContents;}var UU;function ax(){if(! !UU){UU();}};var vt=new PCCViewer.PrintRequest(options,da.length,ax,this);this.trigger(PCCViewer.EventType.PrintRequested,{printRequest:vt});options.vt=vt;options.adV=atz(this);options.abG=asB(this);options.aji=avM(this);options.aiE=VR(this);UU=asM(options);return vt;};function validatePrintRange(range){return PCCViewer.Util.validatePageRange(range.toString().toLowerCase(),{upperLimit:this.getPageCount()});};function canPrintMarks(){return(document.documentMode!==8);};var PrintRequest=function(options,totalPages,cancelFunc,that){this.bA=options;this.ax=cancelFunc;this.adq=0;PCCViewer.EventEmitter.extend(this);};PrintRequest.EventType={PrintPagePrepared:"PrintPagePrepared",PrintCompleted:"PrintCompleted",PrintCancelled:"PrintCancelled",PrintFailed:"PrintFailed"};PrintRequest.prototype.cancel=function(){this.ax();this.trigger(PCCViewer.PrintRequest.EventType.PrintCancelled);};PrintRequest.prototype.getOptions=function(){return{range:this.bA.pages.toString(),orientation:this.bA.orientation,paperSize:this.bA.paperSize,margins:this.bA.margins,includeMarks:this.bA.includeMarks,includeAnnotations:this.bA.includeAnnotations,includeRedactions:this.bA.includeRedactions,includeComments:this.bA.includeComments,includeReasons:this.bA.includeReasons,redactionViewMode:this.bA.redactionViewMode};};PrintRequest.prototype.getPageCount=function(){return this.bA.pages.length;};PrintRequest.prototype.getPreparedCount=function(){return this.adq;};if(Object.defineProperties){Object.defineProperties(PrintRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"pageCount":{enumerable:true,get:function(){return this.getPageCount();}},"preparedCount":{enumerable:true,get:function(){return this.getPreparedCount();}}});}var PrintControl=function(domElement,options){var abm=[];IPCC.J.aaF=true;options.includeAnnotations=options.includeAnnotations!=='false';options.includeRedactions=options.includeRedactions!=='false';domElement.className=domElement.className+' '+options.orientation;function AF(n){(window.parent)?window.parent.postMessage(n,'*'):window.opener.postMessage(n,'*');};function avQ(aM,GM){var hX=[];hX.push("pageNumber="+(1+aM));hX.push("index="+GM);hX.push("totalPages="+options.pages.length);return hX.join('&');};function ic(aM,GM,next){var aD={documentIdentifier:options.vsID,pageNumber:aM,viewFitType:IPCC.Web.UI.FitType.FullImage,imageHandlerUrl:options.handler,encryption:options.encryption};var iZ=document.createElement('div');iZ.className=options.paperSize+" ";iZ.className+=options.isIE?'pageIE':options.isSafari?'pageSafari':'page';iZ.id='printpage'+aM;if(options.margins==='none'){iZ.className+=' nomargins';}domElement.appendChild(iZ);var pv=IPCC.initializePageViewPlugin(iZ,aD);pv.set_debug(false);pv.set_requireRequestsOptimize(true);abm.push(pv);var vv=false;function IW(){AF(avQ(aM,GM));next();};pv.add_pageOpened(function(){var ah=pv.kL(),bU=pv.iY();var xl=(options.orientation==='portrait'&&ah>bU)||(options.orientation==='landscape'&&bU>ah);if(xl){pv.xl(90);}});pv.add_pageDisplayed(function(){if(!vv){IW();}});pv.add_textPageReady(function(){if(vv){pv.cn();IW();}});pv.add_pageOpenFailed(function(){AF('fail');});pv.add_textExtractionFailed(function(){if(vv){AF('fail');}});if(options.redactionViewMode){if(options.redactionViewMode.toLowerCase()==="draft"){pv.qh(true);}else if(options.redactionViewMode.toLowerCase()==="normal"){pv.qh(false);}}if(PCCViewer.ViewerControl.prototype.canPrintMarks()&&(options.includeAnnotations||options.includeRedactions)){var agU='loadArt'+aM;var rq={pageIndex:aM,callbackName:agU};window[agU]=function(bN){var nn,Ki,R,dq={},Rx={},AV='',mc,Fp,eJ,CB='';var Op=[];bN.Ct(function(h){if(h.get_type()===IPCC.Web.UI.MarkType.HighlightText){vv=true;}if(options.includeRedactions&&h.iy()){Op.push(h);}if(options.includeAnnotations&& !h.iy()){Op.push(h);}});var abt=new IPCC.Web.UI.ArtPage();IPCC.J.forEach(Op,function(h){h.lF(undefined);abt.addMark(h);});aD.artPage=abt;Rx=options.pagedConversations[aM+1];if(options.pagedConversations&&Rx&&options.includeComments==='followingPage'){nn=document.createElement('div');nn.className+='commentPage';nn.id='printcommentpage'+aM;if(options.margins==='none'){nn.className+=' nomargins';}Ki='<h1>Comments for Page {{pageNumber}}</h1><hr><div class="pageConversations">{{conversationList}}</div>';for(R=0;R<Rx.length;R++){dq=Rx[R];AV+=abR(dq,aM+1);}nn.innerHTML=Ki.replace('{{pageNumber}}',aM+1).replace('{{conversationList}}',AV);domElement.appendChild(nn);}Fp=options.pagedReasons[aM+1];if(options.pagedReasons&&Fp&&options.includeReasons==='followingPage'){mc=document.createElement('div');mc.className+='reasonPage';mc.id='printreasonpage'+aM;if(options.margins==='none'){mc.className+=' nomargins';}Ki='<h1>Redaction Reasons for Page {{pageNumber}}</h1>'+'<div class="redactionReasonPageHeader"><ul><li>Date: {{date}}</li><li>Number of Redactions on this Page: {{count}}</li></div><hr>'+'<div class="pageReasons">{{reasonList}}</div>';for(eJ in Fp){if(Fp.hasOwnProperty(eJ)){CB+=abo(eJ,Fp[eJ]);}}mc.innerHTML=Ki.replace('{{pageNumber}}',aM+1).replace('{{reasonList}}',CB).replace('{{date}}',ahh()).replace('{{count}}',options.pagedRedactionCount[aM+1]);domElement.appendChild(mc);}pv.openPage(aD);IPCC.J.forEach(Op,function(h){h.lF(bN);});};AF(JSON.stringify(rq));}else{pv.openPage(aD);}};function abR(dq,aM){var aie='',ib='',h=dq.getMark(),hi,cX,R;switch(h.L.iH()){case IPCC.Web.UI.MarkType.Rectangle:ib=(h.L.iy())?'Highlight Redaction ':'Rectangle Annotation';break;case IPCC.Web.UI.MarkType.Ellipse:ib='Ellipse Annotation';break;case IPCC.Web.UI.MarkType.RectangleRedaction:ib='Rectangle Redaction';break;case IPCC.Web.UI.MarkType.Line:ib=(h.oG==='None')?'Line Annotation':'Arrow Annotation';break;case IPCC.Web.UI.MarkType.Polyline:ib='Polyline Annotation';break;case IPCC.Web.UI.MarkType.Polygon:ib='Polygon Annotation';break;case IPCC.Web.UI.MarkType.Text:ib='Text Annotation';break;case IPCC.Web.UI.MarkType.Highlight:ib='Highlight Annotation';break;case IPCC.Web.UI.MarkType.Stamp:ib='Stamp Annotation';break;case IPCC.Web.UI.MarkType.HighlightText:ib='Highlight Text Annotation';break;case IPCC.Web.UI.MarkType.SignaturePath:ib='Signature Path';break;case IPCC.Web.UI.MarkType.Freehand:ib='Freehand Annotation';break;case IPCC.Web.UI.MarkType.SignatureText:ib='Signature Text';break;case IPCC.Web.UI.MarkType.TextLine:ib='Text Input Signature';break;case IPCC.Web.UI.MarkType.TextAreaSignature:ib='Text Area Signature';break;case IPCC.Web.UI.MarkType.SignatureImage:ib='Signature Image';break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:ib='Text Selection Redaction';break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:ib='Image Stamp Annotation';break;case IPCC.Web.UI.MarkType.ImageStampRedaction:ib='Image Stamp Redaction';break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:ib='Text Hyperlink Annotation';break;case IPCC.Web.UI.MarkType.Strikethrough:ib='Strikethrough Annotation';break;default:break;}hi=dq.getComments();for(R=0;R<hi.length;R++){cX=hi[R];aie+='<li>'+avZ({text:cX.getText(),createDate:cX.nC.aaj,pageNumber:aM+1})+'</li>';}return '<h3>'+ib+'</h3><ul>'+aie+'</ul>';};function avZ(cX){var gl=new Date(cX.createDate),Qz='{{month}}/{{day}}/{{year}} {{hour}}:{{minutes}}{{period}}'.replace('{{month}}',gl.getMonth()+1).replace('{{day}}',gl.getDate()).replace('{{year}}',gl.getFullYear()).replace('{{hour}}',(gl.getHours()<10?'0':'')+gl.getHours()).replace('{{minutes}}',(gl.getMinutes()<10?'0':'')+gl.getMinutes()).replace('{{period}}',gl.getHours()<12?'am':'pm');var ak=cX.text.replace(/</g,'&#60;').replace(/>/g,'&#62;').replace(/\n/g,'<br/>');return "{{comment}} - {{date}}".replace('{{comment}}',ak).replace('{{date}}',Qz);};function ahh(){var gl=new Date();return '{{month}}/{{day}}/{{year}}'.replace('{{month}}',gl.getMonth()+1).replace('{{day}}',gl.getDate()).replace('{{year}}',gl.getFullYear());};function abo(eJ,qO){eJ=eJ.replace(/</g,'&#60;').replace(/>/g,'&#62;').replace(/\n/g,'<br/>');var alR=(qO>1)?'times':'time';return '<li>"{{reason}}" occurs {{count}} {{times}}</li>'.replace('{{reason}}',eJ).replace('{{count}}',qO).replace('{{times}}',alR);};function awd(){window.onerror=function(ev){AF('fail');};function sync(funcs,done){var counter=funcs.length;var idx=0;var next=function(){if(--counter===0)done();else funcs[idx++](next);};funcs[idx++](next);};function aum(aM,GM){return function(next){ic(aM,GM,next);};};var funcs=[];for(var i=0;i<options.pages.length;i++){var aC= +options.pages[i]-1;funcs.push(aum(aC,i));}sync(funcs,function(){var nn,LP='',aC,DK='',AV='',dq,h,ajn='<h1>Comments</h1><hr>{{pageSections}}',mc,CB='',aCj='<h1>Redaction Reasons</h1><hr>{{pageSections}}';if(options.includeComments==='documentEnd'){for(aC in options.pagedConversations){if(options.pagedConversations.hasOwnProperty(aC)){if(!nn){nn=document.createElement('div');nn.className+=' commentPage';nn.id='printpage_comments';if(options.margins==='none'){nn.className+=' nomargins';}}LP='<div class="pageConversations"><h2>Page #{{pageNumber}}</h2><hr><ol>{{conversationList}}</ol></div>';AV='';for(var R=0;R<options.pagedConversations[aC].length;R++){dq=options.pagedConversations[aC][R];h=dq.getMark();AV+=abR(dq,h.pageNumber);}DK+=LP.replace('{{pageNumber}}',h.pageNumber).replace('{{conversationList}}',AV);if(AV.length){nn.innerHTML=ajn.replace('{{pageSections}}',DK);domElement.appendChild(nn);}}}}if(options.includeReasons==='documentEnd'){DK='';ajn='';LP='<div class="pageReasons"><h2>Page #{{pageNumber}}</h2><div class="redactionReasonPageHeader"><ul><li>Date: {{date}}</li><li>Number of Redactions on this Page: {{count}}</li></div><hr><ul>{{reasonList}}</ul></div>';for(aC in options.pagedReasons){if(options.pagedReasons.hasOwnProperty(aC)){if(!mc){mc=document.createElement('div');mc.className+='reasonPage';mc.id='printpage_reason';if(options.margins==='none'){mc.className+=' nomargins';}}CB='';for(var eJ in options.pagedReasons[aC]){if(options.pagedReasons[aC].hasOwnProperty(eJ)){CB+=abo(eJ,options.pagedReasons[aC][eJ]);}}DK+=LP.replace('{{pageNumber}}',aC).replace('{{reasonList}}',CB).replace('{{date}}',ahh()).replace('{{count}}',options.pagedRedactionCount[aC]);}}if(DK.length){mc.innerHTML=aCj.replace('{{pageSections}}',DK);domElement.appendChild(mc);}}AF('done');});};function aso(){window['extra']=function(bool,Is){options.encryption= ! !bool;options.pagedConversations=Is.GN;options.pagedReasons=Is.yA;options.pagedRedactionCount=Is.Gz;awd();window['extra']=function(){};};AF('extra');};function aEe(){var bN;IPCC.J.forEach(abm,function(aB){bN=aB.get_artPage();if(bN){bN.removeAllMarks();}aB.dispose();bN=undefined;});};window['destroy']=aEe;aso();};module.exports={PrintRequest:PrintRequest,PrintControl:PrintControl,print:print,validatePrintRange:validatePrintRange,canPrintMarks:canPrintMarks};},{}],159:[function(require,module,exports){var aBz={Draft:"Draft",Normal:"Normal"};module.exports=aBz;},{}],160:[function(require,module,exports){var Revision=function(){this.cc=0;this.vl=0;this.ao='';};Revision.prototype.getId=function(){return this.cc;};Revision.prototype.getEndPageNumber=function(){return this.vl;};Revision.prototype.getType=function(){return this.ao;};if(Object.defineProperties){Object.defineProperties(Revision.prototype,{"endPageNumber":{enumerable:true,get:function(){return this.vl;}},"id":{enumerable:true,get:function(){return this.cc;}},"type":{enumerable:true,get:function(){return this.ao;}}});}Revision.Type={ContentInserted:"ContentInserted",ContentDeleted:"ContentDeleted",PropertyChanged:"PropertyChanged",ParagraphNumberChanged:"ParagraphNumberChanged",FieldDisplayChanged:"FieldDisplayChanged",RevisionMarkedAsReconciledConflict:"RevisionMarkedAsReconciledConflict",RevisionMarkedAsConflict:"RevisionMarkedAsConflict",StyleChanged:"StyleChanged",ContentReplaced:"ContentReplaced",ParagraphPropertyChanged:"ParagraphPropertyChanged",TablePropertyChanged:"TablePropertyChanged",SectionPropertyChanged:"SectionPropertyChanged",StyleDefinitionChanged:"StyleDefinitionChanged",ContentMovedFrom:"ContentMovedFrom",ContentMovedTo:"ContentMovedTo",TableCellInserted:"TableCellInserted",TableCellDeleted:"TableCellDeleted",TableCellsMerged:"TableCellsMerged",Unknown:"Unknown"};module.exports=Revision;},{}],161:[function(require,module,exports){var IJ=function(bA){var jY=new PCCViewer.RevisionsRequest(true);function awU(ao){for(var Yz in PCCViewer.Revision.Type){if(PCCViewer.Revision.Type.hasOwnProperty(Yz)){if(Yz.toLowerCase()===ao.toLowerCase()){return PCCViewer.Revision.Type[Yz];}}}return PCCViewer.Revision.Type.Unknown;};function avO(hC,as){var xm=[];if(hC.changes&&hC.changes.length){xm=hC.changes.map(function(Ub){var MQ=new PCCViewer.Revision();MQ.cc=Ub.id;MQ.vl=Ub.endPageIndex+1;MQ.ao=awU(Ub.type);return MQ;});}return xm;};function atU(PU){var TA=PU?'&continueToken='+PU:'';var anA=bA.imageHandlerUrl+'/v2/viewingSessions/'+bA.documentID;return anA+'/revisionData?limit=100'+TA;};function agx(PU){var ai=PCCViewer.Deferred();var ab=atU(PU);PCCViewer.Ajax.et({url:ab,method:'GET'}).then(function en(ar){var dp=JSON.parse(ar.responseText);var BS=dp.continueToken;var xm=avO(dp,jY.Il.length);jY.Il=jY.Il.concat(xm);if(BS){if(xm.length){jY.trigger(PCCViewer.EventType.PartialRevisionsAvailable,{partialRevisions:xm});}setTimeout(function(){agx(BS);},dp.continueAfter||0);}else{if(xm.length){jY.trigger(PCCViewer.EventType.PartialRevisionsAvailable,{partialRevisions:xm});}jY.trigger(PCCViewer.EventType.RevisionsAvailable,{completedRevisions:jY.getRevisions()});jY.trigger(PCCViewer.EventType.RevisionsRetrievalCompleted,{completedRevisions:jY.getRevisions()});}ai.resolve();},function eo(bC){var fv='RequestFailed';var cJ='The request to get revisions failed.';var ng=bC.response.responseText?JSON.parse(bC.response.responseText):'';var kU=bC.response.status;if(ng&&(kU===580||(kU===480&&ng.errorCode==='DocumentNotProvidedYet'))){fv=ng.errorCode;}jY.fv=fv;jY.cJ=cJ;jY.trigger(PCCViewer.EventType.RevisionsRetrievalFailed,{errorMessage:jY.getErrorMessage()});jY.trigger(PCCViewer.EventType.RevisionsRetrievalCompleted,{completedRevisions:jY.getRevisions()});ai.reject(bC.error);});};this.azh=function(){setTimeout(function(){agx();},0);return jY;};};var RevisionsRequest=function(ws){this.Il=[];this.fv=null;this.cJ=null;if(Object.defineProperties){Object.defineProperties(this,{"revisions":{configurable: ! !ws,enumerable:true,get:function(){return this.Il;}},"errorCode":{configurable: ! !ws,enumerable:true,get:function(){return this.fv;}},"errorMessage":{configurable: ! !ws,enumerable:true,get:function(){return this.cJ;}}});}PCCViewer.EventEmitter.extend(this);};RevisionsRequest.prototype.getRevisions=function(){return this.Il;};RevisionsRequest.prototype.getErrorCode=function(){return this.fv;};RevisionsRequest.prototype.getErrorMessage=function(){return this.cJ;};module.exports={RevisionsRequest:RevisionsRequest,IJ:IJ};},{}],162:[function(require,module,exports){var Bo={Pinch:"Pinch",Zoom:"Zoom",Fit:"Fit",ViewMode:"ViewMode"};module.exports=Bo;},{}],163:[function(require,module,exports){var _Search=function(){this.bo='';this.GG={};this.ds={};this.My=0;this.ap=new PCCViewer.SearchRequest();var F=this;this.Rs=function(){var OE=[];for(var R=0;R<F.GG.searchTerms.length;R++){var bo=F.GG.searchTerms[R];var oE=IPCC.J.NG(bo.type);var PQ;switch(oE){case 'proximity':var wS={wz:bo,ds:[],type:bo.type,highlightColor:this.abQ(bo.highlightColor),distance:bo.distance,contextPadding:bo.contextPadding};for(var x=0;x<bo.terms.length;x++){var VN=bo.terms[x];PQ=this.ahw(VN);wS.ds=wS.ds.concat(PQ);}OE.push(wS);break;default:PQ=this.ahw(bo);OE=OE.concat(PQ);break;}}return OE;};this.ahw=function(bo){var ey=[];var ds={};if(bo.matchingOptions.exactPhrase===false&&bo.searchTermIsRegex===false){var AM=bo.searchTerm.split(' ');for(var bM=0;bM<AM.length;bM++){ds={};if(AM[bM].length<0){continue;}ds.searchText=AM[bM];ds.wz=bo;if(bo.matchingOptions.matchWholeWord){ds.searchTerm=this.alb(this.BB(AM[bM]),bo.matchingOptions);}else{if(bo.matchingOptions.wildcard===true){ds.searchTerm=this.aiP(this.BB(AM[bM]),bo.matchingOptions);}else if(bo.matchingOptions.beginsWith===true||bo.matchingOptions.endsWith===true){ds.searchTerm=this.ajF(this.BB(AM[bM]),bo.matchingOptions);}else{ds.searchTerm=this.acr(AM[bM],bo.matchingOptions,false);}}ds.highlightColor=this.abQ(bo.highlightColor);ey.push(ds);}}else{ds={};ds.searchText=bo.searchTerm;ds.wz=bo;if(bo.matchingOptions.matchWholeWord){ds.searchTerm=this.alb(this.BB(bo.searchTerm),bo.matchingOptions);}else{if(bo.matchingOptions.wildcard===true){ds.searchTerm=this.aiP(this.BB(bo.searchTerm),bo.matchingOptions);}else if(bo.matchingOptions.beginsWith===true||bo.matchingOptions.endsWith===true){ds.searchTerm=this.ajF(this.BB(bo.searchTerm),bo.matchingOptions);}else{ds.searchTerm=this.acr(bo.searchTerm,bo.matchingOptions,bo.searchTermIsRegex);}}ds.highlightColor=this.abQ(bo.highlightColor);ey.push(ds);}return ey;};this.alb=function(tj,yg){var EV=new RegExp('\\b'+tj+'\\b',this.Gq(yg.matchCase));return EV;};this.ajF=function(tj,yg){if(yg.beginsWith){return new RegExp("\\b"+tj+'(\\w+)',this.Gq(yg.matchCase));}if(yg.endsWith){tj=tj.replace("*","");return new RegExp('(\\w+)'+tj+"\\b",this.Gq(yg.matchCase));}};this.BB=function(tj){return tj.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");};this.aiP=function(rv,yg){rv=rv.replace(/[*]{2,}/g,'*').replace(/(\\\*){2,}/g,'\\*');if(rv==='\\*'){var ct=new Error('The search term must contain one or more non-wildcard characters.');ct.aBc=true;throw ct;}var regexFlags='gim';if(yg.matchCase){regexFlags='gm';}rv=rv.replace(/\*/g,'\S*');rv=rv.replace(/\?/g,'\S');var EV=new RegExp('(\\s|^)'+rv+'(?=\\s|$)',regexFlags);return EV;};this.WM=function(tj){return tj.replace(/\ /g,'\\s+');};this.acr=function(OK,matchingOptions,isRegex){var tw='';if(isRegex===true){tw=this.WM(OK);}else if(matchingOptions.wildcard===true){tw=OK.replace(/[-[\]{}()+,^$|#]/g,"\\$&");tw=this.WM(tw);}else if(matchingOptions.exactPhrase){tw=OK.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");tw=this.WM(tw);}else{tw=OK.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");}var aBB=tw.replace(/'/g,'[\'|‘|’]').replace(/"/g,'["|“|”]');return new RegExp(aBB,this.Gq(matchingOptions.matchCase));};this.Gq=function(matchCase){if(matchCase){return 'gm';}else{return 'igm';}};this.aIn=function(rv){var EV=new RegExp('\\b'+rv+'\\b',F.Gq());return EV;};var aaq=["#1c86ee","#ff8c00","#9932cc","#FFBA00","#00c5cd","#ee3a8c","#4169e1","#00cd00","#6959cd","#ff4500"];this.abQ=function(cD){if(!cD){return aaq[F.My++ %aaq.length];}else{return cD;}};this.SJ=function(ez){if(typeof ez==='string'){ez={searchTerms:[{searchTerm:ez,highlightColor:undefined,contextPadding:25,searchTermIsRegex:false,matchingOptions:{exactPhrase:true,matchCase:false,matchWholeWord:false,beginsWith:false,endsWith:false,wildcard:false}}]};return ez;}IPCC.J.forEach(ez.searchTerms,function(bo){if(!bo.matchingOptions){bo.matchingOptions={};}var oE=IPCC.J.NG(bo.type);switch(oE){case 'proximity':IPCC.J.forEach(bo.terms,function(VN){F.ajO(VN);});break;default:F.ajO(bo);break;}});return ez;};this.ajO=function(bo){if(typeof bo.contextPadding==="undefined"){bo.contextPadding=25;}if(typeof bo.searchTermIsRegex==="undefined"){bo.searchTermIsRegex=false;}if(typeof bo.matchingOptions==="undefined"){bo.matchingOptions={};}if(!bo.matchingOptions.hasOwnProperty('matchCase')){bo.matchingOptions.matchCase=false;}if(!bo.matchingOptions.hasOwnProperty('exactPhrase')){bo.matchingOptions.exactPhrase=true;}if(!bo.matchingOptions.hasOwnProperty('matchWholeWord')){bo.matchingOptions.matchWholeWord=false;}if(!bo.matchingOptions.hasOwnProperty('beginsWith')){bo.matchingOptions.beginsWith=false;}if(!bo.matchingOptions.hasOwnProperty('endsWith')){bo.matchingOptions.endsWith=false;}if(!bo.matchingOptions.hasOwnProperty('wildcard')){bo.matchingOptions.wildcard=false;}if(typeof bo.highlightColor!=='undefined'){try{IPCC.aV.cD(bo.highlightColor,"selectText");}catch(e){bo.highlightColor=undefined;}}};this.arY=function(){return F.ds;};this.aaf=function(e){F.ap.cJ=e.message;F.ap.fv="1010";F.ap.uZ=true;setTimeout(function(){F.ap.trigger("SearchFailed",{errorMessage:(e.message)});},10);setTimeout(function(){F.ap.trigger("SearchCompleted",{completedSearchResults:(F.sm)});},10);return F.ap;};this.uf=function(ez,bE){this.ds={};this.GG=ez;this.bo=ez;this.My=0;var uf=new PCCViewer.NM();try{F.ds=this.Rs();return uf.Zd(bE,F.ds,ez,F.ap);}catch(e){return F.aaf(e);}};this.Dz=function(ez,bE){this.ds={};this.GG=ez;this.bo=ez;this.My=0;var Dz=new PCCViewer.Va();try{F.ds=this.Rs();return Dz.Zd(bE,F.ds,ez,F.ap);}catch(e){return F.aaf(e);}};};_Search.prototype.zY=function(searchQuery){this.ds={};this.ap=new PCCViewer.SearchRequest();this.GG=searchQuery;this.ap.ez=searchQuery;this.bo=searchQuery;this.My=0;return this.ap;};var SearchTask=function(searchQuery){this.adm(searchQuery);var _search=new PCCViewer._Search();searchQuery=_search.SJ(searchQuery);this.ap=_search.zY(searchQuery);try{_search.ds=_search.Rs();}catch(e){if(e.aBc){throw new Error(e.message);}else{throw new Error(e.message);}}var uf=new PCCViewer.NM();this.search=function(text){uf.sm=[];uf.bO=0;uf.ds=_search.ds;uf.apP(text);return uf.sm;};};SearchTask.prototype.adm=function(searchQuery){if(typeof searchQuery==='string'){return;}var zv;if(searchQuery&&searchQuery.searchTerms&&Object.prototype.toString.call(searchQuery.searchTerms)==='[object Array]'){zv=searchQuery.searchTerms;}else{throw new Error('The `searchQuery` parameter is not a string, or a search terms array was not present in the search query.');}IPCC.J.forEach(zv,function(vQ,R){var oE=vQ.type?IPCC.J.trim(vQ.type).toLowerCase():undefined;switch(oE){case 'proximity':IPCC.J.forEach(vQ.terms,function(ayH,aa){if(!alm(ayH)){throw new Error("Search term index "+aa+" under Proximity search term index "+R+" does not have a valid `searchTerm` string property.");}});break;default:if(!alm(vQ)){throw new Error("Search term index "+R+" does not have a valid `searchTerm` string property.");}break;}});function alm(vQ){return(typeof vQ.searchTerm==='string');}};module.exports={_Search:_Search,SearchTask:SearchTask};},{}],164:[function(require,module,exports){function aqB(ez){var zv=ez.map(function(bo,amg){if(bo.type==='proximity'){return{type:'proximity',distance:bo.distance,subTerms:bo.ds.map(function(abK){return{pattern:abK.searchTerm.source,caseSensitive:abK.wz.matchingOptions.matchCase};}),termId:amg.toString(),contextPadding:bo.contextPadding};}return{type:'simple',pattern:bo.searchTerm.source,caseSensitive:bo.wz.matchingOptions.matchCase,termId:amg.toString(),contextPadding:bo.contextPadding};});return{input:{searchTerms:zv}};};var Va=function(){var F=this;var zY,BS,ajr;var LQ=[];this.Ad=false;this.Av={};this.zV=[];function ari(){var TA=BS?'&continueToken='+BS:'';return F.bE.rC+'/v2/searchTasks/'+zY.processId+'/results?limit=100'+TA;};function aFC(ey){var Qe=F.Av.input.searchTerms.reduce(function(ra,vQ){ra[vQ.termId]=F.ds[vQ.termId];return ra;},{});return ey.map(function(bC){var eC=new PCCViewer.SearchResult();if(F.ds[0].wz.matchingOptions.wildcard&&(bC.text[0]===" "||bC.text[0]==="\n")){bC.text=bC.text.substring(1);bC.startIndex+=1;bC.startIndexInContext+=1;}eC.nj=bC.boundingRectangle;eC.cl=bC.context;eC.xt=bC.startIndexInContext;eC.nu=bC.id;eC.ds=F.ds;eC.bj=bC.lineRectangles;eC.gw=bC.pageData;eC.qn=bC.startIndex;eC.ak=bC.text;eC.aM=bC.pageIndex+1;eC.cc=bC.id;eC.Hs=F.bE.get_documentIdentifier();eC.bo=Qe[bC.searchTerm.termId].wz;eC.qH=Qe[bC.searchTerm.termId].highlightColor;return eC;});};function pF(JV,aab){switch(JV){case 'failed':setTimeout(function(){F.ap.trigger(PCCViewer.EventType.SearchFailed,aab);},10);break;case 'complete':F.ap.Xw=F.zV;F.ap.uZ=true;setTimeout(function(){F.ap.trigger(PCCViewer.EventType.SearchResultsAvailable,{completedSearchResults:(F.ap.getResults())});},10);break;case 'cancelled':break;}setTimeout(function(){F.ap.trigger(PCCViewer.EventType.SearchCompleted,{completedSearchResults:(F.ap.getResults())});},10);};function aAW(lO){var ab=F.bE.rC+'/v2/viewingSessions/'+encodeURIComponent(F.bE.get_documentIdentifier())+'/searchTasks';function en(ar){var bC=JSON.parse(ar.responseText);zY=bC;if(LQ.length){LQ.forEach(function(wK){wK();});}LQ=[];lO();};function eo(bP){F.ap.off('SearchCancelled',F.afw);F.ap.cJ='The request to create a search task failed.';var ayo=bP&&bP.response&&bP.response.status===501;var axp=bP&&bP.response&&bP.response.status===480&&(function(axA){try{return JSON.parse(axA).errorCode==='FeatureDisabled';}catch(e){return false;}}(bP.response.responseText));if(ayo||axp){F.ap.fv='ServerSearchUnavailable';F.ap.cJ='Server-side search is not available.';pF('failed',{errorMessage:F.ap.cJ});return;}pF('failed',{errorMessage:F.ap.cJ});};PCCViewer.Ajax.et({url:ab,method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(F.Av)}).then(en,eo);};function NI(lO){var ab=ari();var hc={};if(zY.affinityToken){hc['Accusoft-Affinity-Token']=zY.affinityToken;}if(!F.Ad){return;}function en(ar){if(!F.Ad){return;}var bC=JSON.parse(ar.responseText);var Wp=aFC(bC.results);F.zV=bC.pagesWithoutText;F.ap.ey.push.apply(F.ap.ey,Wp);if(Wp.length){setTimeout(function(){IPCC.J.forEach(Wp.reduce(function(ra,bC){var cr=bC.aM;if(!ra[cr]){ra[cr]=[];}ra[cr].push(bC);return ra;},{}),function(ey,cr){F.ap.trigger('PartialSearchResultsAvailable',{partialSearchResults:ey,pagesWithoutText:F.zV});});},10);}if(bC.continueToken){BS=bC.continueToken;ajr=bC.continueAfter;lO();}else if(F.Ad){pF('complete');}};function eo(bC){if(!F.Ad){return;}F.Ad=false;F.ap.cJ='The request to poll the search task failed.';F.ap.uZ=true;pF('failed',{errorMessage:F.ap.cJ});};PCCViewer.Ajax.et({method:'GET',url:ab,headers:hc}).then(en,eo);};function awh(){(function avi(){setTimeout(function(){NI(avi);},ajr||0);}());};function afw(){pF('cancelled');F.Ad=false;function agG(){};if(!zY){LQ.push(agG);return;}agG();};this.Zd=function(bE,ds,ez,ap){F.bE=bE;F.ds=ds;F.ap=ap;F.ap.ez=ez;F.Av=aqB(F.ds);F.Ad=true;F.ap.on('SearchCancelled',afw);aAW(function(){awh();});return F.ap;};};module.exports=Va;},{}],165:[function(require,module,exports){var ObservableCollection=require('./PCCViewer.ObservableCollection');function aeT(clientBB){this.top=clientBB.top;this.bottom=clientBB.bottom;this.left=clientBB.left;this.right=clientBB.right;this.width=clientBB.width||clientBB.right-clientBB.left;this.height=clientBB.height||clientBB.bottom-clientBB.top;};function vL(x,y){this.x=x;this.y=y;this.getDistance=function(point){var x=point.x-this.x,y=point.y-this.y,d=x*x+y*y,squared=false;return squared?d:Math.sqrt(d);};this.equals=function(point){return this===point||point&&(this.x===point.x&&this.y===point.y)||false;};this.close=function(point){return this.getDistance(point)<4;};this.clone=function(){return new vL(this.x,this.y);};};function Uj(aK){return(aK&&aK.nodeType===1);};function OY(gE,Js){var QD=(Js&&IPCC.J.Fr)?'m':'M';var Xp=(Js&&IPCC.J.Fr)?'l':'L';return IPCC.J.map(gE,function(el,i){if(i===0){return QD+el.x+','+el.y;}else{return Xp+el.x+','+el.y;}}).join('');};function adf(cl,nQ,fL){return function(bP){if(IPCC.J.BK&&bP.type.match('mouse')){bP.preventDefault();bP.stopPropagation();return false;}if(bP.preventDefault){bP.preventDefault();}else{bP.returnValue=false;}var x,y;if(bP.changedTouches){var hs=bP.changedTouches[0];if(bP.type==='touchstart'){nQ=bP.target.getBoundingClientRect();}else if(bP.type==='touchend'){fL&&fL();return;}x=hs.clientX-nQ.left;y=hs.clientY-nQ.top;}else{x=bP.clientX-nQ.left;y=bP.clientY-nQ.top;}var aG=new vL(x,y);cl.gE.push(aG);var rm=OY(cl.gE);if(IPCC.J.Fr){cl.gz.path=rm.toLowerCase();}else{cl.gz.setAttribute('d',rm);}fL&&fL();};};function aDK(points){var BV=3,bX='',rO;var qs=(points.length<BV)?points:IPCC.J.filter(points,function(el){if(rO&&rO.close(el)){return false;}else{rO=el;return true;}});if(qs.length<BV){qs=[points[0],points[points.length-1]];}rO=undefined;if(qs.length<BV){bX+=OY(qs);}else{bX='M'+IPCC.J.bspline(qs);bX=bX.replace(/\d*\.?\d*/g,function(aJ){var HO=aJ.indexOf('.');if(aJ.length&&HO>0){return aJ.substr(0,HO+3);}else if(aJ!==""){return aJ;}else{return aJ;}});}return bX;};function SignatureControl(dom){var F=this;if(typeof dom==='string'){this.aF=document.querySelector(dom);if(!(Uj(this.aF))){throw new Error('The query selector "'+dom+'" did not match any DOM element.');}}else if(Uj(dom)){this.aF=dom;}else{throw new Error('The SignatureControl target is not a valid DOM element.');}this.IQ=[];this.nQ=new aeT(this.aF.getBoundingClientRect());this.fD=IPCC.J.zM.SVG([0,0,this.nQ.width,this.nQ.height].join(' '));this.aF.appendChild(this.fD);function DC(ev){var gz=IPCC.J.zM.Path(undefined,{width:2000,height:2000,color:'black',thickness:4});F.fD.appendChild(gz);var cl={gE:[],gz:gz,fL:function(){F.IQ.push(cl.gE);IPCC.J.removeEvent(F.aF,'mousemove',Cy);IPCC.J.removeEvent(F.aF,'mouseup',CZ);if(IPCC.J.BK){IPCC.J.removeEvent(F.aF,IPCC.J.nJ['move'],Cy);IPCC.J.removeEvent(F.aF,IPCC.J.nJ['up'],CZ);}if(IPCC.J.JR){IPCC.J.removeEvent(F.aF,'touchmove',Cy);IPCC.J.removeEvent(F.aF,'touchend',CZ);}}};var Cy=adf(cl,F.nQ);var CZ=adf(cl,F.nQ,cl.fL);Cy(ev);IPCC.J.addEvent(F.aF,'mousemove',Cy);IPCC.J.addEvent(F.aF,'mouseup',CZ);if(IPCC.J.BK){IPCC.J.addEvent(F.aF,IPCC.J.nJ['move'],Cy);IPCC.J.addEvent(F.aF,IPCC.J.nJ['up'],CZ);}if(IPCC.J.JR){IPCC.J.addEvent(F.aF,'touchmove',Cy);IPCC.J.addEvent(F.aF,'touchend',CZ);}};IPCC.J.addEvent(F.aF,'mousedown',DC);if(IPCC.J.BK){this.aF.style['-ms-touch-action']='none';this.aF.style['touch-action']='none';IPCC.J.addEvent(F.aF,IPCC.J.nJ['down'],DC);}if(IPCC.J.JR){IPCC.J.addEvent(F.aF,'touchstart',DC);}this.TC=function(){F.nQ=new aeT(F.aF.getBoundingClientRect());F.fD.setAttribute('viewBox',[0,0,F.nQ.width,F.nQ.height].join(' '));};IPCC.J.addEvent(window,'resize',this.TC);this.ajh=function(){IPCC.J.removeEvent(window,'resize',F.TC);IPCC.J.removeEvent(F.aF,'mousedown',DC);if(IPCC.J.BK){IPCC.J.removeEvent(F.aF,IPCC.J.nJ['down'],DC);}if(IPCC.J.JR){IPCC.J.removeEvent(F.aF,'touchstart',DC);}while(F.aF.firstChild){F.aF.removeChild(F.aF.firstChild);}};};SignatureControl.prototype.done=function(){var lo,kv,mC,nt,rm='M0,0',afV=this;IPCC.J.forEach(afV.IQ,function(pq){IPCC.J.forEach(pq,function(p){if(lo===undefined||lo>p.x){lo=p.x;}if(kv===undefined||kv>p.y){kv=p.y;}if(mC===undefined||mC<p.x){mC=p.x;}if(nt===undefined||nt<p.y){nt=p.y;}});});IPCC.J.forEach(afV.IQ,function(pq){var aDS=IPCC.J.map(pq,function(p){return new vL(p.x-lo,p.y-kv);});rm+=aDK(aDS);});this.ajh();return{type:'path',path:rm,width:(mC-lo)||0,height:(nt-kv)||0};};SignatureControl.prototype.resize=function(){this.TC();return this;};SignatureControl.prototype.clear=function(){var svg=this.fD;while(svg&&svg.firstChild){svg.removeChild(svg.firstChild);}this.IQ=[];return this;};SignatureControl.prototype.undo=function(){if(this.fD.lastChild){this.fD.removeChild(this.fD.lastChild);}this.IQ.pop();return this;};SignatureControl.prototype.cancel=function(){this.ajh();return this;};var Signatures=new ObservableCollection();var SignatureDisplay=function(domElement,signature){function handleSignatureAsPath(){if(!signature.path||signature.path.match(/[^MLC0-9.,\s]/)){throw new Error('A valid path is required in the signature object.');}var qG=IPCC.J.aav(signature.path);var fD=IPCC.J.zM.SVG([0,0,qG.width,qG.height].join(' '));var gz=IPCC.J.zM.Path(signature.path,{width:qG.width,height:qG.height,color:'black',thickness:4});if(IPCC.J.Fr){var aEL=(qG.height/qG.width)*100;fD.style.width=gz.style.width='100%';fD.style.height=gz.style.height='0px';fD.style.paddingBottom=gz.style.paddingBottom=aEL+'%';}else{fD.style.width='100%';fD.style.maxHeight='100%';fD.setAttribute('preserveAspectRatio','xMinYMin meet');}fD.appendChild(gz);domElement.appendChild(fD);return{width:qG.width,height:qG.height,clear:function(){domElement.removeChild(fD);}};};function handleSignatureAsText(){if(!signature.text||typeof signature.text!=='string'){throw new Error('The signature text is not a valid string.');}var iZ=document.createElement('div');var nx=document.createTextNode(signature.text);var ig=(typeof signature.fontName==='string')?signature.fontName:'serif';iZ.appendChild(nx);iZ.style.textAlign='center';iZ.style.fontFamily='"'+ig+'", cursive';iZ.style.fontSize='2.5em';iZ.style.overflow='hidden';domElement.appendChild(iZ);var qG=IPCC.J.uj(signature.text,ig);return{width:qG.width,height:qG.height,clear:function(){domElement.removeChild(iZ);}};};if(!Uj(domElement)){throw new Error('The `domElement` parameter is not a valid HTMLElement.');}else if(!signature){throw new Error('The `signature` parameter is required.');}else if(signature.path){return handleSignatureAsPath();}else if(signature.text){return handleSignatureAsText();}else{throw new Error('The signature provided does not have a known type.');}};module.exports={SignatureControl:function(dom){return new SignatureControl(dom);},SignatureDisplay:SignatureDisplay,Signatures:Signatures};},{"./PCCViewer.ObservableCollection":155}],166:[function(require,module,exports){var Vm=function(){},kU={afg:0,ayI:1,auA:2};var ThumbnailControl=function(domElement,viewerControl){if(!domElement|| !IPCC.J.uY(domElement)){throw new Error('The "domElement" parameter is not a valid HTML Element');}if(!viewerControl|| !(viewerControl instanceof PCCViewer.ViewerControl)){throw new Error('The "viewerControl" parameter is not a valid PCCViewer.ViewerControl object');}var F=this;this.kU=kU.afg;this.bA=viewerControl.bA;this._debug= ! !this.bA.debug;this.aGh="Single";this.It=[];this.pR={};if(!this.bf){this.bf=viewerControl;}else{throw new Error("This instance of thumbnail already is attached to a ViewerControl.");}PCCViewer.EventEmitter.extend(this);this.aq=domElement;if(viewerControl.nm){F.kU=kU.auA;F.WI(viewerControl.getPageCount());F.XF(F.aq);}else{F.kU=kU.ayI;F.WI(1,0);viewerControl.on('PageCountReady',function(){F.WI(viewerControl.getPageCount(),1);F.XF(F.aq);});}viewerControl.on('PageRotated',function(bP){IPCC.J.forEach(F.pR,function(bD){if(bD.aP===(bP.pageNumber-1)){if(bD.yN===true){F.ZW(bD);}}});});viewerControl.on('DocumentRotated',function(bP){IPCC.J.forEach(F.pR,function(bD){if(bD.yN===true){F.ZW(bD);}});});};ThumbnailControl.prototype.getViewerControl=function(){return this.bf;};ThumbnailControl.prototype.WI=function(eD,fR){fR=fR||0;var F=this,JB=document.createDocumentFragment();for(var i=fR;i<eD;i++){var _parent=document.createElement('div');_parent.className='pccThumbnailWrapper';var fi=document.createElement('div');fi.className='pccThumbnail';var qm=document.createElement('div');qm.className='pccThumbnailView';qm.id='pcc-thumbnailPage-'+i+'-'+IPCC.vY();fi.appendChild(qm);_parent.appendChild(fi);JB.appendChild(_parent);F.pR[i]={SY:_parent,aF:fi,qm:qm,aP:i,aB:{},yN:false,ix:0,ih:0,hw:0};}IPCC.J.forEach(F.pR,function(bD){var aae=document.createElement('div'),uo=document.createElement('span'),aBu=document.createTextNode(bD.aP+1);aae.className='pccThumbnailLabel';uo.appendChild(aBu);aae.appendChild(uo);bD.aF.appendChild(aae);bD.aF.onclick=function(){F.alO([bD.aP+1]);};});F.aq.appendChild(JB);this.Ud();return this;};ThumbnailControl.EventType={PageSelectionChanged:"PageSelectionChanged"};ThumbnailControl.prototype.getSelectedPages=function getSelectedPages(){if(!this.kU){return[];}return[].concat(this.It);};ThumbnailControl.prototype.setSelectedPages=function setSelectedPages(pageNumbers){if(!this.kU){return this;}var eD=this.bf.getPageCount();if(typeof pageNumbers==='number'){pageNumbers=[pageNumbers];}else if(Object.prototype.toString.call(pageNumbers)!=='[object Array]'){throw new Error(pageNumbers+' is not a number or an array of numbers');}IPCC.J.forEach(pageNumbers,function(hF,R){if(isNaN(hF)){throw new Error(hF+' (array index '+R+') is not a number');}if(hF<1||hF>eD){throw new Error(hF+' (array index '+R+') is out of range');}});this.alO([].concat(pageNumbers).sort());return this;};if(Object.defineProperties){Object.defineProperties(ThumbnailControl.prototype,{"selectedPages":{enumerable:true,get:function(){return this.getSelectedPages();},set:function(pageNumbers){return this.setSelectedPages(pageNumbers);}},"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}},"visiblePages":{emunerable:true,get:function(){return this.getVisiblePages();}}});}ThumbnailControl.prototype.scrollTo=function(pageNumber,options){var hF=Number(pageNumber);if(hF!==(hF|0)||hF<1||hF>this.bf.getPageCount()){throw new Error(pageNumber+' is not a valid page number');}var mA=false,F=this,bA=options||{};IPCC.J.forEach(this.pR,function(bD){if(mA){return;}if(bD.aP+1===hF){mA=true;F.SP(bD,undefined,! !bA.forceAlignTop);}});return this;};ThumbnailControl.prototype.SP=function(bD,mb,atN){mb=mb||IPCC.J.Ys(this.aq.getBoundingClientRect());var tp=IPCC.J.Ys(bD.SY.getBoundingClientRect());if(tp.top>mb.top&&tp.bottom<mb.bottom){return;}var ahp=window.getComputedStyle?getComputedStyle(bD.SY):bD.SY.currentStyle,ho;if(tp.top<mb.top||atN){ho=tp.top-mb.top+this.aq.scrollTop-parseInt(ahp.marginTop,10);}else if(tp.bottom>mb.bottom){ho=tp.bottom-mb.top-mb.height+this.aq.scrollTop+parseInt(ahp.marginBottom,10);}if(ho!==undefined){this.aq.scrollTop=ho;}return this;};ThumbnailControl.prototype.alO=function(iE){if(IPCC.J.axD(this.It,iE)){return this;}var aaA='pcc-thumbnail-selected',Hk=new RegExp(aaA),Tm=false,akh=[].concat(iE),akX=akh.shift(),akT=false,mb=IPCC.J.Ys(this.aq.getBoundingClientRect()),F=this;IPCC.J.forEach(this.pR,function(bD){if(bD.aP===akX-1){IPCC.J.afr(bD.aF,aaA);Tm=true;akX=akh.shift()||0;if(!akT){akT=true;F.SP(bD,mb);}return;}if(Hk.test(bD.aF.className)){IPCC.J.acy(bD.aF,aaA);Tm=true;}});this.It=iE;if(Tm){this.trigger(PCCViewer.ThumbnailControl.EventType.PageSelectionChanged,{pageNumbers:[].concat(this.It)});}return this;};ThumbnailControl.prototype.asG=function(){var de=this.RJ(),F=this,vs;IPCC.J.forEach(de,function(bD){if(!vs&&IPCC.J.inArray(F.It,bD.aP+1)){vs=bD;}});if(!vs){vs=de[0];}return vs;};ThumbnailControl.prototype.reflow=function(){if(!this.kU){return this;}var Ez,DZ,ah,bU,Me,RE,hw,vs=this.asG();IPCC.J.forEach(this.pR,function(bD){if(bD.yN){bD.aF.style.height=bD.qm.style.height='';bD.aF.style.width=bD.qm.style.width='';}});IPCC.J.forEach(this.pR,function(bD){if(bD.yN&&bD.aB.eV()){Ez=bD.aF.offsetWidth;DZ=bD.aF.offsetHeight;hw=bD.aB.arC();if(Math.abs(hw)===90||Math.abs(hw)===270){bU=bD.aB.kL();ah=bD.aB.iY();}else{ah=bD.aB.kL();bU=bD.aB.iY();}Me=ah/bU;RE=Ez/DZ;var ix,ih;if(Me<RE){ih=DZ;ix=Math.floor(ih*ah/bU);}else{ix=Ez;ih=Math.floor(ix*bU/ah);}bD.ix=ix;bD.ih=ih;}});IPCC.J.forEach(this.pR,function(bD){if(bD.yN&&bD.aB&&bD.aB.eV()){bD.qm.style.height=bD.ih+'px';bD.qm.style.width=bD.ix+'px';bD.aB.YN(IPCC.Web.UI.FitType.FullImage);bD.aB.cn();}});if(vs){this.SP(vs);}this.Ud();return this;};ThumbnailControl.prototype.destroy=function(){if(!this.kU){return this;}this.kU=kU.afg;IPCC.J.forEach(this.pR,function(bD){if(bD.aB&&bD.aB.dispose){bD.aB.dispose();}});while(this.aq.firstChild){this.aq.removeChild(this.aq.firstChild);}this.on=this.off=this.trigger=Vm;this.jZ={};};ThumbnailControl.prototype.getVisiblePages=function(){if(!this.kU){return[];}var de=this.RJ();return IPCC.J.map(de,function(bD){return bD.aP+1;});};ThumbnailControl.prototype.RJ=function RJ(){var aym=this.aq.getBoundingClientRect(),tp;function VS(mb,MP){return(!(MP.top>=mb.bottom||MP.left>=mb.right||MP.bottom<=mb.top||MP.right<=mb.left));};return IPCC.J.filter(this.pR,function(bD){tp=bD.aF.getBoundingClientRect();return VS(aym,tp);});};ThumbnailControl.prototype.Ud=function(){var F=this,de=F.RJ();IPCC.J.forEach(de,function(bD){if(!bD.yN){bD.aB=F.ic(bD);bD.yN=true;}});return this;};ThumbnailControl.prototype.XF=function XF(aF){var Om={},F=this;function awk(al,wK,rj){if(Om[al]){clearTimeout(Om[al]);Om[al]=undefined;}Om[al]=setTimeout(wK,rj||0);};IPCC.Web.UI.au.addHandler(aF,'scroll',function(ev){awk('scroll',function(){F.Ud();},300);});};ThumbnailControl.prototype.ic=function(bD,lO){var F=this;lO=lO||Vm;var aD={documentIdentifier:F.bA.documentID,pageNumber:bD.aP,viewFitType:IPCC.Web.UI.FitType.FullImage,imageHandlerUrl:F.bA.imageHandlerUrl,encryption:F.bA.encryption,handleTouchEvents:false};var aB=IPCC.initializePageViewPlugin(bD.qm,aD);aB.set_debug(F._debug);aB.set_mouseTool(IPCC.Web.UI.MouseTool.None);var vv=false;function IW(){lO();};aB.add_pageOpened(function(){F.ZW(bD);});aB.add_pageDisplayed(function(){if(!vv){IW();}});aB.add_textPageReady(function(){if(vv){aB.cn();IW();}});aB.add_pageOpenFailed(function(){});aB.add_textExtractionFailed(function(){});aD.artPage=F.bf.bv.fU(F.bf.cA.getPage(bD.aP));aD.artPage.Ct(function(h){if(h.get_type()===608){vv=true;}});aB.azF(aD);aB.set_mouseTool(IPCC.Web.UI.MouseTool.None);return aB;};ThumbnailControl.prototype.ZW=function(bD){var F=this;var CY=F.bf.bv.Zq(bD.aP);var hw=bD.hw;var acT=hw;if(CY!==bD.hw){acT=CY-hw;}var aB=bD.aB,iZ=bD.qm,bU,ah;if(!bD.yN|| !aB.eV()){return;}iZ.style.height='';iZ.style.width='';if(Math.abs(CY)===90||Math.abs(CY)===270){bU=aB.kL();ah=aB.iY();}else{bU=aB.iY();ah=aB.kL();}var Ez=iZ.offsetWidth,DZ=iZ.offsetHeight;if(bD.hw!==CY){aB.rotate(acT);bD.hw=CY;}var Me=ah/bU,RE=Ez/DZ;var ix,ih;if(Me<RE){ih=DZ;ix=Math.floor(ih*ah/bU);}else{ix=Ez;ih=Math.floor(ix*bU/ah);}iZ.style.height=ih+'px';iZ.style.width=ix+'px';};module.exports=ThumbnailControl;},{}],167:[function(require,module,exports){function acb(message,value){var err=new Error('PCC Range Error: '+message);err.value=value;return err;};function axa(axq){var bx=[];var aaD=function(n){return!(isNaN(+n));};var age=axq.split(',');var Lk,VD;var Rz=0;var vl=0;for(var R=0;R<age.length;R++){var FE=age[R].split('-');var Eh=FE[0].replace(/\s+/g,'');if(Eh.length===0){continue;}var EQ=Eh;if(FE[1]!==undefined&&FE[1]!==""){EQ=FE[1].replace(/\s+/g,'');}Eh= +(Eh);EQ= +(EQ);if(aaD(Eh)===true){Rz=parseInt(Eh);}if(aaD(EQ)===true){vl=parseInt(EQ);}if(Rz<vl){Lk=Rz;VD=vl;}else{Lk=vl;VD=Rz;}if(FE.length>1){for(var an=Lk;an<=VD;an++){bx.push(an);}}else{bx.push(Lk);}}bx.sort(function(a,b){return a-b;});for(R=bx.length-1;R>0;R--){if(bx[R-1]===bx[R]){bx.splice(R,1);}}return bx;};var alternateObjectURL=function(blob,str){blob.data=str;var type=blob.type,data_URI_header;if(type===null){type="application/octet-stream";}data_URI_header="data:"+type;if(blob.encoding==="base64"){return data_URI_header+";base64,"+blob.data;}else if(blob.encoding==="URI"){return data_URI_header+","+decodeURIComponent(blob.data);}if(btoa){return data_URI_header+";base64,"+btoa(blob.data);}else{return data_URI_header+","+encodeURIComponent(blob.data);}};var Util={save:function(filename,stringValue){if('Blob'in window){var blob=new Blob([stringValue],{'type':'text/plain;charset=utf-8'});if(window.navigator.msSaveBlob){window.navigator.msSaveBlob(blob,filename);}else if(window.saveAs){window.saveAs(blob,filename);}else if(window.URL&&window.URL.createObjectURL){var a=document.createElement('a');a.href=URL.createObjectURL(blob);a.target='_blank';a.download=filename;a.style.display='none';document.body.appendChild(a);a.click();document.body.removeChild(a);}else{var objectURL=alternateObjectURL(blob,stringValue);window.open(objectURL);}}else{if(document.execCommand){var oWin=window.open('about:blank','_blank');oWin.document.write(stringValue);oWin.document.close();oWin.document.execCommand('SaveAs',true,filename+'.txt');oWin.close();}}},calculateNonOverlappingSelections:function(selections,backgroundColor){var gU;if(!(selections instanceof Array)){gU=[selections];}else{gU=selections;}IPCC.J.forEach(gU,function(ci){IPCC.aV.lP(ci.startIndex,'selection.startIndex',0,Number.MAX_VALUE);IPCC.aV.lP(ci.length,'selection.length',1,Number.MAX_VALUE);IPCC.aV.cD(ci.color,'selection.color');IPCC.aV.lP(ci.opacity,'selection.opacity',0,255);});IPCC.aV.cD(backgroundColor,'backgroundColor');var arn=IPCC.J.alZ(gU);return IPCC.J.map(arn,function(aK){aK.length=aK.endIndex-aK.startIndex+1;return aK;});},layerColors:function(colors,backgroundColor){var Pu;if(!(colors instanceof Array)){Pu=[colors];}else{Pu=colors;}IPCC.J.forEach(Pu,function(ci){IPCC.aV.cD(ci.color,'selection.color');IPCC.aV.lP(ci.opacity,'selection.opacity',0,255);});IPCC.aV.cD(backgroundColor,'backgroundColor');return IPCC.J.ajH(Pu,backgroundColor);},validatePageRange:function(pageRange,options){if(pageRange&&typeof pageRange!=='string'){return false;}else{try{PCCViewer.Util.convertPageRangeToArray(pageRange,options);}catch(e){return false;}return true;}},convertPageRangeToArray:function(pageRange,options){options=options||{};var lowerLimit=options.lowerLimit||1,upperLimit=options.upperLimit||Number.MAX_VALUE,allowEmpty=options.allowEmpty||false;if(pageRange!=='all'&&pageRange.match(/[^0-9\-\,\s]/g)){throw acb('Illegal page range value',pageRange);}var da=[];if(pageRange==='all'){while(upperLimit>=lowerLimit){da.unshift(upperLimit--);}}else{da=axa(pageRange);if((da.length===0&& !allowEmpty)||da[0]<lowerLimit||da[da.length-1]>upperLimit){throw acb('Pages are out of range',da.join(', '));}}return da;}};module.exports=Util;},{}],168:[function(require,module,exports){var CN={Document:"Document",EqualWidthPages:"EqualWidthPages",SinglePage:"SinglePage",EqualFitPages:"EqualFitPages"};module.exports=CN;},{}],169:[function(require,module,exports){"use strict";var IPCC=require('./../IPCC/IPCC');var rw=require('./PCCViewer.Helper');var Print=require('./PCCViewer.Print');var EventEmitter=require('./PCCViewer.EventEmitter');var cF=require('./PCCViewer.MarkDeserializer');var ed=require('./PCCViewer.MarkSerializer');function ViewerControl(element,options){if(!(this instanceof ViewerControl)){return new ViewerControl(element,options);}if(!IPCC.J.uY(element)){throw new Error("The 'element' argument is required.");}if(!options.documentID){throw new Error("A valid value for 'options.documentID' is required");}if(!options.imageHandlerUrl){throw new Error("A valid value for 'options.imageHandlerUrl' is required");}var F=this;IPCC.J.QU(element);var lw=document.createElement('div');lw.className='pccViewerControl';lw.id='pccViewerControl-'+IPCC.vY();element.appendChild(lw);this.ce=lw;this.hE=element;var st=document.createElement('div');st.className='pccPageListLoading';lw.appendChild(st);this.st=st;EventEmitter.extend(this);this.yC=false;this.bA=rw.tc({},ViewerControl.zU,options);this.bA.language=rw.tc({},ViewerControl.atg,(options.language?options.language:{}));if(options.language){PCCViewer.Language.initializeData(options.language);}if(this.bA.pageLayout.toLowerCase()==="vertical"){this.bA.pageLayout=IPCC.PageLayout.VerticalScrollDirection;}else if(this.bA.pageLayout.toLowerCase()==="horizontal"){this.bA.pageLayout=IPCC.PageLayout.HorizontalScrollDirection;}else{throw new Error("The value of 'options.pageLayout' is invalid.");}if(this.bA.viewMode.toLowerCase()==="document"){this.bA.viewMode=IPCC.ViewMode.Document;}else if(this.bA.viewMode.toLowerCase()==="equalwidthpages"){this.bA.viewMode=IPCC.ViewMode.EqualWidthPages;}else if(this.bA.viewMode.toLowerCase()==="equalfitpages"){this.bA.viewMode=IPCC.ViewMode.EqualFitPages;}else if(this.bA.viewMode.toLowerCase()==="singlepage"){this.bA.viewMode=IPCC.ViewMode.SinglePage;}else{throw new Error("The value of 'options.viewMode' is invalid.");}function isValidSearchMethodType(){return-1<['auto','server','client'].indexOf(F.bA.searchMethodType.toLowerCase());};if(!isValidSearchMethodType()){throw new Error("The value of 'options.searchMethodType' should be 'auto', 'server', or 'client'.");}if(isNaN(this.bA.searchMethodPageCountThreshold)&&(typeof this.bA.searchMethodPageCountThreshold!=='number')&&this.bA.searchMethodPageCountThreshold<=1){throw new Error("The value of 'options.searchMethodPageCountThreshold' must be a number greater than 1.");}if(this.bA.redactionViewMode){if(this.bA.redactionViewMode.toLowerCase()==="draft"){this.bA.redactionViewMode=PCCViewer.RedactionViewMode.Draft;}else if(this.bA.redactionViewMode.toLowerCase()==="normal"){this.bA.redactionViewMode=PCCViewer.RedactionViewMode.Normal;}}else{this.bA.redactionViewMode=PCCViewer.RedactionViewMode.Normal;}var jk=this.bA.pageRotation%360;if(jk!==0){var vq=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!jk||vq.indexOf(jk)=== -1){throw new Error("The value of 'options.pageRotation' is invalid.");}}else{if(!jk||IPCC.Web.iM(vq,jk)=== -1){throw new Error("The value of 'options.pageRotation' is invalid.");}}}this.bA.pageRotation=jk;if(this.bA.markHandleMode.toLowerCase()==="hidesidehandleswhenclose"){this.bA.markHandleMode=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;}else if(this.bA.markHandleMode.toLowerCase()==="hidecornerhandleswhenclose"){this.bA.markHandleMode=IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose;}else{throw new Error("The value of 'options.markHandleMode' is invalid.");}if(isNaN(this.bA.serviceResponseTimeout)||typeof this.bA.serviceResponseTimeout!=='number'||this.bA.serviceResponseTimeout<0){throw new Error("The value of 'options.serviceResponseTimeout' is invalid.");}if(typeof this.bA.debug!=='boolean'){throw new Error("The value of 'options.debug' is invalid.");}if(typeof this.bA.viewerAssetsPath!=='string'){throw new Error("The value of 'options.viewerAssetsPath' is invalid.");}this.jZ={};this.ab="";this.eD=1;this.aii=1;this.ajm=0;this.mz=1;this.bv=undefined;this.Xu=new PCCViewer.Deferred();this.sk=this.Xu.getPromise();this.eR=false;this.bE=undefined;this.Mj=0;this.cA=undefined;this.aT=PCCViewer.MouseTools.getMouseTool("AccusoftPanAndEdit");this.nm=false;this.yi=false;this.EF=false;this.Ed=[];this.QJ=new PCCViewer.Deferred();this.asX=this.QJ.getPromise();this.xc=[];this.cK={};this.Bp=[];this.CD=[];this.aQ=null;this.Iu={};this.gs=null;this.lH=new PCCViewer.MarkupLayerCollection(this);this.uH=new PCCViewer.MarkupLayer(this);this.lH.addItem(this.uH);this.sM=true;setTimeout(function(){F.afh(lw,F.bA);},0);this.vD=null;this.ap=null;this.zz=false;this.Jg= -1;this.EW={};this.aaH=false;this.ays=this.bA.printTemplate||(this.bA.template?this.bA.template.print:"");this.kF=null;this.wa=null;this.mi=function(dq,fc,alr){var cY=document.createElement('div'),dY=cY.style;dY.position='absolute';if(fc.isSelected){dY.backgroundColor='white';}else{dY.backgroundColor='lightgray';}dY.left='10px';dY.right='0';dY.textAlign='left';IPCC.J.forEach(dq.getComments(),function(nL,R){var SS=document.createElement('div'),NJ=SS.style;NJ.position='relative';NJ.padding='5px';NJ.border='1px solid gray';if(R>0){NJ.borderTop='none';}SS.appendChild(document.createTextNode(nL.getText()));cY.appendChild(SS);});return cY;};return F;};ViewerControl.zU={encryption:false,viewMode:"Document",debug:false,pageLayout:"Vertical",resourcePath:"img",serviceResponseTimeout:60*1000,printTemplate:"",pageRotation:0,markHandleMode:"HideSideHandlesWhenClose",debugErrorLevel:IPCC.Web.UI.DebugErrorLevel.Detailed,maxPrefetch:3,displayPagesWhenScrolling:true,maxOutOfViewDisplay:0,scrollDisplayThreshold:0.5,requireRequestsOptimize:true,loadingContent:"",redactionViewMode:"Normal",searchMethodType:'auto',searchMethodPageCountThreshold:80,viewerAssetsPath:'viewer-assets'};ViewerControl.atg={pageLoadFailed:"Page Load Failed",pageLoadFailedPassword:"Page Load Failed - Password Required",pageLoadFailedRetry:"Retry"};ViewerControl.prototype.afh=function(element,options){if(this.yC){return;}var F=this;var VZ=function(){if(F.bA.viewMode===IPCC.ViewMode.SinglePage||F.yC){return;}var arB=F.bv.get_pageNodeId(F.getPageNumber()-1);var aA=document.getElementById(arB);var TM=F.ce.childNodes[0].childNodes[0].childNodes[0].childNodes;if(!aA){return;}IPCC.J.forEach(TM,function(jv){if(aA!==jv){if(document.documentMode===8&&jv.style.outline){jv.style.outline='';}else if(jv.style.boxShadow){jv.style.boxShadow='';}}});if(document.documentMode===8){aA.style.outline='2px solid #aaa';}else{aA.style.boxShadow='0 0 4px 1px rgba(0,0,0,.4)';}};var aij=function(){if(F.st.parentNode){F.st.parentNode.removeChild(F.st);}F.bv.remove_pageOpenFailed(Wd);F.bv.remove_pageDisplayed(aij);var aP=arguments[1].pageIndex;setTimeout(function(){F.trigger("PageDisplayed",{pageNumber:(aP+1)});VZ();},10);if(aP!==0){return;}function en(ar){if(F.yC){return;}var bC;if(ar.status===200){bC=JSON.parse(ar.responseText);if(bC.pageCountConfidence<100){var ab;if(!(/^[\x00-\x7F]*$/.test(qL))){ab=F.bA.imageHandlerUrl+'/Document/q/Attributes?DocumentID=e'+qL+'&DesiredPageCountConfidence=100';}else{ab=F.bA.imageHandlerUrl+'/Document/q/Attributes?DocumentID=u'+encodeURIComponent(F.bA.documentID)+'&DesiredPageCountConfidence=100';}PCCViewer.Ajax.et({method:'GET',url:ab,headers:{'Content-Type':'application/json'}}).then(en,eo);F.eD=bC.pageCount;F.bE.eD=bC.pageCount;F.EF=true;setTimeout(function(){F.trigger("EstimatedPageCountReady",{pageCount:bC.pageCount});},10);abf();}else{if(F.eD>1){F.bE.eD=bC.pageCount;setTimeout(function(){var R;if(bC.pageCount<F.eD){for(R=F.eD-1;R>=bC.pageCount;R--){F.cA.removePage(R);}}else if(bC.pageCount>F.eD){for(R=F.eD;R<bC.pageCount;R++){var Sy=new IPCC.Web.UI.ImGearPage({pageNumber:R});F.cA.addPage(Sy);}}F.eD=bC.pageCount;if(F.eR===true){F.nm=true;F.yi=true;setTimeout(function(){F.trigger("PageCountReady",{pageCount:bC.pageCount});},30);}},30);}else{F.eD=bC.pageCount;F.bE.eD=bC.pageCount;if(F.eR===true){abf(function(){F.nm=true;F.yi=true;setTimeout(function(){F.trigger("PageCountReady",{pageCount:bC.pageCount});},0);});}}}}};function eo(bC){if(F.yC){return;}var Yk="None",ajA,ZP;var aiV=bC.response.getResponseHeader('Accusoft-Status-Message');if(aiV){Yk=aiV;ZP=bC.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.xN(ZP)){ajA=parseInt(ZP,10);}}else if(bC.response.statusText){Yk=bC.response.statusText;}setTimeout(function(){F.trigger("PageLoadFailed",{statusCode:bC.response.status,errorMessage:Yk,accusoftErrorNumber:ajA});},1);throw("Unable to obtain document information from the server");};var qL=IPCC.gG.rI(F.bA.documentID);if(!qL||qL===""){throw("Invalid encoded Identifier");}if(!(/^[\x00-\x7F]*$/.test(qL))){F.ab=F.bA.imageHandlerUrl+'/Document/q/Attributes?DocumentID=e'+qL+'&DesiredPageCountConfidence=50';}else{F.ab=F.bA.imageHandlerUrl+'/Document/q/Attributes?DocumentID=u'+encodeURIComponent(F.bA.documentID)+'&DesiredPageCountConfidence=50';}PCCViewer.Ajax.et({method:'GET',url:F.ab,headers:{'Content-Type':'application/json'}}).then(en,eo);};function abf(pZ){pZ=pZ||function(){};var ahT=F.eD;function aeS(){F.bv.remove_allPagesAdded(aeS);pZ();};if(ahT>1){F.bv.add_allPagesAdded(aeS);if(!F.als){F.bv.add_currentPageChanged(function(){if(arguments.length<2){throw("Controls currentPageChanged event did not provide any expected information");}var cs=arguments[1];setTimeout(function(){F.trigger('PageChanged',{pageNumber:cs.pageIndex+1});VZ();},0);});F.bv.add_pageDisplayed(function(){if(arguments.length<2){throw("Controls pageDisplayed event did not provide any expected information");}var cs=arguments[1];if(F.kF){F.kF();F.kF=null;if(F.gs){F.gs.resolve();}F.gs=null;}setTimeout(function(){F.trigger('PageDisplayed',{pageNumber:cs.pageIndex+1});VZ();},0);setTimeout(function(){F.requestPageText(cs.pageIndex+1).then(function Er(){F.abT(cs.pageIndex+1,F.Jg);});},10);});F.bv.add_pageOpenFailed(function(){acj(arguments);});F.als=true;}for(var R=F.Mj;R<ahT;R++){F.cA.addPage(new IPCC.Web.UI.ImGearPage({pageNumber:R}));F.Mj++;}}else{pZ();}};var aAC=function(cs){var aA=document.getElementById(cs.pageNodeID),aK=document.createElement('div'),zG=document.createElement('button'),agd='pccPageLoadFailRetry'+cs.pageIndex,akH=function(){F.bv.KT(cs.pageIndex);},aqW=PCCViewer.Language.data.pageLoadFailed,aqa=PCCViewer.Language.getValue("pageLoadFailedPassword"),apK=PCCViewer.Language.data.pageLoadFailedRetry,axj=cs.exception.statusCode===480&&cs.exception.customErrorCode===4001;if(aA===null){return;}zG.id=agd;zG.innerHTML=apK;aK.className='pccPageLoadFail';if(axj){aK.innerHTML=aqa+'<br>';aA.appendChild(aK);}else{aK.innerHTML=aqW+'<br>';aK.appendChild(zG);aA.appendChild(aK);zG=document.getElementById(agd);if(!zG.addEventListener){zG.attachEvent('onclick',akH);}else{zG.addEventListener('click',akH,false);}}};function acj(Eo){if(Eo.length<2){throw("controls PageOpenFailed event did not provide any expected information");}var ajy,ahQ,cs=Eo[1];if(Eo[1].exception.customErrorCode!==undefined){ahQ=Eo[1].exception.customErrorCode;}if(Eo[1].exception.message!==undefined){ajy=Eo[1].exception.message;}setTimeout(function(){F.trigger('PageLoadFailed',{statusCode:cs.exception.statusCode,pageNumber:cs.pageIndex+1,errorMessage:ajy,accusoftErrorNumber:ahQ});aAC(cs);},0);};function aAH(){if(F.bv&&typeof F.bv.dispose==="function"){F.bv.dispose();}F.ab="";F.bv=undefined;while(F.ce.firstChild){F.ce.removeChild(F.ce.firstChild);}};function aHY(akb){var ai=new PCCViewer.Deferred();if(typeof akb==="string"){PCCViewer.Ajax.et({url:F.bA.imageHandlerUrl+'/ViewingSession/u'+F.bA.documentID+'/Replacement',body:JSON.stringify({password:akb}),method:'POST',headers:{'Content-Type':'application/json;charset=utf-8'}}).then(function aFY(ar){var result=JSON.parse(ar.responseText);var alX=result.viewingSessionId;F.bA.documentID=alX;aAH();F.afh(F.ce,F.bA);ai.resolve(alX);},function aFW(err){ai.reject(new PCCViewer.Error("AjaxError","The call to replace the viewing session failed."));});}else{ai.reject(new PCCViewer.Error("InvalidArgument","The value of the 'password' parameter must be a string."));}return ai.getPromise();};function Wd(){F.bv.remove_pageOpenFailed(Wd);acj(arguments);};var azE=function(aj,V){F.tx=true;var WP={width:V.width,height:V.height,pageNumber:V.pageNumber};F.trigger("PageOpening",WP);};function afx(){F.Xu.resolve(F.bv);F.bv.remove_pageOpened(afx);F.eR=true;var ae=F;setTimeout(function(){F.trigger("ViewerReady",{});if(ae.nm===true&&ae.yi===false){ae.yi=true;setTimeout(function(){F.trigger("PageCountReady",{pageCount:ae.getPageCount()});},10);}},10);F.setCurrentMouseTool("AccusoftPanAndEdit");};var aok=function(aj,V){if(V.containsText===true){F.QJ.resolve(true);}var zo= -1;if(Array.prototype.indexOf){zo=(F.xc.indexOf(V.pageIndex)>=0);}else{zo=(IPCC.Web.iM(F.xc,V.pageIndex)>=0);}if(zo===false){F.xc.push(V.pageIndex);if(F.xc.length===F.eD){F.QJ.resolve(false);}}setTimeout(function(){F.trigger("PageTextReady",{pageNumber:V.pageIndex+1});},0);};var aoW=function(aj,V){var zo= -1;if(Array.prototype.indexOf){zo=(F.xc.indexOf(V.pageIndex)>=0);}else{zo=(IPCC.Web.iM(F.xc,V.pageIndex)>=0);}if(zo===false){F.xc.push(V.pageIndex);if(F.xc.length===F.eD){F.QJ.resolve(false);}}};function awQ(sender,eventArgs){if(!eventArgs.text||(eventArgs.text.length===0)){return;}var iE=[];for(var i=0;i<eventArgs.pageNumbers.length;i++){iE.push(eventArgs.pageNumbers[i]+1);}var hz=[],uF= -eventArgs.startIndex,as,cL,iz,bj,j,k;for(j=0;j<iE.length;j++){iz=F.cA.ic(iE[j]-1).dg().gQ();uF+=iz.fq();as=0;if(j===0){as=eventArgs.startIndex;}if(uF>=eventArgs.text.length){cL=uF-eventArgs.text.length-1;}else{cL=iz.fq()-1;}bj=IPCC.J.Ue(iz,as,cL);for(k=0;k<bj.length;k++){hz.push({x:bj[k].x,y:bj[k].y,width:bj[k].width,height:bj[k].height,pageNumber:iE[j]});}}F.aQ={pageNumber:iE[0],length:eventArgs.text.length,text:eventArgs.text,startIndex:eventArgs.startIndex,rectangles:hz};var h,afS={selectedText:eventArgs.text,pageNumbers:iE,clientX:eventArgs.clientX,clientY:eventArgs.clientY,handleClientX:eventArgs.handleClientX,handleClientY:eventArgs.handleClientY,textSelection:F.aQ};function auM(){var tI=F.jn;F.amY=true;F.jn=function(sender,args){F.jn=tI;setTimeout(function(){F.trigger(PCCViewer.EventType.MarkCreated,{mark:h,pageNumber:iE[0],clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};};if(eventArgs.previousFirstMark){h=F.cK[eventArgs.previousFirstMark.get_markID()];F.bv.remove_markRemoved(F.Ec);F.bv.remove_markSelectionChanged(F.Ep);if(eventArgs.pageNumbers[0]!==eventArgs.previousFirstMark.aP){var axG=h.L.Yb;var Vg;if(h.getReason){Vg=h.L.get_text();}var VG;if(h.getFillColor){VG=h.L.get_fillColor();}var Uk;if(h.getColor){Uk=h.L.get_lineColor();}var Vj;if(h.getThickness){Vj=h.L.get_lineWidth();}var Uy;if(h.getHref){Uy=h.L.get_href();}var ayn=new PCCViewer.Conversation(h);var bN=F.bv.fU(F.cA.getPage(h.L.aP));bN.removeMark(h.L);for(var R=h.cZ.length-1;R>=0;R--){var ln=h.cZ[R];bN=F.bv.fU(F.cA.getPage(ln.aP));bN.removeMark(ln);h.cZ.splice(R,1);}h.L=new IPCC.Web.UI.Mark(eventArgs.previousFirstMark.get_type());h.L.aP=eventArgs.pageNumbers[0];h.aM=eventArgs.pageNumbers[0]+1;h.L.jK=true;h.L.Yb=axG;var tI=F.jn;F.jn=null;F.bv.remove_markChanged(F.ni);bN=F.bv.fU(F.cA.getPage(h.L.aP));bN.addMark(h.L);if(Vg){h.L.set_text(Vg);}if(VG){h.L.set_fillColor(VG);}if(Uk){h.L.set_lineColor(Uk);}if(Vj){h.L.set_lineWidth(Vj);}if(Uy){h.L.set_href(Uy);}h.dq=new PCCViewer.Conversation(h);PCCViewer.Conversation.rf(ayn,h.dq);F.bv.add_markChanged(F.ni);F.jn=tI;}h.L.set_selected(true);h.L.set_visible(true);h.setPosition({startIndex:eventArgs.startIndex,length:eventArgs.text.length});F.bv.add_markRemoved(F.Ec);F.bv.add_markSelectionChanged(F.Ep);F.oX(h,eventArgs.pageNumbers[0]);return;}var Cv=null;switch(eventArgs.mouseTool){case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:Cv='HighlightAnnotation';break;case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:Cv='TextSelectionRedaction';break;case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:Cv='TextHyperlinkAnnotation';break;case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:Cv='StrikethroughAnnotation';break;case IPCC.Web.UI.MouseTool.SelectText:aug(eventArgs.text);F.Iu[iE[0]]='selectText';break;}var aT=PCCViewer.MouseTools.getMouseTool(F.getCurrentMouseTool());var bS=(aT&&aT.getTemplateMark)?aT.getTemplateMark():undefined;var anQ=bS?bS.getType():"";if(Cv){auM();F.trigger(PCCViewer.EventType.TextSelected,afS);h=F.addMark(iE[0],Cv);if(F.sM){F.uH.addMarks(h);}h.L.jK=true;h.setPosition({startIndex:eventArgs.startIndex,length:eventArgs.text.length});if(anQ===Cv){if(bS.getFillColor){h.setFillColor(bS.getFillColor());}if(bS.getReason){h.setReason(bS.getReason());}if(bS.getHref){h.setHref(bS.getHref());}if(bS.getColor){h.setColor(bS.getColor());}if(bS.getThickness){h.setThickness(bS.getThickness());}PCCViewer.Data.nX(bS,h);}return;}setTimeout(function(){F.trigger(PCCViewer.EventType.TextSelected,afS);},0);};function aBH(){var aA=F.ce,aK=document.createElement('div');aK.className='pccCopyText';aA.appendChild(aK);F.IZ=aK;};function aug(ak){var nx,aGU=ak.split('\n'),JB=document.createDocumentFragment(),Es,kH;nx=document.createTextNode(ak);JB.appendChild(nx);IPCC.J.QU(F.IZ);F.IZ.appendChild(JB);if(document.body.createTextRange){Es=document.body.createTextRange();Es.moveToElementText(F.IZ);Es.select();}else if(window.getSelection){kH=window.getSelection();Es=document.createRange();Es.selectNodeContents(F.IZ);kH.removeAllRanges();kH.addRange(Es);}};this.bE=new IPCC.Web.UI.ImGearDocument({documentIdentifier:this.bA.documentID,imageServicePath:this.bA.imageHandlerUrl});this.bE.set_encryption(this.bA.encryption||false);var Sy=new IPCC.Web.UI.ImGearPage({pageNumber:0});this.bE.get_pages().addPage(Sy);this.cA=this.bE.get_pages();this.bv=IPCC.initializePageListPlugin(element,options);this.bv.get_documents().addDocument(this.bE);this.Mj=1;this.bv.add_pageDisplayed(aij);this.bv.add_pageOpenFailed(Wd);this.bv.add_pageOpening(azE);this.bv.add_pageOpened(afx);this.bv.add_textPageReady(aok);this.bv.add_textExtractionFailed(aoW);this.bv.set_conversationDOMFactory(function(L,fc,alr){var h=F.cK[L.get_markID()];if(h){return F.mi(h.getConversation(),fc,alr);}});IPCC.J.anB(element,function(Hl){if(!Hl&&IPCC.J.zq!=='svg'){console.warn('PrizmDoc cannot use inline font. Enable remote fonts in your browser for faster document rendering.');if(!F.eR){IPCC.J.zq='svg';return;}else if(F.nm){IPCC.J.zq='svg';F.bv.disposeDisplayedPages();F.bv.displayAll();}else{var mp=function(){F.off(PCCViewer.EventType.PageCountReady,mp);IPCC.J.zq='svg';F.bv.disposeDisplayedPages();F.bv.displayAll();};F.on(PCCViewer.EventType.PageCountReady,mp);}}});aBH();this.bv.add_selectTextMouseToolCompleted(awQ);this.bv.add_propertyChanged(function(rs,dF){var proprtyName=dF.arI();if(proprtyName==="mouseTool"){setTimeout(function(){F.trigger(PCCViewer.EventType.MouseToolChanged,{mouseToolName:F.aT.getName()});},0);}});this.bv.add_markAdded(function(sender,eventArgs){if((eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)&&F.cK[eventArgs.mark.get_markID()]===undefined&&eventArgs.mark.aY!==undefined){F.oX(eventArgs.mark,eventArgs.pageIndex);}if(F.jn){var aN=eventArgs.mark.get_type();if(aN!==IPCC.Web.UI.MarkType.Highlight&& !(aN===IPCC.Web.UI.MarkType.RectangleRedaction&&eventArgs.mark.aY!==undefined)){F.jn(sender,eventArgs);}}});this.bv.add_markCreating(function(sender,eventArgs){if(F.Kl){F.Kl(sender,eventArgs);}});this.bv.Qm(function(sender,eventArgs){var BX=0;var Ar=0;var afF=0;var wr=0;var vH=0;var PE=0;var ate=F.aT.getName().toLowerCase(),ash=F.aT.getType();if(ash===PCCViewer.MouseTool.Type.PlaceSignature){var aT=F.aT;var bS=aT.getTemplateMark(),kP=bS.getSignature(),alz=bS.getRectangle(),h,K={};if(!kP){return;}F.requestPageAttributes(eventArgs.pageIndex+1).then(function(attributes){var vJ;if(attributes.width>0){Ar=alz.width||(attributes.width/5);}if(kP.path&&kP.path.length>0){vJ=IPCC.J.aav(kP.path);K={x:0,y:0,width:vJ.width,height:vJ.height};h=F.addMark(eventArgs.pageIndex+1,PCCViewer.Mark.Type.FreehandSignature);h.setPath(kP.path);h.setThickness(kP.thickness||4);}if(kP.text&&kP.text.length){vJ=IPCC.J.uj(kP.text,kP.fontName);h=F.addMark(eventArgs.pageIndex+1,PCCViewer.Mark.Type.TextSignature);K={x:0,y:0,width:vJ.width,height:vJ.height};h.setText(kP.text);h.setFontName(kP.fontName);}afF=(K.width/Ar);BX=alz.height||(K.height/afF);wr=(eventArgs.imagePoint.x-(Ar/2));vH=(eventArgs.imagePoint.y-(BX/2));if(wr<=0){wr=0;}if(vH<=0){vH=0;}if((wr+Ar)>=attributes.width){PE=(wr+Ar)-attributes.width;wr=wr-PE;}if((vH+BX)>=attributes.height){PE=(vH+BX)-attributes.height;vH=vH-PE;}K={x:wr,y:vH,width:Ar,height:BX};h.setRectangle({x:wr,y:vH,width:Ar,height:BX});PCCViewer.Data.nX(bS,h);PCCViewer.Conversation.rf(bS.getConversation(),h.getConversation());});F.setCurrentMouseTool(ate);}});function MouseEvent(bP){var F=this;for(var i in bP){if(i){F[i]=bP[i];}}};this.bv.OQ(function(sender,eventArgs){var aQ=null,eC=null,h=null,ha=null,vR=false,OP=eventArgs.upTarget.type,Ng=false;if(eventArgs.domEvent.ctrlKey===true||eventArgs.domEvent.shiftKey===true){Ng=true;}if(eventArgs.upTarget.type==='page'&&eventArgs.downTarget.type==='page'&&eventArgs.upTarget.pageIndex===eventArgs.downTarget.pageIndex||eventArgs.upTarget.type==='comments'&&eventArgs.downTarget.element===eventArgs.upTarget.element){vR=true;if(eventArgs.upTarget.type==='page'&&eventArgs.downTarget.type==='page'&&Ng===false){F.deselectAllMarks();}}else if(eventArgs.upMark&&typeof eventArgs.downMark!=='undefined'){if((eventArgs.upMark.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink)&&(eventArgs.upMark===eventArgs.downMark)){ha=F.asI(eventArgs.upMark);vR=ha!==null;OP="documentHyperlink";}else{h=F.cK[eventArgs.upMark.get_markID()];if(h===undefined){for(var iT in F.cK){if(F.cK.hasOwnProperty(iT)){if(F.cK[iT].L.aY===eventArgs.upMark.aY&&F.cK[iT].L.aY===eventArgs.downMark.aY){h=F.cK[iT];eventArgs.pageIndex=h.aM-1;vR=true;var aFf=F.getCurrentMouseTool();var aEP=PCCViewer.MouseTools.getMouseTool(aFf);var akc=aEP.getType();if(Ng===false&&eventArgs.domEvent.button===0){if(akc===PCCViewer.MouseTool.Type.PanAndEdit||akc===PCCViewer.MouseTool.Type.EditMarks){F.deselectAllMarks();h.L.set_selected(true);}}break;}}}}else if(typeof eventArgs.downMark!=='undefined'&&typeof eventArgs.upMark!=='undefined'&&eventArgs.downMark.ll()===eventArgs.upMark.ll()){vR=true;if(Ng===false&&eventArgs.downTarget.alreadySelected===false){F.deselectAllMarks();h.L.set_selected(true);}}if(h===undefined){if(F.ap&&F.Iu[eventArgs.upTarget.pageIndex+1]==='search'){var ey=F.ap.getResults();for(var R=0;R<ey.length;R++){if(ey[R].aM===eventArgs.upTarget.pageIndex+1&&typeof eventArgs.downMark.as!=='undefined'&&typeof eventArgs.upMark.as!=='undefined'&&typeof eventArgs.downMark.cR!=='undefined'&&typeof eventArgs.upMark.cR!=='undefined'&&eventArgs.downMark.as>=ey[R].getStartIndexInPage()&&eventArgs.downMark.as+eventArgs.downMark.cR<=ey[R].getStartIndexInPage()+ey[R].getText().length&&eventArgs.upMark.as>=ey[R].getStartIndexInPage()&&eventArgs.upMark.as+eventArgs.upMark.cR<=ey[R].getStartIndexInPage()+ey[R].getText().length){OP='searchResult';eC=ey[R];eventArgs.upTarget.pageIndex=eC.aM-1;vR=true;break;}}}}if(vR===false&&h===undefined&&F.Iu[eventArgs.upTarget.pageIndex+1]==='selectText'&&typeof eventArgs.downMark.as!=='undefined'&&typeof eventArgs.upMark.as!=='undefined'&&eventArgs.downMark.as>=F.aQ.startIndex&&eventArgs.downMark.as+eventArgs.downMark.cR<=F.aQ.startIndex+F.aQ.length&&eventArgs.upMark.as>=F.aQ.startIndex&&eventArgs.upMark.as+eventArgs.upMark.cR<=F.aQ.startIndex+F.aQ.length){OP='textSelection';aQ=F.aQ;vR=true;}}}var Tu=new MouseEvent(eventArgs.originalEvent);setTimeout(function(){var azf=(isNaN(eventArgs.upTarget.pageIndex))?null:eventArgs.upTarget.pageIndex+1;var V={pageNumber:azf,targetType:OP,textSelection:aQ,searchResult:eC,mark:h,originalEvent:Tu,hyperlink:ha,clientX:eventArgs.clientX,clientY:eventArgs.clientY};if(vR===true){F.trigger('Click',V);}},0);});(function(){var AK=null;F.bv.Qn(function(sender,eventArgs){var Tu=new MouseEvent(eventArgs.domEvent);var V={originalEvent:Tu,clientX:eventArgs.windowPoint.x,clientY:eventArgs.windowPoint.y};if(!(eventArgs.mark instanceof IPCC.Web.UI.Mark)){if(AK!==null){V.mark=F.cK[AK];AK=null;setTimeout(function(){F.trigger('MarkMouseLeave',V);},0);}}else{V.mark=F.cK[eventArgs.mark.get_markID()];if(V.mark===undefined){for(var iT in F.cK){if(F.cK.hasOwnProperty(iT)){if(F.cK[iT].L.aY===eventArgs.mark.aY){V.mark=F.cK[iT];break;}}}}if(!V.mark){return;}setTimeout(function(){if(AK!==V.mark.getId()){if(AK!==null){F.trigger('MarkMouseLeave',IPCC.J.extend({},V,{mark:F.cK[AK]}));}AK=V.mark.getId();F.trigger('MarkMouseEnter',V);}F.trigger('MarkMouseOver',V);},0);}});})();this.bv.add_hyperlinkPageReady(function(sender,eventArgs){if(F.Bp[eventArgs.pageIndex]!==undefined){return;}var aP=eventArgs.pageIndex,aC=F.cA.getPage(aP),GI=aC.get_hyperlinkPage().JF(),yO=F.Bp[aP]=[];GI.jS(function(zD){yO.push(new PCCViewer.DocumentHyperlink({aM:aP+1,zD:zD}));});if(!F.CD[aP]){F.CD[aP]=new PCCViewer.Deferred();}F.CD[aP].resolve(yO);});this.oX=function(h,gC){var WY=false;function VT(){var kJ=false;var dG=F.bv.get_displayedPages();for(var R=0;R<dG.get_length();R++){var aC=dG.getPage(R);if(aC.get_pageNumber()===gC){kJ=true;break;}}return kJ;};function PA(hF){if(F.bv){F.bv.cn(hF);}};if(VT()){if(Array.prototype.indexOf){if(IPCC.Web.iM(F.Ed,gC)>=0){WY=true;}}else{if(IPCC.Web.iM(F.Ed,gC)>=0){WY=true;}}if(!WY){F.Ed.push(gC);setTimeout(function(){var cv=F.Ed.length;if(cv>0){for(var R=0;R<cv;R++){PA(F.Ed[R]);}F.Ed.splice(0,cv);}},10);}}};var Gc={FreehandSignature:{lineColor:'color',lineWidth:'thickness',pathWidth:false,pathHeight:false},FreehandAnnotation:{lineColor:'color',lineWidth:'thickness',pathWidth:false,pathHeight:false},LineAnnotation:{lineColor:'color',lineWidth:'thickness'},PolylineAnnotation:{lineColor:'color',lineWidth:'thickness'},TextSignature:{textColor:false,fillColor:'color'},TextInputSignature:{lineVisible:false},StampAnnotation:{text:'label',fillColor:'color'},StampRedaction:{text:'label'},StrikethroughAnnotation:{lineColor:'color',lineWidth:'thickness',rectangle:'position'},RectangleRedaction:{text:'reason'},TextRedaction:{opacity:false},HighlightAnnotation:{rectangle:'position'},TextSelectionRedaction:{rectangle:'position',text:'reason'},TextHyperlinkAnnotation:{rectangle:'position'}};var Oa={lineColor:"borderColor",lineWidth:"borderThickness",pathString:"path",textColor:"fontColor",textHorizontalAlignment:"horizontalAlignment"};this.ni=function(aj,V){var h=F.cK[V.mark.get_markID()];var ao;if(h){ao=h.ao;}if(ao&&Gc[ao]&&Gc[ao][V.propertyName]===false){return;}var cu;if(ao){cu=Gc[ao]&&Gc[ao][V.propertyName]?Gc[ao][V.propertyName]:Oa[V.propertyName]?Oa[V.propertyName]:V.propertyName;}else{cu=Oa[V.propertyName]?Oa[V.propertyName]:V.propertyName;}if(V.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||V.mark.get_type()===IPCC.Web.UI.MarkType.Highlight||V.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||V.mark.get_type()===IPCC.Web.UI.MarkType.TextHighlightAnnotation||V.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||V.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||(V.mark.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&V.mark.aY!==undefined)){if(h){setTimeout(function(){F.trigger('MarkChanged',{mark:h,pageNumber:V.pageIndex+1,propertyName:cu});},0);}else{for(var iT in F.cK){if(F.cK.hasOwnProperty(iT)){h=F.cK[iT];if(h.aY===V.mark.aY){break;}}}}F.oX(h,V.pageIndex);}else if(h&&V.mark.get_type()===IPCC.Web.UI.MarkType.Polyline&&cu==='points'){if(h.Yo){clearTimeout(h.Yo);}h.Yo=setTimeout(function(){h.Yo=undefined;F.oX(h,V.pageIndex);F.trigger('MarkChanged',{mark:h,pageNumber:V.pageIndex+1,propertyName:cu});},1);}else if(h){F.oX(h,V.pageIndex);setTimeout(function(){F.trigger('MarkChanged',{mark:h,pageNumber:V.pageIndex+1,propertyName:cu});},0);}if(h&&h.type===PCCViewer.Mark.Type.TextRedaction){h.L.set_opacity(0);}if(h&&(h.ao===PCCViewer.Mark.Type.TextInputSignature||h.ao===PCCViewer.Mark.Type.TextAreaSignature)){h.L.set_lineVisible(false);}};this.bv.add_markChanged(F.ni);this.bv.add_markReordered(function(sender,eventArgs){var h=F.cK[eventArgs.mark.get_markID()];setTimeout(function(){F.trigger('MarkReordered',{mark:h,pageNumber:eventArgs.pageIndex+1,index:eventArgs.zIndex,oldIndex:eventArgs.oldZIndex});},0);});this.Ep=function(sender,eventArgs){if(eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText){var h;for(var MI in F.cK){if(F.cK.hasOwnProperty(MI)){h=F.cK[MI];if(h.L.aY===eventArgs.mark.aY){h.L.set_selected(eventArgs.mark.get_selected());F.oX(h.L,h.L.aP);for(var R=0;R<h.cZ.length;R++){h.cZ[R].set_selected(eventArgs.mark.get_selected());F.oX(h.cZ[R],h.cZ[R].aP);}}}}}setTimeout(function(){F.trigger('MarkSelectionChanged',{pageNumber:eventArgs.pageIndex+1});},0);};this.bv.add_markSelectionChanged(F.Ep);this.bv.add_markTextSelectionChanged(function(sender,eventArgs){F.oX(eventArgs.mark,eventArgs.pageIndex);});this.Ec=function(sender,eventArgs){var h;if(eventArgs.mark){h=F.cK[eventArgs.mark.get_markID()];if((eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)&&h===undefined&&eventArgs.mark.aY!==undefined){F.oX(eventArgs.mark,eventArgs.pageIndex);}else if(h){setTimeout(function(){F.trigger(PCCViewer.EventType.MarkRemoved,{mark:h,pageNumber:eventArgs.pageIndex});},0);}}};this.bv.add_markRemoved(F.Ec);this.bv.add_commentAdding(function(sender,eventArgs){var h=F.cK[eventArgs.mark.get_markID()];if(eventArgs.comment.IG.hT===undefined){eventArgs.comment.IG.hT=F.getActiveMarkupLayer();}});this.bv.add_commentAdded(function(sender,eventArgs){var h=F.cK[eventArgs.mark.get_markID()];F.trigger(PCCViewer.EventType.CommentCreated,{conversation:h.getConversation(),comment:eventArgs.comment.IG});});this.bv.add_commentRemoved(function(sender,eventArgs){var h=F.cK[eventArgs.mark.get_markID()];F.trigger(PCCViewer.EventType.CommentRemoved,{conversation:h.getConversation(),comment:eventArgs.comment.IG});});this.bv.add_commentChanged(function(sender,eventArgs){var h=F.cK[eventArgs.mark.get_markID()];F.trigger(PCCViewer.EventType.CommentChanged,{conversation:h.getConversation(),comment:eventArgs.comment.IG});});this.bv.add_scaleChanged(function(sender,eventArgs){var eH;switch(eventArgs.fitType){case 0:eH=PCCViewer.FitType.FullWidth;break;case 1:eH=PCCViewer.FitType.ShrinkToWidth;break;case 2:eH=PCCViewer.FitType.ActualSize;break;case 3:eH=PCCViewer.FitType.FullHeight;break;case 4:eH=PCCViewer.FitType.FullPage;break;default:break;}F.trigger(PCCViewer.EventType.ScaleChanged,{scaleType:eventArgs.scaleType,trigger:eventArgs.scaleTrigger,fitType:eH,scaleFactor:eventArgs.scaleFactor});});};ViewerControl.prototype.getPageCount=function(){return this.eD;};ViewerControl.prototype.getPageNumber=function(){return(this.bv)?(this.bv.amQ().get_pageNumber()+1):1;};ViewerControl.prototype.setPageNumber=function(pageNumber){var aM;if(typeof(pageNumber)==='number'){aM=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{aM=Number(pageNumber);}}if(parseInt(aM,10)!==aM){throw new Error("The 'pageNumber' value "+aM+" is not an integer page number.");}if(aM<1||aM>this.getPageCount()|| !isFinite(aM)){throw "The parameter pageNumber is out of range.";}if(this.getPageNumber()===aM){return this;}if(this.bv){this.bv.scrollToPage(aM-1);}return this;};ViewerControl.prototype.changeToFirstPage=function(){if(this.bv){if(this.EF||this.nm){this.bv.scrollToFirstPage();}}return this;};ViewerControl.prototype.changeToLastPage=function(){if(this.bv){if(this.EF||this.nm){this.bv.scrollToLastPage();}}return this;};ViewerControl.prototype.changeToNextPage=function(){if(this.bv){if(this.EF||this.nm){this.bv.scrollToNextPage();}}return this;};ViewerControl.prototype.changeToPrevPage=function(){if(this.bv){if(this.EF||this.nm){this.bv.scrollToPreviousPage();}}return this;};ViewerControl.prototype.scrollBy=function(offsetX,offsetY){if(!this.eR){throw new Error("The method scrollTo requires the viewer to be in a 'ViewerReady' state.");}var F=this;if(typeof offsetX==='number'&&typeof offsetY==='number'){F.bv.scrollBy(offsetX,offsetY);}else{if(isNaN(+offsetX)||isNaN(+offsetY)){throw new PCCViewer.Error('InvalidArgument','Please provide integer values for offsetX and offsetY properties.');}else{F.bv.scrollBy(Number(+offsetX),Number(+offsetY));}}return this;};ViewerControl.prototype.scrollTo=function(target){if(!this.eR){throw new Error("The method scrollTo requires the viewer to be in a 'ViewerReady' state.");}if(this.gs){this.gs.reject(new PCCViewer.Error("Error","The scrollTo method was called before this scrollToAsync method completed scrolling, so scrolling for this scrollToAsync method has been cancelled."));this.gs=null;this.kF=null;}var F=this;var Iz=function(){F.bv.scrollConversationIntoView(target.getMark().L.get_conversation());if(F.gs){F.gs.resolve();}F.gs=null;F.kF=null;};var uQ=function(ev){if(ev.target.wa===target){F.off(PCCViewer.EventType.CommentCreated,uQ);F.wa=null;F.scrollTo(target);}else if(ev.target.wa===null){F.off(PCCViewer.EventType.CommentCreated,uQ);}if(F.gs){F.gs.resolve();}F.gs=null;F.kF=null;};var GW=function(aM,gI){F.bv.scrollRegionIntoView(aM-1,gI);if(F.gs){F.gs.resolve();}F.gs=null;F.kF=null;};abY(F,target,uQ,Iz,GW);return this;};ViewerControl.prototype.scrollToAsync=function(target){if(this.gs){this.gs.reject(new PCCViewer.Error("Error","The scrollToAsync method was called before this scrollToAsync method completed scrolling, so scrolling for this scrollToAsync method has been cancelled."));this.gs=null;this.kF=null;}var ai=PCCViewer.Deferred();var cf=ai.getPromise();var F=this;F.gs=ai;try{var Iz=function(){F.bv.scrollConversationIntoView(target.getMark().L.get_conversation());if(F.gs){F.gs.resolve();}F.gs=null;F.kF=null;};var uQ=function(ev){if(ev.target.wa===target){F.off(PCCViewer.EventType.CommentCreated,uQ);F.wa=null;F.scrollTo(target);}else if(ev.target.wa===null){F.off(PCCViewer.EventType.CommentCreated,uQ);}if(F.gs){F.gs.resolve();}F.gs=null;F.kF=null;};var GW=function(aM,gI){F.bv.scrollRegionIntoView(aM-1,gI);if(F.gs){F.gs.resolve();}F.gs=null;F.kF=null;};if(abY(F,target,uQ,Iz,GW)===true){ai.resolve();}}catch(e){F.gs=null;F.kF=null;ai.reject(new PCCViewer.Error("Error",e));}return cf;};function abY(bf,cw,uQ,Iz,GW){var gI,aM,bG;bf.wa=null;if(cw instanceof PCCViewer.Conversation){if(bf.cK[cw.getMark().getId()]===undefined){throw new Error("The parameter target is a conversation of a mark unknown to the viewer control.");}var abr=bf.bv.scrollConversationIntoView(cw.getMark().L.get_conversation());if(abr==="PageOutOfView"){bf.kF=Iz;bf.setPageNumber(cw.getMark().getPageNumber());return false;}else if(abr==="ConversationDivDoesNotExist"&&cw.getMark().L.get_conversation().get_length()>0){bf.wa=cw;bf.on(PCCViewer.EventType.CommentCreated,uQ);return false;}else{bf.kF=null;return true;}}else if(cw instanceof PCCViewer.SearchResult){if(cw.Hs!==bf.bE.get_documentIdentifier()){throw new Error("The parameter target is a SearchResult that was not created using the current document viewing session.");}bG=cw.getBoundingRectangle();gI=new IPCC.Web.UI.Rectangle(bG.x,bG.y,bG.width,bG.height);aM=cw.getPageNumber();}else if(cw instanceof PCCViewer.Mark){if(bf.cK[cw.getId()]===undefined){throw new Error("The parameter target is a mark unknown to the viewer control.");}bG=cw.getBoundingRectangle();gI=new IPCC.Web.UI.Rectangle(bG.x,bG.y,bG.width,bG.height);aM=cw.getPageNumber();}else if(cw!==undefined&&cw!==null){if(typeof cw.x==='number'&&typeof cw.y==='number'){gI=new IPCC.Web.UI.Rectangle(+cw.x,+cw.y,0,0);}else{if(isNaN(+cw.x)||isNaN(+cw.y)){throw new Error('The parameter target does not contain a valid x and y values.');}else{gI=new IPCC.Web.UI.Rectangle(Number(+cw.x),Number(+cw.y),0,0);}}if(cw.width){if(typeof cw.width==='number'){gI.width=cw.width;}else{if(isNaN(+cw.width)){throw new Error('The parameter target does not contain a valid width value.');}else{gI.width=Number(+cw.width);}}}if(cw.height){if(typeof cw.height==='number'){gI.height=cw.height;}else{if(isNaN(+cw.height)){throw new Error('The parameter target does not contain a valid height value.');}else{gI.height=Number(+cw.height);}}}if(typeof cw.pageNumber==='number'){aM= +cw.pageNumber;}else{if(isNaN(+cw.pageNumber)){throw new Error('The parameter target does not contain a valid pageNumber value.');}else{aM=Number(+cw.pageNumber);}}}else{throw new Error('The target parameter must be a Mark, SearchResult, or Point.');}if(aM<1||aM>bf.getPageCount()|| !isFinite(aM)){throw new RangeError("The parameter pageNumber is out of range.");}if(bf.bv.scrollRegionIntoView(aM-1,gI)===false){bf.kF=function(){GW(aM,gI);};bf.setPageNumber(aM);return false;}else{bf.kF=null;return true;}};ViewerControl.prototype.rotatePage=function(degreesClockwise){if(!this.eR){throw "The method rotatePage requires the viewer to be in a 'ViewerReady' state.";}if(xs(this.getPageNumber()-1,this)===false){this.bv.cn(this.getPageNumber()-1);}var jk=degreesClockwise%360,F=this;if(jk!==0){var vq=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!jk||vq.indexOf(jk)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}else{if(!jk||IPCC.Web.iM(vq,jk)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}this.bv.rotate(jk);}setTimeout(function(){F.trigger("PageRotated",{degreesClockwise:jk,pageNumber:(F.getPageNumber())});},0);return this;};ViewerControl.prototype.rotateDocument=function(degreesClockwise){if(!this.eR){throw "The method rotateDocument requires the viewer to be in a 'ViewerReady' state.";}if(xs(this.getPageNumber()-1,this)===false){this.bv.cn(this.getPageNumber()-1);}var jk=degreesClockwise%360,F=this;if(jk!==0){var vq=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!jk||vq.indexOf(jk)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}else{if(!jk||IPCC.Web.iM(vq,jk)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}this.bv.aeF(jk);}setTimeout(function(){F.trigger("DocumentRotated",{degreesClockwise:jk});},0);return this;};ViewerControl.prototype.getScaleFactor=function(){if(!this.tx){throw "The getScaleFactor method cannot be called before the initial PageOpening event.";}return this.bv.get_scaleFactor();};ViewerControl.prototype.setScaleFactor=function(scaleFactor){if(!this.tx){throw "The setScaleFactor method cannot be called before the initial PageOpening event.";}if(isNaN(+scaleFactor)||(+scaleFactor<this.getMinScaleFactor())||(+scaleFactor>this.getMaxScaleFactor())){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('scaleFactor',scaleFactor,'The value must be a number between the values returned by the getMinScaleFactor and getMaxScaleFactor methods.');}this.bv.set_scaleFactor(+scaleFactor);return this;};ViewerControl.prototype.getMinScaleFactor=function(){if(!this.tx){throw "The getMinScaleFactor method cannot be called before the initial PageOpening event.";}return this.bv.getMinMaxZoom().minFactor;};ViewerControl.prototype.getMaxScaleFactor=function(){if(!this.tx){throw "The getMaxScaleFactor method cannot be called before the initial PageOpening event.";}return this.bv.getMinMaxZoom().maxFactor;};ViewerControl.prototype.zoomIn=function(zoomFactor){if(!this.tx){throw "The zoomIn method cannot be called before the initial PageOpening event.";}if(isNaN(+zoomFactor)||(+zoomFactor<1.01)||(+zoomFactor>20)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('zoomFactor',zoomFactor,'The value must be a number between 1.01 and 20 inclusive.');}if(this.bv){this.bv.zoomIn(+zoomFactor);}return this;};ViewerControl.prototype.zoomOut=function(zoomFactor){if(!this.tx){throw "The zoomOut method cannot be called before the initial PageOpening event.";}if(isNaN(+zoomFactor)||(+zoomFactor<1.01)||(+zoomFactor>20)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('zoomFactor',zoomFactor,'The value must be a number between 1.01 and 20 inclusive.');}if(this.bv){this.bv.zoomOut(+zoomFactor);}return this;};ViewerControl.prototype.getViewMode=function(){var oA;if(this.bv&&this.bv.get_viewMode){oA=this.bv.get_viewMode();}else{oA=this.bA.viewMode;}if(oA===IPCC.ViewMode.EqualWidthPages){return PCCViewer.ViewMode.EqualWidthPages;}else if(oA===IPCC.ViewMode.EqualFitPages){return PCCViewer.ViewMode.EqualFitPages;}else if(oA===IPCC.ViewMode.SinglePage){return PCCViewer.ViewMode.SinglePage;}else{return PCCViewer.ViewMode.Document;}};ViewerControl.prototype.setViewMode=function(viewMode){var oA;switch(viewMode){case PCCViewer.ViewMode.Document:oA=IPCC.ViewMode.Document;break;case PCCViewer.ViewMode.EqualWidthPages:oA=IPCC.ViewMode.EqualWidthPages;break;case PCCViewer.ViewMode.EqualFitPages:oA=IPCC.ViewMode.EqualFitPages;break;case PCCViewer.ViewMode.SinglePage:oA=IPCC.ViewMode.SinglePage;break;default:throw new RangeError("The value of viewMode is not a supported value.");}if(this.bv&&this.bv.set_viewMode){var Hf=this.bv.get_viewMode();if(Hf!==oA){if(Hf===IPCC.ViewMode.SinglePage){throw new Error("The view mode may not be changed from SinglePage to another view mode after initializing the viewer.");}else if(oA===IPCC.ViewMode.SinglePage){throw new Error("The view mode may not be changed to SinglePage after initializing the viewer. Please use the viewMode viewer parameter instead.");}this.bv.set_viewMode(oA);}}else{this.bA.viewMode=oA;}return this;};ViewerControl.prototype.getPageLayout=function(){var wh;if(this.bv&&this.bv.get_pageLayout){wh=this.bv.get_pageLayout();}else{wh=this.bA.pageLayout;}if(wh===IPCC.PageLayout.HorizontalScrollDirection){return PCCViewer.PageLayout.Horizontal;}else{return PCCViewer.PageLayout.Vertical;}};ViewerControl.prototype.setPageLayout=function(pageLayout){var wh;if(this.bA.viewMode!==IPCC.ViewMode.SinglePage){switch(pageLayout){case PCCViewer.PageLayout.Vertical:wh=IPCC.PageLayout.VerticalScrollDirection;break;case PCCViewer.PageLayout.Horizontal:if(this.bv&&this.bv.closeCommentsPanel){this.bv.closeCommentsPanel();var F=this;setTimeout(function(){F.trigger("CommentsPanelToggled",{isOpen:false});},10);}wh=IPCC.PageLayout.HorizontalScrollDirection;break;default:throw new RangeError("The value of pageLayout is not a supported value.");}}if(this.bv&&this.bv.set_pageLayout){this.bv.set_pageLayout(wh);}else{this.bA.pageLayout=wh;}return this;};ViewerControl.prototype.getAtMaxScale=function(){if(!this.tx){throw "The getAtMaxScale method cannot be called before the initial PageOpening event.";}return this.bv.getMinMaxZoom().atMax;};ViewerControl.prototype.getAtMinScale=function(){if(!this.tx){throw "The getAtMinScale method cannot be called before the initial PageOpening event.";}return this.bv.getMinMaxZoom().atMin;};ViewerControl.prototype.fitContent=function(fitType){if(!this.tx){throw "The fitContent method cannot be called before the initial PageOpening event.";}var DE;switch(fitType){case PCCViewer.FitType.FullWidth:DE=IPCC.FitType.FitToWidth;break;case PCCViewer.FitType.ShrinkToWidth:DE=IPCC.FitType.ShrinkToWidth;break;case PCCViewer.FitType.ActualSize:if(this.getViewMode()===PCCViewer.ViewMode.EqualWidthPages||this.getViewMode()===PCCViewer.ViewMode.EqualFitPages){throw new Error("Fitting content actual size is not supported when in EqualFitPages view mode.");}DE=IPCC.FitType.ActualSize;break;case PCCViewer.FitType.FullHeight:DE=IPCC.FitType.FitToHeight;break;case PCCViewer.FitType.FullPage:DE=IPCC.FitType.BestFit;break;default:throw new RangeError("The value of fitType is not a supported value.");}this.sk.then(function(rs){rs.fitPages(DE);});return this;};ViewerControl.prototype.getPageRotation=function(pageNumber){if(!this.eR){throw new Error("The method getPageRotation requires the viewer to be in a 'ViewerReady' state.");}var aM;if(arguments.length>0){if(typeof(pageNumber)==='number'){aM=pageNumber;}else{if(isNaN(+pageNumber)){throw new Error("The parameter pageNumber is not a number.");}else{aM=Number(pageNumber);}}if(parseInt(aM,10)!==aM){throw new Error("The 'pageNumber' value "+aM+" is not an integer page number.");}if(aM<1||aM>this.getPageCount()|| !isFinite(aM)){throw new Error("The parameter pageNumber is out of range.");}return this.bv.Zq(aM-1);}else{return this.bv.Zq();}};ViewerControl.prototype.search=function(ez){var bA=this.bA;var aAd=bA.searchMethodType.toLowerCase();var alM=bA.searchMethodPageCountThreshold;var F=this;var UY;var jD;var GF=new PCCViewer.SearchRequest(true);if(Object.defineProperties){Object.defineProperties(GF,{"searchQuery":{enumerable:true,get:function(){return jD.getSearchQuery();}},"results":{enumerable:true,get:function(){return jD.getResults();}},"isComplete":{enumerable:true,get:function(){return jD.getIsComplete();}},"errorCode":{enumerable:true,get:function(){return jD.getErrorCode();}},"errorMessage":{enumerable:true,get:function(){return jD.getErrorMessage();}}});}function IK(al){return function(){GF.trigger.apply(GF,[al].concat([].slice.call(arguments)));};};var abp=IK(PCCViewer.EventType.SearchCompleted);var abC=IK(PCCViewer.EventType.SearchCancelled);var aad=IK(PCCViewer.EventType.SearchResultsAvailable);var aau=IK(PCCViewer.EventType.PartialSearchResultsAvailable);var aam=function(bP){var fv=UY.getErrorCode();if(fv==='ServerSearchUnavailable'){F.aaH=true;F.zz=false;azt();jD=F.clientSearch(ez);amO();}else{IK(PCCViewer.EventType.SearchFailed).apply(null,arguments);}};var amO=function(){jD.on(PCCViewer.EventType.SearchCompleted,abp);jD.on(PCCViewer.EventType.SearchFailed,aam);jD.on(PCCViewer.EventType.SearchCancelled,abC);jD.on(PCCViewer.EventType.SearchResultsAvailable,aad);jD.on(PCCViewer.EventType.PartialSearchResultsAvailable,aau);};var azt=function(){jD.off(PCCViewer.EventType.SearchCompleted,abp);jD.off(PCCViewer.EventType.SearchFailed,aam);jD.off(PCCViewer.EventType.SearchCancelled,abC);jD.off(PCCViewer.EventType.SearchResultsAvailable,aad);jD.off(PCCViewer.EventType.PartialSearchResultsAvailable,aau);};var Dz=function(){if(F.aaH===false){UY=F.serverSearch(ez);jD=UY;amO();IPCC.J.forEach(['getSearchQuery','getResults','getIsComplete','getErrorCode','getErrorMessage','cancel','getPagesWithoutText'],function(al){GF[al]=function(){return jD[al].apply(jD,arguments);};});return GF;}else{return F.clientSearch(ez);}};switch(aAd){case('auto'):if(alM>=this.eD){return this.clientSearch(ez);}else{return Dz();}break;case('client'):return this.clientSearch(ez);case('server'):return Dz();default:throw new Error("The value of 'options.searchMethodType' should be 'auto', 'server', or 'client'.");}};ViewerControl.prototype.aiI=function(ez,aAs){var F=this;var ds=new PCCViewer._Search();this.ap=ds.arY();PCCViewer.SearchTask.prototype.adm(ez);if(aAs===true){if(F.yi!==true){F.sk.then(function(rs){var FU=function(){F.off('PageCountReady',FU);F.clientSearch(ez);};F.on('PageCountReady',FU);return F.ap;});}if(!this.bE.atp()){this.bE.Nq(0,this.bE.eD-1,this.bE.eD);}}this.vD=null;this.EW={};this.bv.clearAllSelectedText();return ds;};ViewerControl.prototype.ahn=function(){var ae=this;this.ap.on('PartialSearchResultsAvailable',function(dF){if(ae.yC){return;}var Jo=[];var Sb={};Jo=dF.partialSearchResults;var bC=Jo[0];if(ae.EW[bC.getPageNumber()]!==undefined){Sb=ae.EW[bC.getPageNumber()];}else{Sb.as=bC.getId();}bC=Jo[Jo.length-1];Sb.cL=bC.getId();ae.EW[bC.getPageNumber()]=Sb;function Er(aC){if(ae.yC){return;}ae.afQ(aC.get_pageNumber(),Jo);};var dG=ae.bv.get_displayedPages();for(var R=0;R<dG.get_length();R++){var aC=dG.getPage(R);if(aC.get_pageNumber()+1===bC.getPageNumber()){ae.requestPageText(aC.get_pageNumber()+1).then(Er.bind(null,aC));}}});this.ap.on('SearchCompleted',function(dF){ae.zz=false;});this.ap.on('SearchCancelled',function(dF){ae.zz=false;});this.trigger('SearchPerformed',{searchRequest:this.ap});};ViewerControl.prototype.clientSearch=function(searchQuery){var ae=this;var ds=ae.aiI(searchQuery,true);searchQuery=ds.SJ(searchQuery);if(this.zz===false){ae.bv.set_retainPageText(true);this.ap=ds.uf(searchQuery,this.bE);this.zz=true;}else{throw new Error("You cannot run multiple searches concurrently. Retry after the current search is completed.");}ae.ahn();return this.ap;};ViewerControl.prototype.serverSearch=function(searchQuery){var ae=this;var ds=ae.aiI(searchQuery,false);searchQuery=ds.SJ(searchQuery);if(this.zz===false){this.ap=ds.Dz(searchQuery,this.bE);this.zz=true;}else{throw new Error("You cannot run multiple searches concurrently. Retry after the current search is completed.");}ae.ahn();return this.ap;};ViewerControl.prototype.getSearchRequest=function(){return this.ap;};ViewerControl.prototype.clearSearch=function(){if(!this.eR){throw "The clearSearch method requires the viewer to be in a 'ViewerReady' state.";}var F=this;if(this.getSelectedSearchResult()){this.vD=null;setTimeout(function(){F.trigger(PCCViewer.EventType.SearchResultSelectionChanged,{});},0);}this.bv.clearAllSelectedText();this.ap=null;setTimeout(function(){F.trigger(PCCViewer.EventType.SearchCleared,{});},0);return this;};ViewerControl.prototype.validateSearch=function(ez){var fz={errorsExist:false};var searchTermObj,amv,R,bM,Zg,Oo,Qb;if(typeof ez!=='object'&&typeof ez!=='string'){fz.errorsExist=true;fz.summaryMsg="Search query must be either an object or string.";return fz;}if(typeof ez==='string'&&ez.length<0){fz.errorsExist=true;fz.summaryMsg="Search term must contain at least 3 characters.";return fz;}else if(typeof ez==='string'){return fz;}if(!ez.hasOwnProperty('searchTerms')){fz.errorsExist=true;fz.summaryMsg="Search options must have a 'searchTerms' key.";return fz;}if(Object.prototype.toString.call(ez.searchTerms)!=='[object Array]'){fz.errorsExist=true;fz.summaryMsg="Search terms value must be an array.";return fz;}if(!ez.searchTerms.length){fz.errorsExist=true;fz.summaryMsg="Search terms array must contain at least one value.";return fz;}fz.searchTerms=[];IPCC.J.forEach(ez.searchTerms,function(searchTermObj){var Kq=akK(searchTermObj);if(Kq.errorsExist){fz.errorsExist=true;}fz.searchTerms=fz.searchTerms.concat(Kq.searchTerms);});return fz;};function akK(kz){var fz={errorsExist:false,searchTerms:[]};var amF=kz.type?IPCC.J.trim(kz.type).toLowerCase():undefined;if(amF==='proximity'){if(Object.prototype.toString.call(kz.terms)!=='[object Array]'){fz.searchTerms.push({isValid:false,message:"Proximity search terms property must be an array"});fz.errorsExist=true;return fz;}if(kz.terms.length<2){fz.searchTerms.push({isValid:false,message:"Proximity search terms array must contain at least two values"});fz.errorsExist=true;return fz;}if(!kz.distance){fz.searchTerms.push({isValid:false,message:"Proximity search term must have a distance specified"});fz.errorsExist=true;return fz;}IPCC.J.forEach(kz.terms,function(ayp){var Kq=akK(ayp);if(Kq.errorsExist){fz.errorsExist=true;}fz.searchTerms=fz.searchTerms.concat(Kq.searchTerms);});return fz;}var Zg,Qb;var Oo=(typeof kz.matchingOptions!=='undefined'&&kz.matchingOptions.hasOwnProperty('matchCase'))?kz.matchingOptions.matchCase:false;if(typeof kz.searchTerm==='undefined'||typeof kz.searchTerm!=='string'||(kz.searchTermIsRegex===true&& !aBM(kz.searchTerm,Oo))){fz.errorsExist=true;fz.searchTerms.push({isValid:false,message:"Search term must be a string containing either plain text or a valid regular expression."});return fz;}Zg=(typeof kz.matchingOptions!=='undefined'&&kz.matchingOptions.hasOwnProperty('exactPhrase'))?kz.matchingOptions.exactPhrase:false;if(Zg){if(kz.searchTerm.length<0){fz.errorsExist=true;fz.searchTerms.push({isValid:false,message:"Search term must contain at least 3 characters."});return fz;}}else{var amv=kz.searchTerm.split(' ');IPCC.J.forEach(amv,function(Qb){if(Qb.length>0&&Qb.length<0){fz.errorsExist=true;fz.searchTerms.push({isValid:false,message:"Search term must contain at least 3 characters."});}});}if(!fz.searchTerms.length){fz.searchTerms.push({isValid:true,message:null});}return fz;};var aBM=function(UM,Oo){var aDy,Ta,NV;if(Oo){Ta='gm';}else{Ta='igm';}if(!UM&&UM!==null){NV=false;}else{try{aDy=new RegExp(UM,Ta);NV=true;}catch(err){NV=false;}}return NV;};ViewerControl.prototype.requestRevisions=function(){this.jY=new PCCViewer.IJ({imageHandlerUrl:this.bA.imageHandlerUrl,documentID:this.bA.documentID});return this.jY.azh();};ViewerControl.prototype.fT=function(YB){var Cn=false,dG=this.bv.get_displayedPages();for(var R=0;R<dG.get_length();R++){var aC=dG.getPage(R);if(aC.get_pageNumber()===YB){Cn=true;}}return Cn;};ViewerControl.prototype.getDownloadDocumentURL=function(){var ab;if(!(/^[\x00-\x7F]*$/.test(this.bE))){ab=this.bA.imageHandlerUrl+'/SaveDocument/q?DocumentID=e'+this.bA.documentID+'/SourceFile';}else{ab=this.bA.imageHandlerUrl+'/SaveDocument/q?DocumentID=u'+encodeURIComponent(this.bA.documentID);}return ab;};ViewerControl.prototype.requestDocumentHyperlinks=function(pageNumber){var aM;var ai=PCCViewer.Deferred();var cf=ai.getPromise();var bf=this;try{if(typeof(pageNumber)==='number'){aM=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{aM=parseInt(pageNumber,10);}}if(aM<1||aM>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}var Zp=this.CD[aM-1];if(!Zp){Zp=this.CD[aM-1]=new PCCViewer.Deferred();this.sk.then(function(){var aC=bf.cA.getPage(aM-1);aC.zp();});}ai.resolve(Zp.getPromise());}catch(e){ai.reject(new PCCViewer.Error('Error',e));}return cf;};ViewerControl.prototype.asI=function(aAY){var i,j,yO;for(j=0;j<this.Bp.length;j++){yO=this.Bp[j];if(yO){for(i=0;i<yO.length;i++){if(yO[i].zD.PZ()===aAY){return yO[i];}}}}return null;};ViewerControl.prototype.print=Print.print;ViewerControl.prototype.validatePrintRange=Print.validatePrintRange;ViewerControl.prototype.canPrintMarks=Print.canPrintMarks;ViewerControl.prototype.deserializeMarks=function deserializeMarks(values){if(this.eR===false){throw new Error("The method addMark is not available until 'ViewerReady' state is reached.");}var F=this;var eD=F.getPageCount();var fu;if(typeof values==='string'){try{fu=JSON.parse(values);}catch(e){throw new Error('JSON parse error: '+e.message);}}else{fu=values;}if(fu.constructor!==Array){fu=[fu];}function XN(eJ,bO){throw new Error('Cannot serialize mark (at index '+bO+') because of '+eJ);};var ZZ=IPCC.J.map(F.getAllMarks(),function(h){return h.getUid();});IPCC.J.forEach(fu,function validateObject(bu,bO){if(!bu.pageNumber||isNaN(+bu.pageNumber)||bu.pageNumber<1||bu.pageNumber>eD){XN('unknown page number '+bu.pageNumber,bO);}if(!PCCViewer.Mark.Type[bu.type]){XN('unknown type '+bu.type,bO);}if(IPCC.J.contains(ZZ,bu.uid)){XN('uid '+bu.uid+' is being duplicated or already exists',bO);}else if(bu.uid!==undefined){ZZ.push(bu.uid);}});if(fu.length===0){return[];}var da=F.bE.get_pages();var ayT=[];da.jS(function(aC){ayT.push(F.bv.fU(aC));});var bz=IPCC.J.reduce(fu,function(bC,bu){var aC=da.ic(bu.pageNumber-1);var RQ=aC.get_pageWidth();var acF=aC.get_pageHeight();var gw=bu.pageData;if(!gw&&(!RQ|| !acF)){var aGB=IPCC.J.find(bu.lineGroups,function(acB){return(acB.pageNumber&&acB.pageNumber===bu.pageNumber);});gw=aGB.pageData;}var ah=RQ||gw.width;var bU=acF||gw.height;var h=cF[bu.type].call(F,bu,{ah:ah,bU:bU});if(bu.uid===undefined){ZZ.push(h.getUid());}if(!RQ){aC.Cw=true;aC.alp(ah);aC.akt(bU);}if(!h.L.has_unsafe_href()){bC.push(h);}else{F.deleteMarks(h);}return bC;},[]);return bz;};ViewerControl.prototype.serializeMarks=function serializeMarks(marks){var ai=PCCViewer.Deferred();var cf=ai.getPromise();var F=this,bz,aBO=false;function adH(eJ){setTimeout(function(){ai.reject(eJ);},0);};if(Object.prototype.toString.call(marks)==='[object Array]'){bz=marks;}else if(marks){bz=[marks];aBO=true;}else{adH(new PCCViewer.Error('InvalidArgument','`marks` is not defined or falsy.'));return cf;}var Oc;bz=IPCC.J.filter(bz,function(kh,bO){var FS=kh instanceof PCCViewer.Mark&&kh===F.getMarkById(kh.getId())&& ! !ed[kh.getType()];if(!FS&& !Oc){Oc=bO;}return FS;});if(Oc){adH(new PCCViewer.Error('InvalidArgument','Cannot serialize object at index '+Oc+' because it is not a valid mark or a mark known to ViewerControl'));return cf;}var Xa=F.bE.get_pages();var da=IPCC.J.reduce(bz,function(fB,kh){var aM=kh.getPageNumber();if(fB[aM]){return fB;}fB[aM]=Xa.getPage(aM-1);return fB;},{});function avf(h,aC,aCZ){return function(lO){ed[h.getType()]({mark:h,page:aC,vc:F},function(ct,dp){if(!ct){aCZ(dp);lO();}else{ai.reject(ct);}});};};var rz=[];var asp=IPCC.J.map(bz,function(kh,bO){return avf(kh,da[kh.getPageNumber()],function(dp){rz[bO]=dp;});});IPCC.J.Yc(asp,function(){ai.resolve(rz);});return cf;};ViewerControl.prototype.setRedactionViewMode=function(redactionViewMode){var LO,Xi;switch(redactionViewMode){case PCCViewer.RedactionViewMode.Draft:LO=true;Xi=PCCViewer.RedactionViewMode.Draft;break;case PCCViewer.RedactionViewMode.Normal:LO=false;Xi=PCCViewer.RedactionViewMode.Normal;break;default:throw new RangeError("The value of RedactionViewMode is not a supported value.");}if(this.bv&&this.bv.set_redactionDraftMode){var avK=this.bv.get_redactionDraftMode();if(avK!==LO){this.bv.set_redactionDraftMode(LO);}}else{this.bA.redactionViewMode=Xi;}return this;};ViewerControl.prototype.getRedactionViewMode=function(){var aiJ;if(this.bv&&this.bv.get_redactionDraftMode){aiJ=this.bv.get_redactionDraftMode();if(aiJ===true){return PCCViewer.RedactionViewMode.Draft;}else{return PCCViewer.RedactionViewMode.Normal;}}else{return this.bA.redactionViewMode;}};ViewerControl.prototype.convertToRedaction=function(searchResult){var F=this;var eC=searchResult;if(this.eR===false){throw "The convertToRedaction method can not be used until 'ViewerReady' state is reached.";}else if(eC instanceof Array){throw new Error("Argument for this method cannot be an array.");}else if(eC instanceof PCCViewer.SearchResult===false){throw new Error("The argument is not an instance of SearchResult.");}else if(eC.Hs!==this.bE.get_documentIdentifier()){throw new Error("The SearchResult argument was not created using the current document viewing session.");}var aC=F.cA.getPage(eC.getPageNumber()-1);if(!(aC.dg()&&aC.dg().vP()&&aC.dg().mW()===true)){throw new Error("The text has not been retrieved for this page.");}var jg=eC.getStartIndexInPage();var fL=eC.getStartIndexInPage()+eC.getText().length;var kY=IPCC.vY();var bN=F.bv.fU(aC);var gY=aC.dg().gQ();var cW=awy(bN,gY,jg,fL,kY,eC.getPageNumber()-1);var h=new PCCViewer.Mark({type:'TextSelectionRedaction',igMark:cW,pageNumber:eC.getPageNumber()});h.L=cW;h.cZ=[];this.cK[cW.get_markID()]=h;var tI=F.jn;F.jn=function(sender,eventArgs){if(F.sM){F.uH.addMarks(h);}setTimeout(function(){F.trigger('MarkCreated',{mark:h,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};bN.addMark(cW);F.jn=tI;F.bv.display(eC.getPageNumber()-1);return h;};var awy=function(bN,gY,jg,fL,kY,ang){var cW=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);cW.aY=kY;cW.aP=ang;var h=null;var jT={gv:Number.MAX_VALUE,hK:0,_top:Number.MAX_VALUE,kd:0};for(var bM=jg;bM<fL;bM++){var eO=gY.kA(bM);if(h){var yT=h.get_rectangle();if(Math.abs(eO.bV.y-yT.y)<1&&Math.abs(eO.bV.height-yT.height)<1&&eO.bV.x+eO.bV.width>=yT.x+yT.width){h.set_rectangle(new IPCC.Web.UI.Rectangle(yT.x,yT.y,eO.bV.x+eO.bV.width-yT.x,yT.height));}else{ajT(bN,cW,h,jT);h=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);h.set_rectangle(eO.bV);h.ku(true);h.set_fillColor('#000000');h.set_text(cW.ak);h.set_lineWidth(0);h.aY=kY;}}else{h=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);h.set_rectangle(eO.bV);h.ku(true);h.set_fillColor('#000000');h.set_text(cW.ak);h.set_lineWidth(0);h.aY=kY;}h.aP=ang;}if(h!==null){ajT(bN,cW,h,jT);}cW.set_rectangle(new IPCC.Web.UI.Rectangle(jT.gv,jT._top,jT.hK-jT.gv,jT.kd-jT._top));return cW;};var ajT=function(bN,cW,h,jT){var K=h.get_rectangle();if(K.x<jT.gv){jT.gv=K.x;}if(K.y<jT._top){jT._top=K.y;}if(K.x+K.width>jT.hK){jT.hK=K.x+K.width;}if(K.y+K.height>jT.kd){jT.kd=K.y+K.height;}bN.addMark(h);cW.bj.push(h);};ViewerControl.prototype.convertToHighlight=function(searchResult){var eC=searchResult;if(this.eR===false){throw "The convertToHighlight method can not be used until 'ViewerReady' state is reached.";}if(eC instanceof Array){throw new Error("Argument for this method cannot be an array.");}if(eC instanceof PCCViewer.SearchResult===false){throw new Error("The argument is not an instance of SearchResult.");}if(eC.Hs!==this.bE.get_documentIdentifier()){throw new Error("The SearchResult argument was not created using the current document viewing session.");}var cW;var ahW;var bN;var bC=eC;var jg=bC.getStartIndexInPage();var fL=bC.getStartIndexInPage()+bC.getText().length;var kY=IPCC.vY();var F=this;var h;bN=this.bv.fU(this.cA.getPage(bC.getPageNumber()-1));cW=anl(IPCC.Web.UI.MarkType.HighlightText,bC,jg,kY);h=new PCCViewer.Mark({type:'HighlightAnnotation',igMark:cW,pageNumber:bC.getPageNumber()});for(jg;jg<fL;jg++){ahW=anl(IPCC.Web.UI.MarkType.Highlight,bC,jg,kY);bN.addMark(ahW);}this.cK[cW.get_markID()]=h;var tI=this.jn;this.jn=function(sender,eventArgs){if(F.sM){F.uH.addMarks(h);}setTimeout(function(){F.trigger('MarkCreated',{mark:h,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};bN.addMark(cW);F.jn=tI;this.bv.display(bC.getPageNumber()-1);h.fillColor=bC.getHighlightColor();return h;};var anl=function(aN,bC,aDF,kY){var h=new IPCC.Web.UI.Mark(aN);if(aN===IPCC.Web.UI.MarkType.HighlightText){h.cN=bC.getText();}h.as=aDF;h.set_rectangle({x:0,y:0,width:0,height:0});h.cR=bC.getText().length;h.aFP=bC.getStartIndexInPage()+bC.getText().length;h.dk=127;h.cj=bC.getHighlightColor();h.iS='y';h.aY=kY;return h;};ViewerControl.prototype.afQ=function(aP,ey){var bC={};for(var bM=0;bM<ey.length;bM++){bC=ey[bM];this.bv.selectText(bC.getPageNumber()-1,bC.getStartIndexInPage(),bC.getText().length,bC.getHighlightColor());}this.bv.display(bC.getPageNumber()-1);this.Iu[bC.getPageNumber()]='search';};ViewerControl.prototype.abT=function(aP,searchResult){var bC={};if(this.ap===null||typeof this.ap.getResults!=='function'){return;}var ey=this.ap.getResults();this.bv.clearSelectedText(aP-1);var aaS=this.EW[aP];if(!aaS){return;}for(var bM=aaS.as;bM<aaS.cL+1;bM++){bC=ey[bM];if(bC.getPageNumber()===aP){this.bv.selectText(bC.getPageNumber()-1,bC.getStartIndexInPage(),bC.getText().length,bC.getHighlightColor());if(searchResult===bC.getId()){this.bv.selectText(bC.getPageNumber()-1,bC.getStartIndexInPage(),bC.getText().length,bC.getHighlightColor());}}}this.bv.display(bC.getPageNumber()-1);this.Iu[bC.getPageNumber()]='search';};ViewerControl.prototype.setSelectedSearchResult=function(searchResult,scrollTo){if(!this.eR){throw "The setSelectedSearchResult method requires the viewer to be in a 'ViewerReady' state.";}if(searchResult===null){this.Jg= -1;}else{if(!(searchResult instanceof PCCViewer.SearchResult)){throw "The parameter searchResult is not an instance of PCCViewer.SearchResult.";}if(!this.ap){throw "There is no current SearchRequest object available.";}var akW=this.ap.getResults();if(akW[searchResult.getId()].nu!==searchResult.nu){throw "The parameter searchResult is not current. There is a newer version of search result available.";}akW=null;this.Jg=searchResult.getId();if(scrollTo){var bG=searchResult.getBoundingRectangle();var gI=new IPCC.Web.UI.Rectangle(bG.x,bG.y,bG.width,bG.height);if(this.bv.scrollRegionIntoView(searchResult.getPageNumber()-1,gI)===false){this.kF=function(){F.bv.scrollRegionIntoView(searchResult.getPageNumber()-1,gI);};this.setPageNumber(searchResult.getPageNumber());}else{this.kF=null;}}}var F=this;var azT=searchResult!==null?searchResult.getPageNumber(): -1;if(this.vD&&this.vD.getPageNumber()!==azT){F.requestPageText(F.vD.getPageNumber()).then(function Er(){F.abT(F.vD.getPageNumber(),F.Jg);});}if(searchResult){F.requestPageText(searchResult.getPageNumber()).then(function Er(){F.abT(searchResult.getPageNumber(),F.Jg);});}this.vD=searchResult;setTimeout(function(){F.trigger(PCCViewer.EventType.SearchResultSelectionChanged,{});},0);return this;};ViewerControl.prototype.clearSelectedSearchResult=function(){if(!this.eR){throw "The clearSelectedSearchResult method requires the viewer to be in a 'ViewerReady' state.";}this.setSelectedSearchResult(null);return this;};ViewerControl.prototype.getSelectedSearchResult=function(){return this.vD;};ViewerControl.prototype.requestPageText=function(pageNumber){var aM;var ai=PCCViewer.Deferred();var cf=ai.getPromise();var F=this;try{if(typeof(pageNumber)==='number'){aM=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{aM=parseInt(pageNumber,10);}}if(aM<1||aM>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}this.sk.then(function(rs){var aC=F.cA.getPage(aM-1);var ec=aC.dg();ec.acO(true);if(ec&&ec.vP()){if(ec.mW()===true){var ak=aC.dg().Cu();ai.resolve(ak);}else{ai.resolve("");}}else{var Kc=function(aj,cs){if(cs.containsText===true){var ak=ec.Cu();ai.resolve(ak);}else{ai.resolve("");}aC.Dc(Kc);aC.Co(IL);};var IL=function(aj,cs){if(cs.exception&&cs.exception.message){ai.reject(new PCCViewer.Error("TextExtractionFailed",cs.exception.message));}else{ai.reject(new PCCViewer.Error("TextExtractionFailed","Text extraction failed."));}aC.Dc(Kc);aC.Co(IL);};aC.zs(Kc);aC.zy(IL);aC.zp();}});}catch(e){ai.reject(new PCCViewer.Error("Error",e));}return cf;};ViewerControl.prototype.disposePageText=function(pageNumber){var aM;var F=this;if(!this.eR){throw new Error("The disposePageText method requires the viewer to be in a 'ViewerReady' state.");}if(F.bv.get_retainPageText()===true){return this;}if(typeof(pageNumber)==='number'){aM=pageNumber;}else{if(isNaN(+pageNumber)){throw new Error("The parameter pageNumber is not a number.");}else{aM=parseInt(pageNumber,10);}}if(aM<1||aM>this.getPageCount()|| !isFinite(pageNumber)){throw new Error("The specified page is out of range.");}var dG=F.bv.get_displayedPages();for(var R=0;R<dG.get_length();R++){var adv=dG.getPage(R);if(adv.get_pageNumber()===aM-1){adv.dg().acO(false);return this;}}var aC=F.cA.getPage(aM-1);aC.adl();return this;};ViewerControl.prototype.isPageTextReady=function(pageNumber){IPCC.aV.lP(pageNumber,"pageNumber",1,this.getPageCount());var aC;return(this.bv&&this.cA&&(aC=this.cA.getPage(pageNumber-1))&&aC.dg()&&aC.dg().vP())===true;};ViewerControl.prototype.documentHasText=function(){return this.asX;};ViewerControl.prototype.requestPageAttributes=function(pageNumber){var aM;var ai=PCCViewer.Deferred();var cf=ai.getPromise();var F=this;try{if(typeof(pageNumber)==='number'){aM=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{aM=parseInt(pageNumber,10);}}if(aM<1||aM>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}this.sk.then(function(rs){var aC=F.cA.getPage(aM-1);if(aC.kL()>0||aC.iY()>0){ai.resolve({'width':aC.kL(),'height':aC.iY()});}else{var yn=function(bg,aw){ai.resolve({'width':bg,'height':aw});};var yL=function(errorMessage){ai.reject(new PCCViewer.Error("RequestPageAttributesFailed",errorMessage));};rs.requestPageAttributes(aC,yn,yL);}});}catch(e){ai.reject(new PCCViewer.Error("Error",e));}return cf;};ViewerControl.prototype.destroy=function(){if(!this.yC){this.Bp=undefined;this.CD=undefined;this.uH=undefined;this.lH=undefined;this.jY=undefined;this.jw=undefined;if(this.bv&&typeof this.bv.dispose==="function"){this.bv.dispose();}this.ab="";this.eD=0;delete this.bv;this.bE=undefined;this.Mj=0;this.cA=undefined;this.als=false;if(this.hE){IPCC.J.QU(this.hE);this.hE=this.ce=undefined;}this.nm=false;this.yi=false;this.EF=false;this.bv=undefined;this.Xu=undefined;this.sk=undefined;PCCViewer.MouseTools.sv=undefined;this.mi=undefined;this.Bp=undefined;this.IZ=undefined;for(var Ia in this.cK){if(this.cK.hasOwnProperty(Ia)){this.cK[Ia].dp=undefined;this.cK[Ia].dq=undefined;this.cK[Ia].L=undefined;this.cK[Ia]=undefined;}}this.cK=undefined;this.eR=false;this.yC=true;this.trigger=function Vm(){};this.jZ=undefined;this.jZ={};}};ViewerControl.prototype.getMarkById=function(markId){var F=this;if(!isNaN(markId)){markId=parseInt(markId,10);}else{throw "The parameter, markId, contains a value that is not a number.";}if(F.cK[markId]){return F.cK[markId];}else{return null;}};ViewerControl.prototype.getMarksByType=function(markType){var Yh=[];if(typeof markType!=="string"){throw "The parameter, markType, is not a String.";}agp(markType);if(!this.bv){return Yh;}var R=0;var dc=this.cA.get_length();var F=this;function aAT(L){var h=F.cK[L.get_markID()];if(h&&h.getType().toLowerCase()===markType.toLowerCase()){Yh.push(h);}};for(R=0;R<dc;R++){var bN=this.bv.fU(this.cA.getPage(R));if(bN){bN.forEachMark(aAT);}}return Yh;};ViewerControl.prototype.getAllMarks=function(){var Df=[];if(!this.bv){return Df;}var dc=this.cA.get_length();var F=this;var R=0;var h;function Qv(L){var h=F.cK[L.get_markID()];if(typeof h!=='undefined'){Df.push(h);}};for(R=0;R<dc;R++){var bN=this.bv.fU(this.cA.getPage(R));if(bN){bN.forEachMark(Qv);}}return Df;};function agp(markType){var ej;switch(markType.toLowerCase()){case "lineannotation":ej=IPCC.Web.UI.MarkType.Line;break;case "rectangleannotation":ej=IPCC.Web.UI.MarkType.Rectangle;break;case "ellipseannotation":ej=IPCC.Web.UI.MarkType.Ellipse;break;case "textannotation":ej=IPCC.Web.UI.MarkType.Text;break;case "stampannotation":ej=IPCC.Web.UI.MarkType.Stamp;break;case "highlightannotation":ej=IPCC.Web.UI.MarkType.HighlightText;break;case "texthyperlinkannotation":ej=IPCC.Web.UI.MarkType.TextHyperlinkAnnotation;break;case "freehandannotation":ej=IPCC.Web.UI.MarkType.Freehand;break;case "rectangleredaction":ej=IPCC.Web.UI.MarkType.RectangleRedaction;break;case "transparentrectangleredaction":ej=IPCC.Web.UI.MarkType.Rectangle;break;case "textredaction":ej=IPCC.Web.UI.MarkType.Text;break;case "stampredaction":ej=IPCC.Web.UI.MarkType.Stamp;break;case "freehandsignature":ej=IPCC.Web.UI.MarkType.SignaturePath;break;case "textsignature":ej=IPCC.Web.UI.MarkType.SignatureText;break;case "textinputsignature":ej=IPCC.Web.UI.MarkType.TextLine;break;case "textareasignature":ej=IPCC.Web.UI.MarkType.TextAreaSignature;break;case "textselectionredaction":ej=IPCC.Web.UI.MarkType.TextSelectionRedaction;break;case "imagestampannotation":ej=IPCC.Web.UI.MarkType.ImageStampAnnotation;break;case "imagestampredaction":ej=IPCC.Web.UI.MarkType.ImageStampRedaction;break;case "polylineannotation":ej=IPCC.Web.UI.MarkType.Polyline;break;case "strikethroughannotation":ej=IPCC.Web.UI.MarkType.Strikethrough;break;default:throw "The parameter, markType, does not specify a valid mark type.";}return ej;};ViewerControl.prototype.addMarkFromSearchResult=function(searchResult,markType){var F=this,gw;if(F.eR===false){throw "The method addMarkFromSearchResult is not available until 'ViewerReady' state is reached.";}if(!(searchResult instanceof PCCViewer.SearchResult)){throw new PCCViewer.Error("InvalidArgument","searchResult is not a valid instance of PCCViewer.SearchResult");}if([PCCViewer.Mark.Type.TextSelectionRedaction,PCCViewer.Mark.Type.HighlightAnnotation,PCCViewer.Mark.Type.TextHyperlinkAnnotation,PCCViewer.Mark.Type.StrikethroughAnnotation].indexOf(markType)=== -1){throw new PCCViewer.Error("InvalidArgument","The mark type must be: 'TextSelectionRedaction', 'HighlightAnnotation', 'TextHyperlinkAnnotation' or 'StrikethroughAnnotation'.");}if(searchResult.gw.width===0){var HV=F.bE.da.ic(0);gw={width:HV.kL(),height:HV.iY()};}else{gw=searchResult.gw;}var alq=IPCC.J.wG(new Date());var markInfo=[{conversation:{comments:[],data:{}},creationDateTime:alq,data:{},interactionMode:'Full',lineGroups:[{lines:searchResult.bj,pageData:gw,pageNumber:searchResult.pageNumber,startIndex:searchResult.startIndexInPage,textLength:searchResult.text.length}],modificationDateTime:alq,pageNumber:searchResult.pageNumber,pageData:gw,reason:"",selectedText:searchResult.text,startIndex:searchResult.startIndexInPage,textLength:searchResult.text.length,type:markType}];var Qs=F.deserializeMarks(markInfo);return Qs[0];};ViewerControl.prototype.addMark=function(pageNumber,markType){if(this.eR===false){throw "The method addMark is not available until 'ViewerReady' state is reached.";}var aM;if(typeof(pageNumber)==='number'){aM=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter, pageNumber, contains a value that is not a number.";}else{aM=parseInt(pageNumber,10);}}if(aM<1||aM>this.cA.get_length()|| !isFinite(aM)){throw "The specified page is out of range.";}if(typeof markType!=="string"){throw "The parameter, markType, is not a String.";}var h=this.alc(aM,markType);return this.amz(h);};ViewerControl.prototype.alc=function(aM,aN,bA){var F=this;bA=bA||{};var ej=agp(aN);var L=new IPCC.Web.UI.Mark(ej);L.aP=aM-1;var Sz={type:aN,igMark:L,pageNumber:aM,uid:bA.uid,viewerControl:this};if(aN.toLowerCase()==="highlightannotation"||aN.toLowerCase()==="textselectionredaction"||aN.toLowerCase()==="strikethroughannotation"||aN.toLowerCase()==="texthyperlinkannotation"){Sz.cA=F.cA;Sz.bv=F.bv;}var h=new PCCViewer.Mark(Sz);return h;};ViewerControl.prototype.amz=function(h){var F=this;if(F.amY===true){F.amY=false;}else{var tI=F.jn;F.jn=function(sender,eventArgs){F.jn=tI;if(F.sM){F.uH.addMarks(h);}setTimeout(function(){F.trigger('MarkCreated',{mark:h,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};}var bN=this.bv.fU(this.cA.getPage(h.aM-1));bN.addMark(h.L);F.cK[h.L.get_markID()]=h;F.oX(h,h.aM-1);return h;};ViewerControl.prototype.deleteMarks=function(marks){var F=this;var R=0;var h;if(!this.eR){throw "The method deleteMarks can not be used until 'ViewerReady' state is reached.";}function QY(oK){var aP=oK.getPageNumber()-1;var aY='';var ao='';var Jk=aP;var bN=F.bv.fU(F.cA.getPage(aP));bN.removeMark(oK.L);if(F.cK[oK.getId()]){aY=oK.L.aY;ao=oK.getType();delete F.cK[oK.getId()];}var MN=ao.toLowerCase();if((MN==='highlightannotation'||MN==='textselectionredaction'||MN==='strikethroughannotation'||MN==='texthyperlinkannotation')&&(oK.cZ&&oK.cZ.length)){for(var R=0;R<oK.cZ.length;R++){var ln=oK.cZ[R];bN=F.bv.fU(F.cA.getPage(ln.aP));bN.removeMark(ln);F.oX(ln,ln.aP);}}F.lH.forEach(function(ee){if(ee.hasMark(oK.getId())){ee.removeMarks(oK);}});};if(marks instanceof Array){for(R=0;R<marks.length;R++){h=marks[R];if(!(h instanceof PCCViewer.Mark)){throw "The parameter, marks, contains an item that is not a Mark.";}if(!(F.cK[h.getId()])){throw "The parameter, marks, contains a Mark that is not on the document.";}}for(R=0;R<marks.length;R++){QY(marks[R]);F.oX(marks[R],marks[R].getPageNumber()-1);}}else{if(marks instanceof PCCViewer.Mark){if(!(F.cK[marks.getId()])){throw "The parameter, marks, contains a Mark that is not on the document.";}QY(marks);F.oX(marks,marks.getPageNumber()-1);}else{throw "The parameter, marks, is not an Array of Marks or a single Mark.";}}return this;};ViewerControl.prototype.deleteAllMarks=function(){var Df=this.getAllMarks();if(Df.length>0){return this.deleteMarks(Df);}return this;};ViewerControl.prototype.hideMarks=function(marks){adG(this,marks,false,'hideMarks');return this;};ViewerControl.prototype.showMarks=function(marks){adG(this,marks,true,'showMarks');return this;};function adG(bf,bz,vw,azO){var R=0;var h;if(!bf.eR){throw new PCCViewer.Error("InvalidArgument","The method "+azO+" can not be used until 'ViewerReady' state is reached.");}if(bz instanceof Array){for(R=0;R<bz.length;R++){h=bz[R];if(!(h instanceof PCCViewer.Mark)){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains an item that is not a Mark.");}if(!(bf.cK[h.getId()])){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}}for(R=0;R<bz.length;R++){bz[R].setVisible(vw);}}else{if(bz instanceof PCCViewer.Mark){if(!(bf.cK[bz.getId()])){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}bz.setVisible(vw);}else{throw new PCCViewer.Error("InvalidArgument","The parameter, marks, is not an Array of Marks or a single Mark.");}}};function xs(aCW,ka){var kJ=false;var dG=ka.bv.get_displayedPages();for(var R=0;R<dG.get_length();R++){var aC=dG.getPage(R);if(aC.get_pageNumber()===aCW){kJ=true;break;}}return kJ;};ViewerControl.prototype.moveMarkToFront=function(mark){var bN;var gC;if(!this.eR){throw "The method moveMarkToFront is not available until ViewerReady state is reached.";}if(mark instanceof PCCViewer.Mark){gC=mark.getPageNumber();if(mark.getPageNumber()>0){bN=this.bv.fU(this.cA.getPage(gC-1));}else{throw "The mark object has not been added to any page yet";}}else{throw "The parameter, mark object is not a PCCViewer.Mark object";}if(!mark.L){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(bN){if(mark.L instanceof IPCC.Web.UI.Mark){mark.L.moveToFront();if(xs(gC-1,this)===true){var ka=this;setTimeout(function(){ka.bv.cn(gC-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};ViewerControl.prototype.moveMarkToBack=function(mark){var bN;var gC;if(!this.eR){throw "The method moveMarkToBack is not available until ViewerReady state is reached.";}if(!(mark instanceof PCCViewer.Mark)){throw "The parameter, mark object is not a PCCViewer.Mark object";}gC=mark.getPageNumber();if(gC>=1){bN=this.bv.fU(this.cA.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.L){throw "The parameter, mark may be a templateMark or has not been initialized";}if(bN){if(mark.L instanceof IPCC.Web.UI.Mark){mark.L.moveToBack();if(xs(gC-1,this)===true){var ka=this;setTimeout(function(){ka.bv.cn(gC-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};ViewerControl.prototype.moveMarkForward=function(mark){var bN,gC;if(!this.eR){throw "The method moveMarkForward is not available until 'ViewerReady' state is reached.";}if(!(mark instanceof PCCViewer.Mark)){throw "The parameter, mark object is not a PCCViewer.Mark object";}gC=mark.getPageNumber();if(gC>=1){bN=this.bv.fU(this.cA.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.L){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(bN){if(mark.L instanceof IPCC.Web.UI.Mark){mark.L.moveForward();if(xs(gC-1,this)===true){var ka=this;setTimeout(function(){ka.bv.cn(gC-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};ViewerControl.prototype.moveMarkBackward=function(mark){var bN,gC;if(!this.eR){throw "The method moveMarkBackward is not available until ViewerReady state is reached.";}if(!(mark instanceof PCCViewer.Mark)){throw "The parameter, mark object is not a PCCViewer.Mark object";}gC=mark.getPageNumber();if(gC>=1){bN=this.bv.fU(this.cA.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.L){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(bN){if(mark.L instanceof IPCC.Web.UI.Mark){mark.L.moveBackward();if(xs(gC-1,this)===true){var ka=this;setTimeout(function(){ka.bv.cn(gC-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};ViewerControl.prototype.getSelectedMarks=function(){var bz=[];var TZ=[];if(this.eR===false){return bz;}var dc=this.cA.get_length(),bN,eY;var F=this;function ayE(QA){if(QA){var Sh=QA.get_type();if(Sh===IPCC.Web.UI.MarkType.HighlightText||Sh===IPCC.Web.UI.MarkType.TextSelectionRedaction||Sh===IPCC.Web.UI.MarkType.Strikethrough||Sh===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation){for(var iT in F.cK){if(F.cK.hasOwnProperty(iT)){eY=F.cK[iT];if(QA.aY===eY.L.aY){for(var R=0;R<TZ.length;R++){if(eY.L.aY===TZ[R]){return;}}TZ.push(eY.L.aY);break;}}}}else{eY=F.cK[QA.get_markID()];}if(eY&&eY instanceof PCCViewer.Mark){bz.push(eY);}else{return bz;}}};for(var R=0;R<dc;R++){bN=this.bv.fU(this.cA.getPage(R));if(bN){bN.get_selectedMarks().forEach(ayE,{});}}return bz;};function aaR(bz,aqz,ka){var eY,R;function VT(hF){var kJ=false;var dG=ka.bv.get_displayedPages();for(var R=0;R<dG.get_length();R++){var aC=dG.getPage(R);if(aC.get_pageNumber()===hF){kJ=true;break;}}return kJ;};if(!bz.length){return;}for(R=0;R<bz.length;R++){if(bz[R]instanceof PCCViewer.Mark){eY=ka.cK[parseInt(bz[R].getId(),10)];if(eY&&eY instanceof PCCViewer.Mark){if(eY.L&&eY.L instanceof IPCC.Web.UI.Mark){if(eY.getId()!==eY.L.get_markID().toString()){throw "The mark ID does not match the ID of the mark loaded in the viewer";}}else{throw "The mark provided may not have been added to the document pages in the viewer";}}else{throw "The parameter, marks, contains a Mark that is not on the document.";}}else{throw "The mark provided in the position : "+(R+1)+" is invalid";}}var nN=[];var uw=false;for(R=0;R<bz.length;R++){eY=ka.cK[parseInt(bz[R].getId(),10)];uw=false;if(eY){if(eY.getId()===eY.L.get_markID().toString()){eY.L.set_selected(aqz);if(Array.prototype.IndexOf){uw=(nN.IndexOf(eY.getPageNumber())>=0);}else{uw=(IPCC.Web.iM(nN,eY.getPageNumber())>=0);}}if(!uw){var cr=eY.getPageNumber();if(VT(cr-1)){nN.push(cr);}}}}if(nN.length>0){setTimeout(function(){for(R=0;R<nN.length;R++){ka.bv.cn(nN[R]-1);}},1);}};ViewerControl.prototype.selectMarks=function(marks){if(this.eR===false){throw "The method selectMarks is not available until 'ViewerReady' state is reached.";}var bz=[];if(marks===undefined){return this;}if(marks&& !(marks instanceof Array)){if(marks instanceof PCCViewer.Mark){bz.push(marks);}}else{bz=marks;}if(bz.length===0){return this;}aaR(bz,true,this);return this;};ViewerControl.prototype.deselectMarks=function(marks){if(this.eR===false){throw "The method deselectMarks is not available until 'ViewerReady' state is reached.";}var bz=[];if(marks===undefined){return this;}if(marks&& !(marks instanceof Array)){if(marks instanceof PCCViewer.Mark){bz.push(marks);}}else{bz=marks;}if(bz.length===0){return this;}aaR(bz,false,this);return this;};ViewerControl.prototype.deselectAllMarks=function(){var nN=[];var bz=this.getSelectedMarks();var uw=false,R,eY;for(R=0;R<bz.length;R++){eY=this.cK[parseInt(bz[R].getId(),10)];uw=false;if(eY){if(eY.getId()===eY.L.get_markID().toString()){eY.L.set_selected(false);if(Array.prototype.IndexOf){uw=(nN.IndexOf(eY.getPageNumber())>=0);}else{uw=(IPCC.Web.iM(nN,eY.getPageNumber())>=0);}}if(!uw){var cr=eY.getPageNumber();if(xs(cr-1,this)===true){nN.push(cr);}}}}if(nN.length>0){var ka=this;setTimeout(function(){for(R=0;R<nN.length;R++){ka.bv.cn(nN[R]-1);}},1);}return this;};ViewerControl.prototype.copyMarks=function(marks){var bf=this,Qs;if(marks instanceof PCCViewer.Mark){marks=[marks];}if(marks instanceof Array===false){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, is not an Array of Marks or a single Mark.");}var bz=[];IPCC.J.forEach(marks,function(h){if(h instanceof PCCViewer.Mark){if(bf.cK[h.getId()]===undefined){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}bz.push(h);}else{throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains an item that is not a Mark.");}});var rz=[];IPCC.J.forEach(bz,function(h,an){ed[h.getType()]({mark:h},function(ct,dp){dp.uid=undefined;rz[an]=dp;});});this.sM=false;Qs=bf.deserializeMarks(rz);this.sM=true;return Qs;};ViewerControl.prototype.enterTextMarkEditingMode=function(h){var bf=this,bv=this.bv;var aaE=function(YB){var Cn=false,dG=bv.get_displayedPages();for(var R=0;R<dG.get_length();R++){var aC=dG.getPage(R);if(aC.get_pageNumber()===YB){Cn=true;}bv.nY(aC.get_pageNumber());}return Cn;};if(typeof h==="undefined"||h===null){aaE(-1);}else{if(this.eR===false){throw PCCViewer.Error("ViewerNotReady","The method selectMarks is not available until 'ViewerReady' state is reached.");}if(!(h instanceof PCCViewer.Mark)){throw new PCCViewer.Error("InvalidArgument","The argument 'mark' must be an instance of PCCViewer.Mark.");}var agQ=this.cK[parseInt(h.getId(),10)];if(!(agQ&&agQ instanceof PCCViewer.Mark)){throw new PCCViewer.Error("InvalidArgument","The provided mark is not on the document.");}if(!(h.L&&h.L instanceof IPCC.Web.UI.Mark)){throw new PCCViewer.Error("InvalidArgument","The provided mark may not have been added to the document pages in the viewer");}if(h.getId()!==h.L.get_markID().toString()){throw new PCCViewer.Error("InvalidArgument","The mark ID does not match the ID of the mark loaded in the viewer");}var aN=h.getType();if(aN!==PCCViewer.Mark.Type.TextAnnotation&&aN!==PCCViewer.Mark.Type.TextRedaction&&aN!==PCCViewer.Mark.Type.TextInputSignature&&aN!==PCCViewer.Mark.Type.TextAreaSignature){throw new PCCViewer.Error("InvalidArgument","The mark type must be: 'TextAnnotation', 'TextRedaction', 'TextInputSignature', or 'TextAreaSignature'.");}var Cn=aaE(h.getPageNumber()-1);if(Cn){bf.bv.wY(h.getPageNumber()-1,h.L);}}return this;};ViewerControl.prototype.getCharacterIndex=function(sortableObject){if(this.eR===false){throw new Error("The getCharacterIndex method can not be used until 'ViewerReady' state is reached.");}var JC= -1;var dz;var bG;var aM=0;if(sortableObject instanceof PCCViewer.Mark){if(sortableObject.getStartPoint){dz=sortableObject.getStartPoint();}else{bG=(sortableObject.L)?sortableObject.L.get_boundingRectangle():sortableObject.getRectangle();dz={x:bG.x,y:bG.y};}aM=sortableObject.getPageNumber();}else if(sortableObject instanceof PCCViewer.SearchResult){return sortableObject.startIndexInPage;}else if(sortableObject!==undefined&&sortableObject!==null){if(typeof sortableObject.x==='number'&&typeof sortableObject.y==='number'){dz={x: +sortableObject.x,y: +sortableObject.y};}else{if(isNaN(+sortableObject.x)||isNaN(+sortableObject.y)){throw new Error('The parameter sortableObject does not contain valid x and y values.');}else{dz={x:Number(+sortableObject.x),y:Number(+sortableObject.y)};}}if(typeof sortableObject.pageNumber==='number'){aM= +sortableObject.pageNumber;}else{if(isNaN(+sortableObject.pageNumber)){throw new Error('The parameter sortableObject does not contain a valid pageNumber value.');}else{aM=Number(+sortableObject.pageNumber);}}}else{throw new Error('The sortableObject parameter must be a Mark, SearchResult, or Point.');}if(aM<1||aM>this.getPageCount()|| !isFinite(aM)){throw new RangeError("The parameter pageNumber is out of range.");}if(!this.isPageTextReady(aM)){return-2;}var aC=this.cA.getPage(aM-1);var ug=aC.dg().Zf();var gY=aC.dg().gQ();function abI(bbox,point){if(point.x>bbox.x&&point.x<bbox.x+bbox.width&&point.y>bbox.y&&point.y<bbox.y+bbox.height){return true;}return false;};function acU(dR,es){var aa=Math.max(Math.min(es.x,dR.x+dR.width),dR.x);var bZ=Math.max(Math.min(es.y,dR.y+dR.height),dR.y);return(es.x-aa)*(es.x-aa)+(es.y-bZ)*(es.y-bZ);};var Cg;var Lc=Number.MAX_VALUE;for(var R=0;R<ug.fq();R++){var hS=ug.asJ(R);if(abI(hS.fh(),dz)){for(var bM=hS.akU();bM<hS.amH();bM++){var TY=gY.kA(bM);var rM=TY.uT();if(abI(rM,dz)){return bM;}Cg=acU(rM,dz);if(Cg<Lc){JC=bM;Lc=Cg;}}return JC;}Cg=acU(hS.fh(),dz);if(Cg<Lc){if(hS.fh().y>dz.y){JC=hS.akU()-1;}else{JC=hS.amH();}Lc=Cg;}}return JC;};ViewerControl.prototype.getCurrentMouseTool=function(){return this.aT.getName();};ViewerControl.prototype.setCurrentMouseTool=function(name){var F=this;if(this.eR===false){throw "The method setCurrentMouseTool is not available until 'ViewerReady' state is reached.";}var zr=name.toLowerCase();var aT=PCCViewer.MouseTools.getMouseTool(zr);if(!aT){throw new Error("The name argument for setCurrentMouseTool(name) must be the name of a known mouse tool.");}var hA,gk;switch(aT.getType()){case PCCViewer.MouseTool.Type.Magnifier:hA=IPCC.Web.UI.MouseTool.Magnifier;break;case PCCViewer.MouseTool.Type.SelectToZoom:hA=IPCC.Web.UI.MouseTool.RectangleZoom;break;case PCCViewer.MouseTool.Type.PanAndEdit:case PCCViewer.MouseTool.Type.Pan:hA=IPCC.Web.UI.MouseTool.HandPan;break;case PCCViewer.MouseTool.Type.SelectText:hA=IPCC.Web.UI.MouseTool.SelectText;break;case PCCViewer.MouseTool.Type.EditMarks:hA=IPCC.Web.UI.MouseTool.EditMarks;break;case PCCViewer.MouseTool.Type.LineAnnotation:hA=IPCC.Web.UI.MouseTool.CreateLineMark;gk=asj(aT.getTemplateMark());break;case PCCViewer.MouseTool.Type.RectangleAnnotation:hA=IPCC.Web.UI.MouseTool.CreateRectangleMark;gk=aci(aT.getTemplateMark());break;case PCCViewer.MouseTool.Type.RectangleRedaction:hA=IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark;gk=awo(aT.getTemplateMark());break;case PCCViewer.MouseTool.Type.TransparentRectangleRedaction:hA=IPCC.Web.UI.MouseTool.CreateRectangleMark;gk=avr(aT.getTemplateMark());break;case PCCViewer.MouseTool.Type.EllipseAnnotation:hA=IPCC.Web.UI.MouseTool.CreateEllipseMark;gk=aci(aT.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextAnnotation:hA=IPCC.Web.UI.MouseTool.CreateTextMark;gk=awp(aT.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextRedaction:hA=IPCC.Web.UI.MouseTool.CreateTextMark;gk=Wk(aT.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextInputSignature:hA=IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark;gk=Wk(aT.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextAreaSignature:hA=IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark;gk=Wk(aT.getTemplateMark());break;case PCCViewer.MouseTool.Type.StampAnnotation:case PCCViewer.MouseTool.Type.StampRedaction:hA=IPCC.Web.UI.MouseTool.CreateStampMark;gk=awD(aT.getTemplateMark());break;case PCCViewer.MouseTool.Type.HighlightAnnotation:hA=IPCC.Web.UI.MouseTool.CreateHighlightTextMark;gk=Nf(aT.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextHyperlinkAnnotation:hA=IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark;gk=Nf(aT.getTemplateMark());break;case PCCViewer.MouseTool.Type.FreehandAnnotation:hA=IPCC.Web.UI.MouseTool.CreateFreehandMark;gk=aDW(aT.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextSelectionRedaction:hA=IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction;gk=Nf(aT.getTemplateMark());break;case PCCViewer.MouseTool.Type.PlaceSignature:var aqX=this.bA.resourcePath+'/placeSignatureCursor.cur';this.bv.set_mouseTool(IPCC.Web.UI.MouseTool.None);this.bv.set_allowMarkEdits(false);this.bv.set_mouseCursor('url('+aqX+'), pointer');this.aT=aT;return this;case PCCViewer.MouseTool.Type.ImageStampAnnotation:hA=IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark;gk=adQ(aT.getTemplateMark());break;case PCCViewer.MouseTool.Type.ImageStampRedaction:hA=IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark;gk=adQ(aT.getTemplateMark());break;case PCCViewer.MouseTool.Type.PolylineAnnotation:hA=IPCC.Web.UI.MouseTool.CreatePolylineMark;gk=avR(aT.getTemplateMark());break;case PCCViewer.MouseTool.Type.StrikethroughAnnotation:hA=IPCC.Web.UI.MouseTool.CreateStrikethroughMark;gk=Nf(aT.getTemplateMark());break;default:throw new Error("An unexpected error occurred. The MouseTool type is not known.");}var avS=this.bv.get_mouseTool();if(this.aT!==aT&&avS===hA){setTimeout(function(){F.trigger(PCCViewer.EventType.MouseToolChanged,{mouseToolName:F.aT.getName()});},0);}this.aT=aT;if(gk){this.Kl=gk.onCreating;this.jn=gk.onAdded;}else{this.Kl=undefined;this.jn=undefined;}this.bv.set_mouseTool(hA);this.bv.set_allowMarkEdits((aT.getType()===PCCViewer.MouseTool.Type.PanAndEdit));return this;};function Wb(bf,SG,lb){if(bf.yi!==true){var FU=function(){bf.off('PageCountReady',FU);Wb(bf,SG,lb);};bf.on('PageCountReady',FU);return;}var ae=bf;var wi;var hV={},uu={},oB=[];var hB=ae.eD;var jJ;var bA;if(SG){bA=SG;}var agA=[];var Xa=ae.bE.get_pages();var aun=function(aC,done){var aIw=false;var ic=aC;var aM=aC.get_pageNumber();var eu=ic.get_pageWidth();var eW=ic.get_pageHeight();try{if(ic){var fU=ae.bv.fU(ic),Bi=0,Cj=0,eJ="",aHO=false;var getArt=function getArt(){var LN;if(bA&&bA.El&&bA.El[aM]){LN=IPCC.J.extend({},bA);LN.El=bA.El[aM];}else{LN=bA;}var bM,ZX;var Ix=fU.aCI(aM,Bi,Cj,LN);if(Ix.hV){hV[aM]=Ix.hV;}else{var ayA=att(aM,jJ,Cj,Bi);hV[aM]=ayA;}if(Ix.oB){for(bM=0;bM<Ix.oB.length;bM++){ZX=Ix.oB[bM];uu[ZX.bL.imageStampId]=ZX;}}done();};if(fU){if(!eu|| !eW){if(fU.get_markCount()>0){ae.bv.KK(aC,function(bg,aw){Bi=bg;if(Bi){ic.Lx(Bi);}Cj=aw;if(Cj){ic.KP(Cj);}getArt();},function(os){done(os);});}else{getArt();}}else{Bi=eu;Cj=eW;getArt();}}else{done(new Error("No art page was found"));}}}catch(ex){done(new Error("Error while saving annotation, error:"+ex.message));}};Xa.forEach(function(aC,bO,jw){agA.push(function(done){aun(aC,done);});});var ZS=function(aA,aC){var wB="";var R;if(!aA.fF){if(aA.toString()){return aA.toString();}else{return '<![CDATA[]]>';}}if((hB===1||aC===0||(aC>0&&aA.fF!=="documentAnnotations"&&aA.fF!=="pages"))&&aA.fF!=="highlights"){wB='<'+aA.fF;for(var xB in aA.bL){if(aA.bL.hasOwnProperty(xB)){var QN=aA.bL[xB];if(QN===undefined||QN===null){continue;}var bL=QN.toString();bL=bL.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;');wB=wB+' '+xB+'="'+bL+'"';}}wB+='>';}for(R=0;R<aA.cI.length;R++){wB+=ZS(aA.cI[R],aC);}if(hB===1||(aC===hB-1)||(aC!==hB-1&&aA.fF!=="documentAnnotations"&&aA.fF!=="pages"&&aA.fF!=="highlights")){if(aA.fF!=="highlights"){wB+='</'+aA.fF+'>';}else{wB+='<'+aA.fF+' />';}}return wB;};IPCC.J.Yc(agA,function(ct){if(ct){lb(ct);return;}wi='<?xml version="1.0"?>';for(var R=0;R<(ae.eD);R++){wi=wi+ZS(hV[R],R);}var stampImageXml='';for(var Gg in uu){if(uu.hasOwnProperty(Gg)){stampImageXml+=ZS(uu[Gg],1);}}if(stampImageXml.length){var stampImagesXml='<stampImages>'+stampImageXml+'</stampImages></documentAnnotations>';wi=wi.replace('</documentAnnotations>',stampImagesXml);}lb(undefined,wi);});};ViewerControl.prototype.saveMarkup=function(recordName,options){var ai=PCCViewer.Deferred();var cf=ai.getPromise();var bA;if(options){bA=options;}else{bA={includeAnnotations:true,includeRedactions:true,includeSignatures:false};}try{if(typeof recordName!=="string"){ai.reject(new PCCViewer.Error("InvalidArgument","The parameter, recordName, is not a String."));return cf;}if(!anJ(recordName)){ai.reject(new PCCViewer.Error("InvalidCharactersFilename",'Invalid characters in the annotations filename.'));return cf;}var ae=this;this.sk.then(function(rs){var Ac=recordName;Wb(ae,bA,function(err,wi){if(err){ai.reject(new PCCViewer.Error("Error",err));return cf;}var PH=IPCC.gG.rI(Ac);var ab;if(!(/^[\x00-\x7F]*$/.test(ae.bE.get_documentIdentifier()))){ab=ae.bA.imageHandlerUrl+'/Document/q/Art/q?DocumentID=e'+ae.bA.documentID+'&AnnotationID=e'+PH;}else{ab=ae.bA.imageHandlerUrl+'/Document/q/Art/q?DocumentID=u'+encodeURIComponent(ae.bA.documentID)+'&AnnotationID=u'+encodeURIComponent(Ac);}function en(ar){ai.resolve(Ac);setTimeout(function(){ae.trigger('MarkupSaved',{name:Ac});},0);};function eo(bC){ai.reject(new PCCViewer.Error("AjaxError","Status Code "+bC.response.status+" "+bC.response.statusText));};PCCViewer.Ajax.et({method:'POST',url:ab,headers:{'Content-Type':'application/xml'},body:wi}).then(en,eo);});});}catch(e){ai.reject(new PCCViewer.Error("Error",e.message));}return cf;};var anJ=function(recordName){return!/[\\\/:*?"<>|\x00-\x1f]/.test(recordName);};var Wc=function(jW){var aa=jW.firstChild;while(aa.nodeType!==1){aa=aa.nextSibling;}return aa;};var att=function(cr,jJ,eW,eu){var hV={fF:'documentAnnotations',cI:[],bL:{}};var aky={fF:'pages',cI:[],bL:{}};hV.cI.push(aky);var lh={fF:'highlights',cI:[],bL:{}};var aC={fF:'page',cI:[],bL:{id:(cr+1).toString(),pageWidth:eu,pageHeight:eW}};hV.cI.push(lh);try{if(jJ){var aa=jJ.getElementsByTagName("documentAnnotations");if(aa.length>1){throw 'ERROR: Invalid PCC annotations XML';}var Sf;var DV;if(document.documentMode<9){var TN=jJ.firstChild.nodeName;if(TN.toLowerCase()==='xml'){Sf=jJ.firstChild.nextSibling;}else{Sf=jJ.firstChild;}}else{Sf=jJ.firstChild;}var da=Wc(Sf);if(da.nodeName!=='pages'){throw 'ERROR: Problem with pages node in the PCC annotations XML';}if(da.hasChildNodes()){var R;var mA=false;for(R=0;R<da.childNodes.length;R++){DV=da.childNodes[R];if(DV.nodeName!=='page'){continue;}var AU=DV.getAttribute('id');mA=false;if(AU&&parseFloat(AU)===cr+1){mA=true;for(var bM=0;bM<DV.childNodes.length;bM++){var aZ=DV.childNodes[bM];var bk={fF:'annotation',cI:[],bL:{}};if(aZ.nodeName!=='annotation'){continue;}var Qi=DV.childNodes[bM].attributes;if(Qi.length>0){for(var du=0;du<Qi.length;du++){bk.bL[Qi[du].name]=Qi[du].value;}}if(aZ.childNodes[0].data){bk.cI.push('<![CDATA['+aZ.childNodes[0].data+']]>');}else{bk.cI.push('');}aC.cI.push(bk);}break;}}}}aky.cI.push(aC);return hV;}catch(e){throw(e.message);}};ViewerControl.prototype.loadMarkup=function(recordName,options){var Fo=recordName;var ai=PCCViewer.Deferred(),cf=ai.getPromise(),ae=this;var bA=options||{};var xo=bA.retainExistingMarks;var hT=bA.markupLayer;var tC=bA.loadAsHidden;this.sk.then(function(rs){var ab,PH,bv=ae.bv,cA=ae.cA;if(typeof Fo!=="string"){ai.reject(new PCCViewer.Error("InvalidArgument","The parameter, recordName, is not a String."));}if(xo!==undefined){if(typeof xo!=='boolean'){ai.reject(new PCCViewer.Error('InvalidArgument','The parameter `retainExistingMarks` must be a boolean value if it is specified.'));}}if(hT!==undefined){if(!(hT instanceof PCCViewer.MarkupLayer)){ai.reject(new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` must be an instance of PCCViewer.MarkupLayer if it is specified.'));}if(ae.lH.getItem(hT.getId())===undefined){ai.reject(new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` is a markup layer unknown to the viewer.'));}}function en(ar){var aac,NH=ar.responseText,KE;if(NH.indexOf('xml')=== -1){ai.reject(new PCCViewer.Error("InvalidAnnotationRecord","Did not receive valid annotation record from web server."));return;}NH=NH.replace(/(comment\s+text=")((?:.|[\r\n])*?)("\s+created=")/g,function(match,p1,p2,p3){return p1+IPCC.J.oP(p2)+p3;});if(window.DOMParser){KE=function(xmlStr){return(new window.DOMParser()).parseFromString(xmlStr,"text/xml");};}else if(typeof window.ActiveXObject!=="undefined"&&new window.ActiveXObject("Microsoft.XMLDOM")){KE=function(xmlStr){var xmlDoc=new window.ActiveXObject("Microsoft.XMLDOM");xmlDoc.async="false";xmlDoc.loadXML(xmlStr);return xmlDoc;};}else{KE=function(){return null;};}aac=KE(NH);var aip=aac.getElementsByTagName('stampImage');var oB={};var abd=function(an){h.aX.push(aei.getPoint(an));};for(var R=0;R<aip.length;R++){var Ss=aip[R];oB[Ss.getAttribute('imageStampId')]={imageStampId:Ss.getAttribute('imageStampId'),base64format:Ss.getAttribute('base64format')};}bv.set_annotationXmlDom(aac,oB,xo===true,tC===true);if(xo!==true){ae.cK={};}var dc=ae.cA.get_length();var h;var aN,ej;var vZ={};var HU=[];for(R=0;R<dc;R++){var bN=ae.bv.fU(ae.cA.getPage(R));if(bN){var Dv={};var bM=0;for(bM=0;bM<bN.get_markCount();bM++){var L=bN.getMark(bM);if(ae.cK[L.get_markID()]!==undefined){continue;}ej=L.get_type();switch(ej){case IPCC.Web.UI.MarkType.Rectangle:if(L.iy()===true){if(L.get_opacity()===255){aN=PCCViewer.Mark.Type.RectangleRedaction;}else{aN=PCCViewer.Mark.Type.TransparentRectangleRedaction;}h=new PCCViewer.Mark({type:aN,igMark:L,pageNumber:R+1,uid:L.bL.hW});}else{aN=PCCViewer.Mark.Type.RectangleAnnotation;h=new PCCViewer.Mark({type:aN,igMark:L,pageNumber:R+1,uid:L.bL.hW});h.lX=L.get_lineWidth();h.cj=L.get_fillColor();h.oZ=L.get_lineColor();h.dk=L.get_opacity();}break;case IPCC.Web.UI.MarkType.Ellipse:aN=PCCViewer.Mark.Type.EllipseAnnotation;h=new PCCViewer.Mark({type:aN,igMark:L,pageNumber:R+1,uid:L.bL.hW});h.lX=L.get_lineWidth();h.cj=L.get_fillColor();h.oZ=L.get_lineColor();h.dk=L.get_opacity();break;case IPCC.Web.UI.MarkType.Line:aN=PCCViewer.Mark.Type.LineAnnotation;h=new PCCViewer.Mark({type:aN,igMark:L,pageNumber:R+1,uid:L.bL.hW});h.oC=L.get_lineWidth();h.cD=L.get_lineColor();h.dk=L.get_opacity();if(L.get_endHeadType()===IPCC.Web.UI.LineHeadType.Solid){h.oG="FilledTriangle";}else{h.oG="None";}break;case IPCC.Web.UI.MarkType.Stamp:if(L.iy()===true){aN=PCCViewer.Mark.Type.StampRedaction;h=new PCCViewer.Mark({type:aN,igMark:L,pageNumber:R+1,uid:L.bL.hW});}else{aN=PCCViewer.Mark.Type.StampAnnotation;h=new PCCViewer.Mark({type:aN,igMark:L,pageNumber:R+1,uid:L.bL.hW});h.cD=L.get_fillColor();}h.uo=L.get_text();break;case IPCC.Web.UI.MarkType.Text:if(L.iy()===true){aN=PCCViewer.Mark.Type.TextRedaction;h=new PCCViewer.Mark({type:aN,igMark:L,pageNumber:R+1,uid:L.bL.hW});}else{aN=PCCViewer.Mark.Type.TextAnnotation;h=new PCCViewer.Mark({type:aN,igMark:L,pageNumber:R+1,uid:L.bL.hW});h.lX=L.get_lineWidth();h.cj=L.get_fillColor();h.oZ=L.get_lineColor();h.dk=L.get_opacity();}h.gh=L.get_maxLength();h.gb=L.get_fontName();h.fS=L.get_textColor();h.dK=L.get_fontSize();var cE=L.get_fontStyle();var sN=[];if((cE&IPCC.Web.UI.FontStyle.Bold)===IPCC.Web.UI.FontStyle.Bold){sN.push("Bold");}if((cE&IPCC.Web.UI.FontStyle.Italic)===IPCC.Web.UI.FontStyle.Italic){sN.push("Italic");}if((cE&IPCC.Web.UI.FontStyle.Strikeout)===IPCC.Web.UI.FontStyle.Strikeout){sN.push("Strikeout");}if((cE&IPCC.Web.UI.FontStyle.Underline)===IPCC.Web.UI.FontStyle.Underline){sN.push("Underline");}h.cE=sN;var qU;switch(L.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:qU="center";break;case IPCC.Web.UI.HorizontalAlignment.Left:qU="left";break;case IPCC.Web.UI.HorizontalAlignment.Right:qU="right";break;}h.mQ=qU;break;case IPCC.Web.UI.MarkType.TextAreaSignature:aN=PCCViewer.Mark.Type.TextAreaSignature;h=new PCCViewer.Mark({type:aN,igMark:L,pageNumber:R+1,uid:L.bL.hW});h.lX=L.get_lineWidth();h.gh=L.get_maxLength();h.gb=L.get_fontName();h.fS=L.get_textColor();h.jx=L.get_maxFontSize();cE=L.get_fontStyle();sN=[];if((cE&IPCC.Web.UI.FontStyle.Bold)===IPCC.Web.UI.FontStyle.Bold){sN.push("Bold");}if((cE&IPCC.Web.UI.FontStyle.Italic)===IPCC.Web.UI.FontStyle.Italic){sN.push("Italic");}if((cE&IPCC.Web.UI.FontStyle.Strikeout)===IPCC.Web.UI.FontStyle.Strikeout){sN.push("Strikeout");}if((cE&IPCC.Web.UI.FontStyle.Underline)===IPCC.Web.UI.FontStyle.Underline){sN.push("Underline");}h.cE=sN;switch(L.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:qU="center";break;case IPCC.Web.UI.HorizontalAlignment.Left:qU="left";break;case IPCC.Web.UI.HorizontalAlignment.Right:qU="right";break;}h.mQ=qU;break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:aN=(ej===IPCC.Web.UI.MarkType.HighlightText)?PCCViewer.Mark.Type.HighlightAnnotation:(ej===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)?PCCViewer.Mark.Type.TextHyperlinkAnnotation:(ej===IPCC.Web.UI.MarkType.Strikethrough)?PCCViewer.Mark.Type.StrikethroughAnnotation:PCCViewer.Mark.Type.TextSelectionRedaction;var Ye=L.aY;if(typeof vZ[Ye]==='undefined'){h=new PCCViewer.Mark({type:aN,igMark:L,pageNumber:R+1,cA:cA,bv:bv,uid:L.bL.hW});h.cZ=[];if(aN===PCCViewer.Mark.Type.HighlightAnnotation){h.cj=L.get_fillColor();}vZ[Ye]=h;L.aP=R;L.jK=true;}else{L.aP=R;vZ[Ye].cZ.push(L);}break;case IPCC.Web.UI.MarkType.Freehand:aN=PCCViewer.Mark.Type.FreehandAnnotation;h=new PCCViewer.Mark({type:aN,igMark:L,pageNumber:R+1,uid:L.bL.hW});h.oC=L.get_lineWidth();h.cD=L.get_lineColor();h.dk=L.get_opacity();break;case IPCC.Web.UI.MarkType.SignaturePath:aN=PCCViewer.Mark.Type.FreehandSignature;h=new PCCViewer.Mark({type:aN,igMark:L,pageNumber:R+1,uid:L.bL.hW});h.oC=L.get_lineWidth();h.cD=L.get_lineColor();break;case IPCC.Web.UI.MarkType.SignatureText:aN=PCCViewer.Mark.Type.TextSignature;h=new PCCViewer.Mark({type:aN,igMark:L,pageNumber:R+1,uid:L.bL.hW});h.gb=L.get_fontName();h.cD=L.get_fillColor();h.ak=L.get_text();break;case IPCC.Web.UI.MarkType.TextLine:aN=PCCViewer.Mark.Type.TextInputSignature;h=new PCCViewer.Mark({type:aN,igMark:L,pageNumber:R+1,uid:L.bL.hW});h.gb=L.get_fontName();h.fS=L.get_textColor();h.ak=L.get_text();h.gh=L.get_maxLength();h.jA=L.get_mask();break;case IPCC.Web.UI.MarkType.RectangleRedaction:if(!L.aY){aN=PCCViewer.Mark.Type.RectangleRedaction;h=new PCCViewer.Mark({type:aN,igMark:L,pageNumber:R+1,cA:cA,bv:bv,uid:L.bL.hW});h.lX=L.get_lineWidth();h.cj=L.get_fillColor();h.oZ=L.get_lineColor();h.dk=L.get_opacity();}else{if(Dv[L.aY]===undefined){Dv[L.aY]=[];}Dv[L.aY].push(L);}break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:aN=(ej===IPCC.Web.UI.MarkType.ImageStampAnnotation)?PCCViewer.Mark.Type.ImageStampAnnotation:PCCViewer.Mark.Type.ImageStampRedaction;h=new PCCViewer.Mark({type:aN,igMark:L,pageNumber:R+1,uid:L.bL.hW});h.setImage({dataUrl:L.get_image(),id:L.pU});break;case IPCC.Web.UI.MarkType.Polyline:aN=PCCViewer.Mark.Type.PolylineAnnotation;h=new PCCViewer.Mark({type:aN,igMark:L,pageNumber:R+1,uid:L.bL.hW});h.oC=L.get_lineWidth();h.cD=L.get_lineColor();h.dk=L.get_opacity();var aei=L.get_points();h.aX=[];for(var bi=0;bi<aei.get_length();bi++){abd(bi);}break;default:h=undefined;continue;}if(typeof h!=='undefined'&&ej!==IPCC.Web.UI.MarkType.HighlightText&& !(ej===IPCC.Web.UI.MarkType.RectangleRedaction&&L.aY!==undefined)&&ej!==IPCC.Web.UI.MarkType.TextSelectionRedaction&&ej!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation&&ej!==IPCC.Web.UI.MarkType.Strikethrough){ae.cK[L.get_markID()]=h;HU.push(h);}}for(var KC in Dv){if(Dv.hasOwnProperty(KC)&&vZ[KC]){var GJ=vZ[KC];var amW=GJ.L;if(GJ.cZ&&GJ.cZ.length>0){for(var Na=0;Na<GJ.cZ.length;Na++){if(GJ.cZ[Na].aP===R){amW=GJ.cZ[Na];}}}var bj=Dv[KC];for(var Us=0;Us<bj.length;Us++){amW.bj.push(bj[Us]);}}}}}for(var pq in vZ){if(vZ.hasOwnProperty(pq)){var vX=vZ[pq];ae.cK[vX.L.get_markID()]=vX;HU.push(vX);if(vX.cZ&&vX.cZ.length>0){vX.cZ[vX.cZ.length-1].kV=true;}else{vX.L.kV=true;}}}ai.resolve(Fo);if(hT!==undefined){hT.addMarks(HU);}else{ae.getActiveMarkupLayer().addMarks(HU);}ae.trigger('MarkupLoaded',{name:Fo,loadedMarks:HU});};function eo(bC){ai.reject(new PCCViewer.Error("Error","Status Code "+bC.response.status+" "+bC.response.statusText));};PH=IPCC.gG.rI(Fo);if(!(/^[\x00-\x7F]*$/.test(ae.bE.get_documentIdentifier()))){ab=ae.bA.imageHandlerUrl+'/Document/q/Art/q?DocumentID=e'+ae.bA.documentID+'&AnnotationID=e'+PH;}else{ab=ae.bA.imageHandlerUrl+'/Document/q/Art/q?DocumentID=u'+encodeURIComponent(ae.bA.documentID)+'&AnnotationID=u'+encodeURIComponent(Fo);}PCCViewer.Ajax.et({method:'GET',url:ab,headers:{'Content-Type':'application/x-www-form-urlencoded'}}).then(en,eo);});return cf;};ViewerControl.prototype.getSavedMarkupNames=function(){var ai=PCCViewer.Deferred();var cf=ai.getPromise();try{var R=0,JW=0;var Ac='';var ab=this.bA.imageHandlerUrl+'/AnnotationList/q/Art/q?DocumentID=u'+encodeURIComponent(this.bA.documentID)+'&AnnotationID=u'+encodeURIComponent(Ac);var en=function(ar){var ti;if(typeof ar.responseText!=='unknown'&&ar.responseText.length>0){try{ti=JSON.parse(ar.responseText);}catch(e){}}var XQ=[],JW=0;for(var R=0,cv=ti.annotationFiles.length;R<cv;R++){if(ti.annotationFiles[R].annotationLabel){XQ[JW]={};XQ[JW].name=ti.annotationFiles[R].annotationLabel;JW++;}}ai.resolve(XQ);};var eo=function(bC){ai.reject(new PCCViewer.Error("MarkupListFail","Unable to retrieve markup list from server."));};PCCViewer.Ajax.et({method:'GET',url:ab}).then(en,eo);}catch(e){ai.reject(new PCCViewer.Error("Error",e.message));}return cf;};ViewerControl.prototype.getMarkupLayerCollection=function(){if(!this.lH){this.lH=new PCCViewer.MarkupLayerCollection(this);}return this.lH;};ViewerControl.prototype.requestMarkupLayerNames=function(metadata){var ai=PCCViewer.Deferred(),cf=ai.getPromise(),ab,aDN=function(obj){var parts=[];for(var key in obj){if(obj.hasOwnProperty(key)&&(typeof obj[key]==='string'||typeof obj[key]==='boolean'||typeof obj[key]==='number')){parts.push(encodeURIComponent(key)+'='+encodeURIComponent(obj[key]));}}return "?"+parts.join('&');};if(!(/^[\x00-\x7F]*$/.test(this.bE.get_documentIdentifier()))){ab=this.bA.imageHandlerUrl+'/MarkupLayers/e'+this.bA.documentID+'/';}else{ab=this.bA.imageHandlerUrl+'/MarkupLayers/u'+encodeURIComponent(this.bA.documentID)+'/';}if(metadata){var aBv=aDN(metadata);ab+=aBv;}ab+='?nocache='+new Date().getTime();PCCViewer.Ajax.et({url:ab,method:'GET'}).then(function en(ar){var aGJ=JSON.parse(ar.responseText);ai.resolve(aGJ);},function eo(bC){ai.reject(bC.error);});return cf;};ViewerControl.prototype.getActiveMarkupLayer=function(){return this.uH;};ViewerControl.prototype.setActiveMarkupLayer=function(markupLayer){if(!(markupLayer instanceof PCCViewer.MarkupLayer)){throw new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` must be an instance of PCCViewer.MarkupLayer.');}if(this.lH.getItem(markupLayer.getId())===undefined){throw new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` is a markup layer unknown to the viewer.');}this.uH=markupLayer;};ViewerControl.prototype.loadMarkupLayers=function(layerRecordIds,options){var XE,F=this;XE=new PCCViewer.LoadMarkupLayersRequest(layerRecordIds,this,options||{});function yG(){setTimeout(function(){XE.Bn();},20);};function mp(){F.off(PCCViewer.EventType.PageCountReady,mp);yG();};if(this.nm===false){F.on(PCCViewer.EventType.PageCountReady,mp);}else{yG();}return XE;};ViewerControl.prototype.saveMarkupLayer=function(id){var ai=PCCViewer.Deferred();var cf=ai.getPromise();var F=this;if(typeof id!=='string'|| !id){ai.reject(new PCCViewer.Error('InvalidArgument','The parameter `id` is not a string.'));return cf;}var ee=this.lH?this.lH.getItem(id):undefined;if(!ee){ai.reject(new PCCViewer.Error('UnknownLayerRecord','The layer record '+id+' is not known to ViewerControl'));return cf;}function awb(pZ){var Lj=ee.getMarks();if(!Lj.length){pZ(undefined,[]);}else{F.serializeMarks(Lj).then(function jq(bz){pZ(undefined,IPCC.J.map(bz,function(h){if(h.conversation&&h.conversation.comments){delete h.conversation.comments;}return h;}));},function _f(eJ){pZ(eJ);});}};function awR(pZ){var Lj=ee.getMarks();var Xr=function(fB,hi,kn){var QM=IPCC.J.filter(hi,function(nL){return!nL.hT||nL.hT===ee;});IPCC.J.forEach(QM,function(cX){var bu=ed.Comment(cX);bu.markUid=kn;fB.push(bu);});return fB;};var Tg=IPCC.J.reduce(Lj,function(fB,h){var dq=h.getConversation();var hi=dq.getComments();return hi.length?Xr(fB,hi,h.getUid()):fB;},[]);pZ(undefined,Tg);};function avk(pZ){var arw=IPCC.J.reduce(F.lH.getAll(),function(fB,alQ){return fB.concat(ee===alQ?[]:alQ.getMarks());},[]);var Xr=function(fB,hi,kn){var QM=IPCC.J.filter(hi,function(nL){return nL.hT===ee;});IPCC.J.forEach(QM,function(nL){var bu=ed.Comment(nL);bu.markUid=kn;fB.push(bu);});return fB;};var Tg=IPCC.J.reduce(arw,function(fB,h){var dq=h.getConversation();var hi=dq.getComments();return hi.length?Xr(fB,hi,h.getUid()):fB;},[]);pZ(undefined,Tg);};var adS=[],aqV=function(qt){if(qt.markupLayer===ee){adS.push({text:qt.text,data:qt.data,creationDateTime:qt.creationDateTime,markUid:qt.markUid});}};for(var aja in this.lH.jy){if(this.lH.jy.hasOwnProperty(aja)){IPCC.J.forEach(this.lH.jy[aja],aqV);}}var AG={layerRecordId:ee.getRecordId(),name:ee.getName(),originalXmlName:ee.getOriginalXmlName(),comments:adS,data:ed.Data(ee)};var xA;IPCC.J.Yc([function(lO){awb(function(ct,dp){if(ct&& !xA){xA=ct;}else{AG.marks=dp;}lO();});},function(lO){awR(function(ct,dp){if(ct&& !xA){xA=ct;}else{AG.comments=AG.comments.concat(dp);}lO();});},function(lO){avk(function(ct,dp){if(ct&& !xA){xA=ct;}else{AG.comments=AG.comments.concat(dp);}lO();});}],function(){if(!xA){avF(AG);}else{ai.reject(new PCCViewer.Error('SerializationError',xA.message));}});function avF(aIt){var OX,gd={method:'POST',body:JSON.stringify(AG),headers:{'Content-Type':'application/json'}};if(!(/^[\x00-\x7F]*$/.test(F.bE.get_documentIdentifier()))){OX=F.bA.imageHandlerUrl+'/MarkupLayers/e'+F.bA.documentID+'/';}else{OX=F.bA.imageHandlerUrl+'/MarkupLayers/u'+encodeURIComponent(F.bA.documentID)+'/';}if(ee.getRecordId()){gd.url=OX+ee.getRecordId();gd.headers['X-HTTP-Method-Override']='PUT';}else{gd.url=OX;}PCCViewer.Ajax.et(gd).then(en,eo);};function en(ar){if(ar.responseText&&typeof ar.responseText==='string'){var KR;try{KR=JSON.parse(ar.responseText);}catch(e){}if(KR&&KR.layerRecordId){ee.Vn=KR.layerRecordId;}}ai.resolve({layerRecordId:ee.getRecordId()});};function eo(bC){ai.reject(new PCCViewer.Error('AjaxError',bC.error.message||'An unknown server error occured.'));};return cf;};ViewerControl.prototype.burnMarkup=function(burnOptions){var lu={burnSignatures:true,burnRedactions:true,burnAnnotations:false};var IS;var aey;var Uq;var aGq=false;if(burnOptions){if(typeof burnOptions.marks==='object'){if(burnOptions.marks instanceof PCCViewer.Mark){IS=[burnOptions.marks];}else if(burnOptions.marks instanceof Array){IS=burnOptions.marks;}lu={marks:IS};}else{lu.burnSignatures=(burnOptions.burnSignatures!==undefined)? ! !burnOptions.burnSignatures:lu.burnSignatures;lu.burnRedactions=(burnOptions.burnRedactions!==undefined)? ! !burnOptions.burnRedactions:lu.burnRedactions;lu.burnAnnotations=(burnOptions.burnAnnotations!==undefined)? ! !burnOptions.burnAnnotations:lu.burnAnnotations;}if(typeof burnOptions.filename==='string'){lu.filename=burnOptions.filename;}if(burnOptions.removeFormFields!==undefined){if(burnOptions.removeFormFields instanceof Array){if(burnOptions.removeFormFields.length>0){var OI,FS=true;for(OI=0;OI<burnOptions.removeFormFields.length;OI++){if(burnOptions.removeFormFields[OI]!=='acroform'){FS=false;}}if(FS){lu.removeFormFields=['acroform'];}else{lu.os={code:'InvalidArgument',message:'The burnOptions.removeFormFields parameter contains an invalid form type.'};}}else{lu.os={code:'InvalidArgument',message:'The burnOptions.removeFormFields parameter must specify a valid form type.'};}}else{lu.os={code:'InvalidArgument',message:'The burnOptions.removeFormFields parameter must be an Array if defined.'};}}}var zw=new PCCViewer.BurnRequest(lu),F=this;if(IS){var fw=[];for(var R=0,cv=this.getPageCount();R<cv;R++){fw[R]=[];}fw=IPCC.J.reduce(IS,function(bz,aK){var aM=aK.getPageNumber()-1;if(!(typeof aK==='object'&&aK instanceof PCCViewer.Mark&&aK.L)){zw.SU(new Error('The burnOptions.marks parameter is an invalid object.'));return bz;}if(!F.getMarkById(aK.cc)){zw.SU(new Error('The burnOptions.marks parameter contains a mark not known to Viewer Control.'));return bz;}bz[aM].push(aK.L);if(aK.L.bj){for(var R=0,cv=aK.L.bj.length;R<cv;R++){if(aK.L.bj[R]instanceof IPCC.Web.UI.Mark){bz[aM].push(aK.L.bj[R]);}}}if(aK.cZ){for(var bM=0,aBo=aK.cZ.length;bM<aBo;bM++){bz[aM+1+bM].push(aK.cZ[bM]);if(aK.cZ[bM].bj){for(var du=0,aCJ=aK.cZ[bM].bj.length;du<aCJ;du++){if(aK.cZ[bM].bj[du]instanceof IPCC.Web.UI.Mark){bz[aM+1+bM].push(aK.cZ[bM].bj[du]);}}}}}return bz;},fw);Uq={El:fw,wP:true};}else{Uq={includeAnnotations:lu.burnAnnotations,includeRedactions:lu.burnRedactions,includeSignatures:lu.burnSignatures,wP:true};}function acX(){Wb(F,Uq,function(ct,aey){if(ct){setTimeout(function(){zw.SU(ct);},20);}else{zw.KU({bE:F.bE,bA:F.bA});zw.aqr(aey);setTimeout(function(){zw.Bn();},20);}});};function mp(){F.off(PCCViewer.EventType.PageCountReady,mp);acX();};if(this.nm===false){F.on(PCCViewer.EventType.PageCountReady,mp);}else{acX();}return zw;};ViewerControl.prototype.convertDocument=function(SZ){var wf,F=this,zU={targetExtension:'pdf',filename:'document'},bA={};rw.tc(bA,zU,SZ);bA.zg=1;wf=new PCCViewer.ConversionRequest(bA);function yG(){wf.KU({bE:F.bE,bA:F.bA});setTimeout(function(){wf.Bn(bA);},20);};function mp(){F.off(PCCViewer.EventType.PageCountReady,mp);yG();};if(this.nm===false){F.on(PCCViewer.EventType.PageCountReady,mp);}else{yG();}return wf;};ViewerControl.prototype.requestDocumentConversion=function(SZ){var wf,F=this,zU={targetExtension:'pdf',filename:'document'},bA={};rw.tc(bA,zU,SZ);bA.zg=2;wf=new PCCViewer.ConversionRequest(bA);function yG(){wf.KU({bE:F.bE,bA:F.bA});setTimeout(function(){wf.Bn(bA);},20);};function mp(){F.off(PCCViewer.EventType.PageCountReady,mp);yG();};if(this.nm===false){F.on(PCCViewer.EventType.PageCountReady,mp);}else{yG();}return wf;};ViewerControl.prototype.loadAttachments=function(){var ai=PCCViewer.Deferred();var cf=ai.getPromise();try{var R=0,JW=0;var Ac='';var ab=this.bA.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(this.bA.documentID)+'/Attachments';var aBa=function(ar){var ET=JSON.parse(ar.responseText);if(ET===null||ET.status!=='complete'){setTimeout(aks,500);return;}ai.resolve(ET.attachments||[]);};var eo=function(bC){ai.reject(new PCCViewer.Error("AttachmentListFail","Unable to retrieve attachment list from server."));};var aks=function(){PCCViewer.Ajax.et({method:'GET',url:ab}).then(aBa,eo);};aks();}catch(e){ai.reject(new PCCViewer.Error("Error",e.message));}return cf;};function rk(){return function(sender,eventArgs){var F=this;var h=F.cK[eventArgs.mark.get_markID()];if(F.sM){F.uH.addMarks(h);}setTimeout(function(){if(h){F.trigger('MarkCreated',{mark:h,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});}},0);};};function asj(bS){return{onCreating:function(aj,V){var h=new PCCViewer.Mark({type:bS.getType(),igMark:V.mark,pageNumber:V.pageIndex+1});this.cK[V.mark.get_markID()]=h;h.setThickness(bS.getThickness());h.setColor(bS.getColor());h.setOpacity(bS.getOpacity());h.setEndHeadType(bS.getEndHeadType());PCCViewer.Data.nX(bS,h);PCCViewer.Conversation.rf(bS.getConversation(),h.getConversation());},onAdded:rk()};};function aci(bS){return{onCreating:function(aj,V){var h=new PCCViewer.Mark({type:bS.getType(),igMark:V.mark,pageNumber:V.pageIndex+1});this.cK[V.mark.get_markID()]=h;h.setBorderThickness(bS.getBorderThickness());h.setFillColor(bS.getFillColor());h.setBorderColor(bS.getBorderColor());h.setOpacity(bS.getOpacity());PCCViewer.Data.nX(bS,h);PCCViewer.Conversation.rf(bS.getConversation(),h.getConversation());},onAdded:rk()};};function avr(bS){return{onCreating:function(aj,V){var h=new PCCViewer.Mark({type:bS.getType(),igMark:V.mark,pageNumber:V.pageIndex+1});this.cK[V.mark.get_markID()]=h;},onAdded:rk()};};function awo(bS){return{onCreating:function(aj,V){var h=new PCCViewer.Mark({type:bS.getType(),igMark:V.mark,pageNumber:V.pageIndex+1});this.cK[V.mark.get_markID()]=h;h.setReason(bS.getReason());h.setBorderThickness(bS.getBorderThickness());h.setFillColor(bS.getFillColor());h.setBorderColor(bS.getBorderColor());h.setFontColor(bS.getFontColor());PCCViewer.Data.nX(bS,h);PCCViewer.Conversation.rf(bS.getConversation(),h.getConversation());},onAdded:rk()};};function awp(bS){return{onCreating:function(aj,V){var h=new PCCViewer.Mark({type:bS.getType(),igMark:V.mark,pageNumber:V.pageIndex+1});this.cK[V.mark.get_markID()]=h;h.setBorderThickness(bS.getBorderThickness());h.setFillColor(bS.getFillColor());h.setBorderColor(bS.getBorderColor());h.setOpacity(bS.getOpacity());h.setFontName(bS.getFontName());h.setFontColor(bS.getFontColor());h.setFontSize(bS.getFontSize());h.setFontStyle(bS.getFontStyle());h.setHorizontalAlignment(bS.getHorizontalAlignment());PCCViewer.Data.nX(bS,h);PCCViewer.Conversation.rf(bS.getConversation(),h.getConversation());},onAdded:rk()};};function Wk(bS){return{onCreating:function(aj,V){var h=new PCCViewer.Mark({type:bS.getType(),igMark:V.mark,pageNumber:V.pageIndex+1});this.cK[V.mark.get_markID()]=h;h.setFontName(bS.getFontName());h.setFontColor(bS.getFontColor());h.setText(bS.getText());if(h.setFontSize){h.setFontSize(bS.getFontSize());}PCCViewer.Data.nX(bS,h);PCCViewer.Conversation.rf(bS.getConversation(),h.getConversation());},onAdded:rk()};};function awD(bS){return{onCreating:function(aj,V){var h=new PCCViewer.Mark({type:bS.getType(),igMark:V.mark,pageNumber:V.pageIndex+1});this.cK[V.mark.get_markID()]=h;if(bS.getType()===PCCViewer.MouseTool.Type.StampAnnotation){h.setColor(bS.getColor());}h.setLabel(bS.getLabel());PCCViewer.Data.nX(bS,h);PCCViewer.Conversation.rf(bS.getConversation(),h.getConversation());},onAdded:rk()};};var aIx;function Nf(bS){return{onCreating:function(aj,V){},onAdded:rk()};};function aDW(bS){return{onCreating:function(aj,V){var h=new PCCViewer.Mark({type:bS.getType(),igMark:V.mark,pageNumber:V.pageIndex+1});this.cK[V.mark.get_markID()]=h;h.setThickness(bS.getThickness());h.setColor(bS.getColor());h.setOpacity(bS.getOpacity());PCCViewer.Data.nX(bS,h);PCCViewer.Conversation.rf(bS.getConversation(),h.getConversation());},onAdded:rk()};};function adQ(bS){return{onCreating:function(aj,V){var h=new PCCViewer.Mark({type:bS.getType(),igMark:V.mark,pageNumber:V.pageIndex+1});this.cK[V.mark.get_markID()]=h;h.setImage(bS.getImage());PCCViewer.Data.nX(bS,h);PCCViewer.Conversation.rf(bS.getConversation(),h.getConversation());},onAdded:rk()};};function avR(bS){return{onCreating:function(aj,V){var h=new PCCViewer.Mark({type:bS.getType(),igMark:V.mark,pageNumber:V.pageIndex+1});this.cK[V.mark.get_markID()]=h;h.setThickness(bS.getThickness());h.setColor(bS.getColor());h.setOpacity(bS.getOpacity());PCCViewer.Data.nX(bS,h);PCCViewer.Conversation.rf(bS.getConversation(),h.getConversation());},onAdded:rk()};};ViewerControl.prototype.setMarkHandleMode=function(markHandleMode){var wq;switch(markHandleMode){case PCCViewer.MarkHandleMode.HideCornerHandlesWhenClose:wq=IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose;break;case PCCViewer.MarkHandleMode.HideSideHandlesWhenClose:wq=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;break;default:throw new RangeError("The value of markHandleMode is not a supported value.");}if(this.bv&&this.bv.set_markHandleMode){this.bv.set_markHandleMode(wq);}else{this.bA.markHandleMode=wq;}return this;};ViewerControl.prototype.getMarkHandleMode=function(){var wq;if(this.bv&&this.bv.get_markHandleMode){wq=this.bv.get_markHandleMode();}else{wq=this.bA.markHandleMode;}if(wq===IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose){return PCCViewer.MarkHandleMode.HideCornerHandlesWhenClose;}else{return PCCViewer.MarkHandleMode.HideSideHandlesWhenClose;}};ViewerControl.prototype.setConversationDOMFactory=function(factoryFunction){if(typeof(factoryFunction)!=='function'){throw new Error("The parameter factoryFunction is not a function.");}this.mi=factoryFunction;return this;};ViewerControl.prototype.getConversationDOMFactory=function(){return this.mi;};ViewerControl.prototype.refreshConversations=function(conversations){var Tq,aeh=(conversations===undefined);function akY(dq,bO){throw new Error(dq+((bO!==undefined)?' (Array index '+bO+')':'')+' is not a valid PCCViewer.Conversation object.');};function awF(dq,bO){throw new Error(dq+((bO!==undefined)?' (Array index '+bO+')':'')+' is not a known conversation in this ViewerControl.');};if(conversations instanceof PCCViewer.Conversation){Tq=[conversations];}else if(conversations instanceof Array){Tq=conversations;}else if(!aeh){akY(conversations);}var acD=IPCC.J.map(this.getAllMarks(),function(aK){return aK.getConversation();});var Yg=IPCC.J.map(Tq||acD,function(aK,R){if(!(aK instanceof PCCViewer.Conversation)){akY(aK,R);}if(!aeh&& !IPCC.J.inArray(acD,aK)){awF(aK,R);}return aK.getMark().cc;});this.bv.refreshConversations(Yg);return this;};ViewerControl.prototype.openCommentsPanel=function(){if(this.eR===false){throw new Error("The method openCommentsPanel is not available until 'ViewerReady' state is reached.");}if(this.getPageLayout()===PCCViewer.PageLayout.Horizontal){throw new Error("The page layout must be set to vertical to use the comments panel.");}this.bv.openCommentsPanel();var F=this;setTimeout(function(){F.trigger("CommentsPanelToggled",{isOpen:true});},10);return this;};ViewerControl.prototype.closeCommentsPanel=function(){if(this.eR===false){throw new Error("The method closeCommentsPanel is not available until 'ViewerReady' state is reached.");}this.bv.closeCommentsPanel();var F=this;setTimeout(function(){F.trigger("CommentsPanelToggled",{isOpen:false});},10);return this;};ViewerControl.prototype.getIsCommentsPanelOpen=function(){if(this.eR===false){throw new Error("The method getIsCommentsPanelOpen is not available until 'ViewerReady' state is reached.");}if(this.getPageLayout()===PCCViewer.PageLayout.Horizontal){return false;}return this.bv.get_isCommentsPanelOpen();};ViewerControl.prototype.setSelectedConversation=function(conversation){if(this.eR===false){throw new Error("The method setSelectedConversation is not available until 'ViewerReady' state is reached.");}if(conversation===null||conversation===undefined){this.bv.set_selectedConversation(undefined);return this;}if(!(conversation instanceof PCCViewer.Conversation)){throw new Error("The parameter conversation is not an instance of PCCViewer.Conversation.");}var ln=conversation.getMark();if(ln){var yF=ln.L.get_conversation();this.bv.set_selectedConversation(yF);}else{throw new Error("The conversation is unknown to the viewer control.");}return this;};ViewerControl.prototype.getSelectedConversation=function(){if(this.eR===false){return null;}var iv=this.bv.get_selectedConversation();if(iv){var ln=this.cK[iv.get_mark().get_markID()];if(ln){return ln.getConversation();}}return null;};ViewerControl.prototype.clearMouseSelectedText=function(textSelection){if(!textSelection){throw new Error('textSelection is a required parameter');}else if(typeof textSelection.startIndex!=='number'||textSelection.startIndex<0){throw new Error('Start index value '+textSelection.startIndex+' is not a valid value.');}else if(typeof textSelection.pageNumber!=='number'||textSelection.pageNumber<1||textSelection.pageNumber>this.getPageCount()){throw new Error('Page number value '+textSelection.pageNumber+' is not a valid value.');}else if(typeof textSelection.length!=='number'||textSelection.length<1){throw new Error('Length value '+textSelection.pageNumber+' is not a valid value.');}var F=this,Av=F.ap;function agz(aP,jg,dc){var Vf=[aP+1];var aC=F.cA.getPage(aP),ec=aC.dg();if(ec.mW()){var ak=ec.Cu(),aez=ak.substr(jg);if(aez.length>dc){return Vf;}else{return Vf.concat(agz(aP+1,0,dc-aez.length));}}else{return Vf;}};this.bv.tq();function Er(ST,aM){F.afQ(aM,ST);};if(Av&&Av.getResults().length){var da=agz(textSelection.pageNumber-1,textSelection.startIndex,textSelection.length),ey=Av.getResults(),ajx=false,Lg={};if(ey.length){IPCC.J.forEach(ey,function(aK){var awl=IPCC.J.contains(da,aK.aM);if(awl){ajx=true;Lg[aK.aM]=Lg[aK.aM]||[];Lg[aK.aM].push(aK);}});}if(ajx){IPCC.J.forEach(Lg,function(ST,aM){F.requestPageText(aM).then(Er.bind(null,ST,aM));});}}return this;};ViewerControl.prototype.convertPageToWindowCoordinates=function(pageNumber,points){if(this.eR===false){throw new Error("The method setSelectedConversation is not available until 'ViewerReady' state is reached.");}if(!pageNumber||typeof pageNumber!=='number'||pageNumber<1||pageNumber>this.getPageCount()){throw new PCCViewer.Error('InvalidArgument','pageNumber is not a known page number in the document');}var xN=function(n){return typeof n==='number'&& !isNaN(n);};var wo,adc=true;if(points&&points.constructor===Array){wo=points;}else{wo=[points];adc=false;}var afB=function(aG,bO,aJ){throw new PCCViewer.Error('InvalidArgument',aG+' (Array index '+bO+') does not have a valid '+aJ+' property');};if(wo.length===0|| !points){throw new PCCViewer.Error('InvalidArgument','At least one point is required');}IPCC.J.forEach(wo,function(aG,bO){if(!xN(aG.x)){afB(aG,bO,'x');}if(!xN(aG.y)){afB(aG,bO,'y');}});var BM=this.bv.aEx(pageNumber,wo);if(BM===null){return null;}else if(adc){return BM;}else{return BM[0];}};ViewerControl.prototype.selectEditorText=function(){if(this.eR===false){throw new Error("The method selectEditorText is not available until 'ViewerReady' state is reached.");}var F=this;var bv=F.bv;var XS=bv.CQ();if(!XS){throw new Error("The method selectEditorText is not available unless there is an active editor on the page.");}if(XS==='singleline'){bv.Fg();}else if(XS==='multiline'){throw new PCCViewer.Error('InvalidArgument','Only TextInputSignature Marks are supported at this time');}return F;};ViewerControl.prototype.setSharpening=function(amount){if(amount!==Math.floor(amount)||typeof amount!=='number'||amount<0||amount>100){throw new PCCViewer.Error('InvalidArgument','Amount must be an integer between 0 and 100 inclusive');}var F=this;F.ajm=amount;if(this.eR===false){this.sk.then(function(rs){var bv=F.bv;bv.EL(amount);});}else{var bv=F.bv;bv.EL(amount);}return F;};ViewerControl.prototype.getSharpening=function(){var F=this;if(this.eR===false){return F.ajm;}else{var bv=F.bv;return bv.auI();}};ViewerControl.prototype.setGamma=function(amount){if(typeof amount!=='number'||amount<0||amount>10){throw new PCCViewer.Error('InvalidArgument','Amount must be a number between 0 and 10 inclusive');}var F=this;F.aii=amount;if(this.eR===false){this.sk.then(function(rs){var bv=F.bv;bv.CE(amount);});}else{var bv=F.bv;bv.CE(amount);}return F;};ViewerControl.prototype.getGamma=function(){var F=this;if(this.eR===false){return F.aii;}else{var bv=F.bv;return bv.ato();}};ViewerControl.prototype.setSvgLineWidthMultiplier=function(amount){if(typeof amount!=='number'||amount<=0||amount>100){throw new PCCViewer.Error('InvalidArgument','Amount must be greater than 0 and not greater than 100.');}var F=this;F.mz=amount;if(this.eR===false){this.sk.then(function(rs){F.bv.Gk(amount);});}else{F.bv.Gk(amount);}return F;};ViewerControl.prototype.getSvgLineWidthMultiplier=function(){var F=this;if(this.eR===false){return F.mz;}else{var bv=F.bv;return bv.aub();}};if(Object.defineProperties){Object.defineProperties(ViewerControl.prototype,{"pageCount":{enumerable:true,get:function(){return this.getPageCount();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();},set:function(value){return this.setPageNumber(value);}},"searchRequest":{enumerable:true,get:function(){return this.ap;}},"selectedSearchResult":{enumerable:true,get:function(){return this.getSelectedSearchResult();},set:function(val){return this.setSelectedSearchResult(val,true);}},"currentMouseTool":{enumerable:true,get:function(){return this.getCurrentMouseTool();},set:function(value){return this.setCurrentMouseTool(value);}},"atMaxScale":{enumerable:true,get:ViewerControl.prototype.getAtMaxScale},"atMinScale":{enumerable:true,get:ViewerControl.prototype.getAtMinScale},"scaleFactor":{enumerable:true,get:function(){return this.getScaleFactor();},set:function(value){return this.setScaleFactor(value);}},"selectedMarks":{enumerable:true,get:ViewerControl.prototype.getSelectedMarks},"viewMode":{enumerable:true,get:function(){return this.getViewMode();},set:function(value){return this.setViewMode(value);}},"isCommentsPanelOpen":{enumerable:true,get:function(){return this.getIsCommentsPanelOpen();}},"selectedConversation":{enumerable:true,get:function(){return this.getSelectedConversation();},set:function(conversation){return this.setSelectedConversation(conversation);}},"redactionViewMode":{enumerable:true,get:function(){return this.getRedactionViewMode();},set:function(value){return this.setRedactionViewMode(value);}},"markHandleMode":{enumerable:true,get:function(){return this.getMarkHandleMode();},set:function(value){return this.setMarkHandleMode(value);}}});}module.exports=ViewerControl;},{"./../IPCC/IPCC":30,"./PCCViewer.EventEmitter":141,"./PCCViewer.Helper":144,"./PCCViewer.MarkDeserializer":148,"./PCCViewer.MarkSerializer":150,"./PCCViewer.Print":158}],170:[function(require,module,exports){var PCCViewer={ViewMode:require('./PCCViewer.ViewMode'),MarkHandleMode:require('./PCCViewer.MarkHandleMode'),RedactionViewMode:require('./PCCViewer.RedactionViewMode'),PageLayout:require('./PCCViewer.PageLayout'),EventType:require('./PCCViewer.EventType'),Event:require('./PCCViewer.Event'),ScaleTrigger:require('./PCCViewer.ScaleTrigger'),FitType:require('./PCCViewer.FitType'),Promise:require('./PCCViewer.Deferred').Promise,Deferred:require('./PCCViewer.Deferred').Deferred,EventEmitter:require('./PCCViewer.EventEmitter'),Util:require('./PCCViewer.Util'),ObservableCollection:require('./PCCViewer.ObservableCollection'),aCF:require('prizmdoc-input-mask'),Data:require('./PCCViewer.Data').Data,SessionData:require('./PCCViewer.Data').SessionData,Ajax:require('./PCCViewer.Ajax').Ajax,AjaxResponse:require('./PCCViewer.Ajax').AjaxResponse,Language:require('./PCCViewer.Language'),Error:require('./PCCViewer.Error'),ViewerControl:require('./PCCViewer.ViewerControl'),rw:require('./PCCViewer.Helper'),MouseTool:require('./PCCViewer.MouseTool').MouseTool,MouseTools:require('./PCCViewer.MouseTool').MouseTools,Conversation:require('./PCCViewer.Comments').Conversation,Comment:require('./PCCViewer.Comments').Comment,ImageStamps:require('./PCCViewer.ImageStamps'),DocumentHyperlink:require('./PCCViewer.DocumentHyperlink'),_Search:require('./PCCViewer.Search')._Search,SearchTask:require('./PCCViewer.Search').SearchTask,SearchRequest:require('./searchRequest'),SearchResult:require('./searchResult').SearchResult,Va:require('./PCCViewer.ServerSearch'),SearchTaskResult:require('./searchResult').SearchTaskResult,NM:require('./PCCViewer.ClientSearch'),FP:require('prizmdoc-search'),Signatures:require('./PCCViewer.Signature').Signatures,SignatureControl:require('./PCCViewer.Signature').SignatureControl,SignatureDisplay:require('./PCCViewer.Signature').SignatureDisplay,ThumbnailControl:require('./PCCViewer.ThumbnailControl'),Revision:require('./PCCViewer.Revision'),IJ:require('./PCCViewer.RevisionsRequest').IJ,RevisionsRequest:require('./PCCViewer.RevisionsRequest').RevisionsRequest,ConversionRequest:require('./PCCViewer.ConversionRequest'),BurnRequest:require('./PCCViewer.BurnRequest'),PrintRequest:require('./PCCViewer.Print').PrintRequest,PrintControl:require('./PCCViewer.Print').PrintControl,Mark:require('./PCCViewer.Marks'),MarkupLayer:require('./PCCViewer.MarkupLayer'),LoadMarkupLayersRequest:require('./PCCViewer.LoadMarkupLayersRequest'),MarkupLayerCollection:require('./PCCViewer.MarkupLayerCollection'),PasswordProtectedDocumentLoader:require('./PCCViewer.PasswordProtectedDocumentLoader'),};module.exports=PCCViewer;},{"./PCCViewer.Ajax":131,"./PCCViewer.BurnRequest":132,"./PCCViewer.ClientSearch":133,"./PCCViewer.Comments":134,"./PCCViewer.ConversionRequest":135,"./PCCViewer.Data":136,"./PCCViewer.Deferred":137,"./PCCViewer.DocumentHyperlink":138,"./PCCViewer.Error":139,"./PCCViewer.Event":140,"./PCCViewer.EventEmitter":141,"./PCCViewer.EventType":142,"./PCCViewer.FitType":143,"./PCCViewer.Helper":144,"./PCCViewer.ImageStamps":145,"./PCCViewer.Language":146,"./PCCViewer.LoadMarkupLayersRequest":147,"./PCCViewer.MarkHandleMode":149,"./PCCViewer.Marks":151,"./PCCViewer.MarkupLayer":152,"./PCCViewer.MarkupLayerCollection":153,"./PCCViewer.MouseTool":154,"./PCCViewer.ObservableCollection":155,"./PCCViewer.PageLayout":156,"./PCCViewer.PasswordProtectedDocumentLoader":157,"./PCCViewer.Print":158,"./PCCViewer.RedactionViewMode":159,"./PCCViewer.Revision":160,"./PCCViewer.RevisionsRequest":161,"./PCCViewer.ScaleTrigger":162,"./PCCViewer.Search":163,"./PCCViewer.ServerSearch":164,"./PCCViewer.Signature":165,"./PCCViewer.ThumbnailControl":166,"./PCCViewer.Util":167,"./PCCViewer.ViewMode":168,"./PCCViewer.ViewerControl":169,"./searchRequest":171,"./searchResult":172,"prizmdoc-input-mask":2,"prizmdoc-search":7}],171:[function(require,module,exports){var SearchRequest=function(ws){this.jZ={};this.ez={};this.ey=[];this.uZ=false;this.fv=null;this.cJ=null;this.Xw=[];if(Object.defineProperties){Object.defineProperties(this,{"searchQuery":{configurable: ! !ws,enumerable:true,get:function(){return this.ez;}},"results":{configurable: ! !ws,enumerable:true,get:function(){return this.ey;}},"isComplete":{configurable: ! !ws,enumerable:true,get:function(){return this.uZ;}},"errorCode":{configurable: ! !ws,enumerable:true,get:function(){return this.fv;}},"errorMessage":{configurable: ! !ws,enumerable:true,get:function(){return this.cJ;}}});}PCCViewer.EventEmitter.extend(this);};SearchRequest.prototype.getSearchQuery=function(){return this.ez;};SearchRequest.prototype.getResults=function(){return this.ey;};SearchRequest.prototype.getIsComplete=function(){return this.uZ;};SearchRequest.prototype.getErrorCode=function(){return this.fv;};SearchRequest.prototype.getErrorMessage=function(){return this.cJ;};SearchRequest.prototype.getPagesWithoutText=function(){return this.Xw;};SearchRequest.prototype.cancel=function(){this.qJ=true;this.trigger('SearchCancelled');};module.exports=SearchRequest;},{}],172:[function(require,module,exports){var SearchResult=function(){this.cc=0;this.aM=0;this.as=0;this.ak='';this.qH='';this.qn=0;this.cl='';this.xt=0;this.bo='';this.Hs='';this.nj=null;};SearchResult.prototype.getId=function(){return this.cc;};SearchResult.prototype.getPageNumber=function(){return this.aM;};SearchResult.prototype.getText=function(){return this.ak;};SearchResult.prototype.getHighlightColor=function(){return this.qH;};SearchResult.prototype.getStartIndexInPage=function(){return this.qn;};SearchResult.prototype.getContext=function(){return this.cl;};SearchResult.prototype.getStartIndexInContext=function(){return this.xt;};SearchResult.prototype.getSearchTerm=function(){return this.bo;};SearchResult.prototype.getBoundingRectangle=function(){return this.nj;};if(Object.defineProperties){Object.defineProperties(SearchResult.prototype,{"pageNumber":{enumerable:true,get:function(){return this.aM;}},"id":{enumerable:true,get:function(){return this.cc;}},"text":{enumerable:true,get:function(){return this.ak;}},"highlightColor":{enumerable:true,get:function(){return this.qH;}},"startIndexInPage":{enumerable:true,get:function(){return this.qn;}},"context":{enumerable:true,get:function(){return this.cl;}},"startIndexInContext":{enumerable:true,get:function(){return this.xt;}},"searchTerm":{enumerable:true,get:function(){return this.bo;}},"boundingRectangle":{enumerable:true,get:function(){return this.getBoundingRectangle();}}});}var SearchTaskResult=function(){this.cc=0;this.as=0;this.ak='';this.qH='';this.qn=0;this.cl='';this.xt=0;this.bo='';};SearchTaskResult.prototype.getId=function(){return this.cc;};SearchTaskResult.prototype.getText=function(){return this.ak;};SearchTaskResult.prototype.getHighlightColor=function(){return this.qH;};SearchTaskResult.prototype.getStartIndexInInput=function(){return this.qn;};SearchTaskResult.prototype.getContext=function(){return this.cl;};SearchTaskResult.prototype.getStartIndexInContext=function(){return this.xt;};SearchTaskResult.prototype.getSearchTerm=function(){return this.bo;};if(Object.defineProperties){Object.defineProperties(SearchTaskResult.prototype,{"id":{enumerable:true,get:function(){return this.cc;}},"text":{enumerable:true,get:function(){return this.ak;}},"highlightColor":{enumerable:true,get:function(){return this.qH;}},"startIndexInInput":{enumerable:true,get:function(){return this.qn;}},"context":{enumerable:true,get:function(){return this.cl;}},"startIndexInContext":{enumerable:true,get:function(){return this.xt;}},"searchTerm":{enumerable:true,get:function(){return this.bo;}}});}module.exports={SearchTaskResult:SearchTaskResult,SearchResult:SearchResult};},{}],173:[function(require,module,exports){if(typeof window==='undefined'){throw new Error('The viewer-core module can only be used in a browser environment (where a window object exists).');}require('./../css/viewercontrol.css');var IPCC=require('./IPCC/IPCC');var PCCViewer=require('./PCCViewer/PCCViewer');window.IPCC=IPCC;window.PCCViewer=PCCViewer;module.exports=PCCViewer;},{"./../css/viewercontrol.css":11,"./IPCC/IPCC":30,"./PCCViewer/PCCViewer":170}]},{},[173])(173)}); 